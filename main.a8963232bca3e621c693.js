var gse=Object.defineProperty,mse=Object.defineProperties,vse=Object.getOwnPropertyDescriptors,yq=Object.getOwnPropertySymbols,yse=Object.prototype.hasOwnProperty,_se=Object.prototype.propertyIsEnumerable,_q=(Qt,Ot,Yt)=>Ot in Qt?gse(Qt,Ot,{enumerable:!0,configurable:!0,writable:!0,value:Yt}):Qt[Ot]=Yt,hn=(Qt,Ot)=>{for(var Yt in Ot||(Ot={}))yse.call(Ot,Yt)&&_q(Qt,Yt,Ot[Yt]);if(yq)for(var Yt of yq(Ot))_se.call(Ot,Yt)&&_q(Qt,Yt,Ot[Yt]);return Qt},xS=(Qt,Ot)=>mse(Qt,vse(Ot));(self.webpackChunksap_calculator=self.webpackChunksap_calculator||[]).push([[179],{255:Qt=>{function Ot(Yt){return Promise.resolve().then(()=>{var Jn=new Error("Cannot find module '"+Yt+"'");throw Jn.code="MODULE_NOT_FOUND",Jn})}Ot.keys=()=>[],Ot.resolve=Ot,Ot.id=255,Qt.exports=Ot},815:function(Qt,Ot,Yt){var Jn;Qt=Yt.nmd(Qt),function(){var M,Vi="Expected a function",sl="__lodash_hash_undefined__",ta="__lodash_placeholder__",aa=1/0,Ar=9007199254740991,ys=4294967295,MS=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Za="[object Arguments]",ol="[object Array]",Xa="[object Boolean]",ll="[object Date]",eo="[object Error]",Oc="[object Function]",Vg="[object GeneratorFunction]",Zn="[object Map]",cl="[object Number]",Rn="[object Object]",OS="[object Promise]",Lc="[object RegExp]",Yi="[object Set]",oa="[object String]",Bc="[object Symbol]",$c="[object WeakMap]",to="[object ArrayBuffer]",Pr="[object DataView]",Vc="[object Float32Array]",Zh="[object Float64Array]",Xh="[object Int8Array]",ed="[object Int16Array]",td="[object Int32Array]",id="[object Uint8Array]",Fg="[object Uint8ClampedArray]",nd="[object Uint16Array]",sd="[object Uint32Array]",NS=/\b__p \+= '';/g,LS=/\b(__p \+=) '' \+/g,BS=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ct=/&(?:amp|lt|gt|quot|#39);/g,Hc=/[&<>"']/g,Ue=RegExp(ct.source),rd=RegExp(Hc.source),$S=/<%-([\s\S]+?)%>/g,kt=/<%([\s\S]+?)%>/g,_e=/<%=([\s\S]+?)%>/g,qg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,OR=/^\w*$/,Dr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ug=/[\\^$.*+?()[\]{}|]/g,ad=RegExp(Ug.source),Re=/^\s+/,Hi=/\s/,VS=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,RR=/\{\n\/\* \[wrapped with (.+)\] \*/,NR=/,? & /,Fc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pn=/[()=,{}\[\]\/\s]/,LR=/\\(\\)?/g,HS=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,FS=/\w*$/,Xs=/^[-+]0x[0-9a-f]+$/i,BR=/^0b[01]+$/i,$R=/^\[object .+?Constructor\]$/,VR=/^0o[0-7]+$/i,HR=/^(?:0|[1-9]\d*)$/,qS=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,od=/($^)/,US=/['\n\r\u2028\u2029\\]/g,ld="\\ud800-\\udfff",GS="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",jS="\\u2700-\\u27bf",he="a-z\\xdf-\\xf6\\xf8-\\xff",jg="A-Z\\xc0-\\xd6\\xd8-\\xde",Wg="\\ufe0e\\ufe0f",cd="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ud="["+ld+"]",hd="["+cd+"]",qc="["+GS+"]",Ee="\\d+",dd="["+jS+"]",zg="["+he+"]",tr="[^"+ld+cd+Ee+jS+he+jg+"]",Uc="\\ud83c[\\udffb-\\udfff]",ir="[^"+ld+"]",Ji="(?:\\ud83c[\\udde6-\\uddff]){2}",Kg="[\\ud800-\\udbff][\\udc00-\\udfff]",ul="["+jg+"]",Qg="(?:"+zg+"|"+tr+")",WS="(?:"+ul+"|"+tr+")",Yg="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",zS="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",ht="(?:"+qc+"|"+Uc+")?",KS="["+Wg+"]?",hl=KS+ht+"(?:\\u200d(?:"+[ir,Ji,Kg].join("|")+")"+KS+ht+")*",fd="(?:"+[dd,Ji,Kg].join("|")+")"+hl,pd="(?:"+[ir+qc+"?",qc,Ji,Kg,ud].join("|")+")",Jg=RegExp("['\u2019]","g"),QS=RegExp(qc,"g"),Xn=RegExp(Uc+"(?="+Uc+")|"+pd+hl,"g"),dl=RegExp([ul+"?"+zg+"+"+Yg+"(?="+[hd,ul,"$"].join("|")+")",WS+"+"+zS+"(?="+[hd,ul+Qg,"$"].join("|")+")",ul+"?"+Qg+"+"+Yg,ul+"+"+zS,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ee,fd].join("|"),"g"),YS=RegExp("[\\u200d"+ld+GS+Wg+"]"),Nn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,JS=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Zg=-1,Dt={};Dt[Vc]=Dt[Zh]=Dt[Xh]=Dt[ed]=Dt[td]=Dt[id]=Dt[Fg]=Dt[nd]=Dt[sd]=!0,Dt[Za]=Dt[ol]=Dt[to]=Dt[Xa]=Dt[Pr]=Dt[ll]=Dt[eo]=Dt[Oc]=Dt[Zn]=Dt[cl]=Dt[Rn]=Dt[Lc]=Dt[Yi]=Dt[oa]=Dt[$c]=!1;var At={};At[Za]=At[ol]=At[to]=At[Pr]=At[Xa]=At[ll]=At[Vc]=At[Zh]=At[Xh]=At[ed]=At[td]=At[Zn]=At[cl]=At[Rn]=At[Lc]=At[Yi]=At[oa]=At[Bc]=At[id]=At[Fg]=At[nd]=At[sd]=!0,At[eo]=At[Oc]=At[$c]=!1;var fe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zi=parseFloat,Di=parseInt,nr="object"==typeof global&&global&&global.Object===Object&&global,la="object"==typeof self&&self&&self.Object===Object&&self,bt=nr||la||Function("return this")(),em=Ot&&!Ot.nodeType&&Ot,Ti=em&&Qt&&!Qt.nodeType&&Qt,ae=Ti&&Ti.exports===em,Ge=ae&&nr.process,nt=function(){try{return Ti&&Ti.require&&Ti.require("util").types||Ge&&Ge.binding&&Ge.binding("util")}catch(q){}}(),Xi=nt&&nt.isArrayBuffer,Tr=nt&&nt.isDate,li=nt&&nt.isMap,xr=nt&&nt.isRegExp,qt=nt&&nt.isSet,so=nt&&nt.isTypedArray;function pi(N,q,V){switch(V.length){case 0:return N.call(q);case 1:return N.call(q,V[0]);case 2:return N.call(q,V[0],V[1]);case 3:return N.call(q,V[0],V[1],V[2])}return N.apply(q,V)}function Fe(N,q,V,ce){for(var Ne=-1,dt=null==N?0:N.length;++Ne<dt;){var Xt=N[Ne];q(ce,Xt,V(Xt),N)}return ce}function Fi(N,q){for(var V=-1,ce=null==N?0:N.length;++V<ce&&!1!==q(N[V],V,N););return N}function ro(N,q){for(var V=null==N?0:N.length;V--&&!1!==q(N[V],V,N););return N}function Gc(N,q){for(var V=-1,ce=null==N?0:N.length;++V<ce;)if(!q(N[V],V,N))return!1;return!0}function mn(N,q){for(var V=-1,ce=null==N?0:N.length,Ne=0,dt=[];++V<ce;){var Xt=N[V];q(Xt,V,N)&&(dt[Ne++]=Xt)}return dt}function gi(N,q){return!(null==N||!N.length)&&Zt(N,q,0)>-1}function ca(N,q,V){for(var ce=-1,Ne=null==N?0:N.length;++ce<Ne;)if(V(q,N[ce]))return!0;return!1}function mt(N,q){for(var V=-1,ce=null==N?0:N.length,Ne=Array(ce);++V<ce;)Ne[V]=q(N[V],V,N);return Ne}function mi(N,q){for(var V=-1,ce=q.length,Ne=N.length;++V<ce;)N[Ne+V]=q[V];return N}function St(N,q,V,ce){var Ne=-1,dt=null==N?0:N.length;for(ce&&dt&&(V=N[++Ne]);++Ne<dt;)V=q(V,N[Ne],Ne,N);return V}function XS(N,q,V,ce){var Ne=null==N?0:N.length;for(ce&&Ne&&(V=N[--Ne]);Ne--;)V=q(V,N[Ne],Ne,N);return V}function gd(N,q){for(var V=-1,ce=null==N?0:N.length;++V<ce;)if(q(N[V],V,N))return!0;return!1}var jc=gl("length");function pl(N,q,V){var ce;return V(N,function(Ne,dt,Xt){if(q(Ne,dt,Xt))return ce=dt,!1}),ce}function _s(N,q,V,ce){for(var Ne=N.length,dt=V+(ce?1:-1);ce?dt--:++dt<Ne;)if(q(N[dt],dt,N))return dt;return-1}function Zt(N,q,V){return q==q?function(N,q,V){for(var ce=V-1,Ne=N.length;++ce<Ne;)if(N[ce]===q)return ce;return-1}(N,q,V):_s(N,es,V)}function ew(N,q,V,ce){for(var Ne=V-1,dt=N.length;++Ne<dt;)if(ce(N[Ne],q))return Ne;return-1}function es(N){return N!=N}function Ln(N,q){var V=null==N?0:N.length;return V?vd(N,q)/V:NaN}function gl(N){return function(q){return null==q?M:q[N]}}function ao(N){return function(q){return null==N?M:N[q]}}function ml(N,q,V,ce,Ne){return Ne(N,function(dt,Xt,xt){V=ce?(ce=!1,dt):q(V,dt,Xt,xt)}),V}function vd(N,q){for(var V,ce=-1,Ne=N.length;++ce<Ne;){var dt=q(N[ce]);dt!==M&&(V=V===M?dt:V+dt)}return V}function tm(N,q){for(var V=-1,ce=Array(N);++V<N;)ce[V]=q(V);return ce}function im(N){return N&&N.slice(0,bd(N)+1).replace(Re,"")}function Bn(N){return function(q){return N(q)}}function nm(N,q){return mt(q,function(V){return N[V]})}function Wc(N,q){return N.has(q)}function iw(N,q){for(var V=-1,ce=N.length;++V<ce&&Zt(q,N[V],0)>-1;);return V}function nw(N,q){for(var V=N.length;V--&&Zt(q,N[V],0)>-1;);return V}function jR(N,q){for(var V=N.length,ce=0;V--;)N[V]===q&&++ce;return ce}var WR=ao({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),zR=ao({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function KR(N){return"\\"+fe[N]}function vl(N){return YS.test(N)}function sm(N){var q=-1,V=Array(N.size);return N.forEach(function(ce,Ne){V[++q]=[Ne,ce]}),V}function yd(N,q){return function(V){return N(q(V))}}function bs(N,q){for(var V=-1,ce=N.length,Ne=0,dt=[];++V<ce;){var Xt=N[V];(Xt===q||Xt===ta)&&(N[V]=ta,dt[Ne++]=V)}return dt}function _d(N){var q=-1,V=Array(N.size);return N.forEach(function(ce){V[++q]=ce}),V}function ha(N){return vl(N)?function(N){for(var q=Xn.lastIndex=0;Xn.test(N);)++q;return q}(N):jc(N)}function Tt(N){return vl(N)?function(N){return N.match(Xn)||[]}(N):function(N){return N.split("")}(N)}function bd(N){for(var q=N.length;q--&&Hi.test(N.charAt(q)););return q}var sw=ao({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),oo=function N(q){var c,V=(q=null==q?bt:oo.defaults(bt.Object(),q,oo.pick(bt,JS))).Array,ce=q.Date,Ne=q.Error,dt=q.Function,Xt=q.Math,xt=q.Object,Lt=q.RegExp,eN=q.String,vn=q.TypeError,zc=V.prototype,lo=xt.prototype,Sd=q["__core-js_shared__"],da=dt.prototype.toString,qe=lo.hasOwnProperty,ow=0,Kc=(c=/[^.]+$/.exec(Sd&&Sd.keys&&Sd.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",sr=lo.toString,yn=da.call(xt),om=bt._,wd=Lt("^"+da.call(qe).replace(Ug,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qc=ae?q.Buffer:M,qi=q.Symbol,yl=q.Uint8Array,Yc=Qc?Qc.allocUnsafe:M,De=yd(xt.getPrototypeOf,xt),lw=xt.create,lm=lo.propertyIsEnumerable,Jc=zc.splice,cm=qi?qi.isConcatSpreadable:M,co=qi?qi.iterator:M,fa=qi?qi.toStringTag:M,Zc=function(){try{var c=Oa(xt,"defineProperty");return c({},"",{}),c}catch(u){}}(),K=q.clearTimeout!==bt.clearTimeout&&q.clearTimeout,ot=ce&&ce.now!==bt.Date.now&&ce.now,Bt=q.setTimeout!==bt.setTimeout&&q.setTimeout,Kt=Xt.ceil,_l=Xt.floor,pa=xt.getOwnPropertySymbols,Ss=Qc?Qc.isBuffer:M,Xc=q.isFinite,Ed=zc.join,tN=yd(xt.keys,xt),ci=Xt.max,ui=Xt.min,eu=ce.now,Ui=q.parseInt,is=Xt.random,um=zc.reverse,Mr=Oa(q,"DataView"),_n=Oa(q,"Map"),kd=Oa(q,"Promise"),ga=Oa(q,"Set"),bl=Oa(q,"WeakMap"),Sl=Oa(xt,"create"),uo=bl&&new bl,Ir={},hm=Br(Mr),Cd=Br(_n),cw=Br(kd),dm=Br(ga),tu=Br(bl),wl=qi?qi.prototype:M,ho=wl?wl.valueOf:M,Ad=wl?wl.toString:M;function C(c){if(Wt(c)&&!Se(c)&&!(c instanceof Ae)){if(c instanceof $n)return c;if(qe.call(c,"__wrapped__"))return cf(c)}return new $n(c)}var rr=function(){function c(){}return function(u){if(!jt(u))return{};if(lw)return lw(u);c.prototype=u;var d=new c;return c.prototype=M,d}}();function iu(){}function $n(c,u){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=M}function Ae(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ys,this.__views__=[]}function ma(c){var u=-1,d=null==c?0:c.length;for(this.clear();++u<d;){var v=c[u];this.set(v[0],v[1])}}function Vn(c){var u=-1,d=null==c?0:c.length;for(this.clear();++u<d;){var v=c[u];this.set(v[0],v[1])}}function bn(c){var u=-1,d=null==c?0:c.length;for(this.clear();++u<d;){var v=c[u];this.set(v[0],v[1])}}function va(c){var u=-1,d=null==c?0:c.length;for(this.__data__=new bn;++u<d;)this.add(c[u])}function en(c){var u=this.__data__=new Vn(c);this.size=u.size}function ya(c,u){var d=Se(c),v=!d&&Ps(c),E=!d&&!v&&Ds(c),P=!d&&!v&&!E&&Wl(c),x=d||v||E||P,I=x?tm(c.length,eN):[],B=I.length;for(var j in c)(u||qe.call(c,j))&&(!x||!("length"==j||E&&("offset"==j||"parent"==j)||P&&("buffer"==j||"byteLength"==j||"byteOffset"==j)||rs(j,B)))&&I.push(j);return I}function vm(c){var u=c.length;return u?c[$d(0,u-1)]:M}function fo(c,u){return ku(vi(c),ar(u,0,c.length))}function Id(c){return ku(vi(c))}function po(c,u,d){(d!==M&&!be(c[u],d)||d===M&&!(u in c))&&Sn(c,u,d)}function au(c,u,d){var v=c[u];(!qe.call(c,u)||!be(v,d)||d===M&&!(u in c))&&Sn(c,u,d)}function kl(c,u){for(var d=c.length;d--;)if(be(c[d][0],u))return d;return-1}function ym(c,u,d,v){return or(c,function(E,P,x){u(v,E,d(E),x)}),v}function _m(c,u){return c&&hi(u,Ei(u),c)}function Sn(c,u,d){"__proto__"==u&&Zc?Zc(c,u,{configurable:!0,enumerable:!0,value:d,writable:!0}):c[u]=d}function Cl(c,u){for(var d=-1,v=u.length,E=V(v),P=null==c;++d<v;)E[d]=P?M:Ql(c,u[d]);return E}function ar(c,u,d){return c==c&&(d!==M&&(c=c<=d?c:d),u!==M&&(c=c>=u?c:u)),c}function Gi(c,u,d,v,E,P){var x,I=1&u,B=2&u,j=4&u;if(d&&(x=E?d(c,v,E,P):d(c)),x!==M)return x;if(!jt(c))return c;var W=Se(c);if(W){if(x=function(c){var u=c.length,d=new c.constructor(u);return u&&"string"==typeof c[0]&&qe.call(c,"index")&&(d.index=c.index,d.input=c.input),d}(c),!I)return vi(c,x)}else{var Q=wi(c),te=Q==Oc||Q==Vg;if(Ds(c))return Im(c,I);if(Q==Rn||Q==Za||te&&!E){if(x=B||te?{}:Su(c),!I)return B?function(c,u){return hi(c,Um(c),u)}(c,function(c,u){return c&&hi(u,zi(u),c)}(x,c)):function(c,u){return hi(c,Nl(c),u)}(c,_m(x,c))}else{if(!At[Q])return E?c:{};x=function(c,u,d){var v=c.constructor;switch(u){case to:return F(c);case Xa:case ll:return new v(+c);case Pr:return function(c,u){var d=u?F(c.buffer):c.buffer;return new c.constructor(d,c.byteOffset,c.byteLength)}(c,d);case Vc:case Zh:case Xh:case ed:case td:case id:case Fg:case nd:case sd:return So(c,d);case Zn:return new v;case cl:case oa:return new v(c);case Lc:return function(c){var u=new c.constructor(c.source,FS.exec(c));return u.lastIndex=c.lastIndex,u}(c);case Yi:return new v;case Bc:return function(c){return ho?xt(ho.call(c)):{}}(c)}}(c,Q,I)}}P||(P=new en);var pe=P.get(c);if(pe)return pe;P.set(c,x),IE(c)?c.forEach(function(Te){x.add(Gi(Te,u,d,Te,c,P))}):DE(c)&&c.forEach(function(Te,Ke){x.set(Ke,Gi(Te,u,d,Ke,c,P))});var ze=W?M:(j?B?Yd:Qd:B?zi:Ei)(c);return Fi(ze||c,function(Te,Ke){ze&&(Te=c[Ke=Te]),au(x,Ke,Gi(Te,u,d,Ke,c,P))}),x}function bm(c,u,d){var v=d.length;if(null==c)return!v;for(c=xt(c);v--;){var E=d[v],x=c[E];if(x===M&&!(E in c)||!(0,u[E])(x))return!1}return!0}function Od(c,u,d){if("function"!=typeof c)throw new vn(Vi);return ko(function(){c.apply(M,d)},u)}function go(c,u,d,v){var E=-1,P=gi,x=!0,I=c.length,B=[],j=u.length;if(!I)return B;d&&(u=mt(u,Bn(d))),v?(P=ca,x=!1):u.length>=200&&(P=Wc,x=!1,u=new va(u));e:for(;++E<I;){var W=c[E],Q=null==d?W:d(W);if(W=v||0!==W?W:0,x&&Q==Q){for(var te=j;te--;)if(u[te]===Q)continue e;B.push(W)}else P(u,Q,v)||B.push(W)}return B}C.templateSettings={escape:$S,evaluate:kt,interpolate:_e,variable:"",imports:{_:C}},(C.prototype=iu.prototype).constructor=C,($n.prototype=rr(iu.prototype)).constructor=$n,(Ae.prototype=rr(iu.prototype)).constructor=Ae,ma.prototype.clear=function(){this.__data__=Sl?Sl(null):{},this.size=0},ma.prototype.delete=function(c){var u=this.has(c)&&delete this.__data__[c];return this.size-=u?1:0,u},ma.prototype.get=function(c){var u=this.__data__;if(Sl){var d=u[c];return d===sl?M:d}return qe.call(u,c)?u[c]:M},ma.prototype.has=function(c){var u=this.__data__;return Sl?u[c]!==M:qe.call(u,c)},ma.prototype.set=function(c,u){var d=this.__data__;return this.size+=this.has(c)?0:1,d[c]=Sl&&u===M?sl:u,this},Vn.prototype.clear=function(){this.__data__=[],this.size=0},Vn.prototype.delete=function(c){var u=this.__data__,d=kl(u,c);return!(d<0||(d==u.length-1?u.pop():Jc.call(u,d,1),--this.size,0))},Vn.prototype.get=function(c){var u=this.__data__,d=kl(u,c);return d<0?M:u[d][1]},Vn.prototype.has=function(c){return kl(this.__data__,c)>-1},Vn.prototype.set=function(c,u){var d=this.__data__,v=kl(d,c);return v<0?(++this.size,d.push([c,u])):d[v][1]=u,this},bn.prototype.clear=function(){this.size=0,this.__data__={hash:new ma,map:new(_n||Vn),string:new ma}},bn.prototype.delete=function(c){var u=Rl(this,c).delete(c);return this.size-=u?1:0,u},bn.prototype.get=function(c){return Rl(this,c).get(c)},bn.prototype.has=function(c){return Rl(this,c).has(c)},bn.prototype.set=function(c,u){var d=Rl(this,c),v=d.size;return d.set(c,u),this.size+=d.size==v?0:1,this},va.prototype.add=va.prototype.push=function(c){return this.__data__.set(c,sl),this},va.prototype.has=function(c){return this.__data__.has(c)},en.prototype.clear=function(){this.__data__=new Vn,this.size=0},en.prototype.delete=function(c){var u=this.__data__,d=u.delete(c);return this.size=u.size,d},en.prototype.get=function(c){return this.__data__.get(c)},en.prototype.has=function(c){return this.__data__.has(c)},en.prototype.set=function(c,u){var d=this.__data__;if(d instanceof Vn){var v=d.__data__;if(!_n||v.length<199)return v.push([c,u]),this.size=++d.size,this;d=this.__data__=new bn(v)}return d.set(c,u),this.size=d.size,this};var or=mu(ji),Rd=mu(tn,!0);function yw(c,u){var d=!0;return or(c,function(v,E,P){return d=!!u(v,E,P)}),d}function lu(c,u,d){for(var v=-1,E=c.length;++v<E;){var P=c[v],x=u(P);if(null!=x&&(I===M?x==x&&!jn(x):d(x,I)))var I=x,B=P}return B}function mo(c,u){var d=[];return or(c,function(v,E,P){u(v,E,P)&&d.push(v)}),d}function Si(c,u,d,v,E){var P=-1,x=c.length;for(d||(d=Eo),E||(E=[]);++P<x;){var I=c[P];u>0&&d(I)?u>1?Si(I,u-1,d,v,E):mi(E,I):v||(E[E.length]=I)}return E}var uu=xl(),Nd=xl(!0);function ji(c,u){return c&&uu(c,u,Ei)}function tn(c,u){return c&&Nd(c,u,Ei)}function vo(c,u){return mn(u,function(d){return Gn(c[d])})}function lr(c,u){for(var d=0,v=(u=Pa(u,c)).length;null!=c&&d<v;)c=c[as(u[d++])];return d&&d==v?c:M}function _a(c,u,d){var v=u(c);return Se(c)?v:mi(v,d(c))}function si(c){return null==c?c===M?"[object Undefined]":"[object Null]":fa&&fa in xt(c)?function(c){var u=qe.call(c,fa),d=c[fa];try{c[fa]=M;var v=!0}catch(P){}var E=sr.call(c);return v&&(u?c[fa]=d:delete c[fa]),E}(c):function(c){return sr.call(c)}(c)}function Nr(c,u){return c>u}function Al(c,u){return null!=c&&qe.call(c,u)}function Ld(c,u){return null!=c&&u in xt(c)}function Sm(c,u,d){for(var v=d?ca:gi,E=c[0].length,P=c.length,x=P,I=V(P),B=1/0,j=[];x--;){var W=c[x];x&&u&&(W=mt(W,Bn(u))),B=ui(W.length,B),I[x]=!d&&(u||E>=120&&W.length>=120)?new va(x&&W):M}W=c[0];var Q=-1,te=I[0];e:for(;++Q<E&&j.length<B;){var pe=W[Q],Pe=u?u(pe):pe;if(pe=d||0!==pe?pe:0,!(te?Wc(te,Pe):v(j,Pe,d))){for(x=P;--x;){var ze=I[x];if(!(ze?Wc(ze,Pe):v(c[x],Pe,d)))continue e}te&&te.push(Pe),j.push(pe)}}return j}function Pl(c,u,d){var v=null==(c=Jm(c,u=Pa(u,c)))?c:c[as(kn(u))];return null==v?M:pi(v,c,d)}function _w(c){return Wt(c)&&si(c)==Za}function hu(c,u,d,v,E){return c===u||(null==c||null==u||!Wt(c)&&!Wt(u)?c!=c&&u!=u:function(c,u,d,v,E,P){var x=Se(c),I=Se(u),B=x?ol:wi(c),j=I?ol:wi(u),W=(B=B==Za?Rn:B)==Rn,Q=(j=j==Za?Rn:j)==Rn,te=B==j;if(te&&Ds(c)){if(!Ds(u))return!1;x=!0,W=!1}if(te&&!W)return P||(P=new en),x||Wl(c)?Kd(c,u,d,v,E,P):function(c,u,d,v,E,P,x){switch(d){case Pr:if(c.byteLength!=u.byteLength||c.byteOffset!=u.byteOffset)return!1;c=c.buffer,u=u.buffer;case to:return!(c.byteLength!=u.byteLength||!P(new yl(c),new yl(u)));case Xa:case ll:case cl:return be(+c,+u);case eo:return c.name==u.name&&c.message==u.message;case Lc:case oa:return c==u+"";case Zn:var I=sm;case Yi:if(I||(I=_d),c.size!=u.size&&!(1&v))return!1;var j=x.get(c);if(j)return j==u;v|=2,x.set(c,u);var W=Kd(I(c),I(u),v,E,P,x);return x.delete(c),W;case Bc:if(ho)return ho.call(c)==ho.call(u)}return!1}(c,u,B,d,v,E,P);if(!(1&d)){var pe=W&&qe.call(c,"__wrapped__"),Pe=Q&&qe.call(u,"__wrapped__");if(pe||Pe){var ze=pe?c.value():c,Te=Pe?u.value():u;return P||(P=new en),E(ze,Te,d,v,P)}}return!!te&&(P||(P=new en),function(c,u,d,v,E,P){var x=1&d,I=Qd(c),B=I.length;if(B!=Qd(u).length&&!x)return!1;for(var Q=B;Q--;){var te=I[Q];if(!(x?te in u:qe.call(u,te)))return!1}var pe=P.get(c),Pe=P.get(u);if(pe&&Pe)return pe==u&&Pe==c;var ze=!0;P.set(c,u),P.set(u,c);for(var Te=x;++Q<B;){var Ke=c[te=I[Q]],st=u[te];if(v)var an=x?v(st,Ke,te,u,c,P):v(Ke,st,te,c,u,P);if(!(an===M?Ke===st||E(Ke,st,d,v,P):an)){ze=!1;break}Te||(Te="constructor"==te)}if(ze&&!Te){var Oi=c.constructor,Wn=u.constructor;Oi!=Wn&&"constructor"in c&&"constructor"in u&&!("function"==typeof Oi&&Oi instanceof Oi&&"function"==typeof Wn&&Wn instanceof Wn)&&(ze=!1)}return P.delete(c),P.delete(u),ze}(c,u,d,v,E,P))}(c,u,d,v,hu,E))}function Em(c,u,d,v){var E=d.length,P=E,x=!v;if(null==c)return!P;for(c=xt(c);E--;){var I=d[E];if(x&&I[2]?I[1]!==c[I[0]]:!(I[0]in c))return!1}for(;++E<P;){var B=(I=d[E])[0],j=c[B],W=I[1];if(x&&I[2]){if(j===M&&!(B in c))return!1}else{var Q=new en;if(v)var te=v(j,W,B,c,u,Q);if(!(te===M?hu(W,j,3,v,Q):te))return!1}}return!0}function Sw(c){return!(!jt(c)||function(c){return!!Kc&&Kc in c}(c))&&(Gn(c)?wd:$R).test(Br(c))}function ww(c){return"function"==typeof c?c:null==c?Ki:"object"==typeof c?Se(c)?du(c[0],c[1]):ri(c):Va(c)}function km(c){if(!Bl(c))return tN(c);var u=[];for(var d in xt(c))qe.call(c,d)&&"constructor"!=d&&u.push(d);return u}function Sa(c,u){return c<u}function Ew(c,u){var d=-1,v=sn(c)?V(c.length):[];return or(c,function(E,P,x){v[++d]=u(E,P,x)}),v}function ri(c){var u=Jd(c);return 1==u.length&&u[0][2]?zm(u[0][0],u[0][1]):function(d){return d===c||Em(d,c,u)}}function du(c,u){return tf(c)&&Wm(u)?zm(as(c),u):function(d){var v=Ql(d,c);return v===M&&v===u?Lu(d,c):hu(u,v,3)}}function wa(c,u,d,v,E){c!==u&&uu(u,function(P,x){if(E||(E=new en),jt(P))!function(c,u,d,v,E,P,x){var I=wu(c,d),B=wu(u,d),j=x.get(B);if(j)po(c,d,j);else{var W=P?P(I,B,d+"",c,u,x):M,Q=W===M;if(Q){var te=Se(B),pe=!te&&Ds(B),Pe=!te&&!pe&&Wl(B);W=B,te||pe||Pe?Se(I)?W=I:Gt(I)?W=vi(I):pe?(Q=!1,W=Im(B,!0)):Pe?(Q=!1,W=So(B,!0)):W=[]:Nu(B)||Ps(B)?(W=I,Ps(I)?W=Bv(I):(!jt(I)||Gn(I))&&(W=Su(B))):Q=!1}Q&&(x.set(B,W),E(W,B,v,P,x),x.delete(B)),po(c,d,W)}}(c,u,x,d,wa,v,E);else{var I=v?v(wu(c,x),P,x+"",c,u,E):M;I===M&&(I=P),po(c,x,I)}},zi)}function Cm(c,u){var d=c.length;if(d)return rs(u+=u<0?d:0,d)?c[u]:M}function wn(c,u,d){u=u.length?mt(u,function(P){return Se(P)?function(x){return lr(x,1===P.length?P[0]:P)}:P}):[Ki];var v=-1;return u=mt(u,Bn(ke())),function(N,q){var V=N.length;for(N.sort(function(P,x){return function(c,u,d){for(var v=-1,E=c.criteria,P=u.criteria,x=E.length,I=d.length;++v<x;){var B=Rm(E[v],P[v]);if(B)return v>=I?B:B*("desc"==d[v]?-1:1)}return c.index-u.index}(P,x,d)});V--;)N[V]=N[V].value;return N}(Ew(c,function(P,x,I){return{criteria:mt(u,function(j){return j(P)}),index:++v,value:P}}))}function Dl(c,u,d){for(var v=-1,E=u.length,P={};++v<E;){var x=u[v],I=lr(c,x);d(I,x)&&ka(P,Pa(x,c),I)}return P}function Es(c,u,d,v){var E=v?ew:Zt,P=-1,x=u.length,I=c;for(c===u&&(u=vi(u)),d&&(I=mt(c,Bn(d)));++P<x;)for(var B=0,j=u[P],W=d?d(j):j;(B=E(I,W,B,v))>-1;)I!==c&&Jc.call(I,B,1),Jc.call(c,B,1);return c}function Bd(c,u){for(var d=c?u.length:0,v=d-1;d--;){var E=u[d];if(d==v||E!==P){var P=E;rs(E)?Jc.call(c,E,1):xm(c,E)}}return c}function $d(c,u){return c+_l(is()*(u-c+1))}function Am(c,u){var d="";if(!c||u<1||u>Ar)return d;do{u%2&&(d+=c),(u=_l(u/2))&&(c+=c)}while(u);return d}function Ze(c,u){return Eu(Ym(c,u,Ki),c+"")}function Pm(c){return vm(xo(c))}function En(c,u){var d=xo(c);return ku(d,ar(u,0,d.length))}function ka(c,u,d,v){if(!jt(c))return c;for(var E=-1,P=(u=Pa(u,c)).length,x=P-1,I=c;null!=I&&++E<P;){var B=as(u[E]),j=d;if("__proto__"===B||"constructor"===B||"prototype"===B)return c;if(E!=x){var W=I[B];(j=v?v(W,B,I):M)===M&&(j=jt(W)?W:rs(u[E+1])?[]:{})}au(I,B,j),I=I[B]}return c}var Ca=uo?function(c,u){return uo.set(c,u),c}:Ki,hN=Zc?function(c,u){return Zc(c,"toString",{configurable:!0,enumerable:!1,value:Gf(u),writable:!0})}:Ki;function Dm(c){return ku(xo(c))}function Hn(c,u,d){var v=-1,E=c.length;u<0&&(u=-u>E?0:E+u),(d=d>E?E:d)<0&&(d+=E),E=u>d?0:d-u>>>0,u>>>=0;for(var P=V(E);++v<E;)P[v]=c[v+u];return P}function Cw(c,u){var d;return or(c,function(v,E,P){return!(d=u(v,E,P))}),!!d}function fu(c,u,d){var v=0,E=null==c?v:c.length;if("number"==typeof u&&u==u&&E<=2147483647){for(;v<E;){var P=v+E>>>1,x=c[P];null!==x&&!jn(x)&&(d?x<=u:x<u)?v=P+1:E=P}return E}return Vd(c,u,Ki,d)}function Vd(c,u,d,v){var E=0,P=null==c?0:c.length;if(0===P)return 0;for(var x=(u=d(u))!=u,I=null===u,B=jn(u),j=u===M;E<P;){var W=_l((E+P)/2),Q=d(c[W]),te=Q!==M,pe=null===Q,Pe=Q==Q,ze=jn(Q);if(x)var Te=v||Pe;else Te=j?Pe&&(v||te):I?Pe&&te&&(v||!pe):B?Pe&&te&&!pe&&(v||!ze):!pe&&!ze&&(v?Q<=u:Q<u);Te?E=W+1:P=W}return ui(P,4294967294)}function Tm(c,u){for(var d=-1,v=c.length,E=0,P=[];++d<v;){var x=c[d],I=u?u(x):x;if(!d||!be(I,B)){var B=I;P[E++]=0===x?0:x}}return P}function yo(c){return"number"==typeof c?c:jn(c)?NaN:+c}function Wi(c){if("string"==typeof c)return c;if(Se(c))return mt(c,Wi)+"";if(jn(c))return Ad?Ad.call(c):"";var u=c+"";return"0"==u&&1/c==-aa?"-0":u}function ns(c,u,d){var v=-1,E=gi,P=c.length,x=!0,I=[],B=I;if(d)x=!1,E=ca;else if(P>=200){var j=u?null:xw(c);if(j)return _d(j);x=!1,E=Wc,B=new va}else B=u?[]:I;e:for(;++v<P;){var W=c[v],Q=u?u(W):W;if(W=d||0!==W?W:0,x&&Q==Q){for(var te=B.length;te--;)if(B[te]===Q)continue e;u&&B.push(Q),I.push(W)}else E(B,Q,d)||(B!==I&&B.push(Q),I.push(W))}return I}function xm(c,u){return null==(c=Jm(c,u=Pa(u,c)))||delete c[as(kn(u))]}function _o(c,u,d,v){return ka(c,u,d(lr(c,u)),v)}function bo(c,u,d,v){for(var E=c.length,P=v?E:-1;(v?P--:++P<E)&&u(c[P],P,c););return d?Hn(c,v?0:P,v?P+1:E):Hn(c,v?P+1:0,v?E:P)}function Aa(c,u){var d=c;return d instanceof Ae&&(d=d.value()),St(u,function(v,E){return E.func.apply(E.thisArg,mi([v],E.args))},d)}function Hd(c,u,d){var v=c.length;if(v<2)return v?ns(c[0]):[];for(var E=-1,P=V(v);++E<v;)for(var x=c[E],I=-1;++I<v;)I!=E&&(P[E]=go(P[E]||x,c[I],u,d));return ns(Si(P,1),u,d)}function Mm(c,u,d){for(var v=-1,E=c.length,P=u.length,x={};++v<E;)d(x,c[v],v<P?u[v]:M);return x}function Fd(c){return Gt(c)?c:[]}function Tl(c){return"function"==typeof c?c:Ki}function Pa(c,u){return Se(c)?c:tf(c,u)?[c]:of(ft(c))}var qd=Ze;function Fn(c,u,d){var v=c.length;return d=d===M?v:d,!u&&d>=v?c:Hn(c,u,d)}var Da=K||function(c){return bt.clearTimeout(c)};function Im(c,u){if(u)return c.slice();var d=c.length,v=Yc?Yc(d):new c.constructor(d);return c.copy(v),v}function F(c){var u=new c.constructor(c.byteLength);return new yl(u).set(new yl(c)),u}function So(c,u){var d=u?F(c.buffer):c.buffer;return new c.constructor(d,c.byteOffset,c.length)}function Rm(c,u){if(c!==u){var d=c!==M,v=null===c,E=c==c,P=jn(c),x=u!==M,I=null===u,B=u==u,j=jn(u);if(!I&&!j&&!P&&c>u||P&&x&&B&&!I&&!j||v&&x&&B||!d&&B||!E)return 1;if(!v&&!P&&!j&&c<u||j&&d&&E&&!v&&!P||I&&d&&E||!x&&E||!B)return-1}return 0}function Ud(c,u,d,v){for(var E=-1,P=c.length,x=d.length,I=-1,B=u.length,j=ci(P-x,0),W=V(B+j),Q=!v;++I<B;)W[I]=u[I];for(;++E<x;)(Q||E<P)&&(W[d[E]]=c[E]);for(;j--;)W[I++]=c[E++];return W}function Pw(c,u,d,v){for(var E=-1,P=c.length,x=-1,I=d.length,B=-1,j=u.length,W=ci(P-I,0),Q=V(W+j),te=!v;++E<W;)Q[E]=c[E];for(var pe=E;++B<j;)Q[pe+B]=u[B];for(;++x<I;)(te||E<P)&&(Q[pe+d[x]]=c[E++]);return Q}function vi(c,u){var d=-1,v=c.length;for(u||(u=V(v));++d<v;)u[d]=c[d];return u}function hi(c,u,d,v){var E=!d;d||(d={});for(var P=-1,x=u.length;++P<x;){var I=u[P],B=v?v(d[I],c[I],I,d,c):M;B===M&&(B=c[I]),E?Sn(d,I,B):au(d,I,B)}return d}function gu(c,u){return function(d,v){var E=Se(d)?Fe:ym,P=u?u():{};return E(d,c,ke(v,2),P)}}function Ma(c){return Ze(function(u,d){var v=-1,E=d.length,P=E>1?d[E-1]:M,x=E>2?d[2]:M;for(P=c.length>3&&"function"==typeof P?(E--,P):M,x&&Ii(d[0],d[1],x)&&(P=E<3?M:P,E=1),u=xt(u);++v<E;){var I=d[v];I&&c(u,I,v,P)}return u})}function mu(c,u){return function(d,v){if(null==d)return d;if(!sn(d))return c(d,v);for(var E=d.length,P=u?E:-1,x=xt(d);(u?P--:++P<E)&&!1!==v(x[P],P,x););return d}}function xl(c){return function(u,d,v){for(var E=-1,P=xt(u),x=v(u),I=x.length;I--;){var B=x[c?I:++E];if(!1===d(P[B],B,P))break}return u}}function Bm(c){return function(u){var d=vl(u=ft(u))?Tt(u):M,v=d?d[0]:u.charAt(0),E=d?Fn(d,1).join(""):u.slice(1);return v[c]()+E}}function wo(c){return function(u){return St(qf(Nf(u).replace(Jg,"")),c,"")}}function ks(c){return function(){var u=arguments;switch(u.length){case 0:return new c;case 1:return new c(u[0]);case 2:return new c(u[0],u[1]);case 3:return new c(u[0],u[1],u[2]);case 4:return new c(u[0],u[1],u[2],u[3]);case 5:return new c(u[0],u[1],u[2],u[3],u[4]);case 6:return new c(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new c(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var d=rr(c.prototype),v=c.apply(d,u);return jt(v)?v:d}}function $m(c){return function(u,d,v){var E=xt(u);if(!sn(u)){var P=ke(d,3);u=Ei(u),d=function(I){return P(E[I],I,E)}}var x=c(u,d,v);return x>-1?E[P?u[x]:x]:M}}function Dw(c){return ss(function(u){var d=u.length,v=d,E=$n.prototype.thru;for(c&&u.reverse();v--;){var P=u[v];if("function"!=typeof P)throw new vn(Vi);if(E&&!x&&"wrapper"==bu(P))var x=new $n([],!0)}for(v=x?v:d;++v<d;){var I=bu(P=u[v]),B="wrapper"==I?_u(P):M;x=B&&sf(B[0])&&424==B[1]&&!B[4].length&&1==B[9]?x[bu(B[0])].apply(x,B[3]):1==P.length&&sf(P)?x[I]():x.thru(P)}return function(){var j=arguments,W=j[0];if(x&&1==j.length&&Se(W))return x.plant(W).value();for(var Q=0,te=d?u[Q].apply(this,j):W;++Q<d;)te=u[Q].call(this,te);return te}})}function Il(c,u,d,v,E,P,x,I,B,j){var W=128&u,Q=1&u,te=2&u,pe=24&u,Pe=512&u,ze=te?M:ks(c);return function Te(){for(var Ke=arguments.length,st=V(Ke),an=Ke;an--;)st[an]=arguments[an];if(pe)var Oi=Ia(Te),Wn=jR(st,Oi);if(v&&(st=Ud(st,v,E,pe)),P&&(st=Pw(st,P,x,pe)),Ke-=Wn,pe&&Ke<j){var pt=bs(st,Oi);return nn(c,u,Il,Te.placeholder,d,st,pt,I,B,j-Ke)}var Ms=Q?d:this,Fr=te?Ms[c]:c;return Ke=st.length,I?st=Zm(st,I):Pe&&Ke>1&&st.reverse(),W&&B<Ke&&(st.length=B),this&&this!==bt&&this instanceof Te&&(Fr=ze||ks(Fr)),Fr.apply(Ms,st)}}function Vm(c,u){return function(d,v){return function(c,u,d,v){return ji(c,function(E,P,x){u(v,d(E),P,x)}),v}(d,c,u(v),{})}}function Gd(c,u){return function(d,v){var E;if(d===M&&v===M)return u;if(d!==M&&(E=d),v!==M){if(E===M)return v;"string"==typeof d||"string"==typeof v?(d=Wi(d),v=Wi(v)):(d=yo(d),v=yo(v)),E=c(d,v)}return E}}function jd(c){return ss(function(u){return u=mt(u,Bn(ke())),Ze(function(d){var v=this;return c(u,function(E){return pi(E,v,d)})})})}function vu(c,u){var d=(u=u===M?" ":Wi(u)).length;if(d<2)return d?Am(u,c):u;var v=Am(u,Kt(c/ha(u)));return vl(u)?Fn(Tt(v),0,c).join(""):v.slice(0,c)}function Hm(c){return function(u,d,v){return v&&"number"!=typeof v&&Ii(u,d,v)&&(d=v=M),u=Ts(u),d===M?(d=u,u=0):d=Ts(d),function(c,u,d,v){for(var E=-1,P=ci(Kt((u-c)/(d||1)),0),x=V(P);P--;)x[v?P:++E]=c,c+=d;return x}(u,d,v=v===M?u<d?1:-1:Ts(v),c)}}function Wd(c){return function(u,d){return"string"==typeof u&&"string"==typeof d||(u=rn(u),d=rn(d)),c(u,d)}}function nn(c,u,d,v,E,P,x,I,B,j){var W=8&u;u|=W?32:64,4&(u&=~(W?64:32))||(u&=-4);var ze=[c,u,E,W?P:M,W?x:M,W?M:P,W?M:x,I,B,j],Te=d.apply(M,ze);return sf(c)&&Lr(Te,ze),Te.placeholder=v,Xm(Te,c,u)}function zd(c){var u=Xt[c];return function(d,v){if(d=rn(d),(v=null==v?0:ui($e(v),292))&&Xc(d)){var E=(ft(d)+"e").split("e");return+((E=(ft(u(E[0]+"e"+(+E[1]+v)))+"e").split("e"))[0]+"e"+(+E[1]-v))}return u(d)}}var xw=ga&&1/_d(new ga([,-0]))[1]==aa?function(c){return new ga(c)}:zf;function Fm(c){return function(u){var d=wi(u);return d==Zn?sm(u):d==Yi?function(N){var q=-1,V=Array(N.size);return N.forEach(function(ce){V[++q]=[ce,ce]}),V}(u):function(N,q){return mt(q,function(V){return[V,N[V]]})}(u,c(u))}}function qn(c,u,d,v,E,P,x,I){var B=2&u;if(!B&&"function"!=typeof c)throw new vn(Vi);var j=v?v.length:0;if(j||(u&=-97,v=E=M),x=x===M?x:ci($e(x),0),I=I===M?I:$e(I),j-=E?E.length:0,64&u){var W=v,Q=E;v=E=M}var te=B?M:_u(c),pe=[c,u,d,v,E,W,Q,P,x,I];if(te&&function(c,u){var d=c[1],v=u[1],E=d|v;if(!(E<131||(128==v&&8==d||128==v&&256==d&&c[7].length<=u[8]||384==v&&u[7].length<=u[8]&&8==d)))return c;1&v&&(c[2]=u[2],E|=1&d?0:4);var I=u[3];if(I){var B=c[3];c[3]=B?Ud(B,I,u[4]):I,c[4]=B?bs(c[3],ta):u[4]}(I=u[5])&&(c[5]=(B=c[5])?Pw(B,I,u[6]):I,c[6]=B?bs(c[5],ta):u[6]),(I=u[7])&&(c[7]=I),128&v&&(c[8]=null==c[8]?u[8]:ui(c[8],u[8])),null==c[9]&&(c[9]=u[9]),c[0]=u[0],c[1]=E}(pe,te),c=pe[0],u=pe[1],d=pe[2],v=pe[3],E=pe[4],!(I=pe[9]=pe[9]===M?B?0:c.length:ci(pe[9]-j,0))&&24&u&&(u&=-25),u&&1!=u)Pe=8==u||16==u?function(c,u,d){var v=ks(c);return function E(){for(var P=arguments.length,x=V(P),I=P,B=Ia(E);I--;)x[I]=arguments[I];var j=P<3&&x[0]!==B&&x[P-1]!==B?[]:bs(x,B);return(P-=j.length)<d?nn(c,u,Il,E.placeholder,M,x,j,M,M,d-P):pi(this&&this!==bt&&this instanceof E?v:c,this,x)}}(c,u,I):32!=u&&33!=u||E.length?Il.apply(M,pe):function(c,u,d,v){var E=1&u,P=ks(c);return function x(){for(var I=-1,B=arguments.length,j=-1,W=v.length,Q=V(W+B),te=this&&this!==bt&&this instanceof x?P:c;++j<W;)Q[j]=v[j];for(;B--;)Q[j++]=arguments[++I];return pi(te,E?d:this,Q)}}(c,u,d,v);else var Pe=function(c,u,d){var v=1&u,E=ks(c);return function P(){return(this&&this!==bt&&this instanceof P?E:c).apply(v?d:this,arguments)}}(c,u,d);return Xm((te?Ca:Lr)(Pe,pe),c,u)}function xi(c,u,d,v){return c===M||be(c,lo[d])&&!qe.call(v,d)?u:c}function yu(c,u,d,v,E,P){return jt(c)&&jt(u)&&(P.set(u,c),wa(c,u,M,yu,P),P.delete(u)),c}function qm(c){return Nu(c)?M:c}function Kd(c,u,d,v,E,P){var x=1&d,I=c.length,B=u.length;if(I!=B&&!(x&&B>I))return!1;var j=P.get(c),W=P.get(u);if(j&&W)return j==u&&W==c;var Q=-1,te=!0,pe=2&d?new va:M;for(P.set(c,u),P.set(u,c);++Q<I;){var Pe=c[Q],ze=u[Q];if(v)var Te=x?v(ze,Pe,Q,u,c,P):v(Pe,ze,Q,c,u,P);if(Te!==M){if(Te)continue;te=!1;break}if(pe){if(!gd(u,function(Ke,st){if(!Wc(pe,st)&&(Pe===Ke||E(Pe,Ke,d,v,P)))return pe.push(st)})){te=!1;break}}else if(Pe!==ze&&!E(Pe,ze,d,v,P)){te=!1;break}}return P.delete(c),P.delete(u),te}function ss(c){return Eu(Ym(c,M,Hl),c+"")}function Qd(c){return _a(c,Ei,Nl)}function Yd(c){return _a(c,zi,Um)}var _u=uo?function(c){return uo.get(c)}:zf;function bu(c){for(var u=c.name+"",d=Ir[u],v=qe.call(Ir,u)?d.length:0;v--;){var E=d[v],P=E.func;if(null==P||P==c)return E.name}return u}function Ia(c){return(qe.call(C,"placeholder")?C:c).placeholder}function ke(){var c=C.iteratee||$a;return c=c===$a?ww:c,arguments.length?c(arguments[0],arguments[1]):c}function Rl(c,u){var d=c.__data__;return function(c){var u=typeof c;return"string"==u||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==c:null===c}(u)?d["string"==typeof u?"string":"hash"]:d.map}function Jd(c){for(var u=Ei(c),d=u.length;d--;){var v=u[d],E=c[v];u[d]=[v,E,Wm(E)]}return u}function Oa(c,u){var d=function(N,q){return null==N?M:N[q]}(c,u);return Sw(d)?d:M}var Nl=pa?function(c){return null==c?[]:(c=xt(c),mn(pa(c),function(u){return lm.call(c,u)}))}:Hr,Um=pa?function(c){for(var u=[];c;)mi(u,Nl(c)),c=De(c);return u}:Hr,wi=si;function Xd(c,u,d){for(var v=-1,E=(u=Pa(u,c)).length,P=!1;++v<E;){var x=as(u[v]);if(!(P=null!=c&&d(c,x)))break;c=c[x]}return P||++v!=E?P:!!(E=null==c?0:c.length)&&Af(E)&&rs(x,E)&&(Se(c)||Ps(c))}function Su(c){return"function"!=typeof c.constructor||Bl(c)?{}:rr(De(c))}function Eo(c){return Se(c)||Ps(c)||!!(cm&&c&&c[cm])}function rs(c,u){var d=typeof c;return!!(u=null==u?Ar:u)&&("number"==d||"symbol"!=d&&HR.test(c))&&c>-1&&c%1==0&&c<u}function Ii(c,u,d){if(!jt(d))return!1;var v=typeof u;return!!("number"==v?sn(d)&&rs(u,d.length):"string"==v&&u in d)&&be(d[u],c)}function tf(c,u){if(Se(c))return!1;var d=typeof c;return!("number"!=d&&"symbol"!=d&&"boolean"!=d&&null!=c&&!jn(c))||OR.test(c)||!qg.test(c)||null!=u&&c in xt(u)}function sf(c){var u=bu(c),d=C[u];if("function"!=typeof d||!(u in Ae.prototype))return!1;if(c===d)return!0;var v=_u(d);return!!v&&c===v[0]}(Mr&&wi(new Mr(new ArrayBuffer(1)))!=Pr||_n&&wi(new _n)!=Zn||kd&&wi(kd.resolve())!=OS||ga&&wi(new ga)!=Yi||bl&&wi(new bl)!=$c)&&(wi=function(c){var u=si(c),d=u==Rn?c.constructor:M,v=d?Br(d):"";if(v)switch(v){case hm:return Pr;case Cd:return Zn;case cw:return OS;case dm:return Yi;case tu:return $c}return u});var Iw=Sd?Gn:Qf;function Bl(c){var u=c&&c.constructor;return c===("function"==typeof u&&u.prototype||lo)}function Wm(c){return c==c&&!jt(c)}function zm(c,u){return function(d){return null!=d&&d[c]===u&&(u!==M||c in xt(d))}}function Ym(c,u,d){return u=ci(u===M?c.length-1:u,0),function(){for(var v=arguments,E=-1,P=ci(v.length-u,0),x=V(P);++E<P;)x[E]=v[u+E];E=-1;for(var I=V(u+1);++E<u;)I[E]=v[E];return I[u]=d(x),pi(c,this,I)}}function Jm(c,u){return u.length<2?c:lr(c,Hn(u,0,-1))}function Zm(c,u){for(var d=c.length,v=ui(u.length,d),E=vi(c);v--;){var P=u[v];c[v]=rs(P,d)?E[P]:M}return c}function wu(c,u){if(("constructor"!==u||"function"!=typeof c[u])&&"__proto__"!=u)return c[u]}var Lr=$l(Ca),ko=Bt||function(c,u){return bt.setTimeout(c,u)},Eu=$l(hN);function Xm(c,u,d){var v=u+"";return Eu(c,function(c,u){var d=u.length;if(!d)return c;var v=d-1;return u[v]=(d>1?"& ":"")+u[v],u=u.join(d>2?", ":" "),c.replace(VS,"{\n/* [wrapped with "+u+"] */\n")}(v,function(c,u){return Fi(MS,function(d){var v="_."+d[0];u&d[1]&&!gi(c,v)&&c.push(v)}),c.sort()}(function(c){var u=c.match(RR);return u?u[1].split(NR):[]}(v),d)))}function $l(c){var u=0,d=0;return function(){var v=eu(),E=16-(v-d);if(d=v,E>0){if(++u>=800)return arguments[0]}else u=0;return c.apply(M,arguments)}}function ku(c,u){var d=-1,v=c.length,E=v-1;for(u=u===M?v:u;++d<u;){var P=$d(d,E),x=c[P];c[P]=c[d],c[d]=x}return c.length=u,c}var u,d,of=(u=jl(function(c){var u=[];return 46===c.charCodeAt(0)&&u.push(""),c.replace(Dr,function(d,v,E,P){u.push(E?P.replace(LR,"$1"):v||d)}),u},function(v){return 500===d.size&&d.clear(),v}),d=u.cache,u);function as(c){if("string"==typeof c||jn(c))return c;var u=c+"";return"0"==u&&1/c==-aa?"-0":u}function Br(c){if(null!=c){try{return da.call(c)}catch(u){}try{return c+""}catch(u){}}return""}function cf(c){if(c instanceof Ae)return c.clone();var u=new $n(c.__wrapped__,c.__chain__);return u.__actions__=vi(c.__actions__),u.__index__=c.__index__,u.__values__=c.__values__,u}var uf=Ze(function(c,u){return Gt(c)?go(c,Si(u,1,Gt,!0)):[]}),hf=Ze(function(c,u){var d=kn(u);return Gt(d)&&(d=M),Gt(c)?go(c,Si(u,1,Gt,!0),ke(d,2)):[]}),df=Ze(function(c,u){var d=kn(u);return Gt(d)&&(d=M),Gt(c)?go(c,Si(u,1,Gt,!0),M,d):[]});function ff(c,u,d){var v=null==c?0:c.length;if(!v)return-1;var E=null==d?0:$e(d);return E<0&&(E=ci(v+E,0)),_s(c,ke(u,3),E)}function Pu(c,u,d){var v=null==c?0:c.length;if(!v)return-1;var E=v-1;return d!==M&&(E=$e(d),E=d<0?ci(v+E,0):ui(E,v-1)),_s(c,ke(u,3),E,!0)}function Hl(c){return null!=c&&c.length?Si(c,1):[]}function iv(c){return c&&c.length?c[0]:M}var Du=Ze(function(c){var u=mt(c,Fd);return u.length&&u[0]===c[0]?Sm(u):[]}),gf=Ze(function(c){var u=kn(c),d=mt(c,Fd);return u===kn(d)?u=M:d.pop(),d.length&&d[0]===c[0]?Sm(d,ke(u,2)):[]}),nv=Ze(function(c){var u=kn(c),d=mt(c,Fd);return(u="function"==typeof u?u:M)&&d.pop(),d.length&&d[0]===c[0]?Sm(d,M,u):[]});function kn(c){var u=null==c?0:c.length;return u?c[u-1]:M}var Vw=Ze(rv);function rv(c,u){return c&&c.length&&u&&u.length?Es(c,u):c}var Cn=ss(function(c,u){var d=null==c?0:c.length,v=Cl(c,u);return Bd(c,mt(u,function(E){return rs(E,d)?+E:E}).sort(Rm)),v});function Tu(c){return null==c?c:um.call(c)}var As=Ze(function(c){return ns(Si(c,1,Gt,!0))}),ql=Ze(function(c){var u=kn(c);return Gt(u)&&(u=M),ns(Si(c,1,Gt,!0),ke(u,2))}),lv=Ze(function(c){var u=kn(c);return u="function"==typeof u?u:M,ns(Si(c,1,Gt,!0),M,u)});function hv(c){if(!c||!c.length)return[];var u=0;return c=mn(c,function(d){if(Gt(d))return u=ci(d.length,u),!0}),tm(u,function(d){return mt(c,gl(d))})}function Zw(c,u){if(!c||!c.length)return[];var d=hv(c);return null==u?d:mt(d,function(v){return pi(u,M,v)})}var mf=Ze(function(c,u){return Gt(c)?go(c,u):[]}),vf=Ze(function(c){return Hd(mn(c,Gt))}),yf=Ze(function(c){var u=kn(c);return Gt(u)&&(u=M),Hd(mn(c,Gt),ke(u,2))}),mN=Ze(function(c){var u=kn(c);return u="function"==typeof u?u:M,Hd(mn(c,Gt),M,u)}),vN=Ze(hv),eE=Ze(function(c){var u=c.length,d=u>1?c[u-1]:M;return d="function"==typeof d?(c.pop(),d):M,Zw(c,d)});function fv(c){var u=C(c);return u.__chain__=!0,u}function Ul(c,u){return u(c)}var xu=ss(function(c){var u=c.length,d=u?c[0]:0,v=this.__wrapped__,E=function(P){return Cl(P,c)};return!(u>1||this.__actions__.length)&&v instanceof Ae&&rs(d)?((v=v.slice(d,+d+(u?1:0))).__actions__.push({func:Ul,args:[E],thisArg:M}),new $n(v,this.__chain__).thru(function(P){return u&&!P.length&&P.push(M),P})):this.thru(E)}),mv=gu(function(c,u,d){qe.call(c,d)?++c[d]:Sn(c,d,1)}),oE=$m(ff),lE=$m(Pu);function Co(c,u){return(Se(c)?Fi:or)(c,ke(u,3))}function vv(c,u){return(Se(c)?ro:Rd)(c,ke(u,3))}var yv=gu(function(c,u,d){qe.call(c,d)?c[d].push(u):Sn(c,d,[u])}),_v=Ze(function(c,u,d){var v=-1,E="function"==typeof u,P=sn(c)?V(c.length):[];return or(c,function(x){P[++v]=E?pi(u,x,d):Pl(x,u,d)}),P}),uE=gu(function(c,u,d){Sn(c,d,u)});function Sf(c,u){return(Se(c)?mt:Ew)(c,ke(u,3))}var Mu=gu(function(c,u,d){c[d?0:1].push(u)},function(){return[[],[]]}),mE=Ze(function(c,u){if(null==c)return[];var d=u.length;return d>1&&Ii(c,u[0],u[1])?u=[]:d>2&&Ii(u[0],u[1],u[2])&&(u=[u[0]]),wn(c,Si(u,1),[])}),Gl=ot||function(){return bt.Date.now()};function wf(c,u,d){return u=d?M:u,qn(c,128,M,M,M,M,u=c&&null==u?c.length:u)}function wv(c,u){var d;if("function"!=typeof u)throw new vn(Vi);return c=$e(c),function(){return--c>0&&(d=u.apply(this,arguments)),c<=1&&(u=M),d}}var Ef=Ze(function(c,u,d){var v=1;if(d.length){var E=bs(d,Ia(Ef));v|=32}return qn(c,v,u,d,E)}),Ev=Ze(function(c,u,d){var v=3;if(d.length){var E=bs(d,Ia(Ev));v|=32}return qn(u,v,c,d,E)});function vE(c,u,d){var v,E,P,x,I,B,j=0,W=!1,Q=!1,te=!0;if("function"!=typeof c)throw new vn(Vi);function pe(pt){var Ms=v,Fr=E;return v=E=M,j=pt,x=c.apply(Fr,Ms)}function Pe(pt){return j=pt,I=ko(Ke,u),W?pe(pt):x}function Te(pt){var Ms=pt-B;return B===M||Ms>=u||Ms<0||Q&&pt-j>=P}function Ke(){var pt=Gl();if(Te(pt))return st(pt);I=ko(Ke,function(pt){var Sk=u-(pt-B);return Q?ui(Sk,P-(pt-j)):Sk}(pt))}function st(pt){return I=M,te&&v?pe(pt):(v=E=M,x)}function Wn(){var pt=Gl(),Ms=Te(pt);if(v=arguments,E=this,B=pt,Ms){if(I===M)return Pe(B);if(Q)return Da(I),I=ko(Ke,u),pe(B)}return I===M&&(I=ko(Ke,u)),x}return u=rn(u)||0,jt(d)&&(W=!!d.leading,P=(Q="maxWait"in d)?ci(rn(d.maxWait)||0,u):P,te="trailing"in d?!!d.trailing:te),Wn.cancel=function(){I!==M&&Da(I),j=0,v=B=E=I=M},Wn.flush=function(){return I===M?x:st(Gl())},Wn}var SN=Ze(function(c,u){return Od(c,1,u)}),kv=Ze(function(c,u,d){return Od(c,rn(u)||0,d)});function jl(c,u){if("function"!=typeof c||null!=u&&"function"!=typeof u)throw new vn(Vi);var d=function(){var v=arguments,E=u?u.apply(this,v):v[0],P=d.cache;if(P.has(E))return P.get(E);var x=c.apply(this,v);return d.cache=P.set(E,x)||P,x};return d.cache=new(jl.Cache||bn),d}function kf(c){if("function"!=typeof c)throw new vn(Vi);return function(){var u=arguments;switch(u.length){case 0:return!c.call(this);case 1:return!c.call(this,u[0]);case 2:return!c.call(this,u[0],u[1]);case 3:return!c.call(this,u[0],u[1],u[2])}return!c.apply(this,u)}}jl.Cache=bn;var yE=qd(function(c,u){var d=(u=1==u.length&&Se(u[0])?mt(u[0],Bn(ke())):mt(Si(u,1),Bn(ke()))).length;return Ze(function(v){for(var E=-1,P=ui(v.length,d);++E<P;)v[E]=u[E].call(this,v[E]);return pi(c,this,v)})}),Iu=Ze(function(c,u){var d=bs(u,Ia(Iu));return qn(c,32,M,u,d)}),Av=Ze(function(c,u){var d=bs(u,Ia(Av));return qn(c,64,M,u,d)}),_E=ss(function(c,u){return qn(c,256,M,M,M,u)});function be(c,u){return c===u||c!=c&&u!=u}var H=Wd(Nr),Tv=Wd(function(c,u){return c>=u}),Ps=_w(function(){return arguments}())?_w:function(c){return Wt(c)&&qe.call(c,"callee")&&!lm.call(c,"callee")},Se=V.isArray,xv=Xi?Bn(Xi):function(c){return Wt(c)&&si(c)==to};function sn(c){return null!=c&&Af(c.length)&&!Gn(c)}function Gt(c){return Wt(c)&&sn(c)}var Ds=Ss||Qf,Mv=Tr?Bn(Tr):function(c){return Wt(c)&&si(c)==ll};function cs(c){if(!Wt(c))return!1;var u=si(c);return u==eo||"[object DOMException]"==u||"string"==typeof c.message&&"string"==typeof c.name&&!Nu(c)}function Gn(c){if(!jt(c))return!1;var u=si(c);return u==Oc||u==Vg||"[object AsyncFunction]"==u||"[object Proxy]"==u}function Ru(c){return"number"==typeof c&&c==$e(c)}function Af(c){return"number"==typeof c&&c>-1&&c%1==0&&c<=Ar}function jt(c){var u=typeof c;return null!=c&&("object"==u||"function"==u)}function Wt(c){return null!=c&&"object"==typeof c}var DE=li?Bn(li):function(c){return Wt(c)&&wi(c)==Zn};function ME(c){return"number"==typeof c||Wt(c)&&si(c)==cl}function Nu(c){if(!Wt(c)||si(c)!=Rn)return!1;var u=De(c);if(null===u)return!0;var d=qe.call(u,"constructor")&&u.constructor;return"function"==typeof d&&d instanceof d&&da.call(d)==yn}var Nv=xr?Bn(xr):function(c){return Wt(c)&&si(c)==Lc},IE=qt?Bn(qt):function(c){return Wt(c)&&wi(c)==Yi};function Df(c){return"string"==typeof c||!Se(c)&&Wt(c)&&si(c)==oa}function jn(c){return"symbol"==typeof c||Wt(c)&&si(c)==Bc}var Wl=so?Bn(so):function(c){return Wt(c)&&Af(c.length)&&!!Dt[si(c)]},$r=Wd(Sa),Tf=Wd(function(c,u){return c<=u});function Lv(c){if(!c)return[];if(sn(c))return Df(c)?Tt(c):vi(c);if(co&&c[co])return function(N){for(var q,V=[];!(q=N.next()).done;)V.push(q.value);return V}(c[co]());var u=wi(c);return(u==Zn?sm:u==Yi?_d:xo)(c)}function Ts(c){return c?(c=rn(c))===aa||c===-aa?17976931348623157e292*(c<0?-1:1):c==c?c:0:0===c?c:0}function $e(c){var u=Ts(c),d=u%1;return u==u?d?u-d:u:0}function xf(c){return c?ar($e(c),0,ys):0}function rn(c){if("number"==typeof c)return c;if(jn(c))return NaN;if(jt(c)){var u="function"==typeof c.valueOf?c.valueOf():c;c=jt(u)?u+"":u}if("string"!=typeof c)return 0===c?c:+c;c=im(c);var d=BR.test(c);return d||VR.test(c)?Di(c.slice(2),d?2:8):Xs.test(c)?NaN:+c}function Bv(c){return hi(c,zi(c))}function ft(c){return null==c?"":Wi(c)}var OE=Ma(function(c,u){if(Bl(u)||sn(u))hi(u,Ei(u),c);else for(var d in u)qe.call(u,d)&&au(c,d,u[d])}),RE=Ma(function(c,u){hi(u,zi(u),c)}),Ao=Ma(function(c,u,d,v){hi(u,zi(u),c,v)}),NE=Ma(function(c,u,d,v){hi(u,Ei(u),c,v)}),$v=ss(Cl),BE=Ze(function(c,u){c=xt(c);var d=-1,v=u.length,E=v>2?u[2]:M;for(E&&Ii(u[0],u[1],E)&&(v=1);++d<v;)for(var P=u[d],x=zi(P),I=-1,B=x.length;++I<B;){var j=x[I],W=c[j];(W===M||be(W,lo[j])&&!qe.call(c,j))&&(c[j]=P[j])}return c}),zl=Ze(function(c){return c.push(M,yu),pi(Gv,M,c)});function Ql(c,u,d){var v=null==c?M:lr(c,u);return v===M?d:v}function Lu(c,u){return null!=c&&Xd(c,u,Ld)}var Bu=Vm(function(c,u,d){null!=u&&"function"!=typeof u.toString&&(u=sr.call(u)),c[u]=d},Gf(Ki)),VE=Vm(function(c,u,d){null!=u&&"function"!=typeof u.toString&&(u=sr.call(u)),qe.call(c,u)?c[u].push(d):c[u]=[d]},ke),Fv=Ze(Pl);function Ei(c){return sn(c)?ya(c):km(c)}function zi(c){return sn(c)?ya(c,!0):function(c){if(!jt(c))return function(c){var u=[];if(null!=c)for(var d in xt(c))u.push(d);return u}(c);var u=Bl(c),d=[];for(var v in c)"constructor"==v&&(u||!qe.call(c,v))||d.push(v);return d}(c)}var Uv=Ma(function(c,u,d){wa(c,u,d)}),Gv=Ma(function(c,u,d,v){wa(c,u,d,v)}),FE=ss(function(c,u){var d={};if(null==c)return d;var v=!1;u=mt(u,function(P){return P=Pa(P,c),v||(v=P.length>1),P}),hi(c,Yd(c),d),v&&(d=Gi(d,7,qm));for(var E=u.length;E--;)xm(d,u[E]);return d}),qE=ss(function(c,u){return null==c?{}:function(c,u){return Dl(c,u,function(d,v){return Lu(c,v)})}(c,u)});function jv(c,u){if(null==c)return{};var d=mt(Yd(c),function(v){return[v]});return u=ke(u),Dl(c,d,function(v,E){return u(v,E[0])})}var UE=Fm(Ei),zv=Fm(zi);function xo(c){return null==c?[]:nm(c,Ei(c))}var KE=wo(function(c,u,d){return u=u.toLowerCase(),c+(d?Rf(u):u)});function Rf(c){return Vu(ft(c).toLowerCase())}function Nf(c){return(c=ft(c))&&c.replace(qS,WR).replace(QS,"")}var YE=wo(function(c,u,d){return c+(d?"-":"")+u.toLowerCase()}),JE=wo(function(c,u,d){return c+(d?" ":"")+u.toLowerCase()}),IN=Bm("toLowerCase"),ik=wo(function(c,u,d){return c+(d?"_":"")+u.toLowerCase()}),$f=wo(function(c,u,d){return c+(d?" ":"")+Vu(u)}),Xv=wo(function(c,u,d){return c+(d?" ":"")+u.toUpperCase()}),Vu=Bm("toUpperCase");function qf(c,u,d){return c=ft(c),(u=d?M:u)===M?function(N){return Nn.test(N)}(c)?function(N){return N.match(dl)||[]}(c):function(N){return N.match(Fc)||[]}(c):c.match(u)||[]}var Uf=Ze(function(c,u){try{return pi(c,M,u)}catch(d){return cs(d)?d:new Ne(d)}}),ey=ss(function(c,u){return Fi(u,function(d){d=as(d),Sn(c,d,Ef(c[d],c))}),c});function Gf(c){return function(){return c}}var RN=Dw(),Mo=Dw(!0);function Ki(c){return c}function $a(c){return ww("function"==typeof c?c:Gi(c,1))}var jf=Ze(function(c,u){return function(d){return Pl(d,c,u)}}),ty=Ze(function(c,u){return function(d){return Pl(c,d,u)}});function Wf(c,u,d){var v=Ei(u),E=vo(u,v);null==d&&(!jt(u)||!E.length&&v.length)&&(d=u,u=c,c=this,E=vo(u,Ei(u)));var P=!(jt(d)&&"chain"in d&&!d.chain),x=Gn(c);return Fi(E,function(I){var B=u[I];c[I]=B,x&&(c.prototype[I]=function(){var j=this.__chain__;if(P||j){var W=c(this.__wrapped__),Q=W.__actions__=vi(this.__actions__);return Q.push({func:B,args:arguments,thisArg:c}),W.__chain__=j,W}return B.apply(c,mi([this.value()],arguments))})}),c}function zf(){}var ck=jd(mt),uk=jd(Gc),ny=jd(gd);function Va(c){return tf(c)?gl(as(c)):function(c){return function(u){return lr(u,c)}}(c)}var hk=Hm(),dk=Hm(!0);function Hr(){return[]}function Qf(){return!1}var Mt=Gd(function(c,u){return c+u},0),Yf=zd("ceil"),LN=Gd(function(c,u){return c/u},1),hr=zd("floor"),oy=Gd(function(c,u){return c*u},1),ly=zd("round"),cy=Gd(function(c,u){return c-u},0);return C.after=function(c,u){if("function"!=typeof u)throw new vn(Vi);return c=$e(c),function(){if(--c<1)return u.apply(this,arguments)}},C.ary=wf,C.assign=OE,C.assignIn=RE,C.assignInWith=Ao,C.assignWith=NE,C.at=$v,C.before=wv,C.bind=Ef,C.bindAll=ey,C.bindKey=Ev,C.castArray=function(){if(!arguments.length)return[];var c=arguments[0];return Se(c)?c:[c]},C.chain=fv,C.chunk=function(c,u,d){u=(d?Ii(c,u,d):u===M)?1:ci($e(u),0);var v=null==c?0:c.length;if(!v||u<1)return[];for(var E=0,P=0,x=V(Kt(v/u));E<v;)x[P++]=Hn(c,E,E+=u);return x},C.compact=function(c){for(var u=-1,d=null==c?0:c.length,v=0,E=[];++u<d;){var P=c[u];P&&(E[v++]=P)}return E},C.concat=function(){var c=arguments.length;if(!c)return[];for(var u=V(c-1),d=arguments[0],v=c;v--;)u[v-1]=arguments[v];return mi(Se(d)?vi(d):[d],Si(u,1))},C.cond=function(c){var u=null==c?0:c.length,d=ke();return c=u?mt(c,function(v){if("function"!=typeof v[1])throw new vn(Vi);return[d(v[0]),v[1]]}):[],Ze(function(v){for(var E=-1;++E<u;){var P=c[E];if(pi(P[0],this,v))return pi(P[1],this,v)}})},C.conforms=function(c){return function(c){var u=Ei(c);return function(d){return bm(d,c,u)}}(Gi(c,1))},C.constant=Gf,C.countBy=mv,C.create=function(c,u){var d=rr(c);return null==u?d:_m(d,u)},C.curry=function Ba(c,u,d){var v=qn(c,8,M,M,M,M,M,u=d?M:u);return v.placeholder=Ba.placeholder,v},C.curryRight=function os(c,u,d){var v=qn(c,16,M,M,M,M,M,u=d?M:u);return v.placeholder=os.placeholder,v},C.debounce=vE,C.defaults=BE,C.defaultsDeep=zl,C.defer=SN,C.delay=kv,C.difference=uf,C.differenceBy=hf,C.differenceWith=df,C.drop=function(c,u,d){var v=null==c?0:c.length;return v?Hn(c,(u=d||u===M?1:$e(u))<0?0:u,v):[]},C.dropRight=function(c,u,d){var v=null==c?0:c.length;return v?Hn(c,0,(u=v-(u=d||u===M?1:$e(u)))<0?0:u):[]},C.dropRightWhile=function(c,u){return c&&c.length?bo(c,ke(u,3),!0,!0):[]},C.dropWhile=function(c,u){return c&&c.length?bo(c,ke(u,3),!0):[]},C.fill=function(c,u,d,v){var E=null==c?0:c.length;return E?(d&&"number"!=typeof d&&Ii(c,u,d)&&(d=0,v=E),function(c,u,d,v){var E=c.length;for((d=$e(d))<0&&(d=-d>E?0:E+d),(v=v===M||v>E?E:$e(v))<0&&(v+=E),v=d>v?0:xf(v);d<v;)c[d++]=u;return c}(c,u,d,v)):[]},C.filter=function(c,u){return(Se(c)?mn:mo)(c,ke(u,3))},C.flatMap=function(c,u){return Si(Sf(c,u),1)},C.flatMapDeep=function(c,u){return Si(Sf(c,u),aa)},C.flatMapDepth=function(c,u,d){return d=d===M?1:$e(d),Si(Sf(c,u),d)},C.flatten=Hl,C.flattenDeep=function(c){return null!=c&&c.length?Si(c,aa):[]},C.flattenDepth=function(c,u){return null!=c&&c.length?Si(c,u=u===M?1:$e(u)):[]},C.flip=function(c){return qn(c,512)},C.flow=RN,C.flowRight=Mo,C.fromPairs=function(c){for(var u=-1,d=null==c?0:c.length,v={};++u<d;){var E=c[u];v[E[0]]=E[1]}return v},C.functions=function(c){return null==c?[]:vo(c,Ei(c))},C.functionsIn=function(c){return null==c?[]:vo(c,zi(c))},C.groupBy=yv,C.initial=function(c){return null!=c&&c.length?Hn(c,0,-1):[]},C.intersection=Du,C.intersectionBy=gf,C.intersectionWith=nv,C.invert=Bu,C.invertBy=VE,C.invokeMap=_v,C.iteratee=$a,C.keyBy=uE,C.keys=Ei,C.keysIn=zi,C.map=Sf,C.mapKeys=function(c,u){var d={};return u=ke(u,3),ji(c,function(v,E,P){Sn(d,u(v,E,P),v)}),d},C.mapValues=function(c,u){var d={};return u=ke(u,3),ji(c,function(v,E,P){Sn(d,E,u(v,E,P))}),d},C.matches=function(c){return ri(Gi(c,1))},C.matchesProperty=function(c,u){return du(c,Gi(u,1))},C.memoize=jl,C.merge=Uv,C.mergeWith=Gv,C.method=jf,C.methodOf=ty,C.mixin=Wf,C.negate=kf,C.nthArg=function(c){return c=$e(c),Ze(function(u){return Cm(u,c)})},C.omit=FE,C.omitBy=function(c,u){return jv(c,kf(ke(u)))},C.once=function(c){return wv(2,c)},C.orderBy=function(c,u,d,v){return null==c?[]:(Se(u)||(u=null==u?[]:[u]),Se(d=v?M:d)||(d=null==d?[]:[d]),wn(c,u,d))},C.over=ck,C.overArgs=yE,C.overEvery=uk,C.overSome=ny,C.partial=Iu,C.partialRight=Av,C.partition=Mu,C.pick=qE,C.pickBy=jv,C.property=Va,C.propertyOf=function(c){return function(u){return null==c?M:lr(c,u)}},C.pull=Vw,C.pullAll=rv,C.pullAllBy=function(c,u,d){return c&&c.length&&u&&u.length?Es(c,u,ke(d,2)):c},C.pullAllWith=function(c,u,d){return c&&c.length&&u&&u.length?Es(c,u,M,d):c},C.pullAt=Cn,C.range=hk,C.rangeRight=dk,C.rearg=_E,C.reject=function(c,u){return(Se(c)?mn:mo)(c,kf(ke(u,3)))},C.remove=function(c,u){var d=[];if(!c||!c.length)return d;var v=-1,E=[],P=c.length;for(u=ke(u,3);++v<P;){var x=c[v];u(x,v,c)&&(d.push(x),E.push(v))}return Bd(c,E),d},C.rest=function(c,u){if("function"!=typeof c)throw new vn(Vi);return Ze(c,u=u===M?u:$e(u))},C.reverse=Tu,C.sampleSize=function(c,u,d){return u=(d?Ii(c,u,d):u===M)?1:$e(u),(Se(c)?fo:En)(c,u)},C.set=function(c,u,d){return null==c?c:ka(c,u,d)},C.setWith=function(c,u,d,v){return v="function"==typeof v?v:M,null==c?c:ka(c,u,d,v)},C.shuffle=function(c){return(Se(c)?Id:Dm)(c)},C.slice=function(c,u,d){var v=null==c?0:c.length;return v?(d&&"number"!=typeof d&&Ii(c,u,d)?(u=0,d=v):(u=null==u?0:$e(u),d=d===M?v:$e(d)),Hn(c,u,d)):[]},C.sortBy=mE,C.sortedUniq=function(c){return c&&c.length?Tm(c):[]},C.sortedUniqBy=function(c,u){return c&&c.length?Tm(c,ke(u,2)):[]},C.split=function(c,u,d){return d&&"number"!=typeof d&&Ii(c,u,d)&&(u=d=M),(d=d===M?ys:d>>>0)?(c=ft(c))&&("string"==typeof u||null!=u&&!Nv(u))&&!(u=Wi(u))&&vl(c)?Fn(Tt(c),0,d):c.split(u,d):[]},C.spread=function(c,u){if("function"!=typeof c)throw new vn(Vi);return u=null==u?0:ci($e(u),0),Ze(function(d){var v=d[u],E=Fn(d,0,u);return v&&mi(E,v),pi(c,this,E)})},C.tail=function(c){var u=null==c?0:c.length;return u?Hn(c,1,u):[]},C.take=function(c,u,d){return c&&c.length?Hn(c,0,(u=d||u===M?1:$e(u))<0?0:u):[]},C.takeRight=function(c,u,d){var v=null==c?0:c.length;return v?Hn(c,(u=v-(u=d||u===M?1:$e(u)))<0?0:u,v):[]},C.takeRightWhile=function(c,u){return c&&c.length?bo(c,ke(u,3),!1,!0):[]},C.takeWhile=function(c,u){return c&&c.length?bo(c,ke(u,3)):[]},C.tap=function(c,u){return u(c),c},C.throttle=function(c,u,d){var v=!0,E=!0;if("function"!=typeof c)throw new vn(Vi);return jt(d)&&(v="leading"in d?!!d.leading:v,E="trailing"in d?!!d.trailing:E),vE(c,u,{leading:v,maxWait:u,trailing:E})},C.thru=Ul,C.toArray=Lv,C.toPairs=UE,C.toPairsIn=zv,C.toPath=function(c){return Se(c)?mt(c,as):jn(c)?[c]:vi(of(ft(c)))},C.toPlainObject=Bv,C.transform=function(c,u,d){var v=Se(c),E=v||Ds(c)||Wl(c);if(u=ke(u,4),null==d){var P=c&&c.constructor;d=E?v?new P:[]:jt(c)&&Gn(P)?rr(De(c)):{}}return(E?Fi:ji)(c,function(x,I,B){return u(d,x,I,B)}),d},C.unary=function(c){return wf(c,1)},C.union=As,C.unionBy=ql,C.unionWith=lv,C.uniq=function(c){return c&&c.length?ns(c):[]},C.uniqBy=function(c,u){return c&&c.length?ns(c,ke(u,2)):[]},C.uniqWith=function(c,u){return u="function"==typeof u?u:M,c&&c.length?ns(c,M,u):[]},C.unset=function(c,u){return null==c||xm(c,u)},C.unzip=hv,C.unzipWith=Zw,C.update=function(c,u,d){return null==c?c:_o(c,u,Tl(d))},C.updateWith=function(c,u,d,v){return v="function"==typeof v?v:M,null==c?c:_o(c,u,Tl(d),v)},C.values=xo,C.valuesIn=function(c){return null==c?[]:nm(c,zi(c))},C.without=mf,C.words=qf,C.wrap=function(c,u){return Iu(Tl(u),c)},C.xor=vf,C.xorBy=yf,C.xorWith=mN,C.zip=vN,C.zipObject=function(c,u){return Mm(c||[],u||[],au)},C.zipObjectDeep=function(c,u){return Mm(c||[],u||[],ka)},C.zipWith=eE,C.entries=UE,C.entriesIn=zv,C.extend=RE,C.extendWith=Ao,Wf(C,C),C.add=Mt,C.attempt=Uf,C.camelCase=KE,C.capitalize=Rf,C.ceil=Yf,C.clamp=function(c,u,d){return d===M&&(d=u,u=M),d!==M&&(d=(d=rn(d))==d?d:0),u!==M&&(u=(u=rn(u))==u?u:0),ar(rn(c),u,d)},C.clone=function(c){return Gi(c,4)},C.cloneDeep=function(c){return Gi(c,5)},C.cloneDeepWith=function(c,u){return Gi(c,5,u="function"==typeof u?u:M)},C.cloneWith=function(c,u){return Gi(c,4,u="function"==typeof u?u:M)},C.conformsTo=function(c,u){return null==u||bm(c,u,Ei(u))},C.deburr=Nf,C.defaultTo=function(c,u){return null==c||c!=c?u:c},C.divide=LN,C.endsWith=function(c,u,d){c=ft(c),u=Wi(u);var v=c.length,E=d=d===M?v:ar($e(d),0,v);return(d-=u.length)>=0&&c.slice(d,E)==u},C.eq=be,C.escape=function(c){return(c=ft(c))&&rd.test(c)?c.replace(Hc,zR):c},C.escapeRegExp=function(c){return(c=ft(c))&&ad.test(c)?c.replace(Ug,"\\$&"):c},C.every=function(c,u,d){var v=Se(c)?Gc:yw;return d&&Ii(c,u,d)&&(u=M),v(c,ke(u,3))},C.find=oE,C.findIndex=ff,C.findKey=function(c,u){return pl(c,ke(u,3),ji)},C.findLast=lE,C.findLastIndex=Pu,C.findLastKey=function(c,u){return pl(c,ke(u,3),tn)},C.floor=hr,C.forEach=Co,C.forEachRight=vv,C.forIn=function(c,u){return null==c?c:uu(c,ke(u,3),zi)},C.forInRight=function(c,u){return null==c?c:Nd(c,ke(u,3),zi)},C.forOwn=function(c,u){return c&&ji(c,ke(u,3))},C.forOwnRight=function(c,u){return c&&tn(c,ke(u,3))},C.get=Ql,C.gt=H,C.gte=Tv,C.has=function(c,u){return null!=c&&Xd(c,u,Al)},C.hasIn=Lu,C.head=iv,C.identity=Ki,C.includes=function(c,u,d,v){c=sn(c)?c:xo(c),d=d&&!v?$e(d):0;var E=c.length;return d<0&&(d=ci(E+d,0)),Df(c)?d<=E&&c.indexOf(u,d)>-1:!!E&&Zt(c,u,d)>-1},C.indexOf=function(c,u,d){var v=null==c?0:c.length;if(!v)return-1;var E=null==d?0:$e(d);return E<0&&(E=ci(v+E,0)),Zt(c,u,E)},C.inRange=function(c,u,d){return u=Ts(u),d===M?(d=u,u=0):d=Ts(d),function(c,u,d){return c>=ui(u,d)&&c<ci(u,d)}(c=rn(c),u,d)},C.invoke=Fv,C.isArguments=Ps,C.isArray=Se,C.isArrayBuffer=xv,C.isArrayLike=sn,C.isArrayLikeObject=Gt,C.isBoolean=function(c){return!0===c||!1===c||Wt(c)&&si(c)==Xa},C.isBuffer=Ds,C.isDate=Mv,C.isElement=function(c){return Wt(c)&&1===c.nodeType&&!Nu(c)},C.isEmpty=function(c){if(null==c)return!0;if(sn(c)&&(Se(c)||"string"==typeof c||"function"==typeof c.splice||Ds(c)||Wl(c)||Ps(c)))return!c.length;var u=wi(c);if(u==Zn||u==Yi)return!c.size;if(Bl(c))return!km(c).length;for(var d in c)if(qe.call(c,d))return!1;return!0},C.isEqual=function(c,u){return hu(c,u)},C.isEqualWith=function(c,u,d){var v=(d="function"==typeof d?d:M)?d(c,u):M;return v===M?hu(c,u,M,d):!!v},C.isError=cs,C.isFinite=function(c){return"number"==typeof c&&Xc(c)},C.isFunction=Gn,C.isInteger=Ru,C.isLength=Af,C.isMap=DE,C.isMatch=function(c,u){return c===u||Em(c,u,Jd(u))},C.isMatchWith=function(c,u,d){return d="function"==typeof d?d:M,Em(c,u,Jd(u),d)},C.isNaN=function(c){return ME(c)&&c!=+c},C.isNative=function(c){if(Iw(c))throw new Ne("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Sw(c)},C.isNil=function(c){return null==c},C.isNull=function(c){return null===c},C.isNumber=ME,C.isObject=jt,C.isObjectLike=Wt,C.isPlainObject=Nu,C.isRegExp=Nv,C.isSafeInteger=function(c){return Ru(c)&&c>=-Ar&&c<=Ar},C.isSet=IE,C.isString=Df,C.isSymbol=jn,C.isTypedArray=Wl,C.isUndefined=function(c){return c===M},C.isWeakMap=function(c){return Wt(c)&&wi(c)==$c},C.isWeakSet=function(c){return Wt(c)&&"[object WeakSet]"==si(c)},C.join=function(c,u){return null==c?"":Ed.call(c,u)},C.kebabCase=YE,C.last=kn,C.lastIndexOf=function(c,u,d){var v=null==c?0:c.length;if(!v)return-1;var E=v;return d!==M&&(E=(E=$e(d))<0?ci(v+E,0):ui(E,v-1)),u==u?function(N,q,V){for(var ce=V+1;ce--;)if(N[ce]===q)return ce;return ce}(c,u,E):_s(c,es,E,!0)},C.lowerCase=JE,C.lowerFirst=IN,C.lt=$r,C.lte=Tf,C.max=function(c){return c&&c.length?lu(c,Ki,Nr):M},C.maxBy=function(c,u){return c&&c.length?lu(c,ke(u,2),Nr):M},C.mean=function(c){return Ln(c,Ki)},C.meanBy=function(c,u){return Ln(c,ke(u,2))},C.min=function(c){return c&&c.length?lu(c,Ki,Sa):M},C.minBy=function(c,u){return c&&c.length?lu(c,ke(u,2),Sa):M},C.stubArray=Hr,C.stubFalse=Qf,C.stubObject=function(){return{}},C.stubString=function(){return""},C.stubTrue=function(){return!0},C.multiply=oy,C.nth=function(c,u){return c&&c.length?Cm(c,$e(u)):M},C.noConflict=function(){return bt._===this&&(bt._=om),this},C.noop=zf,C.now=Gl,C.pad=function(c,u,d){c=ft(c);var v=(u=$e(u))?ha(c):0;if(!u||v>=u)return c;var E=(u-v)/2;return vu(_l(E),d)+c+vu(Kt(E),d)},C.padEnd=function(c,u,d){c=ft(c);var v=(u=$e(u))?ha(c):0;return u&&v<u?c+vu(u-v,d):c},C.padStart=function(c,u,d){c=ft(c);var v=(u=$e(u))?ha(c):0;return u&&v<u?vu(u-v,d)+c:c},C.parseInt=function(c,u,d){return d||null==u?u=0:u&&(u=+u),Ui(ft(c).replace(Re,""),u||0)},C.random=function(c,u,d){if(d&&"boolean"!=typeof d&&Ii(c,u,d)&&(u=d=M),d===M&&("boolean"==typeof u?(d=u,u=M):"boolean"==typeof c&&(d=c,c=M)),c===M&&u===M?(c=0,u=1):(c=Ts(c),u===M?(u=c,c=0):u=Ts(u)),c>u){var v=c;c=u,u=v}if(d||c%1||u%1){var E=is();return ui(c+E*(u-c+Zi("1e-"+((E+"").length-1))),u)}return $d(c,u)},C.reduce=function(c,u,d){var v=Se(c)?St:ml,E=arguments.length<3;return v(c,ke(u,4),d,E,or)},C.reduceRight=function(c,u,d){var v=Se(c)?XS:ml,E=arguments.length<3;return v(c,ke(u,4),d,E,Rd)},C.repeat=function(c,u,d){return u=(d?Ii(c,u,d):u===M)?1:$e(u),Am(ft(c),u)},C.replace=function(){var c=arguments,u=ft(c[0]);return c.length<3?u:u.replace(c[1],c[2])},C.result=function(c,u,d){var v=-1,E=(u=Pa(u,c)).length;for(E||(E=1,c=M);++v<E;){var P=null==c?M:c[as(u[v])];P===M&&(v=E,P=d),c=Gn(P)?P.call(c):P}return c},C.round=ly,C.runInContext=N,C.sample=function(c){return(Se(c)?vm:Pm)(c)},C.size=function(c){if(null==c)return 0;if(sn(c))return Df(c)?ha(c):c.length;var u=wi(c);return u==Zn||u==Yi?c.size:km(c).length},C.snakeCase=ik,C.some=function(c,u,d){var v=Se(c)?gd:Cw;return d&&Ii(c,u,d)&&(u=M),v(c,ke(u,3))},C.sortedIndex=function(c,u){return fu(c,u)},C.sortedIndexBy=function(c,u,d){return Vd(c,u,ke(d,2))},C.sortedIndexOf=function(c,u){var d=null==c?0:c.length;if(d){var v=fu(c,u);if(v<d&&be(c[v],u))return v}return-1},C.sortedLastIndex=function(c,u){return fu(c,u,!0)},C.sortedLastIndexBy=function(c,u,d){return Vd(c,u,ke(d,2),!0)},C.sortedLastIndexOf=function(c,u){if(null!=c&&c.length){var v=fu(c,u,!0)-1;if(be(c[v],u))return v}return-1},C.startCase=$f,C.startsWith=function(c,u,d){return c=ft(c),d=null==d?0:ar($e(d),0,c.length),u=Wi(u),c.slice(d,d+u.length)==u},C.subtract=cy,C.sum=function(c){return c&&c.length?vd(c,Ki):0},C.sumBy=function(c,u){return c&&c.length?vd(c,ke(u,2)):0},C.template=function(c,u,d){var v=C.templateSettings;d&&Ii(c,u,d)&&(u=M),c=ft(c),u=Ao({},u,v,xi);var I,B,E=Ao({},u.imports,v.imports,xi),P=Ei(E),x=nm(E,P),j=0,W=u.interpolate||od,Q="__p += '",te=Lt((u.escape||od).source+"|"+W.source+"|"+(W===_e?HS:od).source+"|"+(u.evaluate||od).source+"|$","g"),pe="//# sourceURL="+(qe.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Zg+"]")+"\n";c.replace(te,function(Te,Ke,st,an,Oi,Wn){return st||(st=an),Q+=c.slice(j,Wn).replace(US,KR),Ke&&(I=!0,Q+="' +\n__e("+Ke+") +\n'"),Oi&&(B=!0,Q+="';\n"+Oi+";\n__p += '"),st&&(Q+="' +\n((__t = ("+st+")) == null ? '' : __t) +\n'"),j=Wn+Te.length,Te}),Q+="';\n";var Pe=qe.call(u,"variable")&&u.variable;if(Pe){if(pn.test(Pe))throw new Ne("Invalid `variable` option passed into `_.template`")}else Q="with (obj) {\n"+Q+"\n}\n";Q=(B?Q.replace(NS,""):Q).replace(LS,"$1").replace(BS,"$1;"),Q="function("+(Pe||"obj")+") {\n"+(Pe?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(I?", __e = _.escape":"")+(B?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Q+"return __p\n}";var ze=Uf(function(){return dt(P,pe+"return "+Q).apply(M,x)});if(ze.source=Q,cs(ze))throw ze;return ze},C.times=function(c,u){if((c=$e(c))<1||c>Ar)return[];var d=ys,v=ui(c,ys);u=ke(u),c-=ys;for(var E=tm(v,u);++d<c;)u(d);return E},C.toFinite=Ts,C.toInteger=$e,C.toLength=xf,C.toLower=function(c){return ft(c).toLowerCase()},C.toNumber=rn,C.toSafeInteger=function(c){return c?ar($e(c),-Ar,Ar):0===c?c:0},C.toString=ft,C.toUpper=function(c){return ft(c).toUpperCase()},C.trim=function(c,u,d){if((c=ft(c))&&(d||u===M))return im(c);if(!c||!(u=Wi(u)))return c;var v=Tt(c),E=Tt(u);return Fn(v,iw(v,E),nw(v,E)+1).join("")},C.trimEnd=function(c,u,d){if((c=ft(c))&&(d||u===M))return c.slice(0,bd(c)+1);if(!c||!(u=Wi(u)))return c;var v=Tt(c);return Fn(v,0,nw(v,Tt(u))+1).join("")},C.trimStart=function(c,u,d){if((c=ft(c))&&(d||u===M))return c.replace(Re,"");if(!c||!(u=Wi(u)))return c;var v=Tt(c);return Fn(v,iw(v,Tt(u))).join("")},C.truncate=function(c,u){var d=30,v="...";if(jt(u)){var E="separator"in u?u.separator:E;d="length"in u?$e(u.length):d,v="omission"in u?Wi(u.omission):v}var P=(c=ft(c)).length;if(vl(c)){var x=Tt(c);P=x.length}if(d>=P)return c;var I=d-ha(v);if(I<1)return v;var B=x?Fn(x,0,I).join(""):c.slice(0,I);if(E===M)return B+v;if(x&&(I+=B.length-I),Nv(E)){if(c.slice(I).search(E)){var j,W=B;for(E.global||(E=Lt(E.source,ft(FS.exec(E))+"g")),E.lastIndex=0;j=E.exec(W);)var Q=j.index;B=B.slice(0,Q===M?I:Q)}}else if(c.indexOf(Wi(E),I)!=I){var te=B.lastIndexOf(E);te>-1&&(B=B.slice(0,te))}return B+v},C.unescape=function(c){return(c=ft(c))&&Ue.test(c)?c.replace(ct,sw):c},C.uniqueId=function(c){var u=++ow;return ft(c)+u},C.upperCase=Xv,C.upperFirst=Vu,C.each=Co,C.eachRight=vv,C.first=iv,Wf(C,function(){var c={};return ji(C,function(u,d){qe.call(C.prototype,d)||(c[d]=u)}),c}(),{chain:!1}),C.VERSION="4.17.21",Fi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){C[c].placeholder=C}),Fi(["drop","take"],function(c,u){Ae.prototype[c]=function(d){d=d===M?1:ci($e(d),0);var v=this.__filtered__&&!u?new Ae(this):this.clone();return v.__filtered__?v.__takeCount__=ui(d,v.__takeCount__):v.__views__.push({size:ui(d,ys),type:c+(v.__dir__<0?"Right":"")}),v},Ae.prototype[c+"Right"]=function(d){return this.reverse()[c](d).reverse()}}),Fi(["filter","map","takeWhile"],function(c,u){var d=u+1,v=1==d||3==d;Ae.prototype[c]=function(E){var P=this.clone();return P.__iteratees__.push({iteratee:ke(E,3),type:d}),P.__filtered__=P.__filtered__||v,P}}),Fi(["head","last"],function(c,u){var d="take"+(u?"Right":"");Ae.prototype[c]=function(){return this[d](1).value()[0]}}),Fi(["initial","tail"],function(c,u){var d="drop"+(u?"":"Right");Ae.prototype[c]=function(){return this.__filtered__?new Ae(this):this[d](1)}}),Ae.prototype.compact=function(){return this.filter(Ki)},Ae.prototype.find=function(c){return this.filter(c).head()},Ae.prototype.findLast=function(c){return this.reverse().find(c)},Ae.prototype.invokeMap=Ze(function(c,u){return"function"==typeof c?new Ae(this):this.map(function(d){return Pl(d,c,u)})}),Ae.prototype.reject=function(c){return this.filter(kf(ke(c)))},Ae.prototype.slice=function(c,u){c=$e(c);var d=this;return d.__filtered__&&(c>0||u<0)?new Ae(d):(c<0?d=d.takeRight(-c):c&&(d=d.drop(c)),u!==M&&(d=(u=$e(u))<0?d.dropRight(-u):d.take(u-c)),d)},Ae.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},Ae.prototype.toArray=function(){return this.take(ys)},ji(Ae.prototype,function(c,u){var d=/^(?:filter|find|map|reject)|While$/.test(u),v=/^(?:head|last)$/.test(u),E=C[v?"take"+("last"==u?"Right":""):u],P=v||/^find/.test(u);!E||(C.prototype[u]=function(){var x=this.__wrapped__,I=v?[1]:arguments,B=x instanceof Ae,j=I[0],W=B||Se(x),Q=function(Ke){var st=E.apply(C,mi([Ke],I));return v&&te?st[0]:st};W&&d&&"function"==typeof j&&1!=j.length&&(B=W=!1);var te=this.__chain__,pe=!!this.__actions__.length,Pe=P&&!te,ze=B&&!pe;if(!P&&W){x=ze?x:new Ae(this);var Te=c.apply(x,I);return Te.__actions__.push({func:Ul,args:[Q],thisArg:M}),new $n(Te,te)}return Pe&&ze?c.apply(this,I):(Te=this.thru(Q),Pe?v?Te.value()[0]:Te.value():Te)})}),Fi(["pop","push","shift","sort","splice","unshift"],function(c){var u=zc[c],d=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",v=/^(?:pop|shift)$/.test(c);C.prototype[c]=function(){var E=arguments;if(v&&!this.__chain__){var P=this.value();return u.apply(Se(P)?P:[],E)}return this[d](function(x){return u.apply(Se(x)?x:[],E)})}}),ji(Ae.prototype,function(c,u){var d=C[u];if(d){var v=d.name+"";qe.call(Ir,v)||(Ir[v]=[]),Ir[v].push({name:u,func:d})}}),Ir[Il(M,2).name]=[{name:"wrapper",func:M}],Ae.prototype.clone=function(){var c=new Ae(this.__wrapped__);return c.__actions__=vi(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=vi(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=vi(this.__views__),c},Ae.prototype.reverse=function(){if(this.__filtered__){var c=new Ae(this);c.__dir__=-1,c.__filtered__=!0}else(c=this.clone()).__dir__*=-1;return c},Ae.prototype.value=function(){var c=this.__wrapped__.value(),u=this.__dir__,d=Se(c),v=u<0,E=d?c.length:0,P=function(c,u,d){for(var v=-1,E=d.length;++v<E;){var P=d[v],x=P.size;switch(P.type){case"drop":c+=x;break;case"dropRight":u-=x;break;case"take":u=ui(u,c+x);break;case"takeRight":c=ci(c,u-x)}}return{start:c,end:u}}(0,E,this.__views__),x=P.start,I=P.end,B=I-x,j=v?I:x-1,W=this.__iteratees__,Q=W.length,te=0,pe=ui(B,this.__takeCount__);if(!d||!v&&E==B&&pe==B)return Aa(c,this.__actions__);var Pe=[];e:for(;B--&&te<pe;){for(var ze=-1,Te=c[j+=u];++ze<Q;){var Ke=W[ze],an=Ke.type,Oi=(0,Ke.iteratee)(Te);if(2==an)Te=Oi;else if(!Oi){if(1==an)continue e;break e}}Pe[te++]=Te}return Pe},C.prototype.at=xu,C.prototype.chain=function(){return fv(this)},C.prototype.commit=function(){return new $n(this.value(),this.__chain__)},C.prototype.next=function(){this.__values__===M&&(this.__values__=Lv(this.value()));var c=this.__index__>=this.__values__.length;return{done:c,value:c?M:this.__values__[this.__index__++]}},C.prototype.plant=function(c){for(var u,d=this;d instanceof iu;){var v=cf(d);v.__index__=0,v.__values__=M,u?E.__wrapped__=v:u=v;var E=v;d=d.__wrapped__}return E.__wrapped__=c,u},C.prototype.reverse=function(){var c=this.__wrapped__;if(c instanceof Ae){var u=c;return this.__actions__.length&&(u=new Ae(this)),(u=u.reverse()).__actions__.push({func:Ul,args:[Tu],thisArg:M}),new $n(u,this.__chain__)}return this.thru(Tu)},C.prototype.toJSON=C.prototype.valueOf=C.prototype.value=function(){return Aa(this.__wrapped__,this.__actions__)},C.prototype.first=C.prototype.head,co&&(C.prototype[co]=function(){return this}),C}();bt._=oo,(Jn=function(){return oo}.call(Ot,Yt,Ot,Qt))!==M&&(Qt.exports=Jn)}.call(this)},884:(Qt,Ot,Yt)=>{"use strict";var Jn={};function M(n){return"function"==typeof n}Yt.r(Jn),Yt.d(Jn,{afterMain:()=>gV,afterRead:()=>dV,afterWrite:()=>yV,applyStyles:()=>qI,arrow:()=>AV,auto:()=>Pb,basePlacements:()=>Ch,beforeMain:()=>fV,beforeRead:()=>uV,beforeWrite:()=>mV,bottom:()=>us,clippingParents:()=>lV,computeStyles:()=>WI,createPopper:()=>XI,createPopperBase:()=>OK,createPopperLite:()=>LK,detectOverflow:()=>Mh,end:()=>Ah,eventListeners:()=>zI,flip:()=>IV,hide:()=>NV,left:()=>In,main:()=>pV,modifierPhases:()=>_V,offset:()=>LV,placements:()=>HI,popper:()=>Ph,popperGenerator:()=>Ib,popperOffsets:()=>ZI,preventOverflow:()=>BV,read:()=>hV,reference:()=>cV,right:()=>hs,start:()=>gc,top:()=>Mn,variationPlacements:()=>VI,viewport:()=>$I,write:()=>vV});let Qh=!1;const dn={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else Qh&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Qh=n},get useDeprecatedSynchronousErrorHandling(){return Qh}};function Ya(n){setTimeout(()=>{throw n},0)}const Vi={closed:!0,next(n){},error(n){if(dn.useDeprecatedSynchronousErrorHandling)throw n;Ya(n)},complete(){}},nl=Array.isArray||(n=>n&&"number"==typeof n.length);function sl(n){return null!==n&&"object"==typeof n}const ta=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class tt{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof tt)e.remove(this);else if(null!==e)for(let a=0;a<e.length;++a)e[a].remove(this);if(M(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(a){t=a instanceof ta?Yh(a.errors):[a]}}if(nl(r)){let a=-1,o=r.length;for(;++a<o;){const l=r[a];if(sl(l))try{l.unsubscribe()}catch(h){t=t||[],h instanceof ta?t=t.concat(Yh(h.errors)):t.push(h)}}}if(t)throw new ta(t)}add(t){let e=t;if(!t)return tt.EMPTY;switch(typeof t){case"function":e=new tt(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof tt)){const r=e;e=new tt,e._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof tt){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[e]:s.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var n;function Yh(n){return n.reduce((t,e)=>t.concat(e instanceof ta?e.errors:e),[])}tt.EMPTY=((n=new tt).closed=!0,n);const Js="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Nt extends tt{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Vi;break;case 1:if(!t){this.destination=Vi;break}if("object"==typeof t){t instanceof Nt?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new fn(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new fn(this,t,e,i)}}[Js](){return this}static create(t,e,i){const s=new Nt(t,e,i);return s.syncErrorThrowable=!1,s}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class fn extends Nt{constructor(t,e,i,s){super(),this._parentSubscriber=t;let r,a=this;M(e)?r=e:e&&(r=e.next,i=e.error,s=e.complete,e!==Vi&&(a=Object.create(e),M(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=r,this._error=i,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;dn.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=dn;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):Ya(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;Ya(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);dn.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),dn.useDeprecatedSynchronousErrorHandling)throw i;Ya(i)}}__tryOrSetError(t,e,i){if(!dn.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(s){return dn.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):(Ya(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const Qi="function"==typeof Symbol&&Symbol.observable||"@@observable";function na(n){return n}let Je=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,s){const{operator:r}=this,a=function(n,t,e){if(n){if(n instanceof Nt)return n;if(n[Js])return n[Js]()}return n||t||e?new Nt(n,t,e):new Nt(Vi)}(e,i,s);if(a.add(r?r.call(a,this.source):this.source||dn.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),dn.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(i){dn.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof Nt?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=Ja(i))((s,r)=>{let a;a=this.subscribe(o=>{try{e(o)}catch(l){r(l),a&&a.unsubscribe()}},r,s)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[Qi](){return this}pipe(...e){return 0===e.length?this:function(n){return 0===n.length?na:1===n.length?n[0]:function(e){return n.reduce((i,s)=>s(i),e)}}(e)(this)}toPromise(e){return new(e=Ja(e))((i,s)=>{let r;this.subscribe(a=>r=a,a=>s(a),()=>i(r))})}}return n.create=t=>new n(t),n})();function Ja(n){if(n||(n=dn.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const ra=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class Ng extends tt{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class Lg extends Nt{constructor(t){super(t),this.destination=t}}let Xe=(()=>{class n extends Je{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Js](){return new Lg(this)}lift(e){const i=new Jh(this,this);return i.operator=e,i}next(e){if(this.closed)throw new ra;if(!this.isStopped){const{observers:i}=this,s=i.length,r=i.slice();for(let a=0;a<s;a++)r[a].next(e)}}error(e){if(this.closed)throw new ra;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,s=i.length,r=i.slice();for(let a=0;a<s;a++)r[a].error(e);this.observers.length=0}complete(){if(this.closed)throw new ra;this.isStopped=!0;const{observers:e}=this,i=e.length,s=e.slice();for(let r=0;r<i;r++)s[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new ra;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new ra;return this.hasError?(e.error(this.thrownError),tt.EMPTY):this.isStopped?(e.complete(),tt.EMPTY):(this.observers.push(e),new Ng(this,e))}asObservable(){const e=new Je;return e.source=this,e}}return n.create=(t,e)=>new Jh(t,e),n})();class Jh extends Xe{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):tt.EMPTY}}function al(n){return n&&"function"==typeof n.schedule}function vs(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new aa(n,t))}}class aa{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new Ar(t,this.project,this.thisArg))}}class Ar extends Nt{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const Bg=n=>t=>{for(let e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.complete()},Ic="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",ol=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function $g(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const Xa=n=>{if(n&&"function"==typeof n[Qi])return(n=>t=>{const e=n[Qi]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(ol(n))return Bg(n);if($g(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Ya),t))(n);if(n&&"function"==typeof n[Ic])return(n=>t=>{const e=n[Ic]();for(;;){let i;try{i=e.next()}catch(s){return t.error(s),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${sl(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function eo(n,t){return new Je(e=>{const i=new tt;let s=0;return i.add(t.schedule(function(){s!==n.length?(e.next(n[s++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function Rc(n,t){return t?function(n,t){if(null!=n){if(function(n){return n&&"function"==typeof n[Qi]}(n))return function(n,t){return new Je(e=>{const i=new tt;return i.add(t.schedule(()=>{const s=n[Qi]();i.add(s.subscribe({next(r){i.add(t.schedule(()=>e.next(r)))},error(r){i.add(t.schedule(()=>e.error(r)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if($g(n))return function(n,t){return new Je(e=>{const i=new tt;return i.add(t.schedule(()=>n.then(s=>{i.add(t.schedule(()=>{e.next(s),i.add(t.schedule(()=>e.complete()))}))},s=>{i.add(t.schedule(()=>e.error(s)))}))),i})}(n,t);if(ol(n))return eo(n,t);if(function(n){return n&&"function"==typeof n[Ic]}(n)||"string"==typeof n)return function(n,t){if(!n)throw new Error("Iterable cannot be null");return new Je(e=>{const i=new tt;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(t.schedule(()=>{s=n[Ic](),i.add(t.schedule(function(){if(e.closed)return;let r,a;try{const o=s.next();r=o.value,a=o.done}catch(o){return void e.error(o)}a?e.complete():(e.next(r),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof Je?n:new Je(Xa(n))}class Rn extends Nt{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Nc extends Nt{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function Yi(n,t){if(t.closed)return;if(n instanceof Je)return n.subscribe(t);let e;try{e=Xa(n)(t)}catch(i){t.error(i)}return e}function oa(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(oa((s,r)=>Rc(n(s,r)).pipe(vs((a,o)=>t(s,a,r,o))),e)):("number"==typeof t&&(e=t),i=>i.lift(new Bc(n,e)))}class Bc{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new RS(t,this.project,this.concurrent))}}class RS extends Nc{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(e)}_innerSub(t){const e=new Rn(this),i=this.destination;i.add(e);const s=Yi(t,e);s!==e&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Hg(n=Number.POSITIVE_INFINITY){return oa(na,n)}function to(n,t){return t?eo(n,t):new Je(Bg(n))}function Pr(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return al(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof Je?n[0]:Hg(t)(to(n,e))}function Vc(){return function(t){return t.lift(new Zh(t))}}class Zh{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const s=new Xh(t,i),r=e.subscribe(s);return s.closed||(s.connection=i.connect()),r}}class Xh extends Nt{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,s=t._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()}}class ed extends Je{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new tt,t.add(this.source.subscribe(new id(this.getSubject(),this))),t.closed&&(this._connection=null,t=tt.EMPTY)),t}refCount(){return Vc()(this)}}const td=(()=>{const n=ed.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class id extends Lg{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function LS(){return new Xe}function ct(n){for(let t in n)if(n[t]===ct)return t;throw Error("Could not find renamed property on target object.")}function Hc(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ue(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ue).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function rd(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const $S=ct({__forward_ref__:ct});function kt(n){return n.__forward_ref__=kt,n.toString=function(){return Ue(this())},n}function _e(n){return qg(n)?n():n}function qg(n){return"function"==typeof n&&n.hasOwnProperty($S)&&n.__forward_ref__===kt}class Dr extends Error{constructor(t,e){super(function(n,t){return`${n?`NG0${n}: `:""}${t}`}(t,e)),this.code=t}}function Re(n){return"string"==typeof n?n:null==n?"":String(n)}function Hi(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Re(n)}function Fc(n,t){const e=t?` in ${t}`:"";throw new Dr("201",`No provider for ${Hi(n)} found${e}`)}function gn(n,t){null==n&&function(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function he(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function zt(n){return{providers:n.providers||[],imports:n.imports||[]}}function er(n){return Gg(n,io)||Gg(n,hd)}function Gg(n,t){return n.hasOwnProperty(t)?n[t]:null}function cd(n){return n&&(n.hasOwnProperty(ud)||n.hasOwnProperty(qc))?n[ud]:null}const io=ct({\u0275prov:ct}),ud=ct({\u0275inj:ct}),hd=ct({ngInjectableDef:ct}),qc=ct({ngInjectorDef:ct});var Ee=(()=>((Ee=Ee||{})[Ee.Default=0]="Default",Ee[Ee.Host=1]="Host",Ee[Ee.Self=2]="Self",Ee[Ee.SkipSelf=4]="SkipSelf",Ee[Ee.Optional=8]="Optional",Ee))();let dd;function tr(n){const t=dd;return dd=n,t}function Uc(n,t,e){const i=er(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Ee.Optional?null:void 0!==t?t:void Fc(Ue(n),"Injector")}function ir(n){return{toString:n}.toString()}var Ji=(()=>((Ji=Ji||{})[Ji.OnPush=0]="OnPush",Ji[Ji.Default=1]="Default",Ji))(),Jt=(()=>((Jt=Jt||{})[Jt.Emulated=0]="Emulated",Jt[Jt.None=2]="None",Jt[Jt.ShadowDom=3]="ShadowDom",Jt))();const Qg="undefined"!=typeof globalThis&&globalThis,WS="undefined"!=typeof window&&window,Yg="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ht=Qg||"undefined"!=typeof global&&global||WS||Yg,no={},_t=[],hl=ct({\u0275cmp:ct}),fd=ct({\u0275dir:ct}),pd=ct({\u0275pipe:ct}),Jg=ct({\u0275mod:ct}),QS=ct({\u0275loc:ct}),Xn=ct({\u0275fac:ct}),dl=ct({__NG_ELEMENT_ID__:ct});let YS=0;function Nn(n){return ir(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ji.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||_t,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Jt.Emulated,id:"c",styles:n.styles||_t,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.directives,r=n.features,a=n.pipes;return i.id+=YS++,i.inputs=Xg(n.inputs,e),i.outputs=Xg(n.outputs),r&&r.forEach(o=>o(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Zg):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(Dt):null,i})}function Zg(n){return Di(n)||function(n){return n[fd]||null}(n)}function Dt(n){return function(n){return n[pd]||null}(n)}const At={};function ii(n){return ir(()=>{const t={type:n.type,bootstrap:n.bootstrap||_t,declarations:n.declarations||_t,imports:n.imports||_t,exports:n.exports||_t,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(At[n.id]=n.type),t})}function Xg(n,t){if(null==n)return no;const e={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),e[s]=i,t&&(t[s]=r)}return e}const fe=Nn;function Zi(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Di(n){return n[hl]||null}function bt(n,t){const e=n[Jg]||null;if(!e&&!0===t)throw new Error(`Type ${Ue(n)} does not have '\u0275mod' property.`);return e}function es(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ln(n){return Array.isArray(n)&&!0===n[1]}function gl(n){return 0!=(8&n.flags)}function ao(n){return 2==(2&n.flags)}function ml(n){return 1==(1&n.flags)}function ts(n){return null!==n.template}function vd(n){return 0!=(512&n[2])}function ua(n,t){return n.hasOwnProperty(Xn)?n[Xn]:null}class ha{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Tt(){return bd}function bd(n){return n.type.prototype.ngOnChanges&&(n.setInput=rw),sw}function sw(){const n=am(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===no)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function rw(n,t,e,i){const s=am(n)||function(n,t){return n[rm]=t}(n,{previous:no,current:null}),r=s.current||(s.current={}),a=s.previous,o=this.declaredInputs[e],l=a[o];r[o]=new ha(l&&l.currentValue,t,a===no),n[i]=t}Tt.ngInherit=!0;const rm="__ngSimpleChanges__";function am(n){return n[rm]||null}const V="http://www.w3.org/2000/svg";let Ne;function Lt(n){return!!n.listen}const vn={createRenderer:(n,t)=>void 0!==Ne?Ne:"undefined"!=typeof document?document:void 0};function ni(n){for(;Array.isArray(n);)n=n[0];return n}function da(n,t){return ni(t[n])}function qe(n,t){return ni(t[n.index])}function Kc(n,t){return n.data[t]}function yn(n,t){const e=t[n];return es(e)?e:e[0]}function om(n){return 4==(4&n[2])}function wd(n){return 128==(128&n[2])}function qi(n,t){return null==t?null:n[t]}function yl(n){n[18]=0}function Yc(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const De={lFrame:ho(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function co(){return De.bindingsEnabled}function K(){return De.lFrame.lView}function ot(){return De.lFrame.tView}function Bt(n){return De.lFrame.contextLView=n,n[8]}function Kt(){let n=_l();for(;null!==n&&64===n.type;)n=n.parent;return n}function _l(){return De.lFrame.currentTNode}function Ss(n,t){const e=De.lFrame;e.currentTNode=n,e.isParent=t}function Xc(){return De.lFrame.isParent}function Ed(){De.lFrame.isParent=!1}function ui(){return De.isInCheckNoChangesMode}function eu(n){De.isInCheckNoChangesMode=n}function Ui(){const n=De.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function is(){return De.lFrame.bindingIndex}function Mr(){return De.lFrame.bindingIndex++}function _n(n){const t=De.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function bl(n,t){const e=De.lFrame;e.bindingIndex=e.bindingRootIndex=n,uo(t)}function uo(n){De.lFrame.currentDirectiveIndex=n}function hm(){return De.lFrame.currentQueryIndex}function Cd(n){De.lFrame.currentQueryIndex=n}function cw(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function dm(n,t,e){if(e&Ee.SkipSelf){let s=t,r=n;for(;!(s=s.parent,null!==s||e&Ee.Host||(s=cw(r),null===s||(r=r[15],10&s.type))););if(null===s)return!1;t=s,n=r}const i=De.lFrame=wl();return i.currentTNode=t,i.lView=n,!0}function tu(n){const t=wl(),e=n[1];De.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function wl(){const n=De.lFrame,t=null===n?null:n.child;return null===t?ho(n):t}function ho(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Ad(){const n=De.lFrame;return De.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const C=Ad;function rr(){const n=Ad();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ae(){return De.lFrame.selectedIndex}function Or(n){De.lFrame.selectedIndex=n}function Ut(){const n=De.lFrame;return Kc(n.tView,n.selectedIndex)}function Pd(){De.lFrame.currentNamespace=V}function Dd(){De.lFrame.currentNamespace=null}function nu(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const r=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:o,ngAfterViewInit:l,ngAfterViewChecked:h,ngOnDestroy:f}=r;a&&(n.contentHooks||(n.contentHooks=[])).push(-e,a),o&&((n.contentHooks||(n.contentHooks=[])).push(e,o),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,o)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),h&&((n.viewHooks||(n.viewHooks=[])).push(e,h),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,h)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(e,f)}}function Vn(n,t,e){fm(n,t,3,e)}function su(n,t,e,i){(3&n[2])===e&&fm(n,t,e,i)}function Td(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function fm(n,t,e,i){const r=null!=i?i:-1,a=t.length-1;let o=0;for(let l=void 0!==i?65535&n[18]:0;l<a;l++)if("number"==typeof t[l+1]){if(o=t[l],null!=i&&o>=i)break}else t[l]<0&&(n[18]+=65536),(o<r||-1==r)&&(fw(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function fw(n,t,e,i){const s=e[i]<0,r=e[i+1],o=n[s?-e[i]:e[i]];if(s){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{r.call(o)}finally{}}}else try{r.call(o)}finally{}}class bn{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function en(n,t,e){const i=Lt(n);let s=0;for(;s<e.length;){const r=e[s];if("number"==typeof r){if(0!==r)break;s++;const a=e[s++],o=e[s++],l=e[s++];i?n.setAttribute(t,o,l,a):t.setAttributeNS(a,o,l)}else{const a=r,o=e[++s];Md(a)?i&&n.setProperty(t,a,o):i?n.setAttribute(t,a,o):t.setAttribute(a,o),s++}}return s}function pm(n){return 3===n||4===n||6===n}function Md(n){return 64===n.charCodeAt(0)}function ru(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?e=s:0===e||gm(n,e,s,null,-1===e||2===e?t[++i]:null)}}return n}function gm(n,t,e,i,s){let r=0,a=n.length;if(-1===t)a=-1;else for(;r<n.length;){const o=n[r++];if("number"==typeof o){if(o===t){a=-1;break}if(o>t){a=r-1;break}}}for(;r<n.length;){const o=n[r];if("number"==typeof o)break;if(o===e){if(null===i)return void(null!==s&&(n[r+1]=s));if(i===n[r+1])return void(n[r+2]=s)}r++,null!==i&&r++,null!==s&&r++}-1!==a&&(n.splice(a,0,t),r=a+1),n.splice(r++,0,e),null!==i&&n.splice(r++,0,i),null!==s&&n.splice(r++,0,s)}function mm(n){return-1!==n}function ya(n){return 32767&n}function fo(n,t){let e=function(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Id=!0;function po(n){const t=Id;return Id=n,t}let _m=0;function Sn(n,t){const e=ar(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,Cl(i.data,n),Cl(t,null),Cl(i.blueprint,null));const s=Gi(n,t),r=n.injectorIndex;if(mm(s)){const a=ya(s),o=fo(s,t),l=o[1].data;for(let h=0;h<8;h++)t[r+h]=o[a+h]|l[a+h]}return t[r+8]=s,r}function Cl(n,t){n.push(0,0,0,0,0,0,0,0,t)}function ar(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Gi(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,s=t;for(;null!==s;){const r=s[1],a=r.type;if(i=2===a?r.declTNode:1===a?s[6]:null,null===i)return-1;if(e++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function ou(n,t,e){!function(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(dl)&&(i=e[dl]),null==i&&(i=e[dl]=_m++);const s=255&i;t.data[n+(s>>5)]|=1<<s}(n,t,e)}function Od(n,t,e){if(e&Ee.Optional)return n;Fc(t,"NodeInjector")}function go(n,t,e,i){if(e&Ee.Optional&&void 0===i&&(i=null),0==(e&(Ee.Self|Ee.Host))){const s=n[9],r=tr(void 0);try{return s?s.get(t,i,e&Ee.Optional):Uc(t,i,e&Ee.Optional)}finally{tr(r)}}return Od(i,t,e)}function or(n,t,e,i=Ee.Default,s){if(null!==n){const r=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(dl)?n[dl]:void 0;return"number"==typeof t?t>=0?255&t:yw:t}(e);if("function"==typeof r){if(!dm(t,n,i))return i&Ee.Host?Od(s,e,i):go(t,e,i,s);try{const a=r(i);if(null!=a||i&Ee.Optional)return a;Fc(e)}finally{C()}}else if("number"==typeof r){let a=null,o=ar(n,t),l=-1,h=i&Ee.Host?t[16][6]:null;for((-1===o||i&Ee.SkipSelf)&&(l=-1===o?Gi(n,t):t[o+8],-1!==l&&Nd(i,!1)?(a=t[1],o=ya(l),t=fo(l,t)):o=-1);-1!==o;){const f=t[1];if(uu(r,o,f.data)){const m=lu(o,t,e,a,i,h);if(m!==Rd)return m}l=t[o+8],-1!==l&&Nd(i,t[1].data[o+8]===h)&&uu(r,o,t)?(a=f,o=ya(l),t=fo(l,t)):o=-1}}}return go(t,e,i,s)}const Rd={};function yw(){return new ji(Kt(),K())}function lu(n,t,e,i,s,r){const a=t[1],o=a.data[n+8],f=cu(o,a,e,null==i?ao(o)&&Id:i!=a&&0!=(3&o.type),s&Ee.Host&&r===o);return null!==f?mo(t,a,f,o):Rd}function cu(n,t,e,i,s){const r=n.providerIndexes,a=t.data,o=1048575&r,l=n.directiveStart,f=r>>20,y=s?o+f:n.directiveEnd;for(let S=i?o:o+f;S<y;S++){const k=a[S];if(S<l&&e===k||S>=l&&k.type===e)return S}if(s){const S=a[l];if(S&&ts(S)&&S.type===e)return l}return null}function mo(n,t,e,i){let s=n[e];const r=t.data;if(function(n){return n instanceof bn}(s)){const a=s;a.resolving&&function(n,t){throw new Dr("200",`Circular dependency in DI detected for ${n}`)}(Hi(r[e]));const o=po(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?tr(a.injectImpl):null;dm(n,i,Ee.Default);try{s=n[e]=a.factory(void 0,r,n,i),t.firstCreatePass&&e>=i.directiveStart&&function(n,t,e){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:r}=t.type.prototype;if(i){const a=bd(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,a)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,s),r&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,r),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,r))}(e,r[e],t)}finally{null!==l&&tr(l),po(o),a.resolving=!1,C()}}return s}function uu(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function Nd(n,t){return!(n&Ee.Self||n&Ee.Host&&t)}class ji{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return or(this._tNode,this._lView,t,i,e)}}function tn(n){return ir(()=>{const t=n.prototype.constructor,e=t[Xn]||vo(t),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const r=s[Xn]||vo(s);if(r&&r!==e)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function vo(n){return qg(n)?()=>{const t=vo(_e(n));return t&&t()}:ua(n)}const si="__parameters__";function ba(n,t,e){return ir(()=>{const i=function(n){return function(...e){if(n){const i=n(...e);for(const s in i)this[s]=i[s]}}}(t);function s(...r){if(this instanceof s)return i.apply(this,r),this;const a=new s(...r);return o.annotation=a,o;function o(l,h,f){const m=l.hasOwnProperty(si)?l[si]:Object.defineProperty(l,si,{value:[]})[si];for(;m.length<=f;)m.push(null);return(m[f]=m[f]||[]).push(a),l}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class we{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=he({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function wn(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),wn(i,t)):t!==n&&t.push(i)}return t}function ws(n,t){n.forEach(e=>Array.isArray(e)?ws(e,t):t(e))}function Dl(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Ea(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function En(n,t,e){let i=Ca(n,t);return i>=0?n[1|i]=e:(i=~i,function(n,t,e,i){let s=n.length;if(s==t)n.push(e,i);else if(1===s)n.push(i,n[0]),n[0]=e;else{for(s--,n.push(n[s-1],n[s]);s>t;)n[s]=n[s-2],s--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function ka(n,t){const e=Ca(n,t);if(e>=0)return n[1|e]}function Ca(n,t){return function(n,t,e){let i=0,s=n.length>>e;for(;s!==i;){const r=i+(s-i>>1),a=n[r<<e];if(t===a)return r<<e;a>t?s=r:i=r+1}return~(s<<e)}(n,t,1)}const _o={},bo="__NG_DI_FLAG__",Aa="ngTempTokenPath",Mm=/\n/gm,Tl="__source",qd=ct({provide:String,useValue:ct});let Fn;function Da(n){const t=Fn;return Fn=n,t}function Im(n,t=Ee.Default){if(void 0===Fn)throw new Error("inject() must be called from an injection context");return null===Fn?Uc(n,void 0,t):Fn.get(n,t&Ee.Optional?null:void 0,t)}function F(n,t=Ee.Default){return(dd||Im)(_e(n),t)}const Aw=F;function Ta(n){const t=[];for(let e=0;e<n.length;e++){const i=_e(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let s,r=Ee.Default;for(let a=0;a<i.length;a++){const o=i[a],l=Rm(o);"number"==typeof l?-1===l?s=o.token:r|=l:s=o}t.push(F(s,r))}else t.push(F(i))}return t}function So(n,t){return n[bo]=t,n.prototype[bo]=t,n}function Rm(n){return n[bo]}function Nm(n,t,e,i){const s=n[Aa];throw t[Tl]&&s.unshift(t[Tl]),n.message=function(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let s=Ue(t);if(Array.isArray(t))s=t.map(Ue).join(" -> ");else if("object"==typeof t){let r=[];for(let a in t)if(t.hasOwnProperty(a)){let o=t[a];r.push(a+":"+("string"==typeof o?JSON.stringify(o):Ue(o)))}s=`{${r.join(", ")}}`}return`${e}${i?"("+i+")":""}[${s}]: ${n.replace(Mm,"\n  ")}`}("\n"+n.message,s,e,i),n.ngTokenPath=s,n[Aa]=null,n}const vi=So(ba("Inject",n=>({token:n})),-1),hi=So(ba("Optional"),8),xa=So(ba("SkipSelf"),4);var nn=(()=>((nn=nn||{})[nn.Important=1]="Important",nn[nn.DashCase=2]="DashCase",nn))();const Kd="__ngContext__";function Mi(n,t){n[Kd]=t}function ss(n){const t=function(n){return n[Kd]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function Nl(n,t){return undefined(n,t)}function Ll(n){const t=n[3];return Ln(t)?t[3]:t}function ef(n){return jm(n[13])}function Su(n){return jm(n[4])}function jm(n){for(;null!==n&&!Ln(n);)n=n[4];return n}function Eo(n,t,e,i,s){if(null!=i){let r,a=!1;Ln(i)?r=i:es(i)&&(a=!0,i=i[0]);const o=ni(i);0===n&&null!==e?null==s?ko(t,e,o):Lr(t,e,o,s||null,!0):1===n&&null!==e?Lr(t,e,o,s||null,!0):2===n?function(n,t,e){const i=$l(n,t);i&&function(n,t,e,i){Lt(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,o,a):3===n&&t.destroyNode(o),null!=r&&function(n,t,e,i,s){const r=e[7];r!==ni(e)&&Eo(t,n,i,r,s);for(let o=10;o<e.length;o++){const l=e[o];Vl(l[1],l,n,t,i,r)}}(t,n,r,e,s)}}function nf(n,t,e){return Lt(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function Km(n,t){const e=n[9],i=e.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,Yc(s,-1)),e.splice(i,1)}function rf(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const s=i[17];null!==s&&s!==n&&Km(s,i),t>0&&(n[e-1][4]=i[4]);const r=Ea(n,10+t);!function(n,t){Vl(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const a=r[19];null!==a&&a.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Qm(n,t){if(!(256&t[2])){const e=t[11];Lt(e)&&e.destroyNode&&Vl(n,t,e,3,null,null),function(n){let t=n[13];if(!t)return af(n[1],n);for(;t;){let e=null;if(es(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)es(t)&&af(t[1],t),t=t[3];null===t&&(t=n),es(t)&&af(t[1],t),e=t&&t[4]}t=e}}(t)}}function af(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const s=t[e[i]];if(!(s instanceof bn)){const r=e[i+1];if(Array.isArray(r))for(let a=0;a<r.length;a+=2){const o=s[r[a]],l=r[a+1];try{l.call(o)}finally{}}else try{r.call(s)}finally{}}}}(n,t),function(n,t){const e=n.cleanup,i=t[7];let s=-1;if(null!==e)for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const a=e[r+1],o="function"==typeof a?a(t):ni(t[a]),l=i[s=e[r+2]],h=e[r+3];"boolean"==typeof h?o.removeEventListener(e[r],l,h):h>=0?i[s=h]():i[s=-h].unsubscribe(),r+=2}else{const a=i[s=e[r+1]];e[r].call(a)}if(null!==i){for(let r=s+1;r<i.length;r++)i[r]();t[7]=null}}(n,t),1===t[1].type&&Lt(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Ln(t[3])){e!==t[3]&&Km(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function Zm(n,t,e){return function(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const s=n.data[i.directiveStart].encapsulation;if(s===Jt.None||s===Jt.Emulated)return null}return qe(i,e)}(n,t.parent,e)}function Lr(n,t,e,i,s){Lt(n)?n.insertBefore(t,e,i,s):t.insertBefore(e,i,s)}function ko(n,t,e){Lt(n)?n.appendChild(t,e):t.appendChild(e)}function Eu(n,t,e,i,s){null!==i?Lr(n,t,e,i,s):ko(n,t,e)}function $l(n,t){return Lt(n)?n.parentNode(t):t.parentNode}let Br=function(n,t,e){return 40&n.type?qe(n,e):null};function Cu(n,t,e,i){const s=Zm(n,i,t),r=t[11],o=function(n,t,e){return Br(n,t,e)}(i.parent||t[6],i,t);if(null!=s)if(Array.isArray(e))for(let l=0;l<e.length;l++)Eu(r,s,e[l],o,!1);else Eu(r,s,e,o,!1)}function Au(n,t){if(null!==t){const e=t.type;if(3&e)return qe(t,n);if(4&e)return uf(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Au(n,i);{const s=n[t.index];return Ln(s)?uf(-1,s):ni(s)}}if(32&e)return Nl(t,n)()||ni(n[t.index]);{const i=ev(n,t);return null!==i?Array.isArray(i)?i[0]:Au(Ll(n[16]),i):Au(n,t.next)}}return null}function ev(n,t){return null!==t?n[16][6].projection[t.projection]:null}function uf(n,t){const e=10+n+1;if(e<t.length){const i=t[e],s=i[1].firstChild;if(null!==s)return Au(i,s)}return t[7]}function df(n,t,e,i,s,r,a){for(;null!=e;){const o=i[e.index],l=e.type;if(a&&0===t&&(o&&Mi(ni(o),i),e.flags|=4),64!=(64&e.flags))if(8&l)df(n,t,e.child,i,s,r,!1),Eo(t,n,s,o,r);else if(32&l){const h=Nl(e,i);let f;for(;f=h();)Eo(t,n,s,f,r);Eo(t,n,s,o,r)}else 16&l?tv(n,t,i,e,s,r):Eo(t,n,s,o,r);e=a?e.projectionNext:e.next}}function Vl(n,t,e,i,s,r){df(e,i,n.firstChild,t,s,r,!1)}function tv(n,t,e,i,s,r){const a=e[16],l=a[6].projection[i.projection];if(Array.isArray(l))for(let h=0;h<l.length;h++)Eo(t,n,s,l[h],r);else df(n,t,l,a[3],s,r,!0)}function ff(n,t,e){Lt(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function Pu(n,t,e){Lt(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function Cn(n){return n instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}function Mu(n){return n.ngOriginalError}function dE(n,...t){n.error(...t)}class La{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=this._findContext(t),s=function(n){return n&&n.ngErrorLogger||dE}(t);s(this._console,"ERROR",t),e&&s(this._console,"ORIGINAL ERROR",e),i&&s(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?function(n){return n.ngDebugContext}(t)||this._findContext(Mu(t)):null}_findOriginalError(t){let e=t&&Mu(t);for(;e&&Mu(e);)e=Mu(e);return e||null}}const wf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ht))();function os(n){return n instanceof Function?n():n}function jl(n,t,e){let i=n.length;for(;;){const s=n.indexOf(t,e);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const r=t.length;if(s+r===i||n.charCodeAt(s+r)<=32)return s}e=s+1}}const Cv="ng-template";function yE(n,t,e){let i=0;for(;i<n.length;){let s=n[i++];if(e&&"class"===s){if(s=n[i],-1!==jl(s.toLowerCase(),t,0))return!0}else if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function Iu(n){return 4===n.type&&n.value!==Cv}function Av(n,t,e){return t===(4!==n.type||e?n.value:Cv)}function _E(n,t,e){let i=4;const s=n.attrs||[],r=function(n){for(let t=0;t<n.length;t++)if(pm(n[t]))return t;return n.length}(s);let a=!1;for(let o=0;o<t.length;o++){const l=t[o];if("number"!=typeof l){if(!a)if(4&i){if(i=2|1&i,""!==l&&!Av(n,l,e)||""===l&&1===t.length){if(ls(i))return!1;a=!0}}else{const h=8&i?l:t[++o];if(8&i&&null!==n.attrs){if(!yE(n.attrs,h,e)){if(ls(i))return!1;a=!0}continue}const m=bE(8&i?"class":l,s,Iu(n),e);if(-1===m){if(ls(i))return!1;a=!0;continue}if(""!==h){let y;y=m>r?"":s[m+1].toLowerCase();const S=8&i?y:null;if(S&&-1!==jl(S,h,0)||2&i&&h!==y){if(ls(i))return!1;a=!0}}}}else{if(!a&&!ls(i)&&!ls(l))return!1;if(a&&ls(l))continue;a=!1,i=l|1&i}}return ls(i)||a}function ls(n){return 0==(1&n)}function bE(n,t,e,i){if(null===t)return-1;let s=0;if(i||!e){let r=!1;for(;s<t.length;){const a=t[s];if(a===n)return s;if(3===a||6===a)r=!0;else{if(1===a||2===a){let o=t[++s];for(;"string"==typeof o;)o=t[++s];continue}if(4===a)break;if(0===a){s+=4;continue}}s+=r?1:2}return-1}return function(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Pv(n,t,e=!1){for(let i=0;i<t.length;i++)if(_E(n,t[i],e))return!0;return!1}function Dv(n,t){return n?":not("+t.trim()+")":t}function CE(n){let t=n[0],e=1,i=2,s="",r=!1;for(;e<n.length;){let a=n[e];if("string"==typeof a)if(2&i){const o=n[++e];s+="["+a+(o.length>0?'="'+o+'"':"")+"]"}else 8&i?s+="."+a:4&i&&(s+=" "+a);else""!==s&&!ls(a)&&(t+=Dv(r,s),s=""),i=a,r=r||!ls(i);e++}return""!==s&&(t+=Dv(r,s)),t}const be={};function H(n){Tv(ot(),K(),Ae()+n,ui())}function Tv(n,t,e,i){if(!i)if(3==(3&t[2])){const r=n.preOrderCheckHooks;null!==r&&Vn(t,r,e)}else{const r=n.preOrderHooks;null!==r&&su(t,r,0,e)}Or(e)}function Ps(n,t){return n<<17|t<<2}function Se(n){return n>>17&32767}function Gt(n){return 2|n}function cr(n){return(131068&n)>>2}function Ds(n,t){return-131069&n|t<<2}function Cf(n){return 1|n}function $v(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i],r=e[i+1];if(-1!==r){const a=n.data[r];Cd(s),a.contentQueries(2,t[r],r)}}}function zl(n,t,e,i,s,r,a,o,l,h){const f=t.blueprint.slice();return f[0]=s,f[2]=140|i,yl(f),f[3]=f[15]=n,f[8]=e,f[10]=a||n&&n[10],f[11]=o||n&&n[11],f[12]=l||n&&n[12]||null,f[9]=h||n&&n[9]||null,f[6]=r,f[16]=2==t.type?n[16]:f,f}function Po(n,t,e,i,s){let r=n.data[t];if(null===r)r=function(n,t,e,i,s){const r=_l(),a=Xc(),l=n.data[t]=function(n,t,e,i,s,r){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?r:r&&r.parent,e,t,i,s);return null===n.firstChild&&(n.firstChild=l),null!==r&&(a?null==r.child&&null!==l.parent&&(r.child=l):null===r.next&&(r.next=l)),l}(n,t,e,i,s),De.lFrame.inI18n&&(r.flags|=64);else if(64&r.type){r.type=e,r.value=i,r.attrs=s;const a=function(){const n=De.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();r.injectorIndex=null===a?-1:a.injectorIndex}return Ss(r,!0),r}function Do(n,t,e,i){if(0===e)return-1;const s=t.length;for(let r=0;r<e;r++)t.push(i),n.blueprint.push(i),n.data.push(null);return s}function Kl(n,t,e){tu(t);try{const i=n.viewQuery;null!==i&&Ff(1,i,e);const s=n.template;null!==s&&Vv(n,t,s,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&$v(n,t),n.staticViewQueries&&Ff(2,n.viewQuery,e);const r=n.components;null!==r&&function(n,t){for(let e=0;e<t.length;e++)tk(n,t[e])}(t,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,rr()}}function To(n,t,e,i){const s=t[2];if(256==(256&s))return;tu(t);const r=ui();try{yl(t),function(n){De.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Vv(n,t,e,2,i);const a=3==(3&s);if(!r)if(a){const h=n.preOrderCheckHooks;null!==h&&Vn(t,h,null)}else{const h=n.preOrderHooks;null!==h&&su(t,h,0,null),Td(t,0)}if(function(n){for(let t=ef(n);null!==t;t=Su(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const s=e[i],r=s[3];0==(1024&s[2])&&Yc(r,1),s[2]|=1024}}}(t),function(n){for(let t=ef(n);null!==t;t=Su(t))for(let e=10;e<t.length;e++){const i=t[e],s=i[1];wd(i)&&To(s,i,s.template,i[8])}}(t),null!==n.contentQueries&&$v(n,t),!r)if(a){const h=n.contentCheckHooks;null!==h&&Vn(t,h)}else{const h=n.contentHooks;null!==h&&su(t,h,1),Td(t,1)}!function(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)Or(~s);else{const r=s,a=e[++i],o=e[++i];bl(a,r),o(2,t[r])}}}finally{Or(-1)}}(n,t);const o=n.components;null!==o&&function(n,t){for(let e=0;e<t.length;e++)ek(n,t[e])}(t,o);const l=n.viewQuery;if(null!==l&&Ff(2,l,i),!r)if(a){const h=n.viewCheckHooks;null!==h&&Vn(t,h)}else{const h=n.viewHooks;null!==h&&su(t,h,2),Td(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Yc(t[3],-1))}finally{rr()}}function $E(n,t,e,i){const s=t[10],r=!ui(),a=om(t);try{r&&!a&&s.begin&&s.begin(),a&&Kl(n,t,i),To(n,t,e,i)}finally{r&&!a&&s.end&&s.end()}}function Vv(n,t,e,i,s){const r=Ae(),a=2&i;try{Or(-1),a&&t.length>20&&Tv(n,t,20,ui()),e(i,s)}finally{Or(r)}}function Hv(n,t,e){if(gl(t)){const s=t.directiveEnd;for(let r=t.directiveStart;r<s;r++){const a=n.data[r];a.contentQueries&&a.contentQueries(1,e[r],r)}}}function Ql(n,t,e){!co()||(function(n,t,e,i){const s=e.directiveStart,r=e.directiveEnd;n.firstCreatePass||Sn(e,t),Mi(i,t);const a=e.initialInputs;for(let o=s;o<r;o++){const l=n.data[o],h=ts(l);h&&QE(t,e,l);const f=mo(t,n,o,e);Mi(f,t),null!==a&&YE(0,o-s,f,l,0,a),h&&(yn(e.index,t)[8]=f)}}(n,t,e,qe(e,t)),128==(128&e.flags)&&function(n,t,e){const i=e.directiveStart,s=e.directiveEnd,a=e.index,o=De.lFrame.currentDirectiveIndex;try{Or(a);for(let l=i;l<s;l++){const h=n.data[l],f=t[l];uo(l),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&Qv(h,f)}}finally{Or(-1),uo(o)}}(n,t,e))}function If(n,t,e=qe){const i=t.localNames;if(null!==i){let s=t.index+1;for(let r=0;r<i.length;r+=2){const a=i[r+1],o=-1===a?e(t,n):n[a];n[s++]=o}}}function Lu(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Bu(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Bu(n,t,e,i,s,r,a,o,l,h){const f=20+i,m=f+s,y=function(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:be);return e}(f,m),S="function"==typeof h?h():h;return y[1]={type:n,blueprint:y,template:e,queries:null,viewQuery:o,declTNode:t,data:y.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:S,incompleteFirstPass:!1}}function qv(n,t,e,i){const s=Xv(t);null===e?s.push(i):(s.push(e),n.firstCreatePass&&Vu(n).push(i,s.length-1))}function Uv(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const s=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,s):e[i]=[t,s]}return e}function An(n,t,e,i,s,r,a,o){const l=qe(t,e);let f,h=t.inputs;!o&&null!=h&&(f=h[i])?(ey(n,e,f,i,s),ao(t)&&function(n,t){const e=yn(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=a?a(s,t.value||"",i):s,Lt(r)?r.setProperty(l,i,s):Md(i)||(l.setProperty?l.setProperty(i,s):l[i]=s))}function Of(n,t,e,i){let s=!1;if(co()){const r=function(n,t,e){const i=n.directiveRegistry;let s=null;if(i)for(let r=0;r<i.length;r++){const a=i[r];Pv(e,a.selectors,!1)&&(s||(s=[]),ou(Sn(e,t),n,a.type),ts(a)?(Yv(n,e),s.unshift(a)):s.push(a))}return s}(n,t,e),a=null===i?null:{"":-1};if(null!==r){s=!0,Rf(e,n.data.length,r.length);for(let f=0;f<r.length;f++){const m=r[f];m.providersResolver&&m.providersResolver(m)}let o=!1,l=!1,h=Do(n,t,r.length,null);for(let f=0;f<r.length;f++){const m=r[f];e.mergedAttrs=ru(e.mergedAttrs,m.hostAttrs),Nf(n,e,t,h,m),KE(h,m,a),null!==m.contentQueries&&(e.flags|=8),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(e.flags|=128);const y=m.type.prototype;!o&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),o=!0),!l&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),h++}!function(n,t){const i=t.directiveEnd,s=n.data,r=t.attrs,a=[];let o=null,l=null;for(let h=t.directiveStart;h<i;h++){const f=s[h],m=f.inputs,y=null===r||Iu(t)?null:JE(m,r);a.push(y),o=Uv(m,h,o),l=Uv(f.outputs,h,l)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=o,t.outputs=l}(n,e)}a&&function(n,t,e){if(t){const i=n.localNames=[];for(let s=0;s<t.length;s+=2){const r=e[t[s+1]];if(null==r)throw new Dr("301",`Export of name '${t[s+1]}' not found!`);i.push(t[s],r)}}}(e,i,a)}return e.mergedAttrs=ru(e.mergedAttrs,e.attrs),s}function Kv(n,t,e,i,s,r){const a=r.hostBindings;if(a){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const l=~t.index;(function(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=l&&o.push(l),o.push(i,s,a)}}function Qv(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Yv(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function KE(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;ts(t)&&(e[""]=n)}}function Rf(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Nf(n,t,e,i,s){n.data[i]=s;const r=s.factory||(s.factory=ua(s.type)),a=new bn(r,ts(s),null);n.blueprint[i]=a,e[i]=a,Kv(n,t,0,i,Do(n,e,s.hostVars,be),s)}function QE(n,t,e){const i=qe(t,n),s=Lu(e),r=n[10],a=$u(n,zl(n,s,null,e.onPush?64:16,i,t,r,r.createRenderer(i,e),null,null));n[t.index]=a}function xs(n,t,e,i,s,r){const a=qe(n,t);!function(n,t,e,i,s,r,a){if(null==r)Lt(n)?n.removeAttribute(t,s,e):t.removeAttribute(s);else{const o=null==a?Re(r):a(r,i||"",s);Lt(n)?n.setAttribute(t,s,o,e):e?t.setAttributeNS(e,s,o):t.setAttribute(s,o)}}(t[11],a,r,n.value,e,i,s)}function YE(n,t,e,i,s,r){const a=r[t];if(null!==a){const o=i.setInput;for(let l=0;l<a.length;){const h=a[l++],f=a[l++],m=a[l++];null!==o?i.setInput(e,m,h,f):e[f]=m}}}function JE(n,t){let e=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;n.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,n[s],t[i+1])),i+=2}else i+=2;else i+=4}return e}function Jv(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function ek(n,t){const e=yn(t,n);if(wd(e)){const i=e[1];80&e[2]?To(i,e,i.template,e[8]):e[5]>0&&Bf(e)}}function Bf(n){for(let i=ef(n);null!==i;i=Su(i))for(let s=10;s<i.length;s++){const r=i[s];if(1024&r[2]){const a=r[1];To(a,r,a.template,r[8])}else r[5]>0&&Bf(r)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const s=yn(e[i],n);wd(s)&&s[5]>0&&Bf(s)}}function tk(n,t){const e=yn(t,n),i=e[1];(function(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Kl(i,e,e[8])}function $u(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function $f(n){for(;n;){n[2]|=64;const t=Ll(n);if(vd(n)&&!t)return n;n=t}return null}function Hf(n,t,e){const i=t[10];i.begin&&i.begin();try{To(n,t,n.template,e)}catch(s){throw Uf(t,s),s}finally{i.end&&i.end()}}function Zv(n){!function(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=ss(e),s=i[1];$E(s,i,s.template,e)}}(n[8])}function Ff(n,t,e){Cd(0),t(n,e)}const ak=(()=>Promise.resolve(null))();function Xv(n){return n[7]||(n[7]=[])}function Vu(n){return n.cleanup||(n.cleanup=[])}function Uf(n,t){const e=n[9],i=e?e.get(La,null):null;i&&i.handleError(t)}function ey(n,t,e,i,s){for(let r=0;r<e.length;){const a=e[r++],o=e[r++],l=t[a],h=n.data[a];null!==h.setInput?h.setInput(l,s,i,o):l[o]=s}}function ur(n,t,e){const i=da(t,n);!function(n,t,e){Lt(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function Hu(n,t,e){let i=e?n.styles:null,s=e?n.classes:null,r=0;if(null!==t)for(let a=0;a<t.length;a++){const o=t[a];"number"==typeof o?r=o:1==r?s=rd(s,o):2==r&&(i=rd(i,o+": "+t[++a]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=s:n.classesWithoutHost=s}const Mo=new we("INJECTOR",-1);class Ki{get(t,e=_o){if(e===_o){const i=new Error(`NullInjectorError: No provider for ${Ue(t)}!`);throw i.name="NullInjectorError",i}return e}}const $a=new we("Set Injector scope."),Yl={},lk={};let jf;function ty(){return void 0===jf&&(jf=new Ki),jf}function iy(n,t=null,e=null,i){return new zf(n,e,t||ty(),i)}class zf{constructor(t,e,i,s=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&ws(e,o=>this.processProvider(o,t,e)),ws([t],o=>this.processInjectorType(o,[],r)),this.records.set(Mo,Va(void 0,this));const a=this.records.get($a);this.scope=null!=a?a.value:null,this.source=s||("object"==typeof t?null:Ue(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=_o,i=Ee.Default){this.assertNotDestroyed();const s=Da(this),r=tr(void 0);try{if(!(i&Ee.SkipSelf)){let o=this.records.get(t);if(void 0===o){const l=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof we}(t)&&er(t);o=l&&this.injectableDefInScope(l)?Va(Kf(t),Yl):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(i&Ee.Self?ty():this.parent).get(t,e=i&Ee.Optional&&e===_o?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Aa]=a[Aa]||[]).unshift(Ue(t)),s)throw a;return Nm(a,t,"R3InjectorError",this.source)}throw a}finally{tr(r),Da(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,s)=>t.push(Ue(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,i){if(!(t=_e(t)))return!1;let s=cd(t);const r=null==s&&t.ngModule||void 0,a=void 0===r?t:r,o=-1!==i.indexOf(a);if(void 0!==r&&(s=cd(r)),null==s)return!1;if(null!=s.imports&&!o){let f;i.push(a);try{ws(s.imports,m=>{this.processInjectorType(m,e,i)&&(void 0===f&&(f=[]),f.push(m))})}finally{}if(void 0!==f)for(let m=0;m<f.length;m++){const{ngModule:y,providers:S}=f[m];ws(S,k=>this.processProvider(k,y,S||_t))}}this.injectorDefTypes.add(a);const l=ua(a)||(()=>new a);this.records.set(a,Va(l,Yl));const h=s.providers;if(null!=h&&!o){const f=t;ws(h,m=>this.processProvider(m,f,h))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,i){let s=Hr(t=_e(t))?t:_e(t&&t.provide);const r=function(n,t,e){return sy(n)?Va(void 0,n.useValue):Va(ny(n),Yl)}(t);if(Hr(t)||!0!==t.multi)this.records.get(s);else{let a=this.records.get(s);a||(a=Va(void 0,Yl,!0),a.factory=()=>Ta(a.multi),this.records.set(s,a)),s=t,a.multi.push(t)}this.records.set(s,r)}hydrate(t,e){return e.value===Yl&&(e.value=lk,e.value=e.factory()),"object"==typeof e.value&&e.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=_e(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Kf(n){const t=er(n),e=null!==t?t.factory:ua(n);if(null!==e)return e;if(n instanceof we)throw new Error(`Token ${Ue(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const t=n.length;if(t>0){const i=function(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(t,"?");throw new Error(`Can't resolve all parameters for ${Ue(n)}: (${i.join(", ")}).`)}const e=function(n){const t=n&&(n[io]||n[hd]);if(t){const e=function(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Error("unreachable")}function ny(n,t,e){let i;if(Hr(n)){const s=_e(n);return ua(s)||Kf(s)}if(sy(n))i=()=>_e(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Ta(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>F(_e(n.useExisting));else{const s=_e(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return ua(s)||Kf(s);i=()=>new s(...Ta(n.deps))}return i}function Va(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function sy(n){return null!==n&&"object"==typeof n&&qd in n}function Hr(n){return"function"==typeof n}const ry=function(n,t,e){return function(n,t=null,e=null,i){const s=iy(n,t,e,i);return s._resolveInjectorDefTypes(),s}({name:e},t,n,e)};let Mt=(()=>{class n{static create(e,i){return Array.isArray(e)?ry(e,i,""):ry(e.providers,e.parent,e.name||"")}}return n.THROW_IF_NOT_FOUND=_o,n.NULL=new Ki,n.\u0275prov=he({token:n,providedIn:"any",factory:()=>F(Mo)}),n.__NG_ELEMENT_ID__=-1,n})();function bq(n,t){nu(ss(n)[1],Kt())}function $t(n){let t=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let s;if(ts(n))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(e){i.push(s);const a=n;a.inputs=wk(n.inputs),a.declaredInputs=wk(n.declaredInputs),a.outputs=wk(n.outputs);const o=s.hostBindings;o&&kq(n,o);const l=s.viewQuery,h=s.contentQueries;if(l&&wq(n,l),h&&Eq(n,h),Hc(n.inputs,s.inputs),Hc(n.declaredInputs,s.declaredInputs),Hc(n.outputs,s.outputs),ts(s)&&s.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let a=0;a<r.length;a++){const o=r[a];o&&o.ngInherit&&o(n),o===$t&&(e=!1)}}t=Object.getPrototypeOf(t)}!function(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=t+=s.hostVars,s.hostAttrs=ru(s.hostAttrs,e=ru(e,s.hostAttrs))}}(i)}function wk(n){return n===no?{}:n===_t?[]:n}function wq(n,t){const e=n.viewQuery;n.viewQuery=e?(i,s)=>{t(i,s),e(i,s)}:t}function Eq(n,t){const e=n.contentQueries;n.contentQueries=e?(i,s,r)=>{t(i,s,r),e(i,s,r)}:t}function kq(n,t){const e=n.hostBindings;n.hostBindings=e?(i,s)=>{t(i,s),e(i,s)}:t}let uy=null;function Fu(){if(!uy){const n=ht.Symbol;if(n&&n.iterator)uy=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(uy=i)}}}return uy}class dr{constructor(t){this.wrapped=t}static wrap(t){return new dr(t)}static unwrap(t){return dr.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof dr}}function Xf(n){return!!Ek(n)&&(Array.isArray(n)||!(n instanceof Map)&&Fu()in n)}function Ek(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function qr(n,t,e){return n[t]=e}function on(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Jl(n,t,e,i){const s=on(n,t,e);return on(n,t+1,i)||s}function fr(n,t,e,i){const s=K();return on(s,Mr(),t)&&(ot(),xs(Ut(),s,n,t,e,i)),fr}function Uu(n,t,e,i){return on(n,Mr(),e)?t+Re(e)+i:be}function Ie(n,t,e,i,s,r,a,o){const l=K(),h=ot(),f=n+20,m=h.firstCreatePass?function(n,t,e,i,s,r,a,o,l){const h=t.consts,f=Po(t,n,4,a||null,qi(h,o));Of(t,e,f,qi(h,l)),nu(t,f);const m=f.tViews=Bu(2,f,i,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h);return null!==t.queries&&(t.queries.template(t,f),m.queries=t.queries.embeddedTView(f)),f}(f,h,l,t,e,i,s,r,a):h.data[f];Ss(m,!1);const y=l[11].createComment("");Cu(h,l,y,m),Mi(y,l),$u(l,l[f]=Jv(y,l,y,m)),ml(m)&&Ql(h,l,m),null!=a&&If(l,m,o)}function $(n,t=Ee.Default){const e=K();return null===e?F(n,t):or(Kt(),e,_e(n),t)}function z(n,t,e){const i=K();return on(i,Mr(),t)&&An(ot(),Ut(),i,n,t,i[11],e,!1),z}function Dk(n,t,e,i,s){const a=s?"class":"style";ey(n,e,t.inputs[a],a,i)}function p(n,t,e,i){const s=K(),r=ot(),a=20+n,o=s[11],l=s[a]=nf(o,t,De.lFrame.currentNamespace),h=r.firstCreatePass?function(n,t,e,i,s,r,a){const o=t.consts,h=Po(t,n,2,s,qi(o,r));return Of(t,e,h,qi(o,a)),null!==h.attrs&&Hu(h,h.attrs,!1),null!==h.mergedAttrs&&Hu(h,h.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,h),h}(a,r,s,0,t,e,i):r.data[a];Ss(h,!0);const f=h.mergedAttrs;null!==f&&en(o,l,f);const m=h.classes;null!==m&&Pu(o,l,m);const y=h.styles;null!==y&&ff(o,l,y),64!=(64&h.flags)&&Cu(r,s,l,h),0===De.lFrame.elementDepthCount&&Mi(l,s),De.lFrame.elementDepthCount++,ml(h)&&(Ql(r,s,h),Hv(r,h,s)),null!==i&&If(s,h)}function g(){let n=Kt();Xc()?Ed():(n=n.parent,Ss(n,!1));const t=n;De.lFrame.elementDepthCount--;const e=ot();e.firstCreatePass&&(nu(e,n),gl(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(t)&&Dk(e,t,K(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(t)&&Dk(e,t,K(),t.stylesWithoutHost,!1)}function ie(n,t,e,i){p(n,t,e,i),g()}function fy(n,t,e){const i=K(),s=ot(),r=n+20,a=s.firstCreatePass?function(n,t,e,i,s){const r=t.consts,a=qi(r,i),o=Po(t,n,8,"ng-container",a);return null!==a&&Hu(o,a,!0),Of(t,e,o,qi(r,s)),null!==t.queries&&t.queries.elementStart(t,o),o}(r,s,i,t,e):s.data[r];Ss(a,!0);const o=i[r]=i[11].createComment("");Cu(s,i,o,a),Mi(o,i),ml(a)&&(Ql(s,i,a),Hv(s,a,i)),null!=e&&If(i,a)}function py(){let n=Kt();const t=ot();Xc()?Ed():(n=n.parent,Ss(n,!1)),t.firstCreatePass&&(nu(t,n),gl(n)&&t.queries.elementEnd(n))}function Ur(){return K()}function gy(n){return!!n&&"function"==typeof n.then}const Tk=function(n){return!!n&&"function"==typeof n.subscribe};function je(n,t,e,i){const s=K(),r=ot(),a=Kt();return function(n,t,e,i,s,r,a,o){const l=ml(i),f=n.firstCreatePass&&Vu(n),m=t[8],y=Xv(t);let S=!0;if(3&i.type||o){const T=qe(i,t),R=o?o(T):T,O=y.length,U=o?L=>o(ni(L[i.index])):i.index;if(Lt(e)){let L=null;if(!o&&l&&(L=function(n,t,e,i){const s=n.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const a=s[r];if(a===e&&s[r+1]===i){const o=t[7],l=s[r+2];return o.length>l?o[l]:null}"string"==typeof a&&(r+=2)}return null}(n,t,s,i.index)),null!==L)(L.__ngLastListenerFn__||L).__ngNextListenerFn__=r,L.__ngLastListenerFn__=r,S=!1;else{r=xk(i,t,m,r,!1);const G=e.listen(R,s,r);y.push(r,G),f&&f.push(s,U,O,O+1)}}else r=xk(i,t,m,r,!0),R.addEventListener(s,r,a),y.push(r),f&&f.push(s,U,O,a)}else r=xk(i,t,m,r,!1);const k=i.outputs;let D;if(S&&null!==k&&(D=k[s])){const T=D.length;if(T)for(let R=0;R<T;R+=2){const Y=t[D[R]][D[R+1]].subscribe(r),oe=y.length;y.push(r,Y),f&&f.push(s,i.index,oe,-(oe+1))}}}(r,s,s[11],a,n,t,!!e,i),je}function dL(n,t,e,i){try{return!1!==e(i)}catch(s){return Uf(n,s),!1}}function xk(n,t,e,i,s){return function r(a){if(a===Function)return i;const o=2&n.flags?yn(n.index,t):t;0==(32&t[2])&&$f(o);let l=dL(t,0,i,a),h=r.__ngNextListenerFn__;for(;h;)l=dL(t,0,h,a)&&l,h=h.__ngNextListenerFn__;return s&&!1===l&&(a.preventDefault(),a.returnValue=!1),l}}function We(n=1){return function(n){return(De.lFrame.contextLView=function(n,t){for(;n>0;)t=t[15],n--;return t}(n,De.lFrame.contextLView))[8]}(n)}function tp(n,t,e,i,s){const r=K(),a=Uu(r,t,e,i);return a!==be&&An(ot(),Ut(),r,n,a,r[11],s,!1),tp}function kL(n,t,e,i,s){const r=n[e+1],a=null===t;let o=i?Se(r):cr(r),l=!1;for(;0!==o&&(!1===l||a);){const f=n[o+1];cU(n[o],t)&&(l=!0,n[o+1]=i?Cf(f):Gt(f)),o=i?Se(f):cr(f)}l&&(n[e+1]=i?Gt(r):Cf(r))}function cU(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Ca(n,t)>=0}const ki={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function CL(n){return n.substring(ki.key,ki.keyEnd)}function AL(n,t){const e=ki.textEnd;return e===t?-1:(t=ki.keyEnd=function(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,ki.key=t,e),Zu(n,t,e))}function Zu(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function ip(n,t,e){return pr(n,t,e,!1),ip}function Zl(n,t){return pr(n,t,null,!0),Zl}function Os(n){!function(n,t,e,i){const s=ot(),r=_n(2);s.firstUpdatePass&&IL(s,null,r,i);const a=K();if(e!==be&&on(a,r,e)){const o=s.data[Ae()];if(LL(o,i)&&!ML(s,r)){let l=i?o.classesWithoutHost:o.stylesWithoutHost;null!==l&&(e=rd(l,e||"")),Dk(s,o,a,e,i)}else!function(n,t,e,i,s,r,a,o){s===be&&(s=_t);let l=0,h=0,f=0<s.length?s[0]:null,m=0<r.length?r[0]:null;for(;null!==f||null!==m;){const y=l<s.length?s[l+1]:void 0,S=h<r.length?r[h+1]:void 0;let D,k=null;f===m?(l+=2,h+=2,y!==S&&(k=m,D=S)):null===m||null!==f&&f<m?(l+=2,k=f):(h+=2,k=m,D=S),null!==k&&RL(n,t,e,i,k,D,a,o),f=l<s.length?s[l]:null,m=h<r.length?r[h]:null}}(s,o,a,a[11],a[r+1],a[r+1]=function(n,t,e){if(null==e||""===e)return _t;const i=[],s=Cn(e);if(Array.isArray(s))for(let r=0;r<s.length;r++)n(i,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&n(i,r,s[r]);else"string"==typeof s&&t(i,s);return i}(n,t,e),i,r)}}(En,jr,n,!0)}function jr(n,t){for(let e=function(n){return function(n){ki.key=0,ki.keyEnd=0,ki.value=0,ki.valueEnd=0,ki.textEnd=n.length}(n),AL(n,Zu(n,0,ki.textEnd))}(t);e>=0;e=AL(t,e))En(n,CL(t),!0)}function pr(n,t,e,i){const s=K(),r=ot(),a=_n(2);r.firstUpdatePass&&IL(r,n,a,i),t!==be&&on(s,a,t)&&RL(r,r.data[Ae()],s,s[11],n,s[a+1]=function(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Ue(Cn(n)))),n}(t,e),i,a)}function ML(n,t){return t>=n.expandoStartIndex}function IL(n,t,e,i){const s=n.data;if(null===s[e+1]){const r=s[Ae()],a=ML(n,e);LL(r,i)&&null===t&&!a&&(t=!1),t=function(n,t,e,i){const s=function(n){const t=De.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let r=i?t.residualClasses:t.residualStyles;if(null===s)0===(i?t.classBindings:t.styleBindings)&&(e=np(e=Mk(null,n,t,e,i),t.attrs,i),r=null);else{const a=t.directiveStylingLast;if(-1===a||n[a]!==s)if(e=Mk(s,n,t,e,i),null===r){let l=function(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==cr(i))return n[Se(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=Mk(null,n,t,l[1],i),l=np(l,t.attrs,i),function(n,t,e,i){n[Se(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else r=function(n,t,e){let i;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)i=np(i,n[r].hostAttrs,e);return np(i,t.attrs,e)}(n,t,i)}return void 0!==r&&(i?t.residualClasses=r:t.residualStyles=r),e}(s,r,t,i),function(n,t,e,i,s,r){let a=r?t.classBindings:t.styleBindings,o=Se(a),l=cr(a);n[i]=e;let f,h=!1;if(Array.isArray(e)){const m=e;f=m[1],(null===f||Ca(m,f)>0)&&(h=!0)}else f=e;if(s)if(0!==l){const y=Se(n[o+1]);n[i+1]=Ps(y,o),0!==y&&(n[y+1]=Ds(n[y+1],i)),n[o+1]=function(n,t){return 131071&n|t<<17}(n[o+1],i)}else n[i+1]=Ps(o,0),0!==o&&(n[o+1]=Ds(n[o+1],i)),o=i;else n[i+1]=Ps(l,0),0===o?o=i:n[l+1]=Ds(n[l+1],i),l=i;h&&(n[i+1]=Gt(n[i+1])),kL(n,f,i,!0),kL(n,f,i,!1),function(n,t,e,i,s){const r=s?n.residualClasses:n.residualStyles;null!=r&&"string"==typeof t&&Ca(r,t)>=0&&(e[i+1]=Cf(e[i+1]))}(t,f,n,i,r),a=Ps(o,l),r?t.classBindings=a:t.styleBindings=a}(s,r,t,e,a,i)}}function Mk(n,t,e,i,s){let r=null;const a=e.directiveEnd;let o=e.directiveStylingLast;for(-1===o?o=e.directiveStart:o++;o<a&&(r=t[o],i=np(i,r.hostAttrs,s),r!==n);)o++;return null!==n&&(e.directiveStylingLast=o),i}function np(n,t,e){const i=e?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const a=t[r];"number"==typeof a?s=a:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),En(n,a,!!e||t[++r]))}return void 0===n?null:n}function RL(n,t,e,i,s,r,a,o){if(!(3&t.type))return;const l=n.data,h=l[o+1];my(function(n){return 1==(1&n)}(h)?NL(l,t,e,s,cr(h),a):void 0)||(my(r)||function(n){return 2==(2&n)}(h)&&(r=NL(l,null,e,s,o,a)),function(n,t,e,i,s){const r=Lt(n);if(t)s?r?n.addClass(e,i):e.classList.add(i):r?n.removeClass(e,i):e.classList.remove(i);else{let a=-1===i.indexOf("-")?void 0:nn.DashCase;if(null==s)r?n.removeStyle(e,i,a):e.style.removeProperty(i);else{const o="string"==typeof s&&s.endsWith("!important");o&&(s=s.slice(0,-10),a|=nn.Important),r?n.setStyle(e,i,s,a):e.style.setProperty(i,s,o?"important":"")}}}(i,a,da(Ae(),e),s,r))}function NL(n,t,e,i,s,r){const a=null===t;let o;for(;s>0;){const l=n[s],h=Array.isArray(l),f=h?l[1]:l,m=null===f;let y=e[s+1];y===be&&(y=m?_t:void 0);let S=m?ka(y,i):f===i?y:void 0;if(h&&!my(S)&&(S=ka(l,i)),my(S)&&(o=S,a))return o;const k=n[s+1];s=a?Se(k):cr(k)}if(null!==t){let l=r?t.residualClasses:t.residualStyles;null!=l&&(o=ka(l,i))}return o}function my(n){return void 0!==n}function LL(n,t){return 0!=(n.flags&(t?16:32))}function w(n,t=""){const e=K(),i=ot(),s=n+20,r=i.firstCreatePass?Po(i,s,1,t,null):i.data[s],a=e[s]=function(n,t){return Lt(n)?n.createText(t):n.createTextNode(t)}(e[11],t);Cu(i,e,a,r),Ss(r,!1)}function Ri(n){return Ci("",n,""),Ri}function Ci(n,t,e){const i=K(),s=Uu(i,n,t,e);return s!==be&&ur(i,Ae(),s),Ci}function sp(n,t,e,i,s){const r=K(),a=function(n,t,e,i,s,r){const o=Jl(n,is(),e,s);return _n(2),o?t+Re(e)+i+Re(s)+r:be}(r,n,t,e,i,s);return a!==be&&ur(r,Ae(),a),sp}const Xl=void 0;var UU=["en",[["a","p"],["AM","PM"],Xl],[["AM","PM"],Xl,Xl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xl,"{1} 'at' {0}",Xl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===e?1:5}];let Xu={};function n2(n){return n in Xu||(Xu[n]=ht.ng&&ht.ng.common&&ht.ng.common.locales&&ht.ng.common.locales[n]),Xu[n]}var le=(()=>((le=le||{})[le.LocaleId=0]="LocaleId",le[le.DayPeriodsFormat=1]="DayPeriodsFormat",le[le.DayPeriodsStandalone=2]="DayPeriodsStandalone",le[le.DaysFormat=3]="DaysFormat",le[le.DaysStandalone=4]="DaysStandalone",le[le.MonthsFormat=5]="MonthsFormat",le[le.MonthsStandalone=6]="MonthsStandalone",le[le.Eras=7]="Eras",le[le.FirstDayOfWeek=8]="FirstDayOfWeek",le[le.WeekendRange=9]="WeekendRange",le[le.DateFormat=10]="DateFormat",le[le.TimeFormat=11]="TimeFormat",le[le.DateTimeFormat=12]="DateTimeFormat",le[le.NumberSymbols=13]="NumberSymbols",le[le.NumberFormats=14]="NumberFormats",le[le.CurrencyCode=15]="CurrencyCode",le[le.CurrencySymbol=16]="CurrencySymbol",le[le.CurrencyName=17]="CurrencyName",le[le.Currencies=18]="Currencies",le[le.Directionality=19]="Directionality",le[le.PluralCase=20]="PluralCase",le[le.ExtraData=21]="ExtraData",le))();const vy="en-US";let s2=vy;function Ik(n){gn(n,"Expected localeId to be defined"),"string"==typeof n&&(s2=n.toLowerCase().replace(/_/g,"-"))}function Nk(n,t,e,i,s){if(n=_e(n),Array.isArray(n))for(let r=0;r<n.length;r++)Nk(n[r],t,e,i,s);else{const r=ot(),a=K();let o=Hr(n)?n:_e(n.provide),l=ny(n);const h=Kt(),f=1048575&h.providerIndexes,m=h.directiveStart,y=h.providerIndexes>>20;if(Hr(n)||!n.multi){const S=new bn(l,s,$),k=Bk(o,t,s?f:f+y,m);-1===k?(ou(Sn(h,a),r,o),Lk(r,n,t.length),t.push(o),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(S),a.push(S)):(e[k]=S,a[k]=S)}else{const S=Bk(o,t,f+y,m),k=Bk(o,t,f,f+y),D=S>=0&&e[S],T=k>=0&&e[k];if(s&&!T||!s&&!D){ou(Sn(h,a),r,o);const R=function(n,t,e,i,s){const r=new bn(n,e,$);return r.multi=[],r.index=t,r.componentProviders=0,D2(r,s,i&&!e),r}(s?HG:VG,e.length,s,i,l);!s&&T&&(e[k].providerFactory=R),Lk(r,n,t.length,0),t.push(o),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(R),a.push(R)}else Lk(r,n,S>-1?S:k,D2(e[s?k:S],l,!s&&i));!s&&i&&T&&e[k].componentProviders++}}}function Lk(n,t,e,i){const s=Hr(t);if(s||function(n){return!!n.useClass}(t)){const a=(t.useClass||t).prototype.ngOnDestroy;if(a){const o=n.destroyHooks||(n.destroyHooks=[]);if(!s&&t.multi){const l=o.indexOf(e);-1===l?o.push(e,[i,a]):o[l+1].push(i,a)}else o.push(e,a)}}}function D2(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Bk(n,t,e,i){for(let s=e;s<i;s++)if(t[s]===n)return s;return-1}function VG(n,t,e,i){return $k(this.multi,[])}function HG(n,t,e,i){const s=this.multi;let r;if(this.providerFactory){const a=this.providerFactory.componentProviders,o=mo(e,e[1],this.providerFactory.index,i);r=o.slice(0,a),$k(s,r);for(let l=a;l<o.length;l++)r.push(o[l])}else r=[],$k(s,r);return r}function $k(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function ut(n,t=[]){return e=>{e.providersResolver=(i,s)=>function(n,t,e){const i=ot();if(i.firstCreatePass){const s=ts(n);Nk(e,i.data,i.blueprint,s,!0),Nk(t,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,t)}}class T2{}const M2="ngComponent";class UG{resolveComponentFactory(t){throw function(n){const t=Error(`No component factory found for ${Ue(n)}. Did you add it to @NgModule.entryComponents?`);return t[M2]=n,t}(t)}}let th=(()=>{class n{}return n.NULL=new UG,n})();function wy(...n){}function ih(n,t){return new Vt(qe(n,t))}const WG=function(){return ih(Kt(),K())};let Vt=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=WG,n})();function I2(n){return n instanceof Vt?n.nativeElement:n}class ec{}let tc=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>KG(),n})();const KG=function(){const n=K(),e=yn(Kt().index,n);return function(n){return n[11]}(es(e)?e:n)};let Hk=(()=>{class n{}return n.\u0275prov=he({token:n,providedIn:"root",factory:()=>null}),n})();class Ey{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const O2=new Ey("12.2.17");class R2{constructor(){}supports(t){return Xf(t)}create(t){return new ZG(t)}}const JG=(n,t)=>t;class ZG{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||JG}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,s=0,r=null;for(;e||i;){const a=!i||e&&e.currentIndex<L2(i,s,r)?e:i,o=L2(a,s,r),l=a.currentIndex;if(a===i)s--,i=i._nextRemoved;else if(e=e._next,null==a.previousIndex)s++;else{r||(r=[]);const h=o-s,f=l-s;if(h!=f){for(let y=0;y<h;y++){const S=y<r.length?r[y]:r[y]=0,k=S+y;f<=k&&k<h&&(r[y]=S+1)}r[a.previousIndex]=f-h}}o!==l&&t(a,o,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Xf(t))throw new Error(`Error trying to diff '${Ue(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,r,a,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let o=0;o<this.length;o++)r=t[o],a=this._trackByFn(o,r),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,r,a,o)),Object.is(e.item,r)||this._addIdentityChange(e,r)):(e=this._mismatch(e,r,a,o),i=!0),e=e._next}else s=0,function(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Fu()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,o=>{a=this._trackByFn(s,o),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,o,a,s)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,a,s),i=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,s){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,s)):t=this._addAfter(new XG(e,i),r,s),t}_verifyReinsertion(t,e,i,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?t=this._reinsertAfter(r,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,r=t._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new N2),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new N2),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class XG{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class e5{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class N2{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new e5,this.map.set(e,i)),i.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function L2(n,t,e){const i=n.previousIndex;if(null===i)return i;let s=0;return e&&i<e.length&&(s=e[i]),i+t+s}class B2{constructor(){}supports(t){return t instanceof Map||Ek(t)}create(){return new t5}}class t5{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ek(t)))throw new Error(`Error trying to diff '${Ue(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(s,i);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const r=s._prev,a=s._next;return r&&(r._next=a),a&&(a._prev=r),s._next=null,s._prev=null,s}const i=new i5(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class i5{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $2(){return new nh([new R2])}let nh=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||$2()),deps:[[n,new xa,new hi]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'`)}}return n.\u0275prov=he({token:n,providedIn:"root",factory:$2}),n})();function V2(){return new sh([new B2])}let sh=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||V2()),deps:[[n,new xa,new hi]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return n.\u0275prov=he({token:n,providedIn:"root",factory:V2}),n})();function ky(n,t,e,i,s=!1){for(;null!==e;){const r=t[e.index];if(null!==r&&i.push(ni(r)),Ln(r))for(let o=10;o<r.length;o++){const l=r[o],h=l[1].firstChild;null!==h&&ky(l[1],l,h,i)}const a=e.type;if(8&a)ky(n,t,e.child,i);else if(32&a){const o=Nl(e,t);let l;for(;l=o();)i.push(l)}else if(16&a){const o=ev(t,e);if(Array.isArray(o))i.push(...o);else{const l=Ll(t[16]);ky(l[1],l,o,i,!0)}}e=s?e.projectionNext:e.next}return i}class cp{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ky(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Ln(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(rf(t,i),Ea(e,i))}this._attachedToViewContainer=!1}Qm(this._lView[1],this._lView)}onDestroy(t){qv(this._lView[1],this._lView,null,t)}markForCheck(){$f(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Hf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,t,e){eu(!0);try{Hf(n,t,e)}finally{eu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,t){Vl(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class s5 extends cp{constructor(t){super(t),this._view=t}detectChanges(){Zv(this._view)}checkNoChanges(){!function(n){eu(!0);try{Zv(n)}finally{eu(!1)}}(this._view)}get context(){return null}}const a5=function(n){return function(n,t,e){if(ao(n)&&!e){const i=yn(n.index,t);return new cp(i,i)}return 47&n.type?new cp(t[16],t):null}(Kt(),K(),16==(16&n))};let Cy=(()=>{class n{}return n.__NG_ELEMENT_ID__=a5,n})();const c5=[new B2],h5=new nh([new R2]),d5=new sh(c5),p5=function(){return Ay(Kt(),K())};let Rs=(()=>{class n{}return n.__NG_ELEMENT_ID__=p5,n})();const g5=Rs,m5=class extends g5{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=zl(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(i[19]=r.createEmbeddedView(e)),Kl(e,i,t),new cp(i)}};function Ay(n,t){return 4&n.type?new m5(t,n,ih(n,t)):null}class ic{}const b5=function(){return q2(Kt(),K())};let Ns=(()=>{class n{}return n.__NG_ELEMENT_ID__=b5,n})();const w5=Ns,H2=class extends w5{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return ih(this._hostTNode,this._hostLView)}get injector(){return new ji(this._hostTNode,this._hostLView)}get parentInjector(){const t=Gi(this._hostTNode,this._hostLView);if(mm(t)){const e=fo(t,this._hostLView),i=ya(t);return new ji(e[1].data[i+8],e)}return new ji(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=F2(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const s=t.createEmbeddedView(e||{});return this.insert(s,i),s}createComponent(t,e,i,s,r){const a=i||this.parentInjector;if(!r&&null==t.ngModule&&a){const l=a.get(ic,null);l&&(r=l)}const o=t.create(a,s,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const i=t._lView,s=i[1];if(function(n){return Ln(n[3])}(i)){const f=this.indexOf(t);if(-1!==f)this.detach(f);else{const m=i[3],y=new H2(m,m[6],m[3]);y.detach(y.indexOf(t))}}const r=this._adjustIndex(e),a=this._lContainer;!function(n,t,e,i){const s=10+i,r=e.length;i>0&&(e[s-1][4]=t),i<r-10?(t[4]=e[s],Dl(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const a=t[17];null!==a&&e!==a&&function(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(a,t);const o=t[19];null!==o&&o.insertView(n),t[2]|=128}(s,i,a,r);const o=uf(r,a),l=i[11],h=$l(l,a[7]);return null!==h&&function(n,t,e,i,s,r){i[0]=s,i[6]=t,Vl(n,i,e,1,s,r)}(s,a[6],l,i,h,o),t.attachToViewContainerRef(),Dl(Fk(a),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=F2(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=rf(this._lContainer,e);i&&(Ea(Fk(this._lContainer),e),Qm(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=rf(this._lContainer,e);return i&&null!=Ea(Fk(this._lContainer),e)?new cp(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function F2(n){return n[8]}function Fk(n){return n[8]||(n[8]=[])}function q2(n,t){let e;const i=t[n.index];if(Ln(i))e=i;else{let s;if(8&n.type)s=ni(i);else{const r=t[11];s=r.createComment("");const a=qe(n,t);Lr(r,$l(r,a),s,function(n,t){return Lt(n)?n.nextSibling(t):t.nextSibling}(r,a),!1)}t[n.index]=e=Jv(i,t,s,n),$u(t,e)}return new H2(e,n,t)}const lh={};class lB extends th{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Di(t);return new uB(e,this.ngModule)}}function cB(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const y6=new we("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>wf});class uB extends T2{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function(n){return n.map(CE).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return cB(this.componentDef.inputs)}get outputs(){return cB(this.componentDef.outputs)}create(t,e,i,s){const r=(s=s||this.ngModule)?function(n,t){return{get:(e,i,s)=>{const r=n.get(e,lh,s);return r!==lh||i===lh?r:t.get(e,i,s)}}}(t,s.injector):t,a=r.get(ec,vn),o=r.get(Hk,null),l=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=i?function(n,t,e){if(Lt(n))return n.selectRootElement(t,e===Jt.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):nf(a.createRenderer(null,this.componentDef),h,function(n){const t=n.toLowerCase();return"svg"===t?V:"math"===t?"http://www.w3.org/1998/MathML/":null}(h)),m=this.componentDef.onPush?576:528,y=function(n,t){return{components:[],scheduler:n||wf,clean:ak,playerHandler:t||null,flags:0}}(),S=Bu(0,null,null,1,0,null,null,null,null,null),k=zl(null,S,y,m,null,null,a,l,o,r);let D,T;tu(k);try{const R=function(n,t,e,i,s,r){const a=e[1];e[20]=n;const l=Po(a,20,2,"#host",null),h=l.mergedAttrs=t.hostAttrs;null!==h&&(Hu(l,h,!0),null!==n&&(en(s,n,h),null!==l.classes&&Pu(s,n,l.classes),null!==l.styles&&ff(s,n,l.styles)));const f=i.createRenderer(n,t),m=zl(e,Lu(t),null,t.onPush?64:16,e[20],l,i,f,r||null,null);return a.firstCreatePass&&(ou(Sn(l,e),a,t.type),Yv(a,l),Rf(l,e.length,1)),$u(e,m),e[20]=m}(f,this.componentDef,k,a,l);if(f)if(i)en(l,f,["ng-version",O2.full]);else{const{attrs:O,classes:U}=function(n){const t=[],e=[];let i=1,s=2;for(;i<n.length;){let r=n[i];if("string"==typeof r)2===s?""!==r&&t.push(r,n[++i]):8===s&&e.push(r);else{if(!ls(s))break;s=r}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);O&&en(l,f,O),U&&U.length>0&&Pu(l,f,U.join(" "))}if(T=Kc(S,20),void 0!==e){const O=T.projection=[];for(let U=0;U<this.ngContentSelectors.length;U++){const L=e[U];O.push(null!=L?Array.from(L):null)}}D=function(n,t,e,i,s){const r=e[1],a=function(n,t,e){const i=Kt();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Nf(n,i,t,Do(n,t,1,null),e));const s=mo(t,n,i.directiveStart,i);Mi(s,t);const r=qe(i,t);return r&&Mi(r,t),s}(r,e,t);if(i.components.push(a),n[8]=a,s&&s.forEach(l=>l(a,t)),t.contentQueries){const l=Kt();t.contentQueries(1,a,l.directiveStart)}const o=Kt();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Or(o.index),Kv(e[1],o,0,o.directiveStart,o.directiveEnd,t),Qv(t,a)),a}(R,this.componentDef,k,y,[bq]),Kl(S,k,null)}finally{rr()}return new S6(this.componentType,D,ih(T,k),k,T)}}class S6 extends class{}{constructor(t,e,i,s,r){super(),this.location=i,this._rootLView=s,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new s5(s),this.componentType=t}get injector(){return new ji(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const ch=new Map;class k6 extends ic{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new lB(this);const i=bt(t),s=function(n){return n[QS]||null}(t);s&&Ik(s),this._bootstrapComponents=os(i.bootstrap),this._r3Injector=iy(t,e,[{provide:ic,useValue:this},{provide:th,useValue:this.componentFactoryResolver}],Ue(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Mt.THROW_IF_NOT_FOUND,i=Ee.Default){return t===Mt||t===ic||t===Mo?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class eC extends class{}{constructor(t){super(),this.moduleType=t,null!==bt(t)&&function(n){const t=new Set;!function e(i){const s=bt(i,!0),r=s.id;null!==r&&(function(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Ue(t)} vs ${Ue(t.name)}`)}(r,ch.get(r),i),ch.set(r,i));const a=os(s.imports);for(const o of a)t.has(o)||(t.add(o),e(o))}(n)}(t)}create(t){return new k6(this.moduleType,t)}}function gB(n,t,e,i,s){return function(n,t,e,i,s,r,a){const o=t+e;return Jl(n,o,s,r)?qr(n,o+2,a?i.call(a,s,r):i(s,r)):vp(n,o+2)}(K(),Ui(),n,t,e,i,s)}function vp(n,t){const e=n[t];return e===be?void 0:e}function mB(n,t,e,i,s,r){const a=t+e;return on(n,a,s)?qr(n,a+1,r?i.call(r,s):i(s)):vp(n,a+1)}function Oo(n,t){const e=ot();let i;const s=n+20;e.firstCreatePass?(i=function(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}throw new Dr("302",`The pipe '${n}' could not be found!`)}(t,e.pipeRegistry),e.data[s]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(s,i.onDestroy)):i=e.data[s];const r=i.factory||(i.factory=ua(i.type)),a=tr($);try{const o=po(!1),l=r();return po(o),function(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,K(),s,l),l}finally{tr(a)}}function Ro(n,t,e){const i=n+20,s=K(),r=function(n,t){return n[t]}(s,i);return function(n,t){dr.isWrapped(t)&&(t=dr.unwrap(t),n[is()]=be);return t}(s,function(n,t){return n[1].data[t].pure}(s,i)?mB(s,Ui(),t,r.transform,e,r):r.transform(e))}function tC(n){return t=>{setTimeout(n,void 0,t)}}const gt=class extends Xe{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var s,r,a;let o=t,l=e||(()=>null),h=i;if(t&&"object"==typeof t){const m=t;o=null===(s=m.next)||void 0===s?void 0:s.bind(m),l=null===(r=m.error)||void 0===r?void 0:r.bind(m),h=null===(a=m.complete)||void 0===a?void 0:a.bind(m)}this.__isAsync&&(l=tC(l),o&&(o=tC(o)),h&&(h=tC(h)));const f=super.subscribe({next:o,error:l,complete:h});return t instanceof tt&&t.add(f),f}};function $6(){return this._results[Fu()]()}class My{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Fu(),i=My.prototype;i[e]||(i[e]=$6)}get changes(){return this._changes||(this._changes=new gt)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const s=wn(t);(this._changesDetected=!function(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],r=t[i];if(e&&(s=e(s),r=e(r)),r!==s)return!1}return!0}(i._results,s,e))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class iC{constructor(t){this.queryList=t,this.matches=null}clone(){return new iC(this.queryList)}setDirty(){this.queryList.setDirty()}}class nC{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let r=0;r<i;r++){const a=e.getByIndex(r);s.push(this.queries[a.indexInDeclarationView].clone())}return new nC(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==CB(t,e).matches&&this.queries[e].setDirty()}}class SB{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class sC{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const s=null!==e?e.length:0,r=this.getByIndex(i).embeddedTView(t,s);r&&(r.indexInDeclarationView=i,null!==e?e.push(r):e=[r])}return null!==e?new sC(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class rC{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new rC(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const r=i[s];this.matchTNodeWithReadOption(t,e,F6(e,r)),this.matchTNodeWithReadOption(t,e,cu(e,t,r,!1,!1))}else i===Rs?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,cu(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===Vt||s===Ns||s===Rs&&4&e.type)this.addMatch(e.index,-2);else{const r=cu(e,t,s,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function F6(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function U6(n,t,e,i){return-1===e?function(n,t){return 11&n.type?ih(n,t):4&n.type?Ay(n,t):null}(t,n):-2===e?function(n,t,e){return e===Vt?ih(t,n):e===Rs?Ay(t,n):e===Ns?q2(t,n):void 0}(n,t,i):mo(n,n[1],e,t)}function wB(n,t,e,i){const s=t[19].queries[i];if(null===s.matches){const r=n.data,a=e.matches,o=[];for(let l=0;l<a.length;l+=2){const h=a[l];o.push(h<0?null:U6(t,r[h],a[l+1],e.metadata.read))}s.matches=o}return s.matches}function aC(n,t,e,i){const s=n.queries.getByIndex(e),r=s.matches;if(null!==r){const a=wB(n,t,s,e);for(let o=0;o<r.length;o+=2){const l=r[o];if(l>0)i.push(a[o/2]);else{const h=r[o+1],f=t[-l];for(let m=10;m<f.length;m++){const y=f[m];y[17]===y[3]&&aC(y[1],y,h,i)}if(null!==f[9]){const m=f[9];for(let y=0;y<m.length;y++){const S=m[y];aC(S[1],S,h,i)}}}}}return i}function rc(n){const t=K(),e=ot(),i=hm();Cd(i+1);const s=CB(e,i);if(n.dirty&&om(t)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const r=s.crossesNgTemplate?aC(e,t,i,[]):wB(e,t,s,i);n.reset(r,I2),n.notifyOnChanges()}return!0}return!1}function Iy(n,t,e){const i=ot();i.firstCreatePass&&(kB(i,new SB(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),EB(i,K(),t)}function Oy(n,t,e,i){const s=ot();if(s.firstCreatePass){const r=Kt();kB(s,new SB(t,e,i),r.index),function(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(s,n),2==(2&e)&&(s.staticContentQueries=!0)}EB(s,K(),e)}function ac(){return function(n,t){return n[19].queries[t].queryList}(K(),hm())}function EB(n,t,e){const i=new My(4==(4&e));qv(n,t,i,i.destroy),null===t[19]&&(t[19]=new nC),t[19].queries.push(new iC(i))}function kB(n,t,e){null===n.queries&&(n.queries=new sC),n.queries.track(new rC(t,e))}function CB(n,t){return n.queries.getByIndex(t)}const Ly=new we("Application Initializer");let hh=(()=>{class n{constructor(e){this.appInits=e,this.resolve=wy,this.reject=wy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const r=this.appInits[s]();if(gy(r))e.push(r);else if(Tk(r)){const a=new Promise((o,l)=>{r.subscribe({complete:o,error:l})});e.push(a)}}Promise.all(e).then(()=>{i()}).catch(s=>{this.reject(s)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(F(Ly,8))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const Sp=new we("AppId"),b8={provide:Sp,useFactory:function(){return`${dC()}${dC()}${dC()}`},deps:[]};function dC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const UB=new we("Platform Initializer"),dh=new we("Platform ID"),S8=new we("appBootstrapListener");let fC=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const No=new we("LocaleId"),GB=new we("DefaultCurrencyCode");class E8{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const pC=function(n){return new eC(n)},k8=pC,C8=function(n){return Promise.resolve(pC(n))},jB=function(n){const t=pC(n),i=os(bt(n).declarations).reduce((s,r)=>{const a=Di(r);return a&&s.push(new uB(a)),s},[]);return new E8(t,i)},A8=jB,P8=function(n){return Promise.resolve(jB(n))};let $y=(()=>{class n{constructor(){this.compileModuleSync=k8,this.compileModuleAsync=C8,this.compileModuleAndAllComponentsSync=A8,this.compileModuleAndAllComponentsAsync=P8}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const x8=(()=>Promise.resolve(0))();function gC(n){"undefined"==typeof Zone?x8.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Qe{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gt(!1),this.onMicrotaskEmpty=new gt(!1),this.onStable=new gt(!1),this.onError=new gt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&e,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){let n=ht.requestAnimationFrame,t=ht.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(n){const t=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ht,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,vC(n),n.isCheckStableRunning=!0,mC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),vC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,s,r,a,o)=>{try{return WB(n),e.invokeTask(s,r,a,o)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||n.shouldCoalesceRunChangeDetection)&&t(),zB(n)}},onInvoke:(e,i,s,r,a,o,l)=>{try{return WB(n),e.invoke(s,r,a,o,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),zB(n)}},onHasTask:(e,i,s,r)=>{e.hasTask(s,r),i===s&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,vC(n),mC(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,i,s,r)=>(e.handleError(s,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qe.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qe.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,s){const r=this._inner,a=r.scheduleEventTask("NgZoneEvent: "+s,t,I8,wy,wy);try{return r.runTask(a,e,i)}finally{r.cancelTask(a)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const I8={};function mC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function WB(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function zB(n){n._nesting--,mC(n)}class N8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gt,this.onMicrotaskEmpty=new gt,this.onStable=new gt,this.onError=new gt}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,s){return t.apply(e,i)}}let yC=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qe.assertNotInAngularZone(),gC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gC(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,s){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==r),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:s})}whenStable(e,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,s){return[]}}return n.\u0275fac=function(e){return new(e||n)(F(Qe))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})(),KB=(()=>{class n{constructor(){this._applications=new Map,_C.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return _C.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();class L8{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let _C=new L8,QB=!0,YB=!1;let yr;const ZB=new we("AllowMultipleToken");function XB(n,t,e=[]){const i=`Platform: ${t}`,s=new we(i);return(r=[])=>{let a=e3();if(!a||a.injector.get(ZB,!1))if(n)n(e.concat(r).concat({provide:s,useValue:!0}));else{const o=e.concat(r).concat({provide:s,useValue:!0},{provide:$a,useValue:"platform"});!function(n){if(yr&&!yr.destroyed&&!yr.injector.get(ZB,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");yr=n.get(t3);const t=n.get(UB,null);t&&t.forEach(e=>e())}(Mt.create({providers:o,name:i}))}return function(n){const t=e3();if(!t)throw new Error("No platform exists!");if(!t.injector.get(n,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function e3(){return yr&&!yr.destroyed?yr:null}let t3=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const o=function(n,t){let e;return e="noop"===n?new N8:("zone.js"===n?void 0:n)||new Qe({enableLongStackTrace:(YB=!0,QB),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:Qe,useValue:o}];return o.run(()=>{const h=Mt.create({providers:l,parent:this.injector,name:e.moduleType.name}),f=e.create(h),m=f.injector.get(La,null);if(!m)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(()=>{const y=o.onError.subscribe({next:S=>{m.handleError(S)}});f.onDestroy(()=>{bC(this._modules,f),y.unsubscribe()})}),function(n,t,e){try{const i=e();return gy(i)?i.catch(s=>{throw t.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(m,o,()=>{const y=f.injector.get(hh);return y.runInitializers(),y.donePromise.then(()=>(Ik(f.injector.get(No,vy)||vy),this._moduleDoBootstrap(f),f))})})}bootstrapModule(e,i=[]){const s=i3({},i);return function(n,t,e){const i=new eC(e);return Promise.resolve(i)}(0,0,e).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(e){const i=e.injector.get(wp);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${Ue(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(F(Mt))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();function i3(n,t){return Array.isArray(t)?t.reduce(i3,n):Object.assign(Object.assign({},n),t)}let wp=(()=>{class n{constructor(e,i,s,r,a){this._zone=e,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Je(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),l=new Je(h=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{Qe.assertNotInAngularZone(),gC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const m=this._zone.onUnstable.subscribe(()=>{Qe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{f.unsubscribe(),m.unsubscribe()}});this.isStable=Pr(o,l.pipe(n=>Vc()(function(n,t){return function(i){let s;s="function"==typeof n?n:function(){return n};const r=Object.create(i,td);return r.source=i,r.subjectFactory=s,r}}(LS)(n))))}bootstrap(e,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let s;s=e instanceof T2?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(s.componentType);const r=function(n){return n.isBoundToModule}(s)?void 0:this._injector.get(ic),o=s.create(Mt.NULL,[],i||s.selector,r),l=o.location.nativeElement,h=o.injector.get(yC,null),f=h&&o.injector.get(KB);return h&&f&&f.registerApplication(l,h),o.onDestroy(()=>{this.detachView(o.hostView),bC(this.components,o),f&&f.unregisterApplication(l)}),this._loadComponent(o),o}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;bC(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(S8,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(F(Qe),F(Mt),F(La),F(th),F(hh))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();function bC(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const cj=XB(null,"core",[{provide:dh,useValue:"unknown"},{provide:t3,deps:[Mt]},{provide:KB,deps:[]},{provide:fC,deps:[]}]),pj=[{provide:wp,useClass:wp,deps:[Qe,Mt,La,th,hh]},{provide:y6,deps:[Qe],useFactory:function(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:hh,useClass:hh,deps:[[new hi,Ly]]},{provide:$y,useClass:$y,deps:[]},b8,{provide:nh,useFactory:function(){return h5},deps:[]},{provide:sh,useFactory:function(){return d5},deps:[]},{provide:No,useFactory:function(n){return Ik(n=n||"undefined"!=typeof $localize&&$localize.locale||vy),n},deps:[[new vi(No),new hi,new xa]]},{provide:GB,useValue:"USD"}];let mj=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(F(wp))},n.\u0275mod=ii({type:n}),n.\u0275inj=zt({providers:pj}),n})(),Ky=null;function cc(){return Ky}const et=new we("DocumentToken");var yi=(()=>((yi=yi||{})[yi.Zero=0]="Zero",yi[yi.One=1]="One",yi[yi.Two=2]="Two",yi[yi.Few=3]="Few",yi[yi.Many=4]="Many",yi[yi.Other=5]="Other",yi))();const k7=function(n){return function(n){const t=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=n2(t);if(e)return e;const i=t.split("-")[0];if(e=n2(i),e)return e;if("en"===i)return UU;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[le.PluralCase]};class s_{}let X7=(()=>{class n extends s_{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(k7(i||this.locale)(e)){case yi.Zero:return"zero";case yi.One:return"one";case yi.Two:return"two";case yi.Few:return"few";case yi.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(F(No))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();function H3(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,r]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(r)}return null}let UC=(()=>{class n{constructor(e,i,s,r){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=s,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Xf(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ue(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(e){return new(e||n)($(nh),$(sh),$(Vt),$(tc))},n.\u0275dir=fe({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class tW{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Tp=(()=>{class n{constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((s,r,a)=>{if(null==s.previousIndex){const o=this._viewContainer.createEmbeddedView(this._template,new tW(null,this._ngForOf,-1,-1),null===a?void 0:a),l=new F3(s,o);i.push(l)}else if(null==a)this._viewContainer.remove(null===r?void 0:r);else if(null!==r){const o=this._viewContainer.get(r);this._viewContainer.move(o,a);const l=new F3(s,o);i.push(l)}});for(let s=0;s<i.length;s++)this._perViewChange(i[s].view,i[s].record);for(let s=0,r=this._viewContainer.length;s<r;s++){const a=this._viewContainer.get(s);a.context.index=s,a.context.count=r,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)($(Ns),$(Rs),$(nh))},n.\u0275dir=fe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class F3{constructor(t,e){this.record=t,this.view=e}}let gh=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new nW,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){q3("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){q3("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)($(Ns),$(Rs))},n.\u0275dir=fe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class nW{constructor(){this.$implicit=null,this.ngIf=null}}function q3(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ue(t)}'.`)}let WC=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=G3}transform(e,i=G3){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const s=this.differ.diff(e),r=i!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(function(n,t){return{key:n,value:t}}(a.key,a.currentValue))})),(s||r)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)($(sh,16))},n.\u0275pipe=Zi({name:"keyvalue",type:n,pure:!1}),n})();function G3(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const s=String(e),r=String(i);return s==r?0:s<r?-1:1}let j3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ii({type:n}),n.\u0275inj=zt({providers:[{provide:s_,useClass:X7}]}),n})();const W3="browser";class K3{}class QC extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){Ky||(Ky=n)}(new QC)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(xp=xp||document.querySelector("base"),xp?xp.getAttribute("href"):null);return null==e?null:function(n){r_=r_||document.createElement("a"),r_.setAttribute("href",n);const t=r_.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){xp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return H3(document.cookie,t)}}let r_,xp=null;const Q3=new we("TRANSITION_ID"),BW=[{provide:Ly,useFactory:function(n,t,e){return()=>{e.get(hh).donePromise.then(()=>{const i=cc(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let r=0;r<s.length;r++)i.remove(s[r])})}},deps:[Q3,et,Mt],multi:!0}];class YC{static init(){!function(n){_C=n}(new YC)}addToWindow(t){ht.getAngularTestability=(i,s=!0)=>{const r=t.findTestabilityInTree(i,s);if(null==r)throw new Error("Could not find testability for element.");return r},ht.getAllAngularTestabilities=()=>t.getAllTestabilities(),ht.getAllAngularRootElements=()=>t.getAllRootElements(),ht.frameworkStabilizers||(ht.frameworkStabilizers=[]),ht.frameworkStabilizers.push(i=>{const s=ht.getAllAngularTestabilities();let r=s.length,a=!1;const o=function(l){a=a||l,r--,0==r&&i(a)};s.forEach(function(l){l.whenStable(o)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:i?cc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let $W=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const Mp=new we("EventManagerPlugins");let o_=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let r=0;r<s.length;r++){const a=s[r];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(F(Mp),F(Qe))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();class JC{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=cc().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let J3=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})(),Ip=(()=>{class n extends J3{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(r=>{const a=this._doc.createElement("style");a.textContent=r,s.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Z3),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Z3))}}return n.\u0275fac=function(e){return new(e||n)(F(et))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();function Z3(n){cc().remove(n)}const ZC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},XC=/%COMP%/g;function l_(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?l_(n,s,e):(s=s.replace(XC,n),e.push(s))}return e}function t$(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let c_=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new e0(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Jt.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new XW(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case Jt.ShadowDom:return new e9(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=l_(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(F(o_),F(Ip),F(Sp))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();class e0{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ZC[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const r=ZC[s];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=ZC[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(nn.DashCase|nn.Important)?t.style.setProperty(e,i,s&nn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&nn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,t$(i)):this.eventManager.addEventListener(t,e,t$(i))}}class XW extends e0{constructor(t,e,i,s){super(t),this.component=i;const r=l_(s+"-"+i.id,i.styles,[]);e.addStyles(r),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(XC,n)}(s+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(XC,n)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class e9 extends e0{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=l_(s.id,s.styles,[]);for(let a=0;a<r.length;a++){const o=document.createElement("style");o.textContent=r[a],this.shadowRoot.appendChild(o)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let t9=(()=>{class n extends JC{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)(F(et))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const s$=["alt","control","meta","shift"],l9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},r$={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},c9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let u9=(()=>{class n extends JC{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const r=n.parseEventName(i),a=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cc().onAndCancel(e,r.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const r=n._normalizeKey(i.pop());let a="";if(s$.forEach(l=>{const h=i.indexOf(l);h>-1&&(i.splice(h,1),a+=l+".")}),a+=r,0!=i.length||0===r.length)return null;const o={};return o.domEventName=s,o.fullKey=a,o}static getEventFullKey(e){let i="",s=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&r$.hasOwnProperty(t)&&(t=r$[t]))}return l9[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),s$.forEach(r=>{r!=s&&c9[r](e)&&(i+=r+".")}),i+=s,i}static eventCallback(e,i,s){return r=>{n.getEventFullKey(r)===e&&s.runGuarded(()=>i(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(F(et))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const m9=[{provide:dh,useValue:W3},{provide:UB,useValue:function(){QC.makeCurrent(),YC.init()},multi:!0},{provide:et,useFactory:function(){return function(n){Ne=n}(document),document},deps:[]}],y9=XB(cj,"browser",m9),_9=[[],{provide:$a,useValue:"root"},{provide:La,useFactory:function(){return new La},deps:[]},{provide:Mp,useClass:t9,multi:!0,deps:[et,Qe,dh]},{provide:Mp,useClass:u9,multi:!0,deps:[et]},[],{provide:c_,useClass:c_,deps:[o_,Ip,Sp]},{provide:ec,useExisting:c_},{provide:J3,useExisting:Ip},{provide:Ip,useClass:Ip,deps:[et]},{provide:yC,useClass:yC,deps:[Qe]},{provide:o_,useClass:o_,deps:[Mp,Qe]},{provide:K3,useClass:$W,deps:[]},[]];let r0=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Sp,useValue:e.appId},{provide:Q3,useExisting:Sp},BW]}}}return n.\u0275fac=function(e){return new(e||n)(F(n,12))},n.\u0275mod=ii({type:n}),n.\u0275inj=zt({providers:_9,imports:[j3,mj]}),n})();function u_(n,t){return new Je(e=>{const i=n.length;if(0===i)return void e.complete();const s=new Array(i);let r=0,a=0;for(let o=0;o<i;o++){const l=Rc(n[o]);let h=!1;e.add(l.subscribe({next:f=>{h||(h=!0,a++),s[o]=f},error:f=>e.error(f),complete:()=>{r++,(r===i||!h)&&(a===i&&e.next(t?t.reduce((f,m,y)=>(f[m]=s[y],f),{}):s),e.complete())}}))}})}"undefined"!=typeof window&&window;let o$=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)($(tc),$(Vt))},n.\u0275dir=fe({type:n}),n})(),uc=(()=>{class n extends o${}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=fe({type:n,features:[$t]}),n})();const Wr=new we("NgValueAccessor"),D9={provide:Wr,useExisting:kt(()=>h_),multi:!0};let h_=(()=>{class n extends uc{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=fe({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&je("change",function(r){return i.onChange(r.target.checked)})("blur",function(){return i.onTouched()})},features:[ut([D9]),$t]}),n})();const T9={provide:Wr,useExisting:kt(()=>qa),multi:!0},M9=new we("CompositionEventMode");let qa=(()=>{class n extends o${constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=cc()?cc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)($(tc),$(Vt),$(M9,8))},n.\u0275dir=fe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&je("input",function(r){return i._handleInput(r.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(r){return i._compositionEnd(r.target.value)})},features:[ut([T9]),$t]}),n})();function $o(n){return null==n||0===n.length}function l$(n){return null!=n&&"number"==typeof n.length}const un=new we("NgValidators"),Vo=new we("NgAsyncValidators"),I9=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class o0{static min(t){return c$(t)}static max(t){return u$(t)}static required(t){return h$(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return $o(n.value)||I9.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function(n){return t=>$o(t.value)||!l$(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>l$(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return Ho;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if($o(i.value))return null;const s=i.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return w$(t)}static composeAsync(t){return E$(t)}}function c$(n){return t=>{if($o(t.value)||$o(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function u$(n){return t=>{if($o(t.value)||$o(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function h$(n){return $o(n.value)?{required:!0}:null}function Ho(n){return null}function v$(n){return null!=n}function y$(n){const t=gy(n)?Rc(n):n;return Tk(t),t}function _$(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function b$(n,t){return t.map(e=>e(n))}function S$(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function w$(n){if(!n)return null;const t=n.filter(v$);return 0==t.length?null:function(e){return _$(b$(e,t))}}function l0(n){return null!=n?w$(S$(n)):null}function E$(n){if(!n)return null;const t=n.filter(v$);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if(nl(t))return u_(t,null);if(sl(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return u_(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return u_(n=1===n.length&&nl(n[0])?n[0]:n,null).pipe(vs(e=>t(...e)))}return u_(n,null)}(b$(e,t).map(y$)).pipe(vs(_$))}}function c0(n){return null!=n?E$(S$(n)):null}function k$(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function C$(n){return n._rawValidators}function A$(n){return n._rawAsyncValidators}function u0(n){return n?Array.isArray(n)?n:[n]:[]}function d_(n,t){return Array.isArray(n)?n.includes(t):n===t}function P$(n,t){const e=u0(t);return u0(n).forEach(s=>{d_(e,s)||e.push(s)}),e}function D$(n,t){return u0(t).filter(e=>!d_(n,e))}let T$=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=l0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=c0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=fe({type:n}),n})(),xn=(()=>{class n extends T${get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=fe({type:n,features:[$t]}),n})();class Fo extends T${constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class x${constructor(t){this._cd=t}is(t){var e,i,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===s?void 0:s[t])}}let hc=(()=>{class n extends x${constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)($(Fo,2))},n.\u0275dir=fe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Zl("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[$t]}),n})(),dc=(()=>{class n extends x${constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)($(xn,10))},n.\u0275dir=fe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Zl("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[$t]}),n})();function Op(n,t){f0(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&M$(n,t)})}(n,t),function(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&M$(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function g_(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),v_(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function m_(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function f0(n,t){const e=C$(n);null!==t.validator?n.setValidators(k$(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=A$(n);null!==t.asyncValidator?n.setAsyncValidators(k$(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();m_(t._rawValidators,s),m_(t._rawAsyncValidators,s)}function v_(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=C$(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(a=>a!==t.validator);r.length!==s.length&&(e=!0,n.setValidators(r))}}if(null!==t.asyncValidator){const s=A$(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(a=>a!==t.asyncValidator);r.length!==s.length&&(e=!0,n.setAsyncValidators(r))}}}const i=()=>{};return m_(t._rawValidators,i),m_(t._rawAsyncValidators,i),e}function M$(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function y_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Rp="VALID",__="INVALID",mh="PENDING",Np="DISABLED";function m0(n){return(y0(n)?n.validators:n)||null}function R$(n){return Array.isArray(n)?l0(n):n||null}function v0(n,t){return(y0(t)?t.asyncValidators:n)||null}function N$(n){return Array.isArray(n)?c0(n):n||null}function y0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class _0{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=R$(this._rawValidators),this._composedAsyncValidatorFn=N$(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Rp}get invalid(){return this.status===__}get pending(){return this.status==mh}get disabled(){return this.status===Np}get enabled(){return this.status!==Np}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=R$(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=N$(t)}addValidators(t){this.setValidators(P$(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(P$(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(D$(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(D$(t,this._rawAsyncValidators))}hasValidator(t){return d_(this._rawValidators,t)}hasAsyncValidator(t){return d_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=mh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Np,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Rp,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rp||this.status===mh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Np:Rp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=mh,this._hasOwnPendingAsyncValidator=!0;const e=y$(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(s=>{i=i instanceof Bi?i.controls.hasOwnProperty(s)?i.controls[s]:null:i instanceof b_&&i.at(s)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new gt,this.statusChanges=new gt}_calculateStatus(){return this._allControlsDisabled()?Np:this.errors?__:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mh)?mh:this._anyControlsHaveStatus(__)?__:Rp}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){y0(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ee extends _0{constructor(t=null,e,i){super(m0(e),v0(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){y_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){y_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Bi extends _0{constructor(t,e,i){super(m0(e),v0(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof ee?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,r)=>{i=e(i,s,r)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class b_ extends _0{constructor(t,e,i){super(m0(e),v0(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ee?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let H$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=fe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const K9={provide:Wr,useExisting:kt(()=>S_),multi:!0};let S_=(()=>{class n extends uc{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=fe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&je("input",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},features:[ut([K9]),$t]}),n})();const Q9={provide:Wr,useExisting:kt(()=>S0),multi:!0};let F$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ii({type:n}),n.\u0275inj=zt({}),n})(),Y9=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({factory:function(){return new n},token:n,providedIn:F$}),n})(),S0=(()=>{class n extends uc{constructor(e,i,s,r){super(e,i),this._registry=s,this._injector=r,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Fo),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(e){return new(e||n)($(tc),$(Vt),$(Y9),$(Mt))},n.\u0275dir=fe({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,i){1&e&&je("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ut([Q9]),$t]}),n})();const w0=new we("NgModelWithFormControlWarning"),X9={provide:xn,useExisting:kt(()=>Ua)};let Ua=(()=>{class n extends xn{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new gt,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(v_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Op(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){g_(e.control||null,e,!1),y_(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(g_(i||null,e),s instanceof ee&&(Op(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function(n,t){f0(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return v_(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){f0(this.form,this),this._oldForm&&v_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)($(un,10),$(Vo,10))},n.\u0275dir=fe({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&je("submit",function(r){return i.onSubmit(r)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ut([X9]),$t,Tt]}),n})();const iz={provide:Fo,useExisting:kt(()=>qo)};let qo=(()=>{class n extends Fo{constructor(e,i,s,r,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new gt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(r=>{r.constructor===qa?e=r:function(n){return Object.getPrototypeOf(n.constructor)===uc}(r)?i=r:s=r}),s||i||e||null}(0,r)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)($(xn,13),$(un,10),$(Vo,10),$(Wr,10),$(w0,8))},n.\u0275dir=fe({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ut([iz]),$t,Tt]}),n._ngModelWarningSentOnce=!1,n})();const nz={provide:Wr,useExisting:kt(()=>Bp),multi:!0};function j$(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Bp=(()=>{class n extends uc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const i=this._getOptionId(e);null==i&&this.setProperty("selectedIndex",-1);const s=j$(i,e);this.setProperty("value",s)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=fe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&je("change",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ut([nz]),$t]}),n})(),C0=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(j$(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)($(Vt),$(tc),$(Bp,9))},n.\u0275dir=fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const rz={provide:Wr,useExisting:kt(()=>A0),multi:!0};function W$(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let A0=(()=>{class n extends uc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const s=e.map(r=>this._getOptionId(r));i=(r,a)=>{r._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,r)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const s=[];if(void 0!==i.selectedOptions){const r=i.selectedOptions;for(let a=0;a<r.length;a++){const o=r.item(a),l=this._getOptionValue(o.value);s.push(l)}}else{const r=i.options;for(let a=0;a<r.length;a++){const o=r.item(a);if(o.selected){const l=this._getOptionValue(o.value);s.push(l)}}}this.value=s,e(s)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=fe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&je("change",function(r){return i.onChange(r.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ut([rz]),$t]}),n})(),P0=(()=>{class n{constructor(e,i,s){this._element=e,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(W$(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(W$(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)($(Vt),$(tc),$(A0,9))},n.\u0275dir=fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),K$=(()=>{class n{constructor(){this._validator=Ho}handleChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._validator=this.createValidator(i),this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=fe({type:n}),n})();const oz={provide:un,useExisting:kt(()=>w_),multi:!0};let w_=(()=>{class n extends K${constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>u$(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=fe({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;fr("max",null!==(s=i.max)&&void 0!==s?s:null)}},inputs:{max:"max"},features:[ut([oz]),$t,Tt]}),n})();const lz={provide:un,useExisting:kt(()=>D0),multi:!0};let D0=(()=>{class n extends K${constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>c$(e)}ngOnChanges(e){this.handleChanges(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}(),n.\u0275dir=fe({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,i){if(2&e){let s;fr("min",null!==(s=i.min)&&void 0!==s?s:null)}},inputs:{min:"min"},features:[ut([lz]),$t,Tt]}),n})();const cz={provide:un,useExisting:kt(()=>E_),multi:!0};let E_=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?h$(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=fe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&fr("required",i.required?"":null)},inputs:{required:"required"},features:[ut([cz])]}),n})(),eV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ii({type:n}),n.\u0275inj=zt({imports:[[F$]]}),n})(),gz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ii({type:n}),n.\u0275inj=zt({imports:[eV]}),n})(),mz=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:w0,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ii({type:n}),n.\u0275inj=zt({imports:[eV]}),n})();var at=Yt(815);function k_(n){let e,t=n.length;for(;0!=t;)e=Math.floor(Math.random()*t),t--,[n[t],n[e]]=[n[e],n[t]];return n}function Hs(n,t){return n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n}function T0(n){return Math.ceil(100*n)/100}function It(n,t){let e;return e=n.player==t?n.opponet:n.player,e}function vz(n){var t,e,i,s,r,a,o;return new Bi({name:new ee(null!==(t=n.name)&&void 0!==t?t:null,o0.required),tier1Pets:new ee(null!==(e=n.tier1Pets)&&void 0!==e?e:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier2Pets:new ee(null!==(i=n.tier2Pets)&&void 0!==i?i:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier3Pets:new ee(null!==(s=n.tier3Pets)&&void 0!==s?s:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier4Pets:new ee(null!==(r=n.tier4Pets)&&void 0!==r?r:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier5Pets:new ee(null!==(a=n.tier5Pets)&&void 0!==a?a:[],n=>n.value&&10!==n.value.length?{length:!0}:null),tier6Pets:new ee(null!==(o=n.tier6Pets)&&void 0!==o?o:[],n=>n.value&&10!==n.value.length?{length:!0}:null)})}class ne{constructor(){this.multiplier=1,this.multiplierMessage="",this.originalPower=this.power}reset(){this.uses=this.originalUses}}class fc extends ne{constructor(){super(...arguments),this.name="Peanut",this.tier=7,this.equipmentClass="attack",this.power=0}}class $p extends ne{constructor(){super(...arguments),this.name="Salt",this.tier=4,this.equipmentClass="attack",this.uses=1,this.originalUses=1}}class Vp extends ne{constructor(){super(...arguments),this.name="Cheese",this.equipmentClass="attack",this.uses=1,this.originalUses=1}}class Hp extends ne{constructor(){super(...arguments),this.name="Pepper",this.equipmentClass="shield",this.uses=1,this.originalUses=1,this.power=0,this.originalPower=0}}class Fp extends ne{constructor(){super(),this.name="Fortune Cookie",this.equipmentClass="attack"}}class C_ extends ne{constructor(){super(...arguments),this.name="Dazed",this.equipmentClass="ailment-other"}}class yz extends ne{constructor(){super(...arguments),this.name="Silly",this.equipmentClass="ailment-other"}}class qp extends ne{constructor(){super(...arguments),this.name="Exposed",this.equipmentClass="ailment-other",this.uses=2,this.originalUses=2}}class pc extends ne{constructor(){super(...arguments),this.name="Crisp",this.equipmentClass="ailment-other"}}class x0 extends ne{constructor(){super(...arguments),this.name="Toasty",this.equipmentClass="ailment-other",this.uses=1,this.originalUses=1}}class M0 extends ne{constructor(){super(...arguments),this.name="Peanut Butter",this.equipmentClass="attack",this.tier=7,this.power=0,this.uses=1,this.originalUses=1}}class tV extends ne{constructor(){super(),this.name="Blackberry",this.tier=3,this.equipmentClass="shop"}}class A_ extends ne{constructor(){super(...arguments),this.name="Honeydew Melon",this.tier=5,this.equipmentClass="shield",this.power=10,this.originalPower=10,this.uses=1,this.originalUses=1}}class _z extends ne{constructor(){super(...arguments),this.name="Honeydew Melon (Attack)",this.equipmentClass="attack",this.power=5,this.originalPower=5}}class Up extends ne{constructor(){super(...arguments),this.name="Maple Syrup",this.tier=5,this.equipmentClass="shield",this.power=0,this.originalPower=0,this.uses=1,this.originalUses=1}}class I0 extends ne{constructor(){super(...arguments),this.name="Maple Syrup (Attack)",this.equipmentClass="attack",this.power=0,this.originalPower=0}}class P_ extends ne{constructor(){super(...arguments),this.name="White Okra",this.tier=6,this.equipmentClass="shield",this.power=10,this.originalPower=10,this.uses=2,this.originalUses=2}}class D_ extends ne{constructor(){super(...arguments),this.name="Ambrosia",this.tier=4,this.equipmentClass="shield",this.power=8,this.originalPower=8,this.uses=1,this.originalUses=1}}class iV extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="White Truffle",this.equipmentClass="faint",this.callback=i=>{var s;let r=null===(s=i.originalFriendFaints)||void 0===s?void 0:s.bind(i);i.friendFaints=(a,o,l)=>{var h;if(o==i||(null!=r&&r(a,o,l),"White Truffle"!=(null===(h=i.equipment)||void 0===h?void 0:h.name)))return;let f=i.parent.opponent.getHighestAttackPet();f.pet&&f.pet.alive&&(i.jumpAttackPrep(f.pet),i.jumpAttack(f.pet,l,null,f.random),i.removePerk())}}}}class _{constructor(t,e,i){this.logService=t,this.abilityService=e,this.hidden=!1,this.mana=0,this.maxAbilityUses=null,this.abilityUses=0,this.startOfBattleTriggered=!1,this.exp=0,this.originalExp=0,this.faintPet=!1,this.transformed=!1,this.transformedInto=null,this.done=!1,this.seenDead=!1,this.swallowedPets=[],this.toyPet=!1,this.battlesFought=0,this.eggplantTouched=!1,this.cherryTouched=!1,this.parent=i}initPet(t,e,i,s,r){var a,o,l,h,f,m,y,S,k,D,T,R,O,U,L,G,Y,oe,ge,me,ye,Be,vt,it,Et,Ft,X,re,ve,Me,yt,oi,Rt;this.exp=null!=t?t:this.exp,this.health=null!=e?e:this.health*this.level,this.attack=null!=i?i:this.attack*this.level,this.mana=null!=s?s:this.mana,this.originalHealth=this.health,this.originalAttack=this.attack,this.originalMana=this.mana,this.equipment=r,this.originalEquipment=r,this.originalExp=this.exp,this.originalStartOfBattle=this.startOfBattle,this.originalTransform=this.transform,this.originalHurt=this.hurt,this.originalFaint=this.faint,this.originalFriendSummoned=this.friendSummoned,this.originalFriendAheadAttacks=this.friendAheadAttacks,this.originalAdjacentAttacked=this.adjacentAttacked,this.originalFriendAheadFaints=this.friendAheadFaints,this.originalFriendFaints=this.friendFaints,this.originalFriendAteFood=this.friendAteFood,this.originalEatsFood=this.eatsFood,this.originalFriendLostPerk=this.friendLostPerk,this.originalGainedPerk=this.gainedPerk,this.originalFriendGainedPerk=this.friendGainedPerk,this.originalFriendGainedAilment=this.friendGainedAilment,this.originalFriendHurt=this.friendHurt,this.originalFriendTransformed=this.friendTransformed,this.originalFriendAttacks=this.friendAttacks,this.originalBeforeFriendAttacks=this.beforeFriendAttacks,this.originalEnemyAttack=this.enemyAttack,this.originalAfterAttack=this.afterAttack,this.originalAfterFaint=this.afterFaint,this.originalBeforeAttack=this.beforeAttack,this.originalBeforeStartOfBattle=this.beforeStartOfBattle,this.originalAnyoneLevelUp=this.anyoneLevelUp,this.originalEndTurn=this.endTurn,this.originalKnockOut=this.knockOut,this.originalSummoned=this.summoned,this.originalFriendlyToyBroke=this.friendlyToyBroke,this.originalEnemySummoned=this.enemySummoned,this.originalEnemyPushed=this.enemyPushed,this.originalEnemyHurt=this.enemyHurt,this.originalEmptyFrontSpace=this.emptyFrontSpace,this.originalAfterFaint=this.afterFaint,this.originalGainedMana=this.gainedMana,this.originalFriendJumped=this.friendJumped,this.originalEnemyJumped=this.enemyJumped,this.originalEnemyGainedAilment=this.enemyGainedAilment,this.originalFriendGainsHealth=this.friendGainsHealth,this.originalFriendGainedExperience=this.friendGainedExperience;let fi=null===(a=this.faint)||void 0===a?void 0:a.bind(this);null!=fi&&(this.faintPet=!0),this.faint=(ue,de,He)=>{if(null!=fi){if(!this.abilityValidCheck())return;fi(ue,de,He)}if(this.abilityValidCheck()&&!this.kitsuneCheck()&&this.mana>0){let mq;mq={priority:this.attack,player:this.parent,callback:()=>{let vq=It(ue,this.parent).getRandomPet([],!1,!0);null!=vq&&0!=this.mana&&this.snipePet(vq,this.mana,!0,!1,!1,!1,!0)}},this.abilityService.setManaEvent(mq)}};let se=null===(o=this.startOfBattle)||void 0===o?void 0:o.bind(this);this.startOfBattle=null==se?null:(ue,de)=>{if(this.abilityValidCheck())return se(ue,de)};let gs=null===(l=this.transform)||void 0===l?void 0:l.bind(this);this.transform=null==gs?null:(ue,de)=>{!this.abilityValidCheck()||gs(ue,de)};let Pi=null===(h=this.endTurn)||void 0===h?void 0:h.bind(this);this.endTurn=null==Pi?null:ue=>{!this.abilityValidCheck()||Pi(ue)};let ms=null===(f=this.beforeAttack)||void 0===f?void 0:f.bind(this);this.beforeAttack=null==ms?null:(ue,de)=>{!this.abilityValidCheck()||ms(ue,de)};let On=null===(m=this.afterAttack)||void 0===m?void 0:m.bind(this);this.afterAttack=null==On?null:(ue,de)=>{!this.abilityValidCheck()||On(ue,de)};let Yn=null===(y=this.friendAttacks)||void 0===y?void 0:y.bind(this);this.friendAttacks=null==Yn?null:(ue,de,He)=>{!this.abilityValidCheck()||Yn(ue,de,He)};let il=null===(S=this.beforeFriendAttacks)||void 0===S?void 0:S.bind(this);this.beforeFriendAttacks=null==il?null:(ue,de,He)=>{!this.abilityValidCheck()||il(ue,de,He)};let zh=null===(k=this.friendFaints)||void 0===k?void 0:k.bind(this);this.friendFaints=null==zh?null:(ue,de,He)=>{!this.abilityValidCheck()||zh(ue,de,He)};let CS=null===(D=this.friendLostPerk)||void 0===D?void 0:D.bind(this);this.friendLostPerk=null==CS?null:(ue,de,He)=>{!this.abilityValidCheck()||CS(ue,de,He)};let kg=null===(T=this.gainedPerk)||void 0===T?void 0:T.bind(this);this.gainedPerk=null==kg?null:(ue,de,He)=>{!this.abilityValidCheck()||kg(ue,de,He)};let AS=null===(R=this.friendGainedPerk)||void 0===R?void 0:R.bind(this);this.friendGainedPerk=null==AS?null:(ue,de,He)=>{!this.abilityValidCheck()||AS(ue,de,He)};let PS=null===(O=this.eatsFood)||void 0===O?void 0:O.bind(this);this.eatsFood=null==PS?null:(ue,de,He)=>{!this.abilityValidCheck()||PS(ue,de,He)};let Cg=null===(U=this.friendAteFood)||void 0===U?void 0:U.bind(this);this.friendAteFood=null==Cg?null:(ue,de,He)=>{!this.abilityValidCheck()||Cg(ue,de,He)};let Ag=null===(L=this.beforeStartOfBattle)||void 0===L?void 0:L.bind(this);this.beforeStartOfBattle=null==Ag?null:(ue,de)=>{!this.abilityValidCheck()||Ag(ue,de)};let DS=null===(G=this.friendHurt)||void 0===G?void 0:G.bind(this);this.friendHurt=null==DS?null:(ue,de,He)=>{!this.abilityValidCheck()||DS(ue,de,He)};let TS=null===(Y=this.friendTransformed)||void 0===Y?void 0:Y.bind(this);this.friendTransformed=null==TS?null:(ue,de,He)=>{!this.abilityValidCheck()||TS(ue,de,He)};let ea=null===(oe=this.friendSummoned)||void 0===oe?void 0:oe.bind(this);this.friendSummoned=null==ea?null:(ue,de,He)=>{!this.abilityValidCheck()||ea(ue,de,He)};let xc=null===(ge=this.anyoneLevelUp)||void 0===ge?void 0:ge.bind(this);this.anyoneLevelUp=null==xc?null:(ue,de,He)=>{!this.abilityValidCheck()||xc(ue,de,He)};let Pg=null===(me=this.enemyHurt)||void 0===me?void 0:me.bind(this);this.enemyHurt=null==Pg?null:(ue,de,He)=>{!this.abilityValidCheck()||Pg(ue,de,He)};let Dg=null===(ye=this.enemySummoned)||void 0===ye?void 0:ye.bind(this);this.enemySummoned=null==Dg?null:(ue,de,He)=>{!this.abilityValidCheck()||Dg(ue,de,He)};let Kh=null===(Be=this.emptyFrontSpace)||void 0===Be?void 0:Be.bind(this);this.emptyFrontSpace=null==Kh?null:(ue,de)=>{!this.abilityValidCheck()||Kh(ue,de)};let Tg=null===(vt=this.gainedMana)||void 0===vt?void 0:vt.bind(this);this.gainedMana=null==Tg?null:(ue,de)=>{!this.abilityValidCheck()||Tg(ue,de)};let xg=null===(it=this.friendJumped)||void 0===it?void 0:it.bind(this);this.friendJumped=null==xg?null:(ue,de,He)=>{!this.abilityValidCheck()||xg(ue,de,He)};let Mg=null===(Et=this.enemyJumped)||void 0===Et?void 0:Et.bind(this);this.enemyJumped=null==Mg?null:(ue,de,He)=>{!this.abilityValidCheck()||Mg(ue,de,He)};let Ig=null===(Ft=this.friendlyToyBroke)||void 0===Ft?void 0:Ft.bind(this);this.friendlyToyBroke=null==Ig?null:(ue,de)=>{!this.abilityValidCheck()||Ig(ue,de)};let cq=null===(X=this.enemyPushed)||void 0===X?void 0:X.bind(this);this.enemyPushed=null==cq?null:(ue,de,He)=>{!this.abilityValidCheck()||cq(ue,de,He)};let uq=null===(re=this.summoned)||void 0===re?void 0:re.bind(this);this.summoned=null==uq?null:(ue,de)=>{uq(ue,de)};let hq=null===(ve=this.knockOut)||void 0===ve?void 0:ve.bind(this);this.knockOut=null==hq?null:(ue,de,He)=>{!this.abilityValidCheck()||hq(ue,de,He)};let dq=null===(Me=this.enemyGainedAilment)||void 0===Me?void 0:Me.bind(this);this.enemyGainedAilment=null==dq?null:(ue,de,He)=>{!this.abilityValidCheck()||dq(ue,de,He)};let fq=null===(yt=this.friendGainsHealth)||void 0===yt?void 0:yt.bind(this);this.friendGainsHealth=null==fq?null:(ue,de,He)=>{!this.abilityValidCheck()||fq(ue,de,He)};let pq=null===(oi=this.friendGainedExperience)||void 0===oi?void 0:oi.bind(this);this.friendGainedExperience=null==pq?null:(ue,de,He)=>{!this.abilityValidCheck()||pq(ue,de,He)};let gq=null===(Rt=this.afterFaint)||void 0===Rt?void 0:Rt.bind(this);this.afterFaint=null==gq?null:(ue,de,He)=>{!this.abilityValidCheck()||gq(ue,de,He)},this.setAbilityUses()}abilityValidCheck(){return!(null==this.savedPosition||this.equipment instanceof C_&&(this.logService.createLog({message:`${this.name}'s ability was not activated because of Dazed.`,type:"ability",player:this.parent}),1))}setAbilityUses(){this.abilityUses=0}tigerCheck(t){var e;return"Tiger"==(null===(e=this.petBehind(!0,!0))||void 0===e?void 0:e.name)&&(null==t||0==t)}superStartOfBattle(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(!0,!0).minExpForLevel,this.originalStartOfBattle(t,!0),this.exp=i}superHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalHurt(t,e,!0),this.exp=s}superFaint(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFaint(t,!0),this.exp=i}superFriendSummoned(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendSummoned(t,e,!0),this.exp=s}superFriendAheadAttacks(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendAheadAttacks(t,e,!0),this.exp=s}superFriendAheadFaints(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendAheadFaints(t,e,!0),this.exp=s}superAdjacentAttacked(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalAdjacentAttacked(t,e,!0),this.exp=s}superAfterAttack(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalAfterAttack(t,!0),this.exp=i}superSummoned(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.summoned(t,!0),this.exp=i}superKnockOut(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.knockOut(t,e,!0),this.exp=s}superFriendFaints(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendFaints(t,e,!0),this.exp=s}superBeforeAttack(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalBeforeAttack(t,!0),this.exp=i}superBeforeFriendAttacks(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalBeforeFriendAttacks(t,e,!0),this.exp=s}superFriendLosPerk(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendLostPerk(t,e,!0),this.exp=s}superGainedPerk(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalGainedPerk(t,e,!0),this.exp=s}superFriendGainedPerk(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendGainedPerk(t,e,!0),this.exp=s}superEatsFood(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalEatsFood(t,e,!0),this.exp=s}superFriendAteFood(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendAteFood(t,e,!0),this.exp=s}superBeforeStartOfBattle(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalBeforeStartOfBattle(t,!0),this.exp=i}superFriendlyToyBroke(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendlyToyBroke(t,!0),this.exp=i}superTransform(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalTransform(t,!0),this.exp=i}superEnemySummoned(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemySummoned(t,e,!0),this.exp=s}superEnemyPushed(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyPushed(t,e,!0),this.exp=s}superFriendHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendHurt(t,e,!0),this.exp=s}superFriendTransformed(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendTransformed(t,e,!0),this.exp=s}superAnyoneLevelUp(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.anyoneLevelUp(t,e,!0),this.exp=s}superEnemyHurt(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyHurt(t,e,!0),this.exp=s}superFriendAttacks(t,e=null,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendAttacks(t,e,!0),this.exp=s}superEnemyAttack(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalEnemyAttack(t,e,!0),this.exp=s}superEmptyFrontSpace(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.emptyFrontSpace(t,!0),this.exp=i}superGainedMana(t,e=!1){if(!this.tigerCheck(e))return;let i=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalGainedMana(t,!0),this.exp=i}superFriendJumped(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendJumped(t,e,!0),this.exp=s}superEnemyJumped(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalEnemyJumped(t,e,!0),this.exp=s}superEnemyGainedAilment(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.enemyGainedAilment(t,e,!0),this.exp=s}superFriendGainsHealth(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendGainsHealth(t,e,!0),this.exp=s}superFriendGainedExperience(t,e,i=!1){if(!this.tigerCheck(i))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalFriendGainedExperience(t,e,!0),this.exp=s}superAfterFaint(t,e=!1,i=!1){if(!this.tigerCheck(e))return;let s=this.exp;this.exp=this.petBehind(null,!0).minExpForLevel,this.originalAfterFaint(t,!0,i),this.exp=s}attackPet(t,e=!1,i,s=!1){var r,a,o,l;let D,h=this.calculateDamgae(t,this.getManticoreMult(),i),f=h.attackEquipment,m=h.defenseEquipment,y=h.damage,S=null===(r=this.equipment)||void 0===r?void 0:r.multiplier,k=null===(a=t.equipment)||void 0===a?void 0:a.multiplier;if(this.currentTarget=t,e?(D=`${this.name} jump-attacks ${t.name} for ${y}.`,this.equipment instanceof iV&&(D+="(White Truffle)")):D=`${this.name} attacks ${t.name} for ${y}.`,f instanceof fc&&y>0)this.logService.createLog({message:`${D} (Peanut)`,type:"attack",player:this.parent,randomEvent:s}),t.killedBy=this,t.health=0;else if(f instanceof M0&&y>0&&f.uses>0)this.logService.createLog({message:`${D} (Peanut Butter)`,type:"attack",player:this.parent,randomEvent:s}),t.killedBy=this,t.health=0;else{if(this.dealDamage(t,y),null!=f){let L=Math.abs(f.power),G="-";f.power>0&&(G="+");let Y=`${G}${L}`;f instanceof $p&&(Y="x2"),f instanceof I0&&(Y="x0.5"),f instanceof Vp&&(Y=y<=15?"=15":"+0"),f instanceof Fp&&(s=!0,h.fortuneCookie?(Y="x2",f.multiplier>1&&(Y+=f.multiplierMessage)):Y="x1"),D+=` (${f.name} ${Y})`,S>1&&(D+=this.equipment.multiplierMessage)}if(null!=m){let L=Math.abs(m.power),G="-";if(m.power<0&&(G="+"),"Strawberry"===m.name){let Y=t.getSparrowLevel();Y>0&&(L=5*Y,D+=` (Strawberry -${L} (Sparrow))`)}else m instanceof Hp?(G=1==t.health?"!":"-",L="",D+=` (${m.name} ${G}${L})`):m instanceof Up?(L="x0.5",D+=` (${m.name} ${L})`):D+=` (${m.name} ${G}${L})`;k>1&&(D+=t.equipment.multiplierMessage)}t.equipment instanceof qp&&(D+="x2 (Exposed)",t.equipment.multiplier>1&&(D+=t.equipment.multiplierMessage)),h.nurikabe>0&&(D+=` -${h.nurikabe} (Nurikabe)`),h.fairyBallReduction>0&&(D+=` -${h.fairyBallReduction} (Fairy Ball)`),h.fanMusselReduction>0&&(D+=` -${h.fanMusselReduction} (Fan Mussel)`),h.mapleSyrupReduction>0&&(D+=` -${h.mapleSyrupReduction} (Maple Syrup)`);let T=this.getManticoreMult(),O=["Weak","Cold","Exposed","Spooked"].includes(null===(o=t.equipment)||void 0===o?void 0:o.name);if(T.length>0&&O)for(let L of T)D+=` x${L+1} (Manticore)`;this.logService.createLog({message:D,type:"attack",player:this.parent,randomEvent:s});let U="skewer"==(null===(l=this.equipment)||void 0===l?void 0:l.equipmentClass)?this.equipment:null;null!=U&&U.attackCallback(this,t)}this.abilityService.triggerFriendAttacksEvents(this.parent,this),null!=t.hurt&&y>0&&this.abilityService.setHurtEvent({callback:t.hurt.bind(t),priority:t.attack,player:t.parent,callbackPet:this,pet:t}),null!=this.afterAttack&&this.abilityService.setAfterAttackEvent({callback:this.afterAttack.bind(this),priority:this.attack,pet:this}),t.health<1&&null!=this.knockOut&&this.abilityService.setKnockOutEvent({callback:this.knockOut.bind(this),priority:this.attack,callbackPet:t,pet:this}),t.alive&&y>0&&this.abilityService.triggerFriendHurtEvents(t.parent,t),t.alive&&y>0&&this.abilityService.triggerEnemyHurtEvents(this.parent,t),this.applyCrisp()}applyCrisp(){let t=this.parent.opponent.getManticoreMult();for(let e of this.parent.petArray)if(e.equipment instanceof pc){let i=6,s=e.equipment.multiplier;for(let l of t)s+=l;i*=s;let r=0;"Nurikabe"==e.name&&e.abilityUses<3&&(r=4*e.level,i=Math.max(0,i-r),e.abilityUses++);let a=0;"Fan Mussel"==e.name&&e.abilityUses<e.maxAbilityUses&&(a=1*e.level,i=Math.max(0,i-a),e.abilityUses++);let o=`${e.name} took ${i} damage`;if(t.length>0)for(let l of t)o+=` x${l+1} (Manticore)`;e.equipment.multiplier>1&&(o+=e.equipment.multiplierMessage),r>0&&(o+=` -${r} (Nurikabe)`),a>0&&(o+=` -${a} (Fan Mussel)`),o+=" (Crisp).",this.logService.createLog({message:o,type:"ability",player:e.parent}),this.dealDamage(e,i),e.removePerk()}else if(e.equipment instanceof x0&&e.equipment.uses>0){let i=1,s=e.equipment.multiplier;for(let l of t)s+=l;i*=s;let r=0;"Nurikabe"==e.name&&e.abilityUses<3&&(r=4*e.level,i=Math.max(0,i-r),e.abilityUses++);let a=0;"Fan Mussel"==e.name&&e.abilityUses<e.maxAbilityUses&&(a=1*e.level,i=Math.max(0,i-a),e.abilityUses++);let o=`${e.name} took ${i} damage`;if(t.length>0)for(let l of t)o+=` x${l+1} (Manticore)`;e.equipment.multiplier>1&&(o+=e.equipment.multiplierMessage),r>0&&(o+=` -${r} (Nurikabe)`),a>0&&(o+=` -${a} (Fan Mussel)`),o+=" (Toasty).",this.logService.createLog({message:o,type:"ability",player:e.parent}),this.dealDamage(e,i),e.equipment.uses--,e.equipment.uses<=0&&e.removePerk()}}snipePet(t,e,i,s,r,a,o){var l,h,f,m,y;let S=!1;"Albatross"==(null===(l=this.petAhead)||void 0===l?void 0:l.name)&&t.tier<=4&&(e+=3*this.petAhead.level,S=!0),"Albatross"==(null===(h=this.petBehind())||void 0===h?void 0:h.name)&&t.tier<=4&&(e+=3*this.petBehind().level,S=!0);let k=this.calculateDamgae(t,this.getManticoreMult(),e,!0),D=k.attackEquipment,T=k.defenseEquipment,R=k.damage,O="Ghost Kitten"==t.name,U=0;O&&(U=3*t.level,R=Math.max(0,R-U)),this.dealDamage(t,R);let L=`${this.name} sniped ${t.name} for ${R}.`;if(null!=T){t.useDefenseEquipment(!0);let ge=Math.abs(T.power),me="-";if(T.power<0&&(me="+"),"Strawberry"===T.name){let ye=t.getSparrowLevel();ye>0&&(ge=5*ye,L+=` (Strawberry -${ge} (Sparrow))`)}else L+=` (${T.name} ${me}${ge})`;L+=T.multiplierMessage}if(null!=D&&"attack-snipe"==D.equipmentClass){let ge=Math.abs(D.power),me="-";D.power>0&&(me="+"),L+=` (${D.name} ${me}${ge})`}(null===(f=this.equipment)||void 0===f?void 0:f.multiplier)>1&&(L+=this.equipment.multiplierMessage),s&&(L+=" (Tiger)"),S&&(L+=" (Albatross)"),a&&(L+=` (${this.equipment.name})`),o&&(L+=" (Mana)"),O&&(L+=` -${U} (Ghost Kitten)`),"Exposed"==(null===(m=t.equipment)||void 0===m?void 0:m.name)&&(L+="x2 (Exposed)",t.equipment.multiplier>1&&(L+=t.equipment.multiplierMessage));let G=this.getManticoreMult(),oe=["Weak","Cold","Exposed","Spooked"].includes(null===(y=t.equipment)||void 0===y?void 0:y.name);if(G.length>0&&oe)for(let ge of G)L+=` x${ge+1} (Manticore)`;return k.nurikabe>0&&(L+=` -${k.nurikabe} (Nurikabe)`),k.fairyBallReduction>0&&(L+=` -${k.fairyBallReduction} (Fairy Ball)`),k.fanMusselReduction>0&&(L+=` -${k.fanMusselReduction} (Fan Mussel)`),this.logService.createLog({message:L,type:"attack",randomEvent:i,player:this.parent,pteranodon:r}),null!=t.hurt&&R>0&&this.abilityService.setHurtEvent({callback:t.hurt.bind(t),priority:t.attack,player:t.parent,callbackPet:this,pet:t}),t.health<1&&null!=this.knockOut&&this.abilityService.setKnockOutEvent({callback:this.knockOut.bind(this),priority:this.attack,callbackPet:t,pet:this}),t.alive&&R>0&&this.abilityService.triggerFriendHurtEvents(t.parent,t),t.alive&&R>0&&this.abilityService.triggerEnemyHurtEvents(this.parent,t),R}calculateDamgae(t,e,i,s=!1){var r,a,o,l,h,f,m,y,S,k;let D=null===(r=this.equipment)||void 0===r?void 0:r.multiplier,T=null===(a=t.equipment)||void 0===a?void 0:a.multiplier;const O=["Ink"];let G,Y,L="defense"==(null===(o=t.equipment)||void 0===o?void 0:o.equipmentClass)||"shield"==(null===(l=t.equipment)||void 0===l?void 0:l.equipmentClass)||"ailment-defense"==(null===(h=t.equipment)||void 0===h?void 0:h.equipmentClass)||s&&"shield-snipe"==(null===(f=t.equipment)||void 0===f?void 0:f.equipmentClass)?t.equipment:null;if(null!=L){if(["Cold","Weak"].includes(null==L?void 0:L.name))for(let X of e)T+=X;L.power=L.originalPower*T}if(s)G="attack-snipe"==(null===(m=this.equipment)||void 0===m?void 0:m.equipmentClass)?this.equipment:null,Y=null!=G?i+G.power:i,L instanceof Up&&(L=null);else{if(G=this.equipment instanceof A_?new _z:this.equipment instanceof Up?new I0:"attack"==(null===(y=this.equipment)||void 0===y?void 0:y.equipmentClass)||"ailment-attack"==(null===(S=this.equipment)||void 0===S?void 0:S.equipmentClass)?this.equipment:null,null!=G){if(O.includes(null==G?void 0:G.name))for(let Me of e)D+=Me;G.power=G.originalPower*D}let X=this.attack;"Monty"==this.name&&(X*=this.level+1),Y=(null!=i?i:X)+((null==G?void 0:G.power)?G.power:0)}let oe=(null==L?void 0:L.power)?L.power:0,ge=t.getSparrowLevel();"Strawberry"===(null===(k=t.equipment)||void 0===k?void 0:k.name)&&ge>0&&(oe+=5*ge);let me="shield"==(null==L?void 0:L.equipmentClass)||"shield-snipe"==(null==L?void 0:L.equipmentClass)?0:1;void 0!==(null==L?void 0:L.minimumDamage)&&(me=L.minimumDamage);let ye=0;"Nurikabe"==t.name&&t.abilityUses<3&&(ye=4*t.level,oe+=ye,t.abilityUses++);let Be=0;"Fan Mussel"==t.name&&t.abilityUses<t.maxAbilityUses&&(Be=1*t.level,oe+=Be,t.abilityUses++),t.equipment instanceof Up&&t.equipment.uses>0&&!s&&(Y=Math.floor(Y*Math.pow(.5,T))),G instanceof $p&&!s&&(Y*=2+D-1),G instanceof I0&&!s&&(Y=Math.floor(Y*Math.pow(.5,D)));let Et,it=!1;if(G instanceof Fp&&!s&&Math.random()<.5&&(Y*=2+D-1,it=!0),G instanceof Vp&&!s&&(Y=Math.max(15,Y)),t.equipment instanceof qp){let X=2;for(let re of e)X+=re;X+=t.equipment.multiplier-1,Y*=X}Et=Y<=0?0:Math.max(me,Y-oe),L instanceof Hp&&(Et=Math.min(Et,t.health-1));let Ft=0;return"Fairy Ball"===t.name&&(Ft=2*t.level,Et=Math.max(0,Et-Ft)),{defenseEquipment:L,attackEquipment:G,damage:Et,fortuneCookie:it,nurikabe:ye,fairyBallReduction:Ft,fanMusselReduction:Be,mapleSyrupReduction:0}}resetPet(){var t;this.health=this.originalHealth,this.attack=this.originalAttack,this.equipment=this.originalEquipment,this.lastLostEquipment=null,this.mana=this.originalMana,this.exp=this.originalExp,this.done=!1,this.seenDead=!1;try{null===(t=this.equipment)||void 0===t||t.reset()}catch(e){console.warn("equipment reset failed",this.equipment),console.error(e)}this.swallowedPets=[],this.savedPosition=this.originalSavedPosition,this.setAbilityUses(),this.transformed=!1,this.transformedInto=null,this.currentTarget=null,this.lastAttacker=null,this.hasOwnProperty("attackCounter")&&(this.attackCounter=0),this.killedBy=null}jumpAttackPrep(t){this.beforeAttack&&this.alive&&this.abilityService.setBeforeAttackEvent({callback:this.beforeAttack.bind(this),priority:this.attack,player:this.parent,pet:this}),t.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:t.beforeAttack.bind(t),priority:t.attack,player:t.parent,pet:t}),this.abilityService.executeBeforeAttackEvents(),this.abilityService.triggerBeforeFriendAttacksEvents(this.parent,this),this.abilityService.triggerBeforeFriendAttacksEvents(t.parent,this),this.abilityService.executeBeforeFriendAttacksEvents()}jumpAttack(t,e,i,s=!1){let r;t.lastAttacker=this,r=this.transformed?this.transformedInto:this,t.transformed&&(t=t.transformedInto),r.alive&&t.alive&&(r.attackPet(t,!0,i,s),t.attackPet(r),r.useAttackDefenseEquipment(),t.useAttackDefenseEquipment(),r.parent.checkPetsAlive(),t.parent.checkPetsAlive(),r.abilityService.executeAfterAttackEvents(),r.abilityService.executeAfterFriendAttackEvents(),r.abilityService.triggerFriendJumpedEvents(r.parent,r),r.abilityService.triggerEnemyJumpedEvents(t.parent,r))}getAbilityTarget(t){if(this.equipment instanceof yz){let e=this.parent.opponent.getRandomPet([],!1,!0);if(e)return this.logService.createLog({message:`${this.name}'s ability target was randomized due to Silly`,type:"ability",player:this.parent}),e}return t}get alive(){return this.health>0}setFaintEventIfPresent(){var t;null!=this.faint&&this.abilityService.setFaintEvent({priority:this.attack,callback:this.faint.bind(this),pet:this}),"faint"==(null===(t=this.equipment)||void 0===t?void 0:t.equipmentClass)&&this.abilityService.setFaintEvent({priority:-1,callback:()=>{try{this.equipment.callback(this)}catch(e){console.warn("equipment callback failed",this.equipment)}},pet:this})}useDefenseEquipment(t=!1){if(null!=this.equipment){if("Exposed"!=this.equipment.name&&"Cold"!=this.equipment.name&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&t&&"shield-snipe"!=this.equipment.equipmentClass)return;null!=this.equipment.uses&&(this.equipment.uses-=1,0==this.equipment.uses&&this.removePerk())}}useAttackDefenseEquipment(){null!=this.equipment&&null!=this.equipment.uses&&("attack"!=this.equipment.equipmentClass&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&"snipe"!=this.equipment.equipmentClass||(isNaN(this.equipment.uses)&&console.warn("uses is NaN",this.equipment),this.equipment.uses-=1,0==this.equipment.uses&&this.removePerk()))}increaseAttack(t){let e=50;"Behemoth"==this.name&&(e=100),this.attack=Math.min(Math.max(this.attack+t,1),e)}increaseHealth(t){let e=50;("Behemoth"==this.name||"Giant Tortoise"==this.name)&&(e=100),this.health=Math.min(Math.max(this.health+t,1),e),this.abilityService.triggerFriendGainsHealthEvents(this.parent,this),this.abilityService.executeFriendGainsHealthEvents()}dealDamage(t,e){t.health-=e,t.health<=0&&t.alive&&(t.killedBy=this)}increaseExp(t){let e=this.level;this.increaseAttack(t),this.increaseHealth(t),this.exp=Math.min(this.exp+t,5),this.level>e&&(this.logService.createLog({message:`${this.name} leveled up to level ${this.level}.`,type:"ability",player:this.parent}),this.abilityService.triggerLevelUpEvents(this.parent,this),this.abilityService.triggerLevelUpEvents(this.parent.opponent,this),this.abilityService.executeFriendlyLevelUpToyEvents(),this.setAbilityUses()),this.abilityService.triggerFriendGainedExperienceEvents(this.parent,this)}increaseMana(t){this.mana+=t,this.mana=Math.min(this.mana,50),null!=this.gainedMana&&this.abilityService.setGainManaEvents({callback:this.gainedMana.bind(this),priority:this.attack,pet:this})}givePetEquipment(t,e=1){if(null!=t){if("ailment-attack"==t.equipmentClass||"ailment-defense"==t.equipmentClass||"ailment-other"==t.equipmentClass){if(this.equipment instanceof D_)return this.equipment.uses--,this.logService.createLog({message:`${this.name} blocked ${t.name}. (Ambrosia)`,type:"equipment",player:this.parent}),void(0==this.equipment.uses&&this.removePerk());if(this.equipment instanceof P_)return this.logService.createLog({message:`${this.name} blocked ${t.name}. (White Okra)`,type:"equipment",player:this.parent}),void this.removePerk();this.applyEquipment(t,e),this.abilityService.triggerFriendGainedAilmentEvents(this),this.abilityService.triggerEnemyGainedAilmentEvents(this.parent.opponent.petArray,this)}else{if(t instanceof tV){this.applyEquipment(t,e);let i=1*t.multiplier,s=2*t.multiplier;this.increaseAttack(i),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${i} attack and ${s} health (Blackberry)${t.multiplierMessage}`,type:"equipment",player:this.parent})}else this.applyEquipment(t,e);this.abilityService.triggerGainedPerkEvents(this),this.abilityService.triggerFriendGainedPerkEvents(this)}this.eatsFood&&this.abilityService.setEatsFoodEvent({callback:this.eatsFood.bind(this),priority:this.attack,callbackPet:this,pet:this}),this.abilityService.triggerFriendAteFoodEvents(this)}else console.warn(`givePetEquipment called with null equipment for pet: ${this.name}`)}applyEquipment(t,e=1){null!=t&&(this.equipment=t,this.setEquipmentMultiplier(e),this.equipment.callback&&"beforeStartOfBattle"!=this.equipment.equipmentClass&&this.equipment.callback(this))}removePerk(){if(null==this.equipment)return;let t="ailment-attack"==this.equipment.equipmentClass||"ailment-defense"==this.equipment.equipmentClass||"ailment-other"==this.equipment.equipmentClass;this.lastLostEquipment=this.equipment,this.equipment=null,t||this.abilityService.triggerFriendLostPerkEvents(this)}setEquipmentMultiplier(t=1){if(!this.equipment)return;let e=1,i=[];"Panther"===this.name&&"ailment-attack"!==this.equipment.equipmentClass&&"ailment-defense"!==this.equipment.equipmentClass&&"ailment-other"!==this.equipment.equipmentClass&&(e+=this.level,i.push(`x${this.level+1} (Panther)`)),t&&t>1&&(e+=t-1,i.push(`x${t} (Pandora's Box)`)),this.equipment.multiplier=e,this.equipment.multiplierMessage=i.length>0?` ${i.join(" ")}`:""}get level(){return this.exp<2?1:this.exp<5?2:3}get position(){return this==this.parent.pet0?0:this==this.parent.pet1?1:this==this.parent.pet2?2:this==this.parent.pet3?3:this==this.parent.pet4?4:void 0}petBehind(t=!1,e=!1){for(let s=(void 0!==this.position?this.position:this.savedPosition)+1;s<5;s++){let r=this.parent.getPetAtPosition(s);if(e&&null!=r)return r;if(t&&null!=r&&!r.alive&&!r.seenDead)return null;if(null!=r&&r.alive)return r}return null}getManticoreMult(){let t=[];for(let e of this.parent.petArray)"Manticore"==e.name&&t.push(e.level);return t}getSparrowLevel(){let t=0;for(let e of this.parent.petArray)"Sparrow"==e.name&&(t=Math.max(t,e.level));return t}getPetsAhead(t,e=!1){let i=[],s=this.petAhead;for(;s&&!(i.length>=this.level);)i.push(s),s=s.petAhead;if(i.length<t&&1==e){let a=this.parent.opponent.furthestUpPet;for(;a&&!(i.length>=t);)i.push(a),a=a.petBehind()}return i}getPetsBehind(t){let e=[],i=this.petBehind();for(;i&&!(e.length>=t);)e.push(i),i=i.petBehind();return e}kitsuneCheck(){let t=this.petBehind(),e=!0;for(;t;){if("Kitsune"==t.name&&e)return!1;if(e=!1,"Kitsune"==t.name)return!0;t=t.petBehind()}return!1}get petAhead(){for(let t=this.position-1;t>-1;t--){let e=this.parent.getPetAtPosition(t);if(null!=e&&e.alive)return e}return null}get minExpForLevel(){return 1==this.level?0:2==this.level?2:5}}class Er extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Puma",this.tier=6,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(o,s,r,a,l)}}class T_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Golden Retriever",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class x_ extends ne{constructor(t){super(),this.logService=t,this.name="Onion",this.equipmentClass="beforeAttack",this.callback=e=>{var i;let s=null===(i=e.originalBeforeAttack)||void 0===i?void 0:i.bind(e);e.beforeAttack=r=>{var a;null!=s&&s(r),"Onion"==(null===(a=e.equipment)||void 0===a?void 0:a.name)&&(this.logService.createLog({message:`${e.name} pushed itself to the back. (Onion)`,type:"equipment",player:e.parent}),e.removePerk(),e.parent.pushPetToBack(e),e.parent.pushPetsForward())}}}}class nV{constructor(t,e,i){this.logService=t,this.abilityService=e,this.gameService=i,this.pack="Turtle",this.trumpets=0,this.spawnedGoldenRetiever=!1,this.summonedBoatThisBattle=!1}alive(){return this.petArray.length>0}resetPets(){var t,e,i,s,r;this.pet0=this.orignalPet0,null===(t=this.pet0)||void 0===t||t.resetPet(),this.pet1=this.orignalPet1,null===(e=this.pet1)||void 0===e||e.resetPet(),this.pet2=this.orignalPet2,null===(i=this.pet2)||void 0===i||i.resetPet(),this.pet3=this.orignalPet3,null===(s=this.pet3)||void 0===s||s.resetPet(),this.pet4=this.orignalPet4,null===(r=this.pet4)||void 0===r||r.resetPet(),this.orignalPet0=this.pet0,this.orignalPet1=this.pet1,this.orignalPet2=this.pet2,this.orignalPet3=this.pet3,this.orignalPet4=this.pet4,this.originalToy=this.toy,this.toy=this.originalToy,this.toy&&(this.toy.used=!1,this.toy.triggers=0),this.trumpets=0,this.spawnedGoldenRetiever=!1,this.summonedBoatThisBattle=!1}setPet(t,e,i=!1){this.getPet(t),0==t&&(this.pet0=e,null!=e&&(this.pet0.savedPosition=0),i&&(this.orignalPet0=e)),1==t&&(this.pet1=e,null!=e&&(this.pet1.savedPosition=1),i&&(this.orignalPet1=e)),2==t&&(this.pet2=e,null!=e&&(this.pet2.savedPosition=2),i&&(this.orignalPet2=e)),3==t&&(this.pet3=e,null!=e&&(this.pet3.savedPosition=3),i&&(this.orignalPet3=e)),4==t&&(this.pet4=e,null!=e&&(this.pet4.savedPosition=4),i&&(this.orignalPet4=e)),i&&null!=e&&(e.originalSavedPosition=e.savedPosition)}getPet(t){return this[`pet${t}`]}pushPetsForward(){let t=(0,at.clone)(this.petArray);try{this.setPet(0,t[0])}catch(e){this.pet0=null}try{this.setPet(1,t[1])}catch(e){this.pet1=null}try{this.setPet(2,t[2])}catch(e){this.pet2=null}try{this.setPet(3,t[3])}catch(e){this.pet3=null}try{this.setPet(4,t[4])}catch(e){this.pet4=null}}onionCheck(){var t;null!=(null===(t=this.pet0)||void 0===t?void 0:t.equipment)&&this.pet0.equipment instanceof x_&&(this.pet0.equipment.callback(this.pet0),this.pushPetsForward())}summonPet(t,e,i=!1){if(5==this.petArray.length)return i||this.logService.createLog({message:`No room to spawn ${t.name}!`,type:"ability",player:this}),!1;this==this.gameService.gameApi.player?this.gameService.gameApi.playerSummonedAmount++:this.gameService.gameApi.opponentSummonedAmount++,0==e&&(null!=this.pet0&&this.makeRoomForSlot(0),this.setPet(0,t)),1==e&&(null!=this.pet1&&this.makeRoomForSlot(1),this.setPet(1,t)),2==e&&(null!=this.pet2&&this.makeRoomForSlot(2),this.setPet(2,t)),3==e&&(null!=this.pet3&&this.makeRoomForSlot(3),this.setPet(3,t)),4==e&&(null!=this.pet4&&this.makeRoomForSlot(4),this.setPet(4,t)),null!=t.summoned&&this.abilityService.setSummonedEvent({callback:t.summoned.bind(t),priority:t.attack,pet:t});let r=It(this.gameService.gameApi,this);return this.abilityService.triggerEnemySummonedEvents(r,t),!0}setPetPosition(t,e){return!(e<0||e>4||(null!=this.getPet(e)&&this.makeRoomForSlot(e),this.setPet(e,t),0))}transformPet(t,e){this.setPet(t.position,e),this==this.gameService.gameApi.player?this.gameService.gameApi.playerTransformationAmount++:this.gameService.gameApi.opponentTransformationAmount++,t.transformed=!0,t.transformedInto=e,e.applyEquipment(e.equipment),e.transform&&this.abilityService.setTransformEvent({callback:e.transform.bind(e),priority:e.attack,pet:e}),this.abilityService.triggerFriendTransformedEvents(this,e)}makeRoomForSlot(t){if(5==this.petArray.length)return void console.warn("No room to Make Room");let e=null,i=!1;if(t>0&&null==this.pet0&&(i=!0,e=0),t>1&&null==this.pet1&&(i=!0,e=1),t>2&&null==this.pet2&&(i=!0,e=2),t>3&&null==this.pet3&&(i=!0,e=3),i){for(let r=e;r<t;r++)this[`pet${r}`]=this[`pet${r+1}`];return}let s=!1;if(t<4&&null==this.pet4&&(s=!0,e=4),t<3&&null==this.pet3&&(s=!0,e=3),t<2&&null==this.pet2&&(s=!0,e=2),t<1&&null==this.pet1&&(s=!0,e=1),s)for(let r=e;r>t;r--)this[`pet${r}`]=this["pet"+(r-1)]}get petArray(){let t=[];return null!=this.pet0&&t.push(this.pet0),null!=this.pet1&&t.push(this.pet1),null!=this.pet2&&t.push(this.pet2),null!=this.pet3&&t.push(this.pet3),null!=this.pet4&&t.push(this.pet4),t}handleDeath(t){t.seenDead=!0,t.setFaintEventIfPresent();let e=t.petBehind(null,!0);null!=(null==e?void 0:e.friendAheadFaints)&&(null==e?void 0:e.alive)&&this.abilityService.setFriendAheadFaintsEvent({callback:e.friendAheadFaints.bind(e),priority:e.attack,player:this,callbackPet:t,pet:e}),this.createDeathLog(t)}checkPetsAlive(){this.pet0&&!this.pet0.alive&&!this.pet0.seenDead&&this.handleDeath(this.pet0),this.pet1&&!this.pet1.alive&&!this.pet1.seenDead&&this.handleDeath(this.pet1),this.pet2&&!this.pet2.alive&&!this.pet2.seenDead&&this.handleDeath(this.pet2),this.pet3&&!this.pet3.alive&&!this.pet3.seenDead&&this.handleDeath(this.pet3),this.pet4&&!this.pet4.alive&&!this.pet4.seenDead&&this.handleDeath(this.pet4)}removeDeadPets(){let t=!1;const e=[{pet:this.pet0,index:0},{pet:this.pet1,index:1},{pet:this.pet2,index:2},{pet:this.pet3,index:3},{pet:this.pet4,index:4}];for(const i of e)i.pet&&!i.pet.alive&&(i.pet.afterFaint&&this.abilityService.setAfterFaintEvents({callback:i.pet.afterFaint.bind(i.pet),priority:i.pet.attack,player:this,callbackPet:i.pet,pet:i.pet}),this.abilityService.triggerFriendFaintsEvents(i.pet),this[`pet${i.index}`]=null,t=!0);return t}createDeathLog(t){this.logService.createLog({message:`${t.name} fainted.`,type:"death",player:t.parent})}getRandomPet(t,e,i,s){let r=this.petArray;if(e){let o=this.getPetsWithEquipment("Donut").filter(l=>{null==t||t.includes(l)});o.length>0&&(r=o),s&&(r=r.filter(l=>50!=l.health||50!=l.attack||"Behemoth"==l.name),0==r.length&&(r=this.petArray))}if(i){let o=this.getPetsWithEquipment("Blueberry").filter(l=>{null==t||t.includes(l)});o.length>0&&(r=o)}if(r=r.filter(o=>{let l=!0;return t&&(l=!t.includes(o)),l&&o.health>0}),s){let o=(0,at.clone)(r);r=r.filter(l=>50!=l.health||50!=l.attack),0==r.length&&(r=o)}return 0==r.length?null:r[Hs(0,r.length-1)]}getRandomPets(t,e,i,s){let r=[];e=null!=e?e:[];for(let a=0;a<t;a++){let o=this.getRandomPet(e,i,s);if(null==o)break;e.push(o),r.push(o)}if(r.length<t)for(let a=r.length;a<t;a++){let o=this.getRandomPet(e);if(null==o)break;e.push(o),r.push(o)}return r}getPetsWithEquipment(t){var e;let i=[];for(let s of this.petArray)!s.alive||(null===(e=s.equipment)||void 0===e?void 0:e.name)==t&&i.push(s);return i}getPetAtPosition(t){for(let e of this.petArray)if(e.position==t)return e;return null}getLastPet(){for(let t of this.petArray.reverse())if(t.alive)return t}getHighestHealthPet(t){if(0==this.petArray.filter(s=>s!=t&&s.alive).length)return{pet:null,random:!1};let i;for(let s in this.petArray){let a=this.petArray[+s];if(a!=t){if(null==i){i=[a];continue}if(a.health==i[0].health){i.push(a);continue}a.health>i[0].health&&(i=[a])}}return{pet:i[Hs(0,i.length-1)],random:i.length>1}}getHighestAttackPet(t){let e;for(let s in this.petArray){let a=this.petArray[+s];if(a!=t&&a.alive){if(null==e){e=[a];continue}if(a.attack==e[0].attack){e.push(a);continue}a.attack>e[0].attack&&(e=[a])}}let i=null==e?null:e[Hs(0,e.length-1)];return{pet:i,random:null!=i&&e.length>1}}getLowestAttackPet(t){let e;for(let s in this.petArray){let a=this.petArray[+s];if(a!=t&&a.alive){if(null==e){e=[a];continue}if(a.attack==e[0].attack){e.push(a);continue}a.attack<e[0].attack&&(e=[a])}}let i=null==e?null:e[Hs(0,e.length-1)];return{pet:i,random:null!=i&&e.length>1}}getLowestHealthPet(t){let e;for(let s in this.petArray){let a=this.petArray[+s];if(a!=t&&a.alive){if(null==e){e=[a];continue}if(a.health==e[0].health){e.push(a);continue}a.health<e[0].health&&(e=[a])}}let i=null==e?null:e[Hs(0,e.length-1)];return{pet:i,random:null!=i&&e.length>1}}getLowestHealthPets(t,e){let i=[...this.petArray];return i=i.filter(s=>s.alive),e&&(i=i.filter(s=>{var r;return(null===(r=s.equipment)||void 0===r?void 0:r.name)!=e})),i.sort((s,r)=>s.health-r.health),i.slice(0,t)}getHighestHealthPets(t,e){let i=[...this.petArray];return i=i.filter(s=>s.alive),e&&(i=i.filter(s=>{var r;return(null===(r=s.equipment)||void 0===r?void 0:r.name)!=e})),i.sort((s,r)=>r.health-s.health),i.slice(0,t)}get furthestUpPet(){for(let t of this.petArray)if(t.alive)return t;return null}breakToy(t=!1){if(null==this.toy||null==this.toy.onBreak)return;this.logService.createLog({message:`${this.toy.name} broke!`,type:"ability",player:this,randomEvent:!1});let e=[{callback:this.toy.onBreak.bind(this.toy),priority:99}],i=this.toy.level;for(let r of this.petArray)r instanceof Er&&e.push({callback:()=>{this.toy.level=r.level,this.toy.onBreak(this.gameService.gameApi,!0),this.toy.level=i},priority:r.attack});e.sort((r,a)=>r.priority>a.priority?-1:r.priority<a.priority?1:0);for(let r of e)r.callback(this.gameService.gameApi);let s=(0,at.cloneDeep)(this.toy);this.toy=null,t&&this.setToy(s)}setToy(t){this.toy=t}getStrongestPet(){let t,e=(0,at.shuffle)(this.petArray);for(let i of e)null!=t?i.attack+i.health>t.attack+t.health&&(t=i):t=i;return t}pushPetToFront(t,e=!1){this.pushPet(t,4),e&&(this.abilityService.triggerFriendJumpedEvents(this,t),this.abilityService.triggerFriendJumpedToyEvents(this,t),this.abilityService.triggerEnemyJumpedEvents(this,t))}pushPetToBack(t){this.pushPet(t,-4)}pushPet(t,e=1){let r,i=t.parent,s=t.position;if(i[`pet${s}`]=null,e>0&&(r=Math.max(s-e,0)),e<0&&(r=Math.min(s-e,4)),i.setPetPosition(t,r)){let a=It(this.gameService.gameApi,i);this.abilityService.triggerEnemyPushedEvents(a,t)}}getRandomStrawberryPet(t){let e=this.getPetsWithEquipment("Strawberry"),i=e.filter(s=>s!=t);return 0==i.length?null:e[Hs(0,i.length-1)]}get opponent(){return It(this.gameService.gameApi,this)}gainTrumpets(t,e,i,s,r){this.trumpets=Math.min(50,this.trumpets+=t);let a=`${e.name} gained ${t} trumpets. (${this.trumpets})`;r&&(a+=" (Cherry)"),this.logService.createLog({message:a,type:"trumpets",player:this,pteranodon:i,pantherMultiplier:s})}spendTrumpets(t,e,i){this.trumpets=Math.max(0,this.trumpets-=t),this.logService.createLog({message:`${e.name} spent ${t} trumpets. (${this.trumpets})`,type:"trumpets",player:this,pteranodon:i})}checkGoldenSpawn(){if(this.spawnedGoldenRetiever||this.petArray.length>1||0==this.trumpets)return;let t=new T_(this.logService,this.abilityService,this,this.trumpets,this.trumpets);this.logService.createLog({message:`${this==this.gameService.gameApi.player?"Player":"Opponent"} spawned Golden Retriever (${t.attack}/${t.health})`,type:"ability",player:this}),this.summonPet(t,0)&&this.abilityService.triggerFriendSummonedEvents(t),this.trumpets=0,this.spawnedGoldenRetiever=!0}getManticoreMult(){let t=[];for(let e of this.petArray)"Manticore"==e.name&&t.push(e.level);return t}summonPetInFront(t,e){if(5==this.petArray.length)return this.logService.createLog({message:`No room to spawn ${e.name}!`,type:"ability",player:this}),!1;let i=!1;for(let s=0;s<t.position;s++)if(null==this.getPet(s)){i=!0;break}if(i)return this.summonPet(e,t.position-1);{let s=t.position;return this.pushPet(t,-1),this.summonPet(e,s)}}summonPetBehind(t,e){if(5==this.petArray.length)return this.logService.createLog({message:`No room to spawn ${e.name}!`,type:"ability",player:this}),!1;let i=!1;for(let s=0;s<t.position;s++)if(null==this.getPet(s)){i=!0;break}return i?(this.pushPet(t,1),this.summonPet(e,t.position+1)):this.summonPet(e,t.position+1)}}class M_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ant",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=1==this.level?{health:1,attack:1}:2==this.level?{health:2,attack:2}:{health:3,attack:3},r=this.parent.getRandomPet([this],!0,!1,!0);null!=r&&(this.logService.createLog({message:`${this.name} gave ${r.name} ${s.attack} attack and ${s.health} health.`,type:"ability",randomEvent:!0,player:this.parent,tiger:e,pteranodon:i}),r.increaseAttack(s.attack),r.increaseHealth(s.health),this.superFaint(t,e),this.done=!0)}}class yh extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zombie Cricket",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class O0 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cricket",this.tier=1,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=1,r=0;2==this.level?(r=2,s=2):3==this.level&&(r=5,s=3);let a=new yh(this.logService,this.abilityService,this.parent,null,null,null,r);this.logService.createLog({message:`${this.name} spawned Zombie Cricket Level ${s}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(a,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(a),super.superAfterFaint(t,e,i)}}class I_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fish",this.tier=1,this.pack="Turtle",this.health=3,this.attack=2,this.initPet(o,s,r,a,l)}}class R0 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Horse",this.tier=1,this.pack="Turtle",this.health=1,this.attack=2,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){e.increaseAttack(this.level),this.logService.createLog({message:`${this.name} gave ${e.name} ${this.level} attack`,type:"ability",player:this.parent,tiger:i}),super.superFriendSummoned(t,e,i)}}class N0 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mosquito",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;let s=i.getRandomPets(this.level,null,null,!0);for(let r of s)this.snipePet(r,1,!0,e);super.superStartOfBattle(t,e)}}class O_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Duck",this.tier=1,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}}class R_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beaver",this.tier=1,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(o,s,r,a,l)}}class L0 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Otter",this.tier=1,this.pack="Turtle",this.health=4,this.attack=1,this.initPet(o,s,r,a,l)}}class B0 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pig",this.tier=1,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(o,s,r,a,l)}}class $0 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mouse",this.tier=1,this.pack="Custom",this.health=2,this.attack=1,this.initPet(o,s,r,a,l)}}class bz extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snail",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}}class V0 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crab",this.tier=2,this.pack="Turtle",this.health=1,this.attack=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(!this.alive)return;let i=this.parent.getHighestHealthPet(this).pet,s=Math.floor(i.health*(.25*this.level));this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${.25*this.level*100}% of ${i.name}'s health (${s})`,type:"ability",player:this.parent,tiger:e}),super.superStartOfBattle(t,e)}}class H0 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Swan",this.tier=2,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(o,s,r,a,l)}}class N_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dirty Rat",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class F0 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rat",this.tier=2,this.pack="Turtle",this.health=6,this.attack=3,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s;s=t.player==this.parent?t.opponet:t.player;for(let r=0;r<this.level;r++){this.logService.createLog({message:`${this.name} Summoned Dirty Rat on Opponent`,type:"ability",player:this.parent,tiger:e,pteranodon:i});let a=new N_(this.logService,this.abilityService,s,null,null,0,0);s.summonPet(a,0)&&this.abilityService.triggerFriendSummonedEvents(a)}super.superAfterFaint(t,e,i)}}class q0 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hedgehog",this.tier=2,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=t.player.petArray.filter(a=>a!=this&&a.alive);s.reverse(),s=[...s,...t.opponet.petArray.filter(a=>a.alive)];let r=2*this.level;for(let a of s)this.snipePet(a,r,!1,e,i);super.superFaint(t,e),this.done=!0}}class U0 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Peacock",this.tier=2,this.pack="Turtle",this.health=5,this.attack=2,this.initPet(o,s,r,a,l)}hurt(t,e,i){if(this.health<1)return;let s=4*this.level;this.increaseAttack(s),this.logService.createLog({message:`${this.name} increased attack by ${s} (${this.attack})`,type:"ability",player:this.parent,tiger:i}),super.superHurt(t,e,i)}}class G0 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flamingo",this.tier=2,this.pack="Turtle",this.health=2,this.attack=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let a,o,l,r=this.parent.petArray;for(let h in r)r[+h]==this&&(a=+h);for(let h=a;h<5;h++){let f=r[h];if(null!=f&&f.health>0){if(null==o){o=f;continue}l=f;break}}if(o){let h=o;h.increaseAttack(this.level),h.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${h.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}if(l){let h=l;h.increaseAttack(this.level),h.increaseHealth(this.level),this.logService.createLog({message:`Flamingo gave ${h.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}super.superFaint(t,e)}}class j0 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Worm",this.tier=2,this.pack="Turtle",this.health=1,this.attack=3,this.initPet(o,s,r,a,l)}}class W0 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kangaroo",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}friendAheadAttacks(t,e,i){!this.alive||(this.increaseAttack(this.level),this.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gained ${this.level} attack and ${this.level} health.`,type:"ability",player:this.parent,tiger:i}),super.superFriendAheadAttacks(t,e,i))}}class z0 extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Spider",this.tier=2,this.pack="Turtle",this.health=2,this.attack=2,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let s;s=this.parent==t.player?t.playerPetPool.get(3):t.opponentPetPool.get(3);let r=s.filter(f=>"Spider"!=f),a=r[Hs(0,r.length-1)],o=this.level,l=2*this.level,h=this.petService.createPet({attack:l,exp:this.minExpForLevel,equipment:null,health:l,name:a,mana:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${h.name} level ${o} (${l}/${l})`,type:"ability",player:this.parent,randomEvent:!0,tiger:e,pteranodon:i}),this.parent.summonPet(h,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(h),super.superAfterFaint(t,e,i)}}class K0 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dodo",this.tier=3,this.pack="Turtle",this.health=2,this.attack=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.petAhead;if(null==i)return;let s=Math.floor(this.attack*(.5*this.level));return i.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack.`,player:this.parent,type:"ability",tiger:e}),super.superStartOfBattle(t,e),!0}}class Q0 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Badger",this.tier=3,this.pack="Turtle",this.health=3,this.attack=6,this.initPet(o,s,r,a,l)}faint(t,e,i){let s;s=t.player==this.parent?t.opponet:t.player;let a,r=Math.floor(this.attack*(.5*this.level));this.petBehind()&&this.snipePet(this.petBehind(),r,!1,e,i),a=this.petAhead?this.petAhead:s.furthestUpPet,null!=a&&this.snipePet(a,r,!1,e,i),super.superFaint(t,e),this.done=!0}}class L_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dolphin",this.tier=3,this.pack="Turtle",this.health=3,this.attack=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;for(let s=0;s<this.level;s++){let r=i.getLowestHealthPet();if(!r.pet)break;this.snipePet(r.pet,4,r.random,e)}super.superStartOfBattle(t,e)}}class Y0 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giraffe",this.tier=3,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class J0 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elephant",this.tier=3,this.pack="Turtle",this.health=7,this.attack=3,this.initPet(o,s,r,a,l)}afterAttack(t,e){for(let i=0;i<this.level;i++)this.petBehind()&&this.snipePet(this.petBehind(),1,!1,e);super.superAfterAttack(t,e)}}class Z0 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Camel",this.tier=3,this.pack="Turtle",this.health=3,this.attack=3,this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=this.petBehind();if(null==s)return;let r=2*this.level;s&&(s.increaseAttack(this.level),s.increaseHealth(r)),this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i}),super.superHurt(t,e,i)}}class X0 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rabbit",this.tier=3,this.pack="Turtle",this.health=2,this.attack=1,this.initPet(o,s,r,a,l)}friendAteFood(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.level;e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendGainedPerk(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class Fs extends ne{constructor(){super(...arguments),this.name="Melon",this.tier=6,this.equipmentClass="shield",this.power=20,this.originalPower=20,this.uses=1,this.originalUses=1}}class eA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ox",this.tier=3,this.pack="Turtle",this.health=3,this.attack=1,this.initPet(o,s,r,a,l)}friendAheadFaints(t,e,i){this.abilityUses>=this.maxAbilityUses||(this.increaseAttack(1),this.logService.createLog({message:`${this.name} gained Melon and 1 attack.`,type:"ability",player:this.parent,tiger:i}),this.givePetEquipment(new Fs),this.abilityUses++,super.superFriendAheadFaints(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class tA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dog",this.tier=3,this.pack="Turtle",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){if(e==this)return;let s=2*this.level,r=this.level;this.increaseAttack(s),this.increaseHealth(r),this.logService.createLog({message:`${this.name} gained ${s} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i}),super.superFriendSummoned(t,e,i)}}class B_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ram",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}}class iA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sheep",this.tier=3,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){for(let s=0;s<2;s++){let r=new B_(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Ram (${r.attack}/${r.health}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(r)}super.superAfterFaint(t,e,i)}}class nA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tiger",this.tier=6,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(o,s,r,a,l)}}class _h extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Parrot",this.tier=4,this.pack="Turtle",this.attack=4,this.health=2,this.initPet(l,r,a,o,h)}endTurn(t){var e,i,s,r,a,o,l,h,f,m,y,S,k,D,T,R,O,U,L,G,Y,oe,ge,me,ye,Be,vt,it,Et,Ft,X,re,ve,Me,yt,oi,Rt,fi;let se=this.petAhead;this.copyPet=se,se instanceof _h&&(se=se.copyPet,this.logService.createLog({message:`Parrot copied ${this.petAhead.name}`,type:"ability",player:this.parent})),null!=se&&(this.startOfBattle=null===(e=se.originalStartOfBattle)||void 0===e?void 0:e.bind(this),this.hurt=null===(i=se.originalHurt)||void 0===i?void 0:i.bind(this),this.faint=null===(s=se.originalFaint)||void 0===s?void 0:s.bind(this),this.friendSummoned=null===(r=se.originalFriendSummoned)||void 0===r?void 0:r.bind(this),this.friendAheadAttacks=null===(a=se.originalFriendAheadAttacks)||void 0===a?void 0:a.bind(this),this.friendAheadFaints=null===(o=se.originalFriendAheadFaints)||void 0===o?void 0:o.bind(this),this.friendFaints=null===(l=se.originalFriendFaints)||void 0===l?void 0:l.bind(this),this.enemyAttack=null===(h=se.originalEnemyAttack)||void 0===h?void 0:h.bind(this),this.afterAttack=null===(f=se.originalAfterAttack)||void 0===f?void 0:f.bind(this),this.beforeAttack=null===(m=se.originalBeforeAttack)||void 0===m?void 0:m.bind(this),this.beforeStartOfBattle=null===(y=se.originalBeforeStartOfBattle)||void 0===y?void 0:y.bind(this),this.knockOut=null===(S=se.originalKnockOut)||void 0===S?void 0:S.bind(this),this.summoned=null===(k=se.originalSummoned)||void 0===k?void 0:k.bind(this),this.friendlyToyBroke=null===(D=se.originalFriendlyToyBroke)||void 0===D?void 0:D.bind(this),this.friendGainedAilment=null===(T=se.originalFriendGainedAilment)||void 0===T?void 0:T.bind(this),this.friendHurt=null===(R=se.originalFriendHurt)||void 0===R?void 0:R.bind(this),this.friendTransformed=null===(O=se.originalFriendTransformed)||void 0===O?void 0:O.bind(this),this.eatsFood=null===(U=se.originalEatsFood)||void 0===U?void 0:U.bind(this),this.friendAteFood=null===(L=se.originalFriendAteFood)||void 0===L?void 0:L.bind(this),this.friendLostPerk=null===(G=se.originalFriendLostPerk)||void 0===G?void 0:G.bind(this),this.gainedPerk=null===(Y=se.originalGainedPerk)||void 0===Y?void 0:Y.bind(this),this.friendGainedPerk=null===(oe=se.originalFriendGainedPerk)||void 0===oe?void 0:oe.bind(this),this.anyoneLevelUp=null===(ge=se.originalAnyoneLevelUp)||void 0===ge?void 0:ge.bind(this),this.enemySummoned=null===(me=se.originalEnemySummoned)||void 0===me?void 0:me.bind(this),this.enemyPushed=null===(ye=se.originalEnemyPushed)||void 0===ye?void 0:ye.bind(this),this.gainedMana=null===(Be=se.originalGainedMana)||void 0===Be?void 0:Be.bind(this),this.friendJumped=null===(vt=se.originalFriendJumped)||void 0===vt?void 0:vt.bind(this),this.enemyGainedAilment=null===(it=se.originalEnemyGainedAilment)||void 0===it?void 0:it.bind(this),this.friendGainsHealth=null===(Et=se.originalFriendGainsHealth)||void 0===Et?void 0:Et.bind(this),this.emptyFrontSpace=null===(Ft=se.originalEmptyFrontSpace)||void 0===Ft?void 0:Ft.bind(this),this.enemyHurt=null===(X=se.originalEnemyHurt)||void 0===X?void 0:X.bind(this),this.afterFaint=null===(re=se.originalAfterFaint)||void 0===re?void 0:re.bind(this),this.transform=null===(ve=se.originalTransform)||void 0===ve?void 0:ve.bind(this),this.adjacentAttacked=null===(Me=se.originalAdjacentAttacked)||void 0===Me?void 0:Me.bind(this),this.friendAttacks=null===(yt=se.originalFriendAttacks)||void 0===yt?void 0:yt.bind(this),this.beforeFriendAttacks=null===(oi=se.originalBeforeFriendAttacks)||void 0===oi?void 0:oi.bind(this),this.enemyJumped=null===(Rt=se.originalEnemyJumped)||void 0===Rt?void 0:Rt.bind(this),this.friendGainedExperience=null===(fi=se.originalFriendGainedExperience)||void 0===fi?void 0:fi.bind(this),this.originalStartOfBattle=this.startOfBattle,this.originalTransform=this.transform,this.originalHurt=this.hurt,this.originalFaint=this.faint,this.originalFriendSummoned=this.friendSummoned,this.originalFriendAheadAttacks=this.friendAheadAttacks,this.originalFriendAheadFaints=this.friendAheadFaints,this.originalFriendFaints=this.friendFaints,this.originalEnemyAttack=this.enemyAttack,this.originalAfterAttack=this.afterAttack,this.originalBeforeAttack=this.beforeAttack,this.originalBeforeStartOfBattle=this.beforeStartOfBattle,this.originalKnockOut=this.knockOut,this.originalSummoned=this.summoned,this.originalFriendlyToyBroke=this.friendlyToyBroke,this.originalFriendGainedAilment=this.friendGainedAilment,this.originalFriendHurt=this.friendHurt,this.originalFriendTransformed=this.friendTransformed,this.originalEatsFood=this.eatsFood,this.originalFriendAteFood=this.friendAteFood,this.originalFriendLostPerk=this.friendLostPerk,this.originalGainedPerk=this.gainedPerk,this.originalFriendGainedPerk=this.friendGainedPerk,this.originalAnyoneLevelUp=this.anyoneLevelUp,this.originalEnemySummoned=this.enemySummoned,this.originalEnemyPushed=this.enemyPushed,this.originalGainedMana=this.gainedMana,this.originalFriendJumped=this.friendJumped,this.originalEnemyGainedAilment=this.enemyGainedAilment,this.originalFriendGainsHealth=this.friendGainsHealth,this.originalEmptyFrontSpace=this.emptyFrontSpace,this.originalEnemyHurt=this.enemyHurt,this.originalAfterFaint=this.afterFaint,this.originalAdjacentAttacked=this.adjacentAttacked,this.originalFriendAttacks=this.friendAttacks,this.originalBeforeFriendAttacks=this.beforeFriendAttacks,this.originalEndTurn=this.endTurn,this.originalEnemyJumped=this.enemyJumped,this.originalFriendGainedExperience=this.friendGainedExperience,se instanceof _h||this.logService.createLog({message:`Parrot copied ${se.name}`,type:"ability",player:this.parent}))}}class sA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Skunk",this.tier=4,this.pack="Turtle",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=It(t,this.parent).getHighestHealthPet(),r=s.pet;if(null==r)return;let a=.33*this.level,o=Math.max(1,Math.floor(r.health*(1-a)));r.health=o,this.logService.createLog({message:`${this.name} reduced ${r.name} health by ${100*a}% (${o})`,type:"ability",player:this.parent,randomEvent:s.random,tiger:e}),this.superStartOfBattle(t,e)}}class rA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hippo",this.tier=4,this.pack="Turtle",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}knockOut(t,e,i){if(this.health<1||this.abilityUses>=this.maxAbilityUses)return;let s=3*this.level;this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superKnockOut(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class aA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bison",this.tier=4,this.pack="Turtle",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}}class oA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blowfish",this.tier=4,this.pack="Turtle",this.attack=3,this.health=6,this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=3*this.level,r=It(t,this.parent).getRandomPet(null,null,!0);r&&this.snipePet(r,s,!0,i),this.superHurt(t,e,i)}}class lA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Turtle",this.tier=4,this.pack="Turtle",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){for(let s=0;s<this.level;s++){let r=this.petBehind();for(;r&&r.equipment instanceof Fs;)r=r.petBehind();if(null==r)return;this.logService.createLog({message:`${this.name} gave ${r.name} Melon.`,type:"ability",tiger:e,player:this.parent,pteranodon:i}),r.givePetEquipment(new Fs)}this.superFaint(t,e)}}class cA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Squirrel",this.tier=4,this.pack="Turtle",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}}class uA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Penguin",this.tier=4,this.pack="Turtle",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class bh extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Chili",this.equipmentClass="skewer",this.power=0,this.originalPower=0,this.attackCallback=(i,s)=>{let r=s.parent.getPetAtPosition(1);if(null==r)return;let a=i.calculateDamgae(r,i.getManticoreMult(),5),o=a.defenseEquipment,l=a.damage*this.multiplier;i.dealDamage(r,l);let h=`${i.name} attacks ${r.name} for ${l}`;if(this.multiplier>1&&(h+=` x${this.multiplier}${this.multiplierMessage}`),null!=o){r.useDefenseEquipment();let f=Math.abs(o.power),m="-";o.power<0&&(m="+"),h+=` (${o.name} ${m}${f})`}this.logService.createLog({message:h+=" (Chili).",type:"attack",player:i.parent}),null!=r.hurt&&l>0&&this.abilityService.setHurtEvent({callback:r.hurt.bind(r),priority:r.attack,player:r.parent,callbackPet:s,pet:r}),r.health<1&&null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack,callbackPet:r,pet:i}),r.alive&&l>0&&this.abilityService.triggerFriendHurtEvents(s.parent,r),i.alive&&l>0&&this.abilityService.triggerEnemyHurtEvents(i.parent,r)}}}class $_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bus",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=3,this.attack=5,this.initPet(o,s,r,a,l)}}class hA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Deer",this.tier=4,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=new $_(this.logService,this.abilityService,this.parent,null,null,null,this.minExpForLevel,new bh(this.logService,this.abilityService));this.logService.createLog({message:`${this.name} spawned Bus level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(s),super.superAfterFaint(t,e,i)}}class dA extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Whale",this.tier=4,this.pack="Turtle",this.attack=3,this.health=7,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=this.petAhead;if(!i)return;let s=this.petService.createPet({name:i.name,attack:i.attack,health:i.health,exp:this.exp,equipment:null,mana:0},this.parent);this.swallowedPets.push(s),i.health=0,this.logService.createLog({message:`${this.name} swallowed ${i.name}`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}afterFaint(t,e,i){for(;this.swallowedPets.length>0;){let s=this.swallowedPets.shift();this.logService.createLog({message:`${this.name} summoned ${s.name} (level ${s.level}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(s)}super.superAfterFaint(t,e,i)}}class Sh extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bee",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class V_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Angry Pygmy Hog",this.tier=2,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}}class fA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Scorpion",this.tier=5,this.pack="Turtle",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}summoned(t,e){let i=new fc;this.givePetEquipment(i),this.logService.createLog({message:`${this.name} gained the Peanut perk.`,type:"ability",player:this.parent,tiger:e}),this.superSummoned(t,e)}}class pA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crocodile",this.tier=5,this.pack="Turtle",this.attack=8,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){for(let i=0;i<this.level;i++){let s=It(t,this.parent).getLastPet();s&&this.snipePet(s,8,!1,e)}super.superStartOfBattle(t,e)}}class gA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rhino",this.tier=5,this.pack="Turtle",this.attack=6,this.health=9,this.initPet(o,s,r,a,l)}knockOut(t,e,i){let s=It(t,this.parent).furthestUpPet;if(null==s)return;let r=4*this.level;1==s.tier&&(r*=2),this.snipePet(s,r,!1,i),this.superKnockOut(t,e,i)}}class H_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monkey",this.tier=5,this.pack="Turtle",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class mA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Armadillo",this.tier=5,this.pack="Turtle",this.attack=2,this.health=10,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=[...this.parent.petArray,...It(t,this.parent).petArray];for(let s of i){if(!s.alive)continue;let r=8*this.level;s.increaseHealth(r),this.logService.createLog({message:`${this.name} increased health of ${s.name} by ${r}.`,type:"ability",player:this.parent,tiger:e})}this.superStartOfBattle(t,e)}}class vA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cow",this.tier=5,this.pack="Turtle",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}}class yA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Seal",this.tier=5,this.pack="Turtle",this.attack=3,this.health=8,this.initPet(o,s,r,a,l)}eatsFood(t,e,i){if(e!=this)return;let s=this.level,r=this.parent.getRandomPets(3,[this],!0,!1);for(let a of r)a.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i,randomEvent:!0});this.superGainedPerk(t,e,i)}}class F_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chick",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class _A extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rooster",this.tier=5,this.pack="Turtle",this.attack=6,this.health=4,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=Math.max(Math.floor(.5*this.attack),1);for(let r=0;r<this.level;r++){let a=new F_(this.logService,this.abilityService,this.parent,1,s,0,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Chick (${s}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(a,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(a)}super.superAfterFaint(t,e,i)}}class bA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shark",this.tier=5,this.pack="Turtle",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(this.health<=0||e==this)return;let s={attack:2*this.level,health:2*this.level};this.increaseAttack(s.attack),this.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gained ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i}),super.superFriendFaints(t,e,i)}}class SA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Turkey",this.tier=5,this.pack="Turtle",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let s={attack:3*this.level,health:1*this.level};try{e.increaseAttack(s.attack),e.increaseHealth(s.health)}catch(r){throw console.error(r),console.log(e),r}this.logService.createLog({message:`${this.name} gave ${e.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i}),super.superFriendSummoned(t,e,i)}}class wA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leopard",this.tier=6,this.pack="Turtle",this.attack=10,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Math.floor(.5*this.attack),s=this.parent.opponent.getRandomPets(this.level,null,null,!0);for(let r of s)this.snipePet(r,i,!0,e);this.superStartOfBattle(t,e)}}class EA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Boar",this.tier=6,this.pack="Turtle",this.attack=10,this.health=6,this.initPet(o,s,r,a,l)}beforeAttack(t,e){let i={attack:4*this.level,health:2*this.level};this.increaseAttack(i.attack),this.increaseHealth(i.health),this.logService.createLog({message:`${this.name} gained ${i.attack} attack and ${i.health} health.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class kA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wolverine",this.tier=6,this.pack="Turtle",this.attack=5,this.health=7,this.attackCounter=0,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){e!=this&&(i||this.attackCounter++,this.attackCounter%4==0&&(this.abilityService.setCounterEvent({callback:()=>{let s=[...this.parent.opponent.petArray];s=s.filter(r=>r.alive);for(let r of s){let a=-3*this.level;r.increaseHealth(a),this.logService.createLog({message:`${this.name} reduced ${r.name} health by ${Math.abs(a)}`,type:"ability",player:this.parent,tiger:i})}},priority:this.attack,pet:this}),this.superFriendHurt(t,e,i)))}}class zr extends ne{constructor(){super(...arguments),this.name="Coconut",this.equipmentClass="shield",this.power=999,this.originalPower=999,this.uses=1,this.originalUses=1}}class CA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gorilla",this.tier=6,this.pack="Turtle",this.attack=7,this.health=10,this.initPet(o,s,r,a,l)}hurt(t,e,i){!this.alive||(this.abilityUses<this.maxAbilityUses&&(this.abilityUses++,this.equipment=new zr,this.logService.createLog({message:`${this.name} gained a Coconut.`,type:"ability",player:this.parent,tiger:i})),super.superHurt(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class AA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dragon",this.tier=6,this.pack="Turtle",this.attack=3,this.health=8,this.initPet(o,s,r,a,l)}}class PA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mammoth",this.tier=6,this.pack="Turtle",this.attack=4,this.health=12,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=2*this.level;for(let r of this.parent.petArray.filter(a=>a!=this&&a.alive))r.increaseAttack(s),r.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${r.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});super.superFaint(t,e)}}class DA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cat",this.tier=6,this.pack="Turtle",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}}class TA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snake",this.tier=6,this.pack="Turtle",this.attack=6,this.health=6,this.initPet(o,s,r,a,l)}friendAheadAttacks(t,e,i){let s=5*this.level,r=It(t,this.parent).getRandomPet(null,null,!0);!r||(this.snipePet(r,s,!0,i),this.superFriendAheadAttacks(t,e,i))}}class Gp extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zombie Fly",this.tier=1,this.pack="Turtle",this.hidden=!0,this.health=4,this.attack=4,this.initPet(o,s,r,a,l)}}class xA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fly",this.tier=6,this.pack="Turtle",this.attack=5,this.health=5,this.maxAbilityUses=3,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(e instanceof Gp||this.abilityUses>=this.maxAbilityUses||!this.alive)return;let s=new Gp(this.logService,this.abilityService,this.parent,null,null,null,this.minExpForLevel);this.parent.summonPet(s,e.savedPosition,!0)&&(this.abilityUses++,this.logService.createLog({message:`${this.name} spawned Zombie Fly Level ${this.level}`,type:"ability",player:this.parent,tiger:i}),this.abilityService.triggerFriendSummonedEvents(s)),super.superFriendFaints(t,e,i)}}class MA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Moth",this.tier=1,this.pack="Puppy",this.health=3,this.attack=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.furthestUpPet;if(null==i)return;let s=2*this.level;i.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class IA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bluebird",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}}class OA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chinchilla",this.tier=1,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class Uo extends ne{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Garlic",this.tier=3,this.power=2,this.originalPower=2,this.minimumDamage=2}}class jp extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Honey",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.originalAfterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=a=>{var o;if(null!=r&&r(a),"Honey"==(null===(o=i.equipment)||void 0===o?void 0:o.name))for(let l=0;l<this.multiplier;l++){let h=new Sh(this.logService,this.abilityService,i.parent,null,null,0);this.logService.createLog({message:`${i.name} Spawned Bee (Honey)${l>0?this.multiplierMessage:""}`,type:"ability",player:i.parent}),i.parent.summonPet(h,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(h)}}}}}class Wp extends ne{constructor(){super(...arguments),this.name="Meat Bone",this.equipmentClass="attack",this.power=3,this.originalPower=3}}class RA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beetle",this.tier=1,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i,s=this.petBehind();if(null!=s){switch(this.level){case 1:i=new jp(this.logService,this.abilityService);break;case 2:i=new Wp;break;case 3:i=new Uo}this.logService.createLog({message:`${this.name} gave ${s.name} ${i.name}.`,type:"ability",player:this.parent,tiger:e}),s.givePetEquipment(i),super.superStartOfBattle(t,e)}}}class NA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ladybug",this.tier=1,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}friendGainedPerk(t,e,i){let s=2*this.level;this.increaseAttack(s),this.logService.createLog({message:`${this.name} gained ${s} attack.`,type:"ability",player:this.parent,tiger:i}),this.superFriendGainedPerk(t,e,i)}}class LA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chipmunk",this.tier=1,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}}class BA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gecko",this.tier=1,this.pack="Puppy",this.attack=3,this.health=1,this.toyPet=!0,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(null==this.parent.toy)return;let i=2*this.level;this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} health.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class $A extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ferret",this.tier=1,this.pack="Puppy",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}}class Ga extends ne{constructor(){super(...arguments),this.name="Weak",this.equipmentClass="ailment-defense",this.power=-3,this.originalPower=-3}}class VA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bat",this.tier=2,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let s=It(t,this.parent).getRandomPets(1,null,null,!0);for(let r of s)r.givePetEquipment(new Ga),this.logService.createLog({message:`${this.name} made ${r.name} weak.`,type:"ability",player:this.parent,randomEvent:!0,tiger:e});this.abilityUses++,this.superBeforeAttack(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class HA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bilby",this.tier=2,this.pack="Puppy",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}friendLostPerk(t,e,i){this.abilityUses>=this.maxAbilityUses||this!=e&&(this.logService.createLog({message:`${this.name} gave ${e.name} Garlic.`,type:"ability",player:this.parent,tiger:i}),e.givePetEquipment(new Uo),this.abilityUses++,super.superFriendLosPerk(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class zp extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nest",this.tier=1,this.pack="Puppy",this.hidden=!0,this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class q_ extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Egg",this.tier=1,this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.originalBeforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=a=>{var o;if(null!=r&&r(a),"Egg"!=(null===(o=i.equipment)||void 0===o?void 0:o.name))return;let l=1;l=i instanceof zp?i.level:this.multiplier;for(let h=0;h<l;h++){let m=(i.parent==a.player?a.opponet:a.player).petArray,y=null;for(let S of m)if(S.alive){y=S;break}null!=y?i.snipePet(y,2,!1,!1,!1,!0,!1):console.warn("egg didn't find target")}i.removePerk()}}}}class FA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Robin",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=new zp(this.logService,this.abilityService,this.parent,null,null,this.minExpForLevel,null);this.logService.createLog({message:`${this.name} summoned a Nest (level ${this.level}).`,type:"ability",player:this.parent,randomEvent:!1,tiger:e}),this.parent.summonPetInFront(this,i)&&(this.logService.createLog({message:`${this.name} gave Nest an Egg.`,type:"ability",player:this.parent,randomEvent:!1,tiger:e}),i.givePetEquipment(new q_(this.logService,this.abilityService)),this.abilityService.triggerFriendSummonedEvents(i)),this.superStartOfBattle(t,e)}}class qA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dromedary",this.tier=2,this.pack="Puppy",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class UA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shrimp",this.tier=2,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}}class GA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Toucan",this.tier=3,this.pack="Puppy",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}beforeAttack(t,e,i){var s;if(null==this.equipment||this.equipment.tier>5||this.abilityUses>=this.maxAbilityUses)return;let r=this.parent.petArray,a=[],o=!1;for(let l of r)l==this&&(o=!0),o&&(null===(s=l.equipment)||void 0===s?void 0:s.name)!=this.equipment.name&&a.push(l);for(let l=0;l<this.level;l++){let h=a[l];if(null==h)break;this.logService.createLog({message:`${this.name} gave ${h.name} ${this.equipment.name}`,type:"ability",player:this.parent,randomEvent:!1,tiger:e,pteranodon:i}),h.givePetEquipment((0,at.cloneDeep)(this.equipment))}this.abilityUses++,this.superBeforeAttack(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class Kp extends ne{constructor(){super(...arguments),this.name="Rice",this.tier=2,this.equipmentClass="shop"}}class jA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Beluga Sturgeon",this.tier=2,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){for(let s=0;s<this.level;s++){let r=new L_(this.logService,this.abilityService,this.parent,3,2,0,0,new Kp);this.logService.createLog({message:`${this.name} summoned a 2/3 Dolphin with Rice in the back.`,type:"ability",player:this.parent,randomEvent:!1,tiger:e,pteranodon:i}),this.parent.summonPet(r,4)&&this.abilityService.triggerFriendSummonedEvents(r)}super.superAfterFaint(t,e,i)}}class WA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tabby Cat",this.tier=2,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}friendGainedPerk(t,e,i){let s=this.parent.getRandomPets(2,[this],!0,!1);if(0!=s.length){for(let r of s)this.logService.createLog({message:`${this.name} increased ${r.name}'s health by ${this.level}.`,type:"ability",player:this.parent,randomEvent:!0,tiger:i}),r.increaseHealth(this.level);this.superFriendGainedPerk(t,e,i)}}}class U_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flying Squirrel",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}friendlyToyBroke(t,e){this.logService.createLog({message:`${this.parent.toy.name} respawned!`,type:"ability",player:this.parent,tiger:e}),this.superFriendlyToyBroke(t,e)}}class zA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mandrill",this.tier=2,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){var s;if((null===(s=this.parent.toy)||void 0===s?void 0:s.tier)<=2*this.level){let a=!1;for(let o of this.parent.petArray)if(o instanceof U_){a=!0;break}this.parent.breakToy(a),this.abilityService.triggerFriendlyToyBrokeEvents(this.parent)}}}class G_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lemur",this.tier=2,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class KA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hoopoe Bird",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=It(t,this.parent),r=s.furthestUpPet,a=s.getLastPet(),o=2*this.level;!r||(this.snipePet(r,o,!1,e,i),this.snipePet(a,o,!1,e,i),this.superFaint(t,e))}}class QA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tropical Fish",this.tier=3,this.pack="Puppy",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}}class YA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hatching Chick",this.tier=3,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}}class JA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goldfish",this.tier=2,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}}class ZA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Owl",this.tier=3,this.pack="Puppy",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}}class Qp extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mole",this.tier=3,this.pack="Puppy",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=6*this.level,r=[];for(let o of this.parent.petArray)o!=this&&o.equipment&&r.push(o);if(r=r.slice(0,2),r.length<2)return;for(let o of r)this.logService.createLog({message:`${this.name} removed ${o.name}'s equipment.`,type:"ability",player:this.parent,pteranodon:i}),o.removePerk();this.logService.createLog({message:`${this.name} summoned a ${s}/${s} Mole.`,type:"ability",player:this.parent,pteranodon:i});let a=new Qp(this.logService,this.abilityService,this.parent,s,s);this.parent.summonPet(a,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(a),super.superAfterFaint(t,e,i)}}class XA extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Raccoon",this.tier=5,this.pack="Custom",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}beforeAttack(t,e){let s=It(t,this.parent).getPetAtPosition(0);null!=s&&null!=s.equipment&&(this.abilityUses>=this.maxAbilityUses||(this.logService.createLog({message:`${this.name} stole ${s.name}'s equipment. (${s.equipment.name})`,type:"ability",player:this.parent}),this.givePetEquipment(s.equipment),s.removePerk(),this.abilityUses++))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class sV extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Tasty",this.equipmentClass="faint",this.callback=i=>{var s;let r=null===(s=i.originalAfterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=a=>{var o;if(null!=r&&r(a),"Tasty"!=(null===(o=i.equipment)||void 0===o?void 0:o.name))return;let h=(i.parent==a.player?a.opponet:a.player).petArray.filter(m=>m.alive);if(0==h.length)return;let f=h[Math.floor(Math.random()*h.length)];f.increaseAttack(2),f.increaseHealth(2),this.logService.createLog({message:`${i.name} gave ${f.name} +2 attack and +2 health (Tasty)`,type:"equipment",player:i.parent,randomEvent:h.length>1})}}}}class eP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Cucumber",this.tier=5,this.pack="Custom",this.health=5,this.attack=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=(this.parent==t.player?t.opponet:t.player).petArray.filter(l=>l.alive);if(0==s.length)return void this.superStartOfBattle(t,e);let r=this.level,o=[...s];for(let l=0;l<r&&o.length>0;l++){let h=Math.floor(Math.random()*o.length),f=o[h],m=new sV(this.logService,this.abilityService);this.logService.createLog({message:`${this.name} made ${f.name} Tasty`,type:"ability",player:this.parent,tiger:e,randomEvent:s.length>1}),f.givePetEquipment(m),o.splice(h,1)}this.superStartOfBattle(t,e)}}class tP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pangolin",this.tier=3,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){if(null==this.parent.toy||null==this.petBehind())return;let s=4*this.level;this.petBehind().increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${this.petBehind().name} ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class iP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Puppy",this.tier=3,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class nP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Microbe",this.tier=4,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.petArray.filter(r=>r!=this);s=[...s,...It(t,this.parent).petArray];for(let r of s)!r.alive||(this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),r.givePetEquipment(new Ga));this.superFaint(t,e)}}class sP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lobster",this.tier=4,this.pack="Puppy",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class rP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Buffalo",this.tier=4,this.pack="Puppy",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}}class aP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Llama",this.tier=4,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}}class j_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Butterly",this.tier=1,this.pack="Puppy",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}transform(t,e){let s=It(t,this.parent).getStrongestPet();null!=s&&(this.health=s.health,this.attack=s.attack,this.logService.createLog({message:`${this.name} copied stats from the strongest enemy (${this.attack}/${this.health}).`,type:"ability",player:this.parent,tiger:e}),this.superTransform(t,e))}}class oP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Caterpillar",this.tier=4,this.pack="Puppy",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(this.level<3)return;let i=new j_(this.logService,this.abilityService,this.parent,1,1,this.mana,this.exp,this.equipment);this.parent.setPet(this.position,i),this.logService.createLog({message:`${this.name} transformed into a Butterfly.`,type:"ability",player:this.parent}),this.parent.transformPet(this,i)}}class lP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Doberman",this.tier=4,this.pack="Puppy",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=!0;for(let r of this.parent.petArray)if(r!=this&&r.tier<=this.tier){i=!1;break}if(!i)return;let s=8*this.level;this.increaseAttack(s),this.givePetEquipment(new zr),this.logService.createLog({message:`${this.name} gained ${s} attack and gained a Coconut.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class cP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tahr",this.tier=4,this.pack="Puppy",this.attack=5,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){if(null==this.petBehind())return;let s=this.petBehind(),r=[s];for(;null!=s.petBehind();)s=s.petBehind(),r.push(s);let a=1;for(let o of r){if(a>this.level)break;o.equipment instanceof bh||(this.logService.createLog({message:`${this.name} gave ${o.name} Chili.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),o.givePetEquipment(new bh(this.logService,this.abilityService)),a++)}this.superFaint(t,e)}}class uP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Whale Shark",this.tier=4,this.pack="Puppy",this.attack=2,this.health=6,this.initPet(o,s,r,a,l)}givePetEquipment(t){super.givePetEquipment(t),this.removePerk();let e=3*this.level;this.increaseAttack(e),this.increaseHealth(e),this.logService.createLog({message:`${this.name} removed ${t.name} and gained ${e} attack and ${e} health.`,type:"ability",player:this.parent})}}class hP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chameleon",this.tier=4,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){if(null==this.parent.toy)return;let s=this.parent.toy,r=s.level;s.level=this.level,this.logService.createLog({message:`${this.name} activated ${s.name}.`,type:"ability",player:this.parent,pteranodon:i}),s.onBreak&&this.parent.breakToy(!0),s.startOfBattle&&s.startOfBattle(t),s.level=r}}class dP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gharial",this.tier=4,this.pack="Puppy",this.attack=5,this.health=3,this.initPet(o,s,r,a,l)}}class fP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stonefish",this.tier=5,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=It(t,this.parent);null==s.pet0||!s.pet0.alive||(this.snipePet(s.pet0,this.attack*this.level,!1,e,i),this.superFaint(t,e))}}class pP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Poodle",this.tier=5,this.pack="Puppy",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}}class gP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chicken",this.tier=5,this.pack="Puppy",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}}class mP extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Eagle",this.tier=5,this.pack="Puppy",this.attack=6,this.health=5,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let r,s=Math.min(6,t.previousShopTier+1);r=this.parent==t.player?t.playerPetPool.get(s):t.opponentPetPool.get(s);let a=r[Math.floor(Math.random()*r.length)],o=5*this.level,l=this.petService.createPet({name:a,attack:o,health:o,exp:this.minExpForLevel,equipment:null,mana:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${l.name} Level ${l.level}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.parent.summonPet(l,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(l),super.superAfterFaint(t,e,i)}}class Sz extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mantis",this.tier=1,this.pack="Puppy",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class vP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Orchid Mantis",this.tier=5,this.pack="Puppy",this.attack=8,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Math.min(Math.floor(this.attack*(.4*this.level)),50),s=Math.min(Math.floor(this.health*(.4*this.level)),50),r=new Sz(this.logService,this.abilityService,this.parent,s,i,0,this.minExpForLevel,null);this.logService.createLog({message:`${this.name} spawned Mantis ${r.attack}/${r.health}.`,type:"ability",player:this.parent,tiger:e}),this.parent.summonPetInFront(this,r)&&this.abilityService.triggerFriendSummonedEvents(r),this.superStartOfBattle(t,e)}}class yP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Panther",this.tier=5,this.pack="Puppy",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}}class _P extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Axolotl",this.tier=5,this.pack="Puppy",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}friendGainedPerk(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.level;e.increaseAttack(s),e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendGainedPerk(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class bP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goat",this.tier=5,this.pack="Puppy",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}}class Yp extends ne{constructor(t){super(),this.logService=t,this.name="Skewer",this.tier=5,this.equipmentClass="skewer",this.power=0,this.attackCallback=(e,i)=>{this.skewer(e,i,1),this.skewer(e,i,2)}}skewer(t,e,i){let s=e.parent.getPetAtPosition(i);if(null==s)return;let r=t.calculateDamgae(s,t.getManticoreMult(),3),a=r.defenseEquipment,o=r.damage*this.multiplier;t.dealDamage(s,o);let l=`${t.name} attacks ${s.name} for ${o}`;if(this.multiplier>1&&(l+=` x${this.multiplier}${this.multiplierMessage}`),null!=a){s.useDefenseEquipment();let h=Math.abs(a.power),f="-";a.power<0&&(f="+"),l+=` (${a.name} ${f}${h})`}this.logService.createLog({message:l+=" (Skewer).",type:"attack",player:t.parent})}}class SP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snapping Turtle",this.tier=5,this.pack="Puppy",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){if(null==this.petBehind())return;let s=this.petBehind(),r=[s];for(;null!=s.petBehind();)s=s.petBehind(),r.push(s);let a=1;for(let o of r){if(a>this.level)break;o.equipment instanceof Yp||(this.logService.createLog({message:`${this.name} gave ${o.name} Skewer.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),o.givePetEquipment(new Yp(this.logService)),a++)}this.superFaint(t,e)}}class wP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mosasaurus",this.tier=5,this.pack="Puppy",this.attack=5,this.health=6,this.initPet(o,s,r,a,l)}friendlyToyBroke(t,e){let i=[];if(this.petAhead&&i.push(this.petAhead),this.petBehind()&&i.push(this.petBehind()),0==i.length)return;for(let r of i)this.logService.createLog({message:`${this.name} gave ${r.name} 2 attach and 3 health.`,type:"ability",player:this.parent,randomEvent:!1,tiger:e}),r.increaseHealth(3),r.increaseAttack(2)}}class EP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sting Ray",this.tier=5,this.pack="Puppy",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}}class kP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mantis Shrimp",this.tier=6,this.pack="Puppy",this.attack=9,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=It(t,this.parent);for(let s=0;s<this.level;s++){let r=i.furthestUpPet;if(null==r)return;this.snipePet(r,10,!1,e)}this.superStartOfBattle(t,e)}}class CP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lionfish",this.tier=6,this.pack="Puppy",this.attack=8,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=It(t,this.parent),r=1+Math.floor(this.attack/10);for(let a=0;a<r;a++){let o=s.getRandomPet(null,null,!0);if(null==o)return;this.snipePet(o,3*this.level,!0,e,i)}this.superFaint(t,e)}}class AP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tyrannosaurus",this.tier=6,this.pack="Puppy",this.attack=7,this.health=7,this.initPet(o,s,r,a,l)}}class PP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Octopus",this.tier=6,this.pack="Puppy",this.attack=8,this.health=8,this.initPet(o,s,r,a,l)}afterAttack(t,e){let i=It(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getRandomPet(null,null,!0);if(null==r)return;this.snipePet(r,6,!0,e)}this.superAfterAttack(t,e)}}class DP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anglerfish",this.tier=6,this.pack="Puppy",this.attack=7,this.health=4,this.initPet(o,s,r,a,l)}}class TP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sauropod",this.tier=6,this.pack="Puppy",this.attack=4,this.health=12,this.initPet(o,s,r,a,l)}}class xP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elephant Seal",this.tier=6,this.pack="Puppy",this.attack=2,this.health=8,this.initPet(o,s,r,a,l)}gainedPerk(t,e,i){if(e!=this||this.abilityUses>=this.maxAbilityUses)return;let s=5*this.level,r=this.parent.getRandomPets(3,[this],!0,!1);for(let a of r)a.increaseAttack(s),a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:!0});this.abilityUses++,this.superGainedPerk(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class MP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mongoose",this.tier=6,this.pack="Puppy",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}}class IP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pillbug",this.tier=1,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class OP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Duckling",this.tier=1,this.pack="Custom",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class wz extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Summoned Cockroach",this.tier=1,this.pack="Star",this.attack=1,this.health=1,this.hidden=!0,this.initPet(o,s,r,a,l)}}class RP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockroach",this.tier=1,this.pack="Star",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}faint(t,e,i){const s=this.level,r=new wz(this.logService,this.abilityService,this.parent,1,1,0,0);this.logService.createLog({message:`${this.name} fainted and summoned a 1/1 Cockroach.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&(this.logService.createLog({message:`The summoned ${r.name} gained +${s} experience.`,type:"ability",player:this.parent,tiger:e}),r.increaseExp(s),this.abilityService.triggerFriendSummonedEvents(r)),this.superFaint(t,e)}}class NP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frog",this.tier=1,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(this.level>1)return;let i=this.petAhead,s=this.petBehind();if(null==i||null==s)return;let r=i.attack,a=i.health,l=s.health;i.attack=s.attack,i.health=l,s.attack=r,s.health=a,this.logService.createLog({message:`${this.name} swapped the attack and health of ${i.name} and ${s.name}.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class LP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chihuahua",this.tier=1,this.pack="Star",this.attack=4,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){const i=this.parent.opponent,s=i.getHighestHealthPet(),r=s.pet;if(r){const a=this.level;this.logService.createLog({message:`${this.name} pushed ${r.name} forward ${a} space(s).`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),i.pushPet(r,a)}this.superStartOfBattle(t,e)}}class BP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Seahorse",this.tier=1,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=It(t,this.parent).getLastPet();null!=s&&(this.parent.pushPet(s,this.level),this.logService.createLog({message:`${this.name} pushes ${s.name} forward ${this.level} space${this.level>1?"s":""}.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class $P extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Iguana",this.tier=2,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}enemyPushed(t,e,i){null!=e&&e.alive&&(this.snipePet(e,2*this.level,!1,i),this.superEnemyPushed(t,e,i))}enemySummoned(t,e,i){null!=e&&e.alive&&(this.snipePet(e,2*this.level,!1,i),this.superEnemySummoned(t,e,i))}}class VP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hummingbird",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getRandomStrawberryPet(this);if(null==i)return;let s={attack:2*this.level,health:this.level};i.increaseHealth(s.health),i.increaseAttack(s.attack),this.logService.createLog({message:`${this.name} increased ${i.name}'s attack by ${s.attack} and health by ${s.health}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),this.superStartOfBattle(t,e)}}class rV extends ne{constructor(){super(...arguments),this.name="Eucalyptus",this.equipmentClass="shield",this.power=4,this.originalPower=4,this.uses=1,this.originalUses=1}}class HP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Koala",this.tier=2,this.pack="Star",this.attack=3,this.health=3,this.abilityUses=0,this.maxAbilityUses=0,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){e===this||this.abilityUses>=this.maxAbilityUses||(this.logService.createLog({message:`${this.name} gave ${e.name} Eucalyptus perk.`,type:"ability",player:this.parent,tiger:i}),e.givePetEquipment(new rV),this.abilityUses++),this.superFriendHurt(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level,this.abilityUses=0}}class FP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Yak",this.tier=2,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}}class qP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dumbo Octopus",this.tier=2,this.pack="Star",this.health=5,this.attack=2,this.initPet(o,s,r,a,l)}}class UP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salamander",this.tier=2,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class GP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Panda",this.tier=2,this.pack="Custom",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=.5*this.level,s={attack:Math.floor(this.attack*i),health:Math.floor(this.health*i)},r=this.petAhead;null!=r&&(r.increaseAttack(s.attack),r.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${r.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:e}),this.health=0,this.superStartOfBattle(t,e))}}class jP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Guinea Pig",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class WP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pug",this.tier=3,this.pack="Star",this.attack=5,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(null==this.petAhead)return;let i=this.level;this.logService.createLog({message:`${this.name} gave ${this.petAhead.name} ${i} exp.`,type:"ability",player:this.parent,tiger:e}),this.petAhead.increaseExp(i),this.superStartOfBattle(t,e)}}class zP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jellyfish",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}anyoneLevelUp(t,e,i){if(e.parent!=this.parent)return;let s=this.level;this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} increased attack by ${s} and health by ${s}`,type:"ability",player:this.parent,tiger:i}),this.superAnyoneLevelUp(t,e,i)}}class KP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Atlantic Puffin",this.tier=2,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getPetsWithEquipment("Strawberry").filter(r=>r!==this),s=It(t,this.parent);for(let r=0;r<this.level;r++)for(let a=0;a<i.length;a++){let o=s.getRandomPet(null,null,!0);if(null==o)break;this.snipePet(o,2,!0,e)}this.superStartOfBattle(t,e)}}class QP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dove",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.getPetsWithEquipment("Strawberry").filter(o=>o!==this&&o.alive);s=(0,at.shuffle)(s);let r=2*this.level,a=!1;if(s.length>2&&(a=!0),s.length>0){let o=s[0];o.increaseAttack(r),o.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${o.name} ${r} attack ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:a,pteranodon:i})}if(s.length>1){let o=s[1];o.increaseAttack(r),o.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${o.name} ${r} attack ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:a})}this.superFaint(t,e)}}class YP extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Stork",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let s,r=Math.max(1,t.previousShopTier-1);s=this.parent==t.player?t.playerPetPool.get(r):t.opponentPetPool.get(r);let a=s[Math.floor(Math.random()*s.length)],o=t.oldStork,l=this.petService.createPet({name:a,attack:o?null:3*this.level,equipment:null,exp:this.minExpForLevel,health:o?null:2*this.level,mana:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${l.name} Level ${this.level}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.parent.summonPet(l,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(l),super.superAfterFaint(t,e,i)}}class JP extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Shima Enaga",this.tier=2,this.pack="Star",this.attack=2,this.health=3,this.initPet(l,r,a,o,h)}friendFaints(t,e,i){var s;if(this.abilityUses>=this.maxAbilityUses)return;if(!e||"Strawberry"!=(null===(s=e.equipment)||void 0===s?void 0:s.name))return void this.superFriendFaints(t,e,i);let r=2*this.level,a=this.parent.petArray.filter(h=>h.alive);if(this.abilityUses++,0===a.length)return;let o=a[Math.floor(Math.random()*a.length)],l=this.petService.createPet({name:o.name,attack:r,health:r,equipment:null,exp:o.exp,mana:0},this.parent);this.logService.createLog({message:`${this.name} summoned a (${r}/${r}) ${l.name} }`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),this.parent.summonPet(l,e.position)&&this.abilityService.triggerFriendSummonedEvents(l),this.superFriendFaints(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class ZP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leech",this.tier=3,this.pack="Star",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}}class XP extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Woodpecker",this.tier=5,this.pack="Star",this.attack=6,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=2*this.level;for(let s=0;s<i;s++){let r=this.getPetsAhead(2,!0);for(let a of r)this.snipePet(a,2,!1,e)}this.superStartOfBattle(t,e)}}class eD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tuna",this.tier=3,this.pack="Star",this.attack=3,this.health=5,this.timesHurt=0,this.hurtThisBattle=this.timesHurt,this.initPet(o,s,r,a,l)}hurt(t,e,i){this.hurtThisBattle++,this.superHurt(t,e,i)}faint(t,e,i){let s=this.hurtThisBattle;for(let r=0;r<s;r++){const a=this.parent.getRandomPet([this]);if(null==a)continue;const o=this.level;this.logService.createLog({message:`${this.name} gave ${a.name} +${o} attack and +${o} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),a.increaseAttack(o),a.increaseHealth(o)}this.superFaint(t,e)}setAbilityUses(){super.setAbilityUses()}resetPet(){this.hurtThisBattle=this.timesHurt,super.resetPet()}}class tD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Toad",this.tier=3,this.pack="Star",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}enemyHurt(t,e,i){!e.alive||this.abilityUses>=this.maxAbilityUses||e.equipment instanceof Ga||(e.givePetEquipment(new Ga),this.abilityUses++,this.logService.createLog({message:`${this.name} gave ${e.name} Weak.`,type:"ability",player:this.parent,tiger:i}),this.enemyHurt(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2*this.level}}class iD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Starfish",this.tier=5,this.pack="Star",this.attack=3,this.health=7,this.initPet(o,s,r,a,l)}}class nD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Clownfish",this.tier=4,this.pack="Star",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}anyoneLevelUp(t,e,i){if(e.parent!==this.parent)return;let s=2*this.level;e.increaseAttack(s),e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superAnyoneLevelUp(t,e,i)}}class sD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blobfish",this.tier=5,this.pack="Star",this.attack=2,this.health=10,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.getPetsBehind(2);for(let r of s){let a=this.level;this.logService.createLog({message:`${this.name} gave ${r.name} ${a} exp.`,type:"ability",player:this.parent,tiger:e}),r.increaseExp(a)}this.superFaint(t,e)}}class rD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cabybara",this.tier=3,this.pack="Star",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}}class aD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Okapi",this.tier=3,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class oD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cassowary",this.tier=3,this.pack="Star",this.attack=5,this.health=2,this.initPet(o,s,r,a,l)}friendGainedPerk(t,e,i){var s;if(e.parent!==this.parent||"Strawberry"!==(null===(s=e.equipment)||void 0===s?void 0:s.name))return void this.superFriendGainedPerk(t,e,i);const r=this.level;this.logService.createLog({message:`${this.name} gained +${r} permanent health and +${r} attack for this battle.`,type:"ability",player:this.parent,tiger:i}),this.increaseHealth(r),this.increaseAttack(r),this.superFriendGainedPerk(t,e,i)}}class W_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Orangutang",this.tier=3,this.pack="Star",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}}class lD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Siamese",this.tier=4,this.pack="Star",this.health=4,this.attack=1,this.initPet(o,s,r,a,l)}}class cD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Elk",this.tier=4,this.pack="Star",this.attack=2,this.health=6,this.initPet(o,s,r,a,l)}endTurn(t){}}class z_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fairy Ball",this.tier=1,this.pack="Star",this.attack=2,this.health=6,this.hidden=!0,this.initPet(o,s,r,a,l)}}class K_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fairy Armadillo",this.tier=4,this.pack="Star",this.attack=2,this.health=6,this.initPet(o,s,r,a,l)}hurt(t,e,i){if(this.alive){const s=2*this.level;this.increaseHealth(s),this.logService.createLog({message:`${this.name} gains ${s} permanent health and transforms into a protected ball!`,type:"ability",player:this.parent,tiger:i});const r=new z_(this.logService,this.abilityService,this.parent,this.health,this.attack,this.mana,this.exp,this.equipment);this.parent.transformPet(this,r)}this.superHurt(t,e,i)}}class uD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fossa",this.tier=4,this.pack="Star",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){const s=this.parent===t.player?t.playerRollAmount:t.opponentRollAmount;if(s<=0)return void this.superStartOfBattle(t,e);const r=this.level*s,a=this.parent.opponent.petArray.slice(0,2);for(const o of a)(null==o?void 0:o.alive)&&(this.logService.createLog({message:`${this.name} removed ${r} health from ${o.name}.`,type:"ability",player:this.parent,tiger:e}),o.health-=r);this.superStartOfBattle(t,e)}}class hD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Eel",this.tier=4,this.pack="Custom",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=.5*this.level;this.health=Math.min(50,Math.floor(this.health*(1+i))),this.logService.createLog({message:`${this.name} has gained ${100*i}% health. (${this.health})`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class dD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hawk",this.tier=4,this.pack="Star",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.opponent,s=this.position,r=i.getPetAtPosition(this.position),a=1;for(;null==r&&a<5;)r=i.getPetAtPosition(s+a),null==r&&(r=i.getPetAtPosition(s-a)),a++;null!=r&&this.snipePet(r,7*this.level,!1,e)}}class fD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Platypus",this.tier=4,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=3*this.level,r=2*this.level,a=new O_(this.logService,this.abilityService,this.parent,r,s,0,this.minExpForLevel),o=new R_(this.logService,this.abilityService,this.parent,r,s,0,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned ${s}/${r} Duck level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(a,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(a),this.logService.createLog({message:`${this.name} spawned ${s}/${r} Beaver level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(o),super.superAfterFaint(t,e,i)}}class pD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Praying Mantis",this.tier=4,this.pack="Star",this.attack=7,this.health=2,this.initPet(o,s,r,a,l)}}class gD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crow",this.tier=4,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class mD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Donkey",this.tier=4,this.pack="Star",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let r=this.parent.opponent.getLastPet();null!=r&&(this.parent.pushPet(r,r.position),this.logService.createLog({message:`${this.name} pushed ${r.name} to the front.`,type:"ability",player:this.parent,tiger:i}),this.superFriendFaints(t,e,i),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class vD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sparrow",this.tier=4,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}}class Q_ extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Strawberry",this.equipmentClass="defense",this.tier=1,this.uses=2,this.originalUses=2,this.callback=i=>{var s;let r=null===(s=i.originalFaint)||void 0===s?void 0:s.bind(i);i.faint=(a,o,l)=>{null!=r&&r(a,o,l);const h=i.parent.getLastPet();if(h){const f=1;this.logService.createLog({message:`${i.name} (Strawberry) gave ${h.name} +${f} attack and +${f} health.`,type:"equipment",player:i.parent}),h.increaseAttack(f),h.increaseHealth(f)}}}}}class yD extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Pelican",this.tier=5,this.pack="Star",this.attack=5,this.health=5,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=this.level,s=0,r=this.petAhead;for(;r&&s<i;){if(r.equipment instanceof Q_){let a=this.petService.createPet({name:"Salmon",attack:r.attack,health:r.health,exp:this.minExpForLevel,equipment:null,mana:0},this.parent);this.swallowedPets.push(a),r.health=0,this.logService.createLog({message:`${this.name} swallowed ${r.name}`,type:"ability",player:this.parent,tiger:e}),s++}r=r.petAhead}this.superStartOfBattle(t,e)}afterFaint(t,e,i){for(;this.swallowedPets.length>0;){let s=this.swallowedPets.shift();this.logService.createLog({message:`${this.name} summoned ${s.name} (level ${s.level}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(s)}super.superAfterFaint(t,e,i)}}class _D extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anteater",this.tier=3,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){for(let s=0;s<this.level;s++){let r=new M_(this.logService,this.abilityService,this.parent,1,1,0,5);this.logService.createLog({message:`${this.name} spawned 1/1 Ant level 3`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(r)}super.superAfterFaint(t,e,i)}}class bD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sword Fish",this.tier=5,this.pack="Star",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s=this.parent.opponent.getHighestHealthPet(),r=s.pet,a=this.attack*this.level;null!=r&&this.snipePet(r,a,s.random,e),this.snipePet(this,a,!1,e),this.superStartOfBattle(t,e)}}class SD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Polar Bear",this.tier=5,this.pack="Custom",this.attack=4,this.health=8,this.initPet(o,s,r,a,l)}}class wD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Siberian Husky",this.tier=5,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}}class ED extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lion",this.tier=5,this.pack="Custom",this.attack=6,this.health=6,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.petArray.filter(a=>a!==this),s=0;for(let a of i)a.tier>s&&(s=a.tier);let r=.5*this.level;this.tier<=s||(this.increaseAttack(Math.floor(this.attack*r)),this.increaseHealth(Math.floor(this.health*r)),this.logService.createLog({message:`${this.name} increased its attack and health by ${100*r}% (${this.attack}/${this.health})`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e))}}class kD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Triceratops",this.tier=5,this.pack="Star",this.attack=5,this.health=6,this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=this.parent.getRandomPet([this],!0,null,!0),r=3*this.level;null!=s&&(s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),this.superHurt(t,e,i))}}class CD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Zebra",this.tier=5,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}}class AD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fox",this.tier=5,this.pack="Custom",this.attack=6,this.health=4,this.initPet(o,s,r,a,l)}}class PD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hamster",this.tier=5,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class DD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Shoebill",this.tier=5,this.pack="Star",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class TD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vulture",this.tier=5,this.pack="Star",this.attack=4,this.health=3,this.attackCounter=0,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){i||this.attackCounter++,this.attackCounter%2!=1&&(this.abilityService.setCounterEvent({callback:()=>{let r=this.parent.opponent.getRandomPet(null,null,!0);null!=r&&this.snipePet(r,4*this.level,!0,i)},priority:this.attack,pet:this}),this.superFriendFaints(t,e,i))}}class xD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ibex",this.tier=5,this.pack="Star",this.attack=6,this.health=7,this.affectedEnemies=new Set,this.initPet(o,s,r,a,l)}processEnemyTrigger(t,e){if(this.affectedEnemies.has(t)||this.affectedEnemies.size>=this.maxAbilityUses)return;let i=Math.floor(.7*t.health);t.increaseHealth(-i),this.affectedEnemies.add(t),this.logService.createLog({message:`${this.name} removed ${i} health from ${t.name} (70%)`,type:"ability",player:this.parent,tiger:e})}enemyHurt(t,e,i){!(null==e?void 0:e.alive)||(this.processEnemyTrigger(e,i),this.superEnemyHurt(t,e,i))}enemyPushed(t,e,i){!(null==e?void 0:e.alive)||(this.processEnemyTrigger(e,i),this.superEnemyPushed(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class MD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Komodo",this.tier=6,this.pack="Custom",this.attack=6,this.health=6,this.initPet(o,s,r,a,l)}endTurn(t){if(!t.komodoShuffle)return;let i=this.position;if(0==i)return;let r=this.shufflePets(0,i).map(a=>a.name).join(", ");this.logService.createLog({message:`${this.name} shuffled positions of pets (${r}).`,type:"ability",player:this.parent,randomEvent:!0})}shufflePets(t,e){let i=this.parent.petArray.slice(t,e);k_(i);for(let s=0;s<i.length;s++)this.parent[`pet${s}`]=i[s];return i}}class ID extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ostrich",this.tier=6,this.pack="Star",this.attack=6,this.health=7,this.initPet(o,s,r,a,l)}}class OD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Reindeer",this.tier=6,this.pack="Star",this.attack=6,this.health=4,this.initPet(o,s,r,a,l)}beforeAttack(t,e){this.abilityUses>=this.maxAbilityUses||(this.givePetEquipment(new Fs),this.abilityUses++,this.logService.createLog({message:`${this.name} gained Melon.`,type:"ability",player:this.parent,tiger:e}),this.superAfterAttack(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class RD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stegosaurus",this.tier=6,this.pack="Custom",this.attack=3,this.health=8,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.petArray.filter(a=>null!=a.equipment),s=this.parent.getRandomPet([...i,this],!0,!1,!0);if(null==s)return;let r=this.level*t.turnNumber;s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),this.superStartOfBattle(t,e)}}class ND extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Piranha",this.tier=6,this.pack="Star",this.attack=10,this.health=4,this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=this.parent.petArray.filter(a=>a!==this&&a.alive),r=3*this.level;for(let a of s)a.increaseAttack(r),this.logService.createLog({message:`${this.name} gave ${a.name} ${r} attack.`,type:"ability",player:this.parent,tiger:i});this.superHurt(t,e,i)}}class LD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hammerhead Shark",this.tier=6,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}}class BD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Therizinosaurus",this.tier=6,this.pack="Custom",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.getPetsWithEquipment("Strawberry").filter(r=>r!==this&&r.alive);i=(0,at.shuffle)(i);let s=[];for(let r=0;r<this.level&&null!=i[r];r++)s.push(i[r]);for(let r of s)r.givePetEquipment(new zr),this.logService.createLog({message:`${this.name} gave ${r.name} Coconut.`,type:"ability",player:this.parent,tiger:e,randomEvent:this.level<i.length})}}class $D extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Harpy Eagle",this.tier=6,this.pack="Custom",this.attack=6,this.health=6,this.initPet(l,r,a,o,h)}hurt(t,e,i){let r,s=5*this.level;r=this.parent==t.player?t.playerPetPool.get(1):t.opponentPetPool.get(1);let a=r[Math.floor(Math.random()*r.length)],o=this.petService.createPet({name:a,attack:s,health:s,equipment:null,mana:0,exp:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${o.name} (${s}/${s}).`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(o),super.superHurt(t,e,i)}}class VD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Real Velociraptor",this.tier=6,this.pack="Star",this.attack=6,this.health=5,this.friendAppliedThisTurn=new Set,this.initPet(o,s,r,a,l)}friendLostPerk(t,e,i){if(this.abilityUses>=this.maxAbilityUses||this==e||!(null==e?void 0:e.lastLostEquipment)||this.friendAppliedThisTurn.has(e))return;let s=this.createEquipmentInstance(e.lastLostEquipment);s&&(e.givePetEquipment(s),this.logService.createLog({message:`${this.name} returned ${s.name} to ${e.name}.`,type:"ability",player:this.parent,tiger:i}),this.friendAppliedThisTurn.add(e),this.abilityUses++),super.superFriendLosPerk(t,e,i)}createEquipmentInstance(t){try{return new(0,t.constructor)}catch(e){return console.warn("Failed to create equipment instance:",t.name,e),null}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class HD extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Sabertooth Tiger",this.tier=6,this.pack="Star",this.attack=4,this.health=5,this.timesHurt=0,this.hurtThisBattle=this.timesHurt,this.initPet(l,r,a,o,h)}hurt(t,e,i){this.hurtThisBattle++,this.superHurt(t,e,i)}afterFaint(t,e,i){let s=this.hurtThisBattle;if(s>0)for(let r=0;r<this.level;r++){let a=4+2*s,o=12+3*s,l=this.petService.createPet({name:"Mammoth",attack:a,health:o,equipment:null,mana:0,exp:0},this.parent);this.logService.createLog({message:`${this.name} summoned ${l.name} (${a}/${o}).`,type:"ability",player:this.parent,tiger:e}),this.parent.summonPet(l,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(l)}this.superAfterFaint(t,e)}resetPet(){this.hurtThisBattle=this.timesHurt,super.resetPet()}}class FD extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Orca",this.tier=6,this.pack="Star",this.attack=5,this.health=7,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){for(let s=0;s<this.level;s++){let r=this.petService.getRandomFaintPet(this.parent);r.attack=6,r.health=6,this.logService.createLog({message:`${this.name} spawned a 6/6 ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(r)}super.superAfterFaint(t,e,i)}}class qD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Spinosaurus",this.tier=6,this.pack="Star",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){let s={attack:2*this.level,health:3*this.level},r=this.parent.getRandomPet([this],!0,!1,!0);null!=r&&(r.increaseAttack(s.attack),r.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gave ${r.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),super.superFriendFaints(t,e,i))}}class UD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bulldog",this.tier=1,this.pack="Golden",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}afterAttack(t,e){if(!this.alive||this.abilityUses>=this.maxAbilityUses)return;let i=2*this.level;this.attack+=i,this.logService.createLog({message:`${this.name} gained +${i} attack.`,type:"ability",player:this.parent,tiger:e}),this.abilityUses++,this.superAfterAttack(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class Y_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Groundhog",this.tier=1,this.pack="Golden",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}faint(t,e,i){this.parent.gainTrumpets(this.level,this,i),this.superFaint(t,e)}}class GD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cone Snail",this.tier=1,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.petBehind();if(null==i)return;let s=2*this.level;i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} health.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class jD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Goose",this.tier=1,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.opponent.furthestUpPet;if(null==i)return;let s=this.level;i.increaseAttack(-this.level),this.logService.createLog({message:`${this.name} removed ${s} attack from ${i.name}.`,type:"ability",player:this.parent,tiger:e}),this.superStartOfBattle(t,e)}}class WD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pied Tamarin",this.tier=1,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){if(this.parent.trumpets<1)return;let s=this.parent.opponent.getRandomPets(this.level,null,null,!0);for(let r of s)this.snipePet(r,3,!0,e,i);s.length>0&&this.parent.spendTrumpets(1,this,i)}}class zD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Silkmoth",this.tier=1,this.pack="Golden",this.attack=3,this.health=1,this.maxAbilityUses=2,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){if(this.abilityUses>=this.maxAbilityUses||e!=this.petAhead||!e.alive)return;let s=this.level;e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendHurt(t,e,i)}}class KD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lemming",this.tier=1,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}}class QD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Magpie",this.tier=1,this.pack="Golden",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}}class YD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hercules Beetle",this.tier=2,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}}class JD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Stoat",this.tier=2,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class ZD extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Black Necked Stilt",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){this.parent.gainTrumpets(2*this.level,this,i),this.superFaint(t,e)}}class XD extends ne{constructor(){super(...arguments),this.name="Ink",this.equipmentClass="ailment-attack",this.power=-3,this.originalPower=-3}}class e1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Squid",this.tier=2,this.pack="Golden",this.attack=5,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){if(this.parent.trumpets<1)return;let s=!1,r=this.parent.opponent.petArray.filter(a=>{var o;return a.health>0&&"Ink"!=(null===(o=a.equipment)||void 0===o?void 0:o.name)});for(let a=0;a<this.level;a++){let o=r[a];if(null==o)break;s=!0,o.givePetEquipment(new XD),this.logService.createLog({message:`${this.name} gave ${o.name} Ink.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}s&&this.parent.spendTrumpets(1,this,i),this.superFaint(t,e)}}class t1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Urchin",this.tier=2,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=[this.parent.opponent.furthestUpPet];if(null!=s[0]){for(let r=0;r<this.level-1;r++){let o=s[r].petBehind();if(null==o)break;s.push(o)}for(let r of s)r.increaseHealth(-5),this.logService.createLog({message:`${this.name} removed 5 health from ${r.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}}class i1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Door Head Ant",this.tier=2,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.parent.pushPetToFront(this,!0),this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e});let i=4*this.level;this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} health.`,type:"ability",player:this.parent,tiger:e})}}class J_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lizard Tail",this.tier=1,this.pack="Golden",this.hidden=!0,this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}}class n1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lizard",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.maxAbilityUses=2,this.initPet(o,s,r,a,l)}hurt(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=new J_(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Liazrd Tail Level ${this.level}`,type:"ability",player:this.parent,tiger:i}),this.parent.summonPetInFront(this,s)&&this.abilityService.triggerFriendSummonedEvents(s),this.abilityUses++,super.superHurt(t,i)}}class s1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Turtle",this.tier=2,this.pack="Golden",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let s=2*this.level;e.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.superFriendSummoned(t,e,i)}}class r1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="African Penguin",this.tier=2,this.pack="Golden",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}}class a1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Musk Ox",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}friendAheadFaints(t,e,i){let s={attack:this.level,health:2*this.level};this.increaseAttack(s.attack),this.increaseHealth(s.health),this.logService.createLog({message:`${this.name} gained ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent,tiger:i}),this.superFriendAheadFaints(t,e,i)}}class o1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flea",this.tier=3,this.pack="Golden",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.getHighestHealthPets(this.level,"Weak");for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),r.givePetEquipment(new Ga);this.superFaint(t,e)}}class l1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Surgeon Fish",this.tier=3,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}beforeAttack(t,e){let i=this.petBehind();if(null==i||this.parent.trumpets<2)return;this.parent.spendTrumpets(2,this);let s=4*this.level;i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} health.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class Z_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Weasel",this.tier=3,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){this.logService.createLog({message:`${this.name} gained ${this.level} Gold.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class c1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Guineafowl",this.tier=3,this.pack="Golden",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}hurt(t,e,i){this.parent.gainTrumpets(2*this.level,this),this.superHurt(t,e,i)}}class u1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Betta Fish",this.tier=3,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.petBehind();if(null==s)return;let r={health:2*this.level,attack:4*this.level};s.increaseAttack(r.attack),s.increaseHealth(r.health),this.logService.createLog({message:`${this.name} gave ${s.name} ${r.attack} attack and ${r.health} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class h1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Meerkat",this.tier=2,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i;i=this.parent==t.player?t.playerGoldSpent:t.opponentGoldSpent;let s=Math.floor(i/4)*this.level,r=this.petAhead,a=this.petBehind();null!=r&&(r.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${r.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e})),null!=a&&(a.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack.`,type:"ability",player:this.parent,tiger:e})),this.superFaint(t,e)}}class d1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Flying Fish",this.tier=3,this.pack="Golden",this.attack=5,this.health=2,this.maxAbilityUses=2,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=2*this.level;this.logService.createLog({message:`${this.name} gave ${e.name} ${s} exp.`,type:"ability",player:this.parent,tiger:i}),e.increaseExp(s),this.abilityUses++,this.superFriendSummoned(t,e,i)}}class f1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baboon",this.tier=3,this.pack="Golden",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class p1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Osprey",this.tier=3,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){for(let s=0;s<this.level;s++){let r=new Y_(this.logService,this.abilityService,this.parent,null,null,0,0);this.logService.createLog({message:`${this.name} summoned a 2/1 Groundhog`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(r)}super.superAfterFaint(t,e,i)}}class g1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manatee",this.tier=4,this.pack="Golden",this.attack=2,this.health=11,this.initPet(o,s,r,a,l)}}class m1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cuttlefish",this.tier=4,this.pack="Golden",this.attack=8,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.petArray,r=[];for(let o=0;o<this.level;o++){let l=s[s.length-(o+1)];if(null==l)break;r.push(l)}for(let o of r){let l=Math.max(1,o.health-3);o.health=l,this.logService.createLog({message:`${this.name} reduced ${o.name} health by 3 (${l})`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),o.givePetEquipment(new XD),this.logService.createLog({message:`${this.name} gave ${o.name} Ink.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}this.superFaint(t,e)}}class v1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Egyptian Vulture",this.tier=5,this.pack="Golden",this.attack=7,this.health=4,this.initPet(o,s,r,a,l)}knockOut(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.petBehind();for(;null!=s&&null==s.faint;)s=s.petBehind();null!=s&&null!=s.faint&&(this.logService.createLog({message:`${this.name} activated ${s.name}'s ability.`,type:"ability",player:this.parent,tiger:i}),s.faint(t,!1))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class y1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Saiga Antelope",this.tier=4,this.pack="Golden",this.attack=4,this.health=3,this.attackCounter=0,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){!this.alive||(i||this.attackCounter++,this.attackCounter%2==0&&(this.abilityService.setCounterEvent({callback:()=>{this.parent.gainTrumpets(3*this.level,this)},priority:this.attack,pet:this}),super.superFriendFaints(t,e,i)))}}class _1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sealion",this.tier=4,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class b1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vaquita",this.tier=4,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=Math.max(Math.floor(.5*this.level*this.parent.trumpets),4*this.level);this.parent.gainTrumpets(s,this,i)}}class X_ extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smallest Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class eb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smaller Slug",this.tier=1,this.pack="Golden",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=new X_(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Smallest Slug Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(s),super.superFaint(t,e)}}class S1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Slug",this.tier=4,this.pack="Golden",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=new eb(this.logService,this.abilityService,this.parent,null,null,0,this.minExpForLevel);this.logService.createLog({message:`${this.name} spawned Smaller Slug Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(s),super.superAfterFaint(t,e,i)}}class w1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Poison Dart Frog",this.tier=4,this.pack="Golden",this.attack=5,this.health=2,this.initPet(o,s,r,a,l)}friendAheadFaints(t,e,i){let s=this.parent.opponent.getHighestHealthPet(),r=s.pet;null!=r&&this.snipePet(r,4*this.level,s.random,i)}}class E1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Secretary Bird",this.tier=4,this.pack="Golden",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(i||this.abilityUses++,this.abilityUses%2==1)return;let s=this.petAhead;if(null==s)return;let r=3*this.level,a=4*this.level;s.increaseAttack(r),s.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} attack and ${a} health.`,type:"ability",player:this.parent,tiger:i}),this.superFriendFaints(t,e,i)}}class k1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Royal Flycatcher",this.tier=3,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}enemySummoned(t,e,i){let s=this.parent.opponent.getRandomPet(null,null,!0);null!=s&&(this.snipePet(s,3*this.level,!0,i),this.superEnemySummoned(t,e,i))}}class C1 extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Falcon",this.tier=4,this.pack="Golden",this.attack=5,this.health=5,this.maxAbilityUses=3,this.initPet(l,r,a,o,h)}knockOut(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=3*this.level,r=this.petService.createPet({attack:s,health:s,name:e.name,exp:this.minExpForLevel,equipment:null,mana:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${r.name} ${s}/${s} Level ${this.level}`,type:"ability",player:this.parent,tiger:i}),this.parent.summonPet(r,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(r),this.abilityUses++,super.superKnockOut(t,e,i)}}class A1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manta Ray",this.tier=4,this.pack="Golden",this.attack=5,this.health=7,this.initPet(o,s,r,a,l)}}class P1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Macaque",this.tier=5,this.pack="Golden",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=12*this.level,s=new W_(this.logService,this.abilityService,this.parent,i,i,0,this.minExpForLevel,(0,at.cloneDeep)(this.equipment)),r=`${this.name} spawned Orangutang ${s.attack}/${s.health}`;null!=this.equipment&&(r+=` with ${this.equipment.name}`),r+=".",this.logService.createLog({message:r,type:"ability",player:this.parent,tiger:e}),this.parent.summonPetInFront(this,s)&&this.abilityService.triggerFriendSummonedEvents(s),this.superStartOfBattle(t,e)}}class D1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nyala",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){this.parent.gainTrumpets(8*this.level,this,i),this.superFaint(t,e)}}class T1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nurse Shark",this.tier=5,this.pack="Golden",this.attack=5,this.health=7,this.initPet(o,s,r,a,l)}faint(t,e,i){if(0==this.parent.trumpets)return;let s=3*Math.min(this.parent.trumpets,6),r=!1,a=(0,at.shuffle)((0,at.clone)(this.parent.opponent.petArray));for(let o=0;o<this.level;o++){let l=a[o];if(null==l)break;r=!0,this.snipePet(l,s,!0,e,i)}r&&this.parent.spendTrumpets(Math.min(this.parent.trumpets,6),this,i),this.superFaint(t,e)}}class x1 extends _{constructor(t,e,i,s,r,a,o,l,h,f){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Beluga Whale",this.tier=5,this.pack="Golden",this.attack=3,this.health=8,this.initPet(l,r,a,o,h),this.belugaSwallowedPet=f}afterFaint(t,e,i){if(null==this.belugaSwallowedPet)return void super.superAfterFaint(t,e,i);let s=this.petService.createPet({attack:null,equipment:null,exp:this.minExpForLevel,health:null,name:this.belugaSwallowedPet,mana:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${s.name} Level ${this.level}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(s),super.superAfterFaint(t,e,i)}}class M1 extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Wolf",this.tier=5,this.pack="Golden",this.attack=4,this.health=4,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let s={attack:3*this.level,health:2*this.level};for(let r=0;r<3;r++){let a=this.petService.createPet({attack:s.attack,equipment:null,exp:this.minExpForLevel,health:s.health,name:"Pig",mana:0},this.parent);this.logService.createLog({message:`${this.name} spawned ${a.name} ${s.attack}/${s.health}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(a,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(a)}super.superAfterFaint(t,e,i)}}class I1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Silver Fox",this.tier=5,this.pack="Custom",this.attack=3,this.health=6,this.initPet(o,s,r,a,l)}beforeAttack(t,e){this.logService.createLog({message:`${this.name} gained ${this.level} Gold.`,type:"ability",player:this.parent,tiger:e}),this.superBeforeAttack(t,e)}}class O1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fire Ant",this.tier=5,this.pack="Golden",this.attack=8,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=(0,at.shuffle)(this.parent.petArray.filter(r=>r!=this));s.sort((r,a)=>a.tier-r.tier);for(let r=0;r<this.level;r++){let a=s[r];if(null==a)break;a.increaseAttack(this.attack),this.logService.createLog({message:`${this.name} gave ${a.name} ${this.attack} attack.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0,pteranodon:i})}super.superFaint(t,e)}}class R1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockatoo",this.tier=4,this.pack="Golden",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}}class N1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blue Ringed Octopus",this.tier=5,this.pack="Golden",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class L1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Crane",this.tier=5,this.pack="Golden",this.attack=6,this.health=5,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){e==this.petAhead&&(this.abilityUses>=this.maxAbilityUses||(this.petAhead.increaseAttack(5),this.logService.createLog({message:`${this.name} gave ${this.petAhead.name} 5 attack.`,type:"ability",player:this.parent,tiger:i}),this.petAhead.givePetEquipment(new Fs),this.logService.createLog({message:`${this.name} gave ${this.petAhead.name} a Melon.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendHurt(t,e,i)))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class B1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Emu",this.tier=5,this.pack="Golden",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){let i=this.petAhead;if(!i||null!=this.parent.pet0)return;this.parent.pushPet(i,4),this.logService.createLog({message:`${this.name} pushed ${i.name} to the front.`,type:"ability",player:this.parent,tiger:e});let s=4*this.level;i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} health.`,type:"ability",player:this.parent,tiger:e})}}class $1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wildebeast",this.tier=6,this.pack="Golden",this.attack=8,this.health=6,this.initPet(o,s,r,a,l)}beforeAttack(t,e){this.parent.trumpets<2||this.abilityUses>=this.maxAbilityUses||(this.givePetEquipment(new zr),this.logService.createLog({message:`${this.name} gave itself a Coconut.`,type:"ability",player:this.parent,tiger:e}),this.parent.spendTrumpets(2,this),this.abilityUses++)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class V1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Highland Cow",this.tier=6,this.pack="Golden",this.attack=4,this.health=12,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Math.floor(this.health/3*this.level);this.parent.gainTrumpets(i,this)}}class H1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Catfish",this.tier=6,this.pack="Golden",this.attack=4,this.health=6,this.initPet(o,s,r,a,l)}}class F1 extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Pteranodon",this.tier=6,this.pack="Golden",this.attack=3,this.health=5,this.initPet(l,r,a,o,h)}friendFaints(t,e,i){if(this.abilityUses>=this.maxAbilityUses||e.name==this.name||!this.alive)return;let s=this.petService.createPet({attack:1,health:1,equipment:null,exp:e.exp,name:e.name,mana:0},this.parent);this.logService.createLog({message:`${this.name} summoned a 1/1 ${e.name} behind it.`,type:"ability",player:this.parent,randomEvent:!1,tiger:i}),this.parent.summonPetBehind(this,s)&&this.abilityService.triggerFriendSummonedEvents(s),this.abilityUses++,this.superFriendFaints(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class q1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Warthog",this.tier=6,this.pack="Golden",this.attack=9,this.health=6,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.level,r=Math.floor(this.attack/3);for(let a=0;a<r;a++){let o=this.parent.getRandomPet(null,!0,null,!0);if(null==o)break;o.increaseAttack(s),o.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${o.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0})}}}class U1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cobra",this.tier=6,this.pack="Golden",this.attack=12,this.health=6,this.initPet(o,s,r,a,l)}friendAheadAttacks(t,e,i){let s=this.parent.opponent.getRandomPet(null,null,!0);if(null==s)return;let r=Math.floor(.2*this.attack*this.level);this.snipePet(s,r,!0,i)}}class G1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Grizzly Bear",this.tier=6,this.pack="Golden",this.attack=6,this.health=8,this.attackCounter=0,this.initPet(o,s,r,a,l)}friendAttacks(t,e,i){i||this.attackCounter++,this.attackCounter%5==0&&(this.abilityService.setCounterEvent({callback:()=>{let s=(0,at.shuffle)(this.parent.opponent.petArray),r=6*this.level;for(let a=0;a<2;a++){let o=s[a];if(null==o)break;this.snipePet(o,r,!0,i)}},priority:this.attack,pet:this}),this.superFriendAttacks(t,e,i))}}class j1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="German Shephard",this.tier=6,this.pack="Golden",this.attack=10,this.health=6,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let s=Math.floor(this.attack*this.level*.25);e.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i})}}class W1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bird of Paradise",this.tier=6,this.pack="Golden",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class z1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Oyster",this.tier=6,this.pack="Golden",this.attack=2,this.health=10,this.initPet(o,s,r,a,l)}}class K1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rockhopper Penguin",this.tier=4,this.pack="Golden",this.attack=2,this.health=5,this.maxAbilityUses=1,this.abilityUses=0,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){this.abilityUses>=this.maxAbilityUses||null!=this.parent.pet0||(this.logService.createLog({message:`${this.name} jumps to the front!`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0),this.parent.gainTrumpets(12*this.level,this),this.abilityUses++,this.superEmptyFrontSpace(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class Q1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Marmoset",this.tier=1,this.pack="Star",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class Y1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jerboa",this.tier=4,this.pack="Custom",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}}class J1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frilled Dragon",this.tier=1,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=0;for(let s of this.parent.petArray)s!==this&&null!=s.faint&&i++;i*=this.level,this.increaseAttack(i),this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} attack and ${i} health.`,type:"ability",player:this.parent,tiger:e})}}class Z1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wombat",this.tier=2,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=It(t,this.parent),s=[],r=0;for(let o of i.petArray)null!=o.faint&&(o.tier>r?(s=[o],r=o.tier):o.tier==r&&s.push(o));if(0==s.length)return;let a=s[Math.floor(Math.random()*s.length)];this.faint=a.faint.bind(this),this.logService.createLog({message:`${this.name} has copied ${a.name}'s faint ability as level ${this.level}.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.length>1}),this.superStartOfBattle(t,e)}}class X1 extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frigatebird",this.tier=2,this.pack="Custom",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}friendGainedAilment(t,e){if(this.abilityUses>=this.level||e==this)return;let i=e.equipment;e.givePetEquipment(new Kp),this.abilityUses++,this.logService.createLog({message:`${this.name} removed ${i.name} from ${e.name} and gave ${e.name} Rice.`,type:"ability",player:this.parent})}resetPet(){super.resetPet()}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class eT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Aardvark",this.tier=3,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}enemySummoned(t,e,i){let s=2*this.level;this.increaseAttack(s),this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i})}}class tT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bear",this.tier=3,this.pack="Golden",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){const s=this.level,r=this.savedPosition,a=[];for(const o of this.parent.petArray)if(o.alive){const l=Math.abs(o.position-r);l>0&&l<=s&&a.push(o)}for(const o of this.parent.opponent.petArray)o.alive&&r+o.position+1<=s&&a.push(o);for(let o of a)o.givePetEquipment(new jp(this.logService,this.abilityService)),this.logService.createLog({message:`${this.name} gave ${o.name} Honey.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}class iT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Emperor Tamarin",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class nT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Porcupine",this.tier=3,this.pack="Custom",this.attack=2,this.health=6,this.initPet(o,s,r,a,l)}hurt(t,e,i){null==e||!e.alive||this.snipePet(e,3*this.level)}}class sT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wasp",this.tier=3,this.pack="Custom",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}}class rT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Dragonfly",this.tier=4,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}}class aT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lynx",this.tier=4,this.pack="Custom",this.attack=5,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i;i=t.player==this.parent?t.opponet:t.player;let s=0;for(let a of this.parent.petArray)s+=a.level;let r=i.getRandomPets(this.level,null,null,!0);for(let a of r)this.snipePet(a,s,!0,e);super.superStartOfBattle(t,e)}}class oT extends ne{constructor(){super(...arguments),this.name="Steak",this.equipmentClass="attack",this.tier=6,this.power=20,this.originalPower=20,this.uses=1,this.originalUses=1}}class lT extends ne{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Mushroom",this.tier=6,this.equipmentClass="afterFaint",this.callback=s=>{var r;let a=null===(r=s.originalAfterFaint)||void 0===r?void 0:r.bind(s);s.afterFaint=o=>{var l;if(null!=a&&a(o),"Mushroom"==(null===(l=s.equipment)||void 0===l?void 0:l.name))for(let h=0;h<this.multiplier;h++){let f=this.petService.createDefaultVersionOfPet(s,1,1);this.logService.createLog({message:`${s.name} Spawned ${f.name} (level ${f.level}) (Mushroom)${h>0?this.multiplierMessage:""}`,type:"ability",player:s.parent}),s.parent.summonPet(f,s.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(f)}}}}}class cT extends ne{constructor(){super(),this.name="Croissant",this.tier=3,this.equipmentClass="shop"}}class uT extends ne{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Lime",this.tier=2,this.power=1,this.originalPower=1}}class tb extends ne{constructor(t){super(),this.logService=t,this.name="Pie",this.tier=4,this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.originalBeforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=r=>{null!=s&&s(r);let a=4*this.multiplier,o=4*this.multiplier;e.increaseAttack(a),e.increaseHealth(o),this.logService.createLog({message:`${e.name} gained ${a} attack and ${o} health (Pie)${this.multiplierMessage}`,type:"equipment",player:e.parent})}}}}class hT extends ne{constructor(){super(...arguments),this.equipmentClass="defense",this.name="Lemon",this.tier=5,this.power=7,this.originalPower=7,this.uses=2,this.originalUses=2}}class ib extends ne{constructor(t){super(),this.logService=t,this.name="Pancakes",this.tier=6,this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.originalBeforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=r=>{null!=s&&s(r);for(let a of e.parent.petArray){if(e==a)continue;let o=2*this.multiplier,l=2*this.multiplier;a.increaseAttack(o),a.increaseHealth(l),this.logService.createLog({message:`${a.name} gained ${o} attack and ${l} health (Pancakes)${this.multiplierMessage}`,type:"equipment",player:e.parent})}}}}}class dT extends ne{constructor(){super(...arguments),this.name="Cucumber",this.equipmentClass="shop"}}class fT extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Banana",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.originalAfterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=a=>{var o;if(null!=r&&r(a),"Banana"==(null===(o=i.equipment)||void 0===o?void 0:o.name))for(let l=0;l<this.multiplier;l++){let h=new H_(this.logService,this.abilityService,i.parent,4,4,0,0);this.logService.createLog({message:`${i.name} Spawned Monkey (Banana)${l>0?this.multiplierMessage:""}`,type:"ability",player:i.parent}),i.parent.summonPet(h,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(h)}}}}}class nb extends ne{constructor(){super(...arguments),this.name="Cherry",this.equipmentClass="beforeStartOfBattle",this.callback=t=>{var e;let i=null===(e=t.originalBeforeStartOfBattle)||void 0===e?void 0:e.bind(t);t.beforeStartOfBattle=s=>{null!=i&&i(s),t.parent.gainTrumpets(2*this.multiplier,t,!1,this.multiplier,!0)}}}}class Jp extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Chocolate Cake",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.originalBeforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=a=>{var o;if(null!=r&&r(a),"Chocolate Cake"!=(null===(o=i.equipment)||void 0===o?void 0:o.name))return;let l=3*this.multiplier;this.logService.createLog({message:`${i.name} gained ${l} exp. (Chocolate Cake)${this.multiplierMessage}`,type:"equipment",player:i.parent}),i.increaseExp(l),i.health=0,null!=i.knockOut&&this.abilityService.setKnockOutEvent({callback:i.knockOut.bind(i),priority:i.attack}),i.removePerk()}}}}class pT extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Durian",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.originalBeforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=a=>{var o;if(null!=r&&r(a),"Durian"==(null===(o=i.equipment)||void 0===o?void 0:o.name)){for(let l=0;l<this.multiplier;l++){let f=(i.parent==a.player?a.opponet:a.player).getHighestHealthPet(),m=f.pet;if(null==m){console.warn("durian didn't find target");continue}let y=.33,S=Math.max(1,Math.floor(m.health*(1-y)));m.health=S,this.logService.createLog({message:`${this.name} reduced ${m.name} health by ${100*y}% (${S})${l>0?this.multiplierMessage:""}`,type:"ability",player:i.parent,randomEvent:f.random})}i.removePerk()}}}}}class sb extends ne{constructor(t){super(),this.logService=t,this.name="Eggplant",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.originalBeforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=r=>{null!=s&&s(r);for(let a=0;a<this.multiplier;a++){let o=e.parent.opponent,l=o.getPet(e.position);if(null==l)return;this.logService.createLog({message:`${e.name} pushed ${l.name} 1 space forward. (Eggplant)`,type:"equipment",player:e.parent}),o.pushPet(l,1)}}}}}class gT extends ne{constructor(t){super(),this.logService=t,this.name="Pita Bread",this.tier=6,this.power=0,this.equipmentClass="hurt",this.callback=e=>{var i;let s=null===(i=e.hurt)||void 0===i?void 0:i.bind(e);e.hurt=r=>{var a;if(null!=s&&s(r),"Pita Bread"!=(null===(a=e.equipment)||void 0===a?void 0:a.name)||!e.alive)return;let o=15*this.multiplier;e.increaseHealth(o);let l=`${e.name} gained ${o} health. (Pita Bread)${this.multiplierMessage}`;l+=".",this.logService.createLog({message:l,type:"equipment",player:e.parent}),e.removePerk()}}}}class mT extends ne{constructor(){super(...arguments),this.name="Potato",this.equipmentClass="shield-snipe",this.power=10,this.uses=2,this.originalUses=2,this.originalPower=10}}class vT extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Tomato",this.tier=6,this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.originalBeforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=a=>{var o;if(null!=r&&r(a),"Tomato"==(null===(o=i.equipment)||void 0===o?void 0:o.name)){for(let l=0;l<this.multiplier;l++){let f=(i.parent==a.player?a.opponet:a.player).getLastPet();null!=f?i.snipePet(f,10,!0,!1,!1,!0,!1):console.warn("tomato didn't find target")}i.removePerk()}}}}}class yT extends ne{constructor(){super(...arguments),this.name="Carrot",this.equipmentClass="shop"}}class _T extends ne{constructor(){super(...arguments),this.name="Grapes",this.equipmentClass="shop"}}class bT extends ne{constructor(t,e,i,s){super(),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Popcorn",this.equipmentClass="afterFaint",this.callback=r=>{var a;let o=null===(a=r.originalAfterFaint)||void 0===a?void 0:a.bind(r);r.afterFaint=l=>{var h,f;if(null!=o&&o(l),console.log("pet:",r),console.log("equipment:",r.equipment),console.log("this:",this),console.log(null===(h=r.equipment)||void 0===h?void 0:h.name),"Popcorn"==(null===(f=r.equipment)||void 0===f?void 0:f.name))for(let m=0;m<this.multiplier;m++){let y;y=r.parent==this.gameService.gameApi.player?this.gameService.gameApi.playerPetPool:this.gameService.gameApi.opponentPetPool;let S=y.get(r.tier),k=S[Math.floor(Math.random()*S.length)],D=this.petService.createPet({attack:null,equipment:null,exp:0,health:null,name:k,mana:0},r.parent);this.logService.createLog({message:`${r.name} Spawned ${D.name} (Popcorn)${m>0?this.multiplierMessage:""}`,type:"ability",player:r.parent,randomEvent:!0}),r.parent.summonPet(D,r.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(D)}}}}}class ST extends ne{constructor(){super(),this.name="Blueberry",this.equipmentClass="target"}}class wT extends ne{constructor(){super(),this.name="Donut",this.equipmentClass="target"}}class ET extends ne{constructor(){super(),this.name="Pineapple",this.equipmentClass="attack-snipe",this.power=2}}class kT extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Fig",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.originalBeforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=a=>{var o;if(null!=r&&r(a),"Fig"==(null===(o=i.equipment)||void 0===o?void 0:o.name)){for(let l=0;l<this.multiplier;l++){let f=(i.parent==a.player?a.opponet:a.player).getLowestHealthPet().pet;if(null==f)return void console.warn("fig didn't find target");i.snipePet(f,4,!0,!1,!1,!0,!1)}i.removePerk()}}}}}class rb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monty",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=3,this.attack=3,this.initPet(o,s,r,a,l)}}class CT extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Easter Egg",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.originalAfterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=a=>{var o;if(null!=r&&r(a),"Easter Egg"==(null===(o=i.equipment)||void 0===o?void 0:o.name))for(let l=0;l<this.multiplier;l++){let h=new rb(this.logService,this.abilityService,i.parent,null,null,0,0);this.logService.createLog({message:`${i.name} Spawned Monty (Easter Egg)${l>0?this.multiplierMessage:""}`,type:"ability",player:i.parent}),i.parent.summonPet(h,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(h)}}}}}class AT extends ne{constructor(t){super(),this.logService=t,this.name="Fairy Dust",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{let i=r=>{if(null!=r.parent.pet0)return;let a=2*this.multiplier;this.logService.createLog({message:`${r.name} pushed itself to the front and gained ${a} mana(Fairy Dust)${this.multiplierMessage}.`,type:"ability",player:r.parent}),r.parent.pushPetToFront(r,!0),r.increaseMana(a)},s=e.emptyFrontSpace;e.emptyFrontSpace=(r,a)=>{var o;null!=s&&s(r,a),"Tomato"==(null===(o=e.equipment)||void 0===o?void 0:o.name)&&(i(e),e.removePerk())}}}}class ab extends ne{constructor(t){super(),this.logService=t,this.name="Gingerbread Man",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.originalBeforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=r=>{null!=s&&s(r);let a=1*this.multiplier;this.logService.createLog({message:`${e.name} gained ${a} experience (Gingerbread Man)${this.multiplierMessage}.`,type:"equipment",player:e.parent}),e.increaseExp(a)}}}}class PT extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Golden Egg",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.originalBeforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=a=>{var o;if(null!=r&&r(a),"Golden Egg"!=(null===(o=i.equipment)||void 0===o?void 0:o.name))return;let h=(i.parent==a.player?a.opponet:a.player).petArray,f=null;for(let m of h)if(m.alive){f=m;break}if(null!=f){for(let m=0;m<this.multiplier;m++)i.snipePet(f,6,!1,!1,!1,!0,!1);i.removePerk()}else console.warn("golden egg didn't find target")}}}}class ob extends ne{constructor(t){super(),this.logService=t,this.name="Health Potion",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.originalBeforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=r=>{null!=s&&s(r);let a=2*this.multiplier,o=e.parent.furthestUpPet;null!=o&&(this.logService.createLog({message:`${e.name} gave ${a} health to ${o.name} (Health Potion)${this.multiplierMessage}.`,type:"equipment",player:e.parent}),o.increaseHealth(a))}}}}class lb extends ne{constructor(t){super(),this.logService=t,this.name="Love Potion",this.equipmentClass="beforeStartOfBattle",this.callback=e=>{var i;let s=null===(i=e.originalBeforeStartOfBattle)||void 0===i?void 0:i.bind(e);e.beforeStartOfBattle=r=>{null!=s&&s(r);let a=e.petAhead;if(null==a)return;let o=2*this.multiplier;this.logService.createLog({message:`${e.name} gave ${a.name} ${o} health (Love Potion)${this.multiplierMessage}.`,type:"equipment",player:e.parent}),a.increaseHealth(o)}}}}class DT extends ne{constructor(){super(),this.name="Magic Beans",this.equipmentClass="shop"}}class Zp extends ne{constructor(t){super(),this.logService=t,this.name="Rambutan",this.equipmentClass="beforeAttack",this.callback=e=>{var i;let s=null===(i=e.originalBeforeAttack)||void 0===i?void 0:i.bind(e);e.beforeAttack=r=>{var a;if(null!=s&&s(r),"Rambutan"!=(null===(a=e.equipment)||void 0===a?void 0:a.name))return;let l=3*this.multiplier;this.logService.createLog({message:`${e.name} gained ${l} mana. (Rambutan)${this.multiplierMessage}`,type:"equipment",player:e.parent}),e.increaseMana(l)}}}}class TT extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Squash",this.tier=3,this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.originalBeforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=a=>{var o;if(null!=r&&r(a),"Squash"==(null===(o=i.equipment)||void 0===o?void 0:o.name)){for(let l=0;l<this.multiplier;l++){let f=(i.parent==a.player?a.opponet:a.player).pet0;if(null==f||!f.alive)return void console.warn("squash didn't find target");let m=6,y=Math.max(1,f.health-m);f.health=y,this.logService.createLog({message:`${this.name} reduced ${f.name} health by ${m} (${y})${l>0?this.multiplierMessage:""}`,type:"equipment",player:i.parent})}i.removePerk()}}}}}class xT extends ne{constructor(t,e,i,s){super(),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Faint Bread",this.equipmentClass="afterFaint",this.callback=r=>{var a;let o=null===(a=r.originalAfterFaint)||void 0===a?void 0:a.bind(r);r.afterFaint=l=>{var h;if(null!=o&&o(l),"Faint Bread"==(null===(h=r.equipment)||void 0===h?void 0:h.name))for(let f=0;f<this.multiplier;f++){let m=this.petService.getRandomFaintPet(r.parent,1);this.logService.createLog({message:`${r.name} Spawned ${m.name} (Faint Bread)${f>0?this.multiplierMessage:""}`,type:"ability",player:r.parent,randomEvent:!0}),r.parent.summonPet(m,r.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(m)}}}}}class MT extends ne{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Seaweed",this.equipmentClass="beforeAttack",this.callback=s=>{var r;let a=null===(r=s.originalBeforeAttack)||void 0===r?void 0:r.bind(s);s.beforeAttack=o=>{var l;if(null!=a&&a(o),"Seaweed"!=(null===(l=s.equipment)||void 0===l?void 0:l.name))return;let h=this.petService.createPet({name:"Baby Urchin",attack:s.attack,health:s.health,mana:s.mana,exp:s.exp,equipment:null},s.parent);this.logService.createLog({message:`${s.name} transformed into ${h.name} (Seaweed)`,type:"equipment",player:s.parent}),s.parent.transformPet(s,h)}}}}class IT extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Caramel",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.originalBeforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=a=>{var o;if(null!=r&&r(a),"Caramel"!=(null===(o=i.equipment)||void 0===o?void 0:o.name))return;let l=i.parent.petArray.filter(S=>{var k;return S.alive&&"Caramel"===(null===(k=S.equipment)||void 0===k?void 0:k.name)});if(0===l.length)return;let h=3*l.length,m=(i.parent===a.player?a.opponet:a.player).getHighestHealthPet(),y=m.pet;if(null!=y){for(let S of l)S.removePerk(),this.logService.createLog({message:`${S.name} lost Caramel equipment`,type:"ability",player:i.parent,tiger:!1});i.snipePet(y,h,m.random,!1,!1,!0,!1)}}}}}class OT extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Baguette",this.equipmentClass="beforeAttack",this.callback=i=>{var s;let r=null===(s=i.originalBeforeAttack)||void 0===s?void 0:s.bind(i);i.beforeAttack=a=>{var o;if(null!=r&&r(a),"Baguette"!=(null===(o=i.equipment)||void 0===o?void 0:o.name))return;let h=i.parent.opponent.furthestUpPet;if(null!=h&&null!=h.equipment){let f=h.equipment.name;h.removePerk(),this.logService.createLog({message:`${i.name} removed ${f} from ${h.name} (Baguette)`,type:"equipment",player:i.parent}),i.removePerk()}}}}}class RT extends _{constructor(t,e,i,s,r,a,o,l,h,f){super(t,e,r),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Seagull",this.tier=4,this.pack="Custom",this.attack=4,this.health=3,this.initPet(h,a,o,l,f)}friendSummoned(t,e,i){this.abilityUses>=this.maxAbilityUses||null!=this.equipment&&(e.givePetEquipment(this.getInstanceOfAllEquipment().get(this.equipment.name)),this.logService.createLog({message:`${this.name} gave ${e.name} a ${this.equipment.name}`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendSummoned(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}getInstanceOfAllEquipment(){let t=new Map;return t.set("Garlic",new Uo),t.set("Meat Bone",new Wp),t.set("Steak",new oT),t.set("Melon",new Fs),t.set("Honey",new jp(this.logService,this.abilityService)),t.set("Chili",new bh(this.logService,this.abilityService)),t.set("Mushroom",new lT(this.logService,this.abilityService,this.petService)),t.set("Coconut",new zr),t.set("Peanut",new fc),t.set("Croissant",new cT),t.set("Rice",new Kp),t.set("Lime",new uT),t.set("Egg",new q_(this.logService,this.abilityService)),t.set("Salt",new $p),t.set("Pie",new tb(this.logService)),t.set("Skewer",new Yp(this.logService)),t.set("Lemon",new hT),t.set("Pancakes",new ib(this.logService)),t.set("Strawberry",new Q_(this.logService,this.abilityService)),t.set("Cucumber",new dT),t.set("Cheese",new Vp),t.set("Grapes",new _T),t.set("Carrot",new yT),t.set("Pepper",new Hp),t.set("Popcorn",new bT(this.logService,this.abilityService,this.petService,this.gameService)),t.set("Cherry",new nb),t.set("Chocolate Cake",new Jp(this.logService,this.abilityService)),t.set("Eggplant",new sb(this.logService)),t.set("Potato",new mT),t.set("Banana",new fT(this.logService,this.abilityService)),t.set("Onion",new x_(this.logService)),t.set("Pita Bread",new gT(this.logService)),t.set("Tomato",new vT(this.logService,this.abilityService)),t.set("Durian",new pT(this.logService,this.abilityService)),t.set("Fortune Cookie",new Fp),t.set("Blueberry",new ST),t.set("Donut",new wT),t.set("Pineapple",new ET),t.set("Fig",new kT(this.logService,this.abilityService)),t.set("Rambutan",new Zp(this.logService)),t.set("Love Potion",new lb(this.logService)),t.set("Fairy Dust",new AT(this.logService)),t.set("Gingerbread Man",new ab(this.logService)),t.set("Easter Egg",new CT(this.logService,this.abilityService)),t.set("Health Potion",new ob(this.logService)),t.set("Magic Beans",new DT),t.set("Golden Egg",new PT(this.logService,this.abilityService)),t.set("Squash",new TT(this.logService,this.abilityService)),t.set("Honeydew Melon",new A_),t.set("Ambrosia",new D_),t.set("Faint Bread",new xT(this.logService,this.abilityService,this.petService,this.gameService)),t.set("Seaweed",new MT(this.logService,this.abilityService,this.petService)),t.set("Caramel",new IT(this.logService,this.abilityService)),t.set("Baguette",new OT(this.logService,this.abilityService)),t}}class Xp extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Alpaca",this.tier=6,this.pack="Star",this.attack=3,this.health=7,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){e instanceof Xp||this.abilityUses>=this.maxAbilityUses||(e.increaseExp(3),this.logService.createLog({message:`${this.name} gave ${e.name} 3 exp.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendSummoned(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class NT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hyena",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){switch(this.level){case 1:this.level1Ability(t,e);break;case 2:this.level2Ability(t,e);break;case 3:this.level3Ability(t,e)}}level1Ability(t,e){let i=[...t.player.petArray,...t.opponet.petArray];for(let s of i){let r=s.health;s.health=s.attack,s.attack=r}this.logService.createLog({message:`${this.name} swapped all pets attack and health.`,type:"ability",player:this.parent,tiger:e})}level2Ability(t,e){this.shufflePets(t.player),this.shufflePets(t.opponet),this.logService.createLog({message:`${this.name} shuffled positions of all pets.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0})}level3Ability(t,e){this.level1Ability(t,e),this.level2Ability(t,e)}shufflePets(t){let e=t.petArray;k_(e);for(let i=0;i<e.length;i++)t[`pet${i}`]=e[i]}}class LT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Moose",this.tier=5,this.pack="Custom",this.attack=5,this.health=6,this.initPet(o,s,r,a,l)}}class BT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lioness",this.tier=6,this.pack="Custom",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}}class $T extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Tapir",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let s=this.parent.petArray.filter(o=>"Tapir"==o.name),r=this.parent.getRandomPet(s,!0);if(null==r)return void super.superAfterFaint(t,e,i);r=(0,at.clone)(r),r.exp=this.minExpForLevel;let a=this.petService.createDefaultVersionOfPet(r);this.logService.createLog({message:`${this.name} spawned a ${a.name} level ${a.level}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.parent.summonPet(a,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(r),super.superAfterFaint(t,e,i)}}class VT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Walrus",this.tier=6,this.pack="Custom",this.attack=7,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.getRandomPets(this.level,null,!0,null);for(let r of s)r.givePetEquipment(new M0),this.logService.createLog({message:`${this.name} gave ${r.name} a Peanut Butter.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0})}}class HT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="White Tiger",this.tier=6,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=[],s=this.petBehind();for(;s&&i.length<this.level;)i.push(s),s=s.petBehind();for(let r of i)this.logService.createLog({message:`${this.name} gave ${r.name} +3 experience.`,type:"ability",player:this.parent,tiger:e}),r.increaseExp(3)}}class FT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amargasaurus",this.tier=5,this.pack="Star",this.attack=5,this.health=7,this.healthRestoredThisTurn=0,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){let s;if(e instanceof K_?(s=e.parent.getPetAtPosition(e.savedPosition),s.originalHealth=e.originalHealth):s=e,!s)return void this.superFriendHurt(t,e,i);if(s===this)return void this.superFriendHurt(t,e,i);const r=15*this.level,a=s.originalHealth-s.health;if(a<=0||this.healthRestoredThisTurn>=r)return void this.superFriendHurt(t,e,i);const l=Math.min(a,r-this.healthRestoredThisTurn);l>0&&(this.logService.createLog({message:`${this.name} restored ${l} health to ${s.name}.`,type:"ability",player:this.parent,tiger:i}),s.increaseHealth(l),this.healthRestoredThisTurn+=l),this.superFriendHurt(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.healthRestoredThisTurn=0}}class qT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Opossum",this.tier=1,this.pack="Golden",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class UT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kiwi",this.tier=1,this.pack="Star",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}}class GT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Firefly",this.tier=1,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}faint(t,e,i){const s=this.level,r=this.savedPosition,a=[];for(const o of this.parent.petArray)if(o.alive){const l=Math.abs(o.position-r);l>0&&l<=s&&a.push(o)}for(const o of this.parent.opponent.petArray)o.alive&&r+o.position+1<=s&&a.push(o);if(a.length>0){this.logService.createLog({message:`${this.name} dealt 1 damage to ${a.length} pets.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});for(const o of a)this.snipePet(o,1,!1,e,i)}this.superFaint(t,e)}}class jT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bass",this.tier=2,this.pack="Star",this.attack=3,this.health=3,this.sellPets=["Beaver","Duck","Pig","Pillbug","Kiwi","Mouse","Frog","Bass","Tooth Billed Pigeon"],this.initPet(o,s,r,a,l)}faint(t,e,i){const s=this.parent.petArray.filter(r=>r!==this&&this.sellPets.includes(r.name)&&r.level>=2);if(s.length>0){const r=s[Math.floor(Math.random()*s.length)];if(null==r)return;const a=this.level;this.logService.createLog({message:`${this.name} gave ${r.name} +${a} experience.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),r.increaseExp(a)}this.superFaint(t,e)}}class WT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pigeon",this.tier=1,this.pack="Turtle",this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}}class wh extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hare",this.tier=3,this.pack="Puppy",this.health=4,this.attack=4,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.opponent.petArray,s=[];for(let o of i)o.equipment&&this.isUsefulPerk(o.equipment.name)&&s.push(o);if(0==s.length)return;let r=s[Math.floor(Math.random()*s.length)],a=(0,at.cloneDeep)(r.equipment);a.reset(),this.logService.createLog({message:`${this.name} copied ${a.name} from ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:s.length>0}),this.givePetEquipment(a),this.abilityUses++,this.superBeforeAttack(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}isUsefulPerk(t){return wh.USEFUL_PERKS.has(t)}}wh.USEFUL_PERKS=new Map([["Lime",2],["Meat Bone",2],["Cherry",2],["Fairy Dust",2],["Garlic",3],["Gingerbread Man",3],["Fig",3],["Cucumber",3],["Croissant",3],["Squash",3],["Banana",4],["Love Potion",4],["Pie",4],["Grapes",4],["Cheese",4],["Cod Roe",4],["Salt",4],["Fortune Cookie",4],["Easter Egg",5],["Magic Beans",5],["Chili",5],["Lemon",5],["Durian",5],["Honeydew Melon",5],["Maple Syrup",5],["Cocoa Bean",5],["White Okra",5],["Popcorn",6],["Steak",6],["Pancakes",6],["Yggdrasil Fruit",6],["Melon",6],["Tomato",6],["Sudduth Tomato",6],["Pita Bread",6],["Seaweed",5],["Caramel",4],["Baguette",4]]);class zT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baku",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}}class eg extends ne{constructor(){super(...arguments),this.name="Spooked",this.equipmentClass="ailment-defense",this.power=-1,this.originalPower=-1}}class KT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="???",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}endTurn(t){const e=this.petAhead;if(e){const i=this.level;this.logService.createLog({message:`${this.name} gave ${e.name} +${i} attack and Spooked.`,type:"ability",player:this.parent}),e.increaseAttack(i),e.givePetEquipment(new eg)}}}class QT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Axehandle Hound",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.opponent.petArray,s=new Map;for(let o of i)s.has(o.name)?s.get(o.name).push(o):s.set(o.name,[o]);let r=[];for(let[o,l]of s)l.length>1&&r.push(...l);if(0==r.length)return;let a=r[Math.floor(Math.random()*r.length)];null!=a&&(this.logService.createLog({message:`${this.name} sniped ${a.name} for ${10*this.level} damage`,type:"ability",player:this.parent,tiger:e}),this.snipePet(a,10*this.level,!0,e),this.superStartOfBattle(t,e))}}class YT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Barghest",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.opponent.petArray;i.reverse();let s=[],r=this.level;for(let a of i){if(s.length>=r)break;null==a.equipment&&s.push(a)}for(let a of s)this.logService.createLog({message:`${this.name} gave ${a.name} Spooked`,type:"ability",player:this.parent,tiger:e}),a.givePetEquipment(new eg);this.superStartOfBattle(t,e)}}class JT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tsuchinoko",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){this.parent.pushPetToFront(this,!0),this.logService.createLog({message:`${this.name} pushed itself to the front and gained ${this.level} experience.`,type:"ability",player:this.parent,tiger:e}),this.increaseExp(this.level),this.superStartOfBattle(t,e)}}class ZT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Murmel",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}friendGainedExperience(t,e,i){if(e.parent!=this.parent)return;let s={attack:this.level,health:0};this.logService.createLog({message:`${this.name} gained ${s.attack} attack.`,type:"ability",player:this.parent,tiger:i}),this.increaseAttack(s.attack),this.superFriendGainedExperience(t,e,i)}}class XT extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Alchemedes",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.petAhead;null!=i&&(this.logService.createLog({message:`${this.name} gave ${i.name} ${this.level} mana.`,type:"ability",player:this.parent,randomEvent:!1}),i.increaseMana(this.level),this.superStartOfBattle(t,e))}}class ex extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pengobble",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.maxAbilityUses=2,this.abilityUses=0,this.isTriggering=!1,this.initPet(o,s,r,a,l)}gainedMana(t,e){if(this.isTriggering||this.abilityUses>=this.maxAbilityUses)return;this.isTriggering=!0;const i=2*this.level;this.logService.createLog({message:`${this.name} gained an extra ${i} bonus mana.`,type:"ability",player:this.parent,tiger:e}),this.increaseMana(i),this.abilityUses++,this.isTriggering=!1,this.superGainedMana(t,e)}setAbilityUses(){super.setAbilityUses(),this.abilityUses=0,this.maxAbilityUses=2}}class tx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Warf",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}gainedMana(t,e){let i=this.parent.opponent.getRandomPet([],null,!0);null!=i&&(this.snipePet(i,this.level,!0,e),this.superGainedMana(t,e))}}class ix extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bunyip",this.tier=1,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s;s=this.parent==t.player?t.playerRollAmount:t.opponentRollAmount;let r=this.level+s;this.logService.createLog({message:`${this.name} set its health to ${r}.`,type:"ability",player:this.parent,tiger:e}),this.health=r,this.superStartOfBattle(t,e)}}class cb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="CrackedEgg",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}}class nx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sneaky Egg",this.tier=1,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i={attack:4*this.level,health:2*this.level};this.health=0;let s=new cb(this.logService,this.abilityService,this.parent,i.health,i.attack,0);this.logService.createLog({message:`${this.name} spawned a ${i.attack}/${i.health} Cracked Egg`,type:"ability",player:this.parent,tiger:e}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(s),this.superStartOfBattle(t,e)}}class sx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cuddle Toad",this.tier=1,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class rx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ghost Kitten",this.tier=2,this.pack="Unicorn",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}}class ax extends ne{constructor(){super(...arguments),this.name="Cold",this.equipmentClass="ailment-defense",this.power=-5,this.originalPower=-5,this.uses=1,this.originalUses=1}}class ox extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Frost Wolf",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.petArray,r=[];s[0]&&r.push(s[0]);for(let a of r){const o=-5*this.level,l=new ax;l.power=o,l.originalPower=o;let h=".";2===this.level?h=" twice for double effect.":3===this.level&&(h=" thrice for triple effect."),this.logService.createLog({message:`${this.name} made ${a.name} Cold${h}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),a.givePetEquipment(l)}this.superFaint(t,e)}}class lx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mothman",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}onAilmentGained(t,e){if(this.abilityUses>=this.maxAbilityUses)return;const i=this.level;this.logService.createLog({message:`${this.name} gained +${i} attack and +${i} health because ${t.name} gained an ailment.`,type:"ability",player:this.parent,tiger:e}),this.increaseAttack(i),this.increaseHealth(i),this.abilityUses++}friendGainedAilment(t,e){this.onAilmentGained(e,!1)}enemyGainedAilment(t,e,i){this.onAilmentGained(e,i),this.superEnemyGainedAilment(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=5}}class cx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Drop Bear",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0);let i=3*this.level,s=this.parent.opponent.getLastPet();null!=s&&this.snipePet(s,i,!1,e)}}class ux extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jackalope",this.tier=2,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}friendJumped(t,e,i){let s=this.parent.opponent.getRandomPet();null!=s&&(this.snipePet(s,2*this.level,!0,i),this.superFriendJumped(t,e,i))}}class hx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Lucky Cat",this.tier=3,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}anyoneLevelUp(t,e,i){if(e!=this)return;let s=2;3==this.level&&(s=4),this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.increaseAttack(s),this.increaseHealth(s),this.superAnyoneLevelUp(t,e,i)}}class dx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ogopogo",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){const r=this.parent.petArray.filter(a=>a!==this).slice(0,this.level);if(0!==r.length){for(const a of r)this.logService.createLog({message:`${this.name} gave ${a.name} +1 experience.`,type:"ability",player:this.parent,tiger:e}),a.increaseExp(1);this.superStartOfBattle(t,e)}else this.superStartOfBattle(t,e)}}class fx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Thunderbird",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.furthestUpPet;if(null==i)return;let s=3*this.level;this.logService.createLog({message:`${this.name} gave ${i.name} ${s} mana.`,type:"ability",player:this.parent,tiger:e}),i.increaseMana(s),this.superStartOfBattle(t,e)}}class px extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Gargoyle",this.tier=2,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.mana*this.level;s+=2*this.level;let r=this.petBehind();null!=r&&(this.logService.createLog({message:`${this.name} spent ${this.mana} mana and gave ${s} health to ${r.name}.`,type:"ability",player:this.parent,tiger:e}),r.increaseHealth(s),this.mana=0,this.superFaint(t,e))}}class gx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bigfoot",this.tier=2,this.pack="Unicorn",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class mx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Skeleton Dog",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.getRandomPets(this.level,[this],!0);for(let r of s)this.logService.createLog({message:`${this.name} gave 1 attack and 1 health to ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),r.increaseAttack(1),r.increaseHealth(1);this.superFaint(t,e)}}class vx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mandrake",this.tier=3,this.pack="Unicorn",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let a,s=this.parent.opponent.petArray.filter(o=>o.tier<=2*this.level),r=s.filter(o=>o.faintPet);r.length>0?a=r[Math.floor(Math.random()*r.length)]:(k_(s),a=s[0]),this.logService.createLog({message:`${this.name} made ${a.name} Dazed.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),a.givePetEquipment(new C_),this.superFaint(t,e)}}class yx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fur-Bearing Trout",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=[],r=this;for(;s.length<this.level;){let a=r.petBehind();if(null==a)break;a.equipment instanceof Zp||s.push(a),r=a}if(0!==s.length){for(let a of s)this.logService.createLog({message:`${this.name} gave ${a.name} a Rambutan.`,type:"ability",player:this.parent,tiger:e}),a.givePetEquipment(new Zp(this.logService));this.superFaint(t,e)}}}class _x extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mana Hound",this.tier=3,this.pack="Unicorn",this.attack=5,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let s;s=this.parent==t.player?t.playerRollAmount:t.opponentRollAmount,s=Math.min(s,5);let r=this.petAhead;if(null==r)return;let a=s*this.level;this.logService.createLog({message:`${this.name} gave ${r.name} ${a} mana.`,type:"ability",player:this.parent,tiger:e}),r.increaseMana(a),this.superStartOfBattle(t,e)}}class bx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Calygreyhound",this.tier=3,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e,i){if(0==this.mana)return;let s=this.parent.opponent.getHighestHealthPets(2),r=this.level*this.mana;for(let a of s)a.health=Math.max(1,a.health-r),this.logService.createLog({message:`${this.name} reduced ${a.name}'s health by ${r} (${a.health}).`,type:"ability",player:this.parent,tiger:e});this.mana=0,this.superFaint(t,e)}}class Sx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Brain Cramp",this.tier=3,this.pack="Unicorn",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;let i=2*this.level;this.logService.createLog({message:`${this.name} pushed itself to the front, gained ${i} attack and gained Melon.`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0),this.increaseAttack(i),this.givePetEquipment(new Fs)}}class wx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Minotaur",this.tier=4,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}friendAheadAttacks(t,e,i){let s=this.level*e.level;this.logService.createLog({message:`${this.name} gained ${s} attack and ${s} health.`,type:"ability",player:this.parent,tiger:i}),this.increaseAttack(s),this.increaseHealth(s),this.superFriendAheadAttacks(t,e,i)}}class Ex extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Wyvern",this.tier=3,this.pack="Unicorn",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}}class kx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ouroboros",this.tier=3,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}}class Cx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Griffin",this.tier=3,this.pack="Unicorn",this.attack=5,this.health=4,this.initPet(o,s,r,a,l)}}class Ax extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kraken",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=7,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=[...this.parent.petArray,...this.parent.opponent.petArray];i=i.filter(s=>s.alive&&s!==this);for(let s of i){let r=1==this.level?.15:2==this.level?.3:.45,a=Math.max(1,Math.floor(s.health*(1-r)));s.health=a,this.logService.createLog({message:`${this.name} reduced ${s.name} health by ${(100*r).toFixed(0)}% (${a})`,type:"ability",player:this.parent,tiger:e})}this.superStartOfBattle(t,e)}}class Px extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Visitor",this.tier=4,this.pack="Unicorn",this.attack=7,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){const s=this.level,r=this.savedPosition,a=[];for(const o of this.parent.petArray)if(o.alive){const l=Math.abs(o.position-r);l>0&&l<=s&&a.push(o)}for(const o of this.parent.opponent.petArray)o.alive&&r+o.position+1<=s&&a.push(o);for(let o of a)o.givePetEquipment(new qp),this.logService.createLog({message:`${this.name} made ${o.name} Exposed.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}}class Dx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Vampire Bat",this.tier=5,this.pack="Unicorn",this.attack=2,this.health=5,this.maxAbilityUses=2,this.abilityUses=0,this.initPet(o,s,r,a,l)}enemyGainedAilment(t,e,i){if(console.log("enemyGainedAilment"),this.abilityUses>=this.maxAbilityUses)return;let r=e.health,a=this.snipePet(e,4*this.level,!1,i),o=Math.min(a,r);this.logService.createLog({message:`${this.name} gained ${o} health.`,type:"ability",player:this.parent,tiger:i}),this.increaseHealth(o),this.abilityUses++,this.superEnemyGainedAilment(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class Tx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tiger Bug",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0)return;this.logService.createLog({message:`${this.name} pushed itself to the front.`,type:"ability",player:this.parent,tiger:e}),this.parent.pushPetToFront(this,!0);let i=this.parent.opponent.furthestUpPet,s=null==i?void 0:i.petBehind(),r=[];i&&r.push(i),s&&r.push(s);let a=3*this.level;for(let o of r)this.snipePet(o,a,!1,e)}}class xx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tatzelwurm",this.tier=4,this.pack="Unicorn",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}friendAheadFaints(t,e,i){let s=2*this.level;3==e.level&&(s*=2);let r=this.parent.opponent.getRandomPet();null!=r&&(this.snipePet(r,s,!0,i),this.superFriendAheadFaints(t,e,i))}}class Mx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cyclops",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}anyoneLevelUp(t,e,i){this.abilityUses>=this.maxAbilityUses||e.parent==this.parent&&(this.logService.createLog({message:`${this.name} gave ${e.name} 1 exp and 2 mana.`,type:"ability",player:this.parent,tiger:i}),e.increaseExp(1),e.increaseMana(2),this.abilityUses++,this.superAnyoneLevelUp(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class ub extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Goat",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class hb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Lion",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class db extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chim-Snake",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class Ix extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chimera",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=6,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){if(this.mana<=0)return void super.superAfterFaint(t,e,i);const s=Math.floor(this.mana/2),o=3+1*s,l=3+2*s;this.logService.createLog({message:`${this.name} spent ${this.mana} mana.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});let h=new hb(this.logService,this.abilityService,this.parent,l,o);if(this.logService.createLog({message:`${this.name} spawned a ${h.name} ${o}/${l}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(h,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(h),1==this.level)return this.mana=0,void super.superAfterFaint(t,e,i);let f=new ub(this.logService,this.abilityService,this.parent,l,o);if(this.logService.createLog({message:`${this.name} spawned a ${f.name} ${o}/${l}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(f,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(f),2==this.level)return this.mana=0,void super.superAfterFaint(t,e,i);let m=new db(this.logService,this.abilityService,this.parent,l,o);this.logService.createLog({message:`${this.name} spawned a ${m.name} ${o}/${l}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(m,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(m),this.mana=0,super.superAfterFaint(t,e,i)}}class Ox extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Roc",this.tier=4,this.pack="Unicorn",this.attack=4,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=[],s=this.petAhead;for(;s;)i.push(s),s=s.petAhead;if(0==i.length)return;let r=this.parent.petArray.filter(a=>a==this||!i.includes(a));for(let a=0;a<3*this.level;a++){let o=this.parent.getRandomPet(r,!0);this.logService.createLog({message:`${this.name} gave ${o.name} 2 mana.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),o.increaseMana(2)}this.superStartOfBattle(t,e)}}class Rx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Worm of Sand",this.tier=4,this.pack="Unicorn",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}}class Nx extends _{constructor(t,e,i,s,r,a,o,l,h,f,m,y){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Abomination",this.tier=4,this.pack="Unicorn",this.attack=6,this.health=5,this.initPet(l,r,a,o,h),this.abominationSwallowedPet1=f,this.abominationSwallowedPet2=m,this.abominationSwallowedPet3=y}startOfBattle(t,e){let i=[],s=!1,r=!1,a=!1;for(let o=0;o<this.level;o++)null==this.abominationSwallowedPet1||s?null==this.abominationSwallowedPet2||r?null!=this.abominationSwallowedPet3&&!a&&(i.push(this.abominationSwallowedPet3),a=!0):(i.push(this.abominationSwallowedPet2),r=!0):(i.push(this.abominationSwallowedPet1),s=!0);for(let o of i)this.logService.createLog({message:`${this.name} used swallowed ${o}'s Ability.`,type:"ability",player:this.parent,tiger:e}),this.petService.createPet({attack:null,health:null,mana:null,equipment:null,name:o,exp:0},this.parent).originalStartOfBattle.bind(this)(t,e)}}class Lx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Red Dragon",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=8,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.opponent.petArray;i.reverse();let s=[];for(let r of i)if(!(r.equipment instanceof pc)){if(s.length>=this.level)break;s.push(r)}for(let r of s)this.logService.createLog({message:`${this.name} gave ${r.name} Crisp.`,type:"ability",player:this.parent,tiger:e}),r.givePetEquipment(new pc);this.superStartOfBattle(t,e)}}class Bx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Unicorn",this.tier=4,this.pack="Unicorn",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}friendGainedAilment(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=2*this.level;this.logService.createLog({message:`${this.name} removed ailment from ${e.name}.`,type:"ability",player:this.parent}),this.logService.createLog({message:`${this.name} gave ${e.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent}),e.removePerk(),e.increaseAttack(i),e.increaseHealth(i),this.abilityUses++}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class $x extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Loveland Frogman",this.tier=5,this.pack="Unicorn",this.attack=1,this.health=5,this.initPet(o,s,r,a,l)}beforeFriendAttacks(t,e,i){let s={attack:1*this.level,health:2*this.level};this.logService.createLog({message:`${this.name} gave ${e.name} ${s.attack} attack and ${s.health} health.`,type:"ability",player:this.parent}),e.increaseAttack(s.attack),e.increaseHealth(s.health),this.superBeforeFriendAttacks(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Vx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amalgamation",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=5,this.maxAbilityUses=2,this.abilityUses=0,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=3*this.level,r=4*this.level;this.logService.createLog({message:`${this.name} gave ${e.name} +${s} attack, +${r} mana, and Spooked.`,type:"ability",player:this.parent,tiger:i}),e.increaseAttack(s),e.increaseMana(r),e.givePetEquipment(new eg),this.abilityUses++,this.superFriendSummoned(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class fb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salmon of Knowledge",this.tier=5,this.pack="Unicorn",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=2*this.level,s=this.parent.petArray,r=this.parent.opponent.petArray,a=[];null!=s[0]&&a.push(s[0]),null!=s[1]&&a.push(s[1]),null!=r[0]&&a.push(r[0]),null!=r[1]&&a.push(r[1]);for(let o of a)o!=this&&(this.logService.createLog({message:`${this.name} gave ${o.name} ${i} exp.`,type:"ability",player:this.parent}),o.increaseExp(i));this.superStartOfBattle(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Hx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Jersey Devil",this.tier=5,this.pack="Unicorn",this.attack=5,this.health=4,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let r=this.parent===t.player?t.playerLevel3Sold:t.opponentLevel3Sold;r=Math.min(r,5);let a=this.level*r;this.logService.createLog({message:`${this.name} gave ${e.name} ${a} attack and ${a} health`,type:"ability",player:this.parent,tiger:i}),e.increaseAttack(a),e.increaseHealth(a),this.superFriendSummoned(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Fx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pixiu",this.tier=5,this.pack="Unicorn",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){this.mana<4||(this.logService.createLog({message:`${this.name} spent 4 mana and gained ${3*this.level} gold for next turn.`,type:"ability",player:this.parent,tiger:e}),this.mana-=4,this.superFaint(t,e))}}class qx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kitsune",this.tier=5,this.pack="Unicorn",this.attack=2,this.health=7,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(null==this.petAhead)return;let s=e.mana;if(0==s)return;e.mana=0;let r=this.petAhead;null!=r&&(this.logService.createLog({message:`${this.name} took ${s} mana from ${e.name} and gave it to ${r.name} +${2*this.level}.`,type:"ability",player:this.parent,tiger:i}),r.increaseMana(s+2*this.level))}}class pb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nessie?",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class Ux extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nessie",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let a=3*this.level,o=3*this.level,l="";if(!this.parent.summonedBoatThisBattle){const m=(this.parent===t.player?t.playerRollAmount:t.opponentRollAmount)*this.level;a+=m,o+=m,this.parent.summonedBoatThisBattle=!0,l=` It's the first Boat, so it gains +${m}/+${m}!`}a=Math.min(50,a),o=Math.min(50,o);let h=new pb(this.logService,this.abilityService,this.parent,o,a,0);this.logService.createLog({message:`${this.name} spawned a Nessie? ${a}/${o}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(h,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(h),super.superAfterFaint(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class Gx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bad Dog",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class jx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Werewolf",this.tier=5,this.pack="Unicorn",this.attack=6,this.health=6,this.initPet(o,s,r,a,l)}startOfBattle(t,e){if(t.day){const i=6*this.level;this.increaseMana(i),this.logService.createLog({message:`${this.name} gained ${i} mana.`,type:"ability",player:this.parent,tiger:e})}else{let i=.5*this.level;const s=Math.floor(this.attack*i),r=Math.floor(this.health*i);let a=Math.min(50,this.attack+s),o=Math.min(50,this.health+r);this.logService.createLog({message:`${this.name} increased its stats by ${100*i}% (${a}/${o}).`,type:"ability",player:this.parent,tiger:e}),this.increaseAttack(this.attack*i),this.increaseHealth(this.health*i)}}}class Wx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Manticore",this.tier=6,this.pack="Unicorn",this.attack=7,this.health=4,this.initPet(o,s,r,a,l)}}class gb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Young Phoenix",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=6,this.attack=6,this.initPet(o,s,r,a,l)}}class zx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Phoenix",this.tier=6,this.pack="Unicorn",this.attack=8,this.health=8,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=[...this.parent.petArray,...this.parent.opponent.petArray];s=s.filter(o=>o!=this&&o.alive),k_(s);let r=3*this.level,a=0;if(s.length>0)for(let o of s){if(a>=r)break;this.logService.createLog({message:`${this.name} gave ${o.name} Crisp.`,type:"ability",randomEvent:s.length>r,tiger:e,player:this.parent}),o.givePetEquipment(new pc),a++}this.abilityService.setAfterFaintEvents({callback:()=>{let o=4*this.level,l=new gb(this.logService,this.abilityService,this.parent,o,o,0);this.logService.createLog({message:`${this.name} spawned a Young Phoenix (${o}/${o}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(l,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(l)},priority:this.attack,pet:this}),super.superFaint(t,e)}}class Kx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Quetzalcoatl",this.tier=6,this.pack="Unicorn",this.attack=2,this.health=8,this.initPet(o,s,r,a,l)}}class Qx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Team Spirit",this.tier=6,this.pack="Unicorn",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}anyoneLevelUp(t,e,i){if(e.parent!=this.parent||e==this)return;let s=this.parent.petArray;s=s.filter(a=>a!=this);let r={attack:this.level,health:this.level};for(let a of s)this.logService.createLog({message:`${this.name} gave ${a.name} ${r.attack} attack and ${r.health} health.`,type:"ability",player:this.parent,tiger:i}),a.increaseAttack(r.attack),a.increaseHealth(r.health)}}class Yx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sleipnir",this.tier=6,this.pack="Unicorn",this.attack=8,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Math.floor(this.attack/2),s=this.parent.furthestUpPet,r=[];for(;s&&(r.push(s),!(r.length>=this.level));)s=s.petBehind();for(let a of r)this.logService.createLog({message:`${this.name} gave ${a.name} ${i} mana.`,type:"ability",player:this.parent,tiger:e}),a.increaseMana(i);this.superStartOfBattle(t,e)}}class Jx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sea Serpent",this.tier=6,this.pack="Unicorn",this.attack=6,this.health=6,this.initPet(o,s,r,a,l)}faint(t,e,i){if(0==this.mana)return;let s=this.mana;this.logService.createLog({message:`${this.name} spent ${this.mana} mana.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.mana=0;let a=this.parent.opponent.getHighestHealthPet();null!=a.pet&&this.snipePet(a.pet,s,a.random,e,i);let o=this.parent.opponent.getRandomPets(this.level,[a.pet],null,!0);for(let l of o)this.snipePet(l,s,!0,e,i);this.superFaint(t,e)}}class Zx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Yeti",this.tier=6,this.pack="Unicorn",this.attack=5,this.health=9,this.initPet(o,s,r,a,l)}}class mb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fire Pup",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=8,this.attack=8,this.initPet(o,s,r,a,l)}}class Xx extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cerberus",this.tier=6,this.pack="Unicorn",this.attack=9,this.health=9,this.initPet(o,s,r,a,l)}emptyFrontSpace(t,e){if(null!=this.parent.pet0||this.abilityUses>=this.maxAbilityUses)return;let s=new mb(this.logService,this.abilityService,this.parent,null,null,5);this.logService.createLog({message:`${this.name} spawned Fire Pup (8/8).`,type:"ability",player:this.parent,tiger:e}),this.parent.summonPet(s,0)&&this.abilityService.triggerFriendSummonedEvents(s),this.abilityUses++,super.superFaint(t,e)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class vb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Head",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=5,this.attack=5,this.initPet(o,s,r,a,l)}}class eM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hydra",this.tier=6,this.pack="Unicorn",this.attack=10,this.health=6,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let s=Math.floor(this.attack/10);for(let r=0;r<s;r++){let a=5*this.level,o=new vb(this.logService,this.abilityService,this.parent,a,a);this.logService.createLog({message:`${this.name} spawned Head (${o.attack}/${o.health}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(o)}super.superAfterFaint(t,e,i)}}class tM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Behemoth",this.tier=6,this.pack="Unicorn",this.attack=12,this.health=12,this.initPet(o,s,r,a,l)}}class iM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Iriomote Cat",this.tier=1,this.pack="Danger",this.attack=2,this.health=2,this.initPet(l,r,a,o,h)}beforeStartOfBattle(t,e){let i=this.petService.allPets.get(this.level),r=i[Hs(0,i.length-1)],a=this.petService.createPet({name:r,attack:this.attack,health:this.health,exp:this.exp,equipment:this.equipment,mana:this.mana},this.parent);this.logService.createLog({message:`${this.name} transformed into a ${r}.`,type:"ability",player:this.parent,randomEvent:!0}),this.parent.transformPet(this,a)}}class nM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ili Pika",this.tier=1,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}friendTransformed(t,e,i){let s=1*this.level;e.attack>e.health?(e.increaseAttack(s),this.logService.createLog({message:`${this.name} give ${s} attack to ${e.name}.`,type:"ability",player:this.parent,tiger:i})):(e.increaseHealth(s),this.logService.createLog({message:`${this.name} give ${s} health to ${e.name}.`,type:"ability",player:this.parent,tiger:i})),this.superFriendTransformed(t,e,i)}}class sM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Malay Tapir",this.tier=1,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}adjacentAttacked(t,e,i){if(!this.alive)return;let s=1*this.level;this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${s} health`,type:"ability",player:this.parent,tiger:i}),this.superAdjacentAttacked(t,e,i)}}class rM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Bombus Dahlbomii",this.tier=1,this.pack="Danger",this.attack=1,this.health=2,this.attackCounter=0,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){if(this.alive){if(this.abilityUses>=this.maxAbilityUses)return void this.superEnemyAttack(t,e,i);if(i||this.attackCounter++,this.attackCounter%2!=0)return void this.superEnemyAttack(t,e,i);this.abilityService.setCounterEvent({callback:()=>{let s=this.parent.opponent.furthestUpPet;s&&this.snipePet(s,1*this.level,!0,i)},priority:this.attack,pet:this}),this.abilityUses++,this.superEnemyAttack(t,e,i)}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class yb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Ethiopian Wolf",this.tier=1,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){const s=this.parent.opponent.petArray.slice(0,this.level);for(const r of s)(null==r?void 0:r.alive)&&(r.increaseAttack(-1),this.logService.createLog({message:`${this.name} removed 1 attack from ${r.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i}));this.superFaint(t,e)}}class aM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fan Mussel",this.tier=1,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class oM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Togian Babirusa",this.tier=1,this.pack="Danger",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.opponent.getRandomPet();s&&(s.increaseAttack(1),s.increaseHealth(1),this.logService.createLog({message:`${this.name} gave ${s.name} +1 attack and +1 health.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})),this.superFaint(t,e)}}class lM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tooth Billed Pigeon",this.tier=1,this.pack="Danger",this.attack=3,this.health=1,this.initPet(o,s,r,a,l)}}class cM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Volcano Snail",this.tier=1,this.pack="Danger",this.attack=1,this.health=4,this.initPet(o,s,r,a,l)}faint(t,e){let s=this.parent.opponent.petArray.filter(a=>a.alive&&!a.equipment);if(0===s.length)return;let r=this.level;for(let a=0;a<r&&s.length>0;a++){let o=Math.floor(Math.random()*s.length),l=s[o],h=new x0;l.givePetEquipment(h),this.logService.createLog({message:`${this.name} made ${l.name} Toasty`,type:"ability",player:this.parent,tiger:e}),s.splice(o,1)}this.superFaint(t,e)}}class uM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="African Wild Dog",this.tier=1,this.pack="Danger",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){var i;let s=null===(i=this.parent.opponent.furthestUpPet)||void 0===i?void 0:i.petBehind();if(s&&s.alive){let r=3*this.level;this.jumpAttackPrep(s),this.jumpAttack(s,e,r)}this.superStartOfBattle(t,e)}}class hM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Araripe Manakin",this.tier=2,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}friendJumped(t,e,i){this.gainHealthFromEvent(t,e,i),this.superFriendJumped(t,e,i)}friendTransformed(t,e,i){this.gainHealthFromEvent(t,e,i),this.superFriendTransformed(t,e,i)}gainHealthFromEvent(t,e,i){if(!this.alive||this.abilityUses>=this.maxAbilityUses)return;let s=2*this.level;this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${s} health`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class dM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="European Mink",this.tier=2,this.pack="Danger",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}adjacentAttacked(t,e,i){if(!this.alive||this.abilityUses>=this.maxAbilityUses)return;let s=this.level,r=this.petAhead,a=this.petBehind();null!=r&&(r.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${r.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i})),null!=a&&(a.increaseAttack(s),this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i})),this.abilityUses++}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class fM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Proboscis Monkey",this.tier=2,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}}class pM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pygmy Hog",this.tier=2,this.pack="Danger",this.attack=1,this.health=2,this.attackCounter=0,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){if(this.alive){if(i||this.attackCounter++,this.attackCounter%5!=0)return void this.superEnemyAttack(t,e,i);this.abilityService.setCounterEvent({callback:()=>{let s=5*this.level,r=new V_(this.logService,this.abilityService,this.parent,s,s,this.mana,this.exp,new Uo);this.logService.createLog({message:`${this.name} transformed into ${r.name} (${s}/${s}) with Garlic!`,type:"ability",player:this.parent,tiger:i}),this.parent.transformPet(this,r)},priority:this.attack,pet:this}),this.superEnemyAttack(t,e,i)}}}class gM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Saola",this.tier=2,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class mM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Saker Falcon",this.tier=2,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(!this.alive||this.abilityUses>=this.maxAbilityUses)this.superBeforeAttack(t,e);else{if(this.parent.petArray.length<this.parent.opponent.petArray.length){let r=2*this.level;this.increaseAttack(r),this.increaseHealth(r),this.logService.createLog({message:`${this.name} gained ${r} attack and ${r} health (outnumbered)`,type:"ability",player:this.parent,tiger:e}),this.abilityUses++}this.superBeforeAttack(t,e)}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class vM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Taita Shrew",this.tier=2,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=new Z_(this.logService,this.abilityService,this.parent,this.health,this.attack,this.mana,this.exp,(0,at.cloneDeep)(this.equipment));this.logService.createLog({message:`${this.name} transformed into ${i.name} (level ${this.level}).`,type:"ability",player:this.parent,tiger:e}),this.parent.transformPet(this,i),this.superStartOfBattle(t,e)}}class yM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="White-Bellied Heron",this.tier=2,this.pack="Danger",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.getPetsAhead(this.level,!1);if(null!=i){for(let s of i){let r=new Wp;s.givePetEquipment(r),this.logService.createLog({message:`${this.name} gave ${s.name} a Meat Bone.`,type:"ability",player:this.parent,tiger:e})}this.superStartOfBattle(t,e)}}}class _M extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Darwin's Fox",this.tier=2,this.pack="Danger",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}friendFaints(t,e,i){if(e&&!(this.abilityUses>=this.maxAbilityUses)){if(e.killedBy&&e.killedBy.alive)this.jumpAttackPrep(e.killedBy),this.jumpAttack(e.killedBy,i);else{let s=this.parent.opponent.furthestUpPet;if(!s)return;this.jumpAttackPrep(s),this.jumpAttack(s,i)}this.abilityUses++,this.superFriendFaints(t,e,i)}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class bM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Takhi",this.tier=2,this.pack="Danger",this.attack=2,this.health=2,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let a=this.petService.createPet({name:"African Wild Dog",attack:3*this.level,health:2*this.level,exp:0,mana:0,equipment:null},this.parent);a&&(this.parent.summonPet(a,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(a),this.logService.createLog({message:`${this.name} summoned a ${a.attack}/${a.health} ${a.name}`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),a.startOfBattle(t,e)),this.superAfterFaint(t,e)}}class SM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blue-Throated Macaw",this.tier=3,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}friendTransformed(t,e,i){let s=2*this.level,r=1*this.level;e.increaseAttack(s),e.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${e.name} +${s} attack and +${r} health.`,type:"ability",player:this.parent,tiger:i}),this.superFriendTransformed(t,e,i)}}class wM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hirola",this.tier=3,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){for(let s=0;s<2;s++){let r=1*this.level,a=2*this.level,o=new yb(this.logService,this.abilityService,this.parent,a,r,this.mana,this.exp);this.parent.summonPet(o,this.savedPosition)&&this.logService.createLog({message:`${this.name} summoned a ${r}/${a} ${o.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i})}this.superAfterFaint(t,e,i)}}class EM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Monkey-Faced Bat",this.tier=3,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){if(this.abilityUses>=this.maxAbilityUses||!e||e.position<=this.position)return;let s=this.parent.getRandomPets(2,[this],!0);for(let r of s){let a=this.level;r.increaseAttack(a),r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} ${a} attack and ${a} health`,type:"ability",player:this.parent,tiger:i})}this.abilityUses++,this.superFriendHurt(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class kM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pygmy Hippo",this.tier=3,this.pack="Danger",this.attack=2,this.health=7,this.attackCounter=0,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){if(this.alive){if(i||this.attackCounter++,this.attackCounter%5!=0)return void this.superEnemyAttack(t,e,i);this.abilityService.setCounterEvent({callback:()=>{let s=Math.floor(.33*this.health),r=this.parent.opponent.getLowestHealthPets(this.level);for(let a of r)this.snipePet(a,s,!0,i)},priority:this.attack,pet:this}),this.superEnemyAttack(t,e,i)}}}class CM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Takin",this.tier=3,this.pack="Danger",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}friendHurt(t,e,i){if(!this.alive)return void this.superFriendHurt(t,e,i);if(!e||e!=this.petAhead)return;let s=this.level,r=2*this.level;this.increaseAttack(s),this.increaseHealth(r),this.logService.createLog({message:`${this.name} gained ${s} attack and ${r} health.`,type:"ability",player:this.parent,tiger:i}),this.superFriendHurt(t,e,i)}}class AM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tucuxi",this.tier=3,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=this.parent.getLastPet();if(!s||s===this)return;this.parent.pushPetToFront(s,!1),this.logService.createLog({message:`${this.name} pushed ${s.name} to the front`,type:"ability",player:this.parent,tiger:e,pteranodon:i});let r=3*this.level;s.increaseAttack(r),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} +${r} attack and +${r} health`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.superFaint(t,e)}}class PM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Roloway Monkey",this.tier=3,this.pack="Danger",this.attack=2,this.health=5,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=this.getPetsAhead(2,!1);if(!i||0===i.length)return;const s=["Camel","Peacock","Porcupine","Lizard","Guineafowl"];for(let r of i){let a=Math.floor(Math.random()*s.length),l=this.petService.createPet({name:s[a],health:r.health,attack:r.attack,mana:r.mana,exp:this.exp,equipment:r.equipment},this.parent);this.parent.transformPet(r,l),this.logService.createLog({message:`${this.name} transformed ${r.name} into a ${l.attack}/${l.health} ${l.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0})}this.superStartOfBattle(t,e)}}class DM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Spoon-Billed Sandpiper",this.tier=3,this.pack="Danger",this.attack=2,this.health=2,this.initPet(o,s,r,a,l)}}class TM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amami Rabbit",this.tier=3,this.pack="Danger",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=1*this.level,s=this.parent.opponent.getHighestAttackPet();s.pet&&s.pet.alive&&(this.jumpAttackPrep(s.pet),this.transformed&&this.transformedInto?(this.transformedInto.increaseAttack(i),this.logService.createLog({message:`${this.transformedInto.name} gained ${i} attack`,type:"ability",player:this.parent,tiger:e})):(this.increaseAttack(i),this.logService.createLog({message:`${this.name} gained ${i} attack`,type:"ability",player:this.parent,tiger:e})),this.jumpAttack(s.pet,e)),this.superStartOfBattle(t,e)}}class xM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tree Kangaroo",this.tier=3,this.pack="Danger",this.attack=3,this.health=3,this.initPet(o,s,r,a,l)}}class MM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Angelshark",this.tier=4,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}}class IM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Bonobo",this.tier=4,this.pack="Danger",this.attack=3,this.health=3,this.initPet(l,r,a,o,h)}}class OM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Tortoise",this.tier=4,this.pack="Danger",this.attack=4,this.health=8,this.initPet(o,s,r,a,l)}}class RM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Humphead Wrasse",this.tier=4,this.pack="Danger",this.attack=6,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=.3*this.level,s=this.parent.opponent.getHighestAttackPet();if(!s.pet)return;let r=s.pet,a=Math.floor(r.attack*i),o=Math.max(1,r.attack-a);r.attack=o,this.logService.createLog({message:`${this.name} reduced ${r.name}'s attack by ${100*i}% to (${r.attack})`,type:"ability",player:this.parent,tiger:e,randomEvent:s.random}),this.superStartOfBattle(t,e)}}class NM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Golden Tamarin",this.tier=4,this.pack="Danger",this.attack=4,this.health=4,this.initPet(l,r,a,o,h)}beforeStartOfBattle(t,e){const i=["Crocodile","Red Dragon","Salmon of Knowledge","Sea Cucumber","Werewolf","Tarantula Hawk","Snow Leopard"];let s=Math.floor(Math.random()*i.length),a=this.petService.createPet({name:i[s],health:this.health,attack:this.attack,mana:this.mana,exp:this.exp,equipment:this.equipment},this.parent);this.parent.transformPet(this,a),this.logService.createLog({message:`${this.name} transformed into a ${a.attack}/${a.health} ${a.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),this.superBeforeStartOfBattle(t,e)}}class LM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Kakapo",this.tier=4,this.pack="Danger",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}friendTransformed(t,e,i){this.alive&&(this.abilityUses>=this.maxAbilityUses||(this.logService.createLog({message:`${this.name} gave ${e.name} +3 experience.`,type:"ability",player:this.parent,tiger:i}),e.increaseExp(3),this.abilityUses++),this.superFriendTransformed(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}}class BM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Longcomb Sawfish",this.tier=4,this.pack="Danger",this.attack=3,this.health=3,this.attackCounter=0,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){if(this.alive){if(i||this.attackCounter++,this.attackCounter%5!=0)return void this.superEnemyAttack(t,e,i);this.abilityService.setCounterEvent({callback:()=>{let s=4*this.level,r=-4*this.level;this.increaseHealth(s),this.logService.createLog({message:`${this.name} gained ${s} health`,type:"ability",player:this.parent,tiger:i});let a=[...this.parent.opponent.petArray];a=a.filter(o=>o.alive);for(let o of a)o.increaseHealth(r),this.logService.createLog({message:`${this.name} reduced ${o.name} health by ${Math.abs(r)}`,type:"ability",player:this.parent,tiger:i})},priority:this.attack,pet:this}),this.superEnemyAttack(t,e,i)}}}class $M extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amazon River Dolphin",this.tier=4,this.pack="Danger",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}adjacentAttacked(t,e,i){let s=e.currentTarget;if(console.log(s),s&&s.alive)this.snipePet(s,3*this.level,!1,i);else{if(!this.alive)return;let r=3*this.level;this.increaseAttack(r),this.logService.createLog({message:`${this.name} gained ${r} attack`,type:"ability",player:this.parent,tiger:i})}}}class VM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tasmanian Devil",this.tier=4,this.pack="Danger",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=.5*this.level,s=this.parent.opponent.getLowestAttackPet();if(s.pet&&s.pet.alive){let r=Math.floor(this.attack*i);this.jumpAttackPrep(s.pet),this.jumpAttack(s.pet,e,r)}this.superStartOfBattle(t,e)}}class HM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Otter",this.tier=4,this.pack="Danger",this.attack=4,this.health=3,this.buffedFriends=new Map,this.initPet(o,s,r,a,l)}beforeStartOfBattle(t,e){let i=3*this.level,s=this.parent.petArray.filter(r=>r.alive&&r!=this);for(let r of s){r.increaseAttack(i),r.increaseHealth(i);let a=this.buffedFriends.get(r);this.buffedFriends.set(r,a?{attack:a.attack+i,health:a.health+i}:{attack:i,health:i}),this.logService.createLog({message:`${this.name} gave ${r.name} +${i} attack and +${i} health`,type:"ability",player:this.parent,tiger:e})}this.superBeforeStartOfBattle(t,e)}removeConditionalBuffs(){for(let[t,e]of this.buffedFriends)t&&t.alive&&(t.increaseAttack(-e.attack),t.increaseHealth(-e.health),this.logService.createLog({message:`${t.name} lost ${e.attack} attack and ${e.health} health (Giant Otter removed)`,type:"ability",player:this.parent}))}friendTransformed(t,e,i){e===this&&(null==t?void 0:t.isInStartOfBattleFlag)&&this.removeConditionalBuffs(),this.superFriendTransformed(t,e,i)}afterFaint(t,e,i){(null==t?void 0:t.isInStartOfBattleFlag)&&this.removeConditionalBuffs(),this.superAfterFaint(t,e,i)}resetPet(){super.resetPet(),this.buffedFriends.clear()}}class FM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Aye-aye",this.tier=5,this.pack="Danger",this.attack=3,this.health=5,this.attackCounter=0,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){if(this.alive){if(i||this.attackCounter++,this.attackCounter%8!=0)return void this.superEnemyAttack(t,e,i);this.abilityService.setCounterEvent({callback:()=>{for(let r=0;r<2;r++){let a=3,o=3,l=new G_(this.logService,this.abilityService,this.parent,o,a,0,0);this.parent.summonPet(l,this.savedPosition)&&this.logService.createLog({message:`${this.name} summoned a ${a}/${o} ${l.name}.`,type:"ability",player:this.parent,tiger:i})}let s=3*this.level;for(let r of this.parent.petArray.filter(a=>a!=this&&a.alive))r.increaseAttack(s),r.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${r.name} +${s} attack and +${s} health.`,type:"ability",player:this.parent,tiger:i})},priority:this.attack,pet:this}),this.superEnemyAttack(t,e,i)}}}class qM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Banggai Cardinalfish",this.tier=5,this.pack="Danger",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=6*this.level,r=[...this.parent.petArray,...this.parent.opponent.petArray];r=r.filter(a=>a.alive);for(let a of r){let o=Math.max(a.attack-i,5);a.attack=o,this.logService.createLog({message:`${this.name} reduced ${a.name} attack by ${i} to (${o}).`,type:"ability",player:this.parent,tiger:e})}this.superStartOfBattle(t,e)}}class UM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Geometric Tortoise",this.tier=5,this.pack="Danger",this.attack=3,this.health=10,this.damageTakenList=[],this.initPet(o,s,r,a,l)}hurt(t,e,i){let s=this.damageTakenList.shift();if(null==s)return;let r=.33*this.level;3==this.level&&(r=1);let a=Math.floor(s*r);if(a>0){let o=this.parent.opponent.getRandomPet([],!1,!0);o&&this.snipePet(o,a,!0,i)}this.superHurt(t,e,i)}dealDamage(t,e){this.damageTakenList.push(e),super.dealDamage(t,e)}}class GM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Pangasius",this.tier=5,this.pack="Danger",this.attack=4,this.health=5,this.initPet(o,s,r,a,l)}faint(t,e,i){if(!t)return;let s;s=this.parent===t.player?t.playerTransformationAmount:t.opponentTransformationAmount;let r=4*this.level;if(s>0)for(let a=0;a<s;a++){let o=this.parent.opponent.getRandomPet(null,null,!0);o&&this.snipePet(o,r,!0,e)}this.superFaint(t,e)}}class jM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hawaiian Monk Seal",this.tier=5,this.pack="Danger",this.attack=3,this.health=4,this.friendBuffedThisTurn=new Set,this.initPet(o,s,r,a,l)}friendAttacks(t,e,i){let s=e;if(s&&!this.friendBuffedThisTurn.has(s)){if(this.friendBuffedThisTurn.size<3&&s.alive){let r=2*this.level;s.increaseHealth(r),this.friendBuffedThisTurn.add(s),this.logService.createLog({message:`${this.name} gave ${s.name} ${r} health`,type:"ability",player:this.parent,tiger:i})}this.superFriendAttacks(t,e,i)}}setAbilityUses(){super.setAbilityUses()}resetPet(){super.resetPet(),this.friendBuffedThisTurn.clear()}}class WM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Marine Iguana",this.tier=5,this.pack="Danger",this.attack=4,this.health=5,this.targetsThisTurn=[],this.initPet(o,s,r,a,l)}beforeFriendAttacks(t,e,i){this.abilityUses>=this.maxAbilityUses||this.targetsThisTurn.includes(e)||(e.givePetEquipment(new Fs),this.targetsThisTurn.push(e),this.logService.createLog({message:`${this.name} gave ${e.name} Melon`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superBeforeFriendAttacks(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}resetPet(){super.resetPet(),this.targetsThisTurn=[]}}class zM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Red Panda",this.tier=5,this.pack="Danger",this.health=4,this.attack=4,this.initPet(o,s,r,a,l)}}class KM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Taita Thrush",this.tier=5,this.pack="Danger",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}adjacentAttacked(t,e,i){if(this.abilityUses>=this.maxAbilityUses)return;let s=this.level,r=this.parent.petArray.filter(a=>a!==this&&a.alive);for(let a of r)a.increaseAttack(s),a.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${a.name} +${s} attack and +${s} health`,type:"ability",player:this.parent,tiger:i});this.abilityUses++,this.superAdjacentAttacked(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class QM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Painted Terrapin",this.tier=5,this.pack="Danger",this.health=6,this.attack=4,this.initPet(o,s,r,a,l)}faint(t,e,i){for(let s=0;s<this.level;s++){let r=this.petBehind();for(;r&&r.equipment instanceof P_;)r=r.petBehind();if(null==r)return;this.logService.createLog({message:`${this.name} gave ${r.name} White Okra perk`,type:"ability",tiger:e,player:this.parent,pteranodon:i}),r.givePetEquipment(new P_)}this.superFaint(t,e)}}class YM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Snow Leopard",this.tier=5,this.pack="Danger",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=5*this.level,s=this.parent.opponent.getRandomPet([],!1,!0);s&&s.alive&&(this.jumpAttackPrep(s),this.transformed&&this.transformedInto?(this.transformedInto.increaseAttack(i),this.transformedInto.increaseHealth(i),this.logService.createLog({message:`${this.transformedInto.name} gained ${i} attack and ${i} health`,type:"ability",player:this.parent,tiger:e})):(this.increaseAttack(i),this.increaseHealth(i),this.logService.createLog({message:`${this.name} gained ${i} attack and ${i} health`,type:"ability",player:this.parent,tiger:e})),this.jumpAttack(s,e,null,!0)),this.superStartOfBattle(t,e)}}class JM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Amsterdam Albatross",this.tier=6,this.pack="Danger",this.attack=3,this.health=6,this.initPet(o,s,r,a,l)}friendTransformed(t,e,i){if(!this.alive)return;if(this.abilityUses>=this.maxAbilityUses)return void this.superFriendTransformed(t,e,i);let s=1*this.level,r=2*this.level;e.increaseAttack(s),e.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${e.name} +${s} attack and +${r} health.`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendTransformed(t,e,i)}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=3}}class ZM extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Bay Cat",this.tier=6,this.pack="Danger",this.attack=7,this.health=5,this.initPet(l,r,a,o,h)}faint(t,e,i){let s=["Skunk","Fossa","Kraken","Lynx","Humphead Wrasse","Goblin Shark","Red lipped Batfish","Platybelodon","Tasmanian Devil"];for(let r=0;r<this.level;r++){let a=s[Math.floor(Math.random()*s.length)],o=this.petService.createPet({name:a,attack:null,health:null,equipment:null,mana:0,exp:0},this.parent);this.logService.createLog({message:`${this.name} summoned ${o.name}`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.parent.summonPet(o,this.savedPosition)&&(o.startOfBattle&&(this.logService.createLog({message:`${o.name} activated its start of battle ability`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),o.startOfBattle(t,e)),this.abilityService.triggerFriendSummonedEvents(o))}this.superFaint(t,e)}}class XM extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Black Rhino",this.tier=6,this.pack="Danger",this.attack=5,this.health=9,this.attackCounter=0,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){if(this.alive){if(i||this.attackCounter++,this.attackCounter%8!=0)return void this.superEnemyAttack(t,e,i);this.abilityService.setCounterEvent({callback:()=>{let r=this.level,a=(0,at.clone)(this.parent.opponent.petArray.filter(o=>o&&o.alive));(0,at.shuffle)(a);for(let o=0;o<Math.min(r,a.length);o++)this.snipePet(a[o],30,!0,i)},priority:this.attack,pet:this}),this.superEnemyAttack(t,e,i)}}}class eI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Blue Whale",this.tier=6,this.pack="Danger",this.health=12,this.attack=12,this.initPet(o,s,r,a,l)}}class Eh extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="California Condor",this.tier=6,this.pack="Danger",this.attack=10,this.health=3,this.initPet(l,r,a,o,h)}friendTransformed(t,e,i){if(!this.alive||this.abilityUses>=this.maxAbilityUses)return;let s=e;this.copyPet=s,s instanceof Eh&&(s=s.copyPet,this.logService.createLog({message:`California Condor copied ${e.name}`,type:"ability",player:this.parent,tiger:i})),null!=s&&(s.originalStartOfBattle&&(this.startOfBattle=s.originalStartOfBattle.bind(this)),s.originalHurt&&(this.hurt=s.originalHurt.bind(this)),s.originalFaint&&(this.faint=s.originalFaint.bind(this)),s.originalFriendSummoned&&(this.friendSummoned=s.originalFriendSummoned.bind(this)),s.originalFriendAheadAttacks&&(this.friendAheadAttacks=s.originalFriendAheadAttacks.bind(this)),s.originalFriendAheadFaints&&(this.friendAheadFaints=s.originalFriendAheadFaints.bind(this)),s.originalFriendFaints&&(this.friendFaints=s.originalFriendFaints.bind(this)),s.originalEnemyAttack&&(this.enemyAttack=s.originalEnemyAttack.bind(this)),s.originalAfterAttack&&(this.afterAttack=s.originalAfterAttack.bind(this)),s.originalBeforeAttack&&(this.beforeAttack=s.originalBeforeAttack.bind(this)),s.originalBeforeStartOfBattle&&(this.beforeStartOfBattle=s.originalBeforeStartOfBattle.bind(this)),s.originalKnockOut&&(this.knockOut=s.originalKnockOut.bind(this)),s.originalSummoned&&(this.summoned=s.originalSummoned.bind(this)),s.originalFriendlyToyBroke&&(this.friendlyToyBroke=s.originalFriendlyToyBroke.bind(this)),s.originalFriendGainedAilment&&(this.friendGainedAilment=s.originalFriendGainedAilment.bind(this)),s.originalFriendHurt&&(this.friendHurt=s.originalFriendHurt.bind(this)),s.originalFriendTransformed&&(this.friendTransformed=s.originalFriendTransformed.bind(this)),s.originalEatsFood&&(this.eatsFood=s.originalEatsFood.bind(this)),s.originalFriendAteFood&&(this.friendAteFood=s.originalFriendAteFood.bind(this)),s.originalFriendLostPerk&&(this.friendLostPerk=s.originalFriendLostPerk.bind(this)),s.originalGainedPerk&&(this.gainedPerk=s.originalGainedPerk.bind(this)),s.originalFriendGainedPerk&&(this.friendGainedPerk=s.originalFriendGainedPerk.bind(this)),s.originalAnyoneLevelUp&&(this.anyoneLevelUp=s.originalAnyoneLevelUp.bind(this)),s.originalEnemySummoned&&(this.enemySummoned=s.originalEnemySummoned.bind(this)),s.originalEnemyPushed&&(this.enemyPushed=s.originalEnemyPushed.bind(this)),s.originalGainedMana&&(this.gainedMana=s.originalGainedMana.bind(this)),s.originalFriendJumped&&(this.friendJumped=s.originalFriendJumped.bind(this)),s.originalEnemyGainedAilment&&(this.enemyGainedAilment=s.originalEnemyGainedAilment.bind(this)),s.originalFriendGainsHealth&&(this.friendGainsHealth=s.originalFriendGainsHealth.bind(this)),s.originalEmptyFrontSpace&&(this.emptyFrontSpace=s.originalEmptyFrontSpace.bind(this)),s.originalEnemyHurt&&(this.enemyHurt=s.originalEnemyHurt.bind(this)),s.originalAfterFaint&&(this.afterFaint=s.originalAfterFaint.bind(this)),s.originalTransform&&(this.transform=s.originalTransform.bind(this)),s.originalAdjacentAttacked&&(this.adjacentAttacked=s.originalAdjacentAttacked.bind(this)),s.originalFriendAttacks&&(this.friendAttacks=s.originalFriendAttacks.bind(this)),s.originalBeforeFriendAttacks&&(this.beforeFriendAttacks=s.originalBeforeFriendAttacks.bind(this)),s.originalEnemyJumped&&(this.enemyJumped=s.originalEnemyJumped.bind(this)),s.originalFriendGainedExperience&&(this.friendGainedExperience=s.originalFriendGainedExperience.bind(this)),this.originalStartOfBattle=this.startOfBattle,this.originalTransform=this.transform,this.originalHurt=this.hurt,this.originalFaint=this.faint,this.originalFriendSummoned=this.friendSummoned,this.originalFriendAheadAttacks=this.friendAheadAttacks,this.originalFriendAheadFaints=this.friendAheadFaints,this.originalFriendFaints=this.friendFaints,this.originalEnemyAttack=this.enemyAttack,this.originalAfterAttack=this.afterAttack,this.originalBeforeAttack=this.beforeAttack,this.originalBeforeStartOfBattle=this.beforeStartOfBattle,this.originalKnockOut=this.knockOut,this.originalSummoned=this.summoned,this.originalFriendlyToyBroke=this.friendlyToyBroke,this.originalFriendGainedAilment=this.friendGainedAilment,this.originalFriendHurt=this.friendHurt,this.originalFriendTransformed=this.friendTransformed,this.originalEatsFood=this.eatsFood,this.originalFriendAteFood=this.friendAteFood,this.originalFriendLostPerk=this.friendLostPerk,this.originalGainedPerk=this.gainedPerk,this.originalFriendGainedPerk=this.friendGainedPerk,this.originalAnyoneLevelUp=this.anyoneLevelUp,this.originalEnemySummoned=this.enemySummoned,this.originalEnemyPushed=this.enemyPushed,this.originalGainedMana=this.gainedMana,this.originalFriendJumped=this.friendJumped,this.originalEnemyGainedAilment=this.enemyGainedAilment,this.originalFriendGainsHealth=this.friendGainsHealth,this.originalEmptyFrontSpace=this.emptyFrontSpace,this.originalEnemyHurt=this.enemyHurt,this.originalAfterFaint=this.afterFaint,this.originalAdjacentAttacked=this.adjacentAttacked,this.originalFriendAttacks=this.friendAttacks,this.originalBeforeFriendAttacks=this.beforeFriendAttacks,this.originalEnemyJumped=this.enemyJumped,this.originalFriendGainedExperience=this.friendGainedExperience,s instanceof Eh||this.logService.createLog({message:`California Condor copied ${s.name}'s level ${this.level} ability`,type:"ability",player:this.parent,tiger:i}),this.abilityUses++,this.superFriendTransformed(t,e,i))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=2}resetPet(){this.startOfBattle=void 0,this.hurt=void 0,this.faint=void 0,this.friendSummoned=void 0,this.friendAheadAttacks=void 0,this.friendAheadFaints=void 0,this.friendFaints=void 0,this.enemyAttack=void 0,this.afterAttack=void 0,this.beforeAttack=void 0,this.beforeStartOfBattle=void 0,this.knockOut=void 0,this.summoned=void 0,this.friendlyToyBroke=void 0,this.friendGainedAilment=void 0,this.friendHurt=void 0,this.eatsFood=void 0,this.friendAteFood=void 0,this.friendLostPerk=void 0,this.gainedPerk=void 0,this.friendGainedPerk=void 0,this.anyoneLevelUp=void 0,this.enemySummoned=void 0,this.enemyPushed=void 0,this.gainedMana=void 0,this.friendJumped=void 0,this.enemyGainedAilment=void 0,this.friendGainsHealth=void 0,this.emptyFrontSpace=void 0,this.enemyHurt=void 0,this.afterFaint=void 0,this.transform=void 0,this.adjacentAttacked=void 0,this.friendAttacks=void 0,this.beforeFriendAttacks=void 0,this.enemyJumped=void 0,this.friendGainedExperience=void 0,this.originalStartOfBattle=void 0,this.originalHurt=void 0,this.originalFaint=void 0,this.originalFriendSummoned=void 0,this.originalFriendAheadAttacks=void 0,this.originalFriendAheadFaints=void 0,this.originalFriendFaints=void 0,this.originalEnemyAttack=void 0,this.originalAfterAttack=void 0,this.originalBeforeAttack=void 0,this.originalBeforeStartOfBattle=void 0,this.originalKnockOut=void 0,this.originalSummoned=void 0,this.originalFriendlyToyBroke=void 0,this.originalFriendGainedAilment=void 0,this.originalFriendHurt=void 0,this.originalFriendTransformed=void 0,this.originalEatsFood=void 0,this.originalFriendAteFood=void 0,this.originalFriendLostPerk=void 0,this.originalGainedPerk=void 0,this.originalFriendGainedPerk=void 0,this.originalAnyoneLevelUp=void 0,this.originalEnemySummoned=void 0,this.originalEnemyPushed=void 0,this.originalGainedMana=void 0,this.originalFriendJumped=void 0,this.originalEnemyGainedAilment=void 0,this.originalFriendGainsHealth=void 0,this.originalEmptyFrontSpace=void 0,this.originalEnemyHurt=void 0,this.originalAfterFaint=void 0,this.originalTransform=void 0,this.originalAdjacentAttacked=void 0,this.originalFriendAttacks=void 0,this.originalBeforeFriendAttacks=void 0,this.originalEnemyJumped=void 0,this.originalFriendGainedExperience=void 0,this.copyPet=null,super.resetPet()}}class tI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Green Sea Turtle",this.tier=6,this.pack="Danger",this.attack=5,this.health=6,this.attackCounter=0,this.initPet(o,s,r,a,l)}enemyAttack(t,e,i){if(this.alive){if(this.abilityUses>=this.maxAbilityUses)return void this.superEnemyAttack(t,e,i);if(i||this.attackCounter++,this.attackCounter%5!=0)return void this.superEnemyAttack(t,e,i);this.abilityService.setCounterEvent({callback:()=>{let s=[...this.parent.petArray];s=s.filter(r=>r.alive&&r!==this);for(let r of s)r.givePetEquipment(new Fs,this.level),this.logService.createLog({message:`${this.name} gave ${r.name} Melon.`,type:"ability",player:this.parent,tiger:i})},priority:this.attack,pet:this}),this.abilityUses++,this.superEnemyAttack(t,e,i)}}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=1}}class iI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Helmeted Hornbill",this.tier=6,this.pack="Danger",this.health=4,this.attack=5,this.initPet(o,s,r,a,l)}}class nI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Philippine Eagle",this.tier=6,this.pack="Danger",this.attack=6,this.health=5,this.initPet(o,s,r,a,l)}friendJumped(t,e,i){this.anyoneJumpedAbility(t,e,i),this.superFriendJumped(t,e,i)}enemyJumped(t,e,i){this.anyoneJumpedAbility(t,e,i),this.superEnemyJumped(t,e,i)}anyoneJumpedAbility(t,e,i){if(!this.alive)return;let s=this.parent.getRandomPet([this]);if(!s)return;let r=4*this.level;s.increaseAttack(r),this.logService.createLog({message:`${this.name} gave ${s.name} +${r} attack`,type:"ability",player:this.parent,tiger:i}),s.increaseHealth(r),this.logService.createLog({message:`${this.name} gave ${s.name} +${r} health`,type:"ability",player:this.parent,tiger:i})}}function Ez(n){return 1==n?0:2==n?2:5}class sI extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Silky Sifaka",this.tier=6,this.pack="Danger",this.attack=4,this.health=6,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=["Mammoth","Lionfish","Orca","Sabertooth Tiger","Warthog","Hydra","Phoenix","Bay Cat","Walrus","Ammonite"],s=[],r=this.petBehind();for(;r&&s.length<2;)s.push(r),r=r.petBehind();for(let a of s){let o=i[Math.floor(Math.random()*i.length)],l=this.petService.createPet({name:o,attack:a.attack,health:a.health,mana:a.mana,exp:Ez(this.level),equipment:a.equipment},this.parent);this.parent.transformPet(a,l),this.logService.createLog({message:`${this.name} transformed ${a.name} into level ${this.level} ${l.name}`,type:"ability",player:this.parent,tiger:e,randomEvent:!0})}this.superStartOfBattle(t,e)}}class rI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sumatran Tiger",this.tier=6,this.pack="Danger",this.attack=8,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.opponent.getPetAtPosition(this.position);i&&i.alive&&(this.jumpAttackPrep(i),this.jumpAttack(i,e),this.level>=2)&&this.dealAdjacentDamage(i,2==this.level?6:12,e),this.superStartOfBattle(t,e)}dealAdjacentDamage(t,e,i){let s=[];if(t.position<4){let r=t.parent.getPetAtPosition(t.position+1);r&&r.alive&&s.push(r)}if(t.position>0){let r=t.parent.getPetAtPosition(t.position-1);r&&r.alive&&s.push(r)}for(let r of s)this.snipePet(r,e,!0,i)}}class tg extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rock",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=1,this.attack=1,this.initPet(o,s,r,a,l)}}class aI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Basilisk",this.tier=1,this.pack="Custom",this.health=2,this.attack=1,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.petAhead;if(null==i&&(i=this.parent.opponent.petArray[0]),null==i)return;let s=2*this.level,r=i.health+s;r=Math.min(r,50);let a=new tg(this.logService,this.abilityService,i.parent,r,i.attack,i.mana,i.exp,i.equipment);this.logService.createLog({message:`${this.name} turned ${i.name} into a Rock with + ${s} health.`,type:"ability",player:this.parent,tiger:e}),i.parent.transformPet(i,a),this.superStartOfBattle(t,e)}}class _b extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Daycrawler",this.tier=1,this.pack="Custom",this.hidden=!0,this.health=1,this.attack=3,this.initPet(o,s,r,a,l)}}class oI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nightcrawler",this.tier=2,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}afterFaint(t,e,i){let r=this.parent==t.player?t.playerSummonedAmount:t.opponentSummonedAmount;if(0==r)return void super.superAfterFaint(t,e,i);let a=Math.min(50,this.level*r),l=new _b(this.logService,this.abilityService,this.parent,a,6,0,0);this.logService.createLog({message:`${this.name} spawned Daycrawler (6/${a})`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(l,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(l),super.superAfterFaint(t,e,i)}}class lI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Sphinx",this.tier=2,this.pack="Custom",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}}class cI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Chupacabra",this.tier=2,this.pack="Custom",this.attack=4,this.health=2,this.initPet(o,s,r,a,l)}knockOut(t,e,i){for(let s=0;s<3*this.level;s++){let r=this.parent.getRandomPet([this],!0,!1,!0);if(null==r)return;this.logService.createLog({message:`${this.name} gave ${r.name} 1 health.`,type:"ability",player:this.parent,tiger:i,randomEvent:!0}),r.increaseHealth(1)}this.superKnockOut(t,e,i)}}class uI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Golden Beetle",this.tier=2,this.pack="Custom",this.attack=2,this.health=3,this.initPet(o,s,r,a,l)}}class hI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Foo Dog",this.tier=3,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}}class dI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tree",this.tier=3,this.pack="Custom",this.attack=2,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){this.attack>6*this.level||(this.logService.createLog({message:`${this.name} gained Coconut.`,type:"ability",player:this.parent,tiger:e}),this.givePetEquipment(new zr),this.superStartOfBattle(t,e))}}class bb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Smaller Slime",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=2,this.attack=2,this.initPet(o,s,r,a,l)}}class fI extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Slime",this.tier=3,this.pack="Custom",this.attack=3,this.health=3,this.initPet(o,s,r,a,l),this.battlesFought=h}afterFaint(t,e,i){let s=Math.floor(this.battlesFought/2),r=2*this.level;for(let a=0;a<s;a++){let o=new bb(this.logService,this.abilityService,this.parent,null,null,0);this.logService.createLog({message:`${this.name} spawned Smaller Slime (${r}/${r}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(o,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(o)}super.superAfterFaint(t,e,i)}}class pI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Pegasus",this.tier=3,this.pack="Custom",this.attack=1,this.health=3,this.initPet(o,s,r,a,l)}friendSummoned(t,e,i){let s=this.parent.getRandomPets(3,[this],!0);for(let r of s)r.increaseAttack(this.level),this.logService.createLog({message:`${this.name} gave ${r.name} ${this.level} attack.`,type:"ability",player:this.parent,tiger:i})}}class gI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Deer Lord",this.tier=3,this.pack="Custom",this.attack=4,this.health=3,this.initPet(o,s,r,a,l)}}class mI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Fairy",this.tier=4,this.pack="Custom",this.attack=1,this.health=1,this.initPet(o,s,r,a,l)}}class vI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Rootling",this.tier=4,this.pack="Custom",this.attack=1,this.health=5,this.initPet(o,s,r,a,l)}}class yI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Anubis",this.tier=4,this.pack="Custom",this.attack=3,this.health=4,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.petArray.filter(s=>s.faintPet);for(let s of i)!s.alive||s.tier<=2*this.level&&(this.logService.createLog({message:`${this.name} activated ${s.name}'s faint ability.`,type:"ability",player:this.parent,tiger:e}),this.abilityService.setFaintEvent({callback:()=>{s.faint(t,!1,!1)},priority:100-s.position,pet:s}))}}class _I extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Old Mouse",this.tier=4,this.pack="Custom",this.attack=1,this.health=2,this.initPet(o,s,r,a,l)}}class bI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Hippocampus",this.tier=4,this.pack="Custom",this.attack=2,this.health=4,this.initPet(o,s,r,a,l)}friendGainsHealth(t,e,i){let s=2*this.level;this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack.`,type:"ability",player:this.parent,tiger:i}),e.increaseAttack(s),this.superFriendGainsHealth(t,e,i)}}class SI extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Goblin Shark",this.tier=4,this.pack="Custom",this.attack=6,this.health=3,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=6*this.level;for(let s of this.parent.opponent.petArray)if(s.alive&&s.health<=i){let r=this.petService.createPet({name:s.name,attack:s.attack,health:s.health,exp:s.exp,equipment:null,mana:0},this.parent);this.swallowedPets.push(r),s.health=0,this.logService.createLog({message:`${this.name} swallowed ${s.name}`,type:"ability",player:this.parent,tiger:e});break}this.superStartOfBattle(t,e)}afterFaint(t,e,i){for(;this.swallowedPets.length>0;){let s=this.swallowedPets.shift();this.logService.createLog({message:`${this.name} summoned ${s.name} (level ${s.level}).`,type:"ability",player:this.parent,tiger:e,pteranodon:i}),this.parent.summonPet(s,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(s)}super.superAfterFaint(t,e,i)}}class wI extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Red Lipped Batfish",this.tier=4,this.pack="Custom",this.attack=5,this.health=3,this.initPet(l,r,a,o,h)}startOfBattle(t,e){let i=this.parent.opponent.getPetAtPosition(this.position);if(!i||!i.alive)return;let s=Math.max(1,i.tier-this.level),r=this.petService.getRandomFaintPet(i.parent,s),a=this.petService.createPet({name:r.name,attack:i.attack,health:i.health,exp:i.exp,equipment:i.equipment,mana:i.mana},i.parent);this.logService.createLog({message:`${this.name} transformed ${i.name} into ${r.name}.`,type:"ability",player:this.parent,tiger:e,randomEvent:!0}),i.parent.transformPet(i,a),this.superStartOfBattle(t,e)}}class EI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Platybelodon",this.tier=4,this.pack="Custom",this.attack=3,this.health=5,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=0;this.parent===t.player?i=t.playerRollAmount||0:this.parent===t.opponet&&(i=t.opponentRollAmount||0);let s=this.level*Math.min(i,8);s>0&&this.parent.gainTrumpets(s,this,e),this.superStartOfBattle(t,e)}}class kI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Boitata",this.tier=5,this.pack="Custom",this.attack=2,this.health=9,this.initPet(o,s,r,a,l)}beforeAttack(t,e){if(this.abilityUses>=this.maxAbilityUses)return;let i=this.parent.opponent.furthestUpPet;null!=i&&(this.logService.createLog({message:`${this.name} gave ${i.name} Crisp.`,type:"ability",player:this.parent,tiger:e}),i.givePetEquipment(new pc),this.abilityUses++,this.superBeforeAttack(t,e))}setAbilityUses(){super.setAbilityUses(),this.maxAbilityUses=this.level}}class CI extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Kappa",this.tier=5,this.pack="Custom",this.attack=4,this.health=5,this.initPet(l,r,a,o,h)}afterFaint(t,e,i){let r=(this.parent==t.player?t.playerPetPool:t.opponentPetPool).get(3);for(let a=0;a<this.level;a++){let o=r[Math.floor(Math.random()*r.length)],l=r[Math.floor(Math.random()*r.length)],h=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:o},this.parent);this.logService.createLog({message:`${this.name} spawned a ${h.name} (14/16).`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.parent.summonPet(h,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(h);let f=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:l},this.parent.opponent);this.logService.createLog({message:`${this.name} spawned a ${f.name} (14/16) for the opponent.`,type:"ability",player:this.parent,tiger:e,pteranodon:i,randomEvent:!0}),this.parent.opponent.summonPet(f,this.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(f)}super.superAfterFaint(t,e,i)}}class AI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mimic",this.tier=5,this.pack="Custom",this.attack=3,this.health=6,this.initPet(o,s,r,a,l)}}class PI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Nurikabe",this.tier=5,this.pack="Custom",this.attack=5,this.health=6,this.maxAbilityUses=3,this.initPet(o,s,r,a,l)}}class Sb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tandgnost",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}}class wb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tandgrisner",this.tier=5,this.pack="Custom",this.attack=5,this.health=5,this.initPet(o,s,r,a,l)}}class Eb extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Great One",this.tier=6,this.pack="Custom",this.attack=7,this.health=13,this.initPet(o,s,r,a,l)}summoned(t,e){let i=[...this.parent.petArray,...this.parent.opponent.petArray];i=i.filter(s=>s!==this);for(let s of i)this.snipePet(s,6*this.level);this.superSummoned(t,e)}}class DI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Leviathan",this.tier=6,this.pack="Custom",this.attack=6,this.health=10,this.initPet(o,s,r,a,l)}}class TI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Questing Beast",this.tier=6,this.pack="Custom",this.attack=7,this.health=9,this.initPet(o,s,r,a,l)}}class xI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Cockatrice",this.tier=6,this.pack="Custom",this.attack=5,this.health=7,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=this.parent.opponent.petArray.reverse(),s=null;for(let o of i)if(o.level<=this.level){s=o;break}if(null==s)return;this.logService.createLog({message:`${this.name} transformed ${s.name} into a Rock.`,type:"ability",player:this.parent,tiger:e});let r=new tg(this.logService,this.abilityService,s.parent,s.health,s.attack,s.mana,s.exp,s.equipment);this.parent.opponent.setPet(s.position,r,!1)}}class aV extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Albatross",this.tier=6,this.pack="Custom",this.attack=5,this.health=4,this.initPet(o,s,r,a,l)}}class MI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Tarantula Hawk",this.tier=6,this.pack="Custom",this.health=2,this.attack=10,this.initPet(o,s,r,a,l)}startOfBattle(t,e){let i=Math.floor(this.attack/10)*this.level;if(i<=0)return;let r=(this.parent==t.player?t.opponet:t.player).petArray.filter(a=>a.alive);if(0!=r.length){for(let a of r)a.increaseHealth(-i),this.logService.createLog({message:`${this.name} removed ${i} health from ${a.name}`,type:"ability",player:this.parent,tiger:e});this.superStartOfBattle(t,e)}}}class II extends _{constructor(t,e,i,s,r,a,o,l,h,f){super(t,e,r),this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s,this.name="Good Dog",this.tier=5,this.pack="Unicorn",this.attack=3,this.health=3,this.hidden=!0,this.initPet(h,a,o,l,f)}startOfBattle(t,e){let i=this.parent.petArray,s=this.getInstanceOfAllEquipment(),r=Array.from(s.values());for(let a of i){let o=r[Math.floor(Math.random()*r.length)];this.logService.createLog({message:`${this.name} gave ${a.name} ${o.name}`,type:"ability",player:this.parent,randomEvent:!0}),a.givePetEquipment(o)}}getInstanceOfAllEquipment(){let t=new Map;return t.set("Garlic",new Uo),t.set("Meat Bone",new Wp),t.set("Steak",new oT),t.set("Melon",new Fs),t.set("Honey",new jp(this.logService,this.abilityService)),t.set("Chili",new bh(this.logService,this.abilityService)),t.set("Mushroom",new lT(this.logService,this.abilityService,this.petService)),t.set("Coconut",new zr),t.set("Peanut",new fc),t.set("Croissant",new cT),t.set("Rice",new Kp),t.set("Egg",new q_(this.logService,this.abilityService)),t.set("Lime",new uT),t.set("Salt",new $p),t.set("Pie",new tb(this.logService)),t.set("Skewer",new Yp(this.logService)),t.set("Lemon",new hT),t.set("Pancakes",new ib(this.logService)),t.set("Strawberry",new Q_(this.logService,this.abilityService)),t.set("Cucumber",new dT),t.set("Cheese",new Vp),t.set("Grapes",new _T),t.set("Carrot",new yT),t.set("Pepper",new Hp),t.set("Popcorn",new bT(this.logService,this.abilityService,this.petService,this.gameService)),t.set("Cherry",new nb),t.set("Chocolate Cake",new Jp(this.logService,this.abilityService)),t.set("Eggplant",new sb(this.logService)),t.set("Potato",new mT),t.set("Banana",new fT(this.logService,this.abilityService)),t.set("Onion",new x_(this.logService)),t.set("Pita Bread",new gT(this.logService)),t.set("Tomato",new vT(this.logService,this.abilityService)),t.set("Durian",new pT(this.logService,this.abilityService)),t.set("Fortune Cookie",new Fp),t.set("Blueberry",new ST),t.set("Donut",new wT),t.set("Pineapple",new ET),t.set("Fig",new kT(this.logService,this.abilityService)),t.set("Rambutan",new Zp(this.logService)),t.set("Love Potion",new lb(this.logService)),t.set("Fairy Dust",new AT(this.logService)),t.set("Gingerbread Man",new ab(this.logService)),t.set("Easter Egg",new CT(this.logService,this.abilityService)),t.set("Health Potion",new ob(this.logService)),t.set("Magic Beans",new DT),t.set("Golden Egg",new PT(this.logService,this.abilityService)),t.set("Squash",new TT(this.logService,this.abilityService)),t.set("Honeydew Melon",new A_),t.set("Ambrosia",new D_),t.set("Faint Bread",new xT(this.logService,this.abilityService,this.petService,this.gameService)),t.set("Seaweed",new MT(this.logService,this.abilityService,this.petService)),t.set("Caramel",new IT(this.logService,this.abilityService)),t.set("Baguette",new OT(this.logService,this.abilityService)),t}}class OI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Salmon",this.tier=1,this.pack="Star",this.attack=1,this.health=1,this.hidden=!0,this.initPet(o,s,r,a,l)}summoned(t,e){let i=1+Math.floor(this.health/25),s=5*this.level;for(let r=0;r<i;r++){let a=this.parent.opponent.getRandomPet([],!1,!0);a&&this.snipePet(a,s,!0,e)}this.superSummoned(t,e)}}class RI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Mimic Octopus",this.tier=6,this.pack="Star",this.attack=3,this.health=6,this.initPet(o,s,r,a,l)}afterAttack(t,e){let i=this.parent.opponent.getLowestHealthPets(this.level);for(let s of i)this.snipePet(s,4,!0,e);this.superAfterAttack(t,e)}}class NI extends _{constructor(t,e,i,s,r,a,o,l,h){super(t,e,s),this.logService=t,this.abilityService=e,this.petService=i,this.name="Ammonite",this.tier=6,this.pack="Star",this.attack=5,this.health=3,this.initPet(l,r,a,o,h)}faint(t,e,i){let s=this.petBehind();if(null!=s){let a=Math.floor((this.parent===t.player?t.playerRollAmount:t.opponentRollAmount)/2)*this.level,o=this.petService.createPet({name:"Mimic Octopus",attack:s.attack,health:s.health,equipment:s.equipment,mana:s.mana,exp:s.exp},this.parent);this.logService.createLog({message:`${this.name} transformed ${s.name} into ${o.name} with +${a} experience.`,type:"ability",player:this.parent,tiger:e}),this.parent.transformPet(s,o),o.increaseExp(a)}this.superFaint(t,e)}}class LI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Velociraptor",this.tier=6,this.pack="Star",this.attack=3,this.health=2,this.initPet(o,s,r,a,l)}friendAttacks(t,e,i){let s;for(let a=this.parent.petArray.indexOf(this)-1;a>=0;a--){let o=this.parent.petArray[a];if(o.alive&&o.equipment&&"Strawberry"===o.equipment.name){s=o;break}}if(s){if(s&&s.equipment&&"Strawberry"===s.equipment.name){s.removePerk(),this.logService.createLog({message:`${this.name} removed Strawberry from ${s.name}`,type:"ability",player:this.parent,tiger:i});let a=2*this.level,o=3*this.level,l=this.parent.petArray.filter(h=>h.alive);for(let h of l)h.increaseAttack(a),h.increaseHealth(o),this.logService.createLog({message:`${this.name} gave ${h.name} +${a} attack and +${o} health`,type:"ability",player:this.parent,tiger:i})}this.superFriendAttacks(t,e,i)}}}class BI extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Baby Urchin",this.tier=2,this.pack="Star",this.attack=2,this.health=1,this.initPet(o,s,r,a,l)}faint(t,e,i){let s=[this.parent.opponent.furthestUpPet];if(null!=s[0]){for(let r=0;r<this.level-1;r++){let o=s[r].petBehind();if(null==o)break;s.push(o)}for(let r of s)r.increaseHealth(-4),this.logService.createLog({message:`${this.name} removed 4 health from ${r.name}.`,type:"ability",player:this.parent,tiger:e,pteranodon:i});this.superFaint(t,e)}else this.superFaint(t,e)}}let kb=(()=>{class n{constructor(){this.logs=[]}createLog(e){e.tiger&&(e.message+=" (Tiger)"),e.puma&&(e.message+=" (Puma)"),e.pteranodon&&(e.message+=" (Pteranodon)"),null!=e.pantherMultiplier&&e.pantherMultiplier>1&&(e.message+=` x${e.pantherMultiplier} (Panther)`),this.logs.push(e)}getLogs(){return this.logs}reset(){this.logs=[]}printState(e,i,s){s&&this.createLog({message:s,type:"board"});let r="";r+=this.getPetText(e.pet4),r+=this.getPetText(e.pet3),r+=this.getPetText(e.pet2),r+=this.getPetText(e.pet1),r+=this.getPetText(e.pet0);let a="";a+=this.getPetText(i.pet0),a+=this.getPetText(i.pet1),a+=this.getPetText(i.pet2),a+=this.getPetText(i.pet3),a+=this.getPetText(i.pet4),this.createLog({message:`${r}| ${a}`,type:"board"})}getPetText(e){return null==e?"___ (-/-) ":`${e.name.substring(0,3)} (${e.attack}/${e.health}) `}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kh=(()=>{class n{constructor(){}init(e,i){this.gameApi={player:e,opponet:i}}setTierGroupPets(e,i){null!=e&&(this.gameApi.playerPetPool=e),null!=i&&(this.gameApi.opponentPetPool=i)}setPreviousShopTier(e){this.gameApi.previousShopTier=e}setTurnNumber(e){this.gameApi.turnNumber=e}setGoldSpent(e,i){null!=e&&(this.gameApi.playerGoldSpent=e),null!=i&&(this.gameApi.opponentGoldSpent=i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cb=(()=>{class n{constructor(e){this.gameService=e,this.afterAttackEvents=[],this.beforeAttackEvents=[],this.processedBeforeAttackPets=new Set,this.beforeStartOfBattleEvents=[],this.equipmentBeforeAttackEvents=[],this.afterFriendAttackEvents=[],this.beforeFriendAttacksEvents=[],this.friendGainsHealthEvents=[],this.friendGainedExperienceEvents=[],this.emptyFrontSpaceToyEvents=[],this.friendSummonedToyEvents=[],this.friendlyLevelUpToyEvents=[],this.friendFaintsToyEvents=[],this.friendJumpedToyEvents=[],this.globalEventQueue=[],this.ABILITY_PRIORITIES={levelUp:1,friendLevelUp:2,friendlyLevelUp:2,hurt:3,friendHurt:4,enemyHurt:4,gainsMana:5,summoned:6,friendSummoned:7,enemySummoned:7,enemyPushed:7,friendJumped:8,enemyJumped:8,faint:9,friendAheadFaints:10,afterFaint:11,friendFaints:12,enemyFaints:12,friendlyToyBroke:12,knockOut:13,transform:14,friendTransformed:14.5,friendGainedExperience:15,friendAteFood:16,eatsFood:16,counter:17,friendLostPerk:18,gainPerk:19,gainAilment:19,friendlyGainedPerk:20,enemyGainedPerk:20,friendlyGainedAilment:20,enemyGainedAilment:20,petFlung:21,manaSnipe:22,emptyFrontSpace:23,goldenRetrieverSummons:24}}get hasAbilityCycleEvents(){return this.globalEventQueue.length>0}addEventToQueue(e){const i=this.ABILITY_PRIORITIES[e.abilityType]||999;void 0===e.tieBreaker&&(e.tieBreaker=Math.random());let s=0,r=this.globalEventQueue.length;for(;s<r;){const a=Math.floor((s+r)/2),o=this.globalEventQueue[a],l=this.ABILITY_PRIORITIES[o.abilityType]||999;i<l?r=a:i>l?s=a+1:e.priority>o.priority?r=a:e.priority<o.priority?s=a+1:e.tieBreaker<o.tieBreaker?r=a:s=a+1}this.globalEventQueue.splice(s,0,e)}clearGlobalEventQueue(){this.globalEventQueue=[]}get hasGlobalEvents(){return this.globalEventQueue.length>0}getNextHighestPriorityEvent(){return this.globalEventQueue.shift()||null}peekNextHighestPriorityEvent(){return this.globalEventQueue.length>0?this.globalEventQueue[0]:null}getPriorityNumber(e){return this.ABILITY_PRIORITIES[e]||999}executeEventCallback(e){const i=this.gameService.gameApi,s=e.pet;if(s&&s.transformed&&s.transformedInto&&e.abilityType){const r=s.transformedInto;if("function"!=typeof r[e.abilityType])return;e.callback=r[e.abilityType].bind(r)}switch(e.abilityType){case"faint":case"beforeStartOfBattle":case"afterFaint":case"equipmentBeforeAttack":case"summoned":case"transform":e.callback(i);break;case"hurt":case"friendHurt":case"knockOut":case"enemyHurt":case"friendAheadFaints":case"friendFaints":case"eatsFood":case"friendAteFood":case"friendLostPerk":case"gainPerk":case"friendGainedPerk":case"friendGainedAilment":case"enemyGainedAilment":case"friendGainedExperience":case"levelUp":case"friendAttacks":case"beforeFriendAttacks":case"friendJumped":case"enemyJumped":case"friendTransformed":case"friendGainsHealth":case"friendlyLevelUp":case"friendSummoned":e.callback(i,e.callbackPet);break;case"afterAttack":case"enemySummoned":case"enemyPushed":case"friendlyToyBroke":case"gainAilment":case"emptyFrontSpace":e.callback(i,e.callbackPet,!1);break;case"friendJumpedToy":case"emptyFrontSpaceToy":e.callback(i,e.priority<100,e.level,e.priority);break;case"gainsMana":e.callback(null);break;case"manaSnipe":case"counter":e.callback();break;default:try{e.callback(i)}catch(r){e.callback(i,e.callbackPet)}}}initEndTurnEvents(e){let i=[];for(let s of e.petArray)s.endTurn&&i.push({callback:s.endTurn.bind(s),priority:s.attack,player:e});i=(0,at.shuffle)(i),i.sort((s,r)=>s.priority>r.priority?-1:s.priority<r.priority?1:0);for(let s of i)s.callback(this.gameService.gameApi)}setCounterEvent(e){e.abilityType="counter",this.addEventToQueue(e)}setHurtEvent(e){e.abilityType="hurt",this.addEventToQueue(e)}setFaintEvent(e){e.abilityType="faint",this.addEventToQueue(e)}setSummonedEvent(e){e.abilityType="summoned",this.addEventToQueue(e)}triggerFriendSummonedEvents(e){this.triggerFriendSummonedToyEvents(e.parent,e);for(let i of e.parent.petArray)i!=e&&null!=i.friendSummoned&&this.setFriendSummonedEvent({callback:i.friendSummoned.bind(i),priority:i.attack,callbackPet:e,pet:i})}setFriendSummonedEvent(e){e.abilityType="friendSummoned",this.addEventToQueue(e)}setAfterAttackEvent(e){this.afterAttackEvents.push(e)}resetAfterAttackEvents(){this.afterAttackEvents=[]}executeAfterAttackEvents(){this.afterAttackEvents=(0,at.shuffle)(this.afterAttackEvents),this.afterAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.afterAttackEvents)e.callback(this.gameService.gameApi);this.resetAfterAttackEvents()}setFriendAheadFaintsEvent(e){e.abilityType="friendAheadFaints",this.addEventToQueue(e)}setKnockOutEvent(e){e.abilityType="knockOut",this.addEventToQueue(e)}triggerFriendFaintsEvents(e){this.triggerFriendFaintsToyEvents(e.parent,e);for(let i of e.parent.petArray)null!=i.friendFaints&&this.setFriendFaintsEvent({callback:i.friendFaints.bind(i),priority:i.attack,pet:i,callbackPet:e})}setFriendFaintsEvent(e){e.abilityType="friendFaints",this.addEventToQueue(e)}setBeforeAttackEvent(e){this.beforeAttackEvents.push(e),e.pet&&this.processedBeforeAttackPets.add(e.pet)}resetBeforeAttackEvents(){this.beforeAttackEvents=[]}checkAndAddNewBeforeAttackEvents(){let e=this.gameService.gameApi;e.player.pet0&&e.player.pet0.beforeAttack&&!this.processedBeforeAttackPets.has(e.player.pet0)&&(this.beforeAttackEvents.push({callback:e.player.pet0.beforeAttack.bind(e.player.pet0),priority:e.player.pet0.attack,player:e.player}),this.processedBeforeAttackPets.add(e.player.pet0),this.beforeAttackEvents.sort((i,s)=>i.priority>s.priority?-1:i.priority<s.priority?1:0)),e.opponet.pet0&&e.opponet.pet0.beforeAttack&&!this.processedBeforeAttackPets.has(e.opponet.pet0)&&(this.beforeAttackEvents.push({callback:e.opponet.pet0.beforeAttack.bind(e.opponet.pet0),priority:e.opponet.pet0.attack,player:e.opponet}),this.processedBeforeAttackPets.add(e.opponet.pet0),this.beforeAttackEvents.sort((i,s)=>i.priority>s.priority?-1:i.priority<s.priority?1:0))}executeBeforeAttackEvents(){for(this.beforeAttackEvents=(0,at.shuffle)(this.beforeAttackEvents),this.beforeAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);this.beforeAttackEvents.length>0;)this.beforeAttackEvents.shift().callback(this.gameService.gameApi);this.processedBeforeAttackPets.clear(),this.resetBeforeAttackEvents()}setEqiupmentBeforeAttackEvent(e){this.equipmentBeforeAttackEvents.push(e)}resetEqiupmentBeforeAttackEvents(){this.equipmentBeforeAttackEvents=[]}executeEqiupmentBeforeAttackEvents(){this.equipmentBeforeAttackEvents=(0,at.shuffle)(this.equipmentBeforeAttackEvents),this.equipmentBeforeAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.equipmentBeforeAttackEvents)e.callback(this.gameService.gameApi);this.resetEqiupmentBeforeAttackEvents()}get hasEquipmentBeforeAttackEvents(){return this.equipmentBeforeAttackEvents.length>0}triggerFriendLostPerkEvents(e){for(let i of e.parent.petArray)null!=i.friendLostPerk&&this.setFriendLostPerkEvent({callback:i.friendLostPerk.bind(i),priority:i.attack,pet:i,callbackPet:e})}setFriendLostPerkEvent(e){e.abilityType="friendLostPerk",this.addEventToQueue(e)}setEatsFoodEvent(e){e.abilityType="eatsFood",this.addEventToQueue(e)}triggerFriendAteFoodEvents(e){for(let i of e.parent.petArray)null!=i.friendAteFood&&this.setFriendAteFoodEvent({callback:i.friendAteFood.bind(i),priority:i.attack,pet:i,callbackPet:e})}setFriendAteFoodEvent(e){e.abilityType="friendAteFood",this.addEventToQueue(e)}triggerGainedPerkEvents(e){for(let i of e.parent.petArray)i==e&&null!=i.gainedPerk&&this.setGainedPerkEvent({callback:i.gainedPerk.bind(i),priority:i.attack,pet:i,callbackPet:e})}setGainedPerkEvent(e){e.abilityType="gainPerk",this.addEventToQueue(e)}triggerFriendGainedPerkEvents(e){for(let i of e.parent.petArray)null!=i.friendGainedPerk&&this.setFriendGainedPerkEvent({callback:i.friendGainedPerk.bind(i),priority:i.attack,pet:i,callbackPet:e})}setFriendGainedPerkEvent(e){e.abilityType="friendGainedPerk",this.addEventToQueue(e)}triggerBeforeStartOfBattleEvents(e){for(let i of e.petArray)null!=i.beforeStartOfBattle&&this.setBeforeStartOfBattleEvent({callback:i.beforeStartOfBattle.bind(i),priority:i.attack,pet:i,player:e})}setBeforeStartOfBattleEvent(e){this.beforeStartOfBattleEvents.push(e)}resetBeforeStartOfBattleEvents(){this.beforeStartOfBattleEvents=[]}executeBeforeStartOfBattleEvents(){this.beforeStartOfBattleEvents=(0,at.shuffle)(this.beforeStartOfBattleEvents),this.beforeStartOfBattleEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.beforeStartOfBattleEvents)e.callback(this.gameService.gameApi);this.resetBeforeStartOfBattleEvents()}triggerFriendGainedAilmentEvents(e){for(let i of e.parent.petArray)null!=i.friendGainedAilment&&this.setFriendGainedAilmentEvent({callback:i.friendGainedAilment.bind(i),priority:i.attack,pet:i,callbackPet:e})}setFriendGainedAilmentEvent(e){e.abilityType="friendGainedAilment",this.addEventToQueue(e)}triggerEnemyGainedAilmentEvents(e,i){for(let s of e)null!=s.enemyGainedAilment&&this.setEnemyGainedAilmentEvent({callback:s.enemyGainedAilment.bind(s),priority:s.attack,pet:s,callbackPet:i})}setEnemyGainedAilmentEvent(e){e.abilityType="enemyGainedAilment",this.addEventToQueue(e)}triggerFriendlyToyBrokeEvents(e){for(let i of e.petArray)null!=i.friendlyToyBroke&&this.setFriendlyToyBrokeEvent({callback:i.friendlyToyBroke.bind(i),priority:i.attack,pet:i})}setFriendlyToyBrokeEvent(e){e.abilityType="friendlyToyBroke",this.addEventToQueue(e)}triggerTransformEvents(e){for(let i of e.petArray)null!=i.transform&&this.setTransformEvent({callback:i.transform.bind(i),priority:i.attack,pet:i})}setTransformEvent(e){e.abilityType="transform",this.addEventToQueue(e)}triggerFriendTransformedEvents(e,i){for(let s of e.petArray)null!=s.friendTransformed&&this.setFriendTransformedEvent({callback:s.friendTransformed.bind(s),priority:s.attack,pet:s,callbackPet:i})}setFriendTransformedEvent(e){e.abilityType="friendTransformed",this.addEventToQueue(e)}triggerEnemySummonedEvents(e,i){for(let s of e.petArray)null!=s.enemySummoned&&this.setEnemySummonedEvent({callback:s.enemySummoned.bind(s),priority:s.attack,pet:s,callbackPet:i})}setEnemySummonedEvent(e){e.abilityType="enemySummoned",this.addEventToQueue(e)}triggerEnemyPushedEvents(e,i){for(let s of e.petArray)null!=s.enemyPushed&&this.setEnemyPushedEvent({callback:s.enemyPushed.bind(s),priority:s.attack,pet:s,callbackPet:i})}setEnemyPushedEvent(e){e.abilityType="enemyPushed",this.addEventToQueue(e)}triggerFriendHurtEvents(e,i){for(let s of e.petArray)null!=s.friendHurt&&this.setFriendHurtEvent({callback:s.friendHurt.bind(s),priority:s.attack,pet:s,callbackPet:i})}setFriendHurtEvent(e){e.abilityType="friendHurt",this.addEventToQueue(e)}triggerLevelUpEvents(e,i){this.triggerFriendlyLevelUpToyEvents(e,i);for(let s of e.petArray)null!=s.anyoneLevelUp&&this.setLevelUpEvent({callback:s.anyoneLevelUp.bind(s),priority:s.attack,pet:s,callbackPet:i})}setLevelUpEvent(e){e.abilityType="levelUp",this.addEventToQueue(e)}triggerEmptyFrontSpaceEvents(e){for(let i of e.petArray)null!=i.emptyFrontSpace&&this.setEmptyFrontSpaceEvent({callback:i.emptyFrontSpace.bind(i),priority:i.attack,pet:i})}setEmptyFrontSpaceEvent(e){e.abilityType="emptyFrontSpace",this.addEventToQueue(e)}triggerEnemyHurtEvents(e,i){for(let s of e.petArray)null!=s.enemyHurt&&this.setEnemyHurtEvent({callback:s.enemyHurt.bind(s),priority:s.attack,pet:s,callbackPet:i})}setEnemyHurtEvent(e){e.abilityType="enemyHurt",this.addEventToQueue(e)}triggerFriendAttacksEvents(e,i){var s,r,a;for(let o of e.petArray)o!=i&&null!=o.friendAttacks&&this.setAfterFriendAttackEvent({callback:()=>o.friendAttacks(this.gameApi,i,!1),priority:o.attack,pet:o,callbackPet:i,abilityType:"friendAttacks"});null!=(null===(s=i.petBehind(null,!0))||void 0===s?void 0:s.friendAheadAttacks)&&this.setAfterFriendAttackEvent({callback:i.petBehind(null,!0).friendAheadAttacks.bind(i.petBehind(null,!0)),priority:i.petBehind(null,!0).attack,pet:i.petBehind(null,!0),callbackPet:i,abilityType:"friendAheadAttacks"}),null!=(null===(r=i.petAhead)||void 0===r?void 0:r.adjacentAttacked)&&this.setAfterFriendAttackEvent({callback:()=>i.petAhead.adjacentAttacked(this.gameApi,i),priority:i.petAhead.attack,pet:i.petAhead,callbackPet:i,abilityType:"adjacentFriendAttacks"}),null!=(null===(a=i.petBehind(null,!0))||void 0===a?void 0:a.adjacentAttacked)&&this.setAfterFriendAttackEvent({callback:()=>i.petBehind(null,!0).adjacentAttacked(this.gameApi,i),priority:i.petBehind(null,!0).attack,pet:i.petBehind(null,!0),callbackPet:i,abilityType:"adjacentFriendAttacks"}),this.triggerEnemyAttackEvents(i.parent.opponent,i)}triggerBeforeFriendAttacksEvents(e,i){for(let s of e.petArray)s!==i&&null!=s.beforeFriendAttacks&&this.setBeforeFriendAttacksEvent({callback:s.beforeFriendAttacks.bind(s),priority:s.attack,pet:s,callbackPet:i})}setBeforeFriendAttacksEvent(e){this.beforeFriendAttacksEvents.push(e)}resetBeforeFriendAttacksEvents(){this.beforeFriendAttacksEvents=[]}executeBeforeFriendAttacksEvents(){this.beforeFriendAttacksEvents=(0,at.shuffle)(this.beforeFriendAttacksEvents),this.beforeFriendAttacksEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.beforeFriendAttacksEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetBeforeFriendAttacksEvents()}setAfterFriendAttackEvent(e){this.afterFriendAttackEvents.push(e)}resetAfterFriendAttackEvents(){this.afterFriendAttackEvents=[]}executeAfterFriendAttackEvents(){this.afterFriendAttackEvents=(0,at.shuffle)(this.afterFriendAttackEvents),this.afterFriendAttackEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.afterFriendAttackEvents)e.callback(this.gameService.gameApi,e.callbackPet,!1);this.resetAfterFriendAttackEvents()}triggerEnemyAttackEvents(e,i){for(let s of e.petArray)null!=s.enemyAttack&&this.setAfterFriendAttackEvent({callback:s.enemyAttack.bind(s),priority:s.attack,pet:s,callbackPet:i,abilityType:"enemyAttack"})}triggerFriendJumpedEvents(e,i){for(let s of e.petArray)s!=i&&null!=s.friendJumped&&this.setFriendJumpedEvent({callback:s.friendJumped.bind(s),priority:s.attack,pet:s,callbackPet:i})}setFriendJumpedEvent(e){e.abilityType="friendJumped",this.addEventToQueue(e)}triggerEnemyJumpedEvents(e,i){for(let s of e.opponent.petArray)null!=s.enemyJumped&&this.setEnemyJumpedEvent({callback:s.enemyJumped.bind(s),priority:s.attack,pet:s,callbackPet:i})}setEnemyJumpedEvent(e){e.abilityType="enemyJumped",this.addEventToQueue(e)}setManaEvent(e){e.abilityType="manaSnipe",this.addEventToQueue(e)}setGainManaEvents(e){e.abilityType="gainsMana",this.addEventToQueue(e)}triggerFriendGainsHealthEvents(e,i){for(let s of e.petArray)s!=i&&null!=s.friendGainsHealth&&this.setFriendGainsHealthEvent({callback:s.friendGainsHealth.bind(s),priority:s.attack,pet:s,callbackPet:i})}setFriendGainsHealthEvent(e){this.friendGainsHealthEvents.push(e)}resetFriendGainsHealthEvents(){this.friendGainsHealthEvents=[]}executeFriendGainsHealthEvents(){this.friendGainsHealthEvents=(0,at.shuffle)(this.friendGainsHealthEvents),this.friendGainsHealthEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendGainsHealthEvents)e.callback(this.gameApi,e.callbackPet);this.resetFriendGainsHealthEvents()}triggerFriendGainedExperienceEvents(e,i){for(let s of e.petArray)s!==i&&null!=s.friendGainedExperience&&this.setFriendGainedExperienceEvent({callback:s.friendGainedExperience.bind(s),priority:s.attack,pet:s,callbackPet:i})}setFriendGainedExperienceEvent(e){this.friendGainedExperienceEvents.push(e)}setAfterFaintEvents(e){e.abilityType="afterFaint",this.addEventToQueue(e)}triggerEmptyFrontSpaceToyEvents(e){var i;if(null!=(null===(i=e.toy)||void 0===i?void 0:i.emptyFromSpace)){if(e.toy.used)return;this.setEmptyFrontSpaceToyEvent({callback:e.toy.emptyFromSpace.bind(e.toy),priority:100,level:e.toy.level});let s=e.petArray.filter(r=>r instanceof Er);for(let r of s)this.setEmptyFrontSpaceToyEvent({callback:e.toy.emptyFromSpace.bind(e.toy),priority:+r.attack,level:r.level})}}setEmptyFrontSpaceToyEvent(e){this.emptyFrontSpaceToyEvents.push(e)}resetEmptyFrontSpaceToyEvents(){this.emptyFrontSpaceToyEvents=[]}executeEmptyFrontSpaceToyEvents(){this.emptyFrontSpaceToyEvents=(0,at.shuffle)(this.emptyFrontSpaceToyEvents),this.emptyFrontSpaceToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.emptyFrontSpaceToyEvents)e.callback(this.gameService.gameApi,e.priority<100,e.level,e.priority);this.resetEmptyFrontSpaceToyEvents()}triggerFriendSummonedToyEvents(e,i){var s;if(null!=(null===(s=e.toy)||void 0===s?void 0:s.friendSummoned)){this.setFriendSummonedToyEvent({callback:e.toy.friendSummoned.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(a=>a instanceof Er);for(let a of r)this.setFriendSummonedToyEvent({callback:e.toy.friendSummoned.bind(e.toy),priority:+a.attack,level:a.level,callbackPet:i})}}setFriendSummonedToyEvent(e){this.friendSummonedToyEvents.push(e)}resetFriendSummonedToyEvents(){this.friendSummonedToyEvents=[]}executeFriendSummonedToyEvents(){this.friendSummonedToyEvents=(0,at.shuffle)(this.friendSummonedToyEvents),this.friendSummonedToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendSummonedToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendSummonedToyEvents()}triggerFriendlyLevelUpToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendlyLevelUp)){this.setFriendlyLevelUpToyEvent({callback:e.toy.friendlyLevelUp.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(a=>a instanceof Er);for(let a of r)this.setFriendlyLevelUpToyEvent({callback:e.toy.friendlyLevelUp.bind(e.toy),priority:+a.attack,level:a.level,callbackPet:i})}}setFriendlyLevelUpToyEvent(e){this.friendlyLevelUpToyEvents.push(e)}resetFriendlyLevelUpToyEvents(){this.friendlyLevelUpToyEvents=[]}executeFriendlyLevelUpToyEvents(){this.friendlyLevelUpToyEvents=(0,at.shuffle)(this.friendlyLevelUpToyEvents),this.friendlyLevelUpToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendlyLevelUpToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendlyLevelUpToyEvents()}triggerFriendFaintsToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendFaints)){this.setFriendFaintsToyEvent({callback:e.toy.friendFaints.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(a=>a instanceof Er);for(let a of r)this.setFriendFaintsToyEvent({callback:e.toy.friendFaints.bind(e.toy),priority:+a.attack,level:+a.level,callbackPet:i})}}setFriendFaintsToyEvent(e){this.friendFaintsToyEvents.push(e)}resetFriendFaintsToyEvents(){this.friendFaintsToyEvents=[]}executeFriendFaintsToyEvents(){this.friendFaintsToyEvents=(0,at.shuffle)(this.friendFaintsToyEvents),this.friendFaintsToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendFaintsToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendFaintsToyEvents()}triggerFriendJumpedToyEvents(e,i){var s;if(e==i.parent&&null!=(null===(s=e.toy)||void 0===s?void 0:s.friendJumped)){this.setFriendJumpedToyEvent({callback:e.toy.friendJumped.bind(e.toy),priority:100,level:e.toy.level,callbackPet:i});let r=e.petArray.filter(a=>a instanceof Er);for(let a of r)this.setFriendJumpedToyEvent({callback:e.toy.friendJumped.bind(e.toy),priority:+a.attack,level:a.level,callbackPet:i})}}setFriendJumpedToyEvent(e){this.friendJumpedToyEvents.push(e)}resetFriendJumpedToyEvents(){this.friendJumpedToyEvents=[]}executeFriendJumpedToyEvents(){this.friendJumpedToyEvents=(0,at.shuffle)(this.friendJumpedToyEvents),this.friendJumpedToyEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.friendJumpedToyEvents)e.callback(this.gameService.gameApi,e.callbackPet,e.priority<100,e.level);this.resetFriendJumpedToyEvents()}}return n.\u0275fac=function(e){return new(e||n)(F(kh))},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ab=(()=>{class n{constructor(e,i,s){this.logService=e,this.abilityService=i,this.gameService=s,this.turtlePackPets=new Map,this.puppyPackPets=new Map,this.starPackPets=new Map,this.goldenPackPets=new Map,this.unicornPackPets=new Map,this.customPackPets=new Map,this.dangerPackPets=new Map,this.playerCustomPackPets=new Map,this.allPets=new Map,this.startOfBattlePets=["Beetle","Cone Snail","Frilled Dragon","Frog","Gecko","Goose","Hummigbird","Mosquito","Moth","Seahorse","Atlantic Puffin","Bat","Crab","Panda","Robin","Salamander","Wombat","Dodo","Dolphin","Eel","Meerkat","Pug","Woodpecker","Doberman","Hawk","Lynx","Pelican","Skunk","Whale","Armadillo","Crocodile","Hyena","Macaque","Sword Fish","Highland Cow","Leopard","Mantis Shrimp","Stegosaurus","Therizinosaurus","White Tiger","Alchemedes","Axehandle Hound","Barghest","Bunyip","Sneaky Egg","Tsuchinoko","Ogopogo","Thunderbird","Mana Hound","Mandrake","Kraken","Roc","Red Dragon","Salmon of Knowledge","Werewolf","Sleipnir","Basilisk","Tree","Anubis","Cockatrice"]}buildCustomPackPets(e){for(let i of e.controls){let s=new Map;for(let r=1;r<=6;r++)s.set(r,i.get(`tier${r}Pets`).value);this.playerCustomPackPets.set(i.get("name").value,s)}}init(){this.turtlePackPets.set(1,["Ant","Cricket","Duck","Fish","Horse","Mosquito","Beaver","Otter","Pig","Pigeon"]),this.turtlePackPets.set(2,["Snail","Crab","Swan","Rat","Hedgehog","Peacock","Flamingo","Worm","Kangaroo","Spider"]),this.turtlePackPets.set(3,["Dodo","Badger","Dolphin","Giraffe","Elephant","Camel","Rabbit","Ox","Dog","Sheep"]),this.turtlePackPets.set(4,["Skunk","Hippo","Bison","Blowfish","Turtle","Squirrel","Penguin","Deer","Whale","Parrot"]),this.turtlePackPets.set(5,["Scorpion","Crocodile","Rhino","Monkey","Armadillo","Cow","Seal","Rooster","Shark","Turkey"]),this.turtlePackPets.set(6,["Leopard","Tiger","Boar","Wolverine","Gorilla","Dragon","Mammoth","Cat","Snake","Fly"]),this.puppyPackPets.set(1,["Duck","Beaver","Moth","Bluebird","Chinchilla","Beetle","Ladybug","Chipmunk","Gecko","Ferret"]),this.puppyPackPets.set(2,["Robin","Bat","Bilby","Dromedary","Shrimp","Beluga Sturgeon","Tabby Cat","Mandrill","Lemur","Goldfish"]),this.puppyPackPets.set(3,["Hoopoe Bird","Tropical Fish","Toucan","Hatching Chick","Owl","Mole","Flying Squirrel","Pangolin","Puppy","Hare"]),this.puppyPackPets.set(4,["Microbe","Lobster","Buffalo","Llama","Caterpillar","Doberman","Tahr","Whale Shark","Chameleon","Gharial"]),this.puppyPackPets.set(5,["Stonefish","Goat","Chicken","Eagle","Orchid Mantis","Panther","Axolotl","Snapping Turtle","Mosasaurus","Sting Ray"]),this.puppyPackPets.set(6,["Dragon","Mantis Shrimp","Lionfish","Tyrannosaurus","Octopus","Anglerfish","Sauropod","Elephant Seal","Puma","Mongoose"]),this.starPackPets.set(1,["Mouse","Pillbug","Cockroach","Frog","Hummingbird","Marmoset","Kiwi","Chihuahua","Firefly"]),this.starPackPets.set(2,["Koala","Salamander","Guinea Pig","Jellyfish","Dove","Stork","Iguana","DumboOctopus","Bass","Shima Enaga"]),this.starPackPets.set(3,["Leech","Toad","Cabybara","Okapi","Cassowary","Anteater","Pug","Orangutang","Tuna"]),this.starPackPets.set(4,["Hawk","Clownfish","Platypus","Praying Mantis","Donkey","Fairy Armadillo","Fossa","Elk","Sparrow"]),this.starPackPets.set(5,["Sword Fish","Triceratops","Hamster","Shoebill","Woodpecker","Starfish","Blobfish","Pelican","Vulture","Ibex"]),this.starPackPets.set(6,["Ostrich","Reindeer","Piranha","Orca","Spinosaurus","Real Velociraptor","Sabertooth Tiger","Ammonite","Velociraptor","Alpaca"]),this.goldenPackPets.set(1,["Chipmunk","Bulldog","Groundhog","Cone Snail","Goose","Lemming","Pied Tamarin","Opossum","Silkmoth","Magpie"]),this.goldenPackPets.set(2,["Hercules Beetle","Stoat","Black Necked Stilt","Squid","Sea Urchin","Door Head Ant","Lizard","Sea Turtle","Meerkat","African Penguin"]),this.goldenPackPets.set(3,["Musk Ox","Flea","Bear","Royal Flycatcher","Surgeon Fish","Weasel","Guineafowl","Flying Fish","Baboon","Osprey"]),this.goldenPackPets.set(4,["Manatee","Cuttlefish","Saiga Antelope","Sealion","Vaquita","Slug","Poison Dart Frog","Falcon","Manta Ray","Cockatoo"]),this.goldenPackPets.set(5,["Macaque","Nyala","Nurse Shark","Beluga Whale","Wolf","Secretary Bird","Fire Ant","Blue Ringed Octopus","Crane","Emu","Egyptian Vulture"]),this.goldenPackPets.set(6,["Wildebeast","Highland Cow","Catfish","Pteranodon","Warthog","Cobra","Grizzly Bear","German Shephard","Bird of Paradise","Oyster","Rockhopper Penguin"]),this.unicornPackPets.set(1,["Baku","Axehandle Hound","Barghest","Tsuchinoko","Murmel","Alchemedes","Pengobble","Warf","Bunyip","Sneaky Egg","Cuddle Toad","???"]),this.unicornPackPets.set(2,["Ghost Kitten","Frost Wolf","Mothman","Drop Bear","Jackalope","Ogopogo","Thunderbird","Gargoyle","Wyvern","Bigfoot"]),this.unicornPackPets.set(3,["Skeleton Dog","Mandrake","Fur-Bearing Trout","Mana Hound","Calygreyhound","Brain Cramp","Lucky Cat","Tatzelwurm","Ouroboros","Griffin"]),this.unicornPackPets.set(4,["Kraken","Visitor","Unicorn","Tiger Bug","Minotaur","Cyclops","Chimera","Roc","Worm of Sand","Abomination"]),this.unicornPackPets.set(5,["Red Dragon","Vampire Bat","Loveland Frogman","Salmon of Knowledge","Jersey Devil","Pixiu","Kitsune","Nessie","Bad Dog","Werewolf","Amalgamation"]),this.unicornPackPets.set(6,["Manticore","Phoenix","Quetzalcoatl","Team Spirit","Sleipnir","Sea Serpent","Yeti","Cerberus","Hydra","Behemoth"]),this.dangerPackPets.set(1,["African Wild Dog","Iriomote Cat","Ili Pika","Malay Tapir","Bombus Dahlbomii","Ethiopian Wolf","Fan Mussel","Togian Babirusa","Tooth Billed Pigeon","Volcano Snail"]),this.dangerPackPets.set(2,["Araripe Manakin","Darwin's Fox","European Mink","Proboscis Monkey","Pygmy Hog","Saola","Saker Falcon","Taita Shrew","Takhi","White-Bellied Heron"]),this.dangerPackPets.set(3,["Amami Rabbit","Blue-Throated Macaw","Hirola","Monkey-Faced Bat","Takin","Tree Kangaroo","Tucuxi","Pygmy Hippo","Roloway Monkey","Spoon-Billed Sandpiper"]),this.dangerPackPets.set(4,["Amazon River Dolphin","Angelshark","Bonobo","Giant Otter","Giant Tortoise","Golden Tamarin","Humphead Wrasse","Kakapo","Longcomb Sawfish","Tasmanian Devil"]),this.dangerPackPets.set(5,["Aye-aye","Banggai Cardinalfish","Geometric Tortoise","Giant Pangasius","Hawaiian Monk Seal","Marine Iguana","Red Panda","Snow Leopard","Taita Thrush","Painted Terrapin"]),this.dangerPackPets.set(6,["Amsterdam Albatross","Bay Cat","Black Rhino","Blue Whale","California Condor","Green Sea Turtle","Helmeted Hornbill","Philippine Eagle","Silky Sifaka","Sumatran Tiger"]),this.customPackPets.set(1,["Frilled Dragon","Mouse","Basilisk","Duckling","Seahorse"]),this.customPackPets.set(2,["Frigatebird","Wombat","Frigatebird","Nightcrawler","Sphinx","Chupacabra","Golden Beetle","Yak","Panda","Atlantic Puffin"]),this.customPackPets.set(3,["Aardvark","Emperor Tamarin","Porcupine","Wasp","Foo Dog","Tree","Slime","Pegasus","Deer Lord","Betta Fish"]),this.customPackPets.set(4,["Jerboa","Dragonfly","Lynx","Seagull","Fairy","Rootling","Anubis","Old Mouse","Hippocampus","Goblin Shark","Red Lipped Batfish","Platybelodon","Eel","Crow"]),this.customPackPets.set(5,["Poodle","Hyena","Moose","Raccoon","Sea Cucumber","Silver Fox","Boitata","Kappa","Mimic","Nurikabe","Tandgnost","Tandgrisner","Fox","Lion","Polar Bear","Siberian Husky","Zebra"]),this.customPackPets.set(6,["Lioness","Tapir","Walrus","White Tiger","Great One","Leviathan","Questing Beast","Cockatrice","Albatross","Amargasaurus","Tarantula Hawk","Hammerhead Shark","Komodo","Stegosaurus","Harpy Eagle","Therizinosaurus"]),this.setAllPets()}setAllPets(){this.allPets=new Map;for(let e=1;e<=6;e++)this.allPets.set(e,[]);for(let[e,i]of this.turtlePackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.puppyPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.starPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.goldenPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.unicornPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.dangerPackPets)this.allPets.get(e).push(...i);for(let[e,i]of this.allPets)this.allPets.set(e,[...new Set(i)])}createPet(e,i){switch(e.name){case"Ant":return new M_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cricket":return new O0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fish":return new I_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Horse":return new R0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mosquito":return new N0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Duck":return new O_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beaver":return new R_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Otter":return new L0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pig":return new B0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mouse":return new $0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pigeon":return new WT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snail":return new bz(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crab":return new V0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Swan":return new H0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rat":return new F0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hedgehog":return new q0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Peacock":return new U0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flamingo":return new G0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Worm":return new j0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kangaroo":return new W0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Spider":return new z0(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dodo":return new K0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Badger":return new Q0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dolphin":return new L_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Giraffe":return new Y0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Elephant":return new J0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Camel":return new Z0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rabbit":return new X0(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ox":return new eA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dog":return new tA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sheep":return new iA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Skunk":return new sA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hippo":return new rA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bison":return new aA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blowfish":return new oA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Turtle":return new lA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Squirrel":return new cA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Penguin":return new uA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Deer":return new hA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Whale":return new dA(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Parrot":return new _h(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Scorpion":return new fA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crocodile":return new pA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rhino":return new gA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Monkey":return new H_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Armadillo":return new mA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cow":return new vA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Seal":return new yA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rooster":return new _A(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shark":return new bA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Turkey":return new SA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Leopard":return new wA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Boar":return new EA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tiger":return new nA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wolverine":return new kA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gorilla":return new CA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dragon":return new AA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mammoth":return new PA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cat":return new DA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snake":return new TA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fly":return new xA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Moth":return new MA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bluebird":return new IA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chinchilla":return new OA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beetle":return new RA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ladybug":return new NA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chipmunk":return new LA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gecko":return new BA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ferret":return new $A(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Robin":return new FA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bat":return new VA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bilby":return new HA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dromedary":return new qA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shrimp":return new UA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Toucan":return new GA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beluga Sturgeon":return new jA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tabby Cat":return new WA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mandrill":return new zA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lemur":return new G_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hoopoe Bird":return new KA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tropical Fish":return new QA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hatching Chick":return new YA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goldfish":return new JA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Owl":return new ZA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mole":return new Qp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Raccoon":return new XA(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flying Squirrel":return new U_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pangolin":return new tP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Puppy":return new iP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hare":return new wh(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Microbe":return new nP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lobster":return new sP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Buffalo":return new rP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Llama":return new aP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Caterpillar":return new oP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Doberman":return new lP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tahr":return new cP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Whale Shark":return new uP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chameleon":return new hP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gharial":return new dP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stonefish":return new fP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Poodle":return new pP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goat":return new bP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chicken":return new gP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Eagle":return new mP(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Orchid Mantis":return new vP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Panther":return new yP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Axolotl":return new _P(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snapping Turtle":return new SP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mosasaurus":return new wP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sting Ray":return new EP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mantis Shrimp":return new kP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lionfish":return new CP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tyrannosaurus":return new AP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Octopus":return new PP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Anglerfish":return new DP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sauropod":return new TP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Elephant Seal":return new xP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Puma":return new Er(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mongoose":return new MP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pillbug":return new IP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Duckling":return new OP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cockroach":return new RP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frog":return new NP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Seahorse":return new BP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Iguana":return new $P(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hummingbird":return new VP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Marmoset":return new Q1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kiwi":return new UT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chihuahua":return new LP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Firefly":return new GT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Koala":return new HP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Yak":return new FP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Salamander":return new UP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Panda":return new GP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Guinea Pig":return new jP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jellyfish":return new zP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pug":return new WP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Atlantic Puffin":return new KP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dove":return new QP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stork":return new YP(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"DumboOctopus":return new qP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bass":return new jT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shima Enaga":return new JP(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Leech":return new ZP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Woodpecker":return new XP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Toad":return new tD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Starfish":return new iD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Clownfish":return new nD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blobfish":return new sD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cabybara":return new rD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Okapi":return new aD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cassowary":return new oD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Anteater":return new _D(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tuna":return new eD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Orangutang":return new W_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Eel":return new hD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hawk":return new dD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Platypus":return new fD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Praying Mantis":return new pD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crow":return new gD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Donkey":return new mD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pelican":return new yD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fairy Armadillo":return new K_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fossa":return new uD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Siamese":return new lD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Elk":return new cD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sparrow":return new vD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sword Fish":return new bD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Polar Bear":return new SD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Siberian Husky":return new wD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lion":return new ED(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Triceratops":return new kD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Zebra":return new CD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fox":return new AD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hamster":return new PD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Shoebill":return new DD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Vulture":return new TD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ibex":return new xD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Komodo":return new MD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ostrich":return new ID(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Reindeer":return new OD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stegosaurus":return new RD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Piranha":return new ND(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hammerhead Shark":return new LD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Therizinosaurus":return new BD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Harpy Eagle":return new $D(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Real Velociraptor":return new VD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sabertooth Tiger":return new HD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Orca":return new FD(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Spinosaurus":return new qD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bulldog":return new UD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Groundhog":return new Y_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cone Snail":return new GD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goose":return new jD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lemming":return new KD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pied Tamarin":return new WD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Opossum":return new qT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Silkmoth":return new zD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Magpie":return new QD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hercules Beetle":return new YD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Stoat":return new JD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Black Necked Stilt":return new ZD(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Squid":return new e1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Urchin":return new t1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Door Head Ant":return new i1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lizard":return new n1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Turtle":return new s1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"African Penguin":return new r1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Musk Ox":return new a1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flea":return new o1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Royal Flycatcher":return new k1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Surgeon Fish":return new l1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Weasel":return new Z_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Guineafowl":return new c1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Betta Fish":return new u1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Meerkat":return new h1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Flying Fish":return new d1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Baboon":return new f1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Osprey":return new p1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Manatee":return new g1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cuttlefish":return new m1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Egyptian Vulture":return new v1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Saiga Antelope":return new y1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sealion":return new _1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Vaquita":return new b1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Slug":return new S1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Poison Dart Frog":return new w1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Secretary Bird":return new E1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Falcon":return new C1(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Manta Ray":return new A1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Macaque":return new P1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nyala":return new D1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nurse Shark":return new T1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Beluga Whale":return new x1(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.belugaSwallowedPet);case"Wolf":return new M1(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Silver Fox":return new I1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fire Ant":return new O1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cockatoo":return new R1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blue Ringed Octopus":return new N1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Crane":return new L1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Emu":return new B1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wildebeast":return new $1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Highland Cow":return new V1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Catfish":return new H1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pteranodon":return new F1(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Warthog":return new q1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cobra":return new U1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Grizzly Bear":return new G1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"German Shephard":return new j1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bird of Paradise":return new W1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Oyster":return new z1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rockhopper Penguin":return new K1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jerboa":return new Y1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frilled Dragon":return new J1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wombat":return new Z1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frigatebird":return new X1(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Aardvark":return new eT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bear":return new tT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Emperor Tamarin":return new iT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Porcupine":return new nT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wasp":return new sT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dragonfly":return new rT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lynx":return new aT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Seagull":return new RT(this.logService,this.abilityService,this,this.gameService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Alpaca":return new Xp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hyena":return new NT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Moose":return new LT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Cucumber":return new eP(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lioness":return new BT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tapir":return new $T(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Walrus":return new VT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"White Tiger":return new HT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Basilisk":return new aI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nightcrawler":return new oI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sphinx":return new lI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chupacabra":return new cI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Golden Beetle":return new uI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Foo Dog":return new hI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tree":return new dI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Slime":return new fI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.battlesFought);case"Pegasus":return new pI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Deer Lord":return new gI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fairy":return new mI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rootling":return new vI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Anubis":return new yI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Old Mouse":return new _I(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hippocampus":return new bI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Goblin Shark":return new SI(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Red Lipped Batfish":return new wI(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Platybelodon":return new EI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Boitata":return new kI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kappa":return new CI(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mimic":return new AI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nurikabe":return new PI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tandgnost":return new Sb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tandgrisner":return new wb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Great One":return new Eb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Leviathan":return new DI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Questing Beast":return new TI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cockatrice":return new xI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Amargasaurus":return new FT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tarantula Hawk":return new MI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Angry Pygmy Hog":return new V_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bee":return new Sh(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bus":return new $_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Butterfly":return new j_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chick":return new F_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Dirty Ray":return new N_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Golden Retriever":return new T_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lizard Tail":return new J_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nest":return new zp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ram":return new B_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Smaller Slug":return new eb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Smallest Slug":return new X_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Zombie Cricket":return new yh(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Zombie Fly":return new Gp(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cracked Egg":return new cb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nessie?":return new pb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Young Phoenix":return new gb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fire Pup":return new mb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Monty":return new rb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Rock":return new tg(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Daycrawler":return new _b(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Smaller Slime":return new bb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chim-Goat":return new ub(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chim-Lion":return new hb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chim-Snake":return new db(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Head":return new vb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Good Dog":return new II(this.logService,this.abilityService,this,this.gameService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Salmon":return new OI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mimic Octopus":return new RI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ammonite":return new NI(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Velociraptor":return new LI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Baby Urchin":return new BI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fairy Ball":return new z_(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp);case"Baku":return new zT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Axehandle Hound":return new QT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Barghest":return new YT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tsuchinoko":return new JT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Murmel":return new ZT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Alchemedes":return new XT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pengobble":return new ex(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Warf":return new tx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bunyip":return new ix(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sneaky Egg":return new nx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cuddle Toad":return new sx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"???":return new KT(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ghost Kitten":return new rx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Frost Wolf":return new ox(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mothman":return new lx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Drop Bear":return new cx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jackalope":return new ux(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ogopogo":return new dx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Thunderbird":return new fx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Gargoyle":return new px(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bigfoot":return new gx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Lucky Cat":return new hx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Skeleton Dog":return new mx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mandrake":return new vx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fur-Bearing Trout":return new yx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Mana Hound":return new _x(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Calygreyhound":return new bx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Brain Cramp":return new Sx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Minotaur":return new wx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Wyvern":return new Ex(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ouroboros":return new kx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Griffin":return new Cx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kraken":return new Ax(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Visitor":return new Px(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Vampire Bat":return new Dx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tiger Bug":return new Tx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tatzelwurm":return new xx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cyclops":return new Mx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Chimera":return new Ix(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Roc":return new Ox(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Worm of Sand":return new Rx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Abomination":return new Nx(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment,e.abominationSwallowedPet1,e.abominationSwallowedPet2,e.abominationSwallowedPet3);case"Red Dragon":return new Lx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Unicorn":return new Bx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Loveland Frogman":return new $x(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Salmon of Knowledge":return new fb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Jersey Devil":return new Hx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pixiu":return new Fx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kitsune":return new qx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Nessie":return new Ux(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bad Dog":return new Gx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Werewolf":return new jx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Amalgamation":return new Vx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Manticore":return new Wx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Phoenix":return new zx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Quetzalcoatl":return new Kx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Team Spirit":return new Qx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sleipnir":return new Yx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sea Serpent":return new Jx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Yeti":return new Zx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Cerberus":return new Xx(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hydra":return new eM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Behemoth":return new tM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Iriomote Cat":return new iM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ili Pika":return new nM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Malay Tapir":return new sM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bombus Dahlbomii":return new rM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"African Wild Dog":return new uM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Ethiopian Wolf":return new yb(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Fan Mussel":return new aM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Togian Babirusa":return new oM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tooth Billed Pigeon":return new lM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Volcano Snail":return new cM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Araripe Manakin":return new hM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"European Mink":return new dM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Proboscis Monkey":return new fM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pygmy Hog":return new pM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Saola":return new gM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Saker Falcon":return new mM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Taita Shrew":return new vM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Darwin's Fox":return new _M(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Takhi":return new bM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"White-Bellied Heron":return new yM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Amami Rabbit":return new TM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tree Kangaroo":return new xM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blue-Throated Macaw":return new SM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hirola":return new wM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Monkey-Faced Bat":return new EM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Takin":return new CM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tucuxi":return new AM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Pygmy Hippo":return new kM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Roloway Monkey":return new PM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Spoon-Billed Sandpiper":return new DM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Angelshark":return new MM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bonobo":return new IM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Giant Otter":return new HM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Giant Tortoise":return new OM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Golden Tamarin":return new NM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Humphead Wrasse":return new RM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Kakapo":return new LM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Longcomb Sawfish":return new BM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Tasmanian Devil":return new VM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Amazon River Dolphin":return new $M(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Aye-aye":return new FM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Banggai Cardinalfish":return new qM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Geometric Tortoise":return new UM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Giant Pangasius":return new GM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Hawaiian Monk Seal":return new jM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Marine Iguana":return new WM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Red Panda":return new zM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Taita Thrush":return new KM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Snow Leopard":return new YM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Painted Terrapin":return new QM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Amsterdam Albatross":return new JM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Bay Cat":return new ZM(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Black Rhino":return new XM(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Blue Whale":return new eI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"California Condor":return new Eh(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Green Sea Turtle":return new tI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Helmeted Hornbill":return new iI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Philippine Eagle":return new nI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Silky Sifaka":return new sI(this.logService,this.abilityService,this,i,e.health,e.attack,e.mana,e.exp,e.equipment);case"Sumatran Tiger":return new rI(this.logService,this.abilityService,i,e.health,e.attack,e.mana,e.exp,e.equipment)}}createDefaultVersionOfPet(e,i=null,s=null){let r;return e instanceof M_&&(r=new M_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Sh&&(r=new Sh(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof O0&&(r=new O0(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof I_&&(r=new I_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof R0&&(r=new R0(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof N0&&(r=new N0(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yh&&(r=new yh(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof O_&&(r=new O_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof R_&&(r=new R_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof L0&&(r=new L0(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof B0&&(r=new B0(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $0&&(r=new $0(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof WT&&(r=new WT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof V0&&(r=new V0(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof H0&&(r=new H0(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof F0&&(r=new F0(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof q0&&(r=new q0(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof U0&&(r=new U0(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof G0&&(r=new G0(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof j0&&(r=new j0(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof W0&&(r=new W0(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof z0&&(r=new z0(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof K0&&(r=new K0(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Q0&&(r=new Q0(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof L_&&(r=new L_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Y0&&(r=new Y0(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof J0&&(r=new J0(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Z0&&(r=new Z0(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof X0&&(r=new X0(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eA&&(r=new eA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tA&&(r=new tA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof iA&&(r=new iA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sA&&(r=new sA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rA&&(r=new rA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aA&&(r=new aA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof oA&&(r=new oA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lA&&(r=new lA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cA&&(r=new cA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof uA&&(r=new uA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hA&&(r=new hA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dA&&(r=new dA(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof _h&&(r=new _h(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof fA&&(r=new fA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof pA&&(r=new pA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gA&&(r=new gA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof H_&&(r=new H_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mA&&(r=new mA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vA&&(r=new vA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yA&&(r=new yA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _A&&(r=new _A(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bA&&(r=new bA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof SA&&(r=new SA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wA&&(r=new wA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof EA&&(r=new EA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nA&&(r=new nA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kA&&(r=new kA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof CA&&(r=new CA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof AA&&(r=new AA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof PA&&(r=new PA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof DA&&(r=new DA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof TA&&(r=new TA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xA&&(r=new xA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof MA&&(r=new MA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof IA&&(r=new IA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof OA&&(r=new OA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof RA&&(r=new RA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof NA&&(r=new NA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof LA&&(r=new LA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BA&&(r=new BA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $A&&(r=new $A(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof FA&&(r=new FA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof VA&&(r=new VA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof HA&&(r=new HA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof qA&&(r=new qA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof UA&&(r=new UA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof GA&&(r=new GA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jA&&(r=new jA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof WA&&(r=new WA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zA&&(r=new zA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof G_&&(r=new G_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KA&&(r=new KA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof QA&&(r=new QA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof YA&&(r=new YA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof JA&&(r=new JA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ZA&&(r=new ZA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Qp&&(r=new Qp(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof XA&&(r=new XA(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof U_&&(r=new U_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tP&&(r=new tP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof iP&&(r=new iP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wh&&(r=new wh(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nP&&(r=new nP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sP&&(r=new sP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rP&&(r=new rP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aP&&(r=new aP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof oP&&(r=new oP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lP&&(r=new lP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cP&&(r=new cP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof uP&&(r=new uP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hP&&(r=new hP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dP&&(r=new dP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fP&&(r=new fP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof pP&&(r=new pP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bP&&(r=new bP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gP&&(r=new gP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mP&&(r=new mP(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof vP&&(r=new vP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yP&&(r=new yP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _P&&(r=new _P(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof SP&&(r=new SP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wP&&(r=new wP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof EP&&(r=new EP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kP&&(r=new kP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof CP&&(r=new CP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof AP&&(r=new AP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof PP&&(r=new PP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof DP&&(r=new DP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof TP&&(r=new TP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xP&&(r=new xP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Er&&(r=new Er(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof MP&&(r=new MP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof IP&&(r=new IP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof OP&&(r=new OP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof RP&&(r=new RP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof UT&&(r=new UT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof NP&&(r=new NP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BP&&(r=new BP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $P&&(r=new $P(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof VP&&(r=new VP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Q1&&(r=new Q1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof LP&&(r=new LP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof GT&&(r=new GT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof HP&&(r=new HP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof FP&&(r=new FP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof UP&&(r=new UP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof GP&&(r=new GP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jP&&(r=new jP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zP&&(r=new zP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof WP&&(r=new WP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KP&&(r=new KP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof QP&&(r=new QP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof YP&&(r=new YP(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof qP&&(r=new qP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof JP&&(r=new JP(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof jT&&(r=new jT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ZP&&(r=new ZP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof XP&&(r=new XP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tD&&(r=new tD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof iD&&(r=new iD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nD&&(r=new nD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sD&&(r=new sD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rD&&(r=new rD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aD&&(r=new aD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof oD&&(r=new oD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eD&&(r=new eD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof W_&&(r=new W_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hD&&(r=new hD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dD&&(r=new dD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fD&&(r=new fD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof pD&&(r=new pD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gD&&(r=new gD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mD&&(r=new mD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yD&&(r=new yD(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof _D&&(r=new _D(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof K_&&(r=new K_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof uD&&(r=new uD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lD&&(r=new lD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cD&&(r=new cD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vD&&(r=new vD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bD&&(r=new bD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof SD&&(r=new SD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wD&&(r=new wD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ED&&(r=new ED(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kD&&(r=new kD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof CD&&(r=new CD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof AD&&(r=new AD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof PD&&(r=new PD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof DD&&(r=new DD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof TD&&(r=new TD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xD&&(r=new xD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof MD&&(r=new MD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ID&&(r=new ID(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof OD&&(r=new OD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof RD&&(r=new RD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ND&&(r=new ND(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof LD&&(r=new LD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BD&&(r=new BD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $D&&(r=new $D(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof VD&&(r=new VD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof HD&&(r=new HD(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof FD&&(r=new FD(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof qD&&(r=new qD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof UD&&(r=new UD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Y_&&(r=new Y_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof GD&&(r=new GD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jD&&(r=new jD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KD&&(r=new KD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof WD&&(r=new WD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof qT&&(r=new qT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zD&&(r=new zD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof QD&&(r=new QD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof YD&&(r=new YD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof JD&&(r=new JD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ZD&&(r=new ZD(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof e1&&(r=new e1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof t1&&(r=new t1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof i1&&(r=new i1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof n1&&(r=new n1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof s1&&(r=new s1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof r1&&(r=new r1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof a1&&(r=new a1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof o1&&(r=new o1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof k1&&(r=new k1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof l1&&(r=new l1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Z_&&(r=new Z_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof c1&&(r=new c1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof u1&&(r=new u1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof h1&&(r=new h1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof d1&&(r=new d1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof f1&&(r=new f1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof p1&&(r=new p1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof g1&&(r=new g1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof m1&&(r=new m1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof v1&&(r=new v1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof y1&&(r=new y1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _1&&(r=new _1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof b1&&(r=new b1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof S1&&(r=new S1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof w1&&(r=new w1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof E1&&(r=new E1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof C1&&(r=new C1(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof A1&&(r=new A1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof P1&&(r=new P1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof D1&&(r=new D1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof T1&&(r=new T1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof x1&&(r=new x1(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof M1&&(r=new M1(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof I1&&(r=new I1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof O1&&(r=new O1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof R1&&(r=new R1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof N1&&(r=new N1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof L1&&(r=new L1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof B1&&(r=new B1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $1&&(r=new $1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof V1&&(r=new V1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof H1&&(r=new H1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof F1&&(r=new F1(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof q1&&(r=new q1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof U1&&(r=new U1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof G1&&(r=new G1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof j1&&(r=new j1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof W1&&(r=new W1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof z1&&(r=new z1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof K1&&(r=new K1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof V_&&(r=new V_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Sh&&(r=new Sh(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $_&&(r=new $_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof j_&&(r=new j_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof F_&&(r=new F_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof N_&&(r=new N_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof T_&&(r=new T_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof J_&&(r=new J_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zp&&(r=new zp(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof B_&&(r=new B_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eb&&(r=new eb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof X_&&(r=new X_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yh&&(r=new yh(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Gp&&(r=new Gp(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cb&&(r=new cb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof pb&&(r=new pb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gb&&(r=new gb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mb&&(r=new mb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rb&&(r=new rb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tg&&(r=new tg(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _b&&(r=new _b(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bb&&(r=new bb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ub&&(r=new ub(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hb&&(r=new hb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof db&&(r=new db(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vb&&(r=new vb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof II&&(r=new II(this.logService,this.abilityService,this,this.gameService,e.parent,i,s,0,b(e.level))),e instanceof OI&&(r=new OI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof RI&&(r=new RI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof NI&&(r=new NI(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof LI&&(r=new LI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BI&&(r=new BI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof z_&&(r=new z_(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Y1&&(r=new Y1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof J1&&(r=new J1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Z1&&(r=new Z1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof X1&&(r=new X1(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eT&&(r=new eT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tT&&(r=new tT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof iT&&(r=new iT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nT&&(r=new nT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sT&&(r=new sT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rT&&(r=new rT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aT&&(r=new aT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof RT&&(r=new RT(this.logService,this.abilityService,this,this.gameService,e.parent,i,s,0,b(e.level))),e instanceof Xp&&(r=new Xp(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof NT&&(r=new NT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof LT&&(r=new LT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eP&&(r=new eP(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BT&&(r=new BT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $T&&(r=new $T(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof VT&&(r=new VT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof HT&&(r=new HT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aI&&(r=new aI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof oI&&(r=new oI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lI&&(r=new lI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cI&&(r=new cI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof uI&&(r=new uI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hI&&(r=new hI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dI&&(r=new dI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fI&&(r=new fI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof pI&&(r=new pI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gI&&(r=new gI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mI&&(r=new mI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vI&&(r=new vI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yI&&(r=new yI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _I&&(r=new _I(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bI&&(r=new bI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof SI&&(r=new SI(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof wI&&(r=new wI(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof EI&&(r=new EI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kI&&(r=new kI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof CI&&(r=new CI(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof AI&&(r=new AI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof PI&&(r=new PI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Sb&&(r=new Sb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wb&&(r=new wb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Eb&&(r=new Eb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof DI&&(r=new DI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof TI&&(r=new TI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xI&&(r=new xI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aV&&(r=new aV(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof FT&&(r=new FT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof MI&&(r=new MI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zT&&(r=new zT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof QT&&(r=new QT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof YT&&(r=new YT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof JT&&(r=new JT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ZT&&(r=new ZT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof XT&&(r=new XT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ex&&(r=new ex(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tx&&(r=new tx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ix&&(r=new ix(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nx&&(r=new nx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sx&&(r=new sx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KT&&(r=new KT(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rx&&(r=new rx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ox&&(r=new ox(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lx&&(r=new lx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cx&&(r=new cx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ux&&(r=new ux(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dx&&(r=new dx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fx&&(r=new fx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof px&&(r=new px(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gx&&(r=new gx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hx&&(r=new hx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mx&&(r=new mx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vx&&(r=new vx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yx&&(r=new yx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _x&&(r=new _x(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bx&&(r=new bx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Sx&&(r=new Sx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wx&&(r=new wx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Ex&&(r=new Ex(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kx&&(r=new kx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Cx&&(r=new Cx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Ax&&(r=new Ax(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Px&&(r=new Px(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Dx&&(r=new Dx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Tx&&(r=new Tx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xx&&(r=new xx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Mx&&(r=new Mx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Ix&&(r=new Ix(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Ox&&(r=new Ox(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Rx&&(r=new Rx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Nx&&(r=new Nx(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof Lx&&(r=new Lx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Bx&&(r=new Bx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $x&&(r=new $x(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fb&&(r=new fb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Hx&&(r=new Hx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Fx&&(r=new Fx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof qx&&(r=new qx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Ux&&(r=new Ux(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Gx&&(r=new Gx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jx&&(r=new jx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Vx&&(r=new Vx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Wx&&(r=new Wx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zx&&(r=new zx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Kx&&(r=new Kx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Qx&&(r=new Qx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Yx&&(r=new Yx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Jx&&(r=new Jx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Zx&&(r=new Zx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Xx&&(r=new Xx(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eM&&(r=new eM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof tM&&(r=new tM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof iM&&(r=new iM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof nM&&(r=new nM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sM&&(r=new sM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof rM&&(r=new rM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof uM&&(r=new uM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof yb&&(r=new yb(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof aM&&(r=new aM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof oM&&(r=new oM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof lM&&(r=new lM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof cM&&(r=new cM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof hM&&(r=new hM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof dM&&(r=new dM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof fM&&(r=new fM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof pM&&(r=new pM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof gM&&(r=new gM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof mM&&(r=new mM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof vM&&(r=new vM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof _M&&(r=new _M(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof bM&&(r=new bM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof yM&&(r=new yM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof TM&&(r=new TM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof xM&&(r=new xM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof SM&&(r=new SM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof wM&&(r=new wM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof EM&&(r=new EM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof CM&&(r=new CM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof AM&&(r=new AM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof kM&&(r=new kM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof PM&&(r=new PM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof DM&&(r=new DM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof MM&&(r=new MM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof IM&&(r=new IM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof HM&&(r=new HM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof OM&&(r=new OM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof NM&&(r=new NM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof RM&&(r=new RM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof LM&&(r=new LM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof BM&&(r=new BM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof VM&&(r=new VM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof $M&&(r=new $M(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof FM&&(r=new FM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof qM&&(r=new qM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof UM&&(r=new UM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof GM&&(r=new GM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof jM&&(r=new jM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof WM&&(r=new WM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof zM&&(r=new zM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof KM&&(r=new KM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof YM&&(r=new YM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof QM&&(r=new QM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof JM&&(r=new JM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof ZM&&(r=new ZM(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof XM&&(r=new XM(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof eI&&(r=new eI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof Eh&&(r=new Eh(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof tI&&(r=new tI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof iI&&(r=new iI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof nI&&(r=new nI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),e instanceof sI&&(r=new sI(this.logService,this.abilityService,this,e.parent,i,s,0,b(e.level))),e instanceof rI&&(r=new rI(this.logService,this.abilityService,e.parent,i,s,0,b(e.level))),r}getRandomPet(e){let s,i=Hs(1,6);s="Turtle"==e.pack?this.turtlePackPets.get(i):"Puppy"==e.pack?this.puppyPackPets.get(i):"Star"==e.pack?this.starPackPets.get(i):"Golden"==e.pack?this.goldenPackPets.get(i):"Unicorn"==e.pack?this.unicornPackPets.get(i):"Danger"==e.pack?this.dangerPackPets.get(i):this.playerCustomPackPets.get(e.pack).get(i);let a=s[Hs(0,s.length-1)];return this.createPet({attack:null,equipment:null,exp:Hs(0,5),health:null,name:a,mana:null},e)}getRandomFaintPet(e,i){let s={1:["Ant","Cricket","Groundhog","Pied Tamarin"],2:["Rat","Hedgehog","Flamingo","Spider","Stork","Beluga Sturgeon","Squid","Black Necked Stilt","Frost Wolf","Mothman","Gargoyle","Bigfoot","Nightcrawler"],3:["Badger","Sheep","Anteater","Hoopoe Bird","Mole","Pangolin","Blobfish","Flea","Weasel","Osprey","Bear","Betta Fish","Skeleton Dog","Fur-Bearing Trout","Calygreyhound","Slime"],4:["Turtle","Deer","Microbe","Tahr","Chameleon","Cuttlefish","Vaquita","Slug","Chimera","Visitor"],5:["Rooster","Eagle","Fire Ant","Stonefish","Nyala","Nurse Shark","Wolf","Nessie","Pixiu","Kappa"],6:["Mammoth","Snapping Turtle","Lionfish","Warthog","Walrus","Phoenix","Sea Serpent","Hydra"]},r=[];r=i&&s[i]?s[i]:[].concat(...Object.values(s));let a=r[Hs(0,r.length-1)];return this.createPet({name:a,attack:null,equipment:null,exp:0,health:null,mana:null},e)}}return n.\u0275fac=function(e){return new(e||n)(F(kb),F(Cb),F(kh))},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function b(n){return 1==n?0:2==n?2:5}class kz extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Cod Roe",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.originalAfterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=a=>{var o;if(null!=r&&r(a),"Cod Roe"==(null===(o=i.equipment)||void 0===o?void 0:o.name))for(let l=0;l<this.multiplier;l++){let h=new I_(this.logService,this.abilityService,i.parent,3,2,0,0);this.logService.createLog({message:`${i.name} spawned ${h.name} (Cod Roe)${l>0?this.multiplierMessage:""}`,type:"equipment",player:i.parent}),i.parent.summonPet(h,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(h)}}}}}class Cz extends ne{constructor(t){super(),this.logService=t,this.name="Sudduth Tomato",this.equipmentClass="hurt",this.callback=e=>{var i;let s=null===(i=e.hurt)||void 0===i?void 0:i.bind(e);e.hurt=r=>{var a;if(null!=s&&s(r),"Sudduth Tomato"!=(null===(a=e.equipment)||void 0===a?void 0:a.name)||!e.alive)return;let o=1*this.multiplier;e.increaseHealth(o),this.logService.createLog({message:`${e.name} gained ${o} health (Sudduth Tomato)${this.multiplierMessage}`,type:"equipment",player:e.parent}),e.removePerk()}}}}class Az extends ne{constructor(t){super(),this.logService=t,this.name="Unagi",this.equipmentClass="startOfBattle",this.callback=e=>{var i;let s=null===(i=e.originalStartOfBattle)||void 0===i?void 0:i.bind(e);e.startOfBattle=r=>{var a;if(null!=s&&s(r),"Unagi"!=(null===(a=e.equipment)||void 0===a?void 0:a.name))return;let o=e.parent.opponent.getRandomPet();o&&e.snipePet(o,2*this.multiplier,!0,!1,!1,!0,!1)}}}}class Pz extends ne{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Gros Michel Banana",this.equipmentClass="beforeAttack",this.callback=s=>{var r;let a=null===(r=s.originalBeforeAttack)||void 0===r?void 0:r.bind(s);s.beforeAttack=o=>{var l;if(null!=a&&a(o),"Gros Michel Banana"!=(null===(l=s.equipment)||void 0===l?void 0:l.name))return;let h=this.petService.createPet({name:"Ant",attack:s.attack,health:s.health,mana:s.mana,exp:s.exp,equipment:null},s.parent);this.logService.createLog({message:`${s.name} transformed into ${h.name} (Gros Michel Banana)`,type:"equipment",player:s.parent}),s.parent.transformPet(s,h)}}}}class Dz extends ne{constructor(t,e){super(),this.logService=t,this.abilityService=e,this.name="Yggdrasil Fruit",this.equipmentClass="afterFaint",this.callback=i=>{var s;let r=null===(s=i.originalAfterFaint)||void 0===s?void 0:s.bind(i);i.afterFaint=a=>{var o;if(null!=r&&r(a),"Yggdrasil Fruit"==(null===(o=i.equipment)||void 0===o?void 0:o.name))for(let l=0;l<this.multiplier;l++){let h=new Sb(this.logService,this.abilityService,i.parent,3,3,0),f=new wb(this.logService,this.abilityService,i.parent,3,3,0),m=l>0?this.multiplierMessage:"";this.logService.createLog({message:`${i.name} Spawned Tandgnost (Yggdrasil Fruit)${m}`,type:"ability",player:i.parent}),i.parent.summonPet(h,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(h),this.logService.createLog({message:`${i.name} Spawned Tandgrisner (Yggdrasil Fruit)${m}`,type:"ability",player:i.parent}),i.parent.summonPet(f,i.savedPosition)&&this.abilityService.triggerFriendSummonedEvents(f)}}}}}class Tz extends ne{constructor(t,e,i){super(),this.logService=t,this.abilityService=e,this.petService=i,this.name="Cocoa Bean",this.tier=5,this.equipmentClass="beforeAttack",this.power=0,this.originalPower=0,this.uses=1,this.originalUses=1,this.callback=s=>{var r;let a=null===(r=s.originalBeforeAttack)||void 0===r?void 0:r.bind(s);s.beforeAttack=o=>{var l;if(null!=a&&a(o),"Cocoa Bean"!=(null===(l=s.equipment)||void 0===l?void 0:l.name))return;let f=(s.parent==o.player?o.opponet:o.player).petArray.filter(S=>S.alive);if(0==f.length)return void s.removePerk();let m=f[Math.floor(Math.random()*f.length)],y=this.petService.createPet({name:m.name,attack:m.attack,health:m.health,mana:s.mana,exp:s.exp,equipment:null},s.parent);if(m.swallowedPets&&m.swallowedPets.length>0){y.swallowedPets=[];for(let S of m.swallowedPets){let k=this.petService.createPet({name:S.name,attack:S.attack,health:S.health,mana:S.mana,exp:S.exp,equipment:S.equipment},s.parent);y.swallowedPets.push(k)}}void 0!==m.attackCounter&&(y.attackCounter=m.attackCounter),y.abilityUses=0,y.maxAbilityUses=m.maxAbilityUses,void 0!==m.hurtThisBattle&&(y.hurtThisBattle=m.hurtThisBattle),this.logService.createLog({message:`${s.name} transformed into ${y.name} (Cocoa Bean)`,type:"equipment",player:s.parent,randomEvent:f.length>1}),s.parent.transformPet(s,y)}}}}class Kn{constructor(t,e,i,s){this.logService=t,this.abilityService=e,this.petService=i,this.gameService=s}getInstanceOfAllEquipment(){let t=new Map;return t.set("Garlic",new Uo),t.set("Meat Bone",new Wp),t.set("Steak",new oT),t.set("Melon",new Fs),t.set("Honey",new jp(this.logService,this.abilityService)),t.set("Chili",new bh(this.logService,this.abilityService)),t.set("Mushroom",new lT(this.logService,this.abilityService,this.petService)),t.set("Coconut",new zr),t.set("Peanut",new fc),t.set("Peanut Butter",new M0),t.set("Blackberry",new tV),t.set("Croissant",new cT),t.set("Rice",new Kp),t.set("Eucalyptus",new rV),t.set("Lime",new uT),t.set("Egg",new q_(this.logService,this.abilityService)),t.set("Squash",new TT(this.logService,this.abilityService)),t.set("Salt",new $p),t.set("Pie",new tb(this.logService)),t.set("Skewer",new Yp(this.logService)),t.set("Lemon",new hT),t.set("Pancakes",new ib(this.logService)),t.set("Strawberry",new Q_(this.logService,this.abilityService)),t.set("Baguette",new OT(this.logService,this.abilityService)),t.set("Cucumber",new dT),t.set("Cheese",new Vp),t.set("Grapes",new _T),t.set("Carrot",new yT),t.set("Pepper",new Hp),t.set("Popcorn",new bT(this.logService,this.abilityService,this.petService,this.gameService)),t.set("Cherry",new nb),t.set("Chocolate Cake",new Jp(this.logService,this.abilityService)),t.set("Cod Roe",new kz(this.logService,this.abilityService)),t.set("Eggplant",new sb(this.logService)),t.set("Potato",new mT),t.set("Banana",new fT(this.logService,this.abilityService)),t.set("Onion",new x_(this.logService)),t.set("Pita Bread",new gT(this.logService)),t.set("Tomato",new vT(this.logService,this.abilityService)),t.set("Sudduth Tomato",new Cz(this.logService)),t.set("Unagi",new Az(this.logService)),t.set("Durian",new pT(this.logService,this.abilityService)),t.set("Gros Michel Banana",new Pz(this.logService,this.abilityService,this.petService)),t.set("Seaweed",new MT(this.logService,this.abilityService,this.petService)),t.set("Fortune Cookie",new Fp),t.set("Blueberry",new ST),t.set("Donut",new wT),t.set("Pineapple",new ET),t.set("Fig",new kT(this.logService,this.abilityService)),t.set("Caramel",new IT(this.logService,this.abilityService)),t.set("Rambutan",new Zp(this.logService)),t.set("Love Potion",new lb(this.logService)),t.set("Fairy Dust",new AT(this.logService)),t.set("Gingerbread Man",new ab(this.logService)),t.set("Easter Egg",new CT(this.logService,this.abilityService)),t.set("Health Potion",new ob(this.logService)),t.set("Magic Beans",new DT),t.set("Golden Egg",new PT(this.logService,this.abilityService)),t.set("Yggdrasil Fruit",new Dz(this.logService,this.abilityService)),t.set("Honeydew Melon",new A_),t.set("Maple Syrup",new Up),t.set("Cocoa Bean",new Tz(this.logService,this.abilityService,this.petService)),t.set("White Okra",new P_),t.set("White Truffle",new iV(this.logService,this.abilityService)),t.set("Ambrosia",new D_),t.set("Faint Bread",new xT(this.logService,this.abilityService,this.petService,this.gameService)),t}getInstanceOfAllAilments(){let t=new Map;return t.set("Cold",new ax),t.set("Crisp",new pc),t.set("Dazed",new C_),t.set("Exposed",new qp),t.set("Ink",new XD),t.set("Spooked",new eg),t.set("Weak",new Ga),t.set("Tasty",new sV(this.logService,this.abilityService)),t}isUsefulPerk(t){return Kn.USEFUL_PERKS.has(t)}getUsefulPerksByTier(t){const e=this.getInstanceOfAllEquipment(),i=[];for(const[s,r]of Kn.USEFUL_PERKS.entries())r===t&&e.has(s)&&i.push(e.get(s));return i}getUsefulPerks(){const t=this.getInstanceOfAllEquipment(),e=[];for(const i of Kn.USEFUL_PERKS.keys())t.has(i)&&e.push(t.get(i));return e}}function xz(n,t){if(1&n){const e=Ur();p(0,"span",22),je("click",function(){return Bt(e),We().setExp(0)}),w(1,"x"),g()}}function Mz(n,t){if(1&n&&(p(0,"option",9),w(1),g()),2&n){const e=t.$implicit;z("ngValue",e),H(1),Ri(e)}}function Iz(n,t){if(1&n&&(p(0,"option",25),w(1),g()),2&n){const e=t.$implicit,i=We(2);z("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),H(1),Ri(e)}}function Oz(n,t){if(1&n&&(p(0,"optgroup",23),Ie(1,Iz,2,4,"option",24),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),H(1),z("ngForOf",e.value)}}function Rz(n,t){if(1&n){const e=Ur();p(0,"button",26),je("click",function(){return Bt(e),We().toggleFlyOut()}),w(1,">"),g()}}function Nz(n,t){if(1&n&&(p(0,"option",25),w(1),g()),2&n){const e=t.$implicit,i=We(4);z("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),H(1),Ri(e)}}function Lz(n,t){if(1&n&&(p(0,"optgroup",23),Ie(1,Nz,2,4,"option",24),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),H(1),z("ngForOf",e.value)}}function Bz(n,t){if(1&n&&(p(0,"div"),p(1,"label",29),w(2,"Swallowed Pet"),g(),p(3,"select",30),p(4,"option",9),w(5,"None"),g(),Ie(6,Lz,2,2,"optgroup",12),Oo(7,"keyvalue"),g(),g()),2&n){const e=We(2);H(4),z("ngValue",null),H(2),z("ngForOf",Ro(7,2,e.pets))}}function $z(n,t){if(1&n&&(p(0,"option",25),w(1),g()),2&n){const e=t.$implicit,i=We(5);z("ngValue",e)("hidden",i.optionHidden(e))("disabled",i.optionHidden(e)),H(1),Ri(e)}}function Vz(n,t){if(1&n&&(p(0,"optgroup",23),Ie(1,$z,2,4,"option",24),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),H(1),z("ngForOf",e.value)}}function Hz(n,t){if(1&n&&(p(0,"div"),p(1,"label",32),w(2,"Swallowed Pet"),g(),p(3,"select",33),p(4,"option",9),w(5,"None"),g(),Ie(6,Vz,2,2,"optgroup",12),Oo(7,"keyvalue"),g(),g()),2&n){const e=t.index,i=We(3);H(1),tp("for","abominationSwallowedPet",e+1,""),H(2),tp("formControlName","abominationSwallowedPet",e+1,""),H(1),z("ngValue",null),H(2),z("ngForOf",Ro(7,4,i.startOfBattlePets))}}Kn.USEFUL_PERKS=new Map([["Lime",2],["Meat Bone",2],["Cherry",2],["Fairy Dust",2],["Garlic",3],["Gingerbread Man",3],["Fig",3],["Cucumber",3],["Croissant",3],["Squash",3],["Banana",4],["Love Potion",4],["Pie",4],["Grapes",4],["Cheese",4],["Salt",4],["Fortune Cookie",4],["Easter Egg",5],["Magic Beans",5],["Chili",5],["Lemon",5],["Durian",5],["Honeydew Melon",5],["Maple Syrup",5],["Cocoa Bean",5],["White Okra",5],["White Truffle",5],["Popcorn",6],["Steak",6],["Pancakes",6],["Yggdrasil Fruit",6],["Melon",6],["Tomato",6],["Pita Bread",6]]),Kn.\u0275fac=function(t){return new(t||Kn)(F(kb),F(Cb),F(Ab),F(kh))},Kn.\u0275prov=he({token:Kn,factory:Kn.\u0275fac,providedIn:"root"});const Fz=function(){return[]};function qz(n,t){if(1&n&&(p(0,"div"),Ie(1,Hz,8,6,"div",31),g()),2&n){const e=We(2);H(1),z("ngForOf",function(n,t,e){const i=Ui()+n,s=K();return s[i]===be?qr(s,i,e?t.call(e):t()):function(n,t){return n[t]}(s,i)}(1,Fz).constructor(e.pet.level))}}function Uz(n,t){1&n&&(p(0,"div"),p(1,"label",34),w(2,"Battles Fought"),g(),ie(3,"input",35),g())}function Gz(n,t){1&n&&(p(0,"div"),p(1,"label",36),w(2,"Times Hurt"),g(),ie(3,"input",37),g())}function jz(n,t){1&n&&(p(0,"div"),p(1,"label",38),w(2,"Times Hurt"),g(),ie(3,"input",39),g())}function Wz(n,t){if(1&n&&(p(0,"div",27),Ie(1,Bz,8,4,"div",28),Ie(2,qz,2,2,"div",28),Ie(3,Uz,4,0,"div",28),Ie(4,Gz,4,0,"div",28),Ie(5,jz,4,0,"div",28),g()),2&n){const e=We();H(1),z("ngIf","Beluga Whale"==e.pet.name),H(1),z("ngIf","Abomination"==e.pet.name),H(1),z("ngIf","Slime"==e.pet.name),H(1),z("ngIf","Sabertooth Tiger"==e.pet.name),H(1),z("ngIf","Tuna"==e.pet.name)}}function zz(n,t){if(1&n&&(p(0,"option",9),w(1),g()),2&n){const e=t.$implicit;z("ngValue",e.value),H(1),Ri(e.key)}}function Kz(n,t){if(1&n&&(p(0,"option",9),w(1),g()),2&n){const e=t.$implicit;z("ngValue",e.value),H(1),Ri(e.key)}}function Qz(n,t){if(1&n&&(p(0,"optgroup",40),Ie(1,Kz,2,2,"option",11),Oo(2,"keyvalue"),g()),2&n){const e=We();H(1),z("ngForOf",Ro(2,1,e.ailmentEquipment))}}function Yz(n,t){1&n&&(p(0,"div",41),ie(1,"input",42),g())}let oV=(()=>{class n{constructor(e,i){this.petService=e,this.equipmentService=i,this.showFlyOut=!1,this.attackHealthMax=50,this.showTokenPets=!1,this.tokenPets=["Bee","Bus","Chick","Dirty Rat","Lizard Tail","Ram","Smaller Slug","Smallest Slug","Zombie Cricket","Zombie Fly","Chim-Goat","Chim-Lion","Chim-Snake","Daycrawler","Head","Monty","Nessie?","Smaller Slime","Young Phoenix","Good Dog"]}ngOnInit(){var e;this.initSelector(),this.fixLoadEquipment(),"Behemoth"==(null===(e=this.pet)||void 0===e?void 0:e.name)&&(this.attackHealthMax=100)}initSelector(){this.initPets(),this.initEquipment(),this.initForm()}initPets(){this.pets=new Map;for(let e=1;e<=6;e++)this.pets.set(e,[]);for(let[e,i]of this.petService.turtlePackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.puppyPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.starPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.goldenPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.unicornPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.dangerPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.petService.customPackPets)this.pets.get(e).push(...i);for(let[e,i]of this.pets)this.pets.set(e,[...new Set(i)]);this.initStartOfBattlePets(),console.log("pets",this.pets)}initStartOfBattlePets(){this.startOfBattlePets=new Map;for(let e=1;e<=6;e++){let i=[];for(let s of this.pets.get(e))this.petService.startOfBattlePets.includes(s)&&i.push(s);this.startOfBattlePets.set(e,i)}}getPack(e){let i;if("Turtle"==e.pack)i=this.petService.turtlePackPets;else if("Puppy"==e.pack)i=this.petService.puppyPackPets;else if("Star"==e.pack)i=this.petService.starPackPets;else if("Golden"==e.pack)i=this.petService.goldenPackPets;else if("Unicorn"==e.pack)i=this.petService.unicornPackPets;else if("Danger"==e.pack)i=this.petService.dangerPackPets;else try{i=this.buildCustomPack(e.pack)}catch(s){i=this.petService.turtlePackPets}return(0,at.cloneDeep)(i)}buildCustomPack(e){let i;for(let r of this.customPacks.controls)if(r.get("name").value==e){i=r;break}let s=new Map;for(let r=1;r<=6;r++)s.set(r,i.get(`tier${r}Pets`).value);return s}initEquipment(){this.equipment=this.equipmentService.getInstanceOfAllEquipment(),this.ailmentEquipment=this.equipmentService.getInstanceOfAllAilments()}initForm(){this.formGroup.get("name").valueChanges.subscribe(e=>{null!=e?this.substitutePet(!0):this.removePet()}),this.formGroup.get("attack").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("health").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("exp").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("equipment").valueChanges.subscribe(e=>{if(null!=e&&null==e.reset){let i=this.equipment.get(e.name);null==i&&(i=this.ailmentEquipment.get(e.name)),this.formGroup.get("equipment").setValue(i,{emitEvent:!1})}this.substitutePet(!1)}),this.formGroup.get("belugaSwallowedPet").valueChanges.subscribe(e=>{this.setBelugaSwallow(e)}),this.formGroup.get("abominationSwallowedPet1").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("abominationSwallowedPet2").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("abominationSwallowedPet3").valueChanges.subscribe(e=>{this.setSwallowedPets(e)}),this.formGroup.get("mana").valueChanges.subscribe(()=>{this.substitutePet(!1)}),this.formGroup.get("battlesFought").valueChanges.subscribe(e=>{this.setBattlesFought(e)}),this.formGroup.get("sabertoothTimesHurt").valueChanges.subscribe(e=>{this.setSabertoothTimesHurt(e)}),this.formGroup.get("tunaTimesHurt").valueChanges.subscribe(e=>{this.setTunaTimesHurt(e)})}setExp(e){this.formGroup.get("exp").setValue(e)}getIsSelected(e){return this.formGroup.get("exp").value>=e}showRemoveExp(){return this.formGroup.get("exp").value>0}substitutePet(e=!1){setTimeout(()=>{var i;let s=this.formGroup.value;e&&(s.attack=null,s.health=null,s.mana=null);let r=s.equipment;null!=r&&(s.equipment=null!==(i=this.equipment.get(r.name))&&void 0!==i?i:this.ailmentEquipment.get(r.name));let a=this.petService.createPet(s,this.player);this.player.setPet(this.index,a,!0),e&&(this.formGroup.get("attack").setValue(a.attack,{emitEvent:!1}),this.formGroup.get("health").setValue(a.health,{emitEvent:!1}),this.formGroup.get("mana").setValue(a.mana,{emitEvent:!1})),this.attackHealthMax="Behemoth"==this.formGroup.get("name").value?100:50})}setBelugaSwallow(e){let i=this.player.getPet(this.index);null!=i&&(i.belugaSwallowedPet=e)}setSwallowedPets(e){let i=this.player.getPet(this.index);if(null==i)return;let s=[];null!=this.formGroup.get("abominationSwallowedPet1").value&&s.push(this.formGroup.get("abominationSwallowedPet1").value),null!=this.formGroup.get("abominationSwallowedPet2").value&&s.push(this.formGroup.get("abominationSwallowedPet2").value),null!=this.formGroup.get("abominationSwallowedPet3").value&&s.push(this.formGroup.get("abominationSwallowedPet3").value),console.log(s),i.abominationSwallowedPet1=s[0],i.abominationSwallowedPet2=s[1],i.abominationSwallowedPet3=s[2]}setBattlesFought(e){let i=this.player.getPet(this.index);null!=i&&(i.battlesFought=e)}setSabertoothTimesHurt(e){let i=this.player.getPet(this.index);null!=i&&(i.timesHurt=e)}setTunaTimesHurt(e){let i=this.player.getPet(this.index);null!=i&&(i.timesHurt=e)}showFlyOutButton(){return["Beluga Whale","Abomination","Slime","Sabertooth Tiger","Tuna"].includes(this.formGroup.get("name").value)}toggleFlyOut(){this.showFlyOut=!this.showFlyOut}removePet(){this.player.setPet(this.index,null,!0),this.formGroup.get("name").setValue(null,{emitEvent:!1}),this.formGroup.get("attack").setValue(0,{emitEvent:!1}),this.formGroup.get("health").setValue(0,{emitEvent:!1}),this.formGroup.get("exp").setValue(0,{emitEvent:!1}),this.formGroup.get("equipment").setValue(null,{emitEvent:!1}),this.formGroup.get("mana").setValue(0,{emitEvent:!1})}optionHidden(e){var i;if(this.allPets)return!1;let s=this.getPack(this.player);for(let[r,a]of s)if(a.includes(e))return!1;if(this.angler){let r=this.getPack(this.opponent);for(let[a,o]of r)if(o.includes(e))return!1}return(null===(i=this.player.getPet(this.index))||void 0===i?void 0:i.name)!=e}fixLoadEquipment(){let e=this.formGroup.get("equipment").value;if(null==e)return;let i=this.equipment.get(e.name);null==i&&(i=this.ailmentEquipment.get(e.name)),this.formGroup.get("equipment").setValue(i)}}return n.\u0275fac=function(e){return new(e||n)($(Ab),$(Kn))},n.\u0275cmp=Nn({type:n,selectors:[["app-pet-selector"]],inputs:{pet:"pet",player:"player",opponent:"opponent",index:"index",angler:"angler",ailments:"ailments",allPets:"allPets",mana:"mana",formGroup:"formGroup",customPacks:"customPacks",showTokenPets:"showTokenPets"},decls:40,vars:28,consts:[[1,"card","p-3"],[1,"row","form-group",3,"formGroup"],[1,"col-12","d-flex","level-bar-numbers","mb-1"],[1,"level-3"],[1,"col-12","d-flex","level-bar","mb-2"],["class","remove-exp",3,"click",4,"ngIf"],[3,"click"],[1,"col-12","mb-2","d-flex"],["formControlName","name",1,"form-control"],[3,"ngValue"],["label","Token Pets",3,"hidden"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"label",4,"ngFor","ngForOf"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","fly-out border p-3",4,"ngIf"],[1,"col-12","mb-2"],["formControlName","equipment",1,"form-control"],["label","Ailments",4,"ngIf"],["class","col-12 d-flex justify-content-center",4,"ngIf"],[1,"col-6"],["formControlName","attack","type","number","min","1",1,"form-control","select-attack",3,"max"],["formControlName","health","type","number","min","1",1,"form-control","select-health",3,"max"],[1,"remove-exp",3,"click"],[3,"label"],[3,"ngValue","hidden","disabled",4,"ngFor","ngForOf"],[3,"ngValue","hidden","disabled"],[1,"btn","btn-secondary",3,"click"],[1,"fly-out","border","p-3"],[4,"ngIf"],["for","belugaSwallowedPet"],["formControlName","belugaSwallowedPet",1,"form-control"],[4,"ngFor","ngForOf"],[3,"for"],[1,"form-control",3,"formControlName"],["for","battlesFought"],["formControlName","battlesFought","type","number","max","99",1,"form-control"],["for","sabertoothTimesHurt"],["formControlName","sabertoothTimesHurt","type","number","min","0","max","99",1,"form-control"],["for","tunaTimesHurt"],["formControlName","tunaTimesHurt","type","number","min","0","max","99",1,"form-control"],["label","Ailments"],[1,"col-12","d-flex","justify-content-center"],["formControlName","mana","type","number","min","0","max","100",1,"form-control","select-mana"]],template:function(e,i){1&e&&(p(0,"div",0),p(1,"div",1),p(2,"div",2),p(3,"span"),w(4,"1"),g(),ie(5,"span"),p(6,"span"),w(7,"2"),g(),ie(8,"span"),p(9,"span",3),w(10,"3"),g(),g(),p(11,"div",4),Ie(12,xz,2,0,"span",5),p(13,"span",6),je("click",function(){return i.setExp(1)}),g(),p(14,"span",6),je("click",function(){return i.setExp(2)}),g(),p(15,"span",6),je("click",function(){return i.setExp(3)}),g(),p(16,"span",6),je("click",function(){return i.setExp(4)}),g(),p(17,"span",6),je("click",function(){return i.setExp(5)}),g(),g(),p(18,"div",7),p(19,"select",8),p(20,"option",9),w(21,"None"),g(),p(22,"optgroup",10),Ie(23,Mz,2,2,"option",11),g(),Ie(24,Oz,2,2,"optgroup",12),Oo(25,"keyvalue"),g(),Ie(26,Rz,2,0,"button",13),Ie(27,Wz,6,5,"div",14),g(),p(28,"div",15),p(29,"select",16),p(30,"option",9),w(31,"None"),g(),Ie(32,zz,2,2,"option",11),Oo(33,"keyvalue"),Ie(34,Qz,3,3,"optgroup",17),g(),g(),Ie(35,Yz,2,0,"div",18),p(36,"div",19),ie(37,"input",20),g(),p(38,"div",19),ie(39,"input",21),g(),g(),g()),2&e&&(H(1),z("formGroup",i.formGroup),H(11),z("ngIf",i.showRemoveExp()),H(1),Os(i.getIsSelected(1)?"selected":""),H(1),Os(i.getIsSelected(2)?"selected":""),H(1),Os(i.getIsSelected(3)?"selected":""),H(1),Os(i.getIsSelected(4)?"selected":""),H(1),Os(i.getIsSelected(5)?"selected":""),H(3),z("ngValue",null),H(2),z("hidden",!i.showTokenPets),H(1),z("ngForOf",i.tokenPets),H(1),z("ngForOf",Ro(25,24,i.pets)),H(2),z("ngIf",i.showFlyOutButton()),H(1),z("ngIf",i.showFlyOut),H(3),z("ngValue",null),H(2),z("ngForOf",Ro(33,26,i.equipment)),H(2),z("ngIf",i.ailments),H(1),z("ngIf",i.mana),H(2),z("max",i.attackHealthMax),H(2),z("max",i.attackHealthMax))},directives:[dc,Ua,gh,Bp,hc,qo,C0,P0,Tp,qa,S_,D0,w_],pipes:[WC],styles:[".select-attack[_ngcontent-%COMP%]{background-color:gray;color:#fff}.select-health[_ngcontent-%COMP%]{background-color:#ca0202;color:#fff}.select-mana[_ngcontent-%COMP%]{background-color:#7388f8;color:#fff;width:45%}.select-attack[_ngcontent-%COMP%], .select-health[_ngcontent-%COMP%], .select-mana[_ngcontent-%COMP%]{font-size:1.5em;padding-right:0}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:calc(100% / 5);height:100%}.level-bar[_ngcontent-%COMP%]{position:relative}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:initial;border-radius:initial;width:initial;position:absolute;left:0;bottom:.33em}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.level-3[_ngcontent-%COMP%]{text-align:right}.fly-out[_ngcontent-%COMP%]{position:absolute;left:100%;background-color:#fff;width:100%;z-index:1;box-shadow:12px 4px 9px 7px #0000001a}"]}),n})();var Mn="top",us="bottom",hs="right",In="left",Pb="auto",Ch=[Mn,us,hs,In],gc="start",Ah="end",lV="clippingParents",$I="viewport",Ph="popper",cV="reference",VI=Ch.reduce(function(n,t){return n.concat([t+"-"+gc,t+"-"+Ah])},[]),HI=[].concat(Ch,[Pb]).reduce(function(n,t){return n.concat([t,t+"-"+gc,t+"-"+Ah])},[]),uV="beforeRead",hV="read",dV="afterRead",fV="beforeMain",pV="main",gV="afterMain",mV="beforeWrite",vV="write",yV="afterWrite",_V=[uV,hV,dV,fV,pV,gV,mV,vV,yV];function Kr(n){return n?(n.nodeName||"").toLowerCase():null}function ds(n){if(null==n)return window;if("[object Window]"!==n.toString()){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function mc(n){return n instanceof ds(n).Element||n instanceof Element}function qs(n){return n instanceof ds(n).HTMLElement||n instanceof HTMLElement}function FI(n){return"undefined"!=typeof ShadowRoot&&(n instanceof ds(n).ShadowRoot||n instanceof ShadowRoot)}const qI={name:"applyStyles",enabled:!0,phase:"write",fn:function(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},s=t.attributes[e]||{},r=t.elements[e];!qs(r)||!Kr(r)||(Object.assign(r.style,i),Object.keys(s).forEach(function(a){var o=s[a];!1===o?r.removeAttribute(a):r.setAttribute(a,!0===o?"":o)}))})},effect:function(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var s=t.elements[i],r=t.attributes[i]||{},o=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]).reduce(function(l,h){return l[h]="",l},{});!qs(s)||!Kr(s)||(Object.assign(s.style,o),Object.keys(r).forEach(function(l){s.removeAttribute(l)}))})}},requires:["computeStyles"]};function Qr(n){return n.split("-")[0]}var vc=Math.max,Db=Math.min,Dh=Math.round;function UI(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function bV(){return!/^((?!chrome|android).)*safari/i.test(UI())}function Th(n,t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var i=n.getBoundingClientRect(),s=1,r=1;t&&qs(n)&&(s=n.offsetWidth>0&&Dh(i.width)/n.offsetWidth||1,r=n.offsetHeight>0&&Dh(i.height)/n.offsetHeight||1);var o=(mc(n)?ds(n):window).visualViewport,l=!bV()&&e,h=(i.left+(l&&o?o.offsetLeft:0))/s,f=(i.top+(l&&o?o.offsetTop:0))/r,m=i.width/s,y=i.height/r;return{width:m,height:y,top:f,right:h+m,bottom:f+y,left:h,x:h,y:f}}function GI(n){var t=Th(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}function SV(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&FI(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ja(n){return ds(n).getComputedStyle(n)}function Xz(n){return["table","td","th"].indexOf(Kr(n))>=0}function Go(n){return((mc(n)?n.ownerDocument:n.document)||window.document).documentElement}function Tb(n){return"html"===Kr(n)?n:n.assignedSlot||n.parentNode||(FI(n)?n.host:null)||Go(n)}function wV(n){return qs(n)&&"fixed"!==ja(n).position?n.offsetParent:null}function ig(n){for(var t=ds(n),e=wV(n);e&&Xz(e)&&"static"===ja(e).position;)e=wV(e);return e&&("html"===Kr(e)||"body"===Kr(e)&&"static"===ja(e).position)?t:e||function(n){var t=/firefox/i.test(UI());if(/Trident/i.test(UI())&&qs(n)&&"fixed"===ja(n).position)return null;var s=Tb(n);for(FI(s)&&(s=s.host);qs(s)&&["html","body"].indexOf(Kr(s))<0;){var r=ja(s);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return s;s=s.parentNode}return null}(n)||t}function jI(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function ng(n,t,e){return vc(n,Db(t,e))}function kV(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function CV(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}const AV={name:"arrow",enabled:!0,phase:"main",fn:function(n){var t,e=n.state,i=n.name,s=n.options,r=e.elements.arrow,a=e.modifiersData.popperOffsets,o=Qr(e.placement),l=jI(o),f=[In,hs].indexOf(o)>=0?"height":"width";if(r&&a){var m=function(t,e){return kV("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:CV(t,Ch))}(s.padding,e),y=GI(r),S="y"===l?Mn:In,k="y"===l?us:hs,D=e.rects.reference[f]+e.rects.reference[l]-a[l]-e.rects.popper[f],T=a[l]-e.rects.reference[l],R=ig(r),O=R?"y"===l?R.clientHeight||0:R.clientWidth||0:0,Y=O/2-y[f]/2+(D/2-T/2),oe=ng(m[S],Y,O-y[f]-m[k]);e.modifiersData[i]=((t={})[l]=oe,t.centerOffset=oe-Y,t)}},effect:function(n){var t=n.state,i=n.options.element,s=void 0===i?"[data-popper-arrow]":i;null!=s&&("string"==typeof s&&!(s=t.elements.popper.querySelector(s))||!SV(t.elements.popper,s)||(t.elements.arrow=s))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xh(n){return n.split("-")[1]}var rK={top:"auto",right:"auto",bottom:"auto",left:"auto"};function PV(n){var t,e=n.popper,i=n.popperRect,s=n.placement,r=n.variation,a=n.offsets,o=n.position,l=n.gpuAcceleration,h=n.adaptive,f=n.roundOffsets,m=n.isFixed,y=a.x,S=void 0===y?0:y,k=a.y,D=void 0===k?0:k,T="function"==typeof f?f({x:S,y:D}):{x:S,y:D};S=T.x,D=T.y;var R=a.hasOwnProperty("x"),O=a.hasOwnProperty("y"),U=In,L=Mn,G=window;if(h){var Y=ig(e),oe="clientHeight",ge="clientWidth";Y===ds(e)&&"static"!==ja(Y=Go(e)).position&&"absolute"===o&&(oe="scrollHeight",ge="scrollWidth"),(s===Mn||(s===In||s===hs)&&r===Ah)&&(L=us,D-=(m&&Y===G&&G.visualViewport?G.visualViewport.height:Y[oe])-i.height,D*=l?1:-1),s!==In&&(s!==Mn&&s!==us||r!==Ah)||(U=hs,S-=(m&&Y===G&&G.visualViewport?G.visualViewport.width:Y[ge])-i.width,S*=l?1:-1)}var it,Be=Object.assign({position:o},h&&rK),vt=!0===f?function(n,t){var i=n.y,s=t.devicePixelRatio||1;return{x:Dh(n.x*s)/s||0,y:Dh(i*s)/s||0}}({x:S,y:D},ds(e)):{x:S,y:D};return S=vt.x,D=vt.y,Object.assign({},Be,l?((it={})[L]=O?"0":"",it[U]=R?"0":"",it.transform=(G.devicePixelRatio||1)<=1?"translate("+S+"px, "+D+"px)":"translate3d("+S+"px, "+D+"px, 0)",it):((t={})[L]=O?D+"px":"",t[U]=R?S+"px":"",t.transform="",t))}const WI={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(n){var t=n.state,e=n.options,i=e.gpuAcceleration,s=void 0===i||i,r=e.adaptive,a=void 0===r||r,o=e.roundOffsets,l=void 0===o||o,h={placement:Qr(t.placement),variation:xh(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,PV(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,PV(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var xb={passive:!0};const zI={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(n){var t=n.state,e=n.instance,i=n.options,s=i.scroll,r=void 0===s||s,a=i.resize,o=void 0===a||a,l=ds(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&h.forEach(function(f){f.addEventListener("scroll",e.update,xb)}),o&&l.addEventListener("resize",e.update,xb),function(){r&&h.forEach(function(f){f.removeEventListener("scroll",e.update,xb)}),o&&l.removeEventListener("resize",e.update,xb)}},data:{}};var cK={left:"right",right:"left",bottom:"top",top:"bottom"};function Mb(n){return n.replace(/left|right|bottom|top/g,function(t){return cK[t]})}var uK={start:"end",end:"start"};function DV(n){return n.replace(/start|end/g,function(t){return uK[t]})}function KI(n){var t=ds(n);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function QI(n){return Th(Go(n)).left+KI(n).scrollLeft}function YI(n){var t=ja(n);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function TV(n){return["html","body","#document"].indexOf(Kr(n))>=0?n.ownerDocument.body:qs(n)&&YI(n)?n:TV(Tb(n))}function sg(n,t){var e;void 0===t&&(t=[]);var i=TV(n),s=i===(null==(e=n.ownerDocument)?void 0:e.body),r=ds(i),a=s?[r].concat(r.visualViewport||[],YI(i)?i:[]):i,o=t.concat(a);return s?o:o.concat(sg(Tb(a)))}function JI(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function xV(n,t,e){return t===$I?JI(function(n,t){var e=ds(n),i=Go(n),s=e.visualViewport,r=i.clientWidth,a=i.clientHeight,o=0,l=0;if(s){r=s.width,a=s.height;var h=bV();(h||!h&&"fixed"===t)&&(o=s.offsetLeft,l=s.offsetTop)}return{width:r,height:a,x:o+QI(n),y:l}}(n,e)):mc(t)?function(n,t){var e=Th(n,!1,"fixed"===t);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}(t,e):JI(function(n){var t,e=Go(n),i=KI(n),s=null==(t=n.ownerDocument)?void 0:t.body,r=vc(e.scrollWidth,e.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=vc(e.scrollHeight,e.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),o=-i.scrollLeft+QI(n),l=-i.scrollTop;return"rtl"===ja(s||e).direction&&(o+=vc(e.clientWidth,s?s.clientWidth:0)-r),{width:r,height:a,x:o,y:l}}(Go(n)))}function MV(n){var l,t=n.reference,e=n.element,i=n.placement,s=i?Qr(i):null,r=i?xh(i):null,a=t.x+t.width/2-e.width/2,o=t.y+t.height/2-e.height/2;switch(s){case Mn:l={x:a,y:t.y-e.height};break;case us:l={x:a,y:t.y+t.height};break;case hs:l={x:t.x+t.width,y:o};break;case In:l={x:t.x-e.width,y:o};break;default:l={x:t.x,y:t.y}}var h=s?jI(s):null;if(null!=h){var f="y"===h?"height":"width";switch(r){case gc:l[h]=l[h]-(t[f]/2-e[f]/2);break;case Ah:l[h]=l[h]+(t[f]/2-e[f]/2)}}return l}function Mh(n,t){void 0===t&&(t={});var i=t.placement,s=void 0===i?n.placement:i,r=t.strategy,a=void 0===r?n.strategy:r,o=t.boundary,l=void 0===o?lV:o,h=t.rootBoundary,f=void 0===h?$I:h,m=t.elementContext,y=void 0===m?Ph:m,S=t.altBoundary,k=void 0!==S&&S,D=t.padding,T=void 0===D?0:D,R=kV("number"!=typeof T?T:CV(T,Ch)),U=n.rects.popper,L=n.elements[k?y===Ph?cV:Ph:y],G=function(n,t,e,i){var s="clippingParents"===t?function(n){var t=sg(Tb(n)),i=["absolute","fixed"].indexOf(ja(n).position)>=0&&qs(n)?ig(n):n;return mc(i)?t.filter(function(s){return mc(s)&&SV(s,i)&&"body"!==Kr(s)}):[]}(n):[].concat(t),r=[].concat(s,[e]),o=r.reduce(function(l,h){var f=xV(n,h,i);return l.top=vc(f.top,l.top),l.right=Db(f.right,l.right),l.bottom=Db(f.bottom,l.bottom),l.left=vc(f.left,l.left),l},xV(n,r[0],i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}(mc(L)?L:L.contextElement||Go(n.elements.popper),l,f,a),Y=Th(n.elements.reference),oe=MV({reference:Y,element:U,strategy:"absolute",placement:s}),ge=JI(Object.assign({},U,oe)),me=y===Ph?ge:Y,ye={top:G.top-me.top+R.top,bottom:me.bottom-G.bottom+R.bottom,left:G.left-me.left+R.left,right:me.right-G.right+R.right},Be=n.modifiersData.offset;if(y===Ph&&Be){var vt=Be[s];Object.keys(ye).forEach(function(it){var Et=[hs,us].indexOf(it)>=0?1:-1,Ft=[Mn,us].indexOf(it)>=0?"y":"x";ye[it]+=vt[Ft]*Et})}return ye}const IV={name:"flip",enabled:!0,phase:"main",fn:function(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var s=e.mainAxis,r=void 0===s||s,a=e.altAxis,o=void 0===a||a,l=e.fallbackPlacements,h=e.padding,f=e.boundary,m=e.rootBoundary,y=e.altBoundary,S=e.flipVariations,k=void 0===S||S,D=e.allowedAutoPlacements,T=t.options.placement,R=Qr(T),U=l||(R!==T&&k?function(n){if(Qr(n)===Pb)return[];var t=Mb(n);return[DV(n),t,DV(t)]}(T):[Mb(T)]),L=[T].concat(U).reduce(function(se,gs){return se.concat(Qr(gs)===Pb?function(n,t){void 0===t&&(t={});var s=t.boundary,r=t.rootBoundary,a=t.padding,o=t.flipVariations,l=t.allowedAutoPlacements,h=void 0===l?HI:l,f=xh(t.placement),m=f?o?VI:VI.filter(function(k){return xh(k)===f}):Ch,y=m.filter(function(k){return h.indexOf(k)>=0});0===y.length&&(y=m);var S=y.reduce(function(k,D){return k[D]=Mh(n,{placement:D,boundary:s,rootBoundary:r,padding:a})[Qr(D)],k},{});return Object.keys(S).sort(function(k,D){return S[k]-S[D]})}(t,{placement:gs,boundary:f,rootBoundary:m,padding:h,flipVariations:k,allowedAutoPlacements:D}):gs)},[]),G=t.rects.reference,Y=t.rects.popper,oe=new Map,ge=!0,me=L[0],ye=0;ye<L.length;ye++){var Be=L[ye],vt=Qr(Be),it=xh(Be)===gc,Et=[Mn,us].indexOf(vt)>=0,Ft=Et?"width":"height",X=Mh(t,{placement:Be,boundary:f,rootBoundary:m,altBoundary:y,padding:h}),re=Et?it?hs:In:it?us:Mn;G[Ft]>Y[Ft]&&(re=Mb(re));var ve=Mb(re),Me=[];if(r&&Me.push(X[vt]<=0),o&&Me.push(X[re]<=0,X[ve]<=0),Me.every(function(se){return se})){me=Be,ge=!1;break}oe.set(Be,Me)}if(ge)for(var oi=function(gs){var Pi=L.find(function(ms){var On=oe.get(ms);if(On)return On.slice(0,gs).every(function(Yn){return Yn})});if(Pi)return me=Pi,"break"},Rt=k?3:1;Rt>0&&"break"!==oi(Rt);Rt--);t.placement!==me&&(t.modifiersData[i]._skip=!0,t.placement=me,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function OV(n,t,e){return void 0===e&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function RV(n){return[Mn,hs,us,In].some(function(t){return n[t]>=0})}const NV={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(n){var t=n.state,e=n.name,i=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,a=Mh(t,{elementContext:"reference"}),o=Mh(t,{altBoundary:!0}),l=OV(a,i),h=OV(o,s,r),f=RV(l),m=RV(h);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":m})}},LV={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(n){var t=n.state,i=n.name,s=n.options.offset,r=void 0===s?[0,0]:s,a=HI.reduce(function(f,m){return f[m]=function(n,t,e){var i=Qr(n),s=[In,Mn].indexOf(i)>=0?-1:1,r="function"==typeof e?e(Object.assign({},t,{placement:n})):e,a=r[0],o=r[1];return a=a||0,o=(o||0)*s,[In,hs].indexOf(i)>=0?{x:o,y:a}:{x:a,y:o}}(m,t.rects,r),f},{}),o=a[t.placement],h=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=o.x,t.modifiersData.popperOffsets.y+=h),t.modifiersData[i]=a}},ZI={name:"popperOffsets",enabled:!0,phase:"read",fn:function(n){var t=n.state;t.modifiersData[n.name]=MV({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},BV={name:"preventOverflow",enabled:!0,phase:"main",fn:function(n){var t=n.state,e=n.options,i=n.name,s=e.mainAxis,r=void 0===s||s,a=e.altAxis,o=void 0!==a&&a,y=e.tether,S=void 0===y||y,k=e.tetherOffset,D=void 0===k?0:k,T=Mh(t,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),R=Qr(t.placement),O=xh(t.placement),U=!O,L=jI(R),G=function(n){return"x"===n?"y":"x"}(L),Y=t.modifiersData.popperOffsets,oe=t.rects.reference,ge=t.rects.popper,me="function"==typeof D?D(Object.assign({},t.rects,{placement:t.placement})):D,ye="number"==typeof me?{mainAxis:me,altAxis:me}:Object.assign({mainAxis:0,altAxis:0},me),Be=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,vt={x:0,y:0};if(Y){if(r){var it,Et="y"===L?Mn:In,Ft="y"===L?us:hs,X="y"===L?"height":"width",re=Y[L],ve=re+T[Et],Me=re-T[Ft],yt=S?-ge[X]/2:0,oi=O===gc?oe[X]:ge[X],Rt=O===gc?-ge[X]:-oe[X],fi=t.elements.arrow,se=S&&fi?GI(fi):{width:0,height:0},gs=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Pi=gs[Et],ms=gs[Ft],On=ng(0,oe[X],se[X]),Yn=U?oe[X]/2-yt-On-Pi-ye.mainAxis:oi-On-Pi-ye.mainAxis,il=U?-oe[X]/2+yt+On+ms+ye.mainAxis:Rt+On+ms+ye.mainAxis,zh=t.elements.arrow&&ig(t.elements.arrow),kg=null!=(it=null==Be?void 0:Be[L])?it:0,PS=re+il-kg,Cg=ng(S?Db(ve,re+Yn-kg-(zh?"y"===L?zh.clientTop||0:zh.clientLeft||0:0)):ve,re,S?vc(Me,PS):Me);Y[L]=Cg,vt[L]=Cg-re}if(o){var Ag,ea=Y[G],xc="y"===G?"height":"width",Pg=ea+T["x"===L?Mn:In],Dg=ea-T["x"===L?us:hs],Kh=-1!==[Mn,In].indexOf(R),Tg=null!=(Ag=null==Be?void 0:Be[G])?Ag:0,xg=Kh?Pg:ea-oe[xc]-ge[xc]-Tg+ye.altAxis,Mg=Kh?ea+oe[xc]+ge[xc]-Tg-ye.altAxis:Dg,Ig=S&&Kh?function(n,t,e){var i=ng(n,t,e);return i>e?e:i}(xg,ea,Mg):ng(S?xg:Pg,ea,S?Mg:Dg);Y[G]=Ig,vt[G]=Ig-ea}t.modifiersData[i]=vt}},requiresIfExists:["offset"]};function DK(n,t,e){void 0===e&&(e=!1);var i=qs(t),s=qs(t)&&function(n){var t=n.getBoundingClientRect(),e=Dh(t.width)/n.offsetWidth||1,i=Dh(t.height)/n.offsetHeight||1;return 1!==e||1!==i}(t),r=Go(t),a=Th(n,s,e),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!e)&&(("body"!==Kr(t)||YI(r))&&(o=function(n){return n!==ds(n)&&qs(n)?function(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):KI(n)}(t)),qs(t)?((l=Th(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=QI(r))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function TK(n){var t=new Map,e=new Set,i=[];function s(r){e.add(r.name),[].concat(r.requires||[],r.requiresIfExists||[]).forEach(function(o){if(!e.has(o)){var l=t.get(o);l&&s(l)}}),i.push(r)}return n.forEach(function(r){t.set(r.name,r)}),n.forEach(function(r){e.has(r.name)||s(r)}),i}function MK(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}var $V={placement:"bottom",modifiers:[],strategy:"absolute"};function VV(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function Ib(n){void 0===n&&(n={});var e=n.defaultModifiers,i=void 0===e?[]:e,s=n.defaultOptions,r=void 0===s?$V:s;return function(o,l,h){void 0===h&&(h=r);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},$V,r),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},m=[],y=!1,S={state:f,setOptions:function(R){var O="function"==typeof R?R(f.options):R;D(),f.options=Object.assign({},r,f.options,O),f.scrollParents={reference:mc(o)?sg(o):o.contextElement?sg(o.contextElement):[],popper:sg(l)};var U=function(n){var t=TK(n);return _V.reduce(function(e,i){return e.concat(t.filter(function(s){return s.phase===i}))},[])}(function(n){var t=n.reduce(function(e,i){var s=e[i.name];return e[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(i,f.options.modifiers)));return f.orderedModifiers=U.filter(function(L){return L.enabled}),f.orderedModifiers.forEach(function(T){var O=T.options,L=T.effect;if("function"==typeof L){var G=L({state:f,name:T.name,instance:S,options:void 0===O?{}:O});m.push(G||function(){})}}),S.update()},forceUpdate:function(){if(!y){var R=f.elements,O=R.reference,U=R.popper;if(VV(O,U)){f.rects={reference:DK(O,ig(U),"fixed"===f.options.strategy),popper:GI(U)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(ye){return f.modifiersData[ye.name]=Object.assign({},ye.data)});for(var L=0;L<f.orderedModifiers.length;L++)if(!0!==f.reset){var G=f.orderedModifiers[L],Y=G.fn,oe=G.options;"function"==typeof Y&&(f=Y({state:f,options:void 0===oe?{}:oe,name:G.name,instance:S})||f)}else f.reset=!1,L=-1}}},update:MK(function(){return new Promise(function(T){S.forceUpdate(),T(f)})}),destroy:function(){D(),y=!0}};if(!VV(o,l))return S;function D(){m.forEach(function(T){return T()}),m=[]}return S.setOptions(h).then(function(T){!y&&h.onFirstUpdate&&h.onFirstUpdate(T)}),S}}var OK=Ib(),XI=Ib({defaultModifiers:[zI,ZI,WI,qI,LV,IV,BV,AV,NV]}),LK=Ib({defaultModifiers:[zI,ZI,WI,qI]});const jo=new Map,eO={set(n,t,e){jo.has(n)||jo.set(n,new Map);const i=jo.get(n);i.has(t)||0===i.size?i.set(t,e):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(n,t)=>jo.has(n)&&jo.get(n).get(t)||null,remove(n,t){if(!jo.has(n))return;const e=jo.get(n);e.delete(t),0===e.size&&jo.delete(n)}},tO="transitionend",HV=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),n),VK=n=>null==n?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),FV=n=>{n.dispatchEvent(new Event(tO))},Wa=n=>!(!n||"object"!=typeof n)&&(void 0!==n.jquery&&(n=n[0]),void 0!==n.nodeType),Wo=n=>Wa(n)?n.jquery?n[0]:n:"string"==typeof n&&n.length>0?document.querySelector(HV(n)):null,Ih=n=>{if(!Wa(n)||0===n.getClientRects().length)return!1;const t="visible"===getComputedStyle(n).getPropertyValue("visibility"),e=n.closest("details:not([open])");if(!e)return t;if(e!==n){const i=n.closest("summary");if(i&&i.parentNode!==e||null===i)return!1}return t},zo=n=>!(n&&n.nodeType===Node.ELEMENT_NODE&&!n.classList.contains("disabled"))||(void 0!==n.disabled?n.disabled:n.hasAttribute("disabled")&&"false"!==n.getAttribute("disabled")),qV=n=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof n.getRootNode){const t=n.getRootNode();return t instanceof ShadowRoot?t:null}return n instanceof ShadowRoot?n:n.parentNode?qV(n.parentNode):null},Ob=()=>{},UV=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,iO=[],Us=()=>"rtl"===document.documentElement.dir,Gs=n=>{(n=>{"loading"===document.readyState?(iO.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of iO)t()}),iO.push(n)):n()})(()=>{const t=UV();if(t){const e=n.NAME,i=t.fn[e];t.fn[e]=n.jQueryInterface,t.fn[e].Constructor=n,t.fn[e].noConflict=()=>(t.fn[e]=i,n.jQueryInterface)}})},Qn=(n,t=[],e=n)=>"function"==typeof n?n(...t):e,GV=(n,t,e=!0)=>{if(!e)return void Qn(n);const s=(n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(n);const i=Number.parseFloat(t),s=Number.parseFloat(e);return i||s?(t=t.split(",")[0],e=e.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(e))):0})(t)+5;let r=!1;const a=({target:o})=>{o===t&&(r=!0,t.removeEventListener(tO,a),Qn(n))};t.addEventListener(tO,a),setTimeout(()=>{r||FV(t)},s)},nO=(n,t,e,i)=>{const s=n.length;let r=n.indexOf(t);return-1===r?!e&&i?n[s-1]:n[0]:(r+=e?1:-1,i&&(r=(r+s)%s),n[Math.max(0,Math.min(r,s-1))])},UK=/[^.]*(?=\..*)\.|.*/,GK=/\..*/,jK=/::\d+$/,sO={};let jV=1;const WV={mouseenter:"mouseover",mouseleave:"mouseout"},WK=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function zV(n,t){return t&&`${t}::${jV++}`||n.uidEvent||jV++}function KV(n){const t=zV(n);return n.uidEvent=t,sO[t]=sO[t]||{},sO[t]}function QV(n,t,e=null){return Object.values(n).find(i=>i.callable===t&&i.delegationSelector===e)}function YV(n,t,e){const i="string"==typeof t,s=i?e:t||e;let r=ZV(n);return WK.has(r)||(r=n),[i,s,r]}function JV(n,t,e,i,s){if("string"!=typeof t||!n)return;let[r,a,o]=YV(t,e,i);var k;t in WV&&(k=a,a=function(D){if(!D.relatedTarget||D.relatedTarget!==D.delegateTarget&&!D.delegateTarget.contains(D.relatedTarget))return k.call(this,D)});const l=KV(n),h=l[o]||(l[o]={}),f=QV(h,a,r?e:null);if(f)return void(f.oneOff=f.oneOff&&s);const m=zV(a,t.replace(UK,"")),y=r?function(n,t,e){return function i(s){const r=n.querySelectorAll(t);for(let{target:a}=s;a&&a!==this;a=a.parentNode)for(const o of r)if(o===a)return aO(s,{delegateTarget:a}),i.oneOff&&J.off(n,s.type,t,e),e.apply(a,[s])}}(n,e,a):function(n,t){return function e(i){return aO(i,{delegateTarget:n}),e.oneOff&&J.off(n,i.type,t),t.apply(n,[i])}}(n,a);y.delegationSelector=r?e:null,y.callable=a,y.oneOff=s,y.uidEvent=m,h[m]=y,n.addEventListener(o,y,r)}function rO(n,t,e,i,s){const r=QV(t[e],i,s);!r||(n.removeEventListener(e,r,Boolean(s)),delete t[e][r.uidEvent])}function QK(n,t,e,i){const s=t[e]||{};for(const[r,a]of Object.entries(s))r.includes(i)&&rO(n,t,e,a.callable,a.delegationSelector)}function ZV(n){return n=n.replace(GK,""),WV[n]||n}const J={on(n,t,e,i){JV(n,t,e,i,!1)},one(n,t,e,i){JV(n,t,e,i,!0)},off(n,t,e,i){if("string"!=typeof t||!n)return;const[s,r,a]=YV(t,e,i),o=a!==t,l=KV(n),h=l[a]||{},f=t.startsWith(".");if(void 0===r){if(f)for(const m of Object.keys(l))QK(n,l,m,t.slice(1));for(const[m,y]of Object.entries(h)){const S=m.replace(jK,"");(!o||t.includes(S))&&rO(n,l,a,y.callable,y.delegationSelector)}}else{if(!Object.keys(h).length)return;rO(n,l,a,r,s?e:null)}},trigger(n,t,e){if("string"!=typeof t||!n)return null;const i=UV();let a=null,o=!0,l=!0,h=!1;t!==ZV(t)&&i&&(a=i.Event(t,e),i(n).trigger(a),o=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),h=a.isDefaultPrevented());const f=aO(new Event(t,{bubbles:o,cancelable:!0}),e);return h&&f.preventDefault(),l&&n.dispatchEvent(f),f.defaultPrevented&&a&&a.preventDefault(),f}};function aO(n,t={}){for(const[e,i]of Object.entries(t))try{n[e]=i}catch(s){Object.defineProperty(n,e,{configurable:!0,get:()=>i})}return n}function XV(n){if("true"===n)return!0;if("false"===n)return!1;if(n===Number(n).toString())return Number(n);if(""===n||"null"===n)return null;if("string"!=typeof n)return n;try{return JSON.parse(decodeURIComponent(n))}catch(t){return n}}function oO(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const za={setDataAttribute(n,t,e){n.setAttribute(`data-bs-${oO(t)}`,e)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${oO(t)}`)},getDataAttributes(n){if(!n)return{};const t={},e=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of e){let s=i.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1,s.length),t[s]=XV(n.dataset[i])}return t},getDataAttribute:(n,t)=>XV(n.getAttribute(`data-bs-${oO(t)}`))};class ag{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=Wa(e)?za.getDataAttribute(e,"config"):{};return hn(hn(hn(hn({},this.constructor.Default),"object"==typeof i?i:{}),Wa(e)?za.getDataAttributes(e):{}),"object"==typeof t?t:{})}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[i,s]of Object.entries(e)){const r=t[i],a=Wa(r)?"element":VK(r);if(!new RegExp(s).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${a}" but expected type "${s}".`)}}}class kr extends ag{constructor(t,e){super(),(t=Wo(t))&&(this._element=t,this._config=this._getConfig(e),eO.set(this._element,this.constructor.DATA_KEY,this))}dispose(){eO.remove(this._element,this.constructor.DATA_KEY),J.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){GV(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return eO.get(Wo(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.1"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const lO=n=>{let t=n.getAttribute("data-bs-target");if(!t||"#"===t){let e=n.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&"#"!==e?e.trim():null}return HV(t)},Ce={find:(n,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,n)),findOne:(n,t=document.documentElement)=>Element.prototype.querySelector.call(t,n),children:(n,t)=>[].concat(...n.children).filter(e=>e.matches(t)),parents(n,t){const e=[];let i=n.parentNode.closest(t);for(;i;)e.push(i),i=i.parentNode.closest(t);return e},prev(n,t){let e=n.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(n,t){let e=n.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(n){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,n).filter(e=>!zo(e)&&Ih(e))},getSelectorFromElement(n){const t=lO(n);return t&&Ce.findOne(t)?t:null},getElementFromSelector(n){const t=lO(n);return t?Ce.findOne(t):null},getMultipleElementsFromSelector(n){const t=lO(n);return t?Ce.find(t):[]}},Rb=(n,t="hide")=>{const i=n.NAME;J.on(document,`click.dismiss${n.EVENT_KEY}`,`[data-bs-dismiss="${i}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),zo(this))return;const r=Ce.getElementFromSelector(this)||this.closest(`.${i}`);n.getOrCreateInstance(r)[t]()})},eH=".bs.alert",ZK=`close${eH}`,XK=`closed${eH}`;class Nb extends kr{static get NAME(){return"alert"}close(){if(J.trigger(this._element,ZK).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),J.trigger(this._element,XK),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=Nb.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}Rb(Nb,"close"),Gs(Nb);const tH='[data-bs-toggle="button"]';class Lb extends kr{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const e=Lb.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}J.on(document,"click.bs.button.data-api",tH,n=>{n.preventDefault();const t=n.target.closest(tH);Lb.getOrCreateInstance(t).toggle()}),Gs(Lb);const Oh=".bs.swipe",lQ=`touchstart${Oh}`,cQ=`touchmove${Oh}`,uQ=`touchend${Oh}`,hQ=`pointerdown${Oh}`,dQ=`pointerup${Oh}`,vQ={endCallback:null,leftCallback:null,rightCallback:null},yQ={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Bb extends ag{constructor(t,e){super(),this._element=t,t&&Bb.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return vQ}static get DefaultType(){return yQ}static get NAME(){return"swipe"}dispose(){J.off(this._element,Oh)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Qn(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const e=t/this._deltaX;this._deltaX=0,e&&Qn(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(J.on(this._element,hQ,t=>this._start(t)),J.on(this._element,dQ,t=>this._end(t)),this._element.classList.add("pointer-event")):(J.on(this._element,lQ,t=>this._start(t)),J.on(this._element,cQ,t=>this._move(t)),J.on(this._element,uQ,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ko=".bs.carousel",iH=".data-api",og="next",Rh="prev",Nh="left",$b="right",EQ=`slide${Ko}`,cO=`slid${Ko}`,kQ=`keydown${Ko}`,CQ=`mouseenter${Ko}`,AQ=`mouseleave${Ko}`,PQ=`dragstart${Ko}`,DQ=`load${Ko}${iH}`,TQ=`click${Ko}${iH}`,nH="carousel",Vb="active",HQ={ArrowLeft:$b,ArrowRight:Nh},FQ={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},qQ={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class lg extends kr{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ce.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===nH&&this.cycle()}static get Default(){return FQ}static get DefaultType(){return qQ}static get NAME(){return"carousel"}next(){this._slide(og)}nextWhenVisible(){!document.hidden&&Ih(this._element)&&this.next()}prev(){this._slide(Rh)}pause(){this._isSliding&&FV(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void J.one(this._element,cO,()=>this.cycle());this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void J.one(this._element,cO,()=>this.to(t));const i=this._getItemIndex(this._getActive());i!==t&&this._slide(t>i?og:Rh,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&J.on(this._element,kQ,t=>this._keydown(t)),"hover"===this._config.pause&&(J.on(this._element,CQ,()=>this.pause()),J.on(this._element,AQ,()=>this._maybeEnableCycle())),this._config.touch&&Bb.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of Ce.find(".carousel-item img",this._element))J.on(i,PQ,s=>s.preventDefault());this._swipeHelper=new Bb(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Nh)),rightCallback:()=>this._slide(this._directionToOrder($b)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=HQ[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=Ce.findOne(".active",this._indicatorsElement);e.classList.remove(Vb),e.removeAttribute("aria-current");const i=Ce.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(Vb),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),s=t===og,r=e||nO(this._getItems(),i,s,this._config.wrap);if(r===i)return;const a=this._getItemIndex(r),o=S=>J.trigger(this._element,S,{relatedTarget:r,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:a});if(o(EQ).defaultPrevented||!i||!r)return;const h=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=r;const f=s?"carousel-item-start":"carousel-item-end",m=s?"carousel-item-next":"carousel-item-prev";r.classList.add(m),i.classList.add(f),r.classList.add(f),this._queueCallback(()=>{r.classList.remove(f,m),r.classList.add(Vb),i.classList.remove(Vb,m,f),this._isSliding=!1,o(cO)},i,this._isAnimated()),h&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Ce.findOne(".active.carousel-item",this._element)}_getItems(){return Ce.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Us()?t===Nh?Rh:og:t===Nh?og:Rh}_orderToDirection(t){return Us()?t===Rh?Nh:$b:t===Rh?$b:Nh}static jQueryInterface(t){return this.each(function(){const e=lg.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)})}}J.on(document,TQ,"[data-bs-slide], [data-bs-slide-to]",function(n){const t=Ce.getElementFromSelector(this);if(!t||!t.classList.contains(nH))return;n.preventDefault();const e=lg.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");return i?(e.to(i),void e._maybeEnableCycle()):"next"===za.getDataAttribute(this,"slide")?(e.next(),void e._maybeEnableCycle()):(e.prev(),void e._maybeEnableCycle())}),J.on(window,DQ,()=>{const n=Ce.find('[data-bs-ride="carousel"]');for(const t of n)lg.getOrCreateInstance(t)}),Gs(lg);const cg=".bs.collapse",jQ=`show${cg}`,WQ=`shown${cg}`,zQ=`hide${cg}`,KQ=`hidden${cg}`,QQ=`click${cg}.data-api`,uO="show",Lh="collapse",Hb="collapsing",JQ=`:scope .${Lh} .${Lh}`,hO='[data-bs-toggle="collapse"]',iY={parent:null,toggle:!0},nY={parent:"(null|element)",toggle:"boolean"};class ug extends kr{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=Ce.find(hO);for(const s of i){const r=Ce.getSelectorFromElement(s),a=Ce.find(r).filter(o=>o===this._element);null!==r&&a.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return iY}static get DefaultType(){return nY}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(o=>o!==this._element).map(o=>ug.getOrCreateInstance(o,{toggle:!1}))),t.length&&t[0]._isTransitioning||J.trigger(this._element,jQ).defaultPrevented)return;for(const o of t)o.hide();const i=this._getDimension();this._element.classList.remove(Lh),this._element.classList.add(Hb),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const a=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Hb),this._element.classList.add(Lh,uO),this._element.style[i]="",J.trigger(this._element,WQ)},this._element,!0),this._element.style[i]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||J.trigger(this._element,zQ).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,this._element.classList.add(Hb),this._element.classList.remove(Lh,uO);for(const s of this._triggerArray){const r=Ce.getElementFromSelector(s);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Hb),this._element.classList.add(Lh),J.trigger(this._element,KQ)},this._element,!0)}_isShown(t=this._element){return t.classList.contains(uO)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=Wo(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(hO);for(const e of t){const i=Ce.getElementFromSelector(e);i&&this._addAriaAndCollapsedClass([e],this._isShown(i))}}_getFirstLevelChildren(t){const e=Ce.find(JQ,this._config.parent);return Ce.find(t,this._config.parent).filter(i=>!e.includes(i))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle("collapsed",!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const i=ug.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t]()}})}}J.on(document,QQ,hO,function(n){("A"===n.target.tagName||n.delegateTarget&&"A"===n.delegateTarget.tagName)&&n.preventDefault();for(const t of Ce.getMultipleElementsFromSelector(this))ug.getOrCreateInstance(t,{toggle:!1}).toggle()}),Gs(ug);const aH="dropdown",yc=".bs.dropdown",dO=".data-api",rY="ArrowUp",lH="ArrowDown",oY=`hide${yc}`,lY=`hidden${yc}`,cY=`show${yc}`,uY=`shown${yc}`,cH=`click${yc}${dO}`,uH=`keydown${yc}${dO}`,hY=`keyup${yc}${dO}`,Bh="show",_c='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',vY=`${_c}.show`,Fb=".dropdown-menu",SY=Us()?"top-end":"top-start",wY=Us()?"top-start":"top-end",EY=Us()?"bottom-end":"bottom-start",kY=Us()?"bottom-start":"bottom-end",CY=Us()?"left-start":"right-start",AY=Us()?"right-start":"left-start",TY={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},xY={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Yr extends kr{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=Ce.next(this._element,Fb)[0]||Ce.prev(this._element,Fb)[0]||Ce.findOne(Fb,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return TY}static get DefaultType(){return xY}static get NAME(){return aH}toggle(){return this._isShown()?this.hide():this.show()}show(){if(zo(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!J.trigger(this._element,cY,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const i of[].concat(...document.body.children))J.on(i,"mouseover",Ob);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Bh),this._element.classList.add(Bh),J.trigger(this._element,uY,t)}}hide(){!zo(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!J.trigger(this._element,oY,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))J.off(i,"mouseover",Ob);this._popper&&this._popper.destroy(),this._menu.classList.remove(Bh),this._element.classList.remove(Bh),this._element.setAttribute("aria-expanded","false"),za.removeDataAttribute(this._menu,"popper"),J.trigger(this._element,lY,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!Wa(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${aH.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===Jn)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:Wa(this._config.reference)?t=Wo(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=XI(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Bh)}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return CY;if(t.classList.contains("dropstart"))return AY;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?wY:SY:e?kY:EY}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(za.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),hn(hn({},t),Qn(this._config.popperConfig,[t]))}_selectMenuItem({key:t,target:e}){const i=Ce.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(s=>Ih(s));!i.length||nO(i,e,t===lH,!i.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=Yr.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;const e=Ce.find(vY);for(const i of e){const s=Yr.getInstance(i);if(!s||!1===s._config.autoClose)continue;const r=t.composedPath(),a=r.includes(s._menu);if(r.includes(s._element)||"inside"===s._config.autoClose&&!a||"outside"===s._config.autoClose&&a||s._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const o={relatedTarget:s._element};"click"===t.type&&(o.clickEvent=t),s._completeHide(o)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i="Escape"===t.key,s=[rY,lH].includes(t.key);if(!s&&!i||e&&!i)return;t.preventDefault();const r=this.matches(_c)?this:Ce.prev(this,_c)[0]||Ce.next(this,_c)[0]||Ce.findOne(_c,t.delegateTarget.parentNode),a=Yr.getOrCreateInstance(r);if(s)return t.stopPropagation(),a.show(),void a._selectMenuItem(t);a._isShown()&&(t.stopPropagation(),a.hide(),r.focus())}}J.on(document,uH,_c,Yr.dataApiKeydownHandler),J.on(document,uH,Fb,Yr.dataApiKeydownHandler),J.on(document,cH,Yr.clearMenus),J.on(document,hY,Yr.clearMenus),J.on(document,cH,_c,function(n){n.preventDefault(),Yr.getOrCreateInstance(this).toggle()}),Gs(Yr);const hH="backdrop",fH=`mousedown.bs.${hH}`,IY={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},OY={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class pH extends ag{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return IY}static get DefaultType(){return OY}static get NAME(){return hH}show(t){if(!this._config.isVisible)return void Qn(t);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{Qn(t)})}hide(t){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),Qn(t)})):Qn(t)}dispose(){!this._isAppended||(J.off(this._element,fH),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Wo(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),J.on(t,fH,()=>{Qn(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){GV(t,this._getElement(),this._config.isAnimated)}}const qb=".bs.focustrap",NY=`focusin${qb}`,LY=`keydown.tab${qb}`,gH="backward",VY={autofocus:!0,trapElement:null},HY={autofocus:"boolean",trapElement:"element"};class mH extends ag{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return VY}static get DefaultType(){return HY}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),J.off(document,qb),J.on(document,NY,t=>this._handleFocusin(t)),J.on(document,LY,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,J.off(document,qb))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=Ce.focusableChildren(e);0===i.length?e.focus():this._lastTabNavDirection===gH?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?gH:"forward")}}const vH=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",yH=".sticky-top",Ub="padding-right",_H="margin-right";class fO{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ub,e=>e+t),this._setElementAttributes(vH,Ub,e=>e+t),this._setElementAttributes(yH,_H,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ub),this._resetElementAttributes(vH,Ub),this._resetElementAttributes(yH,_H)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const s=this.getWidth();this._applyManipulationCallback(t,a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+s)return;this._saveInitialAttribute(a,e);const o=window.getComputedStyle(a).getPropertyValue(e);a.style.setProperty(e,`${i(Number.parseFloat(o))}px`)})}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&za.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,s=>{const r=za.getDataAttribute(s,e);null!==r?(za.removeDataAttribute(s,e),s.style.setProperty(e,r)):s.style.removeProperty(e)})}_applyManipulationCallback(t,e){if(Wa(t))e(t);else for(const i of Ce.find(t,this._element))e(i)}}const js=".bs.modal",GY=`hide${js}`,jY=`hidePrevented${js}`,bH=`hidden${js}`,SH=`show${js}`,WY=`shown${js}`,zY=`resize${js}`,KY=`click.dismiss${js}`,QY=`mousedown.dismiss${js}`,YY=`keydown.dismiss${js}`,JY=`click${js}.data-api`,wH="modal-open",pO="modal-static",nJ={backdrop:!0,focus:!0,keyboard:!0},sJ={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class bc extends kr{constructor(t,e){super(t,e),this._dialog=Ce.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new fO,this._addEventListeners()}static get Default(){return nJ}static get DefaultType(){return sJ}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||J.trigger(this._element,SH,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(wH),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||J.trigger(this._element,GY).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){J.off(window,js),J.off(this._dialog,js),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new pH({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new mH({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=Ce.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,J.trigger(this._element,WY,{relatedTarget:t})},this._dialog,this._isAnimated())}_addEventListeners(){J.on(this._element,YY,t=>{if("Escape"===t.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),J.on(window,zY,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),J.on(this._element,QY,t=>{J.one(this._element,KY,e=>{if(this._element===t.target&&this._element===e.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(wH),this._resetAdjustments(),this._scrollBar.reset(),J.trigger(this._element,bH)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(J.trigger(this._element,jY).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains(pO)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(pO),this._queueCallback(()=>{this._element.classList.remove(pO),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const s=Us()?"paddingLeft":"paddingRight";this._element.style[s]=`${e}px`}if(!i&&t){const s=Us()?"paddingRight":"paddingLeft";this._element.style[s]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const i=bc.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===i[t])throw new TypeError(`No method named "${t}"`);i[t](e)}})}}J.on(document,JY,'[data-bs-toggle="modal"]',function(n){const t=Ce.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),J.one(t,SH,s=>{s.defaultPrevented||J.one(t,bH,()=>{Ih(this)&&this.focus()})});const e=Ce.findOne(".modal.show");e&&bc.getInstance(e).hide(),bc.getOrCreateInstance(t).toggle(this)}),Rb(bc),Gs(bc);const Ka=".bs.offcanvas",kH=".data-api",aJ=`load${Ka}${kH}`,AH="showing",DH=".offcanvas.show",cJ=`show${Ka}`,uJ=`shown${Ka}`,hJ=`hide${Ka}`,TH=`hidePrevented${Ka}`,xH=`hidden${Ka}`,dJ=`resize${Ka}`,fJ=`click${Ka}${kH}`,pJ=`keydown.dismiss${Ka}`,mJ={backdrop:!0,keyboard:!0,scroll:!1},vJ={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Qo extends kr{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return mJ}static get DefaultType(){return vJ}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||J.trigger(this._element,cJ,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new fO).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(AH),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(AH),J.trigger(this._element,uJ,{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&!J.trigger(this._element,hJ).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new fO).reset(),J.trigger(this._element,xH)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new pH({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():J.trigger(this._element,TH)}:null})}_initializeFocusTrap(){return new mH({trapElement:this._element})}_addEventListeners(){J.on(this._element,pJ,t=>{if("Escape"===t.key){if(this._config.keyboard)return void this.hide();J.trigger(this._element,TH)}})}static jQueryInterface(t){return this.each(function(){const e=Qo.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}J.on(document,fJ,'[data-bs-toggle="offcanvas"]',function(n){const t=Ce.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),zo(this))return;J.one(t,xH,()=>{Ih(this)&&this.focus()});const e=Ce.findOne(DH);e&&e!==t&&Qo.getInstance(e).hide(),Qo.getOrCreateInstance(t).toggle(this)}),J.on(window,aJ,()=>{for(const n of Ce.find(DH))Qo.getOrCreateInstance(n).show()}),J.on(window,dJ,()=>{for(const n of Ce.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(n).position&&Qo.getOrCreateInstance(n).hide()}),Rb(Qo),Gs(Qo);const MH={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},yJ=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),_J=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,bJ=(n,t)=>{const e=n.nodeName.toLowerCase();return t.includes(e)?!yJ.has(e)||Boolean(_J.test(n.nodeValue)):t.filter(i=>i instanceof RegExp).some(i=>i.test(e))},EJ={allowList:MH,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},kJ={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},CJ={entry:"(string|element|function|null)",selector:"(string|element)"};class AJ extends ag{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return EJ}static get DefaultType(){return kJ}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content=hn(hn({},this._config.content),t),this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[s,r]of Object.entries(this._config.content))this._setContent(t,r,s);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},CJ)}_setContent(t,e,i){const s=Ce.findOne(i,t);if(s){if(!(e=this._resolvePossibleFunction(e)))return void s.remove();if(Wa(e))return void this._putElementInTemplate(Wo(e),s);if(this._config.html)return void(s.innerHTML=this._maybeSanitize(e));s.textContent=e}}_maybeSanitize(t){return this._config.sanitize?function(n,t,e){if(!n.length)return n;if(e&&"function"==typeof e)return e(n);const s=(new window.DOMParser).parseFromString(n,"text/html"),r=[].concat(...s.body.querySelectorAll("*"));for(const a of r){const o=a.nodeName.toLowerCase();if(!Object.keys(t).includes(o)){a.remove();continue}const l=[].concat(...a.attributes),h=[].concat(t["*"]||[],t[o]||[]);for(const f of l)bJ(f,h)||a.removeAttribute(f.nodeName)}return s.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Qn(t,[this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}const DJ=new Set(["sanitize","allowList","sanitizeFn"]),gO="fade",Gb="show",OH="hide.bs.modal",hg="hover",mO="focus",UJ={AUTO:"auto",TOP:"top",RIGHT:Us()?"left":"right",BOTTOM:"bottom",LEFT:Us()?"right":"left"},GJ={allowList:MH,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},jJ={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class $h extends kr{constructor(t,e){if(void 0===Jn)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return GJ}static get DefaultType(){return jJ}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),J.off(this._element.closest(".modal"),OH,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=J.trigger(this._element,this.constructor.eventName("show")),i=(qV(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!i)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(s),J.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(s),s.classList.add(Gb),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))J.on(o,"mouseover",Ob);this._queueCallback(()=>{J.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!J.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Gb),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))J.off(s,"mouseover",Ob);this._activeTrigger.click=!1,this._activeTrigger[mO]=!1,this._activeTrigger[hg]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),J.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(gO,Gb),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(n=>{do{n+=Math.floor(1e6*Math.random())}while(document.getElementById(n));return n})(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(gO),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new AJ(xS(hn({},this._config),{content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(gO)}_isShown(){return this.tip&&this.tip.classList.contains(Gb)}_createPopper(t){const e=Qn(this._config.placement,[this,t,this._element]),i=UJ[e.toUpperCase()];return XI(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return Qn(t,[this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return hn(hn({},e),Qn(this._config.popperConfig,[e]))}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)J.on(this._element,this.constructor.eventName("click"),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if("manual"!==e){const i=this.constructor.eventName(e===hg?"mouseenter":"focusin"),s=this.constructor.eventName(e===hg?"mouseleave":"focusout");J.on(this._element,i,this._config.selector,r=>{const a=this._initializeOnDelegatedTarget(r);a._activeTrigger["focusin"===r.type?mO:hg]=!0,a._enter()}),J.on(this._element,s,this._config.selector,r=>{const a=this._initializeOnDelegatedTarget(r);a._activeTrigger["focusout"===r.type?mO:hg]=a._element.contains(r.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},J.on(this._element.closest(".modal"),OH,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");!t||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=za.getDataAttributes(this._element);for(const i of Object.keys(e))DJ.has(i)&&delete e[i];return t=hn(hn({},e),"object"==typeof t&&t?t:{}),t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:Wo(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=$h.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}Gs($h);const QJ=xS(hn({},$h.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),YJ=xS(hn({},$h.DefaultType),{content:"(null|string|element|function)"});class vO extends $h{static get Default(){return QJ}static get DefaultType(){return YJ}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=vO.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}Gs(vO);const yO=".bs.scrollspy",XJ=`activate${yO}`,RH=`click${yO}`,eZ=`load${yO}.data-api`,Vh="active",_O="[href]",NH=".nav-link",sZ=`${NH}, .nav-item > ${NH}, .list-group-item`,oZ={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},lZ={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class jb extends kr{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return oZ}static get DefaultType(){return lZ}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=Wo(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(J.off(this._config.target,RH),J.on(this._config.target,RH,_O,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,s=e.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:s,behavior:"smooth"});i.scrollTop=s}}))}_getNewObserver(){return new IntersectionObserver(e=>this._observerCallback(e),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(t){const e=a=>this._targetLinks.get(`#${a.target.id}`),i=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(e(a))},s=(this._rootElement||document.documentElement).scrollTop,r=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const a of t){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(a));continue}const o=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&o){if(i(a),!s)return}else!r&&!o&&i(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=Ce.find(_O,this._config.target);for(const e of t){if(!e.hash||zo(e))continue;const i=Ce.findOne(decodeURI(e.hash),this._element);Ih(i)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,i))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Vh),this._activateParents(t),J.trigger(this._element,XJ,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))Ce.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(Vh);else for(const e of Ce.parents(t,".nav, .list-group"))for(const i of Ce.prev(e,sZ))i.classList.add(Vh)}_clearActiveClass(t){t.classList.remove(Vh);const e=Ce.find(`${_O}.${Vh}`,t);for(const i of e)i.classList.remove(Vh)}static jQueryInterface(t){return this.each(function(){const e=jb.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}J.on(window,eZ,()=>{for(const n of Ce.find('[data-bs-spy="scroll"]'))jb.getOrCreateInstance(n)}),Gs(jb);const Sc=".bs.tab",uZ=`hide${Sc}`,hZ=`hidden${Sc}`,dZ=`show${Sc}`,fZ=`shown${Sc}`,pZ=`click${Sc}`,gZ=`keydown${Sc}`,mZ=`load${Sc}`,vZ="ArrowLeft",LH="ArrowRight",yZ="ArrowUp",BH="ArrowDown",bO="Home",$H="End",wc="active",SO="show",wO=":not(.dropdown-toggle)",HH='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',EO=`.nav-link${wO}, .list-group-item${wO}, [role="tab"]${wO}, ${HH}`,CZ=`.${wc}[data-bs-toggle="tab"], .${wc}[data-bs-toggle="pill"], .${wc}[data-bs-toggle="list"]`;class Hh extends kr{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),J.on(this._element,gZ,e=>this._keydown(e)))}static get NAME(){return"tab"}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?J.trigger(e,uZ,{relatedTarget:t}):null;J.trigger(t,dZ,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){t&&(t.classList.add(wc),this._activate(Ce.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),J.trigger(t,fZ,{relatedTarget:e})):t.classList.add(SO)},t,t.classList.contains("fade")))}_deactivate(t,e){t&&(t.classList.remove(wc),t.blur(),this._deactivate(Ce.getElementFromSelector(t)),this._queueCallback(()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),J.trigger(t,hZ,{relatedTarget:e})):t.classList.remove(SO)},t,t.classList.contains("fade")))}_keydown(t){if(![vZ,LH,yZ,BH,bO,$H].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter(s=>!zo(s));let i;if([bO,$H].includes(t.key))i=e[t.key===bO?0:e.length-1];else{const s=[LH,BH].includes(t.key);i=nO(e,t.target,s,!0)}i&&(i.focus({preventScroll:!0}),Hh.getOrCreateInstance(i).show())}_getChildren(){return Ce.find(EO,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const i of e)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=Ce.getElementFromSelector(t);!e||(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains("dropdown"))return;const s=(r,a)=>{const o=Ce.findOne(r,i);o&&o.classList.toggle(a,e)};s(".dropdown-toggle",wc),s(".dropdown-menu",SO),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(wc)}_getInnerElement(t){return t.matches(EO)?t:Ce.findOne(EO,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each(function(){const e=Hh.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}})}}J.on(document,pZ,HH,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!zo(this)&&Hh.getOrCreateInstance(this).show()}),J.on(window,mZ,()=>{for(const n of Ce.find(CZ))Hh.getOrCreateInstance(n)}),Gs(Hh);const Yo=".bs.toast",PZ=`mouseover${Yo}`,DZ=`mouseout${Yo}`,TZ=`focusin${Yo}`,xZ=`focusout${Yo}`,MZ=`hide${Yo}`,IZ=`hidden${Yo}`,OZ=`show${Yo}`,RZ=`shown${Yo}`,Wb="show",zb="showing",LZ={animation:"boolean",autohide:"boolean",delay:"number"},BZ={animation:!0,autohide:!0,delay:5e3};class Kb extends kr{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return BZ}static get DefaultType(){return LZ}static get NAME(){return"toast"}show(){J.trigger(this._element,OZ).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(Wb,zb),this._queueCallback(()=>{this._element.classList.remove(zb),J.trigger(this._element,RZ),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!J.trigger(this._element,MZ).defaultPrevented&&(this._element.classList.add(zb),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(zb,Wb),J.trigger(this._element,IZ)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Wb),super.dispose()}isShown(){return this._element.classList.contains(Wb)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){J.on(this._element,PZ,t=>this._onInteraction(t,!0)),J.on(this._element,DZ,t=>this._onInteraction(t,!1)),J.on(this._element,TZ,t=>this._onInteraction(t,!0)),J.on(this._element,xZ,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=Kb.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}})}}function Ws(n){return null!=n&&"false"!=`${n}`}function Ec(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function $i(n){return n instanceof Vt?n.nativeElement:n}function kc(...n){let t=n[n.length-1];return al(t)?(n.pop(),eo(n,t)):to(n)}function kO(n,t,e,i){return M(e)&&(i=e,e=void 0),i?kO(n,t,e).pipe(vs(s=>nl(s)?i(...s):i(s))):new Je(s=>{qH(n,t,function(a){s.next(arguments.length>1?Array.prototype.slice.call(arguments):a)},s,e)})}function qH(n,t,e,i,s){let r;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const a=n;n.addEventListener(t,e,s),r=()=>a.removeEventListener(t,e,s)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const a=n;n.on(t,e),r=()=>a.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const a=n;n.addListener(t,e),r=()=>a.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let a=0,o=n.length;a<o;a++)qH(n[a],t,e,i,s)}i.add(r)}Rb(Kb),Gs(Kb);class UZ extends tt{constructor(t,e){super()}schedule(t,e=0){return this}}class Qb extends UZ{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(r){i=!0,s=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),s}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let UH=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,s){return new this.SchedulerAction(this,e).schedule(s,i)}}return n.now=()=>Date.now(),n})();class Cr extends UH{constructor(t,e=UH.now){super(t,()=>Cr.delegate&&Cr.delegate!==this?Cr.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return Cr.delegate&&Cr.delegate!==this?Cr.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const GH=new class extends Cr{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this.active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends Qb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});let WZ=1;const zZ=Promise.resolve(),Yb={};function jH(n){return n in Yb&&(delete Yb[n],!0)}const WH={setImmediate(n){const t=WZ++;return Yb[t]=!0,zZ.then(()=>jH(t)&&n()),t},clearImmediate(n){jH(n)}},dg=(new class extends Cr{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this.active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends Qb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=WH.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(WH.clearImmediate(e),t.scheduled=void 0)}}),new Cr(Qb));class eX{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new tX(t,this.durationSelector))}}class tX extends Nc{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:s}=this;e=s(t)}catch(s){return this.destination.error(s)}const i=Yi(e,new Rn(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function CO(n){return!nl(n)&&n-parseFloat(n)+1>=0}function nX(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function AO(n,t=dg){return function(n){return function(e){return e.lift(new eX(n))}}(()=>function(n=0,t,e){let i=-1;return CO(t)?i=Number(t)<1?1:Number(t):al(t)&&(e=t),al(e)||(e=dg),new Je(s=>{const r=CO(n)?n:+n-e.now();return e.schedule(nX,r,{index:0,period:i,subscriber:s})})}(n,t))}function QH(n,t){return function(i){return i.lift(new sX(n,t))}}class sX{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new rX(t,this.predicate,this.thisArg))}}class rX extends Nt{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function Jo(n){return t=>t.lift(new aX(n))}class aX{constructor(t){this.notifier=t}call(t,e){const i=new oX(t),s=Yi(this.notifier,new Rn(i));return s&&!i.seenValue?(i.add(s),e.subscribe(i)):i}}class oX extends Nc{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function YH(...n){return Hg(1)(kc(...n))}function fg(...n){const t=n[n.length-1];return al(t)?(n.pop(),e=>YH(n,e,t)):e=>YH(n,e)}function PO(n,t){return"function"==typeof t?e=>e.pipe(PO((i,s)=>Rc(n(i,s)).pipe(vs((r,a)=>t(i,r,s,a))))):e=>e.lift(new dX(n))}class dX{constructor(t){this.project=t}call(t,e){return e.subscribe(new fX(t,this.project))}}class fX extends Nc{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Rn(this),s=this.destination;s.add(i),this.innerSubscription=Yi(t,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}new class extends Cr{}(class extends Qb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}});const vX=new Je(n=>n.complete());function JH(n){return n?function(n){return new Je(t=>n.schedule(()=>t.complete()))}(n):vX}class zs{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return kc(this.value);case"E":return function(n,t){return new Je(e=>e.error(n))}(this.error);case"C":return JH()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new zs("N",t):zs.undefinedValueNotification}static createError(t){return new zs("E",void 0,t)}static createComplete(){return zs.completeNotification}}let DO;zs.completeNotification=new zs("C"),zs.undefinedValueNotification=new zs("N",void 0);try{DO="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){DO=!1}let pg,TO,Ks=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return n===W3}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!DO)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(F(dh))},n.\u0275prov=he({factory:function(){return new n(F(dh))},token:n,providedIn:"root"}),n})();function gg(n){return function(){if(null==pg&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>pg=!0}))}finally{pg=pg||!1}return pg}()?n:!!n.capture}function xO(n){if(function(){if(null==TO){const n="undefined"!=typeof document?document.head:null;TO=!(!n||!n.createShadowRoot&&!n.attachShadow)}return TO}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Jr(n){return n.composedPath?n.composedPath()[0]:n.target}const eF=new we("cdk-dir-doc",{providedIn:"root",factory:function(){return Aw(et)}});let vg=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new gt,e){const s=e.documentElement?e.documentElement.dir:null,r=(e.body?e.body.dir:null)||s;this.value="ltr"===r||"rtl"===r?r:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(F(eF,8))},n.\u0275prov=he({factory:function(){return new n(F(eF,8))},token:n,providedIn:"root"}),n})(),MO=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new Xe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Je(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(AO(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):kc()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(QH(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,e)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=$i(i),r=e.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>kO(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(F(Qe),F(Ks),F(et,8))},n.\u0275prov=he({factory:function(){return new n(F(Qe),F(Ks),F(et,8))},token:n,providedIn:"root"}),n})(),IO=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new Xe,this._changeListener=r=>{this._change.next(r)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,r=s.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-r.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(AO(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(F(Ks),F(Qe),F(et,8))},n.\u0275prov=he({factory:function(){return new n(F(Ks),F(Qe),F(et,8))},token:n,providedIn:"root"}),n})(),OO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ii({type:n}),n.\u0275inj=zt({}),n})();const JX=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function RO(n){return t=>0===n?JH():t.lift(new ZX(n))}class ZX{constructor(t){if(this.total=t,this.total<0)throw new JX}call(t,e){return e.subscribe(new XX(t,this.total))}}class XX extends Nt{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function Iee(n){const{subscriber:t,counter:e,period:i}=n;t.next(e),this.schedule({subscriber:t,counter:e+1,period:i},i)}function Zo(){}"undefined"!=typeof Element&&Element;class Ree{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new Nee(t,this.nextOrObserver,this.error,this.complete))}}class Nee extends Nt{constructor(t,e,i,s){super(t),this._tapNext=Zo,this._tapError=Zo,this._tapComplete=Zo,this._tapError=i||Zo,this._tapComplete=s||Zo,M(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Zo,this._tapError=e.error||Zo,this._tapComplete=e.complete||Zo)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function BO(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const s=t[i];s?n.setProperty(i,s,(null==e?void 0:e.has(i))?"important":""):n.removeProperty(i)}return n}function Uh(n,t){const e=t?"":"none";BO(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function wF(n,t,e){BO(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function eS(n,t){return t&&"none"!=t?n+" "+t:n}function EF(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function $O(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function VO(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function HO(n,t,e){const{top:i,bottom:s,left:r,right:a}=n;return e>=i&&e<=s&&t>=r&&t<=a}function yg(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function kF(n,t,e,i){const{top:s,right:r,bottom:a,left:o,width:l,height:h}=n,f=l*t,m=h*t;return i>s-m&&i<a+m&&e>o-f&&e<r+f}class CF{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:VO(e)})})}handleScroll(t){const e=Jr(t),i=this.positions.get(e);if(!i)return null;const s=e===this._document?e.documentElement:e,r=i.scrollPosition;let a,o;if(e===this._document){const f=this._viewportRuler.getViewportScrollPosition();a=f.top,o=f.left}else a=e.scrollTop,o=e.scrollLeft;const l=r.top-a,h=r.left-o;return this.positions.forEach((f,m)=>{f.clientRect&&e!==m&&s.contains(m)&&yg(f.clientRect,l,h)}),r.top=a,r.left=o,{top:l,left:h}}}function AF(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===i?TF(n,t):("input"===i||"select"===i||"textarea"===i)&&DF(n,t),PF("canvas",n,t,TF),PF("input, textarea, select",n,t,DF),t}function PF(n,t,e,i){const s=t.querySelectorAll(n);if(s.length){const r=e.querySelectorAll(n);for(let a=0;a<s.length;a++)i(s[a],r[a])}}let Bee=0;function DF(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${Bee++}`)}function TF(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch(i){}}const xF=gg({passive:!0}),MF=gg({passive:!1}),FO=new Set(["position"]);class Vee{constructor(t,e,i,s,r,a){this._config=e,this._document=i,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Xe,this._pointerMoveSubscription=tt.EMPTY,this._pointerUpSubscription=tt.EMPTY,this._scrollSubscription=tt.EMPTY,this._resizeSubscription=tt.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Xe,this.started=new Xe,this.released=new Xe,this.ended=new Xe,this.entered=new Xe,this.exited=new Xe,this.dropped=new Xe,this.moved=this._moveEvents,this._pointerDown=o=>{if(this.beforeStarted.next(),this._handles.length){const l=this._handles.find(h=>{const f=Jr(o);return!!f&&(f===h||h.contains(f))});l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,o)}else this.disabled||this._initializeDragSequence(this._rootElement,o)},this._pointerMove=o=>{const l=this._getPointerPositionOnPage(o);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const S=Date.now()>=this._dragStartTime+this._getDragStartDelay(o),k=this._dropContainer;if(!S)return void this._endDragSequence(o);(!k||!k.isDragging()&&!k.isReceiving())&&(o.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(o)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),o.preventDefault();const h=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(h),this._dropContainer)this._updateActiveDropContainer(h,l);else{const f=this._activeTransform;f.x=h.x-this._pickupPositionOnPage.x+this._passiveTransform.x,f.y=h.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(f.x,f.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${f.x} ${f.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:h,event:o,distance:this._getDragDistance(h),delta:this._pointerDirectionDelta})})},this._pointerUp=o=>{this._endDragSequence(o)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new CF(i,r),a.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Ws(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>Uh(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>$i(i)),this._handles.forEach(i=>Uh(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=$i(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,MF),e.addEventListener("touchstart",this._pointerDown,xF)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?$i(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&iS(this._rootElement),iS(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Uh(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Uh(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&iS(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&iS(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){_g(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,s=i.parentNode,r=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),o=this._getShadowRoot();s.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),wF(i,!1,FO),this._document.body.appendChild(s.replaceChild(r,i)),this._getPreviewInsertionPoint(s,o).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),s=_g(e),r=!s&&0!==e.button,a=this._rootElement,o=Jr(e),l=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),h=s?function(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(e):function(n){return 0===n.offsetX&&0===n.offsetY}(e);if(o&&o.draggable&&"mousedown"===e.type&&e.preventDefault(),i||r||l||h)return;this._handles.length&&(this._rootElementTapHighlight=a.style.webkitTapHighlightColor||"",a.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(y=>this._updateOnScroll(y)),this._boundaryElement&&(this._boundaryRect=VO(this._boundaryElement));const f=this._previewTemplate;this._pickupPositionInElement=f&&f.template&&!f.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const m=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:m.x,y:m.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){wF(this._rootElement,!0,FO),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),s=this._getPointerPositionOnPage(t),r=this._getDragDistance(s),a=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:r,dropPoint:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:r,dropPoint:s}),e.drop(this,i,this._initialIndex,this._initialContainer,a,r,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:s}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,s),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let s;if(i&&t){const r=t.matchSize?this._rootElement.getBoundingClientRect():null,a=t.viewContainer.createEmbeddedView(i,t.context);a.detectChanges(),s=OF(a,this._document),this._previewRef=a,t.matchSize?RF(s,r):s.style.transform=tS(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const r=this._rootElement;s=AF(r),RF(s,r.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return BO(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},FO),Uh(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>s.classList.add(r)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function(n){const t=getComputedStyle(n),e=$O(t,"transition-property"),i=e.find(o=>"transform"===o||"all"===o);if(!i)return 0;const s=e.indexOf(i),r=$O(t,"transition-duration"),a=$O(t,"transition-delay");return EF(r[s])+EF(a[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const s=a=>{var o;(!a||Jr(a)===this._preview&&"transform"===a.propertyName)&&(null===(o=this._preview)||void 0===o||o.removeEventListener("transitionend",s),i(),clearTimeout(r))},r=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=OF(this._placeholderRef,this._document)):i=AF(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),s=t===this._rootElement?null:t,r=s?s.getBoundingClientRect():i,a=_g(e)?e.targetTouches[0]:e,o=this._getViewportScrollPosition();return{x:r.left-i.left+(a.pageX-r.left-o.left),y:r.top-i.top+(a.pageY-r.top-o.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=_g(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,s=i.pageX-e.left,r=i.pageY-e.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const o=this._ownerSVGElement.createSVGPoint();return o.x=s,o.y=r,o.matrixTransform(a.inverse())}}return{x:s,y:r}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:s}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:r,y:a}=this._pickupPositionInElement,o=this._boundaryRect,l=this._previewRect,h=o.top+a,f=o.bottom-(l.height-a);i=IF(i,o.left+r,o.right-(l.width-r)),s=IF(s,h,f)}return{x:i,y:s}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,s=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-r.x),o=Math.abs(i-r.y);return a>this._config.pointerDirectionChangeThreshold&&(s.x=e>r.x?1:-1,r.x=e),o>this._config.pointerDirectionChangeThreshold&&(s.y=i>r.y?1:-1,r.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Uh(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,MF),t.removeEventListener("touchstart",this._pointerDown,xF)}_applyRootElementTransform(t,e){const i=tS(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=eS(i,this._initialTransform)}_applyPreviewTransform(t,e){var i;const s=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,r=tS(t,e);this._preview.style.transform=eS(r,s)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===s.width&&0===s.height)return;const r=i.left-s.left,a=s.right-i.right,o=i.top-s.top,l=s.bottom-i.bottom;i.width>s.width?(r>0&&(t+=r),a>0&&(t-=a)):t=0,i.height>s.height?(o>0&&(e+=o),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:_g(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Jr(t);this._boundaryRect&&(i===this._document||i!==this._boundaryElement&&i.contains(this._boundaryElement))&&yg(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=xO(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return $i(i)}}function tS(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function IF(n,t,e){return Math.max(t,Math.min(e,n))}function iS(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function _g(n){return"t"===n.type[0]}function OF(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(s=>i.appendChild(s)),i}function RF(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=tS(t.left,t.top)}function NF(n,t,e){const i=bg(t,n.length-1),s=bg(e,n.length-1);if(i===s)return;const r=n[i],a=s<i?-1:1;for(let o=i;o!==s;o+=a)n[o]=n[o+a];n[s]=r}function bg(n,t){return Math.max(0,Math.min(t,n))}class Hee{constructor(t,e,i,s,r){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Xe,this.entered=new Xe,this.exited=new Xe,this.dropped=new Xe,this.sorted=new Xe,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=tt.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Xe,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(n=0,t=dg){return(!CO(n)||n<0)&&(n=0),(!t||"function"!=typeof t.schedule)&&(t=dg),new Je(e=>(e.add(t.schedule(Iee,n,{subscriber:e,counter:0,period:n})),e))}(0,GH).pipe(Jo(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,o=this.autoScrollStep;1===this._verticalScrollDirection?$F(a,-o):2===this._verticalScrollDirection&&$F(a,o),1===this._horizontalScrollDirection?VF(a,-o):2===this._horizontalScrollDirection&&VF(a,o)})},this.element=$i(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new CF(i,r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,s){let r;this._draggingStarted(),null==s?(r=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,i))):r=s;const a=this._activeDraggables,o=a.indexOf(t),l=t.getPlaceholderElement();let h=a[r];if(h===t&&(h=a[r+1]),o>-1&&a.splice(o,1),h&&!this._dragDropRegistry.isDragging(h)){const f=h.getRootElement();f.parentElement.insertBefore(l,f),a.splice(r,0,t)}else if(this._shouldEnterAsFirstChild(e,i)){const f=a[0].getRootElement();f.parentNode.insertBefore(l,f),a.unshift(t)}else $i(this.element).appendChild(l),a.push(t);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,s,r,a,o){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:s,isPointerOverContainer:r,distance:a,dropPoint:o})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===t.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=$i(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?qO("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,i=>i.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,s){if(this.sortingDisabled||!this._clientRect||!kF(this._clientRect,.05,e,i))return;const r=this._itemPositions,a=this._getItemIndexFromPointerPosition(t,e,i,s);if(-1===a&&r.length>0)return;const o="horizontal"===this._orientation,l=qO(r,T=>T.drag===t),h=r[a],m=h.clientRect,y=l>a?1:-1,S=this._getItemOffsetPx(r[l].clientRect,m,y),k=this._getSiblingOffsetPx(l,r,y),D=r.slice();NF(r,l,a),this.sorted.next({previousIndex:l,currentIndex:a,container:this,item:t}),r.forEach((T,R)=>{if(D[R]===T)return;const O=T.drag===t,U=O?S:k,L=O?t.getPlaceholderElement():T.drag.getRootElement();T.offset+=U,o?(L.style.transform=eS(`translate3d(${Math.round(T.offset)}px, 0, 0)`,T.initialTransform),yg(T.clientRect,0,U)):(L.style.transform=eS(`translate3d(0, ${Math.round(T.offset)}px, 0)`,T.initialTransform),yg(T.clientRect,U,0))}),this._previousSwap.overlaps=HO(m,e,i),this._previousSwap.drag=h.drag,this._previousSwap.delta=o?s.x:s.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,s=0,r=0;if(this._parentPositions.positions.forEach((a,o)=>{o===this._document||!a.clientRect||i||kF(a.clientRect,.05,t,e)&&([s,r]=function(n,t,e,i){const s=HF(t,i),r=FF(t,e);let a=0,o=0;if(s){const l=n.scrollTop;1===s?l>0&&(a=1):n.scrollHeight-l>n.clientHeight&&(a=2)}if(r){const l=n.scrollLeft;1===r?l>0&&(o=1):n.scrollWidth-l>n.clientWidth&&(o=2)}return[a,o]}(o,a.clientRect,t,e),(s||r)&&(i=o))}),!s&&!r){const{width:a,height:o}=this._viewportRuler.getViewportSize(),l={width:a,height:o,top:0,right:a,bottom:o,left:0};s=HF(l,e),r=FF(l,t),i=window}i&&(s!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=r,this._scrollNode=i,(s||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=$i(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=$i(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:VO(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=$i(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var i;const s=e.getRootElement();if(s){const r=null===(i=this._itemPositions.find(a=>a.drag===e))||void 0===i?void 0:i.initialTransform;s.style.transform=r||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const s="horizontal"===this._orientation,r=e[t].clientRect,a=e[t+-1*i];let o=r[s?"width":"height"]*i;if(a){const l=s?"left":"top",h=s?"right":"bottom";-1===i?o-=a.clientRect[l]-r[h]:o+=r[l]-a.clientRect[h]}return o}_getItemOffsetPx(t,e,i){const s="horizontal"===this._orientation;let r=s?e.left-t.left:e.top-t.top;return-1===i&&(r+=s?e.width-t.width:e.height-t.height),r}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,s="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const a=i[i.length-1].clientRect;return s?t>=a.right:e>=a.bottom}{const a=i[0].clientRect;return s?t<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(t,e,i,s){const r="horizontal"===this._orientation,a=qO(this._itemPositions,({drag:o,clientRect:l},h,f)=>{if(o===t)return f.length<2;if(s){const m=r?s.x:s.y;if(o===this._previousSwap.drag&&this._previousSwap.overlaps&&m===this._previousSwap.delta)return!1}return r?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return-1!==a&&this.sortPredicate(a,t,this)?a:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&HO(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(s=>s._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!HO(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,i);if(!s)return!1;const r=$i(this.element);return s===r||r.contains(s)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:i})=>{yg(i,e.top,e.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=xO($i(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function qO(n,t){for(let e=0;e<n.length;e++)if(t(n[e],e,n))return e;return-1}function $F(n,t){n===window?n.scrollBy(0,t):n.scrollTop+=t}function VF(n,t){n===window?n.scrollBy(t,0):n.scrollLeft+=t}function HF(n,t){const{top:e,bottom:i,height:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}function FF(n,t){const{left:e,right:i,width:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}const nS=gg({passive:!1,capture:!0});let qF=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new Xe,this.pointerUp=new Xe,this.scroll=new Xe,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,nS)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,nS)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:nS}),s||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:nS}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,a)=>{this._document.addEventListener(a,r.handler,r.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new Je(s=>this._ngZone.runOutsideAngular(()=>{const a=o=>{this._activeDragInstances.length&&s.next(o)};return e.addEventListener("scroll",a,!0),()=>{e.removeEventListener("scroll",a,!0)}}))),Pr(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(F(Qe),F(et))},n.\u0275prov=he({factory:function(){return new n(F(Qe),F(et))},token:n,providedIn:"root"}),n})();const qee={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let UO=(()=>{class n{constructor(e,i,s,r){this._document=e,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=r}createDrag(e,i=qee){return new Vee(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new Hee(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(F(et),F(Qe),F(IO),F(qF))},n.\u0275prov=he({factory:function(){return new n(F(et),F(Qe),F(IO),F(qF))},token:n,providedIn:"root"}),n})();const GO=new we("CDK_DRAG_PARENT"),jO=new we("CdkDropListGroup"),UF=new we("CDK_DRAG_CONFIG");let Uee=0;const GF=new we("CdkDropList");let jee=(()=>{class n{constructor(e,i,s,r,a,o,l){this.element=e,this._changeDetectorRef=s,this._scrollDispatcher=r,this._dir=a,this._group=o,this._destroyed=new Xe,this.connectedTo=[],this.id="cdk-drop-list-"+Uee++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new gt,this.entered=new gt,this.exited=new gt,this.sorted=new gt,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(h,f)=>this.enterPredicate(h.data,f.data),this._dropListRef.sortPredicate=(h,f,m)=>this.sortPredicate(h,f.data,m.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),o&&o._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=Ws(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,i)=>e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=n._dropLists.indexOf(this);e>-1&&n._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(fg(this._dir.value),Jo(this._destroyed)).subscribe(i=>e.withDirection(i)),e.beforeStarted.subscribe(()=>{const i=function(n){return Array.isArray(n)?n:[n]}(this.connectedTo).map(s=>"string"==typeof s?n._dropLists.find(a=>a.id===s):s);if(this._group&&this._group._items.forEach(s=>{-1===i.indexOf(s)&&i.push(s)}),!this._scrollableParentsResolved){const s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(r=>r.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=Ws(this.sortingDisabled),e.autoScrollDisabled=Ws(this.autoScrollDisabled),e.autoScrollStep=Ec(this.autoScrollStep,2),e.connectedTo(i.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:i,draggingDisabled:s,sortingDisabled:r,listAutoScrollDisabled:a,listOrientation:o}=e;this.disabled=null!=s&&s,this.sortingDisabled=null!=r&&r,this.autoScrollDisabled=null!=a&&a,this.orientation=o||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return n.\u0275fac=function(e){return new(e||n)($(Vt),$(UO),$(Cy),$(MO),$(vg,8),$(jO,12),$(UF,8))},n.\u0275dir=fe({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,i){2&e&&(fr("id",i.id),Zl("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[ut([{provide:jO,useValue:void 0},{provide:GF,useExisting:n}])]}),n._dropLists=[],n})();const WO=new we("CdkDragHandle");let Wee=(()=>{class n{constructor(e,i){this.element=e,this._stateChanges=new Xe,this._disabled=!1,this._parentDrag=i}get disabled(){return this._disabled}set disabled(e){this._disabled=Ws(e),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)($(Vt),$(GO,12))},n.\u0275dir=fe({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[ut([{provide:WO,useExisting:n}])]}),n})();const jF=new we("CdkDragPlaceholder"),WF=new we("CdkDragPreview");let Kee=(()=>{class n{constructor(e,i,s,r,a,o,l,h,f,m,y){this.element=e,this.dropContainer=i,this._ngZone=r,this._viewContainerRef=a,this._dir=l,this._changeDetectorRef=f,this._selfHandle=m,this._parentDrag=y,this._destroyed=new Xe,this.started=new gt,this.released=new gt,this.ended=new gt,this.entered=new gt,this.exited=new gt,this.dropped=new gt,this.moved=new Je(S=>{const k=this._dragRef.moved.pipe(vs(D=>({source:this,pointerPosition:D.pointerPosition,event:D.event,delta:D.delta,distance:D.distance}))).subscribe(S);return()=>{k.unsubscribe()}}),this._dragRef=h.createDrag(e,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5,zIndex:null==o?void 0:o.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),o&&this._assignDefaults(o),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=Ws(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(RO(1),Jo(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,s=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement,i=this.rootElementSelector?zF(e,this.rootElementSelector):e;this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?zF(this.element.nativeElement,e):$i(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,s=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof s&&s?s:Ec(s),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(RO(1)).subscribe(()=>{var i,s;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(null===(i=r.classList)||void 0===i?void 0:i.contains("cdk-drag")){e.withParent((null===(s=n._dragInstances.find(a=>a.element.nativeElement===r))||void 0===s?void 0:s._dragRef)||null);break}r=r.parentElement}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:s,constrainPosition:r,previewClass:a,boundaryElement:o,draggingDisabled:l,rootElementSelector:h,previewContainer:f}=e;this.disabled=null!=l&&l,this.dragStartDelay=s||0,i&&(this.lockAxis=i),r&&(this.constrainPosition=r),a&&(this.previewClass=a),o&&(this.boundaryElement=o),h&&(this.rootElementSelector=h),f&&(this.previewContainer=f)}_setupHandlesListener(){this._handles.changes.pipe(fg(this._handles),function(n,t,e){return function(s){return s.lift(new Ree(n,undefined,undefined))}}(e=>{const i=e.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),PO(e=>Pr(...e.map(i=>i._stateChanges.pipe(fg(i))))),Jo(this._destroyed)).subscribe(e=>{const i=this._dragRef,s=e.element.nativeElement;e.disabled?i.disableHandle(s):i.enableHandle(s)})}}return n.\u0275fac=function(e){return new(e||n)($(Vt),$(GF,12),$(et),$(Qe),$(Ns),$(UF,8),$(vg,8),$(UO),$(Cy),$(WO,10),$(GO,12))},n.\u0275dir=fe({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,s){if(1&e&&(Oy(s,WF,5),Oy(s,jF,5),Oy(s,WO,5)),2&e){let r;rc(r=ac())&&(i._previewTemplate=r.first),rc(r=ac())&&(i._placeholderTemplate=r.first),rc(r=ac())&&(i._handles=r)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&Zl("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[ut([{provide:GO,useExisting:n}]),Tt]}),n._dragInstances=[],n})();function zF(n,t){let e=n.parentElement;for(;e;){if(e.matches?e.matches(t):e.msMatchesSelector(t))return e;e=e.parentElement}return null}let Qee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ii({type:n}),n.\u0275inj=zt({providers:[UO],imports:[OO]}),n})();class KF{}const Qa="*";function Jee(n,t){return{type:7,name:n,definitions:t,options:{}}}function Zee(n,t=null){return{type:4,styles:t,timings:n}}function QF(n,t=null){return{type:2,steps:n,options:t}}function sS(n){return{type:6,styles:n,offset:null}}function YF(n,t,e){return{type:0,name:n,styles:t,options:e}}function Xee(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function JF(n){Promise.resolve(null).then(n)}class Gh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){JF(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class ZF{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const r=this.players.length;0==r?JF(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==r&&this._onFinish()}),a.onDestroy(()=>{++i==r&&this._onDestroy()}),a.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((a,o)=>Math.max(a,o.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class lt{constructor(t,e,i,s){this.logService=t,this.toyService=e,this.used=!1,this.triggers=0,this.parent=i,this.level=s}}class ete extends lt{constructor(){super(...arguments),this.name="Balloon",this.tier=1}onBreak(t,e){let i=this.parent.furthestUpPet;if(null==i)return;let s=this.level;i.increaseAttack(s),i.increaseHealth(s),this.logService.createLog({message:`${this.name} gave ${i.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:e})}}class tte extends lt{constructor(){super(...arguments),this.name="Tennis Ball",this.tier=1}startOfBattle(t,e){let i=It(t,this.parent),s=i.getRandomPet(null,null,!0);null!=s&&(this.toyService.snipePet(s,this.level,this.parent,this.name,!0,e),s=i.getRandomPet(null,null,!0),null!=s&&this.toyService.snipePet(s,this.level,this.parent,this.name,!0,e))}}class ite extends lt{constructor(){super(...arguments),this.name="Radio",this.tier=2}onBreak(t,e){let i=this.parent.petArray;for(let s of i)!s.alive||(s.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} health.`,type:"ability",player:this.parent,puma:e}))}}class nte extends lt{constructor(){super(...arguments),this.name="Garlic Press",this.tier=2}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof Uo)){this.logService.createLog({message:`${this.name} gave ${s.name} Garlic.`,type:"ability",player:this.parent,puma:e}),s.givePetEquipment(new Uo);break}}}class ste extends lt{constructor(){super(...arguments),this.name="Toilet Paper",this.tier=3}startOfBattle(t,e){let s=It(t,this.parent).petArray.slice(0,this.level);for(let r of s)r.givePetEquipment(new Ga),this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,puma:e})}}class rte extends lt{constructor(){super(...arguments),this.name="Oven Mitts",this.tier=3}onBreak(t){}}class ate extends lt{constructor(){super(...arguments),this.name="Melon Helmet",this.tier=4}onBreak(t,e){let i=this.parent.petArray.filter(s=>s.alive).slice(0,this.level);for(let s of i)s.givePetEquipment(new Fs),this.logService.createLog({message:`${this.name} gave ${s.name} Melon.`,type:"ability",player:this.parent,puma:e})}}class ote extends lt{constructor(){super(...arguments),this.name="Foam Sword",this.tier=4}startOfBattle(t,e){let i=It(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getLowestHealthPet();this.toyService.snipePet(r.pet,6,this.parent,this.name,r.random,e)}}}class lte extends lt{constructor(){super(...arguments),this.name="Toy Gun",this.tier=4}startOfBattle(t,e){let i=It(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getLastPet();if(null==r)return;this.toyService.snipePet(r,6,this.parent,this.name,!1,e)}}}class cte extends lt{constructor(){super(...arguments),this.name="Flashlight",this.tier=5}onBreak(t,e){let i=6*this.level,s=this.parent.furthestUpPet;s.increaseAttack(i),s.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${s.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:e})}}class ute extends lt{constructor(){super(...arguments),this.name="Strinky Sock",this.tier=5}startOfBattle(t,e){let i=It(t,this.parent);for(let s=0;s<this.level;s++){let r=i.getHighestHealthPet(),a=r.pet;if(null==a)return;let o=.4,l=Math.max(1,Math.floor(a.health*(1-o)));a.health=l,this.logService.createLog({message:`${this.name} reduced ${a.name} health by ${100*o}% (${l})`,type:"ability",player:this.parent,puma:e,randomEvent:r.random})}}}class hte extends lt{constructor(){super(...arguments),this.name="Television",this.tier=6}onBreak(t,e){let i=2*this.level;for(let s of this.parent.petArray)!s.alive||(s.increaseAttack(i),s.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${s.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:e}))}}class dte extends lt{constructor(){super(...arguments),this.name="Peanut Jar",this.tier=6}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof fc)){s.givePetEquipment(new fc),this.logService.createLog({message:`${this.name} gave ${s.name} Peanut.`,type:"ability",player:this.parent,puma:e});break}}}class fte extends lt{constructor(){super(...arguments),this.name="Air Palm Tree",this.tier=6}startOfBattle(t,e){for(let i=0;i<this.level;i++)for(let s of this.parent.petArray)if(!((null==s?void 0:s.equipment)instanceof zr)){s.givePetEquipment(new zr),this.logService.createLog({message:`${this.name} gave ${s.name} Coconut.`,type:"ability",player:this.parent,puma:e});break}}}class pte extends lt{constructor(t,e,i,s,r){super(t,e,i,s),this.logService=t,this.toyService=e,this.equipmentService=r,this.name="Pandoras Box",this.tier=6}startOfBattle(t,e){let i=this.equipmentService.getInstanceOfAllEquipment(),s=[new ax,new pc,new C_,new qp,new eg,new x0,new Ga],r=["Carrot","Cherry","Chocolate Cake","Coconut","Croissant","Cucumber","Eggplant","Fig","Gingerbread Man","Grapes","Golden Egg","Health Potion","Love Potion","Magic Beans","Peanut","Pie","Rambutan","Rice","Skewer"],a=[...t.player.petArray,...t.opponet.petArray],o=Array.from(i.values());o=o.filter(l=>!r.includes(l.name));for(let l of a){let h=s;Math.random()<.5&&(h=o);let f=h[Math.floor(Math.random()*h.length)];this.logService.createLog({message:`${this.name} gave ${l.name} ${f.name}`,type:"ability",player:this.parent,randomEvent:!0}),l.givePetEquipment(f,this.level)}}}class gte extends lt{constructor(){super(...arguments),this.name="Witch Broom",this.tier=1}startOfBattle(t,e){let i=It(t,this.parent),s=i.petArray.filter(a=>null!=a.equipment),r=[];for(let a=0;a<this.level;a++){let o=i.getRandomPet(s,null,!0);if(null==o)break;s.push(o),r.push(o)}for(let a of r)this.logService.createLog({message:`${this.name} gave ${a.name} Weak.`,type:"ability",player:this.parent,puma:e,randomEvent:i.petArray.length-s.length>0}),a.givePetEquipment(new Ga)}}class mte extends lt{constructor(){super(...arguments),this.name="Magic Wand",this.tier=1}startOfBattle(t,e){let i=this.parent.petArray.filter(a=>a.level<3),s=null,r=!1;0==i.length?s=this.parent.getRandomPet([],!0):(i=(0,at.shuffle)(i),s=i[0],r=i.length>1),null!=s&&(this.logService.createLog({message:`${this.name} gave ${s.name} ${this.level} exp.`,type:"ability",player:this.parent,puma:e,randomEvent:r}),s.increaseExp(this.level))}}class vte extends lt{constructor(){super(...arguments),this.name="Crystal Ball",this.tier=1}startOfBattle(t,e){let i=this.parent.petArray[0];null!=i&&(this.logService.createLog({message:`${this.name} gave ${i.name} ${this.level} mana.`,type:"ability",player:this.parent,puma:e,randomEvent:!1}),i.increaseMana(this.level))}}class yte extends lt{constructor(){super(...arguments),this.name="Treasure Map",this.tier=3}}class _te extends lt{constructor(){super(...arguments),this.name="Treasure Chest",this.tier=3}}class bte extends lt{constructor(t,e,i,s,r){super(t,e,s,r),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Evil Book",this.tier=5}emptyFromSpace(t,e,i,s){let r={attack:6*i,health:6*i},o=new Eb(this.logService,this.abilityService,this.parent,r.health,r.attack,0,1==i?0:2==i?2:5);this.logService.createLog({message:`${this.name} spawned Great One (${r.attack}/${r.health}).`,type:"ability",player:this.parent,puma:e}),this.parent.summonPet(o,0)&&this.abilityService.triggerFriendSummonedEvents(o),this.used=!0}}class Ste extends lt{constructor(){super(...arguments),this.name="Magic Carpet",this.tier=2}friendSummoned(t,e,i,s){this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack.`,type:"ability",player:this.parent,puma:i}),e.increaseAttack(s)}}class wte extends lt{constructor(){super(...arguments),this.name="Magic Lamp",this.tier=2}friendlyLevelUp(t,e,i,s){this.logService.createLog({message:`${this.name} gave ${e.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),e.increaseAttack(+s),e.increaseHealth(+s)}}class Ete extends lt{constructor(){super(...arguments),this.name="Candleabra",this.tier=4}}class kte extends lt{constructor(){super(...arguments),this.name="Glass Shoes",this.tier=4}friendFaints(t,e,i,s){if(i||this.triggers++,this.triggers%3!=0)return;let r=e.parent.petArray.filter(a=>a.alive);for(let a of r)this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),a.increaseAttack(+s),a.increaseHealth(+s)}}class Cte extends lt{constructor(){super(...arguments),this.name="Golden Harp",this.tier=4}}class Ate extends lt{constructor(){super(...arguments),this.name="Lock of Hair",this.tier=4}}class Pte extends lt{constructor(){super(...arguments),this.name="Magic Mirror",this.tier=4}}class Dte extends lt{constructor(){super(...arguments),this.name="Pickaxe",this.tier=4}}class Tte extends lt{constructor(){super(...arguments),this.name="Red Cape",this.tier=4}friendJumped(t,e,i,s){let r=e.parent.petArray.filter(a=>a.alive);for(let a of r)this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),a.increaseAttack(+s),a.increaseHealth(+s)}}class xte extends lt{constructor(){super(...arguments),this.name="Rosebud",this.tier=4}friendlyLevelUp(t,e,i,s){if(i||this.triggers++,this.triggers%2!=0)return;let r=e.parent.petArray.filter(a=>a.alive);for(let a of r)this.logService.createLog({message:`${this.name} gave ${a.name} ${s} attack and ${s} health.`,type:"ability",player:this.parent,puma:i}),a.increaseAttack(+s),a.increaseHealth(+s)}}class Mte extends lt{constructor(){super(...arguments),this.name="Excalibur",this.tier=6}}class Ite extends lt{constructor(){super(...arguments),this.name="Holy Grail",this.tier=6}}class Ote extends lt{constructor(t,e,i,s,r){super(t,e,s,r),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Nutcracker",this.tier=4}friendFaints(t,e,i,s){if(this.used||e.parent.petArray.filter(l=>l.alive).length>0)return;let a=6*this.level,o=new fb(this.logService,this.abilityService,this.parent,a,a,null,0);this.logService.createLog({message:`${this.name} spawned Salmon of Knowledge (${a}/${a})`,type:"ability",player:this.parent}),this.parent.summonPet(o,0)&&this.abilityService.triggerFriendSummonedEvents(o),this.used=!0}}class Rte extends _{constructor(t,e,i,s,r,a,o,l){super(t,e,i),this.logService=t,this.abilityService=e,this.name="Giant Eyes Dog",this.tier=1,this.pack="Unicorn",this.hidden=!0,this.health=6,this.attack=6,this.initPet(o,s,r,a,l)}}class Nte extends lt{constructor(t,e,i,s,r){super(t,e,s,r),this.logService=t,this.toyService=e,this.abilityService=i,this.name="Tinder Box",this.tier=4}emptyFromSpace(t,e,i,s){let r={attack:6*i,health:6*i},o=new Rte(this.logService,this.abilityService,this.parent,r.health,r.attack,0,1==i?0:2==i?2:5);this.logService.createLog({message:`${this.name} spawned Giant Eyes Dog (${r.attack}/${r.health}).`,type:"ability",player:this.parent,puma:e}),this.parent.summonPet(o,0)&&this.abilityService.triggerFriendSummonedEvents(o),this.used=!0}}let Lte=(()=>{class n{constructor(e,i,s,r){this.logService=e,this.abilityService=i,this.gameService=s,this.equipmentService=r,this.toys=new Map,this.startOfBattleEvents=[],this.emptyFrontSpaceEvents=[],this.friendSummonedEvents=[],this.setToys()}setToys(){this.toys.set(1,["Ballon","Tennis Ball"]),this.toys.set(2,["Radio","Garlic Press"]),this.toys.set(3,["Toilet Paper","Oven Mitts"]),this.toys.set(4,["Melon Helmet","Foam Sword","Toy Gun"]),this.toys.set(5,["Flashlight","Stinky Sock"]),this.toys.set(6,["Television","Peanut Jar","Air Palm Tree"]),this.toys.set(7,["Witch Broom","Pandoras Box","Magic Wand","Crystal Ball","Treasure Map","Treasure Chest","Evil Book","Magic Carpet","Magic Lamp","Nutcracker","Tinder Box","Candleabra","Glass Shoes","Golden Harp","Lock of Hair","Magic Mirror","Pickaxe","Red Cape","Rose Bud","Excalibur","Holy Grail"])}createToy(e,i,s=1){switch(e){case"Ballon":return new ete(this.logService,this,i,s);case"Tennis Ball":return new tte(this.logService,this,i,s);case"Radio":return new ite(this.logService,this,i,s);case"Garlic Press":return new nte(this.logService,this,i,s);case"Toilet Paper":return new ste(this.logService,this,i,s);case"Oven Mitts":return new rte(this.logService,this,i,s);case"Melon Helmet":return new ate(this.logService,this,i,s);case"Foam Sword":return new ote(this.logService,this,i,s);case"Toy Gun":return new lte(this.logService,this,i,s);case"Flashlight":return new cte(this.logService,this,i,s);case"Stinky Sock":return new ute(this.logService,this,i,s);case"Television":return new hte(this.logService,this,i,s);case"Peanut Jar":return new dte(this.logService,this,i,s);case"Air Palm Tree":return new fte(this.logService,this,i,s);case"Pandoras Box":return new pte(this.logService,this,i,s,this.equipmentService);case"Witch Broom":return new gte(this.logService,this,i,s);case"Magic Wand":return new mte(this.logService,this,i,s);case"Crystal Ball":return new vte(this.logService,this,i,s);case"Treasure Map":return new yte(this.logService,this,i,s);case"Treasure Chest":return new _te(this.logService,this,i,s);case"Evil Book":return new bte(this.logService,this,this.abilityService,i,s);case"Magic Carpet":return new Ste(this.logService,this,i,s);case"Magic Lamp":return new wte(this.logService,this,i,s);case"Nutcracker":return new Ote(this.logService,this,this.abilityService,i,s);case"Tinder Box":return new Nte(this.logService,this,this.abilityService,i,s);case"Candleabra":return new Ete(this.logService,this,i,s);case"Glass Shoes":return new kte(this.logService,this,i,s);case"Golden Harp":return new Cte(this.logService,this,i,s);case"Lock of Hair":return new Ate(this.logService,this,i,s);case"Magic Mirror":return new Pte(this.logService,this,i,s);case"Pickaxe":return new Dte(this.logService,this,i,s);case"Red Cape":return new Tte(this.logService,this,i,s);case"Rose Bud":return new xte(this.logService,this,i,s);case"Excalibur":return new Mte(this.logService,this,i,s);case"Holy Grail":return new Ite(this.logService,this,i,s)}}snipePet(e,i,s,r,a=!1,o=!1){let l=this.calculateDamgae(e,i),h=l.defenseEquipment,f=l.damage;e.dealDamage(e,f);let m=`${r} sniped ${e.name} for ${f}.`;null!=h&&(e.useDefenseEquipment(),m+=` (${h.name} -${h.power})`),o&&(m+=" (Puma)"),this.logService.createLog({message:m,type:"attack",randomEvent:a,player:s}),null!=e.hurt&&this.abilityService.setHurtEvent({callback:e.hurt.bind(e),priority:e.attack,player:e.parent,pet:e})}calculateDamgae(e,i){var s,r,a;let o="defense"==(null===(s=e.equipment)||void 0===s?void 0:s.equipmentClass)||"shield"==(null===(r=e.equipment)||void 0===r?void 0:r.equipmentClass)?e.equipment:null,l=null!==(a=null==o?void 0:o.power)&&void 0!==a?a:0;return{defenseEquipment:o,damage:Math.max("shield"==(null==o?void 0:o.equipmentClass)?0:1,i-l)}}setStartOfBattleEvent(e){this.startOfBattleEvents.push(e)}resetStartOfBattleEvents(){this.startOfBattleEvents=[]}executeStartOfBattleEvents(){this.startOfBattleEvents=(0,at.shuffle)(this.startOfBattleEvents),this.startOfBattleEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.startOfBattleEvents)e.callback(this.gameService.gameApi);this.resetStartOfBattleEvents()}}return n.\u0275fac=function(e){return new(e||n)(F(kb),F(Cb),F(kh),F(Kn))},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bte=(()=>{class n{constructor(e){this.gameService=e,this.toyPetEvents=[],this.nonToyPetEvents=[]}redoPriorities(e){this.nonToyPetEvents=this.nonToyPetEvents.filter(i=>i.pet!=e);for(let i of this.nonToyPetEvents)i.priority=i.pet.attack;this.executeNonToyPetEvents()}initStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let e of this.gameApi.player.petArray)if(null!=e.startOfBattle){let i=this.toyPetEvents;e.toyPet||(i=this.nonToyPetEvents),i.push({callback:e.startOfBattle.bind(e),priority:e.attack,player:this.gameApi.player,pet:e})}for(let e of this.gameApi.opponet.petArray)if(null!=e.startOfBattle){let i=this.toyPetEvents;e.toyPet||(i=this.nonToyPetEvents),i.push({callback:e.startOfBattle.bind(e),priority:e.attack,player:this.gameApi.opponet,pet:e})}}resetToyPetEvents(){this.toyPetEvents=[]}resetNonToyPetEvents(){this.nonToyPetEvents=[]}resetStartOfBattleFlags(){this.gameApi=this.gameService.gameApi;for(let e of this.gameApi.player.petArray)e.startOfBattleTriggered=!1;for(let e of this.gameApi.opponet.petArray)e.startOfBattleTriggered=!1}executeToyPetEvents(){this.toyPetEvents=(0,at.shuffle)(this.toyPetEvents),this.toyPetEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.toyPetEvents){if(e.pet&&e.pet.transformed&&e.pet.transformedInto){const i=e.pet.transformedInto;if(!i.startOfBattle)continue;e.callback=i.startOfBattle.bind(i)}e.callback(this.gameApi)}this.resetToyPetEvents()}executeNonToyPetEvents(){this.nonToyPetEvents=(0,at.shuffle)(this.nonToyPetEvents),this.nonToyPetEvents.sort((e,i)=>e.priority>i.priority?-1:e.priority<i.priority?1:0);for(let e of this.nonToyPetEvents){if(e.pet.startOfBattleTriggered)continue;let i=e.pet;if(e.pet.transformed&&e.pet.transformedInto){const r=e.pet.transformedInto;if(!r.startOfBattle){e.pet.startOfBattleTriggered=!0;continue}i=r,e.callback=r.startOfBattle.bind(r)}if(i.startOfBattleTriggered=!0,e.callback(this.gameApi))return this.redoPriorities(e.pet)}this.resetNonToyPetEvents()}}return n.\u0275fac=function(e){return new(e||n)(F(kh))},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KO=(()=>{class n{constructor(){this.key="sapData"}getStorage(){return window.localStorage.getItem(this.key),window.localStorage.getItem(this.key)}setFormStorage(e){let i=e.value;for(let s of i.playerPets)null!=s.equipment&&(s.equipment={name:s.equipment.name});for(let s of i.opponentPets)null!=s.equipment&&(s.equipment={name:s.equipment.name});this.setStorage(i)}setStorage(e){"object"==typeof e&&(e=JSON.stringify(e)),window.localStorage.setItem(this.key,e)}clearStorage(){window.localStorage.removeItem(this.key)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$te=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Nn({type:n,selectors:[["app-patch-notes"]],decls:515,vars:0,template:function(e,i){1&e&&(p(0,"h2"),w(1,"v0.6.17"),g(),p(2,"ul"),p(3,"li"),w(4,"All pets and perks in star pack are updated."),g(),p(5,"li"),w(6,"Updated some star pack pets.(Thanks Tangl)"),g(),p(7,"li"),w(8,"All pets and perks execept Tree Kangaroo is updated"),g(),p(9,"li"),w(10,"Fixed bug with pets not removed correctly(Thanks Zoklev)"),g(),g(),p(11,"h2"),w(12,"v0.6.16"),g(),p(13,"ul"),p(14,"li"),w(15,"Updated Unicorn Perks."),g(),p(16,"li"),w(17,"Updated some star pack pets.(Thanks Tangl)"),g(),p(18,"li"),w(19,"Fixed bug with Rooster chicks being death linked"),g(),p(20,"li"),w(21,"Fixed Boar triggering twice"),g(),p(22,"li"),w(23,"Fixed Same Attack trigger not being random"),g(),p(24,"li"),w(25,"Fixed Hippo breaking the calculator"),g(),p(26,"li"),w(27,"Fixed Whale summon"),g(),p(28,"li"),w(29,"Fixed Tiger not working with summon"),g(),p(30,"li"),w(31,"Thanks Freetz for finding all the bugs"),g(),g(),p(32,"h2"),w(33,"v0.6.15"),g(),p(34,"ul"),p(35,"li"),w(36,"Updated trigger order"),g(),p(37,"li"),w(38,"Updated Golden pack"),g(),g(),p(39,"h2"),w(40,"v0.6.14"),g(),p(41,"ul"),p(42,"li"),w(43,"Fixed Bug with Dodo causing SOB ability triggering again. (Thanks JOEBOBBOBJOE)"),g(),p(44,"li"),w(45,"Fixed Bug with wrong summon place. (Thanks Freetz)"),g(),p(46,"li"),w(47,"Updated pets & perks in Puppy Pack."),g(),p(48,"li"),w(49,"Updated pets in Unicorn Pack. (Thanks Tangl)"),g(),g(),p(50,"h2"),w(51,"v0.6.13"),g(),p(52,"ul"),p(53,"li"),w(54,"Updated Deer, Turkey, Whale, and Wolverine."),g(),p(55,"li"),w(56,"Added gain perk trigger for rabbit and seal."),g(),g(),p(57,"h2"),w(58,"v0.6.12"),g(),p(59,"ul"),p(60,"li"),w(61,"Fixed bug with Parrot chaining when front Parrot has lower attack. (Thanks jer.re)"),g(),p(62,"li"),w(63,"Fixed bug with level 1 Crab having 0 health when copying health of pet with 1 health. (Thanks Freetz)"),g(),g(),p(64,"h2"),w(65,"v0.6.11"),g(),p(66,"ul"),p(67,"li"),w(68,"Fixed bug with spawn perks having unpredictable spawn locations. (Thanks Tangl and Wombat)"),g(),p(69,"li"),w(70,"Fixed bug with Parrot chaining. (Thanks Tangl)"),g(),p(71,"li"),w(72,"Fixed bug with Fig (and probably other perks) not working with Parrot."),g(),g(),p(73,"h2"),w(74,"v0.6.10"),g(),p(75,"ul"),p(76,"li"),w(77,"Fixed bug on Import Calculator where importing an empty slot would cause pets from previous calculator to persist. (Thanks jer.re and Freetz)"),g(),p(78,"li"),w(79,"Fixed Pandoras Box"),g(),p(80,"ul"),p(81,"li"),w(82,"Removed perks available according to here: https://superautopets.wiki.gg/wiki/Pandoras_Box"),g(),p(83,"li"),w(84,"Pandoras Box has a 50% chance to give an ailment. If this is incorrect direct hate towards Cheese from SAP Dojo."),g(),g(),g(),p(85,"h2"),w(86,"v0.6.9"),g(),p(87,"ul"),p(88,"li"),w(89,"Fixed more tiger interactions breaking calculator. (Thanks tibby)"),g(),g(),p(90,"h2"),w(91,"v0.6.8"),g(),p(92,"ul"),p(93,"li"),w(94,"Added Export Calculator modal."),g(),p(95,"li"),w(96,"Fixed bug with Dodo not changing Start of Battle priorities in battle. (Thanks Plkess and CrocsAreNice)"),g(),p(97,"li"),w(98,"Fixed bug with Armadillo not giving itself health."),g(),p(99,"li"),w(100,"Fixed Salmon of Knowledge giving itself experience. (Thanks Wombat)"),g(),p(101,"li"),w(102,"Added Unicorn Pack to custom pack editor. (Thanks Rake News)"),g(),p(103,"li"),w(104,"Changed priorty order of knock out and pet ahead faints abilities - fixes Rhino/Ox interaction. (Thanks Mazl0w)"),g(),g(),p(105,"h2"),w(106,"v0.6.7"),g(),p(107,"ul"),p(108,"li"),w(109,"Fixed bug with Tiger sometimes using the wrong level. (Thanks hop)"),g(),g(),p(110,"h2"),w(111,"v0.6.6"),g(),p(112,"ul"),p(113,"li"),w(114,"Fixed bug with parrot. (Thanks hop)"),g(),p(115,"li"),w(116,"Fixed bug with Crisp always doing 6 damage. (Thanks Kutarba)"),g(),g(),p(117,"h2"),w(118,"v0.6.5"),g(),p(119,"ul"),p(120,"li"),w(121,"Fixed Anubis feint abilities happening before other start of battle abilities. (Thanks Grounded)"),g(),p(122,"li"),w(123,"Fixed Roc. (Thanks Grounded)"),g(),p(124,"li"),w(125,"Fixed mana snipe going off after Kitsune removes the mana. (Thanks Grounded)"),g(),p(126,"li"),w(127,"Fixed Manticore ability not going off if it feints. (Thanks goose)"),g(),p(128,"li"),w(129,"Fixed issue with Calygreyhound and there being only one pet left. (Thanks MAi.k)"),g(),p(130,"li"),w(131,"Fixed issue with Slepnir not targeting correctly. (Thanks goose)"),g(),p(132,"li"),w(133,"Max mana is now 50. (Thanks goose)"),g(),p(134,"li"),w(135,"Fixed potato."),g(),p(136,"li"),w(137,"Fixed issue with Pteradon not summoning behind itself in some cases."),g(),p(138,"li"),w(139,"Fixed Snake + Tiger bug. (Thanks mumf)"),g(),g(),p(140,"h2"),w(141,"v0.6.4"),g(),p(142,"ul"),p(143,"li"),w(144,"Fixed order of Friend Faints events so that it triggers after friendly units are summoned. (Thanks Grounded)"),g(),p(145,"li"),w(146,"Fixed calculator simulating only once. \u{1f926}\u200d\u2642\ufe0f"),g(),g(),p(147,"h2"),w(148,"v0.6.3"),g(),p(149,"ul"),p(150,"li"),w(151,"Added Yggdrasil Fruit (Thanks Vuenc)"),g(),p(152,"li"),w(153,"Fixed issue with some pets when spawned having mana. (Thanks Grounded)"),g(),g(),p(154,"h2"),w(155,"v0.6.2"),g(),p(156,"ul"),p(157,"li"),w(158,"Fixed Monty's base stats. (Thanks goose)"),g(),p(159,"li"),w(160,"Fixed Visitor's (and Bear's) ability not targeting ahead friendly units. (Thanks goose)"),g(),p(161,"li"),w(162,"Fixed bug where Tiger fainting before Start of Battle abilities did not triger the Tiger's ability. (Thanks goose)"),g(),p(163,"li"),w(164,"Fixed bug with certain pets having Donut breaking the calculator. (Thanks Freetz)"),g(),p(165,"li"),w(166,"Fixed Manticore not working with Crips. (Thanks Freetz)"),g(),p(167,"li"),w(168,"Added 'Ailment Equipment' mode."),g(),g(),p(169,"h2"),w(170,"v0.6.1"),g(),p(171,"ul"),p(172,"li"),w(173,"Fixed Roc not targeting Donut pets. (Thanks mewi3977)"),g(),p(174,"li"),w(175,"Updated to SAP Version 0.33.3-151 BETA"),g(),p(176,"ul"),p(177,"li"),w(178,"Changed Chimera, Nessie, Axehandle Hound, Unicorn, Vampire Bat, Warf, Barghest, Cyclops, Mana Hound, Loveland Frogman, Jersey Devil, Tigerbug, Bigfoot, Calygreyhound, Gargoyle, Ghost Kitten, Jackalope, Minotaur, Worm of Sand, Werewolf, Lucky Cat, Ogopogo. "),g(),p(179,"li"),w(180,"Added Spooked"),g(),p(181,"li"),w(182,"Minotaur stacks."),g(),g(),p(183,"li"),w(184,"Added Weak as an equipment option."),g(),p(185,"li"),w(186,"Import pack works with Unicorn pets."),g(),g(),p(187,"h2"),w(188,"v0.6.0"),g(),p(189,"ul"),p(190,"li"),w(191,"Unicorn Pack \u{1f389}"),g(),p(192,"li"),w(193,"Updated Info/Guide"),g(),g(),p(194,"h2"),w(195,"v0.5.27"),g(),p(196,"ul"),p(197,"li"),w(198,"Fixed bug with Camel's ability logs showing incorrect values."),g(),g(),p(199,"h2"),w(200,"v0.5.26"),g(),p(201,"ul"),p(202,"li"),w(203,"Fixed bugs with drag and drop. (Thanks Agentcore)"),g(),g(),p(204,"h2"),w(205,"v0.5.25"),g(),p(206,"ul"),p(207,"li"),w(208,"Fixed some import bugs."),g(),g(),p(209,"h2"),w(210,"v0.5.24"),g(),p(211,"ul"),p(212,"li"),w(213,"Fixed bug with Custom Pack dialog not opening."),g(),g(),p(214,"h2"),w(215,"v0.5.23"),g(),p(216,"ul"),p(217,"li"),w(218,"Fixed bug with importing empty pet slots."),g(),p(219,"li"),w(220,"Fixed bug with pets that Tapir summon being disjointed from its' parent player. (Thanks goose)"),g(),g(),p(221,"h2"),w(222,"v0.5.22"),g(),p(223,"ul"),p(224,"li"),w(225,"Fixed Pigeon base stats. (Thanks goose)"),g(),p(226,"li"),w(227,"Fixed Crab copying highest health pets stats even after fainting from other start of battle abilities. (Thanks Phoenix)"),g(),g(),p(228,"h2"),w(229,"v0.5.21"),g(),p(230,"ul"),p(231,"li"),w(232,"Fixed a few Panther/equipment interactions."),g(),p(233,"ul"),p(234,"li"),w(235,"Tomato (Thanks jer.re), Salt, Cheese, Durian, Egg."),g(),g(),g(),p(236,"h2"),w(237,"v0.5.20"),g(),p(238,"ul"),p(239,"li"),w(240,"Added Komodo Shuffle option."),g(),g(),p(241,"h2"),w(242,"v0.5.19"),g(),p(243,"ul"),p(244,"li"),w(245,"Removed Beluga Whale from Orca spawn pool."),g(),g(),p(246,"h2"),w(247,"v0.5.18"),g(),p(248,"ul"),p(249,"li"),w(250,"Fixed bug with Friend Ahead Attacks ability pets not triggering when fainting. (Thanks tibby)"),g(),g(),p(251,"h2"),w(252,"v0.5.17"),g(),p(253,"ul"),p(254,"li"),w(255,"Fixed bug that required running simulation on export."),g(),p(256,"li"),w(257,"Fixed bug with ailment overwritting faint food while pet faints breaking simulation."),g(),p(258,"li"),w(259,'Added "Token Pets" option.'),g(),p(260,"li"),w(261,"Added confirmation window to Reset and Randomize buttons."),g(),g(),p(262,"h2"),w(263,"v0.5.16"),g(),p(264,"ul"),p(265,"li"),w(266,"Fixed bug with Beluga Whale pet not spawning. (Thanks goose)"),g(),p(267,"li"),w(268,"Fixed bug with Chocolate Cake not triggering Knocked Out abilities."),g(),p(269,"li"),w(270,"Fixed bug with Cherry/Fig triggering multiple times after running multiple simulations."),g(),g(),p(271,"h2"),w(272,"v0.5.15"),g(),p(273,"ul"),p(274,"li"),w(275,"Updated to SAP Version 0.31.9-145 BETA"),g(),p(276,"ul"),p(277,"li"),w(278,"Added Pigeon, Hare."),g(),p(279,"li"),w(280,"Changed Cricket, Mouse Nest, Robin, Tabby Cat, Dog, Dolphin, Flying Squirrel, Hatching Chick, Owl, Ox, Raccoon, Cockatoo, Mosasaurus, Tyrannosaurus."),g(),p(281,"li"),w(282,"Added Fig."),g(),p(283,"li"),w(284,"Changed Cherry."),g(),g(),g(),p(285,"h2"),w(286,"v0.5.14"),g(),p(287,"ul"),p(288,"li"),w(289,"Bug Report System."),g(),g(),p(290,"h2"),w(291,"v0.5.13"),g(),p(292,"ul"),p(293,"li"),w(294,"Fixed bug with Opponent Empty Front Space events not triggering. (Thanks jer.re)"),g(),g(),p(295,"h2"),w(296,"v0.5.12"),g(),p(297,"ul"),p(298,"li"),w(299,"Pug is tier 3."),g(),p(300,"li"),w(301,"Siberian Husky spelling fix."),g(),p(302,"li"),w(303,"Fixed Kiwi not availble on Star pack. (Thanks Grounded)"),g(),g(),p(304,"h2"),w(305,"v0.5.11"),g(),p(306,"ul"),p(307,"li"),w(308,"Opossum is spelled correctly."),g(),g(),p(309,"h2"),w(310,"v0.5.10"),g(),p(311,"ul"),p(312,"li"),w(313,"Buff pets do not target 50/50 friends."),g(),g(),p(314,"h2"),w(315,"v0.5.9"),g(),p(316,"ul"),p(317,"li"),w(318,"Fixed Rhino base stats."),g(),p(319,"li"),w(320,"Fixed bug with Tiger behind Hurt pet. (Thanks Freetz)."),g(),p(321,"li"),w(322,"Reset button resets Equipment."),g(),p(323,"li"),w(324,"Fixed bugs with export/import."),g(),g(),p(325,"h2"),w(326,"v0.5.8"),g(),p(327,"ul"),p(328,"li"),w(329,"Fixed bug where Zombie Flies sometimes would spawn in the wrong position. (Thanks Grounded)"),g(),g(),p(330,"h2"),w(331,"v0.5.7"),g(),p(332,"ul"),p(333,"li"),w(334,"Added Pineapple."),g(),g(),p(335,"h2"),w(336,"v0.5.6"),g(),p(337,"ul"),p(338,"li"),w(339,"Fixed bug with Turtle always behaving as a level 1."),g(),g(),p(340,"h2"),w(341,"v0.5.5"),g(),p(342,"ul"),p(343,"li"),w(344,"Fixed bug with Pancakes pet getting all of the stats. (Thanks Grounded)"),g(),g(),p(345,"h2"),w(346,"v0.5.4"),g(),p(347,"ul"),p(348,"li"),w(349,"Calculator is (more) usable on mobile devices."),g(),g(),p(350,"h2"),w(351,"v0.5.3"),g(),p(352,"ul"),p(353,"li"),w(354,"Added Reset buttons for the Player and Opponent."),g(),p(355,"li"),w(356,"Export/Import Calculator."),g(),p(357,"li"),w(358,'Added "Old Stork" mode.'),g(),p(359,"li"),w(360,"Fixed spawn bug sometimes duplicating pets when up against Royal Flycatcher. (Thanks Freetz)"),g(),p(361,"li"),w(362,"Fixed bug with pets having Friend Summoned abilities hitting themselves when summoned with a mushroom."),g(),p(363,"li"),w(364,"Fixed bug with Pteradon's ability triggering if it also faints."),g(),g(),p(365,"h2"),w(366,"v0.5.2"),g(),p(367,"ul"),p(368,"li"),w(369,"Import Custom Packs"),g(),p(370,"li"),w(371,"Custom Pack editor improvments."),g(),g(),p(372,"h2"),w(373,"v0.5.1"),g(),p(374,"ul"),p(375,"li"),w(376,"Added remaining custom pack pets."),g(),p(377,"ul"),p(378,"li"),w(379,"Frilled Dragon, Wombat, Aardvark, Bear, Emperor Tamerain, Procupine, Wasp Dragonfly, Lynx, Seagull, Alpaca, Hyena, Moose, Lioness, Tapir, Walrus, White Tiger"),g(),g(),p(380,"li"),w(381,"Added remaining custom pack food."),g(),p(382,"ul"),p(383,"li"),w(384,"Blueberry, Donut"),g(),g(),p(385,"li"),w(386,"Fixed bug with blobfish showing as tier 3. (Thanks Freetz)"),g(),p(387,"li"),w(388,"Fixed bug with eggplant triggering multiple times when running the simulation multiple times. (Thanks Freetz)"),g(),p(389,"li"),w(390,"Fixed bug with mosquito able to target the same pet."),g(),g(),p(391,"h2"),w(392,"v0.5.0"),g(),p(393,"ul"),p(394,"li"),w(395,"Added custom packs!"),g(),p(396,"li"),w(397,"Added Jerboa"),g(),p(398,"li"),w(399,"Added Fortune Cookie"),g(),g(),p(400,"h2"),w(401,"v0.4.16"),g(),p(402,"ul"),p(403,"li"),w(404,"Updated to SAP Version 0.30.6-138 BETA"),g(),p(405,"ul"),p(406,"li"),w(407," Updated stats/abilities of these pets: Whale, Frog, Iguana, Marmoset, Mouse, Koala, Panda, Shrimp, Tabby Cat, Camel, Eel, Giraffe, Musk Ox, Owl, Ox, Starfish, Anteater, Chameleon, Egyptian Vulture, Manta Ray, Platypus, Cockatoo, Crane, Monkey, Shark, Piranha, Sabertooth Tiger. "),g(),p(408,"li"),w(409," Added Durian. "),g(),g(),g(),p(410,"h2"),w(411,"v0.4.15"),g(),p(412,"ul"),p(413,"li"),w(414,"Fixed bug with Eggplant triggering too many times. (Thanks Freetz)"),g(),g(),p(415,"h2"),w(416,"v0.4.14"),g(),p(417,"ul"),p(418,"li"),w(419,"Fixed rounding error with Skunk ability/Stinky Sock."),g(),p(420,"li"),w(421,"Fixed faint pets ability being the level of the whale when swallowed. (Thanks kutarba)"),g(),g(),p(422,"h2"),w(423,"v0.4.13"),g(),p(424,"ul"),p(425,"li"),w(426,"Fixed Pteradon"),g(),g(),p(427,"h2"),w(428,"v0.4.12"),g(),p(429,"ul"),p(430,"li"),w(431,"Updated to SAP Version 0.29.6-135 BETA"),g(),p(432,"ul"),p(433,"li"),w(434,"Updated stats/abilities of these pets: Ladybug, Atlantic Puffin, Guinea Pig, Hedgehog, Jellyfish, Pug, Salamander, Toucan, Blobfish, Clownfish, Flea, Flying Fish, Mole, Chameleon, Eel, Hippo, Poison Dart Frog, Whale, Fire Ant, Fox, Turkey, Lionfish, Pteradon, Tyrannosaurus. "),g(),g(),g(),p(435,"h2"),w(436,"v0.4.11"),g(),p(437,"ul"),p(438,"li"),w(439,"Fixed bug with Tiger not triggering Leopard when there are few enemies. (Thanks /u/MHolmesSC)"),g(),p(440,"li"),w(441,"Fixed bug with Ant over buffing units on faint. (Thanks /u/MHolmesSC)"),g(),p(442,"li"),w(443,"Fixed bug with Spider behaving odd. (Thanks /u/-RARO-)"),g(),w(444,"ng\n"),g(),p(445,"h2"),w(446,"v0.4.10"),g(),p(447,"ul"),p(448,"li"),w(449,"Fixed bug with Fly not spawning Zombie Fly from Start of Battle abilities fainting pets. (Thanks /u/Danielmac757)"),g(),g(),p(450,"h2"),w(451,"v0.4.9"),g(),p(452,"ul"),p(453,"li"),w(454,"Info/Guide modal."),g(),g(),p(455,"h2"),w(456,"v0.4.8"),g(),p(457,"ul"),p(458,"li"),w(459,"Fixed a bug with Fly attempting to spawn Zombie Fly when there is no room."),g(),g(),p(460,"h2"),w(461,"v0.4.7"),g(),p(462,"ul"),p(463,"li"),w(464,"Updated to SAP Version 0.28.20-130 BETA"),g(),p(465,"ul"),p(466,"li"),w(467,"Changed pets so they all move forward after start of battle abilities."),g(),g(),g(),p(468,"h2"),w(469,"v0.4.6"),g(),p(470,"ul"),p(471,"li"),w(472,"Fixed a bug with mushroom breaking the simulation by breaking the cache process. (Thanks BeastiaVenator)"),g(),p(473,"li"),w(474,"Fixed a bug with loading equipment from the browser cache."),g(),g(),p(475,"h2"),w(476,"v0.4.5"),g(),p(477,"ul"),p(478,"li"),w(479,"Drag and Drop!"),g(),g(),p(480,"h2"),w(481,"v0.4.4"),g(),p(482,"ul"),p(483,"li"),w(484,"Fixed a handful of Tiger bugs causing infinite loops."),g(),p(485,"li"),w(486,"Fixed a bug with typing select options."),g(),g(),p(487,"h2"),w(488,"v0.4.3"),g(),p(489,"ul"),p(490,"li"),w(491,"Duplicate pet option hotfix."),g(),g(),p(492,"h2"),w(493,"v0.4.2"),g(),p(494,"ul"),p(495,"li"),w(496,"Calculator state saves on 'Simulate'."),g(),p(497,"ul"),p(498,"li"),w(499,"This is stored in the browser cache. You can clear the cache by clicking on the link on the bottom of this modal."),g(),g(),p(500,"li"),w(501,"Fixed bugs with Angler mode toggling."),g(),p(502,"li"),w(503,"Zoom In/Out feature."),g(),p(504,"li"),w(505,"Fixed bug with Fly triggering twice instead of three times. (Thanks nob)"),g(),p(506,"li"),w(507,"Fixed bug with some snipe pets having no targets breaking simulation."),g(),g(),p(508,"h2"),w(509,"v0.4.1"),g(),p(510,"ul"),p(511,"li"),w(512,"Fixed a bug where Shark would gain attack/health on its own death. (Thanks mumf)"),g(),p(513,"li"),w(514,"Fixed a bug where attack bonus food would affect snipes. (Thanks Tangl)"),g(),g())},styles:[""]}),n})();const Vte=JSON.parse('{"tier1":[{"name":"African Wild Dog","tier":"1","id":"722"},{"name":"Alchemedes","tier":"1","id":"626"},{"name":"Ant","tier":"1","id":"0"},{"name":"Axehandle Hound","tier":"1","id":"377"},{"name":"Baku","tier":"1","id":"628"},{"name":"Barghest","tier":"1","id":"621"},{"name":"Basilisk","tier":"1","id":"332"},{"name":"Beaver","tier":"1","id":"3"},{"name":"Bee","tier":"1","id":"4"},{"name":"Bombus Dahlbomii","tier":"1","id":"674"},{"name":"Ethiopian Wolf","tier":"1","id":"675"},{"name":"Fan Mussel","tier":"1","id":"676"},{"name":"Togian Babirusa","tier":"1","id":"677"},{"name":"Tooth Billed Pigeon","tier":"1","id":"678"},{"name":"Beetle","tier":"1","id":"88"},{"name":"Bluebird","tier":"1","id":"89"},{"name":"Bulldog","tier":"1","id":"189"},{"name":"Bunyip","tier":"1","id":"601"},{"name":"Burbel","tier":"1","id":"659"},{"name":"Bus","tier":"1","id":"85"},{"name":"Butterfly","tier":"1","id":"9"},{"name":"Chick","tier":"1","id":"13"},{"name":"Chimera Goat","tier":"1","id":"648"},{"name":"Chimera Lion","tier":"1","id":"650"},{"name":"Chimera Snake","tier":"1","id":"649"},{"name":"Chinchilla","tier":"1","id":"161"},{"name":"Chipmunk","tier":"1","id":"184"},{"name":"Cockroach","tier":"1","id":"18"},{"name":"Cone Snail","tier":"1","id":"272"},{"name":"Cracked Egg","tier":"1","id":"647"},{"name":"Cricket","tier":"1","id":"17"},{"name":"Cuddle Toad","tier":"1","id":"611"},{"name":"Daycrawler","tier":"1","id":"641"},{"name":"Dirty Rat","tier":"1","id":"58"},{"name":"Duck","tier":"1","id":"26"},{"name":"Duckling","tier":"1","id":"113"},{"name":"Fake Nessie","tier":"1","id":"614"},{"name":"Ferret","tier":"1","id":"172"},{"name":"Fire Pup","tier":"1","id":"343"},{"name":"Fish","tier":"1","id":"32"},{"name":"Frilled Dragon","tier":"1","id":"198"},{"name":"Frog","tier":"1","id":"139"},{"name":"Gecko","tier":"1","id":"229"},{"name":"Giant Eyes Dog","tier":"1","id":"644"},{"name":"Golden Retriever","tier":"1","id":"188"},{"name":"Good Dog","tier":"1","id":"658"},{"name":"Salmon","tier":"1","id":"726"},{"name":"Mimic Octopus","tier":"6","id":"727"},{"name":"Ammonite","tier":"6","id":"730"},{"name":"Velociraptor","tier":"6","id":"732"},{"name":"Baby Urchin","tier":"2","id":"731"},{"name":"Goose","tier":"1","id":"232"},{"name":"Groundhog","tier":"1","id":"233"},{"name":"Guinea Piglet","tier":"1","id":"179"},{"name":"Lemming","tier":"1","id":"665"},{"name":"Chihuahua","tier":"1","id":"666"},{"name":"Firefly","tier":"1","id":"667"},{"name":"Pheasant","tier":"1","id":"668"},{"name":"Horse","tier":"1","id":"39"},{"name":"Hummingbird","tier":"1","id":"138"},{"name":"Hydra Head","tier":"1","id":"643"},{"name":"Iriomote Cat","tier":"1","id":"672"},{"name":"Ili Pika","tier":"1","id":"673"},{"name":"Malay Tapir","tier":"1","id":"704"},{"name":"Kiwi","tier":"1","id":"131"},{"name":"Ladybug","tier":"1","id":"92"},{"name":"Lizard Tail","tier":"1","id":"282"},{"name":"Loyal Chinchilla","tier":"1","id":"183"},{"name":"Magpie","tier":"1","id":"239"},{"name":"Marmoset","tier":"1","id":"204"},{"name":"Moby Dick","tier":"1","id":"-"},{"name":"Monty","tier":"1","id":"384"},{"name":"Mosquito","tier":"1","id":"47"},{"name":"Moth","tier":"1","id":"141"},{"name":"Mouse","tier":"1","id":"48"},{"name":"Murmel","tier":"1","id":"362"},{"name":"Nest","tier":"1","id":"508"},{"name":"Opossum","tier":"1","id":"187"},{"name":"Otter","tier":"1","id":"51"},{"name":"Pied Tamarin","tier":"1","id":"251"},{"name":"Pig","tier":"1","id":"59"},{"name":"Pigeon","tier":"1","id":"559"},{"name":"Pillbug","tier":"1","id":"149"},{"name":"Ram","tier":"1","id":"62"},{"name":"Mantis","tier":"1","id":"664"},{"name":"Rock","tier":"1","id":"638"},{"name":"Seahorse","tier":"1","id":"152"},{"name":"Silkmoth","tier":"1","id":"260"},{"name":"Sloth","tier":"1","id":"71"},{"name":"Smaller Slime","tier":"1","id":"642"},{"name":"Smaller Slug","tier":"1","id":"270"},{"name":"Smallest Slug","tier":"1","id":"477"},{"name":"Sneaky Egg","tier":"1","id":"617"},{"name":"Tsuchinoko","tier":"1","id":"379"},{"name":"Volcano Snail","tier":"1","id":"661"},{"name":"Warf","tier":"1","id":"382"},{"name":"Young Phoenix","tier":"1","id":"646"},{"name":"Zombie Cricket","tier":"1","id":"86"},{"name":"Zombie Fly","tier":"1","id":"31"}],"tier2":[{"name":"African Penguin","tier":"2","id":"210"},{"name":"Angry Pygmy Hog","tier":"2","id":"679"},{"name":"Araripe Manakin","tier":"2","id":"705"},{"name":"European Mink","tier":"2","id":"706"},{"name":"Atlantic Puffin","tier":"2","id":"132"},{"name":"Bat","tier":"2","id":"87"},{"name":"Beluga Sturgeon","tier":"2","id":"213"},{"name":"Bigfoot","tier":"2","id":"334"},{"name":"Bilby","tier":"2","id":"663"},{"name":"Black Necked Stilt","tier":"2","id":"215"},{"name":"Chupacabra","tier":"2","id":"339"},{"name":"Crab","tier":"2","id":"16"},{"name":"Darwin\'s Fox","tier":"2","id":"733"},{"name":"Door Head Ant","tier":"2","id":"220"},{"name":"Dove","tier":"2","id":"24"},{"name":"Dromedary","tier":"2","id":"104"},{"name":"Drop Bear","tier":"2","id":"341"},{"name":"Flamingo","tier":"2","id":"29"},{"name":"Frigatebird","tier":"2","id":"137"},{"name":"Frost Wolf","tier":"2","id":"344"},{"name":"Gargoyle","tier":"2","id":"345"},{"name":"Gazelle","tier":"2","id":"185"},{"name":"Ghost Kitten","tier":"2","id":"346"},{"name":"Golden Beetle","tier":"2","id":"634"},{"name":"Guinea Pig","tier":"2","id":"109"},{"name":"Hedgehog","tier":"2","id":"37"},{"name":"Hercules Beetle","tier":"2","id":"234"},{"name":"Iguana","tier":"2","id":"147"},{"name":"Jackalope","tier":"2","id":"353"},{"name":"Jellyfish","tier":"2","id":"122"},{"name":"Kangaroo","tier":"2","id":"40"},{"name":"Koala","tier":"2","id":"112"},{"name":"Lemur","tier":"2","id":"236"},{"name":"Lizard","tier":"2","id":"237"},{"name":"Lucky Cat","tier":"3","id":"623"},{"name":"Mandrill","tier":"2","id":"405"},{"name":"Mothman","tier":"2","id":"604"},{"name":"Nightcrawler","tier":"2","id":"605"},{"name":"Ogopogo","tier":"2","id":"639"},{"name":"Panda","tier":"2","id":"107"},{"name":"Peacock","tier":"2","id":"54"},{"name":"Proboscis Monkey","tier":"2","id":"680"},{"name":"Pygmy Hog","tier":"2","id":"681"},{"name":"Saola","tier":"2","id":"682"},{"name":"Saker Falcon","tier":"2","id":"707"},{"name":"Taita Shrew","tier":"2","id":"683"},{"name":"Takhi","tier":"2","id":"734"},{"name":"White-Bellied Heron","tier":"2","id":"684"},{"name":"Rat","tier":"2","id":"57"},{"name":"Robin","tier":"2","id":"255"},{"name":"Salamander","tier":"2","id":"164"},{"name":"Sea Turtle","tier":"2","id":"191"},{"name":"Sea Urchin","tier":"2","id":"258"},{"name":"Shrimp","tier":"2","id":"67"},{"name":"Snail","tier":"2","id":"72"},{"name":"Sphinx","tier":"2","id":"376"},{"name":"Spider","tier":"2","id":"74"},{"name":"Squid","tier":"2","id":"177"},{"name":"Stoat","tier":"2","id":"263"},{"name":"Stork","tier":"2","id":"136"},{"name":"Swan","tier":"2","id":"76"},{"name":"Tabby Cat","tier":"2","id":"99"},{"name":"Thunderbird","tier":"2","id":"610"},{"name":"Toucan","tier":"2","id":"151"},{"name":"Wombat","tier":"2","id":"207"},{"name":"Worm","tier":"2","id":"82"},{"name":"Yak","tier":"2","id":"163"},{"name":"Dumbo Octupus","tier":"2","id":"661"},{"name":"Bass","tier":"2","id":"669"},{"name":"Shima Enaga","tier":"2","id":"725"}],"tier3":[{"name":"Aardvark","tier":"3","id":"193"},{"name":"Amami Rabbit","tier":"3","id":"735"},{"name":"Anteater","tier":"3","id":"105"},{"name":"Baboon","tier":"3","id":"171"},{"name":"Badger","tier":"3","id":"2"},{"name":"Bear","tier":"3","id":"140"},{"name":"Betta Fish","tier":"3","id":"214"},{"name":"Blue-Throated Macaw","tier":"3","id":"685"},{"name":"Brain Cramp","tier":"3","id":"349"},{"name":"Calygreyhound","tier":"3","id":"336"},{"name":"Camel","tier":"3","id":"10"},{"name":"Capybara","tier":"3","id":"154"},{"name":"Cassowary","tier":"3","id":"133"},{"name":"Deer Lord","tier":"3","id":"651"},{"name":"Dodo","tier":"3","id":"21"},{"name":"Dog","tier":"3","id":"22"},{"name":"Dolphin","tier":"3","id":"23"},{"name":"Eel","tier":"3","id":"120"},{"name":"Elephant","tier":"3","id":"28"},{"name":"Emperor Tamarin","tier":"3","id":"197"},{"name":"Flea","tier":"3","id":"225"},{"name":"Flying Fish","tier":"3","id":"226"},{"name":"Flying Squirrel","tier":"3","id":"227"},{"name":"Foo Dog","tier":"3","id":"625"},{"name":"Fur-Bearing Trout","tier":"3","id":"653"},{"name":"Giraffe","tier":"3","id":"33"},{"name":"Gold Fish","tier":"3","id":"121"},{"name":"Griffin","tier":"3","id":"348"},{"name":"Guineafowl","tier":"3","id":"228"},{"name":"Hare","tier":"3","id":"551"},{"name":"Hatching Chick","tier":"3","id":"91"},{"name":"Hirola","tier":"3","id":"686"},{"name":"Hoopoe Bird","tier":"3","id":"235"},{"name":"Leech","tier":"3","id":"165"},{"name":"Mana Hound","tier":"3","id":"635"},{"name":"Mandrake","tier":"3","id":"357"},{"name":"Meerkat","tier":"3","id":"203"},{"name":"Minotaur","tier":"4","id":"360"},{"name":"Mole","tier":"3","id":"168"},{"name":"Monkey-Faced Bat","tier":"3","id":"708"},{"name":"Takin","tier":"3","id":"709"},{"name":"Tucuxi","tier":"3","id":"710"},{"name":"Musk Ox","tier":"3","id":"245"},{"name":"Okapi","tier":"3","id":"130"},{"name":"Osprey","tier":"3","id":"247"},{"name":"Ouroboros","tier":"3","id":"364"},{"name":"Owl","tier":"3","id":"95"},{"name":"Ox","tier":"3","id":"52"},{"name":"Pangolin","tier":"3","id":"249"},{"name":"Pegasus","tier":"3","id":"365"},{"name":"Porcupine","tier":"3","id":"169"},{"name":"Pug","tier":"3","id":"145"},{"name":"Pygmy Hippo","tier":"3","id":"687"},{"name":"Roloway Monkey","tier":"3","id":"688"},{"name":"Spoon-Billed Sandpiper","tier":"3","id":"689"},{"name":"Tree Kangaroo","tier":"3","id":"742"},{"name":"Angelshark","tier":"4","id":"690"},{"name":"Bonobo","tier":"4","id":"691"},{"name":"Giant Otter","tier":"4","id":"739"},{"name":"Giant Tortoise","tier":"4","id":"692"},{"name":"Golden Tamarin","tier":"4","id":"693"},{"name":"Humphead Wrasse","tier":"4","id":"711"},{"name":"Kakapo","tier":"4","id":"712"},{"name":"Longcomb Sawfish","tier":"4","id":"694"},{"name":"Puppy","tier":"3","id":"97"},{"name":"Rabbit","tier":"3","id":"60"},{"name":"Royal Flycatcher","tier":"3","id":"256"},{"name":"Sheep","tier":"3","id":"68"},{"name":"Skeleton Dog","tier":"3","id":"374"},{"name":"Slime","tier":"3","id":"375"},{"name":"Surgeon Fish","tier":"3","id":"264"},{"name":"Toad","tier":"3","id":"162"},{"name":"Tree","tier":"3","id":"378"},{"name":"Tropical Fish","tier":"3","id":"100"},{"name":"Wasp","tier":"3","id":"160"},{"name":"Weasel","tier":"3","id":"173"},{"name":"Woodpecker","tier":"5","id":"156"},{"name":"Wyvern","tier":"3","id":"385"},{"name":"Tuna","tier":"3","id":"670"}],"tier4":[{"name":"Abomination","tier":"4","id":"373"},{"name":"Anubis","tier":"4","id":"331"},{"name":"Amazon River Dolphin","tier":"4","id":"724"},{"name":"Bison","tier":"4","id":"5"},{"name":"Blobfish","tier":"5","id":"150"},{"name":"Blowfish","tier":"4","id":"7"},{"name":"Buffalo","tier":"4","id":"8"},{"name":"Caterpillar","tier":"4","id":"12"},{"name":"Chameleon","tier":"4","id":"216"},{"name":"Chimera","tier":"4","id":"338"},{"name":"Clownfish","tier":"4","id":"117"},{"name":"Cockatoo","tier":"4","id":"218"},{"name":"Crow","tier":"4","id":"195"},{"name":"Cuttlefish","tier":"4","id":"176"},{"name":"Cyclops","tier":"4","id":"630"},{"name":"Deer","tier":"4","id":"20"},{"name":"Doberman","tier":"4","id":"273"},{"name":"Donkey","tier":"4","id":"111"},{"name":"Dragonfly","tier":"4","id":"196"},{"name":"Fairy","tier":"4","id":"342"},{"name":"Falcon","tier":"4","id":"224"},{"name":"Gharial","tier":"4","id":"231"},{"name":"Hawk","tier":"4","id":"127"},{"name":"Hippo","tier":"4","id":"38"},{"name":"Hippocampus","tier":"4","id":"350"},{"name":"Jerboa","tier":"4","id":"199"},{"name":"Kraken","tier":"4","id":"355"},{"name":"Llama","tier":"4","id":"44"},{"name":"Lobster","tier":"4","id":"93"},{"name":"Lynx","tier":"4","id":"200"},{"name":"Manatee","tier":"4","id":"192"},{"name":"Manta Ray","tier":"4","id":"240"},{"name":"Microbe","tier":"4","id":"94"},{"name":"Old Mouse","tier":"4","id":"612"},{"name":"Orangutan","tier":"3","id":"157"},{"name":"Parrot","tier":"4","id":"53"},{"name":"Pelican","tier":"5","id":"129"},{"name":"Penguin","tier":"4","id":"56"},{"name":"Platypus","tier":"4","id":"159"},{"name":"Poison Dart Frog","tier":"4","id":"252"},{"name":"Praying Mantis","tier":"4","id":"126"},{"name":"Roc","tier":"4","id":"369"},{"name":"Rootling","tier":"4","id":"622"},{"name":"Saiga Antelope","tier":"4","id":"257"},{"name":"Seagull","tier":"4","id":"128"},{"name":"Sealion","tier":"4","id":"175"},{"name":"Secretary Bird","tier":"4","id":"259"},{"name":"Skunk","tier":"4","id":"70"},{"name":"Slug","tier":"4","id":"262"},{"name":"Squirrel","tier":"4","id":"75"},{"name":"Starfish","tier":"5","id":"153"},{"name":"Tahr","tier":"4","id":"393"},{"name":"Tatzelwurm","tier":"4","id":"654"},{"name":"Tiger Bug","tier":"4","id":"330"},{"name":"Turtle","tier":"4","id":"80"},{"name":"Unicorn","tier":"4","id":"380"},{"name":"Vaquita","tier":"4","id":"265"},{"name":"Visitor","tier":"4","id":"386"},{"name":"Whale","tier":"4","id":"81"},{"name":"Whale Shark","tier":"4","id":"267"},{"name":"Worm of Sand","tier":"4","id":"371"},{"name":"Elk","tier":"4","id":"671"},{"name":"Goblin Shark","tier":"4","id":"719"},{"name":"Red Lipped Batfish","tier":"4","id":"720"},{"name":"Platybelodon","tier":"4","id":"721"},{"name":"Tasmanian Devil","tier":"4","id":"736"}],"tier5":[{"name":"Aye-aye","tier":"5","id":"695"},{"name":"Banggai Cardinalfish","tier":"5","id":"696"},{"name":"Alpaca","tier":"5","id":"194"},{"name":"Armadillo","tier":"5","id":"166"},{"name":"Axolotl","tier":"5","id":"212"},{"name":"Bad Dog","tier":"5","id":"613"},{"name":"Beluga Whale","tier":"5","id":"182"},{"name":"Blue Ringed Octopus","tier":"5","id":"271"},{"name":"Boitata","tier":"5","id":"656"},{"name":"Chicken","tier":"5","id":"14"},{"name":"Cow","tier":"5","id":"15"},{"name":"Crane","tier":"5","id":"219"},{"name":"Crocodile","tier":"5","id":"19"},{"name":"Eagle","tier":"5","id":"27"},{"name":"Eagle","tier":"5","id":"662"},{"name":"Egyptian Vulture","tier":"5","id":"221"},{"name":"Emu","tier":"5","id":"223"},{"name":"Fire Ant","tier":"5","id":"274"},{"name":"Fox","tier":"5","id":"106"},{"name":"Goat","tier":"5","id":"34"},{"name":"Geometric Tortoise","tier":"5","id":"722"},{"name":"Giant Pangasius","tier":"5","id":"740"},{"name":"Hamster","tier":"5","id":"110"},{"name":"Hawaiian Monk Seal","tier":"5","id":"723"},{"name":"Marine Iguana","tier":"5","id":"741"},{"name":"Hyena","tier":"5","id":"167"},{"name":"Jersey Devil","tier":"5","id":"652"},{"name":"Kappa","tier":"5","id":"655"},{"name":"Kitsune","tier":"5","id":"354"},{"name":"Lion","tier":"5","id":"42"},{"name":"Loveland Frogman","tier":"5","id":"640"},{"name":"Macaque","tier":"5","id":"238"},{"name":"Mimic","tier":"5","id":"359"},{"name":"Monkey","tier":"5","id":"46"},{"name":"Moose","tier":"5","id":"202"},{"name":"Mosasaurus","tier":"5","id":"242"},{"name":"Nessie","tier":"5","id":"363"},{"name":"Nurikabe","tier":"5","id":"657"},{"name":"Nurse Shark","tier":"5","id":"276"},{"name":"Nyala","tier":"5","id":"246"},{"name":"Panther","tier":"5","id":"250"},{"name":"Pixiu","tier":"5","id":"619"},{"name":"Polar Bear","tier":"5","id":"108"},{"name":"Poodle","tier":"5","id":"96"},{"name":"Red Panda","tier":"5","id":"697"},{"name":"Taita Thrush","tier":"5","id":"713"},{"name":"Painted Terrapin","tier":"5","id":"714"},{"name":"Raccoon","tier":"5","id":"158"},{"name":"Red Dragon","tier":"5","id":"368"},{"name":"Rhino","tier":"5","id":"55"},{"name":"Rooster","tier":"5","id":"63"},{"name":"Salmon of Knowledge","tier":"5","id":"370"},{"name":"Scorpion","tier":"5","id":"65"},{"name":"Sea Cucumber","tier":"5","id":"717"},{"name":"Seal","tier":"5","id":"66"},{"name":"Shark","tier":"5","id":"69"},{"name":"Shoebill","tier":"5","id":"134"},{"name":"Siberian Husky","tier":"5","id":"146"},{"name":"Silver Fox","tier":"5","id":"261"},{"name":"Snapping Turtle","tier":"5","id":"277"},{"name":"Sting Ray","tier":"5","id":"178"},{"name":"Stonefish","tier":"5","id":"278"},{"name":"Sword Fish","tier":"5","id":"119"},{"name":"Tandgnost","tier":"5","id":"607"},{"name":"Tandgrisner","tier":"5","id":"608"},{"name":"Triceratops","tier":"5","id":"142"},{"name":"Turkey","tier":"5","id":"79"},{"name":"Vampire Bat","tier":"5","id":"381"},{"name":"Vulture","tier":"5","id":"135"},{"name":"Ibex","tier":"5","id":"727"},{"name":"Werewolf","tier":"5","id":"383"},{"name":"Wolf","tier":"5","id":"170"},{"name":"Snow Leopard","tier":"5","id":"737"},{"name":"Zebra","tier":"5","id":"155"}],"tier6":[{"name":"Amsterdam Albatross","tier":"6","id":"698"},{"name":"Bay Cat","tier":"6","id":"714"},{"name":"Black Rhino","tier":"6","id":"699"},{"name":"Blue Whale","tier":"6","id":"700"},{"name":"California Condor","tier":"6","id":"701"},{"name":"Green Sea Turtle","tier":"6","id":"702"},{"name":"Helmeted Hornbill","tier":"6","id":"703"},{"name":"Philippine Eagle","tier":"6","id":"715"},{"name":"Silky Sifaka","tier":"6","id":"716"},{"name":"Sumatran Tiger","tier":"6","id":"738"},{"name":"Anglerfish","tier":"6","id":"180"},{"name":"Behemoth","tier":"6","id":"333"},{"name":"Bird of Paradise","tier":"6","id":"181"},{"name":"Boar","tier":"6","id":"103"},{"name":"Cat","tier":"6","id":"11"},{"name":"Catfish","tier":"6","id":"174"},{"name":"Cerberus","tier":"6","id":"337"},{"name":"Cobra","tier":"6","id":"217"},{"name":"Cockatrice","tier":"6","id":"340"},{"name":"Dragon","tier":"6","id":"25"},{"name":"Elephant Seal","tier":"6","id":"222"},{"name":"Fly","tier":"6","id":"30"},{"name":"German Shepherd","tier":"6","id":"230"},{"name":"Gorilla","tier":"6","id":"36"},{"name":"Great One","tier":"6","id":"335"},{"name":"Grizzly Bear","tier":"6","id":"275"},{"name":"Hammerhead Shark","tier":"6","id":"123"},{"name":"Highland Cow","tier":"6","id":"186"},{"name":"Hydra","tier":"6","id":"352"},{"name":"Komodo","tier":"6","id":"124"},{"name":"Leopard","tier":"6","id":"41"},{"name":"Leviathan","tier":"6","id":"356"},{"name":"Lioness","tier":"6","id":"114"},{"name":"Lionfish","tier":"6","id":"201"},{"name":"Mammoth","tier":"6","id":"45"},{"name":"Manticore","tier":"6","id":"358"},{"name":"Mantis Shrimp","tier":"6","id":"190"},{"name":"Mongoose","tier":"6","id":"241"},{"name":"Octopus","tier":"6","id":"50"},{"name":"Orca","tier":"6","id":"116"},{"name":"Ostrich","tier":"6","id":"125"},{"name":"Oyster","tier":"6","id":"248"},{"name":"Phoenix","tier":"6","id":"366"},{"name":"Piranha","tier":"6","id":"118"},{"name":"Pteranodon","tier":"6","id":"253"},{"name":"Puma","tier":"6","id":"254"},{"name":"Questing Beast","tier":"6","id":"616"},{"name":"Quetzalcoatl","tier":"6","id":"367"},{"name":"Reindeer","tier":"6","id":"205"},{"name":"Harpy Eagle","tier":"6","id":"148"},{"name":"Sauropod","tier":"6","id":"98"},{"name":"Sea Serpent","tier":"6","id":"372"},{"name":"Sleipnir","tier":"6","id":"606"},{"name":"Snake","tier":"6","id":"73"},{"name":"Spinosaurus","tier":"6","id":"143"},{"name":"Stegosaurus","tier":"6","id":"144"},{"name":"Tapir","tier":"6","id":"208"},{"name":"Tarantula Hawk","tier":"6","id":"718"},{"name":"Team Spirit","tier":"6","id":"636"},{"name":"Tiger","tier":"6","id":"77"},{"name":"Tyrannosaurus","tier":"6","id":"78"},{"name":"Therizinosaurus","tier":"6","id":"115"},{"name":"Walrus","tier":"6","id":"209"},{"name":"Warthog","tier":"6","id":"266"},{"name":"White Tiger","tier":"6","id":"206"},{"name":"Wildebeest","tier":"6","id":"268"},{"name":"Wolverine","tier":"6","id":"269"},{"name":"Yeti","tier":"6","id":"387"},{"name":"Albatross","tier":6,"id":"660"},{"name":"Real Velociraptor","tier":"6","id":"728"},{"name":"Sabertooth Tiger","tier":"6","id":"729"}]}');var Hte=Yt.t(Vte,2);function Fte(n,t){1&n&&(p(0,"div",12),w(1," That name is not allowed. "),g())}function qte(n,t){if(1&n&&(p(0,"div",13),ie(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;H(1),z("id",e)("formControlName",e),H(1),z("for",e),H(1),Ci(" ",e," ")}}function Ute(n,t){if(1&n&&(p(0,"div",13),ie(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;H(1),z("id",e)("formControlName",e),H(1),z("for",e),H(1),Ci(" ",e," ")}}function Gte(n,t){if(1&n&&(p(0,"div",13),ie(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;H(1),z("id",e)("formControlName",e),H(1),z("for",e),H(1),Ci(" ",e," ")}}function jte(n,t){if(1&n&&(p(0,"div",13),ie(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;H(1),z("id",e)("formControlName",e),H(1),z("for",e),H(1),Ci(" ",e," ")}}function Wte(n,t){if(1&n&&(p(0,"div",13),ie(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;H(1),z("id",e)("formControlName",e),H(1),z("for",e),H(1),Ci(" ",e," ")}}function zte(n,t){if(1&n&&(p(0,"div",13),ie(1,"input",14),p(2,"label",15),w(3),g(),g()),2&n){const e=t.$implicit;H(1),z("id",e)("formControlName",e),H(1),z("for",e),H(1),Ci(" ",e," ")}}function Kte(n,t){1&n&&(p(0,"div",12),w(1," Name is required. "),g())}let Qte=(()=>{class n{constructor(e){this.equipmentService=e,this.submitEvent=new gt,this.cancelEvent=new gt,this.loaded=!1}ngOnInit(){this.initCheckboxFormGroup(),this.formGroup.updateValueAndValidity()}initCheckboxFormGroup(){let e=new Bi({}),i=new Bi({}),s=new Bi({}),r=new Bi({}),a=new Bi({}),o=new Bi({});for(let l of this.getPets(1)){let h=new ee(this.formGroup.get("tier1Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(1,l,f)}),e.addControl(l,h)}for(let l of this.getPets(2)){let h=new ee(this.formGroup.get("tier2Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(2,l,f)}),i.addControl(l,h)}for(let l of this.getPets(3)){let h=new ee(this.formGroup.get("tier3Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(3,l,f)}),s.addControl(l,h)}for(let l of this.getPets(4)){let h=new ee(this.formGroup.get("tier4Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(4,l,f)}),r.addControl(l,h)}for(let l of this.getPets(5)){let h=new ee(this.formGroup.get("tier5Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(5,l,f)}),a.addControl(l,h)}for(let l of this.getPets(6)){let h=new ee(this.formGroup.get("tier6Pets").value.includes(l));h.valueChanges.subscribe(f=>{this.processCheckboxChange(6,l,f)}),o.addControl(l,h)}this.checkboxFormGroup=new Bi({tier1Pets:e,tier2Pets:i,tier3Pets:s,tier4Pets:r,tier5Pets:a,tier6Pets:o})}getCheckboxFormGroup(e){return this.checkboxFormGroup.get(`tier${e}Pets`)}getPets(e){let i=[];for(let[s,r]of this.petPackMap.get(e))i.push(...r);return i=[...new Set(i)],i}getCount(e){return this.formGroup.get(`tier${e}Pets`).value.length}processCheckboxChange(e,i,s){let r=this.formGroup.get(`tier${e}Pets`).value;s?r.push(i):(0,at.remove)(r,a=>a===i),this.formGroup.get(`tier${e}Pets`).updateValueAndValidity()}submit(){this.submitEvent.emit(this.formGroup)}cancel(){confirm("Are you sure you want to cancel?")&&this.cancelEvent.emit(this.formGroup)}submitDisabled(){return this.formGroup.get("name").invalid}}return n.\u0275fac=function(e){return new(e||n)($(Kn))},n.\u0275cmp=Nn({type:n,selectors:[["app-custom-pack-form"]],inputs:{formGroup:"formGroup",petPackMap:"petPackMap"},outputs:{submitEvent:"submitEvent",cancelEvent:"cancelEvent"},decls:68,vars:34,consts:[[3,"formGroup"],[1,"row","mb-4"],[1,"col-12"],["for","name",1,"form-label"],["id","name","formControlName","name",1,"form-control"],["class","invalid",4,"ngIf"],[1,"row","mb-4",3,"formGroup"],[1,"row"],[1,"col-12","editor-grid"],["class","form-check",4,"ngFor","ngForOf"],[1,"btn","btn-primary","me-2",3,"disabled","click"],[1,"btn","btn-danger",3,"click"],[1,"invalid"],[1,"form-check"],["type","checkbox","value","",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label",3,"for"]],template:function(e,i){1&e&&(p(0,"form",0),p(1,"div",1),p(2,"div",2),p(3,"label",3),w(4,"Pack Name"),g(),ie(5,"input",4),Ie(6,Fte,2,0,"div",5),g(),g(),p(7,"div",6),p(8,"div",2),p(9,"h3"),w(10,"Tier 1 Pets "),p(11,"span"),w(12),g(),g(),p(13,"div",7),p(14,"div",8),Ie(15,qte,4,4,"div",9),g(),g(),g(),g(),p(16,"div",6),p(17,"div",2),p(18,"h3"),w(19,"Tier 2 Pets "),p(20,"span"),w(21),g(),g(),p(22,"div",7),p(23,"div",8),Ie(24,Ute,4,4,"div",9),g(),g(),g(),g(),p(25,"div",6),p(26,"div",2),p(27,"h3"),w(28,"Tier 3 Pets "),p(29,"span"),w(30),g(),g(),p(31,"div",7),p(32,"div",8),Ie(33,Gte,4,4,"div",9),g(),g(),g(),g(),p(34,"div",6),p(35,"div",2),p(36,"h3"),w(37,"Tier 4 Pets "),p(38,"span"),w(39),g(),g(),p(40,"div",7),p(41,"div",8),Ie(42,jte,4,4,"div",9),g(),g(),g(),g(),p(43,"div",6),p(44,"div",2),p(45,"h3"),w(46,"Tier 5 Pets "),p(47,"span"),w(48),g(),g(),p(49,"div",7),p(50,"div",8),Ie(51,Wte,4,4,"div",9),g(),g(),g(),g(),p(52,"div",6),p(53,"div",2),p(54,"h3"),w(55,"Tier 6 Pets "),p(56,"span"),w(57),g(),g(),p(58,"div",7),p(59,"div",8),Ie(60,zte,4,4,"div",9),g(),g(),g(),g(),p(61,"div",7),p(62,"div",2),p(63,"button",10),je("click",function(){return i.submit()}),w(64,"Submit Pack"),g(),p(65,"button",11),je("click",function(){return i.cancel()}),w(66,"Cancel"),g(),Ie(67,Kte,2,0,"div",5),g(),g(),g()),2&e&&(z("formGroup",i.formGroup),H(6),z("ngIf",null==i.formGroup.get("name").errors?null:i.formGroup.get("name").errors.forbiddenName),H(1),z("formGroup",i.getCheckboxFormGroup(1)),H(4),Os(10==i.getCount(1)?"valid":"invalid"),H(1),Ci("",i.getCount(1),"/10"),H(3),z("ngForOf",i.getPets(1)),H(1),z("formGroup",i.getCheckboxFormGroup(2)),H(4),Os(10==i.getCount(2)?"valid":"invalid"),H(1),Ci("",i.getCount(2),"/10"),H(3),z("ngForOf",i.getPets(2)),H(1),z("formGroup",i.getCheckboxFormGroup(3)),H(4),Os(10==i.getCount(3)?"valid":"invalid"),H(1),Ci("",i.getCount(3),"/10"),H(3),z("ngForOf",i.getPets(3)),H(1),z("formGroup",i.getCheckboxFormGroup(4)),H(4),Os(10==i.getCount(4)?"valid":"invalid"),H(1),Ci("",i.getCount(4),"/10"),H(3),z("ngForOf",i.getPets(4)),H(1),z("formGroup",i.getCheckboxFormGroup(5)),H(4),Os(10==i.getCount(5)?"valid":"invalid"),H(1),Ci("",i.getCount(5),"/10"),H(3),z("ngForOf",i.getPets(5)),H(1),z("formGroup",i.getCheckboxFormGroup(6)),H(4),Os(10==i.getCount(6)?"valid":"invalid"),H(1),Ci("",i.getCount(6),"/10"),H(3),z("ngForOf",i.getPets(6)),H(3),z("disabled",i.submitDisabled()),H(4),z("ngIf",i.submitDisabled()))},directives:[H$,dc,Ua,qa,hc,qo,gh,Tp,h_],styles:[".editor-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(6,1fr);grid-gap:1rem}.invalid[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:#0ab40a}"]}),n})();function Yte(n,t){if(1&n){const e=Ur();p(0,"div",2),p(1,"div",3),p(2,"app-custom-pack-form",4),je("submitEvent",function(s){return Bt(e),We().submitEvent(s)})("cancelEvent",function(s){return Bt(e),We().cancelEvent(s)}),g(),g(),g()}if(2&n){const e=We();H(2),z("formGroup",e.makeFormGroup(e.focusedGroup))("petPackMap",e.petPackMap)}}function Jte(n,t){1&n&&(p(0,"span",15),w(1,"Valid"),g())}function Zte(n,t){1&n&&(p(0,"span",16),w(1,"Invalid"),g())}function Xte(n,t){if(1&n){const e=Ur();p(0,"tr"),p(1,"td",11),w(2),g(),p(3,"td",11),Ie(4,Jte,2,0,"span",12),Ie(5,Zte,2,0,"span",13),g(),p(6,"td"),p(7,"button",8),je("click",function(){const r=Bt(e).$implicit;return We(2).editPack(r)}),w(8,"Edit"),g(),g(),p(9,"td"),p(10,"button",14),je("click",function(){const r=Bt(e).$implicit;return We(2).deletePack(r)}),w(11,"Delete"),g(),g(),g()}if(2&n){const e=t.$implicit;H(2),Ri(e.get("name").value),H(2),z("ngIf",e.valid),H(1),z("ngIf",!e.valid)}}function eie(n,t){if(1&n){const e=Ur();p(0,"div"),p(1,"div",5),p(2,"div",3),p(3,"h3"),w(4,"Custom Packs"),g(),p(5,"table"),Ie(6,Xte,12,3,"tr",6),g(),g(),g(),p(7,"div",7),p(8,"div",3),p(9,"button",8),je("click",function(){return Bt(e),We().createNewPack()}),w(10,"Create New Pack"),g(),g(),g(),p(11,"div",5),p(12,"div",3),p(13,"h3"),w(14,"Import Custom Pack"),g(),p(15,"div",9),ie(16,"textarea",10),g(),g(),g(),p(17,"div",2),p(18,"div",3),p(19,"button",8),je("click",function(){return Bt(e),We().importCustomPack()}),w(20,"Import"),g(),g(),g(),g()}if(2&n){const e=We();H(6),z("ngForOf",e.customPacks.controls),H(9),z("formGroup",e.importFormGroup)}}let tie=(()=>{class n{constructor(e,i){this.petService=e,this.localStorageService=i,this.focusedGroup=null,this.importFormGroup=new Bi({code:new ee(null)}),this.buildPetPackMap()}ngOnInit(){this.customPacks=this.formGroup.get("customPacks")}buildPetPackMap(){this.petPackMap=new Map;for(let e=1;e<=6;e++){let i=new Map;i.set("Turtle",[]),i.set("Puppy",[]),i.set("Star",[]),i.set("Golden",[]),i.set("Unicorn",[]),i.set("Custom",[]),this.petPackMap.set(e,i)}for(let[e,i]of this.petService.turtlePackPets)this.petPackMap.get(e).get("Turtle").push(...i);for(let[e,i]of this.petService.puppyPackPets)this.petPackMap.get(e).get("Puppy").push(...i);for(let[e,i]of this.petService.starPackPets)this.petPackMap.get(e).get("Star").push(...i);for(let[e,i]of this.petService.goldenPackPets)this.petPackMap.get(e).get("Golden").push(...i);for(let[e,i]of this.petService.unicornPackPets)this.petPackMap.get(e).get("Unicorn").push(...i);for(let[e,i]of this.petService.customPackPets)this.petPackMap.get(e).get("Custom").push(...i)}createNewPack(){let e=this.createPack();this.focusedGroup=e}createPack(){return new Bi({name:new ee(null,[o0.required,this.forbiddenNameValidator()]),tier1Pets:new ee([],this.controlArrayLengthOf10()),tier2Pets:new ee([],this.controlArrayLengthOf10()),tier3Pets:new ee([],this.controlArrayLengthOf10()),tier4Pets:new ee([],this.controlArrayLengthOf10()),tier5Pets:new ee([],this.controlArrayLengthOf10()),tier6Pets:new ee([],this.controlArrayLengthOf10())})}makeFormGroup(e){return e}controlArrayLengthOf10(){return e=>10!==e.value.length?{length:!0}:null}submitEvent(e){this.customPacks.controls.includes(e)||this.customPacks.push(e),this.petService.buildCustomPackPets(this.customPacks),this.focusedGroup=null,this.localStorageService.setStorage(this.formGroup.value)}cancelEvent(e){this.focusedGroup=null}editPack(e){this.focusedGroup=e}deletePack(e){if(confirm("Are you sure you want to delete this pack?")){let i=this.customPacks.controls.indexOf(e);this.customPacks.removeAt(i),this.localStorageService.setStorage(this.formGroup.value)}}forbiddenNameValidator(){return e=>{var i,s;let r=["custom"];for(let a of this.customPacks.controls)e!=a.get("name")&&r.push(null===(i=a.get("name").value)||void 0===i?void 0:i.toLowerCase());return r.includes(null===(s=e.value)||void 0===s?void 0:s.toLowerCase())?{forbiddenName:!0}:null}}importCustomPack(){let e=this.importFormGroup.get("code").value;try{e=JSON.parse(e);let i={name:e.Title,tier1Pets:this.getMinions(e.Minions,1),tier2Pets:this.getMinions(e.Minions,2),tier3Pets:this.getMinions(e.Minions,3),tier4Pets:this.getMinions(e.Minions,4),tier5Pets:this.getMinions(e.Minions,5),tier6Pets:this.getMinions(e.Minions,6)};this.createNewPack(),this.focusedGroup.patchValue(i)}catch(i){alert("Invalid code"),console.error(i)}}getMinions(e,i){let s=Hte[`tier${i}`],r=[];for(let a of e)for(let o of s)o.id==a&&r.push(o.name);return r}}return n.\u0275fac=function(e){return new(e||n)($(Ab),$(KO))},n.\u0275cmp=Nn({type:n,selectors:[["app-custom-pack-editor"]],inputs:{formGroup:"formGroup"},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-12"],[3,"formGroup","petPackMap","submitEvent","cancelEvent"],[1,"row","mb-3"],[4,"ngFor","ngForOf"],[1,"row","mb-4"],[1,"btn","btn-primary",3,"click"],[1,"form-group",3,"formGroup"],["id","code","rows","3","formControlName","code",1,"form-control"],[1,"text"],["class","valid",4,"ngIf"],["class","invalid",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"valid"],[1,"invalid"]],template:function(e,i){1&e&&(Ie(0,Yte,3,2,"div",0),Ie(1,eie,21,2,"div",1)),2&e&&(z("ngIf",null!=i.focusedGroup),H(1),z("ngIf",null==i.focusedGroup))},directives:[gh,Qte,dc,Ua,Tp,qa,hc,qo],styles:[".valid[_ngcontent-%COMP%]{color:#4caf50}.invalid[_ngcontent-%COMP%]{color:#f44336}.text[_ngcontent-%COMP%]{font-size:1.5em}td[_ngcontent-%COMP%]{padding:.25em .5em}"]}),n})(),iie=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Nn({type:n,selectors:[["app-info"]],decls:101,vars:0,consts:[["src","./assets/info/pack.PNG","alt","pack"],["src","./assets/info/toy.PNG","alt","toy"],["src","./assets/info/angler.PNG","alt","angler"],["src","./assets/info/zoom.PNG","alt","zoom"],["src","./assets/info/advanced.PNG","alt","advanced"],["src","./assets/info/advanced-settings.PNG","alt","advanced settings"],["src","./assets/info/board.PNG","alt","board"],["src","./assets/info/pet.png","alt","pet"],["src","/assets/info/simulate.PNG","alt","simulate"],["src","/assets/info/report-bug.PNG","alt","report bug"],["src","/assets/info/outcome.PNG","alt","outcome"],["src","/assets/info/battles.PNG","alt","battles"],["src","/assets/info/logs.PNG","alt","logs"]],template:function(e,i){1&e&&(p(0,"p"),w(1," The SAP Calculator is an analysis tool that allows you to easily calculate the approximate odds of your team beating another team. The SAP Calculator simulates the defined battle 1000 times and determines the percentage of wins, draws and loses.\n"),g(),p(2,"p"),p(3,"b"),w(4,"Disclaimer: The SAP Calculator is not an official tool of the game and is not affiliated with the game's developers. The SAP Calculator is a fan-made tool, and is not intended to replace the official game."),g(),g(),p(5,"p"),w(6," The SAP Calculator engine is based on the official game engine, but it may not be 100% accurate. It is pretty darn close though, and should be completely accurate for nearly every possible battle.\n"),g(),p(7,"h1"),w(8,"Guide"),g(),ie(9,"img",0),p(10,"p"),w(11," Select the pack that the player and opponent are using. This determines the pets that are available to each player.\n"),g(),ie(12,"img",1),p(13,"p"),w(14," Toy configuration.\n"),g(),ie(15,"img",2),p(16,"ul"),p(17,"li"),w(18,"Angler Mode: The opposite player's pets are available to be selected for each player. (This does not affect pets that summon from your pack pet pool)"),g(),p(19,"li"),w(20,"All Pets: All pets are availble to select. (This does not affect pets that summon from your pack pet pool)"),g(),p(21,"li"),w(22,"Old Stork: Stork summons pets with base stats."),g(),p(23,"li"),w(24,"Token Pets: Token pets are available to select. (This does not affect pets that summon from your pack pet pool)"),g(),p(25,"li"),w(26,"Komodo Shuffle: Shuffle pet order each battle in front of a Komondo."),g(),p(27,"li"),w(28,"Mana: Show/hide mana stat on the pet selector."),g(),g(),ie(29,"img",3),p(30,"p"),w(31,"Adjust the zoom level of the application."),g(),ie(32,"img",4),p(33,"p"),w(34,"Toggle advanced settings."),g(),ie(35,"img",5),p(36,"p"),w(37,"Advanced settings. They allow you to configure the battle to a more specific scenario."),g(),p(38,"ul"),p(39,"li"),w(40,"Turn: The turn the battle takes place. This will affect pets such as the Stork, Eagle, and Stegosaurus."),g(),p(41,"li"),w(42,"Player Gold Spent: Player gold spent the previous round. This will affect the Meerkat."),g(),p(43,"li"),w(44,"Opponent Gold Spent: Same as above but for the Opponent player."),g(),p(45,"li"),w(46,"Player Roll Amount: The amount of times the Player rolled in the shop phase."),g(),p(47,"li"),w(48,"Opponent Roll Amount: Same as above but for the Opponent player."),g(),p(49,"li"),w(50,"Player Lvl 3 Sold: The amount of times the Player sold a Level 3 pet."),g(),p(51,"li"),w(52,"Opponent Lvl 3 Sold: Same as above but for the Opponent player."),g(),p(53,"li"),w(54,"Player Summoned Amt: The amount of times the Player summoned a pet in the shop phase."),g(),p(55,"li"),w(56,"Opponent Summoned Amt: Same as above but for the Opponent player."),g(),p(57,"li"),w(58,"Player Transformation Amt: The amount of times the Player transformed a pet in the shop phase."),g(),p(59,"li"),w(60,"Opponent Transformation Amt: Same as above but for the Opponent player."),g(),g(),ie(61,"img",6),p(62,"p"),w(63," This is the board. The left side is the Player pets and the right side is the Opponent Pets. Each white box contains a pet and its' stats/equipment. The layout of the pets are identical to as they would be in battle. The right most Player pet is clashing with the left most Opponent pet.\n"),g(),ie(64,"img",7),p(65,"p"),w(66," This is a pet.\n"),g(),p(67,"ul"),p(68,"li"),w(69,"A: This select box is where you may choose the pet that will occupy this space."),g(),p(70,"li"),w(71,"B: This select box is where you may choose the pet's equipment."),g(),p(72,"li"),w(73,"C: These fields are where you may input the pet's stats. The gray field is attack, the red field is health, and the indigo field is mana."),g(),p(74,"li"),w(75,"D: This component determines the amount of exp the pet has. A pet may have 0-5 exp denoted by the number of boxes highlighted. The numbers (1, 2, 3) on top of the exp bar signify the level of the pet. 0-1 exp is level 1, 2-4 exp is level 2, and 5 exp is level 3. The x on the left will clear the exp bar leaving the pet at level 1 with 0 exp. "),g(),p(76,"li"),w(77,"E: This is a drag and drop tool. Use this to reorder your pets."),g(),g(),ie(78,"img",8),p(79,"ul"),p(80,"li"),w(81,"Simulate: Run the simulation."),g(),p(82,"li"),w(83,"Randomize: Randomize the Player's and Opponents's pets and equipment."),g(),g(),ie(84,"img",9),p(85,"ul"),p(86,"li"),w(87,"Report A Bug: Report a bug to the SAP Calculator develepor."),g(),p(88,"li"),w(89,"Export Calculator: Saves a code to your devices clipboard that can be used to import the calculator state."),g(),p(90,"li"),w(91,"Import Calculator: Import a calculator state."),g(),g(),ie(92,"img",10),p(93,"p"),w(94," This is the outcome summary. It shows the number of wins, draws, and loses for the last simulation ran.\n"),g(),ie(95,"img",11),p(96,"p"),w(97," This is the Battles table. It is a table of all the battles that were simulated. You may filter the table by the outcome of the battle.\n"),g(),ie(98,"img",12),p(99,"p"),w(100," These are the logs of the last selected simulated battle. Logs that are highlighted green are logs from a pet on the Player's team and logs that are highlighted red are logs from a pet on the Opponent's team. Logs that are highlighted purple are random events. Note: Not everything is logged.\n"),g())},styles:["img[_ngcontent-%COMP%]{margin-bottom:.5em;max-width:100%;border:1px solid #bfbfbf}"]}),n})(),nie=(()=>{class n{constructor(){this.formGroup=new Bi({calcCode:new ee(null)})}ngOnInit(){}submit(){let e="";e=this.importFunc(this.formGroup.value.calcCode)?"Import successful":"Import failed",alert(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Nn({type:n,selectors:[["app-import-calculator"]],inputs:{importFunc:"importFunc"},decls:6,vars:1,consts:[[1,"form-group",3,"formGroup"],["id","calcCode","rows","5","formControlName","calcCode",1,"form-control","mb-2"],[1,"warning","mb-2"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(p(0,"div",0),ie(1,"textarea",1),p(2,"div",2),w(3," Warning: This will overwrite any existing custom packs. Any custom packs in the import will be added. "),g(),p(4,"button",3),je("click",function(){return i.submit()}),w(5,"Import"),g(),g()),2&e&&z("formGroup",i.formGroup)},directives:[dc,Ua,qa,hc,qo],styles:[""]}),n})(),sie=(()=>{class n{constructor(e){this.localStorageService=e}ngOnInit(){}formGroupValueString(){return JSON.stringify(this.formGroup.value)}copyToClipboard(){this.localStorageService.setFormStorage(this.formGroup);let e=JSON.stringify(this.formGroup.value);navigator.clipboard.writeText(e).then(()=>{alert("Copied to clipboard")})}}return n.\u0275fac=function(e){return new(e||n)($(KO))},n.\u0275cmp=Nn({type:n,selectors:[["app-export-calculator"]],inputs:{formGroup:"formGroup"},decls:4,vars:1,consts:[[1,"form-group"],["id","calcCode","rows","5","readonly","",1,"form-control","mb-2",3,"value"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(p(0,"div",0),ie(1,"textarea",1),p(2,"button",2),je("click",function(){return i.copyToClipboard()}),w(3,"Copy to Clipboard"),g(),g()),2&e&&(H(1),z("value",i.formGroupValueString()))},styles:[""]}),n})();class XF{}class e4{}class Zr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),r=s.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(a):this.headers.set(r,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const s=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Zr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Zr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Zr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const r=t.value;if(r){let a=this.headers.get(e);if(!a)return;a=a.filter(o=>-1===r.indexOf(o)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class aie{encodeKey(t){return t4(t)}encodeValue(t){return t4(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const lie=/%(\d[a-f0-9])/gi,cie={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function t4(n){return encodeURIComponent(n).replace(lie,(t,e)=>{var i;return null!==(i=cie[e])&&void 0!==i?i:t})}function i4(n){return`${n}`}class Xo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new aie,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const r=s.indexOf("="),[a,o]=-1==r?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,r)),t.decodeValue(s.slice(r+1))],l=e.get(a)||[];l.push(o),e.set(a,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Xo({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(i4(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(i4(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class uie{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function n4(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function s4(n){return"undefined"!=typeof Blob&&n instanceof Blob}function r4(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Sg{constructor(t,e,i,s){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,r=s):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new Zr),this.context||(this.context=new uie),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const o=e.indexOf("?");this.urlWithParams=e+(-1===o?"?":o<e.length-1?"&":"")+a}}else this.params=new Xo,this.urlWithParams=e}serializeBody(){return null===this.body?null:n4(this.body)||s4(this.body)||r4(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||r4(this.body)?null:s4(this.body)?this.body.type||null:n4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,s=t.url||this.url,r=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,f=t.params||this.params;const m=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((y,S)=>y.set(S,t.setHeaders[S]),h)),t.setParams&&(f=Object.keys(t.setParams).reduce((y,S)=>y.set(S,t.setParams[S]),f)),new Sg(i,s,a,{params:f,headers:h,context:m,reportProgress:l,responseType:r,withCredentials:o})}}var bi=(()=>((bi=bi||{})[bi.Sent=0]="Sent",bi[bi.UploadProgress=1]="UploadProgress",bi[bi.ResponseHeader=2]="ResponseHeader",bi[bi.DownloadProgress=3]="DownloadProgress",bi[bi.Response=4]="Response",bi[bi.User=5]="User",bi))();class QO{constructor(t,e=200,i="OK"){this.headers=t.headers||new Zr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class YO extends QO{constructor(t={}){super(t),this.type=bi.ResponseHeader}clone(t={}){return new YO({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class rS extends QO{constructor(t={}){super(t),this.type=bi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new rS({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class a4 extends QO{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function JO(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let o4=(()=>{class n{constructor(e){this.handler=e}request(e,i,s={}){let r;if(e instanceof Sg)r=e;else{let l,h;l=s.headers instanceof Zr?s.headers:new Zr(s.headers),s.params&&(h=s.params instanceof Xo?s.params:new Xo({fromObject:s.params})),r=new Sg(e,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=kc(r).pipe(function(n,t){return oa(n,void 0,1)}(l=>this.handler.handle(l)));if(e instanceof Sg||"events"===s.observe)return a;const o=a.pipe(QH(l=>l instanceof rS));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(vs(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return o.pipe(vs(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return o.pipe(vs(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return o.pipe(vs(l=>l.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Xo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,JO(s,i))}post(e,i,s={}){return this.request("POST",e,JO(s,i))}put(e,i,s={}){return this.request("PUT",e,JO(s,i))}}return n.\u0275fac=function(e){return new(e||n)(F(XF))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();class l4{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const c4=new we("HTTP_INTERCEPTORS");let fie=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const pie=/^\)\]\}',?\n/;let u4=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Je(i=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((S,k)=>s.setRequestHeader(S,k.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const S=e.detectContentTypeHeader();null!==S&&s.setRequestHeader("Content-Type",S)}if(e.responseType){const S=e.responseType.toLowerCase();s.responseType="json"!==S?S:"text"}const r=e.serializeBody();let a=null;const o=()=>{if(null!==a)return a;const S=1223===s.status?204:s.status,k=s.statusText||"OK",D=new Zr(s.getAllResponseHeaders()),T=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return a=new YO({headers:D,status:S,statusText:k,url:T}),a},l=()=>{let{headers:S,status:k,statusText:D,url:T}=o(),R=null;204!==k&&(R=void 0===s.response?s.responseText:s.response),0===k&&(k=R?200:0);let O=k>=200&&k<300;if("json"===e.responseType&&"string"==typeof R){const U=R;R=R.replace(pie,"");try{R=""!==R?JSON.parse(R):null}catch(L){R=U,O&&(O=!1,R={error:L,text:R})}}O?(i.next(new rS({body:R,headers:S,status:k,statusText:D,url:T||void 0})),i.complete()):i.error(new a4({error:R,headers:S,status:k,statusText:D,url:T||void 0}))},h=S=>{const{url:k}=o(),D=new a4({error:S,status:s.status||0,statusText:s.statusText||"Unknown Error",url:k||void 0});i.error(D)};let f=!1;const m=S=>{f||(i.next(o()),f=!0);let k={type:bi.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(k.total=S.total),"text"===e.responseType&&!!s.responseText&&(k.partialText=s.responseText),i.next(k)},y=S=>{let k={type:bi.UploadProgress,loaded:S.loaded};S.lengthComputable&&(k.total=S.total),i.next(k)};return s.addEventListener("load",l),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),e.reportProgress&&(s.addEventListener("progress",m),null!==r&&s.upload&&s.upload.addEventListener("progress",y)),s.send(r),i.next({type:bi.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",l),s.removeEventListener("timeout",h),e.reportProgress&&(s.removeEventListener("progress",m),null!==r&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(F(K3))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const ZO=new we("XSRF_COOKIE_NAME"),XO=new we("XSRF_HEADER_NAME");class h4{}let mie=(()=>{class n{constructor(e,i,s){this.doc=e,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=H3(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(F(et),F(dh),F(ZO))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})(),eR=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return i.handle(e);const r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(F(h4),F(XO))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})(),vie=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(c4,[]);this.chain=i.reduceRight((s,r)=>new l4(s,r),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(F(e4),F(Mt))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})(),yie=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:eR,useClass:fie}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:ZO,useValue:e.cookieName}:[],e.headerName?{provide:XO,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ii({type:n}),n.\u0275inj=zt({providers:[eR,{provide:c4,useExisting:eR,multi:!0},{provide:h4,useClass:mie},{provide:ZO,useValue:"XSRF-TOKEN"},{provide:XO,useValue:"X-XSRF-TOKEN"}]}),n})(),_ie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ii({type:n}),n.\u0275inj=zt({providers:[o4,{provide:XF,useClass:vie},u4,{provide:e4,useExisting:u4}],imports:[[yie.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const bie=function(n){return["form-group","mb-3",n]};function Sie(n,t){if(1&n){const e=Ur();p(0,"div"),p(1,"p"),w(2," An export code of the current calculator will automatically be sent to the developer. Please make sure the calculator is currently relevant to the bug you are reporting. Provide a description of the bug below. (Player should have won, pet's ability is wrong, etc.) Name is optional. Provide your Discord ID if you want me to follow up with you. "),g(),p(3,"div",1),p(4,"div",2),p(5,"label",3),w(6,"Name/Alias/Discord ID"),g(),ie(7,"input",4),g(),p(8,"div"),p(9,"label",5),w(10,"Description"),g(),ie(11,"textarea",6),g(),g(),p(12,"button",7),je("click",function(){return Bt(e),We().submit()}),w(13,"Submit"),g(),g()}if(2&n){const e=We();H(3),z("ngClass",function(n,t,e,i){return mB(K(),Ui(),n,t,e,i)}(2,bie,e.submitted?"was-validated":""))("formGroup",e.formGroup)}}function wie(n,t){if(1&n){const e=Ur();p(0,"div"),p(1,"h1"),w(2,"Thank you for the bug report!"),g(),p(3,"button",7),je("click",function(){return Bt(e),We().back()}),w(4,"Report another bug :("),g(),g()}}let Eie=(()=>{class n{constructor(e){this.http=e,this.formGroup=new Bi({name:new ee(""),description:new ee(null,o0.required)}),this.reported=!1,this.submitted=!1}ngOnInit(){}submit(){if(this.submitted=!0,this.formGroup.invalid)return;let e=Object.assign(Object.assign({},this.formGroup.value),{code:JSON.stringify(this.calcFormGroup.value)});const i=new Zr({"Content-Type":"application/json"});this.http.post("https://formspree.io/f/mgvzngzp",{name:"SAP CALC",replyto:"Ruihan20080129@gmail.com",message:e},{headers:i}).subscribe(s=>{console.log(s)}),this.reported=!0}back(){this.formGroup.reset(),this.submitted=!1,this.reported=!1}}return n.\u0275fac=function(e){return new(e||n)($(o4))},n.\u0275cmp=Nn({type:n,selectors:[["app-report-a-bug"]],inputs:{calcFormGroup:"calcFormGroup"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngClass","formGroup"],[1,"mb-3"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["for","description"],["rows","3","formControlName","description","required","",1,"form-control"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(Ie(0,Sie,14,4,"div",0),Ie(1,wie,5,0,"div",0)),2&e&&(z("ngIf",!i.reported),H(1),z("ngIf",i.reported))},directives:[gh,UC,dc,Ua,qa,hc,qo,E_],styles:[""]}),n})();const kie=["customPackEditor"];function Cie(n,t){if(1&n&&(fy(0),p(1,"div",1),w(2),g(),py()),2&n){const e=We();H(2),Ri(e.apiResponse)}}function Aie(n,t){if(1&n&&(p(0,"option",131),w(1),g()),2&n){const e=t.$implicit;z("value",e.get("name").value),H(1),Ri(e.get("name").value)}}function Pie(n,t){if(1&n&&(p(0,"option",131),w(1),g()),2&n){const e=t.$implicit;z("value",e.get("name").value),H(1),Ri(e.get("name").value)}}function Die(n,t){if(1&n&&(p(0,"option",31),w(1),g()),2&n){const e=t.$implicit;z("ngValue",e),H(1),Ri(e)}}function Tie(n,t){if(1&n&&(p(0,"optgroup",132),Ie(1,Die,2,2,"option",133),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),H(1),z("ngForOf",e.value)}}function xie(n,t){if(1&n&&(p(0,"option",31),w(1),g()),2&n){const e=t.$implicit;z("ngValue",e),H(1),Ri(e)}}function Mie(n,t){if(1&n&&(p(0,"optgroup",132),Ie(1,xie,2,2,"option",133),g()),2&n){const e=t.$implicit;z("label","Tier "+e.key),H(1),z("ngForOf",e.value)}}function Iie(n,t){1&n&&(p(0,"div",12),p(1,"div",13),p(2,"div",134),p(3,"div",135),p(4,"label",136),w(5,"Turn"),g(),ie(6,"input",137),g(),p(7,"div",138),p(8,"label",139),w(9,"Player Gold Spent"),g(),ie(10,"input",140),g(),p(11,"div",138),p(12,"label",141),w(13,"Opponent Gold Spent"),g(),ie(14,"input",142),g(),p(15,"div",138),p(16,"label",143),w(17,"Player Roll Amt"),g(),ie(18,"input",144),g(),p(19,"div",138),p(20,"label",145),w(21,"Opponent Roll Amt"),g(),ie(22,"input",146),g(),p(23,"div",138),p(24,"label",147),w(25,"Player Lvl 3 Sold"),g(),ie(26,"input",148),g(),p(27,"div",138),p(28,"label",149),w(29,"Opponent Lvl 3 Sold"),g(),ie(30,"input",150),g(),p(31,"div",138),p(32,"label",151),w(33,"Player Summoned Amt"),g(),ie(34,"input",152),g(),p(35,"div",138),p(36,"label",153),w(37,"Opponent Summoned Amt"),g(),ie(38,"input",154),g(),p(39,"div",138),p(40,"label",155),w(41,"Player Transformation Amt"),g(),ie(42,"input",156),g(),p(43,"div",138),p(44,"label",157),w(45,"Opponent Transformation Amt"),g(),ie(46,"input",158),g(),g(),g(),g())}function Oie(n,t){if(1&n&&(p(0,"div",159),p(1,"div",160),Pd(),p(2,"svg",161),ie(3,"path",162),ie(4,"path",163),g(),g(),Dd(),ie(5,"app-pet-selector",164),g()),2&n){const e=t.$implicit,i=t.index,s=We(2);H(5),z("pet",s.player["pet"+(4-i)])("player",s.player)("opponent",s.opponent)("index",4-i)("formGroup",s.makeFormGroup(e))("angler",s.formGroup.get("angler").value)("ailments",s.formGroup.get("ailmentEquipment").value)("allPets",s.formGroup.get("allPets").value)("mana",s.formGroup.get("mana").value)("showTokenPets",s.formGroup.get("tokenPets").value)("customPacks",s.formGroup.get("customPacks"))}}function Rie(n,t){if(1&n&&(p(0,"div",165),p(1,"div",160),Pd(),p(2,"svg",161),ie(3,"path",162),ie(4,"path",163),g(),g(),Dd(),ie(5,"app-pet-selector",164),g()),2&n){const e=t.$implicit,i=t.index,s=We(2);H(5),z("pet",s.opponent["pet"+i])("player",s.opponent)("opponent",s.player)("index",i)("formGroup",s.makeFormGroup(e))("angler",s.formGroup.get("angler").value)("ailments",s.formGroup.get("ailmentEquipment").value)("allPets",s.formGroup.get("allPets").value)("mana",s.formGroup.get("mana").value)("showTokenPets",s.formGroup.get("tokenPets").value)("customPacks",s.formGroup.get("customPacks"))}}function Nie(n,t){if(1&n&&(p(0,"div",90),p(1,"div",166),p(2,"label"),w(3,"Player Wins:"),g(),p(4,"span"),w(5),g(),p(6,"label"),w(7,"Opponent Wins:"),g(),p(8,"span"),w(9),g(),p(10,"label"),w(11,"Draws:"),g(),p(12,"span"),w(13),g(),g(),p(14,"div",167),p(15,"span",168),ie(16,"span",169),ie(17,"span",170),g(),g(),g()),2&n){const e=We(2);H(5),sp("",e.playerWinner," - ",e.winPercent,"%"),H(4),sp("",e.opponentWinner," - ",e.losePercent,"%"),H(4),sp("",e.draw," - ",e.drawPercent,"%"),H(3),ip("width",e.getDrawWidth()),H(1),ip("width",e.getLoseWidth())}}function Lie(n,t){if(1&n){const e=Ur();p(0,"tr",171),je("click",function(){const r=Bt(e).$implicit;return We(2).setViewBattle(r)}),p(1,"td"),w(2),g(),p(3,"td"),w(4),g(),p(5,"td",172),w(6),g(),g()}if(2&n){const e=t.$implicit,i=t.index,s=We(2);H(2),Ri(i),H(2),Ri(e.winner),H(2),Ri(s.getRandomEvents(e))}}const Bie=function(n,t){return[n,t]};function $ie(n,t){if(1&n&&(p(0,"div",69),p(1,"span",173),w(2),g(),g()),2&n){const e=t.$implicit,i=We(2);H(1),z("ngClass",gB(2,Bie,i.getPlayerClass(e),e.randomEvent?"random-event":"")),H(1),Ri(e.message)}}function Vie(n,t){if(1&n){const e=Ur();fy(0),p(1,"div",2,3),p(3,"div",4),p(4,"div",5),p(5,"div",6),p(6,"h1",7),je("click",function(){return Bt(e),We().printFormGroup()}),w(7,"SAP Calculator"),g(),p(8,"span",8),w(9,"Info/Guide"),g(),g(),p(10,"div",6),p(11,"div",9),w(12),g(),p(13,"div",10),p(14,"span"),w(15),p(16,"span",11),w(17,"Patch Notes"),g(),g(),p(18,"span"),w(19),g(),g(),g(),g(),g(),p(20,"div",12),p(21,"div",13),p(22,"div",14),p(23,"div",15),p(24,"label",16),w(25,"Player Pack"),g(),p(26,"select",17),p(27,"option",18),w(28,"Turtle"),g(),p(29,"option",19),w(30,"Puppy"),g(),p(31,"option",20),w(32,"Star"),g(),p(33,"option",21),w(34,"Golden"),g(),p(35,"option",22),w(36,"Unicorn"),g(),p(37,"option",23),w(38,"Danger"),g(),p(39,"optgroup",24),Ie(40,Aie,2,2,"option",25),p(41,"option",26),w(42,"Add Custom Pack"),g(),g(),g(),g(),p(43,"div",27),p(44,"label",16),w(45,"Opponent Pack"),g(),p(46,"select",28),p(47,"option",18),w(48,"Turtle"),g(),p(49,"option",19),w(50,"Puppy"),g(),p(51,"option",20),w(52,"Star"),g(),p(53,"option",21),w(54,"Golden"),g(),p(55,"option",22),w(56,"Unicorn"),g(),p(57,"option",23),w(58,"Danger"),g(),p(59,"optgroup",24),Ie(60,Pie,2,2,"option",25),p(61,"option",26),w(62,"Add Custom Pack"),g(),g(),g(),g(),p(63,"div",29),p(64,"label",16),w(65,"Player Toy"),g(),p(66,"select",30),p(67,"option",31),w(68,"None"),g(),Ie(69,Tie,2,2,"optgroup",32),Oo(70,"keyvalue"),g(),g(),p(71,"div",33),p(72,"label",34),w(73,"Toy Level"),g(),p(74,"select",35),p(75,"option"),w(76,"1"),g(),p(77,"option"),w(78,"2"),g(),p(79,"option"),w(80,"3"),g(),g(),g(),p(81,"div",15),p(82,"label",16),w(83,"Opponent Toy"),g(),p(84,"select",36),p(85,"option",31),w(86,"None"),g(),Ie(87,Mie,2,2,"optgroup",32),Oo(88,"keyvalue"),g(),g(),p(89,"div",33),p(90,"label",37),w(91,"Toy Level"),g(),p(92,"select",38),p(93,"option"),w(94,"1"),g(),p(95,"option"),w(96,"2"),g(),p(97,"option"),w(98,"3"),g(),g(),g(),p(99,"div",39),p(100,"span",40),je("click",function(){return Bt(e),We().toggleAdvanced()}),w(101),g(),g(),p(102,"div",41),p(103,"div",42),ie(104,"input",43),p(105,"label",44),w(106," Angler "),g(),g(),p(107,"div",45),ie(108,"input",46),p(109,"label",47),w(110," All Pets "),g(),g(),g(),p(111,"div",41),p(112,"div",48),ie(113,"input",49),p(114,"label",50),w(115," Old Stork "),g(),g(),p(116,"div",51),ie(117,"input",52),p(118,"label",53),w(119," Token Pets "),g(),g(),g(),p(120,"div",41),p(121,"div",54),ie(122,"input",55),p(123,"label",56),w(124," Komodo Shuffle "),g(),g(),p(125,"div",57),ie(126,"input",58),p(127,"label",59),w(128," Mana "),g(),g(),g(),p(129,"div",41),p(130,"div",60),ie(131,"input",61),p(132,"label",62),w(133," Ailment Equipment "),g(),g(),g(),g(),p(134,"div",63),p(135,"label",64),w(136,"Zoom"),g(),p(137,"div"),p(138,"button",65),je("click",function(){return Bt(e),We().zoomIn()}),w(139,"+"),g(),p(140,"button",66),je("click",function(){return Bt(e),We().zoomOut()}),w(141,"-"),g(),g(),g(),g(),g(),Ie(142,Iie,47,0,"div",67),p(143,"div",68),ie(144,"div",69),g(),p(145,"div",70),p(146,"div",71),p(147,"div",72),p(148,"h2",73),w(149,"Player"),g(),p(150,"button",74),je("click",function(){return Bt(e),We().resetPlayer("player")}),w(151,"Reset"),g(),g(),p(152,"div",75),p(153,"div",76),je("cdkDropListDropped",function(s){return Bt(e),We().drop(s,"player")}),Ie(154,Oie,6,11,"div",77),g(),g(),g(),p(155,"div",78),p(156,"div",72),p(157,"h2",73),w(158,"Opponent"),g(),p(159,"button",74),je("click",function(){return Bt(e),We().resetPlayer("opponent")}),w(160,"Reset"),g(),g(),p(161,"div",79),p(162,"div",76),je("cdkDropListDropped",function(s){return Bt(e),We().drop(s,"opponent")}),Ie(163,Rie,6,11,"div",80),g(),g(),g(),g(),p(164,"div",81),p(165,"div",82),p(166,"div"),p(167,"button",83),je("click",function(){return Bt(e),We().simulate()}),w(168,"Simulate"),g(),p(169,"button",83),je("click",function(){return Bt(e),We().randomize()}),w(170,"Randomize"),g(),g(),p(171,"div"),p(172,"button",84),w(173,"Report A Bug"),g(),p(174,"button",85),w(175,"Export Calculator"),g(),p(176,"button",86),w(177,"Import Calculator"),g(),p(178,"button",83),je("click",function(){return Bt(e),We().generateShareLink()}),w(179,"Generate Link"),g(),g(),g(),g(),Ie(180,Nie,18,10,"div",87),p(181,"div",88),p(182,"div",89),p(183,"h3"),w(184,"Battles"),g(),p(185,"div",90),p(186,"div",69),p(187,"label",91),w(188,"Filter Battles By Winner"),g(),g(),p(189,"div",69),p(190,"div",92),ie(191,"input",93),p(192,"label",94),w(193,"None"),g(),g(),p(194,"div",92),ie(195,"input",95),p(196,"label",96),w(197,"Player"),g(),g(),p(198,"div",92),ie(199,"input",97),p(200,"label",98),w(201,"Opponent"),g(),g(),p(202,"div",92),ie(203,"input",99),p(204,"label",100),w(205,"Draw"),g(),g(),g(),g(),p(206,"div",101),p(207,"table",102),p(208,"thead"),p(209,"tr"),p(210,"th",103),w(211,"Battle No."),g(),p(212,"th"),w(213,"Winner"),g(),p(214,"th"),w(215,"Random Events"),g(),g(),g(),p(216,"tbody"),Ie(217,Lie,7,3,"tr",104),g(),g(),g(),g(),p(218,"div",105),p(219,"h3"),w(220,"Logs"),g(),p(221,"div",106),Ie(222,$ie,3,5,"div",107),g(),g(),g(),g(),p(223,"div",108),p(224,"div",109),p(225,"div",110),p(226,"div",111),p(227,"h1",112),w(228,"Patch Notes"),g(),ie(229,"button",113),g(),p(230,"div",114),ie(231,"app-patch-notes"),g(),p(232,"div",115),p(233,"span",40),je("click",function(){return Bt(e),We().clearCache()}),w(234,"Clear Cache"),g(),g(),g(),g(),g(),p(235,"div",116,117),p(237,"div",118),p(238,"div",110),p(239,"div",111),p(240,"h1",119),w(241,"Custom Pack Editor"),g(),ie(242,"button",113),g(),p(243,"div",114),ie(244,"app-custom-pack-editor",120),g(),g(),g(),g(),p(245,"div",121),p(246,"div",118),p(247,"div",110),p(248,"div",111),p(249,"h1",122),w(250,"Info"),g(),ie(251,"button",113),g(),p(252,"div",114),ie(253,"app-info"),g(),g(),g(),g(),p(254,"div",123),p(255,"div",118),p(256,"div",110),p(257,"div",111),p(258,"h1",124),w(259,"Import Calculator"),g(),ie(260,"button",113),g(),p(261,"div",114),ie(262,"app-import-calculator",125),g(),g(),g(),g(),p(263,"div",126),p(264,"div",118),p(265,"div",110),p(266,"div",111),p(267,"h1",127),w(268,"Export Calculator"),g(),ie(269,"button",113),g(),p(270,"div",114),ie(271,"app-export-calculator",120),g(),g(),g(),g(),p(272,"div",128),p(273,"div",118),p(274,"div",110),p(275,"div",111),p(276,"h1",129),w(277,"Report A Bug"),g(),ie(278,"button",113),g(),p(279,"div",114),ie(280,"app-report-a-bug",130),g(),g(),g(),g(),py()}if(2&n){const e=We();H(1),z("formGroup",e.formGroup),H(11),Ci("Last Updated: ",e.lastUpdated,""),H(3),Ci("Version: ",e.version," "),H(4),Ci("SAP Version: ",e.sapVersion,""),H(21),z("ngForOf",e.validCustomPacks),H(20),z("ngForOf",e.validCustomPacks),H(7),z("ngValue",null),H(2),z("ngForOf",Ro(70,23,e.toys)),H(16),z("ngValue",null),H(2),z("ngForOf",Ro(88,25,e.toys)),H(14),Ci("",e.formGroup.get("showAdvanced").value?"Hide":"Show"," Advanced Settings"),H(41),z("ngIf",e.formGroup.get("showAdvanced").value),H(2),z("@dayNight",e.dayNight?"day":"night"),H(10),z("ngForOf",e.getPlayerPetsFormArray()),H(9),z("ngForOf",e.getOpponentPetsFormArray()),H(17),z("ngIf",e.simulated),H(11),z("value",null),H(26),z("ngForOf",e.filteredBattles),H(5),z("ngForOf",e.getViewBattleLogs()),H(22),z("formGroup",e.formGroup),H(18),z("importFunc",e.import.bind(e)),H(9),z("formGroup",e.formGroup),H(9),z("calcFormGroup",e.formGroup)}}const qie={pP:"playerPack",oP:"opponentPack",pT:"playerToy",pTL:"playerToyLevel",oT:"opponentToy",oTL:"opponentToyLevel",t:"turn",pGS:"playerGoldSpent",oGS:"opponentGoldSpent",pRA:"playerRollAmount",oRA:"opponentRollAmount",pSA:"playerSummonedAmount",oSA:"opponentSummonedAmount",pL3:"playerLevel3Sold",oL3:"opponentLevel3Sold",p:"playerPets",o:"opponentPets",an:"angler",ap:"allPets",lf:"logFilter",fs:"fontSize",cp:"customPacks",os:"oldStork",tp:"tokenPets",ks:"komodoShuffle",m:"mana",sa:"showAdvanced",ae:"ailmentEquipment",pTA:"playerTransformationAmount",oTA:"opponentTransformationAmount",n:"name",a:"attack",h:"health",e:"exp",eq:"equipment"};function aS(n){if(Array.isArray(n))return n.map(t=>aS(t));if(null!==n&&"object"==typeof n){const t={};for(const e in n)t[qie[e]||e]=aS(n[e]);return t}return n}let Uie=(()=>{class n{constructor(e,i,s,r,a,o,l,h){this.logService=e,this.abilityService=i,this.gameService=s,this.equipmentService=r,this.petService=a,this.toyService=o,this.startOfBattleService=l,this.localStorageService=h,this.version="0.6.17",this.sapVersion="0.33.3-156 BETA",this.lastUpdated="8/22/2025",this.title="sap-calculator",this.maxTurns=50,this.turns=0,this.battleStarted=!1,this.simulationBattleAmt=1e3,this.playerWinner=0,this.opponentWinner=0,this.draw=0,this.battles=[],this.simulated=!1,this.previousPackPlayer=null,this.previousPackOpponent=null,this.dayNight=!0,this.api=!1,this.apiResponse=null,this.isLoadedFromUrl=!1,this.player=new nV(e,i,s),this.opponent=new nV(e,i,s),this.gameService.init(this.player,this.opponent),this.petService.init(),this.initFormGroup();const m=new URLSearchParams(window.location.search).get("code");if(m){this.api=!0;try{const y=JSON.parse(decodeURIComponent(m));this.loadCalculatorFromValue(y),this.simulate(),this.buildApiResponse()}catch(y){console.error("Error parsing API data from URL:",y),this.apiResponse=JSON.stringify({error:"Invalid or corrupted data provided in the URL."})}}}buildApiResponse(){this.apiResponse=JSON.stringify({playerWins:this.playerWinner,opponentWins:this.opponentWinner,draws:this.draw},null)}printFormGroup(){console.log(this.formGroup)}ngOnInit(){this.isLoadedFromUrl=this.loadStateFromUrl(!0),this.isLoadedFromUrl||this.loadLocalStorage(),this.initApp(),this.initGameApi(),this.setDayNight(),this.toys=this.toyService.toys}loadStateFromUrl(e=!1){const s=new URLSearchParams(window.location.search).get("c");if(s)try{let r;const a=decodeURIComponent(s);if(a.trim().startsWith("{")){const l=aS(JSON.parse(a));r=JSON.stringify(l)}else{const o=atob(s),l=decodeURIComponent(o),f=aS(JSON.parse(l));r=JSON.stringify(f)}return this.import(r),console.log("Calculator state loaded from URL."),!0}catch(r){return console.error("Failed to parse calculator state from URL.",r),alert("Could not load the shared calculator link. The data may be corrupted."),!1}return!1}ngAfterViewInit(){this.isLoadedFromUrl&&this.petSelectors.forEach(e=>{e.fixLoadEquipment()}),this.api||this.initModals()}loadLocalStorage(){if(this.localStorageService.getStorage())try{let i=JSON.parse(this.localStorageService.getStorage());this.loadCalculatorFromValue(i)}catch(i){console.log("error loading local storage",i),this.localStorageService.clearStorage()}}loadCalculatorFromValue(e){const i={playerPack:"Turtle",opponentPack:"Turtle",playerToy:null,playerToyLevel:"1",opponentToy:null,opponentToyLevel:"1",turn:11,playerGoldSpent:10,opponentGoldSpent:10,playerRollAmount:4,opponentRollAmount:4,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0,playerLevel3Sold:0,opponentLevel3Sold:0,playerPets:Array(5).fill(null),opponentPets:Array(5).fill(null),angler:!1,allPets:!1,logFilter:null,fontSize:13,customPacks:[],oldStork:!1,tokenPets:!1,komodoShuffle:!1,mana:!1,showAdvanced:!1,ailmentEquipment:!1},s=Object.assign(Object.assign({},i),e);this.formGroup.patchValue(s,{emitEvent:!1});let r=e.customPacks;e.customPacks=[],this.loadCustomPacks(r),this.formGroup.patchValue(e,{emitEvent:!1}),setTimeout(()=>{this.fixCustomPackSelect()}),this.gameService.gameApi.oldStork=this.formGroup.get("oldStork").value,this.gameService.gameApi.komodoShuffle=this.formGroup.get("komodoShuffle").value,this.gameService.gameApi.mana=this.formGroup.get("mana").value,this.gameService.gameApi.playerRollAmount=this.formGroup.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=this.formGroup.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=this.formGroup.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=this.formGroup.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=this.formGroup.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=this.formGroup.get("opponentTransformationAmount").value,this.gameService.gameApi.day=this.dayNight,this.gameService.gameApi.turnNumber=this.formGroup.get("turn").value}setDayNight(){let i=this.formGroup.get("turn").value%2==1;this.dayNight=i,this.gameService.gameApi.day=i}fixCustomPackSelect(){this.formGroup.get("playerPack").setValue(this.formGroup.get("playerPack").value,{emitEvent:!1}),this.formGroup.get("opponentPack").setValue(this.formGroup.get("opponentPack").value,{emitEvent:!1})}initApp(){this.petService.buildCustomPackPets(this.formGroup.get("customPacks")),this.setFontSize(),this.initPlayerPets(),this.updatePlayerPack(this.player,this.formGroup.get("playerPack").value,!1),this.updatePlayerPack(this.opponent,this.formGroup.get("opponentPack").value,!1),this.updatePlayerToy(this.player,this.formGroup.get("playerToy").value),this.updatePlayerToy(this.opponent,this.formGroup.get("opponentToy").value),this.previousPackOpponent=this.opponent.pack,this.previousPackPlayer=this.player.pack}initGameApi(){this.gameService.gameApi.day=this.dayNight,this.gameService.gameApi.oldStork=this.formGroup.get("oldStork").value,this.gameService.gameApi.komodoShuffle=this.formGroup.get("komodoShuffle").value,this.gameService.gameApi.mana=this.formGroup.get("mana").value,this.gameService.gameApi.playerRollAmount=this.formGroup.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=this.formGroup.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=this.formGroup.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=this.formGroup.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=this.formGroup.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=this.formGroup.get("opponentTransformationAmount").value}loadCustomPacks(e){let i=this.formGroup.get("customPacks");i.clear();for(let s of e){let r=vz(s);i.push(r)}}initPlayerPets(){for(let e=0;e<5;e++){let i=this.formGroup.get("playerPets").controls[e];if(null==i.get("name").value)continue;let s=this.petService.createPet(i.value,this.player);this.player.setPet(e,s,!0)}for(let e=0;e<5;e++){let i=this.formGroup.get("opponentPets").controls[e];if(null==i.get("name").value)continue;let s=this.petService.createPet(i.value,this.opponent);this.opponent.setPet(e,s,!0)}}randomizePlayerPets(e){for(let i=0;i<5;i++)e.setPet(i,this.petService.getRandomPet(e),!0)}makeFormGroup(e){return e}initFormGroup(){var e,i,s,r,a,o;this.updatePreviousShopTier(11),this.updateGoldSpent(10,10),this.formGroup=new Bi({playerPack:new ee(this.player.pack),opponentPack:new ee(this.opponent.pack),playerToy:new ee(null===(e=this.player.toy)||void 0===e?void 0:e.name),playerToyLevel:new ee(null!==(s=null===(i=this.player.toy)||void 0===i?void 0:i.level)&&void 0!==s?s:1),opponentToy:new ee(null===(r=this.opponent.toy)||void 0===r?void 0:r.name),opponentToyLevel:new ee(null!==(o=null===(a=this.opponent.toy)||void 0===a?void 0:a.level)&&void 0!==o?o:1),turn:new ee(11),playerGoldSpent:new ee(10),opponentGoldSpent:new ee(10),angler:new ee(!1),allPets:new ee(!1),logFilter:new ee(null),playerPets:new b_([]),opponentPets:new b_([]),fontSize:new ee(13),customPacks:new b_([]),oldStork:new ee(!1),tokenPets:new ee(!1),komodoShuffle:new ee(!1),mana:new ee(!1),playerRollAmount:new ee(4),opponentRollAmount:new ee(4),playerLevel3Sold:new ee(0),opponentLevel3Sold:new ee(0),playerSummonedAmount:new ee(0),opponentSummonedAmount:new ee(0),playerTransformationAmount:new ee(0),opponentTransformationAmount:new ee(0),showAdvanced:new ee(!1),ailmentEquipment:new ee(!1)}),this.initPetForms(),this.formGroup.get("playerPack").valueChanges.subscribe(m=>{if(null!=m){if("Add Custom Pack"==m)return void this.openCustomPackEditor();this.previousPackPlayer=m,this.updatePlayerPack(this.player,m)}}),this.formGroup.get("opponentPack").valueChanges.subscribe(m=>{if(null!=m){if("Add Custom Pack"==m)return void this.openCustomPackEditor();this.previousPackOpponent=m,this.updatePlayerPack(this.opponent,m)}}),this.formGroup.get("playerToy").valueChanges.subscribe(m=>{this.updatePlayerToy(this.player,m)}),this.formGroup.get("opponentToy").valueChanges.subscribe(m=>{this.updatePlayerToy(this.opponent,m)}),this.formGroup.get("playerToyLevel").valueChanges.subscribe(m=>{this.updateToyLevel(this.player,m)}),this.formGroup.get("opponentToyLevel").valueChanges.subscribe(m=>{this.updateToyLevel(this.opponent,m)}),this.formGroup.get("turn").valueChanges.subscribe(m=>{this.updatePreviousShopTier(m),this.setDayNight()}),this.formGroup.get("playerGoldSpent").valueChanges.subscribe(m=>{this.updateGoldSpent(m,null)}),this.formGroup.get("opponentGoldSpent").valueChanges.subscribe(m=>{this.updateGoldSpent(null,m)}),this.formGroup.get("angler").valueChanges.subscribe(m=>{setTimeout(()=>{this.updateSelectorPets()})}),this.formGroup.get("oldStork").valueChanges.subscribe(m=>{this.gameService.gameApi.oldStork=m}),this.formGroup.get("komodoShuffle").valueChanges.subscribe(m=>{this.gameService.gameApi.komodoShuffle=m}),this.formGroup.get("mana").valueChanges.subscribe(m=>{this.gameService.gameApi.mana=m}),this.formGroup.get("playerRollAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.playerRollAmount=m,console.log("playerRollAmount",m)}),this.formGroup.get("opponentRollAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.opponentRollAmount=m,console.log("opponentRollAmount",m)}),this.formGroup.get("playerLevel3Sold").valueChanges.subscribe(m=>{this.gameService.gameApi.playerLevel3Sold=m}),this.formGroup.get("opponentLevel3Sold").valueChanges.subscribe(m=>{this.gameService.gameApi.opponentLevel3Sold=m}),this.formGroup.get("playerSummonedAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.playerSummonedAmount=m}),this.formGroup.get("opponentSummonedAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.opponentSummonedAmount=m}),this.formGroup.get("playerTransformationAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.playerTransformationAmount=m}),this.formGroup.get("opponentTransformationAmount").valueChanges.subscribe(m=>{this.gameService.gameApi.opponentTransformationAmount=m})}toggleAdvanced(){let e=this.formGroup.get("showAdvanced").value;this.formGroup.get("showAdvanced").setValue(!e)}initPetForms(){let e=[0,1,2,3,4],i=e.map(o=>{var l,h,f,m,y,S,k,D,T,R,O,U,L,G,Y,oe,ge,me,ye,Be;return new Bi({name:new ee(null===(l=this.player[`pet${o}`])||void 0===l?void 0:l.name),attack:new ee(null!==(f=null===(h=this.player[`pet${o}`])||void 0===h?void 0:h.attack)&&void 0!==f?f:0),health:new ee(null!==(y=null===(m=this.player[`pet${o}`])||void 0===m?void 0:m.health)&&void 0!==y?y:0),exp:new ee(null!==(k=null===(S=this.player[`pet${o}`])||void 0===S?void 0:S.exp)&&void 0!==k?k:0),equipment:new ee(null===(D=this.player[`pet${o}`])||void 0===D?void 0:D.equipment),belugaSwallowedPet:new ee(null===(T=this.player[`pet${o}`])||void 0===T?void 0:T.belugaSwallowedPet),mana:new ee(null!==(O=null===(R=this.player[`pet${o}`])||void 0===R?void 0:R.mana)&&void 0!==O?O:0),abominationSwallowedPet1:new ee(null===(U=this.player[`pet${o}`])||void 0===U?void 0:U.abominationSwallowedPet1),abominationSwallowedPet2:new ee(null===(L=this.player[`pet${o}`])||void 0===L?void 0:L.abominationSwallowedPet2),abominationSwallowedPet3:new ee(null===(G=this.player[`pet${o}`])||void 0===G?void 0:G.abominationSwallowedPet3),battlesFought:new ee(null!==(oe=null===(Y=this.player[`pet${o}`])||void 0===Y?void 0:Y.battlesFought)&&void 0!==oe?oe:0),sabertoothTimesHurt:new ee(null!==(me=null===(ge=this.player[`pet${o}`])||void 0===ge?void 0:ge.timesHurt)&&void 0!==me?me:0),tunaTimesHurt:new ee(null!==(Be=null===(ye=this.player[`pet${o}`])||void 0===ye?void 0:ye.timesHurt)&&void 0!==Be?Be:0)})}),s=this.formGroup.get("playerPets");s.clear();for(let o of i)s.push(o);let r=e.map(o=>{var l,h,f,m,y,S,k,D,T,R,O,U,L,G,Y,oe,ge,me,ye,Be;return new Bi({name:new ee(null===(l=this.opponent[`pet${o}`])||void 0===l?void 0:l.name),attack:new ee(null!==(f=null===(h=this.opponent[`pet${o}`])||void 0===h?void 0:h.attack)&&void 0!==f?f:0),health:new ee(null!==(y=null===(m=this.opponent[`pet${o}`])||void 0===m?void 0:m.health)&&void 0!==y?y:0),exp:new ee(null!==(k=null===(S=this.opponent[`pet${o}`])||void 0===S?void 0:S.exp)&&void 0!==k?k:0),equipment:new ee(null===(D=this.opponent[`pet${o}`])||void 0===D?void 0:D.equipment),belugaSwallowedPet:new ee(null===(T=this.opponent[`pet${o}`])||void 0===T?void 0:T.belugaSwallowedPet),mana:new ee(null!==(O=null===(R=this.opponent[`pet${o}`])||void 0===R?void 0:R.mana)&&void 0!==O?O:0),abominationSwallowedPet1:new ee(null===(U=this.opponent[`pet${o}`])||void 0===U?void 0:U.abominationSwallowedPet1),abominationSwallowedPet2:new ee(null===(L=this.opponent[`pet${o}`])||void 0===L?void 0:L.abominationSwallowedPet2),abominationSwallowedPet3:new ee(null===(G=this.opponent[`pet${o}`])||void 0===G?void 0:G.abominationSwallowedPet3),battlesFought:new ee(null!==(oe=null===(Y=this.opponent[`pet${o}`])||void 0===Y?void 0:Y.battlesFought)&&void 0!==oe?oe:0),sabertoothTimesHurt:new ee(null!==(me=null===(ge=this.opponent[`pet${o}`])||void 0===ge?void 0:ge.timesHurt)&&void 0!==me?me:0),tunaTimesHurt:new ee(null!==(Be=null===(ye=this.opponent[`pet${o}`])||void 0===ye?void 0:ye.timesHurt)&&void 0!==Be?Be:0)})}),a=this.formGroup.get("opponentPets");a.clear();for(let o of r)a.push(o)}getPlayerPetsFormArray(){return Array.from(this.formGroup.get("playerPets").controls).reverse()}getOpponentPetsFormArray(){return Array.from(this.formGroup.get("opponentPets").controls)}updatePlayerPack(e,i,s=!0){let r;switch(e.pack=i,i){case"Turtle":r=this.petService.turtlePackPets;break;case"Puppy":r=this.petService.puppyPackPets;break;case"Star":r=this.petService.starPackPets;break;case"Golden":r=this.petService.goldenPackPets;break;case"Unicorn":r=this.petService.unicornPackPets;break;case"Danger":r=this.petService.dangerPackPets;break;default:r=this.petService.playerCustomPackPets.get(i)}e==this.player?this.gameService.setTierGroupPets(r,null):this.gameService.setTierGroupPets(null,r),this.formGroup.get("allPets")}updateSelectorPets(){this.petSelectors.forEach(e=>{e.initPets()})}updatePlayerToy(e,i){let s;e==this.player&&(s="playerToyLevel"),e==this.opponent&&(s="opponentToyLevel");let r=this.formGroup.get(s).value;e.toy=this.toyService.createToy(i,e,r),e.originalToy=e.toy}updatePreviousShopTier(e){let i=1;e>2&&(i=2),e>4&&(i=3),e>6&&(i=4),e>8&&(i=5),e>10&&(i=6),this.gameService.setPreviousShopTier(i),this.gameService.setTurnNumber(e)}updateGoldSpent(e,i){this.gameService.setGoldSpent(e,i)}updateToyLevel(e,i){e.toy&&(e.toy.level=i)}abilityCycle(){for(;this.abilityService.hasGlobalEvents;){const i=this.abilityService.peekNextHighestPriorityEvent();if(i&&this.abilityService.getPriorityNumber(i.abilityType)>=23&&(this.checkPetsAlive(),this.removeDeadPets())){this.emptyFrontSpaceCheck();continue}const s=this.abilityService.getNextHighestPriorityEvent();if(!s){console.error("AbilityCycle: Expected event from queue but got null. Queue state inconsistent.");break}this.abilityService.executeEventCallback(s),this.checkPetsAlive()}this.removeDeadPets()&&this.emptyFrontSpaceCheck()}checkPetsAlive(){this.player.checkPetsAlive(),this.opponent.checkPetsAlive()}initToys(){var e,i;(null===(e=this.player.toy)||void 0===e?void 0:e.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.player.toy.startOfBattle(this.gameService.gameApi);let s=this.player.toy.level;for(let r of this.player.petArray)r instanceof Er&&(this.player.toy.level=r.level,this.player.toy.startOfBattle(this.gameService.gameApi,!0),this.player.toy.level=s)},priority:this.player.toy.tier}),(null===(i=this.opponent.toy)||void 0===i?void 0:i.startOfBattle)&&this.toyService.setStartOfBattleEvent({callback:()=>{this.opponent.toy.startOfBattle(this.gameService.gameApi);let s=this.opponent.toy.level;for(let r of this.opponent.petArray)r instanceof Er&&(this.opponent.toy.level=r.level,this.opponent.toy.startOfBattle(this.gameService.gameApi,!0),this.opponent.toy.level=s)},priority:this.opponent.toy.tier})}simulate(){try{this.runSimulation()}catch(e){console.error(e),window.alert("Something went wrong, please send a bug report.")}}runSimulation(){this.localStorageService.setFormStorage(this.formGroup),this.resetSimulation();for(let e=0;e<this.simulationBattleAmt;e++){this.initBattle(),this.startBattle(),this.initToys(),this.abilityService.initEndTurnEvents(this.player),this.abilityService.initEndTurnEvents(this.opponent),this.setAbilityEquipments(this.player),this.setAbilityEquipments(this.opponent),this.initializeEquipmentMultipliers(),this.abilityService.triggerBeforeStartOfBattleEvents(this.player),this.abilityService.triggerBeforeStartOfBattleEvents(this.opponent),this.abilityService.executeBeforeStartOfBattleEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);this.startOfBattleService.resetStartOfBattleFlags(),this.startOfBattleService.initStartOfBattleEvents(),this.startOfBattleService.executeToyPetEvents(),this.gameService.gameApi.isInStartOfBattleFlag=!0,this.toyService.executeStartOfBattleEvents(),this.startOfBattleService.executeNonToyPetEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);for(this.gameService.gameApi.isInStartOfBattleFlag=!1;this.battleStarted;)this.nextTurn();this.reset()}this.simulated=!0}removeDeadPets(){let e=!1;return e=this.player.removeDeadPets(),e=this.opponent.removeDeadPets()||e,e}emptyFrontSpaceCheck(){null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceEvents(this.opponent),null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.opponent),this.abilityService.executeEmptyFrontSpaceToyEvents()}startBattle(){this.reset(),this.battleStarted=!0,this.turns=0}resetSimulation(){this.playerWinner=0,this.opponentWinner=0,this.viewBattle=null,this.draw=0,this.battles=[],this.currBattle=null}initBattle(){this.logService.reset(),this.currBattle={winner:"draw",logs:this.logs},this.battles.push(this.currBattle),this.gameService.gameApi.opponentSummonedAmount=this.formGroup.get("opponentSummonedAmount").value,this.gameService.gameApi.playerSummonedAmount=this.formGroup.get("playerSummonedAmount").value,this.gameService.gameApi.opponentTransformationAmount=this.formGroup.get("opponentTransformationAmount").value,this.gameService.gameApi.playerTransformationAmount=this.formGroup.get("playerTransformationAmount").value}reset(){this.player.resetPets(),this.opponent.resetPets()}nextTurn(){let e=!1,i=null;if(this.turns++,this.turns>=this.maxTurns&&(e=!0),!this.player.alive()&&this.opponent.alive()&&(i=this.opponent,this.currBattle.winner="opponent",this.opponentWinner++,e=!0),!this.opponent.alive()&&this.player.alive()&&(i=this.player,this.currBattle.winner="player",this.playerWinner++,e=!0),!this.opponent.alive()&&!this.player.alive()&&(this.draw++,e=!0),e)return this.endLog(i),void(this.battleStarted=!1);this.pushPetsForwards(),this.logService.printState(this.player,this.opponent),this.player.pet0.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:this.player.pet0.beforeAttack.bind(this.player.pet0),priority:this.player.pet0.attack,player:this.player,pet:this.player.pet0}),this.opponent.pet0.beforeAttack&&this.abilityService.setBeforeAttackEvent({callback:this.opponent.pet0.beforeAttack.bind(this.opponent.pet0),priority:this.opponent.pet0.attack,player:this.opponent,pet:this.opponent.pet0}),this.abilityService.executeBeforeAttackEvents(),this.abilityService.triggerBeforeFriendAttacksEvents(this.player,this.player.pet0),this.abilityService.triggerBeforeFriendAttacksEvents(this.opponent,this.opponent.pet0),this.abilityService.executeBeforeFriendAttacksEvents(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);if(this.player.alive()&&this.opponent.alive()){this.pushPetsForwards(),this.fight(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);this.player.checkGoldenSpawn(),this.opponent.checkGoldenSpawn();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents)}}chocolateCakePresent(){var e,i;let s={player:!1,opponent:!1,cake:!1};return s.player=(null===(e=this.player.pet0)||void 0===e?void 0:e.equipment)instanceof Jp,s.opponent=(null===(i=this.opponent.pet0)||void 0===i?void 0:i.equipment)instanceof Jp,s.cake=s.player||s.opponent,s}doChocolateCakeEvents(e){let i=[];e.player&&i.push(this.player.pet0),e.opponent&&i.push(this.opponent.pet0),i=(0,at.shuffle)(i),i.sort((s,r)=>s.attack<r.attack?1:r.attack<s.attack?-1:0);for(let s of i)s.equipment.callback(s)}setAbilityEquipments(e){var i;for(let s of e.petArray)s.equipment instanceof sb?(s.equipment.callback(s),s.eggplantTouched=!0):(null===(i=s.equipment)||void 0===i?void 0:i.callback)&&s.equipment.callback(s)}executeBeforeStartOfBattleEquipment(e){for(let i of e.petArray){let s=i.equipment.multiplier,r=i.equipment.multiplierMessage;for(let a=0;a<s;a++){if(i.equipment instanceof tb&&(i.increaseAttack(4),i.increaseHealth(4),this.logService.createLog({message:`${i.name} gained 4 attack and 4 health (Pie)${r}`,type:"equipment",player:e})),i.equipment instanceof nb&&i.parent.gainTrumpets(2*s,i,!1,s,!0),i.equipment instanceof ib)for(let o of e.petArray)i!=o&&(o.increaseAttack(2),o.increaseHealth(2),this.logService.createLog({message:`${o.name} gained 2 attack and 2 health (Pancake)${r}`,type:"equipment",player:e}));i.equipment instanceof lb&&i.equipment.callback(i),i.equipment instanceof ab&&i.equipment.callback(i),i.equipment instanceof ob&&i.equipment.callback(i)}}}pushPetsForwards(){this.player.pushPetsForward(),this.opponent.pushPetsForward()}fight(){let e=this.player.pet0,i=this.opponent.pet0;e.attackPet(i),i.attackPet(e),e.useAttackDefenseEquipment(),i.useAttackDefenseEquipment(),this.player.checkPetsAlive(),this.opponent.checkPetsAlive(),this.abilityService.executeAfterAttackEvents(),this.abilityService.executeAfterFriendAttackEvents()}endLog(e){let i;i=null==e?"Draw":e==this.player?"Player is the winner":"Opponent is the winner",this.logService.createLog({message:i,type:"board"})}get logs(){return this.logService.getLogs()}setViewBattle(e){this.viewBattle=e}getViewBattleLogs(){var e,i;return null!==(i=null===(e=this.viewBattle)||void 0===e?void 0:e.logs)&&void 0!==i?i:[]}getDrawWidth(){return`${this.losePercent+this.drawPercent}%`}getLoseWidth(){return`${this.losePercent}%`}getPlayerClass(e){return null==e.player?"log":e.player==this.player?"log-player":"log-opponent"}getRandomEvents(e){let i="",s=e.logs.filter(r=>1==r.randomEvent);for(let r of s)i+=r.message,r!=s[s.length-1]&&(i+="\n");return i}randomize(e){null==e&&!confirm("Are you sure you want to randomize?")||(e?this.randomizePlayerPets(e):(this.randomizePlayerPets(this.player),this.randomizePlayerPets(this.opponent)),this.formGroup&&this.initPetForms(),setTimeout(()=>{this.petSelectors.forEach(i=>{i.initSelector()})}))}zoomIn(){this.formGroup.get("fontSize").setValue(Math.min(this.formGroup.get("fontSize").value+1,20)),this.setFontSize()}zoomOut(){this.formGroup.get("fontSize").setValue(Math.max(this.formGroup.get("fontSize").value-1,8)),this.setFontSize()}setFontSize(){document.documentElement.style.fontSize=`${this.formGroup.get("fontSize").value}px`}clearCache(){this.localStorageService.clearStorage(),alert("Cache cleared. Refresh page to see changes.")}initModals(){this.customPackEditorModal=new bc(this.customPackEditor.nativeElement),this.customPackEditor.nativeElement.addEventListener("hidden.bs.modal",e=>{})}openCustomPackEditor(){this.customPackEditorModal.show(),this.formGroup.get("playerPack").setValue(this.previousPackPlayer,{emitEvent:!1}),this.formGroup.get("opponentPack").setValue(this.previousPackOpponent,{emitEvent:!1})}drop(e,i){let s=e.previousIndex,r=e.currentIndex,a=this.opponent;"player"==i&&(s=4-s,r=4-r,a=this.player),NF(this.formGroup.get(`${i}Pets`).controls,s,r);for(let o of this.petSelectors.toArray())o.substitutePet()}resetPlayer(e){if(!confirm(`Are you sure you want to reset ${e}?`))return;let i=this.petSelectors.toArray().slice("player"==e?0:5,"player"==e?5:10);for(let s of i)s.removePet()}export(){this.localStorageService.setFormStorage(this.formGroup);let e=JSON.stringify(this.formGroup.value);navigator.clipboard.writeText(e).then(()=>{alert("Copied to clipboard")})}import(e,i=!1){let s=!1;try{const r=JSON.parse(e);this.loadCalculatorFromValue(r),this.initApp(),i||setTimeout(()=>{this.petSelectors&&this.petSelectors.forEach(a=>{a.fixLoadEquipment()})},0),s=!0}catch(r){console.error(r)}return s}generateShareLink(){this.localStorageService.setFormStorage(this.formGroup);const e=JSON.stringify(this.formGroup.value),i=encodeURIComponent(e),r=`${window.location.origin+window.location.pathname}?c=${i}`;navigator.clipboard.writeText(r).then(()=>{alert("Shareable link copied to clipboard!")}).catch(a=>{console.error("Failed to copy link: ",a),alert("Failed to copy link. See console for details.")})}get filteredBattles(){return this.battles.filter(e=>{let i=this.formGroup.get("logFilter").value;return null==i||e.winner==i})}get winPercent(){return T0(this.playerWinner/this.simulationBattleAmt*100)}get drawPercent(){return T0(this.draw/this.simulationBattleAmt*100)}get losePercent(){return T0(this.opponentWinner/this.simulationBattleAmt*100)}get validCustomPacks(){let e=this.formGroup.get("customPacks"),i=[];for(let s of e.controls)s.valid&&i.push(s);return i}initializeEquipmentMultipliers(){for(let e of this.player.petArray)e.equipment&&e.setEquipmentMultiplier();for(let e of this.opponent.petArray)e.equipment&&e.setEquipmentMultiplier()}}return n.\u0275fac=function(e){return new(e||n)($(kb),$(Cb),$(kh),$(Kn),$(Ab),$(Lte),$(Bte),$(KO))},n.\u0275cmp=Nn({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&(Iy(kie,5),Iy(oV,5)),2&e){let s;rc(s=ac())&&(i.customPackEditor=s.first),rc(s=ac())&&(i.petSelectors=s)}},decls:2,vars:2,consts:[[4,"ngIf"],["id","apiResponse"],[1,"container-fluid","app-wrapper","flex-col",3,"formGroup"],["container",""],[1,"row","mt-2"],[1,"col-12","header"],[1,"d-flex","align-items-end"],[3,"click"],["data-bs-toggle","modal","data-bs-target","#info",1,"btn-link","info-link"],[1,"me-3"],[1,"d-flex","flex-column","align-items-end"],["data-bs-toggle","modal","data-bs-target","#patchNotes",1,"btn-link"],[1,"row","battle-controller","border"],[1,"col-12","d-flex","justify-content-between","py-2"],[1,"d-flex","flex-wrap"],[1,"form-group","min-w-input","me-3"],["for","playerPack"],["id","playerPack","formControlName","playerPack",1,"form-control"],["value","Turtle"],["value","Puppy"],["value","Star"],["value","Golden"],["value","Unicorn"],["value","Danger"],["label","Custom Packs"],[3,"value",4,"ngFor","ngForOf"],["value","Add Custom Pack"],[1,"form-group","min-w-input","pe-3","border-end"],["id","opponentPack","formControlName","opponentPack",1,"form-control"],[1,"form-group","min-w-input","mx-3"],["id","playerToy","formControlName","playerToy",1,"form-control"],[3,"ngValue"],[3,"label",4,"ngFor","ngForOf"],[1,"form-group","me-3"],["for","playerToyLevel"],["id","playerToyLevel","formControlName","playerToyLevel",1,"form-control"],["id","opponentToy","formControlName","opponentToy",1,"form-control"],["for","opponentToyLevel"],["id","opponentToyLevel","formControlName","opponentToyLevel",1,"form-control"],[1,"form-group","pe-3","d-flex","align-items-end","border-end"],[1,"btn-link",3,"click"],[1,"flex-column"],["title","Opponent's pack pets are included in the pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","angler","formControlName","angler",1,"form-check-input"],["for","angler",1,"form-check-label"],["title","All pets are included in the pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","allPets","formControlName","allPets",1,"form-check-input"],["for","allPets",1,"form-check-label"],["title","Stork spawns with base stats.",1,"form-check","ms-3"],["type","checkbox","value","","id","oldStork","formControlName","oldStork",1,"form-check-input"],["for","oldStork",1,"form-check-label"],["title","Include Token Pets in pet pool.",1,"form-check","ms-3"],["type","checkbox","value","","id","oldStork","formControlName","tokenPets",1,"form-check-input"],["for","tokenPets",1,"form-check-label"],["title","Shuffle pets in front of Komodo if present.",1,"form-check","ms-3"],["type","checkbox","value","","id","komodoShuffle","formControlName","komodoShuffle",1,"form-check-input"],["for","komodoShuffle",1,"form-check-label"],["title","Include Mana.",1,"form-check","ms-3"],["type","checkbox","value","","id","mana","formControlName","mana",1,"form-check-input"],["for","mana",1,"form-check-label"],["title","Include Ailments for Equipment Options.",1,"form-check","ms-3"],["type","checkbox","value","","id","ailmentEquipment","formControlName","ailmentEquipment",1,"form-check-input"],["for","ailmentEquipment",1,"form-check-label"],[1,"flex-col","zoom-container"],["for","zoom"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"btn","btn-secondary",3,"click"],["class","row battle-controller border",4,"ngIf"],[1,"row","day-night-container"],[1,"col-12"],[1,"row","battle-row","pb-5","pt-3"],[1,"col-12","col-xl-6","px-4","mb-2","mb-xl-0"],[1,"d-flex","justify-content-between"],[1,"me-4"],[1,"btn","btn-secondary","mb-1",3,"click"],[1,"card","p-2","player-card"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"row","row-cols-1","row-cols-md-5",3,"cdkDropListDropped"],["class","col drag-container mb-2 mb-md-0","cdkDrag","",4,"ngFor","ngForOf"],[1,"col-12","col-xl-6","px-4"],[1,"card","p-2","player-card","ml-auto"],["class","col drag-container mb-2 mb-sm-0","cdkDrag","",4,"ngFor","ngForOf"],[1,"row","button-bar","pt-3","pb-1","border"],[1,"col-12","d-flex","justify-content-between"],[1,"btn","btn-primary","me-2","mb-2",3,"click"],["data-bs-toggle","modal","data-bs-target","#reportABug",1,"btn","btn-secondary","me-2","mb-2"],["data-bs-toggle","modal","data-bs-target","#export",1,"btn","btn-secondary","me-2","mb-2"],["data-bs-toggle","modal","data-bs-target","#import",1,"btn","btn-secondary","mb-2"],["class","row",4,"ngIf"],[1,"row","flex-1","bottom-container"],[1,"col-12","col-md-6","border","h-100","flex-col","pe-0"],[1,"row"],["for","logFilter",1,"form-label"],[1,"form-check","form-check-inline"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio1",1,"form-check-input",3,"value"],["for","inlineRadio1",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio2","value","player",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio3","value","opponent",1,"form-check-input"],["for","inlineRadio3",1,"form-check-label"],["formControlName","logFilter","type","radio","name","logFilter","id","inlineRadio4","value","draw",1,"form-check-input"],["for","inlineRadio4",1,"form-check-label"],[1,"battle-container","flex-1","scroll"],[1,"table"],[1,"battle-no"],["class","table-battle-row",3,"click",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","border","h-100","flex-col"],[1,"row","log-container","flex-1","scroll"],["class","col-12",4,"ngFor","ngForOf"],["id","patchNotes","tabindex","-1","aria-labelledby","patchNotesLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","patchNotesLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["id","customPackEditor","tabindex","-1","aria-labelledby","customPackEditorLabel","aria-hidden","true",1,"modal","fade"],["customPackEditor",""],[1,"modal-dialog","modal-lg"],["id","customPackEditorLabel",1,"modal-title","fs-5"],[3,"formGroup"],["id","info","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel",1,"modal-title","fs-5"],["id","import","tabindex","-1","aria-labelledby","importModalLabel","aria-hidden","true",1,"modal","fade"],["id","importModalLabel",1,"modal-title","fs-5"],[3,"importFunc"],["id","export","tabindex","-1","aria-labelledby","exportModalLabel","aria-hidden","true",1,"modal","fade"],["id","exportModalLabel",1,"modal-title","fs-5"],["id","reportABug","tabindex","-1","aria-labelledby","reportABug","aria-hidden","true",1,"modal","fade"],["id","reportABug",1,"modal-title","fs-5"],[3,"calcFormGroup"],[3,"value"],[3,"label"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"border-end","d-flex","flex-wrap","pe-3"],[1,"form-group","small-w-input","me-s-3"],["for","turn"],["id","turn","type","number","formControlName","turn","max","99",1,"form-control"],[1,"form-group","advanced-input","ms-3"],["for","playerGoldSpent","title","Player Gold Spent"],["id","turn","type","number","formControlName","playerGoldSpent","max","99",1,"form-control"],["for","opponentGoldSpent","title","Opponent Gold Spent"],["id","turn","type","number","formControlName","opponentGoldSpent","max","99",1,"form-control"],["for","playerRollAmount","title","Player Roll Amount"],["id","turn","type","number","formControlName","playerRollAmount","max","99",1,"form-control"],["for","opponentRollAmount","title","Opponent Roll Amount"],["id","turn","type","number","formControlName","opponentRollAmount","max","99",1,"form-control"],["for","playerLevel3Sold","title","Player Level 3 Sold"],["id","turn","type","number","formControlName","playerLevel3Sold","max","99",1,"form-control"],["for","opponentLevel3Sold","title","Opponent Level 3 Sold"],["id","turn","type","number","formControlName","opponentLevel3Sold","max","99",1,"form-control"],["for","playerSummonedAmount","title","Player Summoned Amount"],["id","turn","type","number","formControlName","playerSummonedAmount","max","99",1,"form-control"],["for","opponentSummonedAmount","title","Opponent Summoned Amount"],["id","turn","type","number","formControlName","opponentSummonedAmount","max","99",1,"form-control"],["for","playerTransformationAmount","title","Player Transformation Amount"],["id","turn","type","number","formControlName","playerTransformationAmount","max","99",1,"form-control"],["for","opponentTransformationAmount","title","Opponent Transformation Amount"],["id","turn","type","number","formControlName","opponentTransformationAmount","max","99",1,"form-control"],["cdkDrag","",1,"col","drag-container","mb-2","mb-md-0"],["cdkDragHandle","",1,"drag-handle"],["fill","currentColor","viewBox","0 0 24 24"],["d","M10 9h4V6h3l-5-5-5 5h3v3zm-1 1H6V7l-5 5 5 5v-3h3v-4zm14 2l-5-5v3h-3v4h3v3l5-5zm-9 3h-4v3H7l5 5 5-5h-3v-3z"],["d","M0 0h24v24H0z","fill","none"],[3,"pet","player","opponent","index","formGroup","angler","ailments","allPets","mana","showTokenPets","customPacks"],["cdkDrag","",1,"col","drag-container","mb-2","mb-sm-0"],[1,"col-12","stats"],[1,"col-12","py-2"],[1,"results-bar"],[1,"draw-bar"],[1,"lose-bar"],[1,"table-battle-row",3,"click"],[1,"pre"],[3,"ngClass"]],template:function(e,i){1&e&&(Ie(0,Cie,3,1,"ng-container",0),Ie(1,Vie,281,27,"ng-container",0)),2&e&&(z("ngIf",i.api),H(1),z("ngIf",!i.api))},directives:[gh,dc,Ua,Bp,hc,qo,C0,P0,Tp,h_,jee,qa,S0,$te,tie,iie,nie,sie,Eie,S_,w_,Kee,Wee,oV,UC],pipes:[WC],styles:[".app-wrapper[_ngcontent-%COMP%]{height:100vh}.day-night-container[_ngcontent-%COMP%]{min-height:1em}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:end}.flex-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.player-card[_ngcontent-%COMP%]{background-color:#e9c137;display:grid;grid-auto-rows:minmax(min-content,max-content);grid-template-columns:auto 1fr auto}.back[_ngcontent-%COMP%], .front[_ngcontent-%COMP%]{transform:rotate(180deg);writing-mode:vertical-lr;text-align:center}.battle-row[_ngcontent-%COMP%]{background-color:#5ebe09}.button-bar[_ngcontent-%COMP%], .battle-controller[_ngcontent-%COMP%]{background-color:#f5f5f5}.battle-controller[_ngcontent-%COMP%]   .min-w-input[_ngcontent-%COMP%]{min-width:100px}.small-w-input[_ngcontent-%COMP%]{width:60px}.stats[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:.25em}.stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:1em}.battle-no[_ngcontent-%COMP%]{width:1%;white-space:nowrap}.table-battle-row[_ngcontent-%COMP%]{cursor:pointer}.results-bar[_ngcontent-%COMP%], .draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{display:inline-block}.draw-bar[_ngcontent-%COMP%], .lose-bar[_ngcontent-%COMP%]{height:100%;position:absolute;right:0}.results-bar[_ngcontent-%COMP%]{max-width:100%;border:.2em solid black;height:2em;width:30em;background-color:#0f0;position:relative}.draw-bar[_ngcontent-%COMP%]{background-color:#d3d3d3}.lose-bar[_ngcontent-%COMP%]{background-color:red}.log-player[_ngcontent-%COMP%]{background-color:#e4ffe0}.log-opponent[_ngcontent-%COMP%]{background-color:#ffe0e0}.log-container[_ngcontent-%COMP%]{display:flex;align-content:flex-start}.random-event[_ngcontent-%COMP%]{color:purple;font-weight:bold}.flex-1[_ngcontent-%COMP%]{flex:1}.bottom-container[_ngcontent-%COMP%]{min-height:30em}.bottom-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-height:15em}.scroll[_ngcontent-%COMP%]{overflow:scroll}.h-100[_ngcontent-%COMP%]{height:100%}.pre[_ngcontent-%COMP%]{white-space:pre}.btn-link[_ngcontent-%COMP%]{color:#0d6efd;cursor:pointer}.zoom-container[_ngcontent-%COMP%]{min-width:max-content}.zoom-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:2.5em}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.drag-container[_ngcontent-%COMP%]{position:relative}.drag-handle[_ngcontent-%COMP%]{width:1.25em;position:absolute;right:1em;z-index:1;opacity:.5;cursor:pointer}.info-link[_ngcontent-%COMP%]{margin-left:1em;margin-bottom:.5em}@media (max-width: 767.98px){.card[_ngcontent-%COMP%]{max-width:18em}.back[_ngcontent-%COMP%], .front[_ngcontent-%COMP%]{transform:initial;writing-mode:initial}.player-card[_ngcontent-%COMP%]{grid-template-columns:none}}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.bug-button[_ngcontent-%COMP%]{margin-right:.5em;margin-bottom:.25em}.advanced-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:60px}"],data:{animation:[Jee("dayNight",[YF("day",sS({backgroundColor:"#85ddf2"})),YF("night",sS({backgroundColor:"#33377a"})),Xee("day <=> night",[Zee("0.5s")])])]}}),n})();function d4(){return"undefined"!=typeof window&&void 0!==window.document}function tR(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function el(n){switch(n.length){case 0:return new Gh;case 1:return n[0];default:return new ZF(n)}}function f4(n,t,e,i,s={},r={}){const a=[],o=[];let l=-1,h=null;if(i.forEach(f=>{const m=f.offset,y=m==l,S=y&&h||{};Object.keys(f).forEach(k=>{let D=k,T=f[k];if("offset"!==k)switch(D=t.normalizePropertyName(D,a),T){case"!":T=s[k];break;case Qa:T=r[k];break;default:T=t.normalizeStyleValue(k,D,T,a)}S[D]=T}),y||o.push(S),h=S,l=m}),a.length){const f="\n - ";throw new Error(`Unable to animate due to the following errors:${f}${a.join(f)}`)}return o}function iR(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&nR(e,"start",n)));break;case"done":n.onDone(()=>i(e&&nR(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&nR(e,"destroy",n)))}}function nR(n,t,e){const i=e.totalTime,r=sR(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),a=n._data;return null!=a&&(r._data=a),r}function sR(n,t,e,i,s="",r=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:r,disabled:!!a}}function fs(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function p4(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let rR=(n,t)=>!1,aR=(n,t)=>!1,g4=(n,t,e)=>[];const m4=tR();(m4||"undefined"!=typeof Element)&&(rR=d4()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),aR=(()=>{if(m4||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):aR}})(),g4=(n,t,e)=>{let i=[];if(e){const s=n.querySelectorAll(t);for(let r=0;r<s.length;r++)i.push(s[r])}else{const s=n.querySelector(t);s&&i.push(s)}return i});let Ac=null,v4=!1;function oR(n){Ac||(Ac=("undefined"!=typeof document?document.body:null)||{},v4=!!Ac.style&&"WebkitAppearance"in Ac.style);let t=!0;return Ac.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Ac.style,!t&&v4&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Ac.style)),t}const lR=aR,cR=rR,uR=g4;function y4(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let _4=(()=>{class n{validateStyleProperty(e){return oR(e)}matchesElement(e,i){return lR(e,i)}containsElement(e,i){return cR(e,i)}query(e,i,s){return uR(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,r,a,o=[],l){return new Gh(s,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})(),hR=(()=>{class n{}return n.NOOP=new _4,n})();const dR="ng-enter",oS="ng-leave",lS="ng-trigger",cS=".ng-trigger",S4="ng-animating",fR=".ng-animating";function Pc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:pR(parseFloat(t[1]),t[2])}function pR(n,t){return"s"===t?1e3*n:n}function uS(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let s,r=0,a="";if("string"==typeof n){const o=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=pR(parseFloat(o[1]),o[2]);const l=o[3];null!=l&&(r=pR(parseFloat(l),o[4]));const h=o[5];h&&(a=h)}else s=n;if(!e){let o=!1,l=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),o=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),o=!0),o&&t.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:r,easing:a}}(n,t,e)}function jh(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function tl(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else jh(n,e);return e}function E4(n,t,e){return e?t+":"+e+";":""}function k4(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=E4(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=E4(0,Jie(e),n.style[e]));n.setAttribute("style",t)}function Xr(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const s=mR(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[s]),n.style[s]=t[i]}),tR()&&k4(n))}function Dc(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=mR(e);n.style[i]=""}),tR()&&k4(n))}function wg(n){return Array.isArray(n)?1==n.length?n[0]:QF(n):n}const gR=new RegExp("{{\\s*(.+?)\\s*}}","g");function C4(n){let t=[];if("string"==typeof n){let e;for(;e=gR.exec(n);)t.push(e[1]);gR.lastIndex=0}return t}function hS(n,t,e){const i=n.toString(),s=i.replace(gR,(r,a)=>{let o=t[a];return t.hasOwnProperty(a)||(e.push(`Please provide a value for the animation param ${a}`),o=""),o.toString()});return s==i?n:s}function dS(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Yie=/-+([a-z0-9])/g;function mR(n){return n.replace(Yie,(...t)=>t[1].toUpperCase())}function Jie(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function A4(n,t){return 0===n||0===t}function P4(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let r=t[0],a=[];if(i.forEach(o=>{r.hasOwnProperty(o)||a.push(o),r[o]=e[o]}),a.length)for(var s=1;s<t.length;s++){let o=t[s];a.forEach(function(l){o[l]=vR(n,l)})}}return t}function ps(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function vR(n,t){return window.getComputedStyle(n)[t]}function Zie(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const l=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const s=i[1],r=i[2],a=i[3];t.push(D4(s,a));"<"==r[0]&&!("*"==s&&"*"==a)&&t.push(D4(a,s))}(i,e,t)):e.push(n),e}const pS=new Set(["true","1"]),gS=new Set(["false","0"]);function D4(n,t){const e=pS.has(n)||gS.has(n),i=pS.has(t)||gS.has(t);return(s,r)=>{let a="*"==n||n==s,o="*"==t||t==r;return!a&&e&&"boolean"==typeof s&&(a=s?pS.has(n):gS.has(n)),!o&&i&&"boolean"==typeof r&&(o=r?pS.has(t):gS.has(t)),a&&o}}const tne=new RegExp("s*:selfs*,?","g");function yR(n,t,e){return new ine(n).build(t,e)}class ine{constructor(t){this._driver=t}build(t,e){const i=new rne(e);return this._resetContextStyleTimingState(i),ps(this,wg(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const r=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(o=>{if(this._resetContextStyleTimingState(e),0==o.type){const l=o,h=l.name;h.toString().split(/\s*,\s*/).forEach(f=>{l.name=f,r.push(this.visitState(l,e))}),l.name=h}else if(1==o.type){const l=this.visitTransition(o,e);i+=l.queryCount,s+=l.depCount,a.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:a,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const r=new Set,a=s||{};if(i.styles.forEach(o=>{if(mS(o)){const l=o;Object.keys(l).forEach(h=>{C4(l[h]).forEach(f=>{a.hasOwnProperty(f)||r.add(f)})})}}),r.size){const o=dS(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${o.join(", ")}`)}}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ps(this,wg(t.animation),e);return{type:1,matchers:Zie(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Tc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ps(this,i,e)),options:Tc(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const r=t.steps.map(a=>{e.currentTime=i;const o=ps(this,a,e);return s=Math.max(s,e.currentTime),o});return e.currentTime=s,{type:3,steps:r,options:Tc(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return _R(uS(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=_R(0,0,"");return r.dynamic=!0,r.strValue=i,r}return e=e||uS(i,t),_R(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,r=t.styles?t.styles:sS({});if(5==r.type)s=this.visitKeyframes(r,e);else{let a=t.styles,o=!1;if(!a){o=!0;const h={};i.easing&&(h.easing=i.easing),a=sS(h)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(a,e);l.isEmptyStep=o,s=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(a=>{"string"==typeof a?a==Qa?i.push(a):e.errors.push(`The provided style string value ${a} is not allowed.`):i.push(a)}):i.push(t.styles);let s=!1,r=null;return i.forEach(a=>{if(mS(a)){const o=a,l=o.easing;if(l&&(r=l,delete o.easing),!s)for(let h in o)if(o[h].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:r,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(o=>{if(!this._driver.validateStyleProperty(o))return void e.errors.push(`The provided animation property "${o}" is not a supported CSS property for animations`);const l=e.collectedStyles[e.currentQuerySelector],h=l[o];let f=!0;h&&(r!=s&&r>=h.startTime&&s<=h.endTime&&(e.errors.push(`The CSS property "${o}" that exists between the times of "${h.startTime}ms" and "${h.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${s}ms"`),f=!1),r=h.startTime),f&&(l[o]={startTime:r,endTime:s}),e.options&&function(n,t,e){const i=t.params||{},s=C4(n);s.length&&s.forEach(r=>{i.hasOwnProperty(r)||e.push(`Unable to resolve the local animation param ${r} in the given list of values`)})}(a[o],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let r=0;const a=[];let o=!1,l=!1,h=0;const f=t.steps.map(R=>{const O=this._makeStyleAst(R,e);let U=null!=O.offset?O.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(mS(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(mS(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(O.styles),L=0;return null!=U&&(r++,L=O.offset=U),l=l||L<0||L>1,o=o||L<h,h=L,a.push(L),O});l&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const m=t.steps.length;let y=0;r>0&&r<m?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(y=1/(m-1));const S=m-1,k=e.currentTime,D=e.currentAnimateTimings,T=D.duration;return f.forEach((R,O)=>{const U=y>0?O==S?1:y*O:a[O],L=U*T;e.currentTime=k+D.delay+L,D.duration=L,this._validateStyleAst(R,e),R.offset=U,i.styles.push(R)}),i}visitReference(t,e){return{type:8,animation:ps(this,wg(t.animation),e),options:Tc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Tc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Tc(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[r,a]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(tne,"")),n=n.replace(/@\*/g,cS).replace(/@\w+/g,e=>cS+"-"+e.substr(1)).replace(/:animating/g,fR),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,fs(e.collectedStyles,e.currentQuerySelector,{});const o=ps(this,wg(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:a,animation:o,originalSelector:t.selector,options:Tc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:uS(t.timings,e.errors,!0);return{type:12,animation:ps(this,wg(t.animation),e),timings:i,options:null}}}class rne{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function mS(n){return!Array.isArray(n)&&"object"==typeof n}function Tc(n){return n?(n=jh(n)).params&&(n.params=function(n){return n?jh(n):null}(n.params)):n={},n}function _R(n,t,e){return{duration:n,delay:t,easing:e}}function bR(n,t,e,i,s,r,a=null,o=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:r,totalTime:s+r,easing:a,subTimeline:o}}class vS{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const une=new RegExp(":enter","g"),dne=new RegExp(":leave","g");function SR(n,t,e,i,s,r={},a={},o,l,h=[]){return(new fne).buildKeyframes(n,t,e,i,s,r,a,o,l,h)}class fne{buildKeyframes(t,e,i,s,r,a,o,l,h,f=[]){h=h||new vS;const m=new wR(t,e,h,s,r,f,[]);m.options=l,m.currentTimeline.setStyles([a],null,m.errors,l),ps(this,i,m);const y=m.timelines.filter(S=>S.containsAnimation());if(y.length&&Object.keys(o).length){const S=y[y.length-1];S.allowOnlyTimelineStyles()||S.setStyles([o],null,m.errors,l)}return y.length?y.map(S=>S.buildKeyframes()):[bR(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const s=e.createSubContext(t.options),r=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,s,s.options);r!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let r=e.currentTimeline.currentTime;const a=null!=i.duration?Pc(i.duration):null,o=null!=i.delay?Pc(i.delay):null;return 0!==a&&t.forEach(l=>{const h=e.appendInstructionToTimeline(l,a,o);r=Math.max(r,h.duration+h.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),ps(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const r=t.options;if(r&&(r.params||r.delay)&&(s=e.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=yS);const a=Pc(r.delay);s.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>ps(this,a,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?Pc(t.options.delay):0;t.steps.forEach(a=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),ps(this,a,o),s=Math.max(s,o.currentTimeline.currentTime),i.push(o.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return uS(e.params?hS(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const r=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,r=i.duration,o=e.createSubContext().currentTimeline;o.easing=i.easing,t.styles.forEach(l=>{o.forwardTime((l.offset||0)*r),o.setStyles(l.styles,l.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(s+r),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},r=s.delay?Pc(s.delay):0;r&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=yS);let a=i;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=o.length;let l=null;o.forEach((h,f)=>{e.currentQueryIndex=f;const m=e.createSubContext(t.options,h);r&&m.delayNextStep(r),h===e.element&&(l=m.currentTimeline),ps(this,t.animation,m),m.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,m.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,r=t.timings,a=Math.abs(r.duration),o=a*(e.currentQueryTotal-1);let l=a*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=o-l;break;case"full":l=i.currentStaggerTime}const f=e.currentTimeline;l&&f.delayNextStep(l);const m=f.currentTime;ps(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-m+(s.startTime-i.currentTimeline.startTime)}}const yS={};class wR{constructor(t,e,i,s,r,a,o,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=r,this.errors=a,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new _S(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=Pc(i.duration)),null!=i.delay&&(s.delay=Pc(i.delay));const r=i.params;if(r){let a=s.params;a||(a=this.options.params={}),Object.keys(r).forEach(o=>{(!e||!a.hasOwnProperty(o))&&(a[o]=hS(r[o],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,r=new wR(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=yS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},r=new pne(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,r,a){let o=[];if(s&&o.push(this.element),t.length>0){t=(t=t.replace(une,"."+this._enterClassName)).replace(dne,"."+this._leaveClassName);let h=this._driver.query(this.element,t,1!=i);0!==i&&(h=i<0?h.slice(h.length+i,h.length):h.slice(0,i)),o.push(...h)}return!r&&0==o.length&&a.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class _S{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new _S(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Qa,this._currentKeyframe[e]=Qa}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&(this._previousKeyframe.easing=e);const r=s&&s.params||{},a=function(n,t){const e={};let i;return n.forEach(s=>{"*"===s?(i=i||Object.keys(t),i.forEach(r=>{e[r]=Qa})):tl(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(a).forEach(o=>{const l=hS(a[o],r,i);this._pendingStyles[o]=l,this._localTimelineStyles.hasOwnProperty(o)||(this._backFill[o]=this._globalTimelineStyles.hasOwnProperty(o)?this._globalTimelineStyles[o]:Qa),this._updateStyle(o,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],s=t._styleSummary[e];(!i||s.time>i.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((o,l)=>{const h=tl(o,!0);Object.keys(h).forEach(f=>{const m=h[f];"!"==m?t.add(f):m==Qa&&e.add(f)}),i||(h.offset=l/this.duration),s.push(h)});const r=t.size?dS(t.values()):[],a=e.size?dS(e.values()):[];if(i){const o=s[0],l=jh(o);o.offset=0,l.offset=1,s=[o,l]}return bR(this.element,s,r,a,this.duration,this.startTime,this.easing,!1)}}class pne extends _S{constructor(t,e,i,s,r,a,o=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],a=i+e,o=e/a,l=tl(t[0],!1);l.offset=0,r.push(l);const h=tl(t[0],!1);h.offset=M4(o),r.push(h);const f=t.length-1;for(let m=1;m<=f;m++){let y=tl(t[m],!1);y.offset=M4((e+y.offset*i)/a),r.push(y)}i=a,e=0,s="",t=r}return bR(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function M4(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class ER{}class mne extends ER{normalizePropertyName(t,e){return mR(t)}normalizeStyleValue(t,e,i,s){let r="";const a=i.toString().trim();if(vne[e]&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const o=i.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&s.push(`Please provide a CSS unit value for ${t}:${i}`)}return a+r}}const vne=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function I4(n,t,e,i,s,r,a,o,l,h,f,m,y){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:r,toState:i,toStyles:a,timelines:o,queriedElements:l,preStyleProps:h,postStyleProps:f,totalTime:m,errors:y}}const kR={};class O4{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function(n,t,e,i,s){return n.some(r=>r(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){const s=this._stateStyles["*"],r=this._stateStyles[t],a=s?s.buildStyles(e,i):{};return r?r.buildStyles(e,i):a}build(t,e,i,s,r,a,o,l,h,f){const m=[],y=this.ast.options&&this.ast.options.params||kR,k=this.buildStyles(i,o&&o.params||kR,m),D=l&&l.params||kR,T=this.buildStyles(s,D,m),R=new Set,O=new Map,U=new Map,L="void"===s,G={params:Object.assign(Object.assign({},y),D)},Y=f?[]:SR(t,e,this.ast.animation,r,a,k,T,G,h,m);let oe=0;if(Y.forEach(me=>{oe=Math.max(me.duration+me.delay,oe)}),m.length)return I4(e,this._triggerName,i,s,L,k,T,[],[],O,U,oe,m);Y.forEach(me=>{const ye=me.element,Be=fs(O,ye,{});me.preStyleProps.forEach(it=>Be[it]=!0);const vt=fs(U,ye,{});me.postStyleProps.forEach(it=>vt[it]=!0),ye!==e&&R.add(ye)});const ge=dS(R.values());return I4(e,this._triggerName,i,s,L,k,T,Y,ge,O,U,oe)}}class bne{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},s=jh(this.defaultParams);return Object.keys(t).forEach(r=>{const a=t[r];null!=a&&(s[r]=a)}),this.styles.styles.forEach(r=>{if("string"!=typeof r){const a=r;Object.keys(a).forEach(o=>{let l=a[o];l.length>1&&(l=hS(l,s,e));const h=this.normalizer.normalizePropertyName(o,e);l=this.normalizer.normalizeStyleValue(o,h,l,e),i[h]=l})}}),i}}class wne{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new bne(s.style,s.options&&s.options.params||{},i)}),R4(this.states,"true","1"),R4(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new O4(t,s,this.states))}),this.fallbackTransition=function(n,t,e){return new O4(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,o)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(a=>a.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function R4(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const kne=new vS;class Cne{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=yR(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,i){const s=t.element,r=f4(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(s,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],r=this._animations[t];let a;const o=new Map;if(r?(a=SR(this._driver,e,r,dR,oS,{},{},i,kne,s),a.forEach(f=>{const m=fs(o,f.element,{});f.postStyleProps.forEach(y=>m[y]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),a=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);o.forEach((f,m)=>{Object.keys(f).forEach(y=>{f[y]=this._driver.computeStyle(m,y,Qa)})});const h=el(a.map(f=>{const m=o.get(f.element);return this._buildPlayer(f,{},m)}));return this._playersById[t]=h,h.onDestroy(()=>this.destroy(t)),this.players.push(h),h}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,s){const r=sR(e,"","","");return iR(this._getPlayer(t),i,r,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const N4="ng-animate-queued",L4="ng-animate-disabled",B4=".ng-animate-disabled",Tne=[],$4={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xne={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qs="__ng_removed";class CR{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?t.value:t),i){const r=jh(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const Eg="void",AR=new CR(Eg);class Mne{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ys(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const r=fs(this._elementListeners,t,[]),a={name:e,phase:i,callback:s};r.push(a);const o=fs(this._engine.statesByElement,t,{});return o.hasOwnProperty(e)||(Ys(t,lS),Ys(t,lS+"-"+e),o[e]=AR),()=>{this._engine.afterFlush(()=>{const l=r.indexOf(a);l>=0&&r.splice(l,1),this._triggers[e]||delete o[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,s=!0){const r=this._getTrigger(e),a=new PR(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Ys(t,lS),Ys(t,lS+"-"+e),this._engine.statesByElement.set(t,o={}));let l=o[e];const h=new CR(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&h.absorbOptions(l.options),o[e]=h,l||(l=AR),h.value!==Eg&&l.value===h.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const r=e[s];if(!t.hasOwnProperty(r)||n[r]!==t[r])return!1}return!0}(l.params,h.params)){const D=[],T=r.matchStyles(l.value,l.params,D),R=r.matchStyles(h.value,h.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{Dc(t,T),Xr(t,R)})}return}const y=fs(this._engine.playersByElement,t,[]);y.forEach(D=>{D.namespaceId==this.id&&D.triggerName==e&&D.queued&&D.destroy()});let S=r.matchTransition(l.value,h.value,t,h.params),k=!1;if(!S){if(!s)return;S=r.fallbackTransition,k=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:S,fromState:l,toState:h,player:a,isFallbackTransition:k}),k||(Ys(t,N4),a.onStart(()=>{Wh(t,N4)})),a.onDone(()=>{let D=this.players.indexOf(a);D>=0&&this.players.splice(D,1);const T=this._engine.playersByElement.get(t);if(T){let R=T.indexOf(a);R>=0&&T.splice(R,1)}}),this.players.push(a),y.push(a),a}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,cS,!0);i.forEach(s=>{if(s[Qs])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(a=>a.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const r=this._engine.statesByElement.get(t);if(r){const a=[];if(Object.keys(r).forEach(o=>{if(this._triggers[o]){const l=this.trigger(t,o,Eg,s);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&el(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(r=>{const a=r.name;if(s.has(a))return;s.add(a);const l=this._triggers[a].fallbackTransition,h=i[a]||AR,f=new CR(Eg),m=new PR(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:l,fromState:h,toState:f,player:m,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const r=i.players.length?i.playersByQueriedElement.get(t):[];if(r&&r.length)s=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const r=t[Qs];(!r||r===$4)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ys(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const r=i.element,a=this._elementListeners.get(r);a&&a.forEach(o=>{if(o.name==i.triggerName){const l=sR(r,i.triggerName,i.fromState.value,i.toState.value);l._data=t,iR(i.player,o.phase,l,o.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const r=i.transition.ast.depCount,a=s.transition.ast.depCount;return 0==r||0==a?r-a:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Ine{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Mne(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let s=!1;for(let r=i;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const s=Object.keys(i);for(let r=0;r<s.length;r++){const a=i[s[r]].namespaceId;if(a){const o=this._fetchNamespace(a);o&&e.add(o)}}}return e}trigger(t,e,i,s){if(bS(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!bS(e))return;const r=e[Qs];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ys(t,L4)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Wh(t,L4))}removeNode(t,e,i,s){if(bS(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,i,s){this.collectedLeaveElements.push(e),e[Qs]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,s,r){return bS(e)?this._fetchNamespace(t).listen(e,i,s,r):()=>{}}_buildInstruction(t,e,i,s,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,cS,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,fR,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return el(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Qs];if(e&&e.setForRemoval){if(t[Qs]=$4,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,B4)&&this.markElementAsDisabled(t,!1),this.driver.query(t,B4,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ys(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?el(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new vS,s=[],r=new Map,a=[],o=new Map,l=new Map,h=new Map,f=new Set;this.disabledNodes.forEach(X=>{f.add(X);const re=this.driver.query(X,".ng-animate-queued",!0);for(let ve=0;ve<re.length;ve++)f.add(re[ve])});const m=this.bodyNode,y=Array.from(this.statesByElement.keys()),S=F4(y,this.collectedEnterElements),k=new Map;let D=0;S.forEach((X,re)=>{const ve=dR+D++;k.set(re,ve),X.forEach(Me=>Ys(Me,ve))});const T=[],R=new Set,O=new Set;for(let X=0;X<this.collectedLeaveElements.length;X++){const re=this.collectedLeaveElements[X],ve=re[Qs];ve&&ve.setForRemoval&&(T.push(re),R.add(re),ve.hasAnimation?this.driver.query(re,".ng-star-inserted",!0).forEach(Me=>R.add(Me)):O.add(re))}const U=new Map,L=F4(y,Array.from(R));L.forEach((X,re)=>{const ve=oS+D++;U.set(re,ve),X.forEach(Me=>Ys(Me,ve))}),t.push(()=>{S.forEach((X,re)=>{const ve=k.get(re);X.forEach(Me=>Wh(Me,ve))}),L.forEach((X,re)=>{const ve=U.get(re);X.forEach(Me=>Wh(Me,ve))}),T.forEach(X=>{this.processLeaveNode(X)})});const G=[],Y=[];for(let X=this._namespaceList.length-1;X>=0;X--)this._namespaceList[X].drainQueuedTransitions(e).forEach(ve=>{const Me=ve.player,yt=ve.element;if(G.push(Me),this.collectedEnterElements.length){const Pi=yt[Qs];if(Pi&&Pi.setForMove)return void Me.destroy()}const oi=!m||!this.driver.containsElement(m,yt),Rt=U.get(yt),fi=k.get(yt),se=this._buildInstruction(ve,i,fi,Rt,oi);if(se.errors&&se.errors.length)Y.push(se);else{if(oi)return Me.onStart(()=>Dc(yt,se.fromStyles)),Me.onDestroy(()=>Xr(yt,se.toStyles)),void s.push(Me);if(ve.isFallbackTransition)return Me.onStart(()=>Dc(yt,se.fromStyles)),Me.onDestroy(()=>Xr(yt,se.toStyles)),void s.push(Me);se.timelines.forEach(Pi=>Pi.stretchStartingKeyframe=!0),i.append(yt,se.timelines),a.push({instruction:se,player:Me,element:yt}),se.queriedElements.forEach(Pi=>fs(o,Pi,[]).push(Me)),se.preStyleProps.forEach((Pi,ms)=>{const On=Object.keys(Pi);if(On.length){let Yn=l.get(ms);Yn||l.set(ms,Yn=new Set),On.forEach(il=>Yn.add(il))}}),se.postStyleProps.forEach((Pi,ms)=>{const On=Object.keys(Pi);let Yn=h.get(ms);Yn||h.set(ms,Yn=new Set),On.forEach(il=>Yn.add(il))})}});if(Y.length){const X=[];Y.forEach(re=>{X.push(`@${re.triggerName} has failed due to:\n`),re.errors.forEach(ve=>X.push(`- ${ve}\n`))}),G.forEach(re=>re.destroy()),this.reportError(X)}const oe=new Map,ge=new Map;a.forEach(X=>{const re=X.element;i.has(re)&&(ge.set(re,re),this._beforeAnimationBuild(X.player.namespaceId,X.instruction,oe))}),s.forEach(X=>{const re=X.element;this._getPreviousPlayers(re,!1,X.namespaceId,X.triggerName,null).forEach(Me=>{fs(oe,re,[]).push(Me),Me.destroy()})});const me=T.filter(X=>U4(X,l,h)),ye=new Map;H4(ye,this.driver,O,h,Qa).forEach(X=>{U4(X,l,h)&&me.push(X)});const vt=new Map;S.forEach((X,re)=>{H4(vt,this.driver,new Set(X),l,"!")}),me.forEach(X=>{const re=ye.get(X),ve=vt.get(X);ye.set(X,Object.assign(Object.assign({},re),ve))});const it=[],Et=[],Ft={};a.forEach(X=>{const{element:re,player:ve,instruction:Me}=X;if(i.has(re)){if(f.has(re))return ve.onDestroy(()=>Xr(re,Me.toStyles)),ve.disabled=!0,ve.overrideTotalTime(Me.totalTime),void s.push(ve);let yt=Ft;if(ge.size>1){let Rt=re;const fi=[];for(;Rt=Rt.parentNode;){const se=ge.get(Rt);if(se){yt=se;break}fi.push(Rt)}fi.forEach(se=>ge.set(se,yt))}const oi=this._buildAnimation(ve.namespaceId,Me,oe,r,vt,ye);if(ve.setRealPlayer(oi),yt===Ft)it.push(ve);else{const Rt=this.playersByElement.get(yt);Rt&&Rt.length&&(ve.parentPlayer=el(Rt)),s.push(ve)}}else Dc(re,Me.fromStyles),ve.onDestroy(()=>Xr(re,Me.toStyles)),Et.push(ve),f.has(re)&&s.push(ve)}),Et.forEach(X=>{const re=r.get(X.element);if(re&&re.length){const ve=el(re);X.setRealPlayer(ve)}}),s.forEach(X=>{X.parentPlayer?X.syncPlayerEvents(X.parentPlayer):X.destroy()});for(let X=0;X<T.length;X++){const re=T[X],ve=re[Qs];if(Wh(re,oS),ve&&ve.hasAnimation)continue;let Me=[];if(o.size){let oi=o.get(re);oi&&oi.length&&Me.push(...oi);let Rt=this.driver.query(re,fR,!0);for(let fi=0;fi<Rt.length;fi++){let se=o.get(Rt[fi]);se&&se.length&&Me.push(...se)}}const yt=Me.filter(oi=>!oi.destroyed);yt.length?Lne(this,re,yt):this.processLeaveNode(re)}return T.length=0,it.forEach(X=>{this.players.push(X),X.onDone(()=>{X.destroy();const re=this.players.indexOf(X);this.players.splice(re,1)}),X.play()}),it}elementContainsData(t,e){let i=!1;const s=e[Qs];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,r){let a=[];if(e){const o=this.playersByQueriedElement.get(t);o&&(a=o)}else{const o=this.playersByElement.get(t);if(o){const l=!r||r==Eg;o.forEach(h=>{h.queued||!l&&h.triggerName!=s||a.push(h)})}}return(i||s)&&(a=a.filter(o=>!(i&&i!=o.namespaceId||s&&s!=o.triggerName))),a}_beforeAnimationBuild(t,e,i){const r=e.element,a=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const h=l.element,f=h!==r,m=fs(i,h,[]);this._getPreviousPlayers(h,f,a,o,e.toState).forEach(S=>{const k=S.getRealPlayer();k.beforeDestroy&&k.beforeDestroy(),S.destroy(),m.push(S)})}Dc(r,e.fromStyles)}_buildAnimation(t,e,i,s,r,a){const o=e.triggerName,l=e.element,h=[],f=new Set,m=new Set,y=e.timelines.map(k=>{const D=k.element;f.add(D);const T=D[Qs];if(T&&T.removedBeforeQueried)return new Gh(k.duration,k.delay);const R=D!==l,O=function(n){const t=[];return q4(n,t),t}((i.get(D)||Tne).map(oe=>oe.getRealPlayer())).filter(oe=>!!oe.element&&oe.element===D),U=r.get(D),L=a.get(D),G=f4(0,this._normalizer,0,k.keyframes,U,L),Y=this._buildPlayer(k,G,O);if(k.subTimeline&&s&&m.add(D),R){const oe=new PR(t,o,D);oe.setRealPlayer(Y),h.push(oe)}return Y});h.forEach(k=>{fs(this.playersByQueriedElement,k.element,[]).push(k),k.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,k.element,k))}),f.forEach(k=>Ys(k,S4));const S=el(y);return S.onDestroy(()=>{f.forEach(k=>Wh(k,S4)),Xr(l,e.toStyles)}),m.forEach(k=>{fs(s,k,[]).push(S)}),S}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Gh(t.duration,t.delay)}}class PR{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Gh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>iR(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){fs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function bS(n){return n&&1===n.nodeType}function V4(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function H4(n,t,e,i,s){const r=[];e.forEach(l=>r.push(V4(l)));const a=[];i.forEach((l,h)=>{const f={};l.forEach(m=>{const y=f[m]=t.computeStyle(h,m,s);(!y||0==y.length)&&(h[Qs]=xne,a.push(h))}),n.set(h,f)});let o=0;return e.forEach(l=>V4(l,r[o++])),a}function F4(n,t){const e=new Map;if(n.forEach(o=>e.set(o,[])),0==t.length)return e;const s=new Set(t),r=new Map;function a(o){if(!o)return 1;let l=r.get(o);if(l)return l;const h=o.parentNode;return l=e.has(h)?h:s.has(h)?1:a(h),r.set(o,l),l}return t.forEach(o=>{const l=a(o);1!==l&&e.get(l).push(o)}),e}const SS="$$classes";function Ys(n,t){if(n.classList)n.classList.add(t);else{let e=n[SS];e||(e=n[SS]={}),e[t]=!0}}function Wh(n,t){if(n.classList)n.classList.remove(t);else{let e=n[SS];e&&delete e[t]}}function Lne(n,t,e){el(e).onDone(()=>n.processLeaveNode(t))}function q4(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof ZF?q4(i.players,t):t.push(i)}}function U4(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(r=>s.add(r)):t.set(n,i),e.delete(n),!0}class wS{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new Ine(t,e,i),this._timelineEngine=new Cne(t,e,i),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(t,e,i,s,r){const a=t+"-"+s;let o=this._triggerCache[a];if(!o){const l=[],h=yR(this._driver,r,l);if(l.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);o=function(n,t,e){return new wne(n,t,e)}(s,h,this._normalizer),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(e,s,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i,s){this._transitionEngine.removeNode(t,e,s||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[r,a]=p4(i);this._timelineEngine.command(r,e,a,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,r){if("@"==i.charAt(0)){const[a,o]=p4(i);return this._timelineEngine.listen(a,e,o,r)}return this._transitionEngine.listen(t,e,i,s,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function G4(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=DR(t[0]),t.length>1&&(i=DR(t[t.length-1]))):t&&(e=DR(t)),e||i?new Vne(n,e,i):null}let Vne=(()=>{class n{constructor(e,i,s){this._element=e,this._startStyles=i,this._endStyles=s,this._state=0;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Xr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xr(this._element,this._initialStyles),this._endStyles&&(Xr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Dc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Dc(this._element,this._endStyles),this._endStyles=null),Xr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function DR(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const s=e[i];Hne(s)&&(t=t||{},t[s]=n[s])}return t}function Hne(n){return"display"===n||"position"===n}const j4="animation",W4="animationend";class Une{constructor(t,e,i,s,r,a,o){this._element=t,this._name=e,this._duration=i,this._delay=s,this._easing=r,this._fillMode=a,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(n,t){const e=xR(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),ES(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Q4(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){z4(this._element,this._name,"paused")}resume(){z4(this._element,this._name,"running")}setPosition(t){const e=K4(this._element,this._name);this._position=t*this._duration,ES(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Q4(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=xR(n,"").split(","),s=TR(i,t);s>=0&&(i.splice(s,1),ES(n,"",i.join(",")))}(this._element,this._name))}}function z4(n,t,e){ES(n,"PlayState",e,K4(n,t))}function K4(n,t){const e=xR(n,"");return e.indexOf(",")>0?TR(e.split(","),t):TR([e],t)}function TR(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function Q4(n,t,e){e?n.removeEventListener(W4,t):n.addEventListener(W4,t)}function ES(n,t,e,i){const s=j4+t;if(null!=i){const r=n.style[s];if(r.length){const a=r.split(",");a[i]=e,e=a.join(",")}}n.style[s]=e}function xR(n,t){return n.style[j4+t]||""}class Y4{constructor(t,e,i,s,r,a,o,l){this.element=t,this.keyframes=e,this.animationName=i,this._duration=s,this._delay=r,this._finalStyles=o,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=s+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Une(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:vR(this.element,i))})}this.currentSnapshot=t}}class Qne extends Gh{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=y4(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Z4{constructor(){this._count=0}validateStyleProperty(t){return oR(t)}matchesElement(t,e){return lR(t,e)}containsElement(t,e){return cR(t,e)}query(t,e,i){return uR(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(o=>y4(o));let s=`@keyframes ${e} {\n`,r="";i.forEach(o=>{r=" ";const l=parseFloat(o.offset);s+=`${r}${100*l}% {\n`,r+=" ",Object.keys(o).forEach(h=>{const f=o[h];switch(h){case"offset":return;case"easing":return void(f&&(s+=`${r}animation-timing-function: ${f};\n`));default:return void(s+=`${r}${h}: ${f};\n`)}}),s+=`${r}}\n`}),s+="}\n";const a=document.createElement("style");return a.textContent=s,a}animate(t,e,i,s,r,a=[],o){const l=a.filter(T=>T instanceof Y4),h={};A4(i,s)&&l.forEach(T=>{let R=T.currentSnapshot;Object.keys(R).forEach(O=>h[O]=R[O])});const f=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(s=>{"offset"==s||"easing"==s||(t[s]=i[s])})}),t}(e=P4(t,e,h));if(0==i)return new Qne(t,f);const m="gen_css_kf_"+this._count++,y=this.buildKeyframeElement(t,m,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(y);const k=G4(t,e),D=new Y4(t,e,m,i,s,r,f,k);return D.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(y)),D}}class eq{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:vR(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class ese{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(tq().toString()),this._cssKeyframesDriver=new Z4}validateStyleProperty(t){return oR(t)}matchesElement(t,e){return lR(t,e)}containsElement(t,e){return cR(t,e)}query(t,e,i){return uR(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,s,r,a=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,s,r,a);const f={duration:i,delay:s,fill:0==s?"both":"forwards"};r&&(f.easing=r);const m={},y=a.filter(k=>k instanceof eq);A4(i,s)&&y.forEach(k=>{let D=k.currentSnapshot;Object.keys(D).forEach(T=>m[T]=D[T])});const S=G4(t,e=P4(t,e=e.map(k=>tl(k,!1)),m));return new eq(t,e,f,S)}}function tq(){return d4()&&Element.prototype.animate||{}}let ise=(()=>{class n extends KF{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Jt.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?QF(e):e;return iq(this._renderer,null,i,"register",[s]),new nse(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(F(ec),F(et))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();class nse extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new sse(this._id,t,e||{},this._renderer)}}class sse{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return iq(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function iq(n,t,e,i,s){return n.setProperty(t,`@@${e}:${i}`,s)}const nq="@.disabled";let rse=(()=>{class n{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(r,a)=>{a&&a.parentNode(r)&&a.removeChild(r.parentNode,r)}}createRenderer(e,i){const r=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let f=this._rendererCache.get(r);return f||(f=new sq("",r,this.engine),this._rendererCache.set(r,f)),f}const a=i.id,o=i.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const l=f=>{Array.isArray(f)?f.forEach(l):this.engine.registerTrigger(a,o,e,f.name,f)};return i.data.animation.forEach(l),new ase(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){e>=0&&e<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[a,o]=r;a(o)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(F(ec),F(wS),F(Qe))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();class sq{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==nq?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ase extends sq{constructor(t,e,i,s){super(e,i,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==nq?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let r=e.substr(1),a="";return"@"!=r.charAt(0)&&([r,a]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,s,r,a,o=>{this.factory.scheduleListenerCallback(o._data||-1,i,o)})}return this.delegate.listen(t,e,i)}}let cse=(()=>{class n extends wS{constructor(e,i,s){super(e.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(F(et),F(hR),F(ER))},n.\u0275prov=he({token:n,factory:n.\u0275fac}),n})();const rq=new we("AnimationModuleType"),aq=[{provide:KF,useClass:ise},{provide:ER,useFactory:function(){return new mne}},{provide:wS,useClass:cse},{provide:ec,useFactory:function(n,t,e){return new rse(n,t,e)},deps:[c_,wS,Qe]}],oq=[{provide:hR,useFactory:function(){return"function"==typeof tq()?new ese:new Z4}},{provide:rq,useValue:"BrowserAnimations"},...aq],lq=[{provide:hR,useClass:_4},{provide:rq,useValue:"NoopAnimations"},...aq];let fse=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?lq:oq}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ii({type:n}),n.\u0275inj=zt({providers:oq,imports:[r0]}),n})(),pse=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ii({type:n,bootstrap:[Uie]}),n.\u0275inj=zt({providers:[],imports:[[r0,gz,j3,mz,fse,Qee,_ie]]}),n})();(function(){if(YB)throw new Error("Cannot enable prod mode after platform setup.");QB=!1})(),y9().bootstrapModule(pse).catch(n=>console.error(n))}},Qt=>{Qt(Qt.s=884)}]);