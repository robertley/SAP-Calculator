"use strict";(self.webpackChunksap_calculator=self.webpackChunksap_calculator||[]).push([[792],{76(O,S,i){i.d(S,{t:()=>_});var P=i(46200),c=i(5615),A=i(23770);class _ extends P.i{logService;abilityService;name="Farmer Mouse";tier=1;pack="Custom";attack=2;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"FarmerMouseAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,l=this.owner,u=l.parent.nearestPetsBehind(this.level,l).pets;if(0!==u.length){for(const g of u)g.givePetEquipment(new A.D),this.logService.createLog({message:`${l.name} fed ${g.name} Corncob.`,type:"ability",player:l.parent,tiger:n,pteranodon:a});this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},242(O,S,i){i.d(S,{T:()=>c});var P=i(22097);class c extends P.${name="Kiwifruit";equipmentClass="shop";tier=2}},590(O,S,i){i.d(S,{A:()=>A});var P=i(50336);const A=function c(_,v){var e=this.__data__,t=(0,P.A)(e,_);return t<0?(++this.size,e.push([_,v])):e[t][1]=v,this}},607(O,S,i){i.d(S,{Y:()=>c});var P=i(22097);class c extends P.${name="Crisp";equipmentClass="ailment-other"}},736(O,S,i){i.d(S,{W:()=>A,k:()=>_});var P=i(50873),c=i(5615);class A extends P.L{name="Treasure Map";tier=3}class _ extends c.T{logService;constructor(e,t){super({name:"TreasureMapAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){}copy(e){return new _(e,this.logService)}}},890(O,S,i){i.d(S,{K:()=>v,_:()=>_});var P=i(27852),c=i(50873),A=i(5615);class _ extends c.L{logService;toyService;abilityService;name="Evil Book";tier=5;emptyFromSpace(t,n,a,l){let r={attack:6*a,health:6*a},g=new P.v(this.logService,this.abilityService,this.parent,r.health,r.attack,0,1==a?0:2==a?2:5),f=`${this.name} spawned Great One (${r.attack}/${r.health}).`;this.parent.summonPet(g,0).success&&this.logService.createLog({message:f,type:"ability",player:this.parent,puma:n}),this.used=!0}constructor(t,n,a,l,r){super(t,n,l,r),this.logService=t,this.toyService=n,this.abilityService=a}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"EvilBookAbility",owner:t,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:l=>null==this.owner.parent.pet0,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l}=t,u=this.owner;let g={attack:6*this.level,health:6*this.level},f=new P.v(this.logService,this.abilityService,u.parent,g.health,g.attack,0,this.minExpForLevel),D=u.parent.summonPet(f,0);D.success&&this.logService.createLog({message:`Evil Book Ability spawned Great One (${g.attack}/${g.health}).`,type:"ability",player:u.parent,tiger:l,randomEvent:D.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},904(O,S,i){i.d(S,{I:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Weasel";tier=3;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"WeaselAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;this.logService.createLog({message:`${r.name} gained ${this.level} Gold.`,type:"ability",player:r.parent,tiger:a,pteranodon:l}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},945(O,S,i){i.d(S,{Y:()=>c});var P=i(50873);class c extends P.L{name="Lunchbox";tier=1;startOfBattle(_,v){const e=_?.turnNumber??1;for(let t=0;t<e;t++){const n=this.parent.getRandomLivingPet();if(!n.pet)return;const a=n.pet,r=a.parent!==this.parent?2:1;a.increaseAttack(r),a.increaseHealth(r),this.logService.createLog({message:`${this.name} fed ${a.name} +${r}/+${r}.`,type:"ability",player:this.parent,puma:v,randomEvent:n.random})}}}},1029(O,S,i){i.d(S,{d:()=>A});var P=i(89407),c=i(75970);class A extends P.r{summonPetInFront(v,e){return(0,c.DQ)(this,v,e,this.logService,this.abilityService,this.gameService)}summonPetBehind(v,e){return(0,c.zq)(this,v,e,this.logService,this.abilityService,this.gameService)}}},1075(O,S,i){i.d(S,{V:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Pancakes";tier=6;equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"PancakesAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;for(let n of t.parent.petArray){if(t==n)continue;let a=2*this.equipment.multiplier,l=2*this.equipment.multiplier;n.increaseAttack(a),n.increaseHealth(l),this.logService.createLog({message:`${n.name} gained ${a} attack and ${l} health (Pancakes)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}}},1152(O,S,i){function P(a){const l=a.position??a.savedPosition;if(null==l)return[];const r=[],u=a.parent.getPetAtPosition(l-1),g=a.parent.getPetAtPosition(l+1);return u&&u.alive&&r.push(u),g&&g.alive&&r.push(g),r}function c(a,l){return!(a.equipment&&!a.equipment.equipmentClass?.startsWith("ailment")||a.equipment?.name===l)}function A(a,l,r,u,g,f={}){a.createLog({message:r,type:"ability",player:l.parent,tiger:u,pteranodon:g,sourcePet:l,...f})}function _(a,l,r){return l?r?r(a,l)??{random:!1}:a.parent.getSpecificPet(a,l):{random:!1}}function v(a,l){if(!l)return{random:!1};const r=a.parent.getSpecificPet(a,l),u=r.pet;return u&&u.alive?r:{random:r.random}}i.d(S,{LZ:()=>v,MZ:()=>P,Re:()=>n,Uj:()=>_,lK:()=>t,rv:()=>A,zo:()=>c});const t=v,n=function e(a,l,r){return!(!l||r?.excludeOwner&&l===a||!v(a,l).pet)}},1178(O,S,i){i.d(S,{A:()=>v});var P=i(77901),c=i(28010),A=i(35776);const v=function _(e){return"function"!=typeof e.constructor||(0,A.A)(e)?{}:(0,P.A)((0,c.A)(e))}},1257(O,S,i){i.d(S,{C:()=>Gt});var P=i(22382),c=i(41752),A=i(78440),_=i(58880),v=i(16306),e=i(23586),t=i(62332),n=i(60892),a=i(89043),l=i(96889),r=i(62983),u=i(49999),g=i(88988),f=i(61753),D=i(7023),k=i(57788),L=i(92060),F=i(18155),j=i(95365),ee=i(55649),J=i(63981),V=i(55984),ie=i(26273),oe=i(904),ce=i(93348),ve=i(42824),Ee=i(72557),Te=i(81106),ke=i(29823),de=i(95015),Se=i(34443),Be=i(27207),Ne=i(61950),Ue=i(43125),lt=i(1913),it=i(14829),Ke=i(3725),qe=i(50119),_t=i(40970),pt=i(46021),tt=i(55853),gt=i(51876),at=i(44876),wt=i(65418),ut=i(49517),Ge=i(48955),Ot=i(66391),Qt=i(84371),mt=i(36466),Yt=i(26302),Et=i(42798),ge=i(69359),Le=i(83796),Ve=i(98146),Fe=i(38354),ot=i(54515),Ut=i(52164),Kt=i(63972),qt=i(57967),Vt=i(6368);const Gt={Bulldog:P.s,Groundhog:c.G,"Cone Snail":A.r,Goose:_.w,Lemming:t.E,"Pied Tamarin":v.$,Opossum:a.B,Silkmoth:e.C,Magpie:n.C,"Hercules Beetle":l.Z,Stoat:r.U,"Black Necked Stilt":u.O,Squid:g.P,"Sea Urchin":f.p,"Door Head Ant":D.a,Lizard:k.r,"Sea Turtle":L.y,"African Penguin":F.t,"Musk Ox":ee.Y,Flea:J.Z,"Royal Flycatcher":V.p,"Surgeon Fish":ie.w,Weasel:oe.I,Guineafowl:ce.w,"Betta Fish":ve.L,Meerkat:j.s,"Flying Fish":Ee.G,Baboon:Te._,Osprey:ke.R,Manatee:de.Y,Cuttlefish:Se.K,"Egyptian Vulture":Be.T,"Saiga Antelope":Ne.m,Sealion:Ue.Y,Vaquita:lt.g,Slug:it.M,"Poison Dart Frog":Ke.E,"Secretary Bird":tt.J,"Manta Ray":_t.s,Macaque:gt.u,Nyala:at.C,"Nurse Shark":wt.f,"Fire Ant":Ot.i,Cockatoo:pt.w,"Blue Ringed Octopus":Qt.L,Crane:mt.M,Emu:Yt.e,Wildebeest:Et.f,"Highland Cow":ge.x,Catfish:Le.r,Warthog:Fe.n,Cobra:ot.w,"Grizzly Bear":Ut.g,"German Shepherd":Kt.a,"Bird of Paradise":qt.G,Oyster:Vt.r,"Beluga Whale":ut.I,Falcon:qe.e,Pteranodon:Ve.D,Wolf:Ge.t}},1277(O,S,i){i.d(S,{y:()=>_});var P=i(46200),c=i(5615),A=i(60489);class _ extends P.i{logService;abilityService;name="Cricket";tier=1;pack="Turtle";health=3;attack=1;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"CricketAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner,g=this.level;let L=new A.y(this.logService,this.abilityService,u.parent,g,g,null,this.minExpForLevel),F=u.parent.summonPet(L,u.savedPosition,!1,u);F.success&&this.logService.createLog({message:`${u.name} spawned Zombie Cricket Level ${g}`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:F.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},1383(O,S,i){i.d(S,{C:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Poodle";tier=6;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PoodleAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:n,pteranodon:a}=e,l=[];for(let r=1;r<=6;r++){const u=t.parent.petArray.find(f=>f&&f.alive&&f!==t&&f.tier===r);if(!u)continue;const g=this.level;u.increaseAttack(g),u.increaseHealth(g),l.push(u)}if(l.length>0){const r=l.map(u=>u.name).join(", ");this.logService.createLog({message:`${t.name} buffed ${r} (+${this.level}/+${this.level}) at end of turn.`,type:"ability",player:t.parent,tiger:n,pteranodon:a})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},1398(O,S,i){i.d(S,{H:()=>A});var P=i(50873);i(5615);class A extends P.L{name="Magic Carpet";tier=2;friendSummoned(e,t,n,a){this.logService.createLog({message:`${this.name} gave ${t.name} ${a} attack.`,type:"ability",player:this.parent,puma:n}),t.increaseAttack(a)}}},1406(O,S,i){i.d(S,{U:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Caramel";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"CaramelAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;let n=t.parent.petArray.filter(u=>u.alive&&"Caramel"===u.equipment?.name);if(0===n.length)return;let a=3*n.length,l=t.parent.opponent.getHighestHealthPet(),r=l.pet;if(null!=r){t.snipePet(r,a,l.random,!1,!1,!0,!1);for(let u of n)u.removePerk(),this.logService.createLog({message:`${u.name} lost Caramel equipment`,type:"ability",player:t.parent,tiger:!1})}}}},1689(O,S,i){i.d(S,{S:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Fairy Dust";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"FairyDustAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,condition:()=>null==this.owner.parent.pet0,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;let a=2*this.equipment.multiplier;this.logService.createLog({message:`${t.name} pushed itself to the front and gained ${a} mana(Fairy Dust)${this.equipment.multiplierMessage}.`,type:"ability",player:t.parent}),t.parent.pushPetToFront(t,!0),t.increaseMana(a),t.removePerk()}}},1728(O,S,i){i.d(S,{c:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Tand and Tand";tier=4;pack="Custom";hidden=!0;attack=1;health=1;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},1744(O,S,i){i.d(S,{w:()=>c});var P=i(47868);let c=(()=>{class A{gameApi;constructor(){}init(v,e){this.gameApi={player:v,opponent:e}}setTierGroupPets(v,e){null!=v&&(this.gameApi.playerPetPool=v),null!=e&&(this.gameApi.opponentPetPool=e)}setPreviousShopTier(v){this.gameApi.previousShopTier=v}setTurnNumber(v){this.gameApi.turnNumber=v}setGoldSpent(v,e){null!=v&&(this.gameApi.playerGoldSpent=v),null!=e&&(this.gameApi.opponentGoldSpent=e)}static \u0275fac=function(e){return new(e||A)};static \u0275prov=P.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},1785(O,S,i){i.d(S,{q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Mantis Shrimp";tier=6;pack="Puppy";attack=9;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MantisShrimpAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.opponent;for(let g=0;g<this.level;g++){let f=u.getFurthestUpPet(r),D=f.pet;if(null==D)return;r.snipePet(D,10,f.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},1827(O,S,i){i.d(S,{A:()=>A});var P=i(84746);const A=function c(_,v,e){"__proto__"==v&&P.A?(0,P.A)(_,v,{configurable:!0,enumerable:!0,value:e,writable:!0}):_[v]=e}},1860(O,S,i){i.d(S,{A:()=>_});var P=i(17133),c="object"==typeof self&&self&&self.Object===Object&&self;const _=P.A||c||Function("return this")()},1874(O,S,i){i.d(S,{_:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Mana Hound";tier=3;pack="Unicorn";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ManaHoundAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:a}=e,r=this.owner;let g;if(g=r.parent==t.player?t.playerRollAmount:t.opponentRollAmount,g=Math.max(0,Math.min(g??0,3)),0===g)return;let f=r.parent.nearestPetsAhead(1,r);if(0===f.pets.length)return;let D=f.pets[0],k=g*this.level*2;this.logService.createLog({message:`${r.name} gave ${D.name} ${k} mana.`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}),D.increaseMana(k),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},1913(O,S,i){i.d(S,{g:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Vaquita";tier=4;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"VaquitaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{pteranodon:l}=e,r=this.owner;let u=Math.max(Math.floor(.5*this.level*r.parent.trumpets),4*this.level);const g=r.parent.resolveTrumpetGainTarget(r);g.player.gainTrumpets(u,r,l,void 0,void 0,g.random),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},2042(O,S,i){i.d(S,{z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Ghost Kitten";tier=2;pack="Unicorn";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"GhostKittenAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){}copy(e){return new _(e,this.logService,this.abilityService)}}},2145(O,S,i){i.d(S,{P:()=>c});const c=(()=>{function A(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return A.prototype=Object.create(Error.prototype),A})()},2375(O,S,i){i.d(S,{_:()=>c});var P=i(22097);class c extends P.${name="Peanut Butter";equipmentClass="attack";tier=7;power=0;uses=1;originalUses=1}},2525(O,S,i){i.d(S,{_:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Cow";tier=5;pack="Turtle";attack=4;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"CowAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} replaced shop food with two free ${1===this.level?"Milk":2===this.level?"Better Milk":"Best Milk"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},2641(O,S,i){i.d(S,{E:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Lynx";tier=4;pack="Custom";attack=5;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Lynx Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,l=a.parent.petArray.reduce((g,f)=>g+(f?.level??0),0);if(l<=0)return void this.triggerTigerExecution(e);const r=this.level,u=[];for(let g=0;g<r;g++){const f=a.parent.opponent.getRandomPet(u,!1,!1,!1,a);if(!f.pet)break;u.push(f.pet),a.snipePet(f.pet,l,f.random)}this.logService.createLog({message:`${a.name} dealt ${l} damage to ${u.length} enemy${1===u.length?"":"ies"}.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},2730(O,S,i){i.d(S,{$:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Eggplant";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"EggplantAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;let n=this.equipment.multiplier;for(let a=0;a<n;a++){let l=t.parent.opponent,r=l.getPet(t.position);if(null==r)return;this.logService.createLog({message:`${t.name} pushed ${r.name} 1 space forward. (Eggplant)${a>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent}),l.pushPet(r,1)}}}},3043(O,S,i){i.d(S,{A:()=>A});var P=i(56689);const A=function c(_,v){return(0,P.A)(v,function(e){return _[e]})}},3057(O,S,i){i.d(S,{B:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="African Wild Dog";tier=1;pack="Danger";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AfricanWildDogAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let g,u=r.parent.opponent.getFurthestUpPet(r);if(null!=u.pet){if(g=u.random?u.pet:u.pet?.petBehind(),g){let f=3*this.level;r.jumpAttackPrep(g),r.jumpAttack(g,a,f,u.random)}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},3129(O,S,i){i.d(S,{X:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;abilityService;petService;name="Seaweed";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService,this.petService))};constructor(e,t,n){super(),this.logService=e,this.abilityService=t,this.petService=n}}class _ extends c.T{equipment;logService;petService;constructor(e,t,n,a){super({name:"SeaweedAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:l=>{this.executeAbility(l)}}),this.equipment=t,this.logService=n,this.petService=a}executeAbility(e){const t=this.owner;let n=this.petService.createPet({name:"Baby Urchin",attack:t.attack,health:t.health,mana:t.mana,exp:t.exp,equipment:null},t.parent);this.logService.createLog({message:`${t.name} transformed into ${n.name} (Seaweed)`,type:"equipment",player:t.parent}),t.parent.transformPet(t,n)}}},3269(O,S,i){i.d(S,{D:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Behemoth";tier=6;pack="Unicorn";attack=12;health=12;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BehemothAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){}copy(e){return new _(e,this.logService,this.abilityService)}}},3273(O,S,i){i.d(S,{o:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Badger";tier=3;pack="Turtle";health=3;attack=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BadgerAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=Math.floor(r.attack*(.5*this.level)),g=r.parent.nearestPetsBehind(1,r);g.pets.length>0&&r.snipePet(g.pets[0],u,g.random,a,l);let f=r.parent.nearestPetsAhead(1,r,void 0,!0);f.pets.length>0&&r.snipePet(f.pets[0],u,f.random,a,l),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},3279(O,S,i){i.d(S,{D:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Nest";tier=1;pack="Puppy";hidden=!0;attack=2;health=3;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},3332(O,S,i){i.d(S,{s:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Orca";tier=6;pack="Star";attack=5;health=7;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,l,r,u,f,D)}}class _ extends c.T{logService;abilityService;petService;constructor(e,t,n,a){super({name:"OrcaAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=t,this.abilityService=n,this.petService=a}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;for(let u=0;u<this.level;u++){let g=this.petService.getRandomFaintPet(r.parent,void 0,[r.name,"Quetzalcoatlus"],r);g.attack=6,g.health=6,r.parent.summonPet(g,r.savedPosition,!1,r).success&&this.logService.createLog({message:`${r.name} spawned a 6/6 ${g.name}.`,type:"ability",player:r.parent,tiger:a,randomEvent:!0,pteranodon:l})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService,this.petService)}}},3615(O,S,i){i.d(S,{w:()=>c});var P=i(22097);class c extends P.${name="Sausage";equipmentClass="shop"}},3626(O,S,i){i.d(S,{d:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Ladybug";tier=1;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"LadybugAbility",owner:e,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=2*this.level,g=r.parent.getThis(r);g.pet&&(g.pet.increaseAttack(u),this.logService.createLog({message:`${r.name} gave ${g.pet.name} ${u} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},3725(O,S,i){i.d(S,{E:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Poison Dart Frog";tier=4;pack="Golden";attack=5;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PoisonDartFrogAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.opponent.getHighestHealthPet(void 0,r),g=u.pet;null!=g&&(r.snipePet(g,4*r.level,u.random,a),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},3746(O,S,i){i.d(S,{A:()=>A});var P=i(60309);const A=function c(_,v){var e=_.__data__;return(0,P.A)(v)?e["string"==typeof v?"string":"hash"]:e.map}},3754(O,S,i){i.d(S,{j:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="CrackedEgg";tier=1;pack="Unicorn";hidden=!0;attack=4;health=2;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},3813(O,S,i){i.d(S,{l:()=>Ee});var P=i(46200),c=i(5615),A=i(23201),_=i(37545),v=i(22167),e=i(97244),t=i(77226),n=i(76032),a=i(97588),l=i(40358),r=i(13950),u=i(63257),g=i(93614),f=i(29866),D=i(25321),k=i(60715),L=i(78708),F=i(890),j=i(26683),ee=i(85709),J=i(736),V=i(20136),ie=i(72242),oe=i(91946),ce=i(93533),ve=i(53227);class Ee extends P.i{logService;abilityService;name="Chameleon";tier=4;pack="Puppy";attack=3;health=5;toyService;equipmentService;initAbilities(){this.addAbility(new Te(this,this.logService,this.abilityService,this.equipmentService)),super.initAbilities()}constructor(de,Se,Be,Ne,Ue,lt,it,Ke,qe,_t,pt){super(de,Se,Be),this.logService=de,this.abilityService=Se,this.toyService=_t,this.equipmentService=pt,this.initPet(it,Ne,Ue,lt,Ke,qe)}}class Te extends c.T{logService;abilityService;equipmentService;constructor(de,Se,Be,Ne){super({name:"ChameleonAbility",owner:de,triggers:["SpecialEndTurn"],abilityType:"Pet",native:!0,abilitylevel:de.level,condition:Ue=>null!=this.owner.parent.toy,abilityFunction:Ue=>{this.executeAbility(Ue)}}),this.logService=Se,this.abilityService=Be,this.equipmentService=Ne}executeAbility(de){const lt=this.owner;lt.removeAbility(this.name,"Pet"),this.addToyAbility(lt.parent.toy.name)}addToyAbility(de){let Se=this.owner;const Ne={"Tennis Ball":()=>new A.r(Se,this.logService),Balloon:()=>new _.s(Se,this.logService),"Plastic Saw":()=>new v.E(Se,this.logService),Radio:()=>new e.e(Se,this.logService),"Oven Mitts":()=>new t.K(Se,this.logService),"Toilet Paper":()=>new n.Y(Se,this.logService),"Foam Sword":()=>new a.r(Se,this.logService),"Toy Gun":()=>new l.z(Se,this.logService),"Melon Helmet":()=>new r.F(Se,this.logService),"Stinky Sock":()=>new u.J(Se,this.logService),Flashlight:()=>new g.v(Se,this.logService),"Peanut Jar":()=>new f.B(Se,this.logService),"Air Palm Tree":()=>new D.D(Se,this.logService),Television:()=>new k.P(Se,this.logService),"Crystal Ball":()=>new L.y(Se,this.logService),"Evil Book":()=>new F.K(Se,this.logService,this.abilityService),"Treasure Chest":()=>new j.p(Se,this.logService),"Witch Broom":()=>new ee.b(Se,this.logService),"Treasure Map":()=>new J.k(Se,this.logService),"Pandoras Box":()=>new V.o(Se,this.logService,this.abilityService,this.equipmentService),Stick:()=>new ie.L(Se,this.logService),"Cash Register":()=>new oe.j(Se,this.logService),"Microwave Oven":()=>new ce.G(Se,this.logService,this.equipmentService),Camera:()=>new ve.E(Se,this.logService)}[de];if(Ne)try{const Ue=Ne();Ue.abilityLevel=Math.min(Se.parent.toy.level,this.level),Ue.alwaysIgnorePetLevel=!0,Se.addAbility(Ue),this.logService.createLog({message:`${this.name} gained ${de} ability!`,type:"ability",player:Se.parent})}catch(Ue){console.warn(`Failed to add ${de} ability to ${this.name}:`,Ue)}else this.logService.createLog({message:"Custom toy ability is currently not supported for Chameleon ability",type:"ability",player:Se.parent})}copy(de){return new Te(de,this.logService,this.abilityService,this.equipmentService)}}},3836(O,S,i){i.d(S,{L:()=>_});var P=i(19058),c=i(46200),A=i(5615);class _ extends c.i{logService;abilityService;name="Toad";tier=3;pack="Star";attack=3;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;reset(){this.maxUses=2*this.owner.level,super.reset()}constructor(t,n){super({name:"ToadAbility",owner:t,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2*t.level,condition:a=>{const{triggerPet:l}=a;return l&&l.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:l}=t,u=this.owner;let g=u.parent.getSpecificPet(u,a),f=g.pet;if("Weak"===f?.equipment?.name){let D=u.parent.getPetsWithEquipmentWithSillyFallback("Weak",u);g=u.parent.opponent.getRandomPet(D,null,!0,null,u),f=g.pet}null!=f&&(f.givePetEquipment(new P.l),this.logService.createLog({message:`${u.name} gave ${f.name} Weak.`,type:"ability",player:u.parent,tiger:l,randomEvent:g.random}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},3887(O,S,i){i.d(S,{L:()=>c,v:()=>A});var P=i(22097);class c extends P.${name="Honeydew Melon";tier=5;equipmentClass="shield";power=10;originalPower=10;uses=1;originalUses=1}class A extends P.${name="Honeydew Melon (Attack)";equipmentClass="attack";power=5;originalPower=5}},4066(O,S,i){i.d(S,{v:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Whale Shark";tier=4;pack="Puppy";attack=2;health=6;constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"WhaleSharkAbility",owner:e,triggers:["ThisGainedPerk","ThisGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const r=this.owner;r.equipment&&(this.logService.createLog({message:`${r.name} removed ${r.equipment.name}`,type:"ability",player:r.parent}),r.removePerk());let u=r.parent.getThis(r),g=u.pet;if(null==g)return;let f=3*this.level;g.increaseAttack(f),g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} attack and ${f} health.`,type:"ability",player:r.parent,randomEvent:u.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},4146(O,S,i){i.d(S,{B:()=>_});var P=i(46200),c=i(5615),A=i(33605);class _ extends P.i{logService;abilityService;name="Quail Chick";tier=3;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"Quail Chick Ability",owner:t,triggers:["FoodEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>this.executeAbility(l)}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:n,pteranodon:a}=t,l=this.owner,r=2*this.level*2,u=l.petAhead;u&&u.alive&&(u.increaseAttack(r),u.increaseHealth(r));const g=new A.V(this.logService,this.abilityService,l.parent,void 0,void 0,void 0,l.exp);l.parent.transformPet(l,g),this.logService.createLog(u&&u.alive?{message:`${l.name} transformed into ${g.name} and gave ${u.name} +${r} attack and +${r} health.`,type:"ability",player:l.parent,tiger:n,pteranodon:a}:{message:`${l.name} transformed into ${g.name}.`,type:"ability",player:l.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},4193(O,S,i){i.d(S,{r:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Unicorn";tier=4;pack="Unicorn";attack=2;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"UnicornAbility",owner:t,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,precondition:a=>{const{triggerPet:l}=a,g=(0,A.lK)(this.owner,l).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a}=t,u=this.owner;let g=2*this.level;if(!a)return;this.logService.createLog({message:`${u.name} removed ailment from ${a.name}.`,type:"ability",player:u.parent}),a.removePerk();let f=(0,A.lK)(u,a),D=f.pet;null!=D&&(this.logService.createLog({message:`${u.name} gave ${D.name} ${g} attack and ${g} health.`,type:"ability",player:u.parent,randomEvent:f.random}),D.increaseAttack(g),D.increaseHealth(g),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},4230(O,S,i){i.d(S,{K:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Mouse";tier=1;pack="Custom";health=2;attack=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"MouseAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} replaced shop food with one free ${1===this.level?"Apple":2===this.level?"Better Apple":"Best Apple"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},4399(O,S,i){i.d(S,{K:()=>_});var P=i(46200),c=i(5615),A=i(18060);class _ extends P.i{logService;abilityService;name="Volcano Snail";tier=1;pack="Danger";attack=1;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"VolcanoSnailAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l}=t,u=this.owner;let D=[...u.parent.getPetsWithEquipmentWithSillyFallback("perk",u),...u.parent.getPetsWithEquipmentWithSillyFallback("Toasty",u)],k=u.parent.getRandomEnemyPetsWithSillyFallback(this.level,D,null,null,u);if(0!==k.pets.length){for(let L of k.pets){let F=new A.V;L.givePetEquipment(F),this.logService.createLog({message:`${u.name} made ${L.name} Toasty`,type:"ability",player:u.parent,sourcePet:u,targetPet:L,tiger:l,randomEvent:k.random})}this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},4635(O,S,i){i.d(S,{f:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Daycrawler";tier=1;pack="Custom";hidden=!0;health=1;attack=1;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},4673(O,S,i){i.d(S,{O:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Fire Pup";tier=1;pack="Unicorn";hidden=!0;health=8;attack=8;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},4902(O,S,i){i.d(S,{Db:()=>Ke,Iq:()=>qe,JL:()=>_t,M3:()=>pt,ul:()=>tt});var P=i(37831),c=i(27088),A=i(20150),_=i(77392),v=i(6988),e=i(59951),t=i(72354),n=i(90771),a=i(35454),l=i(91576),r=i(67336),u=i(21545),g=i(70458),f=i(34747),D=i(45686),k=i(44746),L=i(60397),F=i(97280),j=i(34829),ee=i(59370),J=i(50119),V=i(49517),ie=i(48955),oe=i(98146),ce=i(13837),ve=i(27694),Ee=i(3332),Te=i(55267),ke=i(14469),de=i(88034),Se=i(20791),Be=i(40830),Ne=i(42377),Ue=i(41074),lt=i(86863),it=i(62983);const Ke={Spider:g.c,Whale:F.Uw,Parrot:L.f,Stork:D.i,"Shima Enaga":k.J,Eagle:f.Z,Pelican:ee.R6,Falcon:J.e,"Beluga Whale":V.I,Wolf:ie.t,Pteranodon:oe.D,"Harpy Eagle":ce.V,"Sabertooth Tiger":ve.f,Orca:Ee.s,Hippogriff:Ne.j,"Goblin Shark":P.FZ,"Red Lipped Batfish":c.R,Kappa:A.K,Ammonite:ke.j,"Iriomote Cat":v.U,Takhi:e.y,"Roloway Monkey":t.n,Bonobo:n.m,"Golden Tamarin":a.U,"Bay Cat":u.P,"California Condor":l.k,"Silky Sifaka":r.e,Abomination:_._,"Sarcastic Fringehead":Be.Z,Leviathan:Ue.j,Tadpole:lt.M,Stoat:it.U},qe={Seagull:j.Q,"Good Dog":Te._},_t=[P.FZ,c.R,A.K,_._,v.U,e.y,t.n,n.m,a.U,l.k,r.e,u.P,g.c,f.Z,D.i,k.J,L.f,F.Uw,ee.R6,J.e,V.I,ie.t,oe.D,ce.V,ve.f,Ee.s,ke.j,Be.Z,Ne.j,Ue.j,lt.M,it.U],pt=[j.Q,Te._],tt={"Beluga Whale":(gt,at,wt,ut)=>new V.I(gt.logService,gt.abilityService,ut,wt,at.health,at.attack,at.mana,at.exp,at.equipment,at.triggersConsumed,at.belugaSwallowedPet),Abomination:(gt,at,wt,ut)=>new _._(gt.logService,gt.abilityService,ut,wt,at.health,at.attack,at.mana,at.exp,at.equipment,at.triggersConsumed,at.abominationSwallowedPet1,at.abominationSwallowedPet2,at.abominationSwallowedPet3,at.abominationSwallowedPet1Level,at.abominationSwallowedPet2Level,at.abominationSwallowedPet3Level,at.abominationSwallowedPet1TimesHurt,at.abominationSwallowedPet2TimesHurt,at.abominationSwallowedPet3TimesHurt),"Sabertooth Tiger":(gt,at,wt,ut)=>new ve.f(gt.logService,gt.abilityService,ut,wt,at.health,at.attack,at.mana,at.exp,at.equipment,at.triggersConsumed,at.timesHurt),Tuna:(gt,at,wt)=>new de.n(gt.logService,gt.abilityService,wt,at.health,at.attack,at.mana,at.exp,at.equipment,at.triggersConsumed,at.timesHurt),Slime:(gt,at,wt)=>new Se.f(gt.logService,gt.abilityService,wt,at.health,at.attack,at.mana,at.exp,at.equipment,at.triggersConsumed)}},4942(O,S,i){i.d(S,{Q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Piranha";tier=6;pack="Star";attack=10;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PiranhaAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.getAll(!1,r,!0),g=u.pets,f=3*this.level;for(let D of g)D.increaseAttack(f),this.logService.createLog({message:`${r.name} gave ${D.name} ${f} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random});this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},4945(O,S,i){i.d(S,{N:()=>_});var P=i(46200),c=i(5615),A=i(51838);class _ extends P.i{logService;abilityService;name="Doberman";tier=4;pack="Puppy";attack=1;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"DobermanAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l}=t,u=this.owner;let g=8*this.level,f=u.parent.getThis(u),D=f.pet;if(null==D)return;D.increaseAttack(g),this.logService.createLog({message:`${u.name} gave ${D.name} ${g} attack.`,type:"ability",player:u.parent,tiger:l,randomEvent:f.random});let k=!0;for(let j of u.parent.petArray)if(j!=u&&j.tier<=u.tier){k=!1;break}if(!k)return void this.triggerTigerExecution(t);let L=u.parent.getThis(u),F=L.pet;null!=F&&(F.givePetEquipment(new A.K),this.logService.createLog({message:`${u.name} gave ${F.name} Coconut.`,type:"ability",player:u.parent,tiger:l,randomEvent:L.random}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},5021(O,S,i){i.d(S,{g:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Vulture";tier=5;pack="Star";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"VultureAbility",owner:e,triggers:["PostRemovalFriendFaints2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:a}=e,r=this.owner;let g=r.parent.opponent.getRandomPet([],!1,!0,!1,r);if(null==g.pet)return;let f=4*this.level;r.snipePet(g.pet,f,g.random,a),this.logService.createLog({message:`${r.name} sniped ${g.pet.name} for ${f} after a friend died.`,type:"ability",player:r.parent,tiger:a}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},5040(O,S,i){i.d(S,{F:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Rootling";tier=4;pack="Custom";attack=1;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Rootling Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,l=this.level,u=a.parent.petArray.filter(g=>g&&g.alive&&g!==a&&g.health<a.health).sort((g,f)=>g.health-f.health).slice(0,2);for(const g of u)g.increaseAttack(l),g.increaseHealth(l);u.length>0&&this.logService.createLog({message:`${a.name} gave ${u.map(g=>g.name).join(", ")} +${l}/+${l}.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},5238(O,S,i){i.d(S,{I:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Quoll";tier=1;pack="Custom";attack=3;health=2;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},5388(O,S,i){i.d(S,{S:()=>_});var P=i(46200),c=i(5615),A=i(23770);class _ extends P.i{logService;abilityService;name="Farmer Dog";tier=6;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Farmer Dog Ability",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=this.level,l=n.parent.petArray.filter(r=>r&&r.alive&&r!==n);if(0!==l.length){for(const r of l){const u=new A.D;u.effectMultiplier=a,r.givePetEquipment(u)}this.logService.createLog({message:`${n.name} fed ${a} Corncob${1===a?"":"s"} to ${l.length} friend${1===l.length?"":"s"}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}else this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},5492(O,S,i){i.d(S,{V:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Ibex";tier=5;pack="Star";attack=6;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;affectedEnemies=new Set;reset(){this.maxUses=this.level,this.affectedEnemies=new Set,super.reset()}constructor(e,t){super({name:"IbexAbility",owner:e,triggers:["EnemyHurt","EnemyPushed"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:n=>{const{triggerPet:a}=n;return a&&a.alive&&!this.affectedEnemies.has(a)},abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let u=r.parent.getSpecificPet(r,n),g=u.pet;if(null==g)return;let f=Math.floor(.7*n.health);g.increaseHealth(-f),this.affectedEnemies.add(g),this.logService.createLog({message:`${r.name} removed ${f} health from ${n.name} (70%)`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},5611(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Sumatran Tiger";tier=6;pack="Danger";attack=9;health=9;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SumatranTigerAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.getOppositeEnemyPet(r),g=u.pet;if(g&&(r.jumpAttackPrep(g),r.jumpAttack(g,a,null,u.random),r.level>=2)){let f=2===this.level?6:12,D=[];if(u.random)D=r.parent.getRandomLivingPets(2).pets;else{let k=g.petBehind();k&&k.alive&&D.push(k);let L=g.petAhead;L&&L.alive&&D.push(L)}for(let k of D)r.snipePet(k,f,u.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},5615(O,S,i){i.d(S,{T:()=>A});var P=i(86785),c=i(83028);class A{name;owner;_triggers=[];get triggers(){return this._triggers}set triggers(v){this._triggers=v}abilityType;maxUses;currentUses;initialCurrentUses;abilityLevel;precondition;condition;abilityFunction;native;ignoreRepeats;alwaysIgnorePetLevel;constructor(v){(0,c.L)(this),this.name=v.name,this.owner=v.owner,this.triggers=v.triggers,this.abilityType=v.abilityType,this.maxUses=v.maxUses??-1;const e=v.initialCurrentUses??("Pet"===v.abilityType?v.owner.triggersConsumed:0);this.initialCurrentUses=e,this.currentUses=e,this.abilityLevel=v.abilitylevel??1,this.precondition=v.precondition,this.condition=v.condition,this.abilityFunction=v.abilityFunction,this.native=v.native??!0,this.ignoreRepeats=v.ignoreRepeats??!1,this.alwaysIgnorePetLevel=v.alwaysIgnorePetLevel??!1}canUse(){return!(this.maxUses>0&&this.currentUses>=this.maxUses)}execute(v,e,t,n,a){if(this.owner.removed&&!this.matchesTrigger("PostRemovalFaint")||!this.owner.abilityValidCheck())return!1;try{const l={gameApi:v,triggerPet:e,tiger:t,pteranodon:n,...a??{}};return!(this.precondition&&!this.precondition(l)||this.condition&&!this.condition(l)||(this.currentUses++,"Pet"===this.abilityType&&(this.owner.triggersConsumed=Math.max(this.owner.triggersConsumed,this.currentUses)),this.abilityFunction(l),0))}catch(l){return console.error(`Error executing ability ${this.name||"unnamed"}:`,l),!1}}tigerCheck(v,e){if(this.ignoreRepeats||"Pet"!=this.abilityType)return!1;const t=e??this.owner.petBehind(!0,!0);return!(!t||!t.hasTrigger(void 0,void 0,"TigerAbility")||null!=v&&0!=v)}triggerTigerExecution(v){const e=v.tigerSupportPet??this.owner.petBehind(!0,!0);if(!this.tigerCheck(v.tiger,e)||!this.canUse())return;let t=this.abilityLevel,n=this.alwaysIgnorePetLevel;this.abilityLevel=e.level,this.alwaysIgnorePetLevel=!0;const{gameApi:a,triggerPet:l,tiger:r,pteranodon:u,...g}=v;this.execute(a,l,!0,u,g),this.abilityLevel=t,this.alwaysIgnorePetLevel=n}reset(){this.currentUses=0}initUses(){this.currentUses=this.initialCurrentUses}copy(v){return null}matchesTrigger(v){return this.triggers.includes(v)}get level(){return this.alwaysIgnorePetLevel?this.abilityLevel:this.owner.level}get minExpForLevel(){return(0,P.T)(this.level)}}},5762(O,S,i){i.d(S,{T:()=>_});var P=i(56979),c=i(46200),A=i(5615);class _ extends c.i{logService;abilityService;name="Barghest";tier=1;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;constructor(t,n){super({name:"BarghestAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l}=t,u=this.owner;let D=[...u.parent.getPetsWithEquipmentWithSillyFallback("perk",u),...u.parent.getPetsWithEquipmentWithSillyFallback("Spooked",u)],L=u.parent.opponent.getLastPets(this.level,D,u).pets;if(0!=L.length){for(let F of L)this.logService.createLog({message:`${u.name} gave ${F.name} Spooked`,type:"ability",player:u.parent,tiger:l}),F.givePetEquipment(new P.E);this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},6043(O,S,i){i.d(S,{s:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Deer Lord";tier=3;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Deer Lord Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=t.petAhead;n&&(n.health=0,this.logService.createLog({message:`${t.name} knocked out ${n.name}.`,type:"ability",player:t.parent}),this.logService.createLog({message:`${t.name} stocked ${this.level} free Bacon.`,type:"ability",player:t.parent})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},6050(O,S,i){i.d(S,{p:()=>_});var P=i(46200),c=i(10041),A=i(5615);class _ extends P.i{logService;abilityService;name="Rooster";tier=5;pack="Turtle";attack=6;health=5;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"RoosterAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let g=Math.max(Math.floor(.5*u.attack),1);for(let f=0;f<this.level;f++){let D=new c.$(this.logService,this.abilityService,u.parent,1,g,0,this.minExpForLevel),k=u.parent.summonPet(D,u.savedPosition,!1,u);k.success&&this.logService.createLog({message:`${u.name} spawned Chick (${g}).`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:k.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},6143(O,S,i){i.d(S,{P:()=>c});var P=i(50873);class c extends P.L{name="Ring Pyramid";tier=1;startOfBattle(_,v){const e=_?.turnNumber??1;let t=1;e>2&&(t=2),e>4&&(t=3),e>6&&(t=4),e>8&&(t=5),e>10&&(t=6);const n=t-1;if(!(n<1))for(const a of this.parent.petArray)a.tier===n&&(a.health=0,this.logService.createLog({message:`${this.name} knocked out ${a.name}.`,type:"ability",player:this.parent,puma:v}))}}},6145(O,S,i){i.d(S,{S:()=>c});var P=i(22097);class c extends P.${name="Macaron";equipmentClass="shop"}},6172(O,S,i){i.d(S,{N:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Triceratops";tier=5;pack="Star";attack=5;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TriceratopsAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.getRandomPet([r],!0,!1,!0,r),g=3*this.level;null!=u.pet&&(u.pet.increaseAttack(g),u.pet.increaseHealth(g),this.logService.createLog({message:`${r.name} gave ${u.pet.name} ${g} attack and ${g} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},6267(O,S,i){i.d(S,{$:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Donkey";tier=4;pack="Star";attack=4;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"DonkeyAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.opponent,g=u.getLastPet();null!=g.pet&&(u.pushPet(g.pet,g.pet.position),g.pet.increaseAttack(-3),this.logService.createLog({message:`${r.name} pushed ${g.pet.name} to the front and removed 3 attack.`,type:"ability",player:r.parent,tiger:a}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},6300(O,S,i){i.d(S,{Y:()=>_});var P=i(46200),c=i(74891),A=i(5615);class _ extends P.i{logService;abilityService;name="Rat";tier=2;pack="Turtle";health=6;attack=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"RatAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let g=u.parent.opponent;for(let f=0;f<this.level;f++){let D=new c.s(this.logService,this.abilityService,g,null,null,0,0),k=g.summonPet(D,0,!1,u);k.success&&this.logService.createLog({message:`${u.name} Summoned Dirty Rat on Opponent`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:k.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},6328(O,S,i){i.d(S,{Y:()=>c});var P=i(22097);class c extends P.${name="Fortune Cookie";equipmentClass="attack";constructor(){super()}}},6368(O,S,i){i.d(S,{r:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Oyster";tier=6;pack="Golden";attack=2;health=10;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"OysterAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${3*this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},6425(O,S,i){i.d(S,{K:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;name="Penguin";tier=4;pack="Turtle";attack=2;health=3;constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}},6513(O,S,i){i.d(S,{L:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;abilityService;name="Chocolate Cake";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}}class _ extends c.T{equipment;logService;abilityService;constructor(e,t,n,a){super({name:"ChocolateCakeAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:l=>{this.executeAbility(l)}}),this.equipment=t,this.logService=n,this.abilityService=a}executeAbility(e){const t=this.owner;let a=3*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${a} exp. (Chocolate Cake)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.increaseExp(a),t.health=0,this.abilityService.triggerKillEvents(t,t)}}},6550(O,S,i){i.d(S,{AV:()=>c,H6:()=>v,Ls:()=>e,aA:()=>_,uF:()=>P,yo:()=>A});const P=[1,2,3];function c(t,n){const a=`${t}${n}`;return{base:a,belugaSwallowedPet:`${a}BelugaSwallowedPet`,sarcasticFringeheadSwallowedPet:`${a}SarcasticFringeheadSwallowedPet`,level:`${a}Level`,timesHurt:`${a}TimesHurt`,parrotCopyPet:`${a}ParrotCopyPet`,parrotCopyPetBelugaSwallowedPet:`${a}ParrotCopyPetBelugaSwallowedPet`,nested:l=>{const r=`${a}ParrotCopyPetAbominationSwallowedPet${l}`;return{base:r,belugaSwallowedPet:`${r}BelugaSwallowedPet`,sarcasticFringeheadSwallowedPet:`${r}SarcasticFringeheadSwallowedPet`,level:`${r}Level`,timesHurt:`${r}TimesHurt`}}}}function A(t,n,a=null){const l=t[n];return"string"==typeof l||null===l?l:a}function _(t,n,a){const l=t[n];return"number"==typeof l&&Number.isFinite(l)?l:a}function v(t,n,a){t[n]=a}function e(t,n,a){t[n]=a}},6674(O,S,i){i.d(S,{h:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Nachos";tier=1;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"NachosAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let r=Math.min(3,t.health-1);r>0&&(t.increaseHealth(-r),t.increaseAttack(r),this.logService.createLog({message:`${t.name} converted ${r} health into ${r} attack (Nachos)${n>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent}))}t.removePerk()}}},6792(O,S,i){i.d(S,{A:()=>l});var P=i(99659),c=i(97061),A=i(43744),_=i(10259),v=i(28606),e=i(54608),n=Object.prototype.hasOwnProperty;const l=function a(r,u){var g=(0,A.A)(r),f=!g&&(0,c.A)(r),D=!g&&!f&&(0,_.A)(r),k=!g&&!f&&!D&&(0,e.A)(r),L=g||f||D||k,F=L?(0,P.A)(r.length,String):[],j=F.length;for(var ee in r)(u||n.call(r,ee))&&(!L||!("length"==ee||D&&("offset"==ee||"parent"==ee)||k&&("buffer"==ee||"byteLength"==ee||"byteOffset"==ee)||(0,v.A)(ee,j)))&&F.push(ee);return F}},6944(O,S,i){i.d(S,{A:()=>A});const A=i(1860).A.Symbol},6953(O,S,i){i.d(S,{v:()=>v});var P=i(46200),c=i(5615),A=i(90966),_=i(33127);class v extends P.i{logService;abilityService;name="Racket Tail";tier=4;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"Racket Tail Ability",owner:n,triggers:["BeforeFriendAttacks"],abilityType:"Pet",maxUses:n.level,native:!0,abilitylevel:n.level,precondition:l=>{const{triggerPet:r}=l;return!!r&&r.parent===this.owner.parent&&r.alive},abilityFunction:l=>this.executeAbility(l)}),this.logService=a}executeAbility(n){const{triggerPet:a,tiger:l,pteranodon:r}=n,u=this.owner;if(!a)return;const f=_.I.getInjector().get(A.m).getInstanceOfAllEquipment().get("Strawberry");f&&a.givePetEquipment(f),a.increaseAttack(5),this.logService.createLog({message:`${u.name} gave ${a.name} Strawberry and +5 attack before attacking.`,type:"ability",player:u.parent,tiger:l,pteranodon:r}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService)}}},6988(O,S,i){i.d(S,{U:()=>t});var P=i(46200),c=i(5615),A=i(61850),_=i(94798),v=i(58857),e=i(79222);class t extends P.i{logService;abilityService;petService;name="Iriomote Cat";tier=1;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new n(this,this.logService,this.petService)),super.initAbilities()}constructor(l,r,u,g,f,D,k,L,F,j){super(l,r,g),this.logService=l,this.abilityService=r,this.petService=u,this.initPet(L,f,D,k,F,j)}}class n extends c.T{logService;petService;constructor(l,r,u){super({name:"IriomoteCatAbility",owner:l,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:l.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.petService=u}executeAbility(l){const D=this.owner,k=_.s.iriomoteCat[this.level]??this.petService.allPets.get(this.level)??[];if(0===k.length)return;const L=(0,v.k6)({key:"pet.iriomote-cat-transform",label:(0,e.I)(D,"Iriomote Cat transform"),options:k.map(ee=>({id:ee,label:ee}))},()=>(0,A.hw)(0,k.length-1));let F=k[L.index],j=this.petService.createPet({name:F,attack:D.attack,health:D.health,exp:0,equipment:D.equipment,mana:D.mana},D.parent);this.logService.createLog({message:`${D.name} transformed into a ${F} (Level ${j.level}).`,type:"ability",player:D.parent,randomEvent:L.randomEvent}),D.parent.transformPet(D,j),this.triggerTigerExecution(l)}copy(l){return new n(l,this.logService,this.petService)}}},7023(O,S,i){i.d(S,{a:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Door Head Ant";tier=2;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DoorHeadAntAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>null==this.owner.parent.pet0,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=r.parent.getThis(r),g=u.pet;if(null==g)return;r.parent.pushPetToFront(g,!0),this.logService.createLog({message:`${r.name} pushed ${g.name} to the front.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:u.random});let f=4*this.level,D=r.parent.getThis(r),k=D.pet;null!=k&&(k.increaseHealth(f),this.logService.createLog({message:`${r.name} gained ${f} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:D.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},7056(O,S,i){i.d(S,{E:()=>v});var P=i(46200),c=i(5615),A=i(33524),_=i(61850);class v extends P.i{logService;abilityService;name="Spider Crab";tier=2;pack="Custom";attack=1;health=5;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends c.T{logService;affectedPets=new Set;constructor(n,a){super({name:"Spider Crab Ability",owner:n,triggers:["FriendAttacked","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:l=>this.executeAbility(l)}),this.logService=a}executeAbility(n){const a=this.owner,{triggerPet:l,tiger:r,pteranodon:u}=n;if("StartTurn"===n.trigger)return this.affectedPets.clear(),void this.triggerTigerExecution(n);if(!l||l.parent!==a.parent)return void this.triggerTigerExecution(n);if(!l.alive)return void this.triggerTigerExecution(n);if(this.affectedPets.has(l))return void this.triggerTigerExecution(n);if(this.affectedPets.size>=this.level)return void this.triggerTigerExecution(n);let g=l;if((0,A.ku)(a)){const f=a.parent.petArray.filter(D=>D.alive);if(0===f.length)return void this.triggerTigerExecution(n);g=f[(0,_.hw)(0,f.length-1)]}g.increaseHealth(4),g.parent.pushPetToBack(g),this.affectedPets.add(l),this.logService.createLog({message:`${a.name} moved ${g.name} to the back and gave it +4 health.`,type:"ability",player:a.parent,tiger:r,pteranodon:u}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService)}}},7059(O,S,i){i.d(S,{v:()=>_});var P=i(46200),c=i(3754),A=i(5615);class _ extends P.i{logService;abilityService;name="Sneaky Egg";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"SneakyEggAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l}=t,u=this.owner;let g={attack:4*this.level,health:2*this.level};u.health=0,u.parent.handleDeath(u),u.parent.removeDeadPets();let f=new c.j(this.logService,this.abilityService,u.parent,g.health,g.attack,0),D=u.parent.summonPet(f,u.savedPosition,!1,u);D.success&&this.logService.createLog({message:`${u.name} spawned a ${g.attack}/${g.health} Cracked Egg`,type:"ability",player:u.parent,tiger:l,randomEvent:D.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},7199(O,S,i){i.d(S,{o:()=>e});var P=i(22097),c=i(5615),A=i(33127),_=i(24111),v=i(56990);class e extends P.${name="Webbed";equipmentClass="ailment-other";callback=a=>{a.addAbility(new t(a))}}class t extends c.T{logService;petService;constructor(a){super({name:"WebbedAbility",owner:a,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:l=>this.executeAbility(l)}),this.logService=A.I.getInjector().get(_.K),this.petService=A.I.getInjector().get(v.T)}executeAbility(a){const l=this.owner,r=l.parent.opponent,u=this.petService.createPet({name:"Spider",attack:2,health:2,exp:0,equipment:null,mana:0},r),g=r.summonPet(u,0,!1,l);g.success&&this.logService.createLog({message:`${l.name} summoned ${u.name} for the opponent. (Webbed)`,type:"equipment",player:l.parent,randomEvent:g.randomEvent})}}},7234(O,S,i){i.d(S,{l:()=>_});var P=i(46200),c=i(25479),A=i(5615);class _ extends P.i{logService;abilityService;name="Anteater";tier=3;pack="Star";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"AnteaterAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;for(let g=0;g<this.level;g++){let f=new c.w(this.logService,this.abilityService,u.parent,1,1,0,5),D=u.parent.summonPet(f,u.savedPosition,!1,u);D.success&&this.logService.createLog({message:`${u.name} spawned 1/1 Ant level 3`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:D.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},7390(O,S,i){i.d(S,{T:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Fish";tier=1;pack="Turtle";health=3;attack=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"FishAbility",owner:e,triggers:["ThisLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;if(this.level>=3)return;const n=this.level,a=t.parent.getRandomPets(2,[t],!1,!1,t);if(0!==a.pets.length){for(const l of a.pets)l.increaseAttack(n),l.increaseHealth(n);this.logService.createLog({message:`${t.name} gave ${a.pets.map(l=>l.name).join(", ")} ${n} attack and ${n} health.`,type:"ability",player:t.parent,randomEvent:a.random,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},7598(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Deinocheirus";tier=4;pack="Custom";attack=4;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Deinocheirus Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,l=a.equipment;if(!l)return void this.triggerTigerExecution(e);if(!l.equipmentClass?.startsWith("ailment"))return void this.triggerTigerExecution(e);const u=this.level,g=u,f=2*u;a.increaseAttack(g),a.increaseHealth(f),this.logService.createLog({message:`${a.name} reversed ${l.name} and gained +${g}/+${f} (x${u}).`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},7639(O,S,i){i.d(S,{F:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Namazu";tier=5;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Namazu Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=t.mana;if(n<=0)return void this.triggerTigerExecution(e);const a=n*this.level;t.parent.gainTrumpets(a,t,e.pteranodon),t.mana=0,this.logService.createLog({message:`${t.name} spent ${n} mana and gained ${a} trumpets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},7715(O,S,i){i.d(S,{k:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Chimera Lion";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},7978(O,S,i){i.d(S,{x:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Vervet";tier=2;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Vervet Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,n=this.owner,a=this.level,l="Microwave Oven",r=t?.toyService?.createToy(l,n.parent,a);r&&(n.parent.toy=r,this.logService.createLog({message:`${n.name} summoned a level ${a} ${l}.`,type:"ability",player:n.parent})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},8143(O,S,i){i.d(S,{e:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Mole";tier=3;pack="Puppy";attack=2;health=3;constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"MoleAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=6*this.level,g=[];for(let L of r.parent.petArray){if(L==r)continue;const F=L.equipment?.equipmentClass;F&&"ailment-attack"!==F&&"ailment-defense"!==F&&"ailment-other"!==F&&g.push(L)}const f=r.position;if(g.sort((L,F)=>{const j=Math.abs(L.position-f),ee=Math.abs(F.position-f);return j!==ee?j-ee:L.position-F.position}),g=g.slice(0,2),g.length<2)return;for(let L of g)this.logService.createLog({message:`${r.name} removed ${L.name}'s perk.`,type:"ability",player:r.parent,pteranodon:l}),L.removePerk(!0);let D=new A(this.logService,this.abilityService,r.parent,u,u),k=r.parent.summonPet(D,r.savedPosition,!1,r);k.success&&this.logService.createLog({message:`${r.name} summoned a ${u}/${u} Mole.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:k.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},8178(O,S,i){i.d(S,{p:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Nessie?";tier=1;pack="Unicorn";hidden=!0;health=2;attack=1;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},8362(O,S,i){i.d(S,{g:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Vampire Bat";tier=5;pack="Unicorn";attack=2;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"VampireBatAbility",owner:t,triggers:["EnemyGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,precondition:a=>{const{triggerPet:l}=a,g=(0,A.LZ)(this.owner,l).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:l}=t,u=this.owner;let g=4*this.level,D=(0,A.LZ)(u,a).pet;if(null==D)return;const k=D.health;let L=u.snipePet(D,g,!1,l),F=Math.min(L,k),j=u.parent.getThis(u),ee=j.pet;null!=ee&&(this.logService.createLog({message:`${u.name} gave ${ee.name} ${F} health.`,type:"ability",player:u.parent,tiger:l,randomEvent:j.random}),ee.increaseHealth(F),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},8408(O,S,i){i.d(S,{_:()=>c});var P=i(50873);class c extends P.L{name="Toy Mouse";tier=3;startOfBattle(_,v){for(const e of this.parent.petArray)e.exp=0,this.logService.createLog({message:`${this.name} set ${e.name} to level 1.`,type:"ability",player:this.parent,puma:v})}}},8534(O,S,i){i.d(S,{t:()=>A});var P=i(46200),c=i(5615);class A extends P.i{constructor(e,t,n){super(e,t,n),this.name="Pegasus",this.tier=4,this.pack="Custom",this.attack=2,this.health=4}initAbilities(){this.abilityList=[new _(this,this.logService)],super.initAbilities()}}class _ extends c.T{logService;pendingBuffs=new Map;constructor(e,t){super({name:"Pegasus Ability",owner:e,triggers:["FriendSummoned","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{trigger:t,tiger:n,pteranodon:a}=e,l=this.owner;if("FriendSummoned"===t){const r=l.parent.getRandomPets(3,[],!1,!1,l),u=this.level;if(r.pets.length>0){const g=[];for(const f of r.pets){f.increaseAttack(u);const D=this.pendingBuffs.get(f)??0;this.pendingBuffs.set(f,D+u),g.push(f.name)}this.logService.createLog({message:`${l.name} temporarily buffed ${g.join(", ")} for +${u} attack until next turn.`,type:"ability",player:l.parent,tiger:n,pteranodon:a,randomEvent:r.random})}}else"EndTurn"===t&&this.resetBuffs();this.triggerTigerExecution(e)}resetBuffs(){for(const[e,t]of this.pendingBuffs)e.alive&&e.increaseAttack(-t);this.pendingBuffs.clear()}copy(e){return new _(e,this.logService)}}},8540(O,S,i){i.d(S,{n:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pacific Fanfish";tier=5;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Pacific Fanfish Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=4*this.level,a=t.parent.petArray.filter(r=>r&&r!==t&&r.alive&&r.sellValue>=3);if(0===a.length)return void this.triggerTigerExecution(e);const l=n*a.length;t.increaseAttack(l),t.increaseHealth(l),this.logService.createLog({message:`${t.name} gained +${l}/+${l} from ${a.length} friend(s) with \u22653 sell value.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},8891(O,S,i){i.d(S,{w:()=>t});var P=i(22097),c=i(5615),A=i(90966),_=i(33127),v=i(94798),e=i(61850);class t extends P.${logService;name="Radish";equipmentClass="beforeStartOfBattle";callback=l=>{const r=l.getEquippedEquipmentInstance(this);l.addAbility(new n(l,r,this.logService))};constructor(l){super(),this.logService=l}}class n extends c.T{equipment;logService;equipmentService;constructor(l,r,u){super({name:"RadishAbility",owner:l,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:g=>this.executeAbility(g)}),this.equipment=r,this.logService=u,this.equipmentService=_.I.getInjector().get(A.m)}executeAbility(l){const r=this.owner,u=Math.min(Math.max(r.tier??r.level??1,1),6),g=v.s.radish[u];if(!g||0===g.length)return;const f=this.equipmentService.getInstanceOfAllEquipment(),D=g.filter(j=>f.has(j));if(0===D.length)return;const k=(0,e.hw)(0,D.length-1),F=f.get(D[k]);F&&(r.givePetEquipment(F),this.logService.createLog({message:`${r.name} gained ${F.name} before battle (Radish).`,type:"equipment",player:r.parent,randomEvent:!0}))}}},9008(O,S,i){i.d(S,{B:()=>c});var P=i(22097);class c extends P.${name="Sad";equipmentClass="ailment-other"}},9215(O,S,i){i.d(S,{u:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Blobfish";tier=5;pack="Star";attack=2;health=10;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BlobfishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.nearestPetsBehind(2,r),g=u.pets;for(let f of g){let D=this.level;this.logService.createLog({message:`${r.name} gave ${f.name} ${D} exp.`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random}),f.increaseExp(D)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},9238(O,S,i){i.d(S,{g:()=>A});var P=i(57488),c=i(50873);class A extends c.L{name="Pogo Stick";tier=1;startOfBattle(v,e){const t=(0,P.a)(v,this.parent),n=t.getLastPet();if(!n.pet)return;const a=n.pet;t.pushPetToFront(a);const l=a.attack,r=a.health;a.increaseAttack(l),a.increaseHealth(r),this.logService.createLog({message:`${this.name} pushed ${a.name} forward and gave +${l}/+${r}.`,type:"ability",player:this.parent,puma:e})}}},9292(O,S,i){i.d(S,{C:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Worm";tier=2;pack="Turtle";health=4;attack=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"WormAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked one 2-gold ${1===this.level?"Apple":2===this.level?"Better Apple":"Best Apple"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},9452(O,S,i){i.d(S,{A:()=>_});var P=i(99898),c=i(14429);const _=function A(v,e){return v&&(0,P.A)(e,(0,c.A)(e),v)}},9680(O,S,i){i.d(S,{M:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Duckling";tier=1;pack="Custom";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"DucklingAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gave the left-most shop pet +${2*this.level} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},9695(O,S,i){i.d(S,{f:()=>_});var P=i(46200),c=i(5615),A=i(44402);class _ extends P.i{logService;abilityService;name="Reindeer";tier=6;pack="Star";attack=9;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;reset(){this.maxUses=this.level,super.reset()}constructor(t,n){super({name:"ReindeerAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l}=t,u=this.owner;let g=u.parent.getThis(u),f=g.pet;null!=f&&(f.givePetEquipment(new A.m),this.logService.createLog({message:`${u.name} gave ${f.name} Melon.`,type:"ability",player:u.parent,tiger:l,randomEvent:g.random}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},9933(O,S,i){i.d(S,{A:()=>n});var P=i(1860),c="object"==typeof exports&&exports&&!exports.nodeType&&exports,A=c&&"object"==typeof module&&module&&!module.nodeType&&module,v=A&&A.exports===c?P.A.Buffer:void 0,e=v?v.allocUnsafe:void 0;const n=function t(a,l){if(l)return a.slice();var r=a.length,u=e?e(r):new a.constructor(r);return a.copy(u),u}},10041(O,S,i){i.d(S,{$:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Chick";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ChickAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},10259(O,S,i){i.d(S,{A:()=>a});var P=i(1860),c=i(85554),A="object"==typeof exports&&exports&&!exports.nodeType&&exports,_=A&&"object"==typeof module&&module&&!module.nodeType&&module,e=_&&_.exports===A?P.A.Buffer:void 0;const a=(e?e.isBuffer:void 0)||c.A},10467(O,S,i){function P(A,_,v,e,t,n,a){try{var l=A[n](a),r=l.value}catch(u){return void v(u)}l.done?_(r):Promise.resolve(r).then(e,t)}function c(A){return function(){var _=this,v=arguments;return new Promise(function(e,t){var n=A.apply(_,v);function a(r){P(n,e,t,a,l,"next",r)}function l(r){P(n,e,t,a,l,"throw",r)}a(void 0)})}}i.d(S,{A:()=>c})},10687(O,S,i){i.d(S,{e:()=>c});var P=i(22097);class c extends P.${name="Bloated";equipmentClass="ailment-other"}},10778(O,S,i){i.d(S,{Z:()=>v});var P=i(46200),c=i(5615),A=i(26886),_=i(33127);class v extends P.i{constructor(n,a,l){super(n,a,l),this.name="Flying Squirrel",this.tier=3,this.pack="Custom",this.attack=3,this.health=3}initAbilities(){this.abilityList=[new e(this,this.logService)],super.initAbilities()}}class e extends c.T{logService;constructor(n,a){super({name:"FlyingSquirrelAbility",owner:n,triggers:["FriendlyToyBroke"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=a}executeAbility(n){const{tiger:r}=n,g=this.owner;let f=2*this.level,D=g.parent.getThis(g),k=D.pet;if(null==k||(k.increaseAttack(f),this.logService.createLog({message:`${g.name} gave ${k.name} +${f} attack`,type:"ability",player:g.parent,tiger:r,randomEvent:D.random}),null==g.parent.brokenToy))return;const L=_.I.getInjector().get(A.w).createToy(g.parent.brokenToy.name,g.parent);L.level=Math.min(this.level,g.parent.brokenToy.level),g.parent.setToy(L),this.logService.createLog({message:`${L.name} respawned (Level ${L.level})!`,type:"ability",player:g.parent,tiger:r}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService)}}},10858(O,S,i){i.d(S,{P:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Malay Tapir";tier=1;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MalayTapirAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.getThis(r),g=u.pet;if(!g)return;let f=1*this.level;g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} health`,type:"ability",player:r.parent,sourcePet:r,targetPet:g,tiger:a,randomEvent:u.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},10948(O,S,i){i.d(S,{l:()=>_});var P=i(46200),c=i(5615),A=i(23770);class _ extends P.i{logService;abilityService;name="Farmer Crow";tier=5;pack="Custom";attack=6;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Farmer Crow Ability",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=Math.min(n.level,3),r=n.parent.nearestPetsBehind(a,n),u=r.pets;for(const g of u)for(let f=0;f<3;f++){const D=new A.D;D.effectMultiplier=3,g.applyEquipment(D)}u.length>0&&this.logService.createLog({message:`${n.name} fed Corncobs with 3x effect to ${u.length} friend${1===u.length?"":"s"}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:r.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},11325(O,S,i){i.d(S,{t:()=>_});var P=i(46200),c=i(5615),A=i(60826);class _ extends P.i{logService;abilityService;name="Snapping Turtle";tier=5;pack="Puppy";attack=4;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"SnappingTurtleAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let g=u.parent.getPetsWithEquipment("Skewer"),f=u.parent.nearestPetsBehind(u.level,u,g);if(0!==f.pets.length){for(let D of f.pets)this.logService.createLog({message:`${u.name} gave ${D.name} Skewer.`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:f.random}),D.givePetEquipment(new A.q(this.logService));this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},11374(O,S,i){i.d(S,{A:()=>e});var P=i(77107),_=Object.prototype.hasOwnProperty;const e=function v(t){var n=this.__data__;if(P.A){var a=n[t];return"__lodash_hash_undefined__"===a?void 0:a}return _.call(n,t)?n[t]:void 0}},11733(O,S,i){i.d(S,{v:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Giant Squirrel";tier=2;pack="Custom";attack=2;health=5;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},11970(O,S,i){i.d(S,{k:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Skeleton Dog";tier=3;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SkeletonDogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.getRandomPets(this.level,[r],!0,!1,r);for(let g of u.pets)null!=g&&(this.logService.createLog({message:`${r.name} gave 1 attack and 1 health to ${g.name}.`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random}),g.increaseAttack(1),g.increaseHealth(1));this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},12160(O,S,i){i.d(S,{C:()=>c});var P=i(22097);class c extends P.${equipmentClass="shield";name="Lemon";tier=5;power=7;originalPower=7;uses=2;originalUses=2}},12173(O,S,i){i.d(S,{A:()=>e});var P=i(92661),c=i(20778),A=i(33340),_=A.A&&A.A.isSet;const e=_?(0,c.A)(_):P.A},12312(O,S,i){i.d(S,{x:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Smaller Slime";tier=1;pack="Unicorn";hidden=!0;health=2;attack=2;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},12367(O,S,i){i.d(S,{O:()=>v});var P=i(46200),c=i(5615),A=i(33127),_=i(90966);class v extends P.i{logService;abilityService;name="Fox";tier=5;pack="Custom";attack=6;health=4;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"Fox Ability",owner:n,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=a}executeAbility(n){const a=this.owner,r=A.I.getInjector().get(_.m).getInstanceOfAllEquipment(),u=Array.from(r.values()).filter(L=>"shop"===L.equipmentClass);if(0===u.length)return void this.triggerTigerExecution(n);const g=u[u.length-1],f=this.level,k=Math.max(1,2*a.level)*f;a.increaseAttack(k),a.increaseHealth(k),this.logService.createLog({message:`${a.name} stole ${g.name} (x${f}) and gained +${k}/+${k}.`,type:"ability",player:a.parent,tiger:n.tiger,pteranodon:n.pteranodon}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService)}}},12765(O,S,i){i.d(S,{n:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Longcomb Sawfish";tier=4;pack="Danger";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"LongcombSawfishAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=4*this.level,g=-4*this.level,f=r.parent.getThis(r),D=f.pet;D&&(D.increaseHealth(u),this.logService.createLog({message:`${r.name} gave ${D.name} ${u} health`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}));let L=r.parent.opponent.getAll(!1,r).pets;for(let F of L)F.increaseHealth(g),this.logService.createLog({message:`${r.name} reduced ${F.name} health by ${Math.abs(g)}`,type:"ability",player:r.parent,tiger:a});this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},12768(O,S,i){i.d(S,{P:()=>A,Y:()=>c});var P=i(45312);const c=(_,v,e,t,n)=>{const a=l=>{if(e.createLog({message:`${l.name} broke!`,type:"ability",player:_,randomEvent:!1}),null==l.onBreak)return;const r=[{callback:l.onBreak.bind(l),priority:99}],u=l.level;for(const g of _.petArray)g instanceof P.E&&r.push({callback:()=>{l.level=g.level,l.onBreak(n.gameApi,!0),l.level=u},priority:g.attack});r.sort((g,f)=>g.priority>f.priority?-1:g.priority<f.priority?1:0);for(const g of r)g.callback(n.gameApi)};if(null!=_.toy){const l=_.toy;_.brokenToy=l,a(l),_.toy=null}if(null!=_.hardToy){const l=_.hardToy;_.brokenHardToy=l,a(l),_.hardToy=null}v&&_.brokenToy&&A(_,_.brokenToy)},A=(_,v)=>{_.toy=v}},13004(O,S,i){i.d(S,{gn:()=>e,tS:()=>n,zA:()=>_});var P=i(70762),c=i(27389),A=i(60135);class _ extends P.v{constructor(l){super(),this.parent=l}_next(l){this.parent.notifyNext(l)}_error(l){this.parent.notifyError(l),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class e extends P.v{notifyNext(l){this.destination.next(l)}notifyError(l){this.destination.error(l)}notifyComplete(){this.destination.complete()}}function n(a,l){if(l.closed)return;if(a instanceof c.c)return a.subscribe(l);let r;try{r=(0,A.i)(a)(l)}catch(u){l.error(u)}return r}},13115(O,S,i){i.d(S,{B:()=>c});var P=i(22097);class c extends P.${name="Salt";tier=4;equipmentClass="attack";uses=1;originalUses=1}},13276(O){O.exports=JSON.parse('[{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and Spooked until next turn to the nearest friend ahead."},{"Level":2,"About":"End turn: Give +2 attack and Spooked until next turn to the nearest friend ahead."},{"Level":3,"About":"End turn: Give +3 attack and Spooked until next turn to the nearest friend ahead."}],"Id":"624","Name":"???","NameId":"Leafling","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Jump attack the second enemy for 3 damage."},{"Level":2,"About":"Start of battle: Jump attack the second enemy for 6 damage."},{"Level":3,"About":"Start of battle: Jump attack the second enemy for 9 damage."}],"Id":"388","Name":"African Wild Dog","NameId":"AfricanWildDog","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +1 mana."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +2 mana."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +3 mana."}],"Id":"626","Name":"Alchemedes","NameId":"AlchemistBug","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Give one random friend +1 attack and +1 health."},{"Level":2,"About":"Faint: Give one random friend +2 attack and +2 health."},{"Level":3,"About":"Faint: Give one random friend +3 attack and +3 health."}],"Id":"0","Name":"Ant","NameId":"Ant","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: If turn number is even, replace random ailments with +1 health on two friends."},{"Level":2,"About":"End turn: If turn number is even, replace random ailments with +2 health on two friends."},{"Level":3,"About":"End turn: If turn number is even, replace random ailments with +3 health on two friends."}],"Id":"628","Name":"Baku","NameId":"Baku","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make the last perk-less enemy Spooked."},{"Level":2,"About":"Start of battle: Make the two last perk-less enemies Spooked."},{"Level":3,"About":"Start of battle: Make the three last perk-less enemies Spooked."}],"Id":"621","Name":"Barghest","NameId":"Barghest","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give two random friends +1 attack."},{"Level":2,"About":"Sell: Give two random friends +2 attack."},{"Level":3,"About":"Sell: Give two random friends +3 attack."}],"Id":"3","Name":"Beaver","NameId":"Beaver","Tier":1,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"4","Name":"Bee","NameId":"Bee","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Walnut perk to nearest friend behind."},{"Level":2,"About":"Start of battle: Give Walnut perk with double effect to nearest friend behind."},{"Level":3,"About":"Start of battle: Give Walnut perk with triple effect to nearest friend behind."}],"Id":"88","Name":"Beetle","NameId":"Beetle","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Give one random friend +1 attack."},{"Level":2,"About":"End turn: Give one random friend +2 attack."},{"Level":3,"About":"End turn: Give one random friend +3 attack."}],"Id":"89","Name":"Bluebird","NameId":"Bluebird","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Two enemy attacks: Deal 1 damage to the first enemy. Works 2 times per battle."},{"Level":2,"About":"Two enemy attacks: Deal 2 damage to the first enemy. Works 2 times per battle."},{"Level":3,"About":"Two enemy attacks: Deal 3 damage to the first enemy. Works 2 times per battle."}],"Id":"401","Name":"Bombus Dahlbomii","NameId":"BombusDahlbomii","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain the Popcorn perk and +1 health."},{"Level":2,"About":"Start of battle: Gain the Popcorn perk and +2 health."},{"Level":3,"About":"Start of battle: Gain the Popcorn perk and +3 health."}],"Id":"775","Name":"Budgie","NameId":"Budgie","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"After first attack: Gain +2 attack."},{"Level":2,"About":"After first attack: Gain +4 attack."},{"Level":3,"About":"After first attack: Gain +6 attack."}],"Id":"189","Name":"Bulldog","NameId":"Bulldog","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 health for each roll (max 2)."},{"Level":2,"About":"Start of battle: Gain +2 health for each roll (max 2)."},{"Level":3,"About":"Start of battle: Gain +3 health for each roll (max 2)."}],"Id":"601","Name":"Bunyip","NameId":"Bunyip","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"85","Name":"Bus","NameId":"Bus","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"13","Name":"Chick","NameId":"Chick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Push the most healthy enemy one space forward."},{"Level":2,"About":"Start of battle: Push the most healthy enemy two spaces forward."},{"Level":3,"About":"Start of battle: Push the most healthy enemy three spaces forward."}],"Id":"541","Name":"Chihuahua","NameId":"Chihuahua","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Summon one 2/2 level 1 Loyal Chinchilla."},{"Level":2,"About":"Sell: Summon one 4/4 level 2 Loyal Chinchilla."},{"Level":3,"About":"Sell: Summon one 6/6 level 3 Loyal Chinchilla."}],"Id":"161","Name":"Chinchilla","NameId":"Chinchilla","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Stock one free copy of this pet\'s food perk."},{"Level":2,"About":"Sell: Stock two free copies of this pet\'s food perk."},{"Level":3,"About":"Sell: Stock three free copies of this pet\'s food perk."}],"Id":"184","Name":"Chipmunk","NameId":"Chipmunk","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Pack4"],"PacksRequired":["Pack2","Pack4"],"Rollable":true,"CustomArchetypes":["Perks","Mvp"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Cockroach and give it +1 experience."},{"Level":2,"About":"Faint: Summon one 1/1 Cockroach and give it +2 experience."},{"Level":3,"About":"Faint: Summon one 1/1 Cockroach and give it +3 experience."}],"Id":"18","Name":"Cockroach","NameId":"Cockroach","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend behind +2 health."},{"Level":2,"About":"Start of battle: Give the nearest friend behind +4 health."},{"Level":3,"About":"Start of battle: Give the nearest friend behind +6 health."}],"Id":"272","Name":"Cone Snail","NameId":"ConeSnail","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Does not provide shop rewards on level-up."},{"Level":2,"About":"Does not provide shop rewards on level-up."},{"Level":3,"About":"Does not provide shop rewards on level-up."}],"Id":"710","Name":"Cooked Roach","NameId":"CockroachToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"647","Name":"Cracked Egg","NameId":"EggLadCracked","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Cricket."},{"Level":2,"About":"Faint: Summon one 2/2 Cricket."},{"Level":3,"About":"Faint: Summon one 3/3 Cricket."}],"Id":"17","Name":"Cricket","NameId":"Cricket","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Attack and health can\'t go over 1."},{"Level":2,"About":"Attack and health can\'t go over 1."},{"Level":3,"About":"Attack and health can\'t go over 1."}],"Id":"788","Name":"Cuckoo Chick","NameId":"CuckooBaby","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Choose one witch toy that breaks after 2 turns."},{"Level":2,"About":"Sell: Choose one witch toy that breaks after 4 turns."},{"Level":3,"About":"Sell: Choose one witch toy that breaks after 6 turns."}],"Id":"611","Name":"Cuddle Toad","NameId":"CuddleToad","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"641","Name":"Daycrawler","NameId":"DayCrawler","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"58","Name":"Dirty Rat","NameId":"RatToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give shop pets +1 health."},{"Level":2,"About":"Sell: Give shop pets +2 health."},{"Level":3,"About":"Sell: Give shop pets +3 health."}],"Id":"26","Name":"Duck","NameId":"Duck","Tier":1,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give left-most shop pet +2 health."},{"Level":2,"About":"Sell: Give left-most shop pet +4 health."},{"Level":3,"About":"Sell: Give left-most shop pet +6 health."}],"Id":"113","Name":"Duckling","NameId":"BabyDuck","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Remove 1 attack from the first enemy."},{"Level":2,"About":"Faint: Remove 1 attack from the first two enemies."},{"Level":3,"About":"Faint: Remove 1 attack from the first three enemies."}],"Id":"406","Name":"Ethiopian Wolf","NameId":"EthiopianWolf","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Takes 1 less damage. Works 2 times per turn."},{"Level":2,"About":"Takes 2 less damage. Works 2 times per turn."},{"Level":3,"About":"Takes 3 less damage. Works 2 times per turn."}],"Id":"408","Name":"Fan Mussel","NameId":"FanMussel","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Feed one Corncob to the nearest friend behind."},{"Level":2,"About":"Faint: Feed one Corncob to the nearest two friends behind."},{"Level":3,"About":"Faint: Feed one Corncob to the nearest three friends behind."}],"Id":"693","Name":"Farmer Mouse","NameId":"FarmerMouse","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Ferret toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Ferret toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Ferret toy."}],"Id":"172","Name":"Ferret","NameId":"Ferret","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"343","Name":"Fire Pup","NameId":"FirePup","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 1 damage to ALL pets within one space."},{"Level":2,"About":"Faint: Deal 1 damage to ALL pets within two spaces."},{"Level":3,"About":"Faint: Deal 1 damage to ALL pets within three spaces."}],"Id":"548","Name":"Firefly","NameId":"Firefly","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Level-up: Give two friends +1 attack and +1 health."},{"Level":2,"About":"Level-up: Give two friends +2 attack and +2 health."},{"Level":3,"About":"No ability."}],"Id":"32","Name":"Fish","NameId":"Fish","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +1 health per Faint friend."},{"Level":2,"About":"Start of battle: Gain +2 attack and +2 health per Faint friend."},{"Level":3,"About":"Start of battle: Gain +3 attack and +3 health per Faint friend."}],"Id":"198","Name":"Frilled Dragon","NameId":"FrilledDragon","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: If both adjacent friends are tier 2 or lower, swap their stats."},{"Level":2,"About":"Sell: If both adjacent friends are tier 4 or lower, swap their stats."},{"Level":3,"About":"Sell: If both adjacent friends are tier 6 or lower, swap their stats."}],"Id":"139","Name":"Frog","NameId":"Frog","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: If you have a toy, gain +2 health."},{"Level":2,"About":"Start of battle: If you have a toy, gain +4 health."},{"Level":3,"About":"Start of battle: If you have a toy, gain +6 health."}],"Id":"229","Name":"Gecko","NameId":"Gecko","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"644","Name":"Giant Eyes Dog","NameId":"GiantEyesDog","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Shop tier upgraded: Give the two nearest pets behind +1 health."},{"Level":2,"About":"Shop tier upgraded: Give the two nearest pets behind +2 health."},{"Level":3,"About":"Shop tier upgraded: Give the two nearest pets behind +3 health."}],"Id":"550","Name":"Gibbon","NameId":"Gibbon","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"648","Name":"Goat","NameId":"ChimeraGoat","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Always there for his friends!"},{"Level":2,"About":"Always there for his friends!"},{"Level":3,"About":"Always there for his friends!"}],"Id":"188","Name":"Golden Retriever","NameId":"GoldenRetriever","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give friends plenty of useful perks!"},{"Level":2,"About":"Start of battle: Give friends silly amounts of useful perks!"},{"Level":3,"About":"Start of battle: Give friends silly amounts of useful perks!"}],"Id":"658","Name":"Good Dog","NameId":"GoodDog","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 attack from the first enemy."},{"Level":2,"About":"Start of battle: Remove 2 attack from the first enemy."},{"Level":3,"About":"Start of battle: Remove 3 attack from the first enemy."}],"Id":"232","Name":"Goose","NameId":"Goose","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":7,"Health":13,"Abilities":[{"Level":1,"About":"Summoned: Deal 5 damage to ALL other pets."},{"Level":2,"About":"Summoned: Deal 10 damage to ALL other pets."},{"Level":3,"About":"Summoned: Deal 15 damage to ALL other pets."}],"Id":"335","Name":"Great One","NameId":"Cthulu","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Gain +1 trumpet."},{"Level":2,"About":"Faint: Gain +2 trumpets."},{"Level":3,"About":"Faint: Gain +3 trumpets."}],"Id":"233","Name":"Groundhog","NameId":"Groundhog","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack until next turn."},{"Level":2,"About":"Friend summoned: Give it +2 attack until next turn."},{"Level":3,"About":"Friend summoned: Give it +3 attack until next turn."}],"Id":"39","Name":"Horse","NameId":"Horse","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Give Strawberry perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Strawberry perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Strawberry perk to the three nearest friends behind."}],"Id":"138","Name":"Hummingbird","NameId":"Hummingbird","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Perks"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"643","Name":"Head","NameId":"HydraHead","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend transformed: Give it +1 to its highest stat until next turn."},{"Level":2,"About":"Friend transformed: Give it +2 to its highest stat until next turn."},{"Level":3,"About":"Friend transformed: Give it +3 to its highest stat until next turn."}],"Id":"417","Name":"Ili Pika","NameId":"IliPika","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Before battle: Transform into ANY useful level 1 pet from tier 1."},{"Level":2,"About":"Before battle: Transform into ANY useful level 1 pet from tier 2."},{"Level":3,"About":"Before battle: Transform into ANY useful level 1 pet from tier 3."}],"Id":"418","Name":"Iriomote Cat","NameId":"IriomoteCat","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +1 attack."},{"Level":2,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +2 attack."},{"Level":3,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +3 attack."}],"Id":"131","Name":"Kiwi","NameId":"Kiwi","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained perk: Gain +2 attack until next turn."},{"Level":2,"About":"Friendly gained perk: Gain +4 attack until next turn."},{"Level":3,"About":"Friendly gained perk: Gain +6 attack until next turn."}],"Id":"92","Name":"Ladybug","NameId":"Ladybug","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold next turn."},{"Level":2,"About":"Sell: Gain +2 gold next turn."},{"Level":3,"About":"Sell: Gain +3 gold next turn."}],"Id":"555","Name":"Lemming","NameId":"Lemming","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"650","Name":"Lion","NameId":"ChimeraLion","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"282","Name":"Lizard Tail","NameId":"LizardToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"183","Name":"Loyal Chinchilla","NameId":"ChinchillaToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Spend up to 1 gold and gain it back next turn."},{"Level":2,"About":"End turn: Spend up to 2 gold and gain it back next turn."},{"Level":3,"About":"End turn: Spend up to 3 gold and gain it back next turn."}],"Id":"239","Name":"Magpie","NameId":"Magpie","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Gain +1 health. Works 3 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Gain +2 health. Works 3 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Gain +3 health. Works 3 times per turn."}],"Id":"421","Name":"Malay Tapir","NameId":"MalayTapir","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Your next roll is free."},{"Level":2,"About":"Sell: Your next two rolls are free."},{"Level":3,"About":"Sell: Your next three rolls are free."}],"Id":"204","Name":"Marmoset","NameId":"Marmoset","Tier":1,"TierMax":2147483647,"Packs":["Pack3","Custom"],"PacksRequired":["Pack3","Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Attack for double damage."},{"Level":2,"About":"Attack for triple damage."},{"Level":3,"About":"Attack for quadruple damage."}],"Id":"384","Name":"Monty","NameId":"WhiteKillerRabbit","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Deal 1 damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 1 damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 1 damage to three random enemies."}],"Id":"47","Name":"Mosquito","NameId":"Mosquito","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give front-most friendly pet +2 attack."},{"Level":2,"About":"Start of battle: Give front-most friendly pet +4 attack."},{"Level":3,"About":"Start of battle: Give front-most friendly pet +6 attack."}],"Id":"141","Name":"Moth","NameId":"Moth","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Replace shop food with one free Apple."},{"Level":2,"About":"Sell: Replace shop food with one free Better Apple."},{"Level":3,"About":"Sell: Replace shop food with one free Best Apple."}],"Id":"48","Name":"Mouse","NameId":"Mouse","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend gained experience: Gain +1 attack until next turn."},{"Level":2,"About":"Friend gained experience: Gain +2 attack until next turn."},{"Level":3,"About":"Friend gained experience: Gain +3 attack until next turn."}],"Id":"362","Name":"Murmel","NameId":"Murloc","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Egg perk has regular effect."},{"Level":2,"About":"Egg perk has double effect."},{"Level":3,"About":"Egg perk has triple effect."}],"Id":"508","Name":"Nest","NameId":"Nest","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: If there are no friendly duplicates, gain +3 attack and +1 health."},{"Level":2,"About":"Start of battle: If there are no friendly duplicates, gain +6 attack and +2 health."},{"Level":3,"About":"Start of battle: If there are no friendly duplicates, gain +9 attack and +3 health."}],"Id":"757","Name":"Nudibranch","NameId":"Nudibranchs","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Give one random Faint pet in the shop +1 attack and +1 health."},{"Level":2,"About":"Sell: Give one random Faint pet in the shop +2 attack and +2 health."},{"Level":3,"About":"Sell: Give one random Faint pet in the shop +3 attack and +3 health."}],"Id":"187","Name":"Opossum","NameId":"Opossum","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Give one random friend +1 health."},{"Level":2,"About":"Buy: Give two random friends +1 health."},{"Level":3,"About":"Buy: Give three random friends +1 health."}],"Id":"51","Name":"Otter","NameId":"Otter","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Make adjacent perk-less pets Spooked."},{"Level":2,"About":"Faint: Make adjacent perk-less pets Spooked with double effect."},{"Level":3,"About":"Faint: Make adjacent perk-less pets Spooked with triple effect."}],"Id":"745","Name":"Peacock Spider","NameId":"PeacockSpider","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Gains mana: Gain 2 bonus mana. Works 2 times per turn."},{"Level":2,"About":"Gains mana: Gain 4 bonus mana. Works 2 times per turn."},{"Level":3,"About":"Gains mana: Gain 6 bonus mana. Works 2 times per turn."}],"Id":"627","Name":"Pengobble","NameId":"Pengobble","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 3 times per turn."}],"Id":"558","Name":"Pheasant","NameId":"Pheasant","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Perks"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 1 trumpet to deal 3 damage to one random enemy."},{"Level":2,"About":"Faint: Spend 1 trumpet to deal 3 damage to two random enemies."},{"Level":3,"About":"Faint: Spend 1 trumpet to deal 3 damage to three random enemies."}],"Id":"251","Name":"Pied Tamarin","NameId":"PiedTamarin","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"],"Random":true},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold."},{"Level":2,"About":"Sell: Gain +2 gold."},{"Level":3,"About":"Sell: Gain +3 gold."}],"Id":"59","Name":"Pig","NameId":"Pig","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Stock one free Bread Crumbs."},{"Level":2,"About":"Sell: Stock two free Bread Crumbs."},{"Level":3,"About":"Sell: Stock three free Bread Crumbs."}],"Id":"559","Name":"Pigeon","NameId":"Pigeon","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Stock one free Sleeping Pill."},{"Level":2,"About":"Sell: Stock two free Sleeping Pills."},{"Level":3,"About":"Sell: Stock three free Sleeping Pills."}],"Id":"149","Name":"Pillbug","NameId":"Pillbug","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give three random friends +1 attack and +1 health and remove this."},{"Level":2,"About":"Start of battle: Give three random friends +2 attack and +2 health and remove this."},{"Level":3,"About":"Start of battle: Give three random friends +3 attack and +3 health and remove this."}],"Id":"761","Name":"Pygmy Seahorse","NameId":"PygmySeahorse","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Choose one tier 1 food to stock at 1 gold."},{"Level":2,"About":"Sell: Choose one tier 1 food to stock at 1 gold. Stock two copies."},{"Level":3,"About":"Sell: Choose one tier 1 food to stock at 1 gold. Stock three copies."}],"Id":"704","Name":"Quoll","NameId":"Quoll","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Food","Perks"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"62","Name":"Ram","NameId":"Ram","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"638","Name":"Rock","NameId":"Rock","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Give it +1 health. Works 2 times per turn."},{"Level":2,"About":"Friend ahead hurt: Give it +2 health. Works 2 times per turn."},{"Level":3,"About":"Friend ahead hurt: Give it +3 health. Works 2 times per turn."}],"Id":"260","Name":"Silkmoth","NameId":"Silkmoth","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Sells for +2 gold extra, but lose 1 next turn."},{"Level":2,"About":"Sell: Sells for +4 gold extra, but lose 2 next turn."},{"Level":3,"About":"Sell: Sells for +6 gold extra, but lose 3 next turn."}],"Id":"566","Name":"Silverfish","NameId":"Silverfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"},{"Level":2,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"},{"Level":3,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"}],"Id":"71","Name":"Sloth","NameId":"Sloth","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"642","Name":"Smaller Slime","NameId":"SmallerSlime","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Smallest Slug."},{"Level":2,"About":"Faint: Summon one 2/2 Smallest Slug."},{"Level":3,"About":"Faint: Summon one 3/3 Smallest Slug."}],"Id":"270","Name":"Smaller Slug","NameId":"SlugToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"477","Name":"Smallest Slug","NameId":"SlugToken2","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"649","Name":"Snake","NameId":"ChimeraSnake","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Faint and summon one 4/2 Cracked Egg."},{"Level":2,"About":"Start of battle: Faint and summon one 8/4 Cracked Egg."},{"Level":3,"About":"Start of battle: Faint and summon one 12/6 Cracked Egg."}],"Id":"617","Name":"Sneaky Egg","NameId":"EggLadCovered","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Set attack to the current shop tier + 1."},{"Level":2,"About":"Start of turn: Set attack to the current shop tier + 2."},{"Level":3,"About":"Start of turn: Set attack to the current shop tier + 3."}],"Id":"571","Name":"Termite","NameId":"Termite","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give one random enemy +1 health."},{"Level":2,"About":"Faint: Give one random enemy +1 health."},{"Level":3,"About":"Faint: Give one random enemy +1 health."}],"Id":"713","Name":"Togian Babirusa","NameId":"TogianBabirusa","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Stock one free Seed Pile."},{"Level":2,"About":"Sell: Stock two free Seed Pile."},{"Level":3,"About":"Sell: Stock three free Seed Pile."}],"Id":"438","Name":"Tooth Billed Pigeon","NameId":"ToothBilledPigeon","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Jump to the front space and gain +1 experience."},{"Level":2,"About":"Start of battle: Jump to the front space and gain +2 experience."},{"Level":3,"About":"Start of battle: Jump to the front space and gain +3 experience."}],"Id":"379","Name":"Tsuchinoko","NameId":"Tsuchinoko","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Guard"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Make the nearest friend ahead Dazed."},{"Level":2,"About":"End turn: Make the two nearest friends ahead Dazed."},{"Level":3,"About":"End turn: Make the three nearest friends ahead Dazed."}],"Id":"746","Name":"Umbrella Bird","NameId":"LongWattledUmbrellabird","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Make one random perk-less enemy Toasty."},{"Level":2,"About":"Faint: Make two random perk-less enemies Toasty."},{"Level":3,"About":"Faint: Make three random perk-less enemies Toasty."}],"Id":"440","Name":"Volcano Snail","NameId":"VolcanoSnail","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friendly ate food: Give them +1 attack until next turn. Works 3 times per turn."},{"Level":2,"About":"Friendly ate food: Give them +2 attack until next turn. Works 3 times per turn."},{"Level":3,"About":"Friendly ate food: Give them +3 attack until next turn. Works 3 times per turn."}],"Id":"708","Name":"Weevil","NameId":"Weevil","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"646","Name":"Young Phoenix","NameId":"BabyPhoenix","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"86","Name":"Zombie Cricket","NameId":"CricketToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"31","Name":"Zombie Fly","NameId":"FlyToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Give three random friends +1 attack."},{"Level":2,"About":"Buy: Give three random friends +2 attack."},{"Level":3,"About":"Buy: Give three random friends +3 attack."}],"Id":"210","Name":"African Penguin","NameId":"AfricanPenguin","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Replace shop food with three random food and discount them by 1 gold."},{"Level":2,"About":"Sell: Replace shop food with three random food and discount them by 2 gold."},{"Level":3,"About":"Sell: Replace shop food with three random food and discount them by 3 gold."}],"Id":"686","Name":"Albino Squirrel","NameId":"AlbinoSquirrel","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the nearest friend ahead +1 attack on odd turns and +1 health on even."},{"Level":2,"About":"End turn: Give the nearest friend ahead +2 attack on odd turns and +2 health on even."},{"Level":3,"About":"End turn: Give the nearest friend ahead +3 attack on odd turns and +3 health on even."}],"Id":"811","Name":"Amphisbaena","NameId":"Amphisbaena","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Really angry!"},{"Level":2,"About":"Really angry!"},{"Level":3,"About":"Really angry!"}],"Id":"821","Name":"Angry Pygmy Hog","NameId":"AngryPygmyHog","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend jumped or transformed: Gain +3 health until next turn. Works 2 times per turn."},{"Level":2,"About":"Friend jumped or transformed: Gain +6 health until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend jumped or transformed: Gain +9 health until next turn. Works 2 times per turn."}],"Id":"394","Name":"Araripe Manakin","NameId":"AraripeManakin","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Guard"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Friendly attacked: Remove its Strawberry perk to deal 2 damage to the last enemy."},{"Level":2,"About":"Friendly attacked: Remove its Strawberry perk to deal 4 damage to the last enemy."},{"Level":3,"About":"Friendly attacked: Remove its Strawberry perk to deal 6 damage to the last enemy."}],"Id":"132","Name":"Atlantic Puffin","NameId":"AtlanticPuffin","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +1 experience."},{"Level":2,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +2 experience."},{"Level":3,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +3 experience."}],"Id":"537","Name":"Bass","NameId":"Bass","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Make one random enemy Weak. Works 1 time per battle."},{"Level":2,"About":"Before attack: Make one random enemy Weak. Works 2 times per battle."},{"Level":3,"About":"Before attack: Make one random enemy Weak. Works 3 times per battle."}],"Id":"87","Name":"Bat","NameId":"Bat","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/3 Dolphin in the back and give it Rice."},{"Level":2,"About":"Faint: Summon two 2/3 Dolphins in the back and give them Rice."},{"Level":3,"About":"Faint: Summon three 2/3 Dolphins in the back and give them Rice."}],"Id":"213","Name":"Beluga Sturgeon","NameId":"BelugaSturgeon","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Gain one free roll next turn."},{"Level":2,"About":"Faint: Gain two free rolls next turn."},{"Level":3,"About":"Faint: Gain three free rolls next turn."}],"Id":"334","Name":"Bigfoot","NameId":"Bigfoot","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend lost perk: Give it Garlic. Works 1 time per turn."},{"Level":2,"About":"Friend lost perk: Give it Garlic. Works 2 times per turn."},{"Level":3,"About":"Friend lost perk: Give it Garlic. Works 3 times per turn."}],"Id":"758","Name":"Bilby","NameId":"Bilby","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Gain +2 trumpets."},{"Level":2,"About":"Faint: Gain +4 trumpets."},{"Level":3,"About":"Faint: Gain +6 trumpets."}],"Id":"215","Name":"Black Necked Stilt","NameId":"BlackNeckedStilt","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Knock out: Give +1 health to one random friend. Triggers 2 times."},{"Level":2,"About":"Knock out: Give +1 health to one random friend. Triggers 4 times."},{"Level":3,"About":"Knock out: Give +1 health to one random friend. Triggers 6 times."}],"Id":"339","Name":"Chupacabra","NameId":"Chupacabra","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain health equal to 25% of the most healthy friend."},{"Level":2,"About":"Start of battle: Gain health equal to 50% of the most healthy friend."},{"Level":3,"About":"Start of battle: Gain health equal to 75% of the most healthy friend."}],"Id":"16","Name":"Crab","NameId":"Crab","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 1 time per battle."},{"Level":2,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 2 times per battle."},{"Level":3,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 3 times per battle."}],"Id":"404","Name":"Darwin\'s Fox","NameId":"DarwinsFox","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from one tier above."},{"Level":2,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from two tiers above."},{"Level":3,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from three tiers above."}],"Id":"768","Name":"Desert Rain Frog","NameId":"DesertRainFrog","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +4 health in battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +8 health in battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +12 health in battle."}],"Id":"220","Name":"Door Head Ant","NameId":"DoorHeadAnt","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Activate three friendly Strawberries."},{"Level":2,"About":"Faint: Activate three friendly Strawberries with double effect."},{"Level":3,"About":"Faint: Activate three friendly Strawberries with triple effect."}],"Id":"24","Name":"Dove","NameId":"Dove","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give the two left-most shop pets +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give the two left-most shop pets +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give the two left-most shop pets +3 attack and +3 health."}],"Id":"104","Name":"Dromedary","NameId":"Dromedary","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and deal 3 damage to the last enemy in battle."},{"Level":2,"About":"Empty front space: Jump to the front and deal 6 damage to the last enemy in battle."},{"Level":3,"About":"Empty front space: Jump to the front and deal 9 damage to the last enemy in battle."}],"Id":"341","Name":"Drop Bear","NameId":"DropBear","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 1 gold."},{"Level":2,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 2 gold."},{"Level":3,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 3 gold."}],"Id":"545","Name":"Dumbo Octopus","NameId":"DumboOctopus","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to the least healthy enemy for each food eaten this turn, up to 3 food."},{"Level":2,"About":"Faint: Deal 6 damage to the least healthy enemy for each food eaten this turn, up to 3 food."},{"Level":3,"About":"Faint: Deal 9 damage to the least healthy enemy for each food eaten this turn, up to 3 food."}],"Id":"721","Name":"Dung Beetle","NameId":"DungBeetle","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption","Food"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Give adjacent friends +1 attack. Works 5 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Give adjacent friends +2 attack. Works 5 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Give adjacent friends +3 attack. Works 5 times per turn."}],"Id":"407","Name":"European Mink","NameId":"EuropeanMink","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Feed one Corncob to the nearest friend ahead."},{"Level":2,"About":"End turn: Feed one Corncob to the nearest two friends ahead."},{"Level":3,"About":"End turn: Feed one Corncob to the nearest three friends ahead."}],"Id":"690","Name":"Farmer Chicken","NameId":"FarmerChicken","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Give the two nearest friends behind +1 attack and +1 health."},{"Level":2,"About":"Faint: Give the two nearest friends behind +2 attack and +2 health."},{"Level":3,"About":"Faint: Give the two nearest friends behind +3 attack and +3 health."}],"Id":"29","Name":"Flamingo","NameId":"Flamingo","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friend gained ailment: Give it Rice. Works 1 time per turn."},{"Level":2,"About":"Friend gained ailment: Give it Rice. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Give it Rice. Works 3 times per turn."}],"Id":"137","Name":"Frigatebird","NameId":"Frigatebird","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Make the first enemy Cold."},{"Level":2,"About":"Faint: Make the first enemy Cold twice for double effect."},{"Level":3,"About":"Faint: Make the first enemy Cold thrice for triple effect."}],"Id":"344","Name":"Frost Wolf","NameId":"FrostWolf","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +5 damage, once.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 2 damage to it."},{"Level":2,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 4 damage to it."},{"Level":3,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 6 damage to it."}],"Id":"695","Name":"Fruit Fly","NameId":"FruitFly","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give the nearest friend behind +2 health. Spend mana to give 1 more per mana."},{"Level":2,"About":"Faint: Give the nearest friend behind +4 health. Spend mana to give 2 more per mana."},{"Level":3,"About":"Faint: Give the nearest friend behind +6 health. Spend mana to give 3 more per mana."}],"Id":"345","Name":"Gargoyle","NameId":"Gargoyle","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Takes 3 less damage from abilities."},{"Level":2,"About":"Takes 6 less damage from abilities."},{"Level":3,"About":"Takes 9 less damage from abilities."}],"Id":"346","Name":"Ghost Kitten","NameId":"GhostKitten","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 1 time per battle."},{"Level":2,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 2 times per battle."},{"Level":3,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 3 times per battle."}],"Id":"800","Name":"Giant Squirrel","NameId":"GiantSquirrel","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Increase sell value by 1 gold."},{"Level":2,"About":"Start of turn: Increase sell value by 2 gold."},{"Level":3,"About":"Start of turn: Increase sell value by 3 gold."}],"Id":"121","Name":"Gold Fish","NameId":"GoldFish","Tier":2,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold. Triple if attack is at least 10."},{"Level":2,"About":"Sell: Gain +2 gold. Triple if attack is at least 10."},{"Level":3,"About":"Sell: Gain +3 gold. Triple if attack is at least 10."}],"Id":"634","Name":"Golden Beetle","NameId":"DwarvenBeetle","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Cycle","Gold"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Summon one 1/1 Guinea Pig."},{"Level":2,"About":"Buy: Summon one 2/2 Guinea Pig."},{"Level":3,"About":"Buy: Summon one 3/3 Guinea Pig."}],"Id":"109","Name":"Guinea Pig","NameId":"GuineaPig","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 2 damage to ALL pets."},{"Level":2,"About":"Faint: Deal 4 damage to ALL pets."},{"Level":3,"About":"Faint: Deal 6 damage to ALL pets."}],"Id":"37","Name":"Hedgehog","NameId":"Hedgehog","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Sell: Give friends +1 attack for each battle this has fought evenly spread."},{"Level":2,"About":"Sell: Give friends +2 attack for each battle this has fought evenly spread."},{"Level":3,"About":"Sell: Give friends +3 attack for each battle this has fought evenly spread."}],"Id":"234","Name":"Hercules Beetle","NameId":"HerculesBeetle","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: If current perk is tier 2 or lower, copy it to the Golden Retriever when summoned."},{"Level":2,"About":"Start of battle: If current perk is tier 4 or lower, copy it to the Golden Retriever when summoned."},{"Level":3,"About":"Start of battle: If current perk is tier 6 or lower, copy it to the Golden Retriever when summoned."}],"Id":"783","Name":"Hermit Crab","NameId":"HermitCrab","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for one friend of each tier."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for one friend of each tier."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for one friend of each tier."}],"Id":"726","Name":"Honduran White Bat","NameId":"HonduranWhiteBat","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Enemy summoned or pushed: Deal 2 damage to it."},{"Level":2,"About":"Enemy summoned or pushed: Deal 4 damage to it."},{"Level":3,"About":"Enemy summoned or pushed: Deal 6 damage to it."}],"Id":"147","Name":"Iguana","NameId":"Iguana","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it +1 attack. Double if it jumped. Works 3 times per battle."},{"Level":2,"About":"Before friend attacks: Give it +2 attack. Double if it jumped. Works 3 times per battle."},{"Level":3,"About":"Before friend attacks: Give it +3 attack. Double if it jumped. Works 3 times per battle."}],"Id":"353","Name":"Jackalope","NameId":"Jackalope","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend level-up: Gain +1 attack and +1 health."},{"Level":2,"About":"Friend level-up: Gain +2 attack and +2 health."},{"Level":3,"About":"Friend level-up: Gain +3 attack and +3 health."}],"Id":"122","Name":"Jellyfish","NameId":"Jellyfish","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Gain +1 attack and +1 health."},{"Level":2,"About":"Friend ahead attacks: Gain +2 attack and +2 health."},{"Level":3,"About":"Friend ahead attacks: Gain +3 attack and +3 health."}],"Id":"40","Name":"Kangaroo","NameId":"Kangaroo","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Friend hurt: Give it the Eucalyptus perk. Works 1 time per turn."},{"Level":2,"About":"Friend hurt: Give it the Eucalyptus perk. Works 2 times per turn."},{"Level":3,"About":"Friend hurt: Give it the Eucalyptus perk. Works 3 times per turn."}],"Id":"112","Name":"Koala","NameId":"Koala","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Lemur toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Lemur toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Lemur toy."}],"Id":"236","Name":"Lemur","NameId":"Lemur","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Summon one 3/1 Lizard Tail. Works 2 times per turn."},{"Level":2,"About":"Hurt: Summon one 6/2 Lizard Tail. Works 2 times per turn."},{"Level":3,"About":"Hurt: Summon one 9/3 Lizard Tail. Works 2 times per turn."}],"Id":"237","Name":"Lizard","NameId":"Lizard","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: Replace own ailment with +2 attack and +2 health."},{"Level":2,"About":"Before attack: Replace own ailment with +4 attack and +4 health."},{"Level":3,"About":"Before attack: Replace own ailment with +6 attack and +6 health."}],"Id":"724","Name":"Mandarinfish","NameId":"Mandarinfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Break friendly tier 2 or lower toy."},{"Level":2,"About":"Faint: Break friendly tier 4 or lower toy."},{"Level":3,"About":"Faint: Break friendly tier 6 or lower toy."}],"Id":"405","Name":"Mandrill","NameId":"Drill","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give adjacent friends +1 attack for every 4 gold spent this turn."},{"Level":2,"About":"Start of battle: Give adjacent friends +2 attack for every 4 gold spent this turn."},{"Level":3,"About":"Start of battle: Give adjacent friends +3 attack for every 4 gold spent this turn."}],"Id":"203","Name":"Meerkat","NameId":"Meerkat","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Gain ANY useful perk from the previous tier."},{"Level":2,"About":"Start of battle: Gain ANY useful perk from the previous tier with double effect."},{"Level":3,"About":"Start of battle: Gain ANY useful perk from the previous tier with triple effect."}],"Id":"700","Name":"Mink","NameId":"Mink","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Anyone gained ailment: Gain +1 attack and +1 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Anyone gained ailment: Gain +2 attack and +2 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Anyone gained ailment: Gain +3 attack and +3 health until next turn. Works 5 times per turn."}],"Id":"604","Name":"Mothman","NameId":"Mothman","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon one Crawler with 3 attack, and +1 health for each friend summoned this turn."},{"Level":2,"About":"Faint: Summon one Crawler with 6 attack, and +2 health for each friend summoned this turn."},{"Level":3,"About":"Faint: Summon one Crawler with 9 attack, and +3 health for each friend summoned this turn."}],"Id":"605","Name":"Nightcrawler","NameId":"NightCrawler","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +1 experience."},{"Level":2,"About":"Start of battle: Give the two front-most friends +1 experience."},{"Level":3,"About":"Start of battle: Give the three front-most friends +1 experience."}],"Id":"639","Name":"Ogopogo","NameId":"Ogopogo","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Make one random enemy Spooked and multiply the effect once for each roll this turn."},{"Level":2,"About":"Faint: Make one random enemy Spooked and multiply the effect twice for each roll this turn."},{"Level":3,"About":"Faint: Make one random enemy Spooked and multiply the effect thrice for each roll this turn."}],"Id":"725","Name":"Olm","NameId":"Olm","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments","Roll"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Faint to give 50% attack and health to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Faint to give 100% attack and health to the nearest friend ahead."},{"Level":3,"About":"Start of battle: Faint to give 150% attack and health to the nearest friend ahead."}],"Id":"107","Name":"Panda","NameId":"Panda","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Hurt: Gain +3 attack."},{"Level":2,"About":"Hurt: Gain +6 attack."},{"Level":3,"About":"Hurt: Gain +9 attack."}],"Id":"54","Name":"Peacock","NameId":"Peacock","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Activate <b>End Turn</b> on one random tier 2 or lower friend."},{"Level":2,"About":"Faint: Activate <b>End Turn</b> on one random tier 4 or lower friend."},{"Level":3,"About":"Faint: Activate <b>End Turn</b> on one random tier 6 or lower friend."}],"Id":"732","Name":"Pink Robin","NameId":"PinkRobin","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Transform the nearest friend ahead into another pet from the same tier."},{"Level":2,"About":"Start of turn: Transform the nearest two friends ahead into other pets from the same tier."},{"Level":3,"About":"Start of turn: Transform the nearest three friends ahead into other pets from the same tier."}],"Id":"425","Name":"Proboscis Monkey","NameId":"ProboscisMonkey","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 5 attack and health."},{"Level":2,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 10 attack and health."},{"Level":3,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 15 attack and health."}],"Id":"427","Name":"Pygmy Hog","NameId":"PygmyHog","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":["Transform","Summon"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Dirty Rat up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."},{"Level":2,"About":"Faint: Summon two 1/1 Dirty Rats up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."},{"Level":3,"About":"Faint: Summon three 1/1 Dirty Rats up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."}],"Id":"57","Name":"Rat","NameId":"Rat","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give Strawberry perk and +2 attack to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Give Strawberry perk and +2 attack to the two nearest friends ahead."},{"Level":3,"About":"Start of battle: Give Strawberry perk and +2 attack to the three nearest friends ahead."}],"Id":"765","Name":"Roadrunner","NameId":"Roadrunner","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Give the back-most friend +1 attack and +1 health.","CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 2/3 level 1 Nest and give it Egg perk."},{"Level":2,"About":"Start of battle: Summon one 4/6 level 2 Nest and give it Egg perk."},{"Level":3,"About":"Start of battle: Summon one 6/9 level 3 Nest and give it Egg perk."}],"Id":"255","Name":"Robin","NameId":"Robin","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before attack: Deal 2 damage to target, once.","CustomArchetypes":["Cycle"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: If outnumbered, gain +2 attack and +2 health. Works 3 times per turn."},{"Level":2,"About":"Before attack: If outnumbered, gain +4 attack and +4 health. Works 3 times per turn."},{"Level":3,"About":"Before attack: If outnumbered, gain +6 attack and +6 health. Works 3 times per turn."}],"Id":"430","Name":"Saker Falcon","NameId":"SakerFalcon","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +1 health for each level of each Sell friend."},{"Level":2,"About":"Start of battle: Gain +2 attack and +2 health for each level of each Sell friend."},{"Level":3,"About":"Start of battle: Gain +3 attack and +3 health for each level of each Sell friend."}],"Id":"164","Name":"Salamander","NameId":"Salamander","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the highest attack friend -1 attack and +2 health."},{"Level":2,"About":"End turn: Give the two highest attack friends -1 attack and +2 health."},{"Level":3,"About":"End turn: Give the three highest attack friends -1 attack and +2 health."}],"Id":"431","Name":"Saola","NameId":"Saola","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +2 health until next turn."},{"Level":2,"About":"Friend summoned: Give it +4 health until next turn."},{"Level":3,"About":"Friend summoned: Give it +6 health until next turn."}],"Id":"191","Name":"Sea Turtle","NameId":"SeaTurtle","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Remove 5 health from the first enemy."},{"Level":2,"About":"Faint: Remove 5 health from the first two enemies."},{"Level":3,"About":"Faint: Remove 5 health from the first three enemies."}],"Id":"258","Name":"Sea Urchin","NameId":"SeaUrchin","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Push the last enemy one space forward."},{"Level":2,"About":"Start of battle: Push the last enemy two spaces forward."},{"Level":3,"About":"Start of battle: Push the last enemy three spaces forward."}],"Id":"152","Name":"Seahorse","NameId":"Seahorse","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend faints: If it had a Strawberry, summon one 2/2 friend in its place. Works 2 times per turn."},{"Level":2,"About":"Friend faints: If it had a Strawberry, summon one 4/4 friend in its place. Works 2 times per turn."},{"Level":3,"About":"Friend faints: If it had a Strawberry, summon one 6/6 friend in its place. Works 2 times per turn."}],"Id":"803","Name":"Shima Enaga","NameId":"ShimaEnaga","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend sold: Give one random friend +1 health. Works 3 times per turn."},{"Level":2,"About":"Friend sold: Give one random friend +2 health. Works 3 times per turn."},{"Level":3,"About":"Friend sold: Give one random friend +3 health. Works 3 times per turn."}],"Id":"67","Name":"Shrimp","NameId":"Shrimp","Tier":2,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: If you lost last battle, give the three nearest friends ahead +1 attack."},{"Level":2,"About":"End turn: If you lost last battle, give the three nearest friends ahead +2 attack."},{"Level":3,"About":"End turn: If you lost last battle, give the three nearest friends ahead +3 attack."}],"Id":"72","Name":"Snail","NameId":"Snail","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 adventurous toy."},{"Level":2,"About":"Buy: Choose one level 2 adventurous toy."},{"Level":3,"About":"Buy: Choose one level 3 adventurous toy."}],"Id":"376","Name":"Sphinx","NameId":"Sphinx","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one tier 3 pet as a 2/2 level 1."},{"Level":2,"About":"Faint: Summon one tier 3 pet as a 4/4 level 2."},{"Level":3,"About":"Faint: Summon one tier 3 pet as a 6/6 level 3."}],"Id":"74","Name":"Spider","NameId":"Spider","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Stock one random canned ailment."},{"Level":2,"About":"Start of turn: Stock two random canned ailments to choose from."},{"Level":3,"About":"Start of turn: Stock three random canned ailments to choose from."}],"Id":"735","Name":"Spotted Handfish","NameId":"SpottedHandfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 1 trumpet to make the first enemy Inked."},{"Level":2,"About":"Faint: Spend 1 trumpet to make the two first enemies Inked."},{"Level":3,"About":"Faint: Spend 1 trumpet to make the three first enemies Inked."}],"Id":"177","Name":"Squid","NameId":"Squid","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Summon one level 1 pet from your current tier as a 1/1."},{"Level":2,"About":"Sell: Summon one level 2 pet from your current tier as a 1/1."},{"Level":3,"About":"Sell: Summon one level 3 pet from your current tier as a 1/1."}],"Id":"263","Name":"Stoat","NameId":"Stoat","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle","Mvp"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon ANY one level 1 pet from the previous shop tier as a 2/2."},{"Level":2,"About":"Faint: Summon ANY one level 2 pet from the previous shop tier as a 4/4."},{"Level":3,"About":"Faint: Summon ANY one level 3 pet from the previous shop tier as a 6/6."}],"Id":"136","Name":"Stork","NameId":"Stork","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Gain +1 gold."},{"Level":2,"About":"Start of turn: Gain +2 gold."},{"Level":3,"About":"Start of turn: Gain +3 gold."}],"Id":"76","Name":"Swan","NameId":"Swan","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained perk: Give two random friends +1 health until next turn."},{"Level":2,"About":"Friendly gained perk: Give two random friends +2 health until next turn."},{"Level":3,"About":"Friendly gained perk: Give two random friends +3 health until next turn."}],"Id":"99","Name":"Tabby Cat","NameId":"TabbyCat","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform into a level 1 Frog and gain +2 experience."},{"Level":2,"About":"Start of battle: Transform into a level 1 Frog and gain +4 experience."},{"Level":3,"About":"Start of battle: Transform into a level 1 Frog and gain +6 experience."}],"Id":"805","Name":"Tadpole","NameId":"Tadpole","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Transform","Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform into a level 1 Weasel."},{"Level":2,"About":"Start of battle: Transform into a level 2 Weasel."},{"Level":3,"About":"Start of battle: Transform into a level 3 Weasel."}],"Id":"435","Name":"Taita Shrew","NameId":"TaitaShrew","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Gold"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/2 African Wild Dog that jump-attacks the second enemy."},{"Level":2,"About":"Faint: Summon one 6/4 African Wild Dog that jump-attacks the second enemy."},{"Level":3,"About":"Faint: Summon one 9/6 African Wild Dog that jump-attacks the second enemy."}],"Id":"715","Name":"Takhi","NameId":"Takhi","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to one random enemy and prioritize those with ailments."},{"Level":2,"About":"Faint: Deal 6 damage to one random enemy and prioritize those with ailments."},{"Level":3,"About":"Faint: Deal 9 damage to one random enemy and prioritize those with ailments."}],"Id":"731","Name":"Thorny Dragon","NameId":"ThornyDragon","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the second nearest friend ahead +3 mana."},{"Level":2,"About":"Start of battle: Give the second nearest friend ahead +6 mana."},{"Level":3,"About":"Start of battle: Give the second nearest friend ahead +9 mana."}],"Id":"610","Name":"Thunderbird","NameId":"Thunderbird","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Summon one level 1 Microwave Oven."},{"Level":2,"About":"Start of turn: Summon one level 2 Microwave Oven."},{"Level":3,"About":"Start of turn: Summon one level 3 Microwave Oven."}],"Id":"707","Name":"Vervet","NameId":"Vervet","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Toys","Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Gains mana: Deal 1 damage to one random enemy. Triple on the first trigger each battle."},{"Level":2,"About":"Gains mana: Deal 2 damage to one random enemy. Triple on the first trigger each battle."},{"Level":3,"About":"Gains mana: Deal 3 damage to one random enemy. Triple on the first trigger each battle."}],"Id":"382","Name":"Warf","NameId":"Warg","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"],"Random":true},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Meat Bone to the friend ahead."},{"Level":2,"About":"Start of battle: Give Meat Bone to the friend ahead with double effect."},{"Level":3,"About":"Start of battle: Give Meat Bone to the friend ahead with triple effect."}],"Id":"441","Name":"White-Bellied Heron","NameId":"WhiteBelliedHeron","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: Transform into the first <b>Faint</b> enemy at level 1."},{"Level":2,"About":"Before attack: Transform into the first <b>Faint</b> enemy at level 2."},{"Level":3,"About":"Before attack: Transform into the first <b>Faint</b> enemy at level 3."}],"Id":"207","Name":"Wombat","NameId":"Wombat","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Stock one 2-gold Apple."},{"Level":2,"About":"Start of turn: Stock one 2-gold Better Apple."},{"Level":3,"About":"Start of turn: Stock one 2-gold Best Apple."}],"Id":"82","Name":"Worm","NameId":"Worm","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friendly level-up: Gain 1 extra shop reward."},{"Level":2,"About":"Friendly level-up: Gain 2 extra shop reward."},{"Level":3,"About":"Friendly level-up: Gain 3 extra shop reward."}],"Id":"385","Name":"Wyvern","NameId":"Wyvern","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Take 1 damage and gain +2 attack."},{"Level":2,"About":"End turn: Take 2 damage and gain +4 attack."},{"Level":3,"About":"End turn: Take 3 damage and gain +6 attack."}],"Id":"163","Name":"Yak","NameId":"Yak","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Enemy summoned: Gain +1 attack and +3 health."},{"Level":2,"About":"Enemy summoned: Gain +2 attack and +6 health."},{"Level":3,"About":"Enemy summoned: Gain +3 attack and +9 health."}],"Id":"193","Name":"Aardvark","NameId":"Aardvark","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack permanently and jump-attack the highest attack enemy."},{"Level":2,"About":"Start of battle: Gain +2 attack permanently and jump-attack the highest attack enemy."},{"Level":3,"About":"Start of battle: Gain +3 attack permanently and jump-attack the highest attack enemy."}],"Id":"389","Name":"Amami Rabbit","NameId":"AmamiRabbit","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 level 3 Ant."},{"Level":2,"About":"Faint: Summon two 1/1 level 3 Ants."},{"Level":3,"About":"Faint: Summon three 1/1 level 3 Ants."}],"Id":"105","Name":"Anteater","NameId":"Anteater","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Before any attack: If opponent has duplicates, deal 2 damage to all enemies. Works 1 time per battle."},{"Level":2,"About":"Before any attack: If opponent has duplicates, deal 4 damage to all enemies. Works 1 time per battle."},{"Level":3,"About":"Before any attack: If opponent has duplicates, deal 6 damage to all enemies. Works 1 time per battle."}],"Id":"377","Name":"Axehandle Hound","NameId":"AxehandleHound","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Give one random friend from the current or higher shop tier +1 attack and +1 health."},{"Level":2,"About":"End turn: Give one random friend from the current or higher shop tier +2 attack and +2 health."},{"Level":3,"About":"End turn: Give one random friend from the current or higher shop tier +3 attack and +3 health."}],"Id":"171","Name":"Baboon","NameId":"Baboon","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Remove 4 health from the first enemy."},{"Level":2,"About":"Faint: Remove 4 health from the first two enemies."},{"Level":3,"About":"Faint: Remove 4 health from the first three enemies."}],"Id":"822","Name":"Baby Urchin","NameId":"BabySeaUrchin","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 50% attack damage to adjacent pets."},{"Level":2,"About":"Faint: Deal 100% attack damage to adjacent pets."},{"Level":3,"About":"Faint: Deal 150% attack damage to adjacent pets."}],"Id":"2","Name":"Badger","NameId":"Badger","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"End turn: If you did not roll this turn, gain +1 experience."},{"Level":2,"About":"End turn: If you did not roll this turn, gain +2 experience."},{"Level":3,"About":"End turn: If you did not roll this turn, gain +3 experience."}],"Id":"796","Name":"Barnacle","NameId":"Barnacle","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Levels"],"Random":true},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health."},{"Level":2,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health. Double on friendly pets."},{"Level":3,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health. Triple on friendly pets."}],"Id":"332","Name":"Basilisk","NameId":"Basilisk","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Transform","Disruption"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Honey perk to all pets within one space."},{"Level":2,"About":"Faint: Give Honey perk to all pets within two spaces."},{"Level":3,"About":"Faint: Give Honey perk to all pets within three spaces."}],"Id":"140","Name":"Bear","NameId":"Bear","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Faint: Summon one 1/1 Bee.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend lost perk: Give it the Guava perk. Works on one friend per turn."},{"Level":2,"About":"Friend lost perk: Give it the Guava perk. Works on two different friends per turn."},{"Level":3,"About":"Friend lost perk: Give it the Guava perk. Works on three different friends per turn."}],"Id":"214","Name":"Betta Fish","NameId":"BettaFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 3 damage, and attack for +3 damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for each friend behind and give friends ahead +1 mana."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for each friend behind and give friends ahead +2 mana."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for each friend behind and give friends ahead +3 mana."}],"Id":"728","Name":"Blue Dragon","NameId":"GlaucusAtlanticus","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4","Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Trumpets"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend transformed: If it is ahead, give it +3 attack until next turn. Otherwise give health."},{"Level":2,"About":"Friend transformed: If it is ahead, give it +6 attack until next turn. Otherwise give health."},{"Level":3,"About":"Friend transformed: If it is ahead, give it +9 attack until next turn. Otherwise give health."}],"Id":"400","Name":"Blue-Throated Macaw","NameId":"BlueThroatedMacaw","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +2 attack and Melon perk in battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +4 attack and Melon perk in battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +6 attack and Melon perk in battle."}],"Id":"349","Name":"Brain Cramp","NameId":"Headcrab","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Guard","Perks"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Randomly redistribute stats of the highest health enemy."},{"Level":2,"About":"Start of battle: Randomly redistribute stats of the two highest health enemies."},{"Level":3,"About":"Start of battle: Randomly redistribute stats of the three highest health enemies."}],"Id":"798","Name":"Brazillian Treehopper","NameId":"BrazillianTreehopper","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before friend attacks: Replace 3 mana on it with +2 attack and +2 health."},{"Level":2,"About":"Before friend attacks: Replace 3 mana on it with +4 attack and +4 health."},{"Level":3,"About":"Before friend attacks: Replace 3 mana on it with +6 attack and +6 health."}],"Id":"786","Name":"Caladrius","NameId":"Caladrius","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Spend mana to remove 1 health per mana from the two most healthy enemies."},{"Level":2,"About":"Faint: Spend mana to remove 2 health per mana from the two most healthy enemies."},{"Level":3,"About":"Faint: Spend mana to remove 3 health per mana from the two most healthy enemies."}],"Id":"336","Name":"Calygreyhound","NameId":"Calygreyhound","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Give the nearest friend behind +1 attack and +2 health."},{"Level":2,"About":"Hurt: Give the nearest friend behind +2 attack and +4 health."},{"Level":3,"About":"Hurt: Give the nearest friend behind +3 attack and +6 health."}],"Id":"10","Name":"Camel","NameId":"Camel","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Roll & Sell: Give newly rolled shop pets +1 attack and +1 health."},{"Level":2,"About":"Roll & Sell: Give newly rolled shop pets +2 attack and +2 health."},{"Level":3,"About":"Roll & Sell: Give newly rolled shop pets +3 attack and +3 health."}],"Id":"154","Name":"Capybara","NameId":"Capybara","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 1 gold.","FinePrint":"Skips over perks from locked tiers."},{"Level":2,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 2 gold.","FinePrint":"Skips over perks from locked tiers."},{"Level":3,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 3 gold.","FinePrint":"Skips over perks from locked tiers."}],"Id":"539","Name":"Cardinal","NameId":"Cardinal","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained strawberry: Gain +1 health. Also gain +1 attack until next turn."},{"Level":2,"About":"Friendly gained strawberry: Gain +2 health. Also gain +2 attack until next turn."},{"Level":3,"About":"Friendly gained strawberry: Gain +3 health. Also gain +3 attack until next turn."}],"Id":"133","Name":"Cassowary","NameId":"Cassowary","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend bought: Gain +1 attack and +1 health times its tier until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend bought: Gain +2 attack and +2 health times its tier until next turn. Works 1 time per turn."},{"Level":3,"About":"Friend bought: Gain +3 attack and +3 health times its tier until next turn. Works 1 time per turn."}],"Id":"540","Name":"Centipede","NameId":"Centipede","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Knock out the nearest friend ahead and stock one free Bacon."},{"Level":2,"About":"End turn: Knock out the nearest friend ahead and stock two free Bacons."},{"Level":3,"About":"End turn: Knock out the nearest friend ahead and stock three free Bacons."}],"Id":"651","Name":"Deer Lord","NameId":"Wendigo","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 5/5 friend if able. Otherwise give friends +1 attack and +1 health."},{"Level":2,"About":"Start of battle: Summon one 10/10 friend if able. Otherwise give friends +2 attack and +2 health."},{"Level":3,"About":"Start of battle: Summon one 15/15 friend if able. Otherwise give friends +3 attack and +3 health."}],"Id":"543","Name":"Dimetrodon","NameId":"Dimetrodon","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give 50% of attack to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Give 100% of attack to the nearest friend ahead."},{"Level":3,"About":"Start of battle: Give 150% of attack to the nearest friend ahead."}],"Id":"21","Name":"Dodo","NameId":"Dodo","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Gain +2 attack and +1 health until next turn."},{"Level":2,"About":"Friend summoned: Gain +4 attack and +2 health until next turn."},{"Level":3,"About":"Friend summoned: Gain +6 attack and +3 health until next turn."}],"Id":"22","Name":"Dog","NameId":"Dog","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal 4 damage to the lowest health enemy."},{"Level":2,"About":"Start of battle: Deal 4 damage to the lowest health enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 4 damage to the lowest health enemy. Triggers 3 times."}],"Id":"23","Name":"Dolphin","NameId":"Dolphin","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give friends that aren\'t from your pack +2 attack and +2 health."},{"Level":2,"About":"Faint: Give friends that aren\'t from your pack +4 attack and +4 health."},{"Level":3,"About":"Faint: Give friends that aren\'t from your pack +6 attack and +6 health."}],"Id":"544","Name":"Dugong","NameId":"Dugong","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Gain +50% health."},{"Level":2,"About":"Start of battle: Gain +100% health."},{"Level":3,"About":"Start of battle: Gain +150% health."}],"Id":"120","Name":"Eel","NameId":"Eel","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"After attack: Deal 1 damage to the nearest friend behind."},{"Level":2,"About":"After attack: Deal 1 damage to the nearest friend behind. Triggers 2 times."},{"Level":3,"About":"After attack: Deal 1 damage to the nearest friend behind. Triggers 3 times."}],"Id":"28","Name":"Elephant","NameId":"Elephant","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Sell: Give 33% attack and health to the leftmost shop pet."},{"Level":2,"About":"Sell: Give 66% attack and health to the leftmost shop pet."},{"Level":3,"About":"Sell: Give 100% attack and health to the leftmost shop pet."}],"Id":"197","Name":"Emperor Tamarin","NameId":"EmperorTamarin","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Feed adjacent friends one Corncob with double effect."},{"Level":2,"About":"Start of battle: Feed adjacent friends two Corncobs with double effect."},{"Level":3,"About":"Start of battle: Feed adjacent friends three Corncobs with double effect."}],"Id":"694","Name":"Farmer Pig","NameId":"FarmerPig","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Make the most healthy enemy Weak."},{"Level":2,"About":"Faint: Make the two most healthy enemies Weak."},{"Level":3,"About":"Faint: Make the three most healthy enemies Weak."}],"Id":"225","Name":"Flea","NameId":"Flea","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments","Mvp"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: If in battle, give it +2 experience. Works 2 times per turn."},{"Level":2,"About":"Friend summoned: If in battle, give it +4 experience. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: If in battle, give it +6 experience. Works 2 times per turn."}],"Id":"226","Name":"Flying Fish","NameId":"FlyingFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friendly toy broke: Gain +2 attack and re-summon the toy at up to level 1."},{"Level":2,"About":"Friendly toy broke: Gain +4 attack and re-summon the toy at up to level 2."},{"Level":3,"About":"Friendly toy broke: Gain +6 attack and re-summon the toy at up to level 3."}],"Id":"227","Name":"Flying Squirrel","NameId":"FlyingSquirrel","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Buy: Give future shop pets from the next tier permanent +2 health."},{"Level":2,"About":"Buy: Give future shop pets from the next tier permanent +4 health."},{"Level":3,"About":"Buy: Give future shop pets from the next tier permanent +6 health."}],"Id":"625","Name":"Foo Dog","NameId":"FuLion","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Rambutan perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Rambutan perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Rambutan perk to the three nearest friends behind."}],"Id":"653","Name":"Fur-Bearing Trout","NameId":"FurBearingTrout","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before attack: Gain +3 mana.","CustomArchetypes":["Mana","Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Remove the highest tier perk from one enemy."},{"Level":2,"About":"Start of battle: Remove the highest tier perks from two enemies."},{"Level":3,"About":"Start of battle: Remove the highest tier perks from three enemies."}],"Id":"740","Name":"Gerenuk","NameId":"Gerenuk","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Gharial toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Gharial toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Gharial toy."}],"Id":"231","Name":"Gharial","NameId":"Gharial","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Give the nearest friend ahead +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give the nearest two friends ahead +1 attack and +1 health."},{"Level":3,"About":"Start of turn: Give the nearest three friends ahead +1 attack and +1 health."}],"Id":"33","Name":"Giraffe","NameId":"Giraffe","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Anyone hurt: If nobody has attacked, gain +2 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Anyone hurt: If nobody has attacked, gain +4 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Anyone hurt: If nobody has attacked, gain +6 health until next turn. Works 5 times per turn."}],"Id":"697","Name":"Great Potoo","NameId":"GreatPotoo","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 toy from Griffin\'s collection."},{"Level":2,"About":"Buy: Choose one level 2 toy from Griffin\'s collection."},{"Level":3,"About":"Buy: Choose one level 3 toy from Griffin\'s collection."}],"Id":"348","Name":"Griffin","NameId":"Griffin","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Gain +2 trumpets."},{"Level":2,"About":"Hurt: Gain +4 trumpets."},{"Level":3,"About":"Hurt: Gain +6 trumpets."}],"Id":"228","Name":"Guineafowl","NameId":"FowlBird","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Hurt"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Copy a useful food perk from one random enemy. Works 1 time per battle."},{"Level":2,"About":"Before attack: Copy a useful food perk from one random enemy. Works 2 times per battle."},{"Level":3,"About":"Before attack: Copy a useful food perk from one random enemy. Works 3 times per battle."}],"Id":"551","Name":"Hare","NameId":"Hare","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the nearest friend ahead +3 attack and +3 health until next turn.","FinePrint":"Will give permanent stats at level 2."},{"Level":2,"About":"End turn: Give the nearest friend ahead +2 attack and +2 health.","FinePrint":"Will give experience at level 3."},{"Level":3,"About":"End turn: Give the nearest friend ahead +1 experience."}],"Id":"91","Name":"Hatching Chick","NameId":"HatchingChick","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff","Levels","Mvp"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 4/3 Ethiopian Wolf."},{"Level":2,"About":"Faint: Summon two 4/3 Ethiopian Wolves."},{"Level":3,"About":"Faint: Summon three 4/3 Ethiopian Wolves."}],"Id":"717","Name":"Hirola","NameId":"Hirola","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 2 damage to the first and last enemy."},{"Level":2,"About":"Faint: Deal 4 damage to the first and last enemy."},{"Level":3,"About":"Faint: Deal 6 damage to the first and last enemy."}],"Id":"235","Name":"Hoopoe Bird","NameId":"HoopoeBird","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 1 gold."},{"Level":2,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 2 gold."},{"Level":3,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 3 gold."}],"Id":"736","Name":"Jewel Caterpillar","NameId":"JewelCaterpillar","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Deal 1 damage to the nearest friend ahead and gain damage as health."},{"Level":2,"About":"End turn: Deal 2 damage to the nearest friend ahead and gain damage as health."},{"Level":3,"About":"End turn: Deal 3 damage to the nearest friend ahead and gain damage as health."}],"Id":"165","Name":"Leech","NameId":"Leech","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt","Mvp"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Level-up: Gain +2 attack and +2 health now and +2 gold next turn."},{"Level":2,"About":"Level-up: Gain +4 attack and +4 health now and +4 gold next turn."},{"Level":3,"About":"No ability."}],"Id":"623","Name":"Lucky Cat","NameId":"LuckyCat","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +2 mana for each roll this turn, up to 3 rolls."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +4 mana for each roll this turn, up to 3 rolls."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +6 mana for each roll this turn, up to 3 rolls."}],"Id":"635","Name":"Mana Hound","NameId":"ManaHound","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Roll"],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make one tier 2 or lower enemy Dazed and prioritize <b>Faint</b> pets."},{"Level":2,"About":"Start of battle: Make one tier 4 or lower enemy Dazed and prioritize <b>Faint</b> pets."},{"Level":3,"About":"Start of battle: Make one tier 6 or lower enemy Dazed and prioritize <b>Faint</b> pets."}],"Id":"357","Name":"Mandrake","NameId":"Mandrake","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Remove the two nearest friendly perks to summon one 6/6 Mole."},{"Level":2,"About":"Faint: Remove the two nearest friendly perks to summon one 12/12 Mole."},{"Level":3,"About":"Faint: Remove the two nearest friendly perks to summon one 18/18 Mole."}],"Id":"168","Name":"Mole","NameId":"Mole","Tier":3,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Anyone behind hurt: Give two random friendly pets +1 attack and +2 health. Works 2 times per battle."},{"Level":2,"About":"Anyone behind hurt: Give two random friendly pets +2 attack and +4 health. Works 2 times per battle."},{"Level":3,"About":"Anyone behind hurt: Give two random friendly pets +3 attack and +6 health. Works 2 times per battle."}],"Id":"422","Name":"Monkey-Faced Bat","NameId":"MonkeyFacedBat","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain +1 attack and +2 health until next turn."},{"Level":2,"About":"Friend ahead faints: Gain +2 attack and +4 health until next turn."},{"Level":3,"About":"Friend ahead faints: Gain +3 attack and +6 health until next turn."}],"Id":"245","Name":"Musk Ox","NameId":"MuskOx","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Roll: Gain +1 attack and +1 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Roll: Gain +2 attack and +2 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Roll: Gain +3 attack and +3 health until next turn. Works 5 times per turn."}],"Id":"130","Name":"Okapi","NameId":"Okapi","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give the lowest health friendly pet +3 health."},{"Level":2,"About":"End turn: Give the lowest health friendly pet +6 health."},{"Level":3,"About":"End turn: Give the lowest health friendly pet +9 health."}],"Id":"157","Name":"Orangutan","NameId":"Orangutan","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/1 Groundhog."},{"Level":2,"About":"Faint: Summon two 2/1 Groundhogs."},{"Level":3,"About":"Faint: Summon three 2/1 Groundhogs."}],"Id":"247","Name":"Osprey","NameId":"Osprey","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Roll: Give new shop pets +1 attack and +1 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."},{"Level":2,"About":"Roll: Give new shop pets +2 attack and +2 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."},{"Level":3,"About":"Roll: Give new shop pets +3 attack and +3 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."}],"Id":"364","Name":"Ouroboros","NameId":"Ouroboros","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Summon one level 1 Mouse."},{"Level":2,"About":"Start of turn: Summon one level 2 Mouse."},{"Level":3,"About":"Start of turn: Summon one level 3 Mouse."}],"Id":"95","Name":"Owl","NameId":"Owl","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle","Mvp"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 1 time per turn."},{"Level":2,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 2 times per turn."},{"Level":3,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 3 times per turn."}],"Id":"52","Name":"Ox","NameId":"Ox","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Copy ailment (or Spooked) to the first enemy."},{"Level":2,"About":"Start of battle: Copy ailment (or Spooked) to the first enemy with double effect."},{"Level":3,"About":"Start of battle: Copy ailment (or Spooked) to the first enemy with triple effect."}],"Id":"701","Name":"Pangasius","NameId":"Pangasius","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: If you have a toy, give the nearest friend behind +4 health."},{"Level":2,"About":"Faint: If you have a toy, give the nearest friend behind +8 health."},{"Level":3,"About":"Faint: If you have a toy, give the nearest friend behind +12 health."}],"Id":"249","Name":"Pangolin","NameId":"Pangolin","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +4 trumpets and summon the Golden Retriever immediately."},{"Level":2,"About":"Faint: Gain +8 trumpets and summon the Golden Retriever immediately."},{"Level":3,"About":"Faint: Gain +12 trumpets and summon the Golden Retriever immediately."}],"Id":"733","Name":"Patagonian Mara","NameId":"PatagonianMara","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Summon"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Knock out: Feed the nearest friend behind with one Better Apple."},{"Level":2,"About":"Knock out: Feed the nearest friend behind with two Better Apples."},{"Level":3,"About":"Knock out: Feed the nearest friend behind with three Better Apples."}],"Id":"560","Name":"Pony","NameId":"Pony","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Deal 3 damage directly back."},{"Level":2,"About":"Hurt: Deal 6 damage directly back."},{"Level":3,"About":"Hurt: Deal 9 damage directly back."}],"Id":"169","Name":"Porcupine","NameId":"Porcupine","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +1 experience."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +2 experience."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +3 experience."}],"Id":"145","Name":"Pug","NameId":"Pug","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 3 times per turn."}],"Id":"744","Name":"Purple Frog","NameId":"PurpleFrog","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Five enemy attacks: Deal 33% of health as damage to the least healthy enemy."},{"Level":2,"About":"Five enemy attacks: Deal 33% of health as damage to the two least healthy enemies."},{"Level":3,"About":"Five enemy attacks: Deal 33% of health as damage to the three least healthy enemies."}],"Id":"426","Name":"Pygmy Hippo","NameId":"PygmyHippo","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Transformed: Give front-most friend +2 attack and +2 health. Double in battle."},{"Level":2,"About":"Transformed: Give front-most friend +4 attack and +4 health. Double in battle."},{"Level":3,"About":"Transformed: Give front-most friend +6 attack and +6 health. Double in battle."}],"Id":"702","Name":"Quail","NameId":"Quail","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Eats food: Transform and give front-most friend +2 attack and +2 health. Double in battle."},{"Level":2,"About":"Eats food: Transform and give front-most friend +4 attack and +4 health. Double in battle."},{"Level":3,"About":"Eats food: Transform and give front-most friend +6 attack and +6 health. Double in battle."}],"Id":"778","Name":"Quail Chick","NameId":"QuailChick","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Transform","Food"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Bee summoned: Give it +3 attack and +3 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"},{"Level":2,"About":"Bee summoned: Give it +6 attack and +6 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"},{"Level":3,"About":"Bee summoned: Give it +9 attack and +9 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"}],"Id":"703","Name":"Queen Bee","NameId":"QueenBee","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give the pet that knocked this out and its friends +1 attack and +1 health."},{"Level":2,"About":"Faint: Give the pet that knocked this out and its friends +2 attack and +2 health."},{"Level":3,"About":"Faint: Give the pet that knocked this out and its friends +3 attack and +3 health."}],"Id":"751","Name":"Quetzalcoatlus","NameId":"Quetzalcoatlus","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Friendly ate food: Give them +1 health. Works 3 times per turn."},{"Level":2,"About":"Friendly ate food: Give them +2 health. Works 3 times per turn."},{"Level":3,"About":"Friendly ate food: Give them +3 health. Works 3 times per turn."}],"Id":"60","Name":"Rabbit","NameId":"Rabbit","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Transform two friends ahead into ANY useful level 1 <b>Hurt</b> pets from tier 3 or lower."},{"Level":2,"About":"Start of battle: Transform two friends ahead into ANY useful level 2 <b>Hurt</b> pets from tier 3 or lower."},{"Level":3,"About":"Start of battle: Transform two friends ahead into ANY useful level 3 <b>Hurt</b> pets from tier 3 or lower."}],"Id":"429","Name":"Roloway Monkey","NameId":"RolowayMonkey","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Hurt"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Three enemies faint: Deal 4 damage to one random enemy."},{"Level":2,"About":"Three enemies faint: Deal 8 damage to one random enemy."},{"Level":3,"About":"Three enemies faint: Deal 12 damage to one random enemy."}],"Id":"256","Name":"Royal Flycatcher","NameId":"RoyalFlycatcher","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 1 time per turn."},{"Level":2,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 2 times per turn."},{"Level":3,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 3 times per turn."}],"Id":"531","Name":"Sage-Grouse","NameId":"GreaterSageGrouse","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 1 copy up front for the opponent on faint."},{"Level":2,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 2 copy up front for the opponent on faint."},{"Level":3,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 3 copy up front for the opponent on faint."}],"Id":"763","Name":"Sarcastic Fringehead","NameId":"SarcasticFringehead","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon two 2/2 Rams."},{"Level":2,"About":"Faint: Summon two 4/4 Rams."},{"Level":3,"About":"Faint: Summon two 6/6 Rams."}],"Id":"68","Name":"Sheep","NameId":"Sheep","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Friend gained ailment: Give it a random tier 1 perk. Works 2 times per turn."},{"Level":2,"About":"Friend gained ailment: Give it a random tier 2 perk. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Give it a random tier 3 perk. Works 2 times per turn."}],"Id":"722","Name":"Silkie Chicken","NameId":"SilkieChicken","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give one random friend permanent +1 attack and +1 health."},{"Level":2,"About":"Faint: Give two random friends permanent +1 attack and +1 health."},{"Level":3,"About":"Faint: Give three random friends permanent +1 attack and +1 health."}],"Id":"374","Name":"Skeleton Dog","NameId":"SkeletonDog","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/2 Slime for each two battles fought."},{"Level":2,"About":"Faint: Summon one 4/4 Slime for each two battles fought."},{"Level":3,"About":"Faint: Summon one 6/6 Slime for each two battles fought."}],"Id":"375","Name":"Slime","NameId":"Slime","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Give the nearest friend behind +2 to their lowest stat."},{"Level":2,"About":"Start of turn: Give the nearest two friends behind +2 to their lowest stat."},{"Level":3,"About":"Start of turn: Give the nearest three friends behind +2 to their lowest stat."}],"Id":"433","Name":"Spoon-Billed Sandpiper","NameId":"SpoonBilledSandpiper","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Stock one free Cupcake."},{"Level":2,"About":"Start of turn: Stock one free Cupcake with double effect."},{"Level":3,"About":"Start of turn: Stock one free Cupcake with triple effect."}],"Id":"705","Name":"Sugar Glider","NameId":"SugarGlider","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +4 health."},{"Level":2,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +8 health."},{"Level":3,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +12 health."}],"Id":"264","Name":"Surgeon Fish","NameId":"SurgeonFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Gain +1 attack and +2 health until next turn."},{"Level":2,"About":"Friend ahead hurt: Gain +2 attack and +4 health until next turn."},{"Level":3,"About":"Friend ahead hurt: Gain +3 attack and +6 health until next turn."}],"Id":"719","Name":"Takin","NameId":"Takin","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Hurt"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead faints: Deal 2 damage to the first enemy. Double if the friend was level 3."},{"Level":2,"About":"Friend ahead faints: Deal 4 damage to the first enemy. Double if the friend was level 3."},{"Level":3,"About":"Friend ahead faints: Deal 6 damage to the first enemy. Double if the friend was level 3."}],"Id":"654","Name":"Tatzelwurm","NameId":"Tatzelwurm","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Enemy hurt: Make it Weak. Works 2 times per battle."},{"Level":2,"About":"Enemy hurt: Make it Weak. Works 4 times per battle."},{"Level":3,"About":"Enemy hurt: Make it Weak. Works 6 times per battle."}],"Id":"162","Name":"Toad","NameId":"Toad","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the nearest friend behind."},{"Level":2,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the two nearest friends behind."},{"Level":3,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the three nearest friends behind."}],"Id":"151","Name":"Toucan","NameId":"Toucan","Tier":3,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: If this has 6 or less attack, gain Coconut perk."},{"Level":2,"About":"Start of battle: If this has 12 or less attack, gain Coconut perk."},{"Level":3,"About":"Start of battle: If this has 18 or less attack, gain Coconut perk."}],"Id":"378","Name":"Tree","NameId":"TreeEnt","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make the last perk-less enemy Silly and activate it."},{"Level":2,"About":"Start of battle: Make the last perk-less enemy Silly and activate it twice."},{"Level":3,"About":"Start of battle: Make the last perk-less enemy Silly and activate it thrice."}],"Id":"534","Name":"Tree Kangaroo","NameId":"TreeKangaroo","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Ability has random targets in battle.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Give adjacent friends +1 health."},{"Level":2,"About":"Start of turn: Give adjacent friends +2 health."},{"Level":3,"About":"Start of turn: Give adjacent friends +3 health."}],"Id":"100","Name":"Tropical Fish","NameId":"TropicalFish","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Push the back-most friend to the front and give it +3 attack and +3 health in battle."},{"Level":2,"About":"Faint: Push the back-most friend to the front and give it +6 attack and +6 health in battle."},{"Level":3,"About":"Faint: Push the back-most friend to the front and give it +9 attack and +9 health in battle."}],"Id":"439","Name":"Tucuxi","NameId":"Tucuxi","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give one random friend +1 attack and +1 health for each time this was hurt."},{"Level":2,"About":"Faint: Give one random friend +2 attack and +2 health for each time this was hurt."},{"Level":3,"About":"Faint: Give one random friend +3 attack and +3 health for each time this was hurt."}],"Id":"572","Name":"Tuna","NameId":"Tuna","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +2 health for each friendly pet with a different ailment."},{"Level":2,"About":"Start of battle: Gain +2 attack and +4 health for each friendly pet with a different ailment."},{"Level":3,"About":"Start of battle: Gain +3 attack and +6 health for each friendly pet with a different ailment."}],"Id":"791","Name":"Vampire Parrot","NameId":"VampireParrot","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Shop tier upgraded: Gain +50% attack."},{"Level":2,"About":"Shop tier upgraded: Gain +100% attack."},{"Level":3,"About":"Shop tier upgraded: Gain +150% attack."}],"Id":"160","Name":"Wasp","NameId":"Wasp","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +1 gold on next turn."},{"Level":2,"About":"Faint: Gain +2 gold on next turn."},{"Level":3,"About":"Faint: Gain +3 gold on next turn."}],"Id":"173","Name":"Weasel","NameId":"Weasel","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Swallow and copy the left-most unfrozen shop pet until next turn."},{"Level":2,"About":"End turn: Swallow and copy the two left-most unfrozen and different shop pets until next turn."},{"Level":3,"About":"End turn: Swallow and copy the three left-most unfrozen and different shop pets until next turn."}],"Id":"373","Name":"Abomination","NameId":"Shoggoth","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Summon one level 1 Ocarina."},{"Level":2,"About":"End turn: Summon one level 2 Ocarina."},{"Level":3,"About":"End turn: Summon one level 3 Ocarina."}],"Id":"785","Name":"Ahuizotl","NameId":"Ahuizotl","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Deal 3 damage to its target, or gain +3 attack."},{"Level":2,"About":"Adjacent friend attacked: Deal 6 damage to its target, or gain +6 attack."},{"Level":3,"About":"Adjacent friend attacked: Deal 9 damage to its target, or gain +9 attack."}],"Id":"390","Name":"Amazon River Dolphin","NameId":"AmazonRiverDolphin","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Remove the most healthy unfrozen shop pet to gain 50% of its stats until next turn."},{"Level":2,"About":"End turn: Remove the most healthy unfrozen shop pet to gain 100% of its stats until next turn."},{"Level":3,"About":"End turn: Remove the most healthy unfrozen shop pet to gain 150% of its stats until next turn."}],"Id":"730","Name":"Andrewsarchus","NameId":"Andrewsarchus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give friends +1 to their highest stat."},{"Level":2,"About":"End turn: Give friends +2 to their highest stat."},{"Level":3,"About":"End turn: Give friends +3 to their highest stat."}],"Id":"392","Name":"Angelshark","NameId":"Angelshark","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Activate two Faint friends from tier 2 or lower front-to-back."},{"Level":2,"About":"Start of battle: Activate two Faint friends from tier 4 or lower front-to-back."},{"Level":3,"About":"Start of battle: Activate two Faint friends from tier 6 or lower front-to-back."}],"Id":"331","Name":"Anubis","NameId":"Anubis","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"End turn: If this has a level 3 friend, gain +1 attack and +2 health."},{"Level":2,"About":"End turn: If this has a level 3 friend, gain +2 attack and +4 health."},{"Level":3,"About":"End turn: If this has a level 3 friend, gain +3 attack and +6 health."}],"Id":"5","Name":"Bison","NameId":"Bison","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: Stock one copy of it. Works 1 time per turn."},{"Level":2,"About":"Friend sold: Stock one copy of it. Works 2 times per turn."},{"Level":3,"About":"Friend sold: Stock one copy of it. Works 3 times per turn."}],"Id":"797","Name":"Bloodhound","NameId":"Bloodhound","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Deal 3 damage to one random enemy."},{"Level":2,"About":"Hurt: Deal 6 damage to one random enemy."},{"Level":3,"About":"Hurt: Deal 9 damage to one random enemy."}],"Id":"7","Name":"Blowfish","NameId":"Blowfish","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Hurt"],"Random":true},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice."},{"Level":2,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice that works twice."},{"Level":3,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice that works thrice."}],"Id":"530","Name":"Blue-Footed Booby","NameId":"BlueFootedBooby","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Transform into the front-most friend."},{"Level":2,"About":"Start of turn: Transform into the front-most friend."},{"Level":3,"About":"Start of turn: Transform into the front-most friend."}],"Id":"402","Name":"Bonobo","NameId":"Bonobo","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Levels","Mvp"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: Gain +2 attack and +2 health until next turn."},{"Level":2,"About":"Friend sold: Gain +4 attack and +4 health until next turn."},{"Level":3,"About":"Friend sold: Gain +6 attack and +6 health until next turn."}],"Id":"8","Name":"Buffalo","NameId":"Buffalo","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Transformed: Copy 33% attack and health from the strongest enemy."},{"Level":2,"About":"Transformed: Copy 66% attack and health from the strongest enemy."},{"Level":3,"About":"Transformed: Copy 100% attack and health from the strongest enemy."}],"Id":"9","Name":"Butterfly","NameId":"Butterfly","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Gain +1 experience.","FinePrint":"Will copy an enemy\'s stats at level 3."},{"Level":2,"About":"Start of turn: Gain +1 experience.","FinePrint":"Will copy an enemy\'s stats at level 3."},{"Level":3,"About":"Start of battle: Transform into a 1/1 Butterfly and copy stats of the strongest enemy."}],"Id":"12","Name":"Caterpillar","NameId":"Caterpillar","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Levels","Transform"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Copy friendly toy ability at up to level 1 until next turn.","FinePrint":"Break abilities trigger on faint instead."},{"Level":2,"About":"End turn: Copy friendly toy ability at up to level 2 until next turn.","FinePrint":"Break abilities trigger on faint instead."},{"Level":3,"About":"End turn: Copy friendly toy ability at up to level 3 until next turn.","FinePrint":"Break abilities trigger on faint instead."}],"Id":"216","Name":"Chameleon","NameId":"Chameleon","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 pet. Spend mana to give it +1 attack and +2 health per 2 mana."},{"Level":2,"About":"Faint: Summon two 3/3 pets. Spend mana to give them +1 attack and +2 health per 2 mana."},{"Level":3,"About":"Faint: Summon three 3/3 pets. Spend mana to give them +1 attack and +2 health per 2 mana."}],"Id":"338","Name":"Chimera","NameId":"Chimera","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friendly level-up: Give it +2 attack and +2 health."},{"Level":2,"About":"Friendly level-up: Give it +4 attack and +4 health."},{"Level":3,"About":"Friendly level-up: Give it +6 attack and +6 health."}],"Id":"117","Name":"Clownfish","NameId":"ClownFish","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Buy: Give the highest tier friend +2 attack and +2 health."},{"Level":2,"About":"Buy: Give the highest tier friend +4 attack and +4 health."},{"Level":3,"About":"Buy: Give the highest tier friend +6 attack and +6 health."}],"Id":"218","Name":"Cockatoo","NameId":"Cockatoo","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Stock one Chocolate."},{"Level":2,"About":"Sell: Stock one Better Chocolate."},{"Level":3,"About":"Sell: Stock one Best Chocolate."}],"Id":"195","Name":"Crow","NameId":"Crow","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels","Mvp"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Enemy faints: Summon a 1/1 bad Chick in that slot for the enemy early. Can summon up to 2 per battle."},{"Level":2,"About":"Enemy faints: Summon a 1/1 bad Chick in that slot for the enemy early. Can summon up to 4 per battle."},{"Level":3,"About":"Enemy faints: Summon a 1/1 bad Chick in that slot for the enemy early. Can summon up to 6 per battle."}],"Id":"787","Name":"Cuckoo","NameId":"Cuckoo","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Remove 3 health from the last enemy and make it Inked."},{"Level":2,"About":"Faint: Remove 3 health from the last two enemies and make them Inked."},{"Level":3,"About":"Faint: Remove 3 health from the last three enemies and make them Inked."}],"Id":"176","Name":"Cuttlefish","NameId":"Cuddlefish","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friend level-up: Give it +2 mana. Also give +1 experience on the first trigger this turn."},{"Level":2,"About":"Friend level-up: Give it +4 mana. Also give +1 experience on the first two triggers this turn."},{"Level":3,"About":"Friend level-up: Give it +6 mana. Also give +1 experience on the first three triggers this turn."}],"Id":"630","Name":"Cyclops","NameId":"Cyclops","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Mana"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/3 Bus with Chili."},{"Level":2,"About":"Faint: Summon one 10/6 Bus with Chili."},{"Level":3,"About":"Faint: Summon one 15/9 Bus with Chili."}],"Id":"20","Name":"Deer","NameId":"Deer","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Attack second enemy for 5 damage.","CustomArchetypes":["Summon"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Ailments on this work in reverse.","FinePrint":"Weak and Spooked works 3 times."},{"Level":2,"About":"Ailments on this work in reverse and are two times better.","FinePrint":"Weak and Spooked works 3 times."},{"Level":3,"About":"Ailments on this work in reverse and are three times better.","FinePrint":"Weak and Spooked works 3 times."}],"Id":"748","Name":"Deinocheirus","NameId":"Deinocheirus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +8 attack. If all friends are higher tiers, also gain Coconut perk."},{"Level":2,"About":"Start of battle: Gain +16 attack. If all friends are higher tiers, also gain Coconut perk."},{"Level":3,"About":"Start of battle: Gain +24 attack. If all friends are higher tiers, also gain Coconut perk."}],"Id":"273","Name":"Doberman","NameId":"Doberman","Tier":4,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Perks"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 1 time per battle."},{"Level":2,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 2 times per battle."},{"Level":3,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 3 times per battle."}],"Id":"111","Name":"Donkey","NameId":"Donkey","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 2 gold.","FinePrint":"Max gold limit is 30."},{"Level":2,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 4 gold.","FinePrint":"Max gold limit is 30."},{"Level":3,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 6 gold.","FinePrint":"Max gold limit is 30."}],"Id":"546","Name":"Elk","NameId":"Elk","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Gold"],"Random":true},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 wondrous toy."},{"Level":2,"About":"Buy: Choose one level 2 wondrous toy."},{"Level":3,"About":"Buy: Choose one level 3 wondrous toy."}],"Id":"342","Name":"Fairy","NameId":"Fairy","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: If still standing, gain permanent +2 health and transform into a protected ball."},{"Level":2,"About":"Hurt: If still standing, gain permanent +4 health and transform into a protected ball."},{"Level":3,"About":"Hurt: If still standing, gain permanent +6 health and transform into a protected ball."}],"Id":"547","Name":"Fairy Armadillo","NameId":"FairyArmadillo","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Transform","Hurt"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Takes 2 less damage."},{"Level":2,"About":"Takes 4 less damage."},{"Level":3,"About":"Takes 6 less damage."}],"Id":"771","Name":"Fairy Ball","NameId":"FairyArmadilloBall","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Knock out: Summon one 3/3 level 1 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."},{"Level":2,"About":"Knock out: Summon one 6/6 level 2 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."},{"Level":3,"About":"Knock out: Summon one 9/9 level 3 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."}],"Id":"224","Name":"Falcon","NameId":"Falcon","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Feed friends one Corncob."},{"Level":2,"About":"Buy: Feed friends two Corncobs."},{"Level":3,"About":"Buy: Feed friends three Corncobs."}],"Id":"689","Name":"Farmer Cat","NameId":"FarmerCat","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 health from the two first enemies for each roll this turn."},{"Level":2,"About":"Start of battle: Remove 2 health from the two first enemies for each roll this turn."},{"Level":3,"About":"Start of battle: Remove 3 health from the two first enemies for each roll this turn."}],"Id":"549","Name":"Fossa","NameId":"Fossa","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Gain +2 attack and +1 health until next turn for each gold over 10."},{"Level":2,"About":"Start of turn: Gain +4 attack and +2 health until next turn for each gold over 10."},{"Level":3,"About":"Start of turn: Gain +6 attack and +3 health until next turn for each gold over 10."}],"Id":"185","Name":"Gazelle","NameId":"Gazelle","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Eats two food: Transform and feed one Pear to each friend."},{"Level":2,"About":"Eats two food: Transform and feed two Pears to each friend."},{"Level":3,"About":"Eats two food: Transform and feed three Pears to each friend."}],"Id":"696","Name":"Gelada","NameId":"Gelada","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food","Transform"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before battle: Give friends +2 attack and +5 health until after the first non-jump attack."},{"Level":2,"About":"Before battle: Give friends +4 attack and +10 health until after the first non-jump attack."},{"Level":3,"About":"Before battle: Give friends +6 attack and +15 health until after the first non-jump attack."}],"Id":"410","Name":"Giant Otter","NameId":"GiantOtter","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Gain +2 health, and set attack to 4. Health can go to 100!"},{"Level":2,"About":"End turn: Gain +4 health, and set attack to 8. Health can go to 100!"},{"Level":3,"About":"End turn: Gain +6 health, and set attack to 12. Health can go to 100!"}],"Id":"412","Name":"Giant Tortoise","NameId":"GiantTortoise","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Swallow the first enemy with 6 health or less. Release it with 1 health on faint."},{"Level":2,"About":"Start of battle: Swallow the first enemy with 12 health or less. Release it with 1 health on faint."},{"Level":3,"About":"Start of battle: Swallow the first enemy with 18 health or less. Release it with 1 health on faint."}],"Id":"754","Name":"Goblin Shark","NameId":"GoblinShark","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Before battle: Transform into ANY useful level 1 <b>Start of Battle</b> pet from tier 5."},{"Level":2,"About":"Before battle: Transform into ANY useful level 2 <b>Start of Battle</b> pet from tier 5."},{"Level":3,"About":"Before battle: Transform into ANY useful level 3 <b>Start of Battle</b> pet from tier 5."}],"Id":"720","Name":"Golden Tamarin","NameId":"GoldenTamarin","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 7 damage to the opposite enemy."},{"Level":2,"About":"Start of battle: Deal 14 damage to the opposite enemy."},{"Level":3,"About":"Start of battle: Deal 21 damage to the opposite enemy."}],"Id":"127","Name":"Hawk","NameId":"Hawk","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Knock out: Gain +3 attack and +3 health. Works 3 times per battle."},{"Level":2,"About":"Knock out: Gain +6 attack and +6 health. Works 3 times per battle."},{"Level":3,"About":"Knock out: Gain +9 attack and +9 health. Works 3 times per battle."}],"Id":"38","Name":"Hippo","NameId":"Hippo","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Remove friendly strawberries to gain +3 trumpets for each."},{"Level":2,"About":"Start of battle: Remove friendly strawberries to gain +6 trumpets for each."},{"Level":3,"About":"Start of battle: Remove friendly strawberries to gain +9 trumpets for each."}],"Id":"755","Name":"Hoatzin","NameId":"Hoatzin","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Trumpets"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Remove 30% attack from the highest attack enemy."},{"Level":2,"About":"Start of battle: Remove 60% attack from the highest attack enemy."},{"Level":3,"About":"Start of battle: Remove 90% attack from the highest attack enemy."}],"Id":"416","Name":"Humphead Wrasse","NameId":"HumpheadWrasse","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Eats apple: Give friends +1 attack and +1 health. Works 1 time per turn."},{"Level":2,"About":"Eats apple: Give friends +2 attack and +2 health. Works 1 time per turn."},{"Level":3,"About":"Eats apple: Give friends +3 attack and +3 health. Works 1 time per turn."}],"Id":"199","Name":"Jerboa","NameId":"Jerboa","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"After first attack: Make the highest attack enemy Spooked and push it to the back."},{"Level":2,"About":"After first attack: Make the two highest attack enemies Spooked and push them to the back."},{"Level":3,"About":"After first attack: Make the three highest attack enemies Spooked and push them to the back."}],"Id":"419","Name":"Kakapo","NameId":"Kakapo","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments","Disruption"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Remove 15% health from ALL other pets."},{"Level":2,"About":"Start of battle: Remove 30% health from ALL other pets."},{"Level":3,"About":"Start of battle: Remove 45% health from ALL other pets."}],"Id":"355","Name":"Kraken","NameId":"Kraken","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Give random ailments to ANY three random pets. Double the effect on enemies."},{"Level":2,"About":"Faint: Give random ailments to ANY six random pets. Double the effect on enemies."},{"Level":3,"About":"Faint: Give random ailments to ANY nine random pets. Double the effect on enemies."}],"Id":"750","Name":"Leaf Gecko","NameId":"SatanicLeafTailedGecko","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":7,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give adjacent friends 1 experience and remove this."},{"Level":2,"About":"Start of battle: Give adjacent friends 2 experience and remove this."},{"Level":3,"About":"Start of battle: Give adjacent friends 3 experience and remove this."}],"Id":"723","Name":"Leafy Sea Dragon","NameId":"LeafySeaDragon","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle","Levels"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: If there is an empty space, gain +1 attack and +2 health."},{"Level":2,"About":"End turn: If there is an empty space, gain +2 attack and +4 health."},{"Level":3,"About":"End turn: If there is an empty space, gain +3 attack and +6 health."}],"Id":"44","Name":"Llama","NameId":"Llama","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend summoned: If outside battle, give it +1 attack and +2 health."},{"Level":2,"About":"Friend summoned: If outside battle, give it +2 attack and +4 health."},{"Level":3,"About":"Friend summoned: If outside battle, give it +3 attack and +6 health."}],"Id":"93","Name":"Lobster","NameId":"Lobster","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one friend and feed it with random food for every food eaten this turn."},{"Level":2,"About":"Faint: Summon two friends and feed them with random food for every food eaten this turn."},{"Level":3,"About":"Faint: Summon three friends and feed them with random food for every food eaten this turn."}],"Id":"698","Name":"Locust","NameId":"Locust","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Summon","Food"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Five enemy attacks: Gain +4 health and remove 4 health from all enemies."},{"Level":2,"About":"Five enemy attacks: Gain +8 health and remove 8 health from all enemies."},{"Level":3,"About":"Five enemy attacks: Gain +12 health and remove 12 health from all enemies."}],"Id":"420","Name":"Longcomb Sawfish","NameId":"LongcombSawfish","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal damage to one random enemy equal to the sum of all friendly levels."},{"Level":2,"About":"Start of battle: Deal damage to two random enemies equal to the sum of all friendly levels."},{"Level":3,"About":"Start of battle: Deal damage to three random enemies equal to the sum of all friendly levels."}],"Id":"200","Name":"Lynx","NameId":"Lynx","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels","Disruption"],"Random":true},{"Attack":2,"Health":11,"Abilities":[{"Level":1,"About":"End turn: Take 5 damage and give the nearest friend ahead +2 attack and +1 health."},{"Level":2,"About":"End turn: Take 5 damage and give the nearest friend ahead +4 attack and +2 health."},{"Level":3,"About":"End turn: Take 5 damage and give the nearest friend ahead +6 attack and +3 health."}],"Id":"192","Name":"Manatee","NameId":"Manatee","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"End turn: If there is an empty space, gain +2 gold next turn."},{"Level":2,"About":"End turn: If there is an empty space, gain +4 gold next turn."},{"Level":3,"About":"End turn: If there is an empty space, gain +6 gold next turn."}],"Id":"240","Name":"Manta Ray","NameId":"MantaRay","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Make ALL pets within 3 spaces Weak."},{"Level":2,"About":"Faint: Make ALL pets within 6 spaces Weak."},{"Level":3,"About":"Faint: Make ALL pets within 9 spaces Weak."}],"Id":"94","Name":"Microbe","NameId":"Microbe","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Three friends faint: Gain +1 gold on next turn."},{"Level":2,"About":"Three friends faint: Gain +2 gold on next turn."},{"Level":3,"About":"Three friends faint: Gain +3 gold on next turn."}],"Id":"359","Name":"Mimic","NameId":"Mimic","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Gold","Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Gain +1 attack and +1 health for each of the friend\'s level."},{"Level":2,"About":"Friend ahead attacks: Gain +2 attack and +2 health for each of the friend\'s level."},{"Level":3,"About":"Friend ahead attacks: Gain +3 attack and +3 health for each of the friend\'s level."}],"Id":"360","Name":"Minotaur","NameId":"Minotaur","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 nostalgic toy."},{"Level":2,"About":"Start of turn: Choose one level 2 nostalgic toy."},{"Level":3,"About":"Start of turn: Choose one level 3 nostalgic toy."}],"Id":"612","Name":"Old Mouse","NameId":"OldMouse","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"],"Random":true},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Copy ability from the nearest pet ahead as level 1 until next turn."},{"Level":2,"About":"End turn: Copy ability from the nearest pet ahead as level 2 until next turn."},{"Level":3,"About":"End turn: Copy ability from the nearest pet ahead as level 3 until next turn."}],"Id":"53","Name":"Parrot","NameId":"Parrot","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Mvp","Mvp"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give three friends +1 attack until next turn."},{"Level":2,"About":"Friend summoned: Give three friends +2 attack until next turn."},{"Level":3,"About":"Friend summoned: Give three friends +3 attack until next turn."}],"Id":"365","Name":"Pegasus","NameId":"Pegasus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Give two level 2 or higher friends +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give two level 2 or higher friends +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give two level 2 or higher friends +3 attack and +3 health."}],"Id":"56","Name":"Penguin","NameId":"Penguin","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for each roll (max 8) this turn."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for each roll (max 8) this turn."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for each roll (max 8) this turn."}],"Id":"734","Name":"Platybelodon","NameId":"Platybelodon","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Roll"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint & Sell: Summon one 3/2 level 1 Duck and Beaver."},{"Level":2,"About":"Faint & Sell: Summon one 6/4 level 2 Duck and Beaver."},{"Level":3,"About":"Faint & Sell: Summon one 9/6 level 3 Duck and Beaver."}],"Id":"159","Name":"Platypus","NameId":"Platypus","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle","Summon"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead faints: Deal 4 damage to the highest health enemy."},{"Level":2,"About":"Friend ahead faints: Deal 8 damage to the highest health enemy."},{"Level":3,"About":"Friend ahead faints: Deal 12 damage to the highest health enemy."}],"Id":"252","Name":"Poison Dart Frog","NameId":"PoisonDartFrog","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend transformed: Give it +3 experience. Works 1 time per battle."},{"Level":2,"About":"Friend transformed: Give it +3 experience. Works 2 times per battle."},{"Level":3,"About":"Friend transformed: Give it +3 experience. Works 3 times per battle."}],"Id":"729","Name":"Poodle Moth","NameId":"PoodleMoth","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels","Transform"]},{"Attack":7,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +6 attack and +6 health."}],"Id":"126","Name":"Praying Mantis","NameId":"PrayingMantis","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff","Mvp"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Puppy toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Puppy toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Puppy toy."}],"Id":"97","Name":"Puppy","NameId":"Puppy","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 1 time per battle."},{"Level":2,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 2 times per battle."},{"Level":3,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 3 times per battle."}],"Id":"760","Name":"Racket Tail","NameId":"WhiteBootedRacketTail","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from one tier below."},{"Level":2,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from two tiers below."},{"Level":3,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from three tiers below."}],"Id":"742","Name":"Red Lipped Batfish","NameId":"RedLippedBatfish","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 3 times and spread evenly."},{"Level":2,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 6 times and spread evenly."},{"Level":3,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 9 times and spread evenly."}],"Id":"369","Name":"Roc","NameId":"Roc","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give two friends with less health than this +1 attack and +1 health."},{"Level":2,"About":"End turn: Give two friends with less health than this +2 attack and +2 health."},{"Level":3,"About":"End turn: Give two friends with less health than this +3 attack and +3 health."}],"Id":"622","Name":"Rootling","NameId":"Rootler","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Replace friendly strawberries with +4 mana."},{"Level":2,"About":"Start of battle: Replace friendly strawberries with +8 mana."},{"Level":3,"About":"Start of battle: Replace friendly strawberries with +12 mana."}],"Id":"802","Name":"Ruspoli\'s Turaco","NameId":"RuspolisTuraco","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Two friends faint: Gain +3 trumpets."},{"Level":2,"About":"Two friends faint: Gain +6 trumpets."},{"Level":3,"About":"Two friends faint: Gain +9 trumpets."}],"Id":"257","Name":"Saiga Antelope","NameId":"SaigaAntelope","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Summon"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: If it was a Sell pet, give one random friend +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Friend sold: If it was a Sell pet, give one random friend +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Friend sold: If it was a Sell pet, give one random friend +3 attack and +3 health. Works 3 times per turn."}],"Id":"563","Name":"Sea Anemone","NameId":"SeaAnemone","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 3 times per turn."}],"Id":"128","Name":"Seagull","NameId":"Seagull","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give friends behind +1 attack and friends ahead +1 health."},{"Level":2,"About":"End turn: Give friends behind +2 attack and friends ahead +2 health."},{"Level":3,"About":"End turn: Give friends behind +3 attack and friends ahead +3 health."}],"Id":"175","Name":"Sealion","NameId":"Sealion","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Give adjacent pets +1 attack. Also +1 health if the shop has discounted food."},{"Level":2,"About":"End turn: Give adjacent pets +2 attack. Also +2 health if the shop has discounted food."},{"Level":3,"About":"End turn: Give adjacent pets +3 attack. Also +3 health if the shop has discounted food."}],"Id":"565","Name":"Siamese","NameId":"Siamese","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 33% health from the highest health enemy."},{"Level":2,"About":"Start of battle: Remove 66% health from the highest health enemy."},{"Level":3,"About":"Start of battle: Remove 99% health from the highest health enemy."}],"Id":"70","Name":"Skunk","NameId":"Skunk","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Transformed: Feed one Pear to each friend."},{"Level":2,"About":"Transformed: Feed two Pears to each friend."},{"Level":3,"About":"Transformed: Feed three Pears to each friend."}],"Id":"780","Name":"Sleeping Gelada","NameId":"GeladaSleeping","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/2 Smaller Slug that summons one 1/1 Smallest Slug."},{"Level":2,"About":"Faint: Summon one 4/4 Smaller Slug that summons one 2/2 Smallest Slug."},{"Level":3,"About":"Faint: Summon one 6/6 Smaller Slug that summons one 3/3 Smallest Slug."}],"Id":"262","Name":"Slug","NameId":"Slug","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Guard"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friendly Strawberries block 5 damage twice, or ailments once."},{"Level":2,"About":"Friendly Strawberries block 10 damage twice, or ailments once."},{"Level":3,"About":"Friendly Strawberries block 15 damage twice, or ailments once."}],"Id":"567","Name":"Sparrow","NameId":"Sparrow","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Friend attacks: Give it +4 health and move it far back. Works on one friend per turn."},{"Level":2,"About":"Friend attacks: Give it +4 health and move it far back. Works on two different friends per turn."},{"Level":3,"About":"Friend attacks: Give it +4 health and move it far back. Works on three different friends per turn."}],"Id":"727","Name":"Spider Crab","NameId":"SpiderCrab","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 1 damage to two random enemies and multiply damage by the distance."},{"Level":2,"About":"Faint: Deal 2 damage to two random enemies and multiply damage by the distance."},{"Level":3,"About":"Faint: Deal 3 damage to two random enemies and multiply damage by the distance."}],"Id":"804","Name":"Spiny Bush Viper","NameId":"SpinyBushViper","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of turn: Discount all shop food by 1 gold."},{"Level":2,"About":"Start of turn: Discount all shop food by 2 gold."},{"Level":3,"About":"Start of turn: Discount all shop food by 3 gold."}],"Id":"75","Name":"Squirrel","NameId":"Squirrel","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give Mild Chili perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Mild Chili perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Mild Chili perk to the three nearest friends behind."}],"Id":"393","Name":"Tahr","NameId":"ArabianTahr","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack second enemy for 4 damage.","CustomArchetypes":["Perks"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Transformed: Summon a level 1 Thunder Hammer."},{"Level":2,"About":"Transformed: Summon a level 2 Thunder Hammer."},{"Level":3,"About":"Transformed: Summon a level 3 Thunder Hammer."}],"Id":"819","Name":"Tand and Tand","NameId":"ThorGoats","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":6,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give one random friendly Tandgrisner +3 health. Can also..."},{"Level":2,"About":"End turn: Give one random friendly Tandgrisner +6 health. Can also..."},{"Level":3,"About":"End turn: Give one random friendly Tandgrisner +9 health. Can also..."}],"Id":"607","Name":"Tandgnost","NameId":"ThorGoat1","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Give one random friendly Tandgnost +3 attack. Can also..."},{"Level":2,"About":"End turn: Give one random friendly Tandgnost +6 attack. Can also..."},{"Level":3,"About":"End turn: Give one random friendly Tandgnost +9 attack. Can also..."}],"Id":"608","Name":"Tandgrisner","NameId":"ThorGoat2","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 level 1 Tardigrade and make it Dazed."},{"Level":2,"About":"Faint: Summon one 6/6 level 2 Tardigrade and make it Dazed."},{"Level":3,"About":"Faint: Summon one 9/9 level 3 Tardigrade and make it Dazed."}],"Id":"570","Name":"Tardigrade","NameId":"Tardigrade","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Summon","Ailments"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make the lowest attack enemy 5x\xa0Spooked and jump-attack it."},{"Level":2,"About":"Start of battle: Make the lowest attack enemy 10x\xa0Spooked and jump-attack it."},{"Level":3,"About":"Start of battle: Make the lowest attack enemy 15x\xa0Spooked and jump-attack it."}],"Id":"437","Name":"Tasmanian Devil","NameId":"TasmanianDevil","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Guard","Ailments"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and deal 3 damage to the two first enemies."},{"Level":2,"About":"Empty front space: Jump to the front and deal 6 damage to the two first enemies."},{"Level":3,"About":"Empty front space: Jump to the front and deal 9 damage to the two first enemies."}],"Id":"330","Name":"Tiger Bug","NameId":"AntLion","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: If it was sold for at least 3 gold, gain +1 attack and +2 health."},{"Level":2,"About":"Friend sold: If it was sold for at least 3 gold, gain +2 attack and +4 health."},{"Level":3,"About":"Friend sold: If it was sold for at least 3 gold, gain +3 attack and +6 health."}],"Id":"706","Name":"Trout","NameId":"Trout","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Melon perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Melon perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Melon perk to the three nearest friends behind."}],"Id":"80","Name":"Turtle","NameId":"Turtle","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 1 time per turn."},{"Level":2,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 3 times per turn."}],"Id":"380","Name":"Unicorn","NameId":"Unicorn","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +50% trumpets, and minimum +4 trumpets."},{"Level":2,"About":"Faint: Gain +100% trumpets, and minimum +8 trumpets."},{"Level":3,"About":"Faint: Gain +150% trumpets, and minimum +12 trumpets."}],"Id":"265","Name":"Vaquita","NameId":"Vaquita","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Make ALL pets within one space Icky."},{"Level":2,"About":"Faint: Make ALL pets within two spaces Icky."},{"Level":3,"About":"Faint: Make ALL pets within three spaces Icky."}],"Id":"386","Name":"Visitor","NameId":"Xenomorph","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take double damage, twice.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 1 on faint."},{"Level":2,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 2 on faint."},{"Level":3,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 3 on faint."}],"Id":"81","Name":"Whale","NameId":"Whale","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Gain perk or ailment: Remove it and gain +1 attack and +1 health. Triple in battle."},{"Level":2,"About":"Gain perk or ailment: Remove it and gain +2 attack and +2 health. Triple in battle."},{"Level":3,"About":"Gain perk or ailment: Remove it and gain +3 attack and +3 health. Triple in battle."}],"Id":"267","Name":"Whale Shark","NameId":"WhaleShark","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks","Ailments"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Give adjacent friends +1 attack and +1 health for every 4 roll, up to 8 rolls."},{"Level":2,"About":"End turn: Give adjacent friends +2 attack and +2 health for every 4 roll, up to 8 rolls."},{"Level":3,"About":"End turn: Give adjacent friends +3 attack and +3 health for every 4 roll, up to 8 rolls."}],"Id":"371","Name":"Worm of Sand","NameId":"Sandworm","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 1 time per battle."},{"Level":2,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 2 times per battle."},{"Level":3,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 3 times per battle."}],"Id":"756","Name":"Yeti Crab","NameId":"YetiCrab","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block 10 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Transformed: Give two back-most friends 1 experience."},{"Level":2,"About":"Transformed: Give two back-most friends 2 experience."},{"Level":3,"About":"Transformed: Give two back-most friends 3 experience."}],"Id":"777","Name":"Adult Flounder","NameId":"FlounderAdult","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +3 attack and +4 mana and Spooked. Works 2 times per turn."},{"Level":2,"About":"Friend summoned: Give it +6 attack and +8 mana and Spooked. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it +9 attack and +12 mana and Spooked. Works 2 times per turn."}],"Id":"631","Name":"Amalgamation","NameId":"Amalgam","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Ailments","Summon"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give ALL pets +8 health."},{"Level":2,"About":"Start of battle: Give ALL pets +16 health."},{"Level":3,"About":"Start of battle: Give ALL pets +24 health."}],"Id":"166","Name":"Armadillo","NameId":"Armadillo","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friendly gained perk: Give it permanent +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Friendly gained perk: Give it permanent +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Friendly gained perk: Give it permanent +3 attack and +3 health. Works 3 times per turn."}],"Id":"212","Name":"Axolotl","NameId":"Axolotl","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +3 attack and +3 health."},{"Level":2,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +6 attack and +6 health."},{"Level":3,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +9 attack and +9 health."}],"Id":"395","Name":"Aye-aye","NameId":"AyeAye","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 toy that brings doom and chaos!"},{"Level":2,"About":"Buy: Choose one level 2 toy that brings doom and chaos!"},{"Level":3,"About":"Buy: Choose one level 3 toy that brings doom and chaos!"}],"Id":"613","Name":"Bad Dog","NameId":"BadDog","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys","Disruption"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Remove 6 attack from ALL other pets to a minimum of 4 attack."},{"Level":2,"About":"Start of battle: Remove 12 attack from ALL other pets to a minimum of 4 attack."},{"Level":3,"About":"Start of battle: Remove 18 attack from ALL other pets to a minimum of 4 attack."}],"Id":"396","Name":"Banggai Cardinalfish","NameId":"BanggaiCardinalfish","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Eats food: Swallow the left-most shop pet and summon it at level 1 with base stats on faint."},{"Level":2,"About":"Eats food: Swallow the left-most shop pet and summon it at level 2 with double stats on faint."},{"Level":3,"About":"Eats food: Swallow the left-most shop pet and summon it at level 3 with triple stats on faint."}],"Id":"182","Name":"Beluga Whale","NameId":"WhiteWhale","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Mvp"]},{"Attack":2,"Health":10,"Abilities":[{"Level":1,"About":"Faint: Give the nearest friend behind +1 experience. Give to one more friend in battle."},{"Level":2,"About":"Faint: Give the nearest friend behind +2 experience. Give to one more friend in battle."},{"Level":3,"About":"Faint: Give the nearest friend behind +3 experience. Give to one more friend in battle."}],"Id":"150","Name":"Blobfish","NameId":"Blobfish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three random friends +1 attack and +1 health for each food this has eaten this turn."},{"Level":2,"About":"Faint: Give three random friends +2 attack and +2 health for each food this has eaten this turn."},{"Level":3,"About":"Faint: Give three random friends +3 attack and +3 health for each food this has eaten this turn."}],"Id":"774","Name":"Blue Jay","NameId":"BlueJay","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Give friends +1 attack and +1 health."},{"Level":2,"About":"Buy: Give friends +2 attack and +2 health."},{"Level":3,"About":"Buy: Give friends +3 attack and +3 health."}],"Id":"271","Name":"Blue Ringed Octopus","NameId":"BlueRingedOctopus","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":2,"Health":12,"Abilities":[{"Level":1,"About":"Before attack: Make the target Crisp. Works 2 times per battle."},{"Level":2,"About":"Before attack: Make the target Crisp. Works 4 times per battle."},{"Level":3,"About":"Before attack: Make the target Crisp. Works 6 times per battle."}],"Id":"656","Name":"Boitata","NameId":"Boitata","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three friends that dealt damage this battle permanent +1 attack and +1 health."},{"Level":2,"About":"Faint: Give three friends that dealt damage this battle permanent +2 attack and +2 health."},{"Level":3,"About":"Faint: Give three friends that dealt damage this battle permanent +3 attack and +3 health."}],"Id":"688","Name":"Brahma Chicken","NameId":"BrahmaChicken","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give future shop pets +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give future shop pets +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give future shop pets +3 attack and +3 health."}],"Id":"14","Name":"Chicken","NameId":"Chicken","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Buy: Replace shop food with two free Milk."},{"Level":2,"About":"Buy: Replace shop food with two free Better Milk."},{"Level":3,"About":"Buy: Replace shop food with two free Best Milk."}],"Id":"15","Name":"Cow","NameId":"Cow","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food","Cycle"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 1 time per turn."},{"Level":2,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 2 times per turn."},{"Level":3,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 3 times per turn."}],"Id":"219","Name":"Crane","NameId":"Crane","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 8 damage to the last enemy."},{"Level":2,"About":"Start of battle: Deal 8 damage to the last enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 8 damage to the last enemy. Triggers 3 times."}],"Id":"19","Name":"Crocodile","NameId":"Crocodile","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +1 health to one friend of each level."},{"Level":2,"About":"End turn: Give +2 attack and +2 health to one friend of each level."},{"Level":3,"About":"End turn: Give +3 attack and +3 health to one friend of each level."}],"Id":"196","Name":"Dragonfly","NameId":"Dragonfly","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/5 level 1 pet from the next shop tier."},{"Level":2,"About":"Faint: Summon one 10/10 level 2 pet from the next shop tier."},{"Level":3,"About":"Faint: Summon one 15/15 level 3 pet from the next shop tier."}],"Id":"27","Name":"Eagle","NameId":"Eagle","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 1 time per battle."},{"Level":2,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 2 times per battle."},{"Level":3,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 3 times per battle."}],"Id":"221","Name":"Egyptian Vulture","NameId":"EgyptianVulture","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Empty front space: Give nearest friend ahead +4 health and move it to the front in battle."},{"Level":2,"About":"Empty front space: Give nearest friend ahead +8 health and move it to the front in battle."},{"Level":3,"About":"Empty front space: Give nearest friend ahead +12 health and move it to the front in battle."}],"Id":"223","Name":"Emu","NameId":"Emu","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 friend with +1 attack and +1 health for each ailment gained."},{"Level":2,"About":"Faint: Summon two 3/3 friends with +1 attack and +1 health for each ailment gained."},{"Level":3,"About":"Faint: Summon three 3/3 friends with +1 attack and +1 health for each ailment gained."}],"Id":"770","Name":"Estemmenosuchus","NameId":"Estemmenosuchus","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments","Summon"]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Feed three Corncobs with triple effect to the nearest friend behind."},{"Level":2,"About":"Faint: Feed three Corncobs with triple effect to the nearest two friends behind."},{"Level":3,"About":"Faint: Feed three Corncobs with triple effect to the nearest three friends behind."}],"Id":"691","Name":"Farmer Crow","NameId":"FarmerCrow","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give attack to the highest tier friend."},{"Level":2,"About":"Faint: Give attack to the two highest tier friends."},{"Level":3,"About":"Faint: Give attack to the three highest tier friends."}],"Id":"274","Name":"Fire Ant","NameId":"FireAnt","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Eats two food: Transform and give the two back-most friends 1 experience."},{"Level":2,"About":"Eats two food: Transform and give the two back-most friends 2 experience."},{"Level":3,"About":"Eats two food: Transform and give the two back-most friends 3 experience."}],"Id":"776","Name":"Flounder","NameId":"FlounderYoung","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Steal the right-most shop food."},{"Level":2,"About":"End turn: Steal the right-most shop food and double its attack and health effects."},{"Level":3,"About":"End turn: Steal the right-most shop food and triple its attack and health effects."}],"Id":"106","Name":"Fox","NameId":"Fox","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":10,"Abilities":[{"Level":1,"About":"Hurt: Deal 33% of damage taken as damage to one random enemy."},{"Level":2,"About":"Hurt: Deal 66% of damage taken as damage to one random enemy."},{"Level":3,"About":"Hurt: Deal 100% of damage taken as damage to one random enemy."}],"Id":"409","Name":"Geometric Tortoise","NameId":"GeometricTortoise","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Hurt"],"Random":true},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give friends +2 health. Spend 2 trumpets to give 1 more health in the future."},{"Level":2,"About":"Faint: Give friends +4 health. Spend 2 trumpets to give 2 more health in the future."},{"Level":3,"About":"Faint: Give friends +6 health. Spend 2 trumpets to give 3 more health in the future."}],"Id":"752","Name":"Giant Isopod","NameId":"GiantIsopod","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Deal 4 damage to one random enemy for each friendly transformation this turn."},{"Level":2,"About":"Faint: Deal 8 damage to one random enemy for each friendly transformation this turn."},{"Level":3,"About":"Faint: Deal 12 damage to one random enemy for each friendly transformation this turn."}],"Id":"411","Name":"Giant Pangasius","NameId":"GiantPangasius","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Disruption","Transform"],"Random":true},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend bought: Gain +1 gold. Works 2 times per turn."},{"Level":2,"About":"Friend bought: Gain +2 gold. Works 2 times per turn."},{"Level":3,"About":"Friend bought: Gain +3 gold. Works 2 times per turn."}],"Id":"34","Name":"Goat","NameId":"Goat","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle","Gold"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Roll: Gain one free roll. Works 2 times per turn."},{"Level":2,"About":"Roll: Gain one free roll. Works 4 times per turn."},{"Level":3,"About":"Roll: Gain one free roll. Works 6 times per turn."}],"Id":"110","Name":"Hamster","NameId":"Hamster","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give three random friends that fainted last battle +2 health."},{"Level":2,"About":"Start of turn: Give three random friends that fainted last battle +4 health."},{"Level":3,"About":"Start of turn: Give three random friends that fainted last battle +6 health."}],"Id":"414","Name":"Hawaiian Monk Seal","NameId":"HawaiianMonkSeal","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain +1 mana for each roll this turn."},{"Level":2,"About":"Friend ahead faints: Gain +2 mana for each roll this turn."},{"Level":3,"About":"Friend ahead faints: Gain +3 mana for each roll this turn."}],"Id":"350","Name":"Hippocampus","NameId":"Hippocampus","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll","Guard","Mana"],"Random":true},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Swap attack and health of ALL pets.","FinePrint":"Will shuffle positions of all pets at level 2."},{"Level":2,"About":"Start of battle: Shuffle positions of ALL pets.","FinePrint":"Will swap stats and shuffe positions of all pets at level 3."},{"Level":3,"About":"Start of battle: Swap attack and health and shuffle positions of ALL pets."}],"Id":"167","Name":"Hyena","NameId":"Hyena","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on one enemy per battle."},{"Level":2,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on two different enemies per battle."},{"Level":3,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on three different enemies per battle."}],"Id":"553","Name":"Ibex","NameId":"Ibex","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Pet flung: Set attack and health to 13."},{"Level":2,"About":"Pet flung: Set attack and health to 26."},{"Level":3,"About":"Pet flung: Set attack and health to 39."}],"Id":"554","Name":"Jackal","NameId":"Jackal","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one random 14/16 pet from tier 3 up front for you and the opponent."},{"Level":2,"About":"Faint: Summon two random 14/16 pets from tier 3 up front for you and the opponent."},{"Level":3,"About":"Faint: Summon three random 14/16 pets from tier 3 up front for you and the opponent."}],"Id":"655","Name":"Kappa","NameId":"Kappa","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"],"Random":true},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Friend faints: Transfer all friendly mana + 2 to nearest friend ahead."},{"Level":2,"About":"Friend faints: Transfer all friendly mana + 4 to nearest friend ahead."},{"Level":3,"About":"Friend faints: Transfer all friendly mana + 6 to nearest friend ahead."}],"Id":"354","Name":"Kitsune","NameId":"Kitsune","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it +1 attack and +2 health once. Permanent if it jumped."},{"Level":2,"About":"Before friend attacks: Give it +2 attack and +4 health once. Permanent if it jumped."},{"Level":3,"About":"Before friend attacks: Give it +3 attack and +6 health once. Permanent if it jumped."}],"Id":"640","Name":"Loveland Frogman","NameId":"LovelandFrogman","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend mana to remove 1 attack and health per mana from one random enemy."},{"Level":2,"About":"Faint: Spend mana to remove 1 attack and health per mana from two random enemies."},{"Level":3,"About":"Faint: Spend mana to remove 1 attack and health per mana from three random enemies."}],"Id":"808","Name":"Lusca","NameId":"Lusca","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 12/12 Orangutan with the same food perk as this."},{"Level":2,"About":"Start of battle: Summon one 24/24 Orangutan with the same food perk as this."},{"Level":3,"About":"Start of battle: Summon one 36/36 Orangutan with the same food perk as this."}],"Id":"238","Name":"Macaque","NameId":"Macaque","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Convert trumpets into double mana and spread it evenly to friends."},{"Level":2,"About":"Faint: Convert trumpets into triple mana and spread it evenly to friends."},{"Level":3,"About":"Faint: Convert trumpets into quadruple mana and spread it evenly to friends."}],"Id":"556","Name":"Maltese","NameId":"Maltese","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Mana"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it Melon. Works on one friend per turn."},{"Level":2,"About":"Before friend attacks: Give it Melon. Works on two different friends per turn."},{"Level":3,"About":"Before friend attacks: Give it Melon. Works on three different friends per turn."}],"Id":"532","Name":"Marine Iguana","NameId":"MarineIguana","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give front-most friendly pet +2 attack and +2 health."},{"Level":2,"About":"End turn: Give front-most friendly pet +4 attack and +4 health."},{"Level":3,"About":"End turn: Give front-most friendly pet +6 attack and +6 health."}],"Id":"46","Name":"Monkey","NameId":"Monkey","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Unfreeze shop and give one random friend +3 health for each tier 1 shop pet."},{"Level":2,"About":"End turn: Unfreeze shop and give one random friend +6 health for each tier 1 shop pet."},{"Level":3,"About":"End turn: Unfreeze shop and give one random friend +9 health for each tier 1 shop pet."}],"Id":"202","Name":"Moose","NameId":"Moose","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Friendly toy broke: Give adjacent friends +2 attack and +3 health."},{"Level":2,"About":"Friendly toy broke: Give adjacent friends +4 attack and +6 health."},{"Level":3,"About":"Friendly toy broke: Give adjacent friends +6 attack and +9 health."}],"Id":"242","Name":"Mosasaurus","NameId":"Mosasaurus","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend mana to gain 1 trumpet for each mana."},{"Level":2,"About":"Faint: Spend mana to gain 2 trumpets for each mana."},{"Level":3,"About":"Faint: Spend mana to gain 3 trumpets for each mana."}],"Id":"784","Name":"Namazu","NameId":"Namazu","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Trumpets"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 Boat. If it\'s your first Boat this battle, give it +1 and +1 for each roll."},{"Level":2,"About":"Faint: Summon one 6/6 Boat. If it\'s your first Boat this battle, give it +2 and +2 for each roll."},{"Level":3,"About":"Faint: Summon one 9/9 Boat. If it\'s your first Boat this battle, give it +3 and +3 for each roll."}],"Id":"363","Name":"Nessie","NameId":"Nessie","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"614","Name":"Nessie?","NameId":"FakeNessie","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Takes 4 less damage. Works 3 times per turn."},{"Level":2,"About":"Takes 8 less damage. Works 3 times per turn."},{"Level":3,"About":"Takes 12 less damage. Works 3 times per turn."}],"Id":"657","Name":"Nurikabe","NameId":"Nurikabe","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to one random enemy."},{"Level":2,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to two random enemies."},{"Level":3,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to three random enemies."}],"Id":"276","Name":"Nurse Shark","NameId":"NurseShark","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"],"Random":true},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +8 trumpets."},{"Level":2,"About":"Faint: Gain +16 trumpets."},{"Level":3,"About":"Faint: Gain +24 trumpets."}],"Id":"246","Name":"Nyala","NameId":"Nyala","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Summon one Mantis with 40% attack and health of this."},{"Level":2,"About":"Start of battle: Summon one Mantis with 80% attack and health of this."},{"Level":3,"About":"Start of battle: Summon one Mantis with 120% attack and health of this."}],"Id":"557","Name":"Orchid Mantis","NameId":"OrchidMantis","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +4 attack and +4 health for each friend that sells for at least 3 gold."},{"Level":2,"About":"Start of battle: Gain +8 attack and +8 health for each friend that sells for at least 3 gold."},{"Level":3,"About":"Start of battle: Gain +12 attack and +12 health for each friend that sells for at least 3 gold."}],"Id":"801","Name":"Pacific Fanfish","NameId":"PacificFanfish","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give White Okra perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give White Okra perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give White Okra perk to the three nearest friends behind."}],"Id":"423","Name":"Painted Terrapin","NameId":"PaintedTerrapin","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 10 damage twice or ailment once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Perks are two times stronger on this in battle."},{"Level":2,"About":"Perks are three times stronger on this in battle."},{"Level":3,"About":"Perks are four times stronger on this in battle."}],"Id":"250","Name":"Panther","NameId":"Panther","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Swallow one Strawberry friend ahead and turn it into a Salmon on faint."},{"Level":2,"About":"Start of battle: Swallow two Strawberry friends ahead and turn them into Salmons on faint."},{"Level":3,"About":"Start of battle: Swallow three Strawberry friends ahead and turn them into Salmons on faint."}],"Id":"129","Name":"Pelican","NameId":"Pelican","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Summon"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Spend 4 mana to gain +3 gold next turn."},{"Level":2,"About":"Faint: Spend 4 mana to gain +6 gold next turn."},{"Level":3,"About":"Faint: Spend 4 mana to gain +9 gold next turn."}],"Id":"619","Name":"Pixiu","NameId":"Pixiu","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of turn: Give one random frozen shop pet +4 attack and +4 health."},{"Level":2,"About":"Start of turn: Give one random frozen shop pet +8 attack and +8 health."},{"Level":3,"About":"Start of turn: Give one random frozen shop pet +12 attack and +12 health."}],"Id":"108","Name":"Polar Bear","NameId":"PolarBear","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Before attack: Steal food perk from target. Works 1 time per battle."},{"Level":2,"About":"Before attack: Steal food perk from target. Works 2 times per battle."},{"Level":3,"About":"Before attack: Steal food perk from target. Works 3 times per battle."}],"Id":"158","Name":"Raccoon","NameId":"Racoon","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Make the last enemy Crisp."},{"Level":2,"About":"Start of battle: Make the two last enemies Crisp."},{"Level":3,"About":"Start of battle: Make the three last enemies Crisp."}],"Id":"368","Name":"Red Dragon","NameId":"RedDragon","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":["Ailments"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."},{"Level":2,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."},{"Level":3,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."}],"Id":"428","Name":"Red Panda","NameId":"RedPanda","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Knock out: Deal 4 damage to the first enemy. Double against tier 1 pets."},{"Level":2,"About":"Knock out: Deal 8 damage to the first enemy. Double against tier 1 pets."},{"Level":3,"About":"Knock out: Deal 12 damage to the first enemy. Double against tier 1 pets."}],"Id":"55","Name":"Rhino","NameId":"Rhino","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one Chick with 1 health and 50% attack of this."},{"Level":2,"About":"Faint: Summon two Chicks with 1 health and 50% attack of this."},{"Level":3,"About":"Faint: Summon three Chicks with 1 health and 50% attack of this."}],"Id":"63","Name":"Rooster","NameId":"Rooster","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Summoned: Deal 5 damage to one random enemy. Repeat for every 25 health this has."},{"Level":2,"About":"Summoned: Deal 10 damage to one random enemy. Repeat for every 25 health this has."},{"Level":3,"About":"Summoned: Deal 15 damage to one random enemy. Repeat for every 25 health this has."}],"Id":"562","Name":"Salmon","NameId":"Salmon","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[],"Random":true},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the two front-most friends AND enemies +2 experience."},{"Level":2,"About":"Start of battle: Give the two front-most friends AND enemies +4 experience."},{"Level":3,"About":"Start of battle: Give the two front-most friends AND enemies +6 experience."}],"Id":"370","Name":"Salmon of Knowledge","NameId":"SalmonofWisdom","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Summoned: Gain Peanut perk."},{"Level":2,"About":"Summoned: Gain Peanut perk."},{"Level":3,"About":"Summoned: Gain Peanut perk."}],"Id":"65","Name":"Scorpion","NameId":"Scorpion","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make one random enemy Tasty."},{"Level":2,"About":"Start of battle: Make two random enemies Tasty."},{"Level":3,"About":"Start of battle: Make three random enemies Tasty."}],"Id":"564","Name":"Sea Cucumber","NameId":"SeaCucumber","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Faint: Give one random enemy permanent +2 attack and +2 health.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Eats food: Give three random friends +1 attack."},{"Level":2,"About":"Eats food: Give three random friends +2 attack."},{"Level":3,"About":"Eats food: Give three random friends +3 attack."}],"Id":"66","Name":"Seal","NameId":"Seal","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"],"Random":true},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Two friends faint: Give the nearest friend ahead +3 attack and +4 health."},{"Level":2,"About":"Two friends faint: Give the nearest friend ahead +6 attack and +8 health."},{"Level":3,"About":"Two friends faint: Give the nearest friend ahead +9 attack and +12 health."}],"Id":"259","Name":"Secretary Bird","NameId":"SecretaryBird","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend faints: Gain +2 attack and +2 health."},{"Level":2,"About":"Friend faints: Gain +4 attack and +4 health."},{"Level":3,"About":"Friend faints: Gain +6 attack and +6 health."}],"Id":"69","Name":"Shark","NameId":"Shark","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Replace the nearest Strawberry ahead with +4 attack and +4 health."},{"Level":2,"About":"Start of turn: Replace the nearest Strawberry ahead with +8 attack and +8 health."},{"Level":3,"About":"Start of turn: Replace the nearest Strawberry ahead with +12 attack and +12 health."}],"Id":"134","Name":"Shoebill","NameId":"Shoebill","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Give three random friends with no food perks +1 attack and +1 health."},{"Level":2,"About":"End turn: Give three random friends with no food perks +2 attack and +2 health."},{"Level":3,"About":"End turn: Give three random friends with no food perks +3 attack and +3 health."}],"Id":"146","Name":"Siberian Husky","NameId":"SiberianHusky","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain +1 gold on next turn. Works 3 times per battle."},{"Level":2,"About":"Before attack: Gain +2 gold on next turn. Works 3 times per battle."},{"Level":3,"About":"Before attack: Gain +3 gold on next turn. Works 3 times per battle."}],"Id":"261","Name":"Silver Fox","NameId":"SilverFox","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Skewer perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Skewer perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Skewer perk to the three nearest friends behind."}],"Id":"277","Name":"Snapping Turtle","NameId":"SnappingJawTurtle","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack second and third enemy for 3 damage.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Gain +5 attack and +5 health and jump-attack one random enemy."},{"Level":2,"About":"Start of battle: Gain +10 attack and +10 health and jump-attack one random enemy."},{"Level":3,"About":"Start of battle: Gain +15 attack and +15 health and jump-attack one random enemy."}],"Id":"716","Name":"Snow Leopard","NameId":"SnowLeopard","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"],"Random":true},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Level 3 friend sold: Give friends +1 attack and +1 health. Triple if sold pet had at least 10 attack."},{"Level":2,"About":"Level 3 friend sold: Give friends +2 attack and +2 health. Triple if sold pet had at least 10 attack."},{"Level":3,"About":"Level 3 friend sold: Give friends +3 attack and +3 health. Triple if sold pet had at least 10 attack."}],"Id":"153","Name":"Starfish","NameId":"Starfish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Sting Ray toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Sting Ray toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Sting Ray toy."}],"Id":"178","Name":"Sting Ray","NameId":"Stingray","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal attack damage directly back to whoever knocked this out."},{"Level":2,"About":"Faint: Deal double attack damage directly back to whoever knocked this out."},{"Level":3,"About":"Faint: Deal triple attack damage directly back to whoever knocked this out."}],"Id":"278","Name":"Stonefish","NameId":"Stonefish","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":6,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Deal 100% attack damage to the most healthy enemy and itself."},{"Level":2,"About":"Start of battle: Deal 200% attack damage to the most healthy enemy and itself."},{"Level":3,"About":"Start of battle: Deal 300% attack damage to the most healthy enemy and itself."}],"Id":"119","Name":"Swordfish","NameId":"SwordFish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Give friends +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Give friends +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Give friends +3 attack and +3 health. Works 3 times per turn."}],"Id":"436","Name":"Taita Thrush","NameId":"TaitaThrush","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":10,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 health from all enemies. Repeat for every 10 attack this has."},{"Level":2,"About":"Start of battle: Remove 2 health from all enemies. Repeat for every 10 attack this has."},{"Level":3,"About":"Start of battle: Remove 3 health from all enemies. Repeat for every 10 attack this has."}],"Id":"569","Name":"Tarantula Hawk","NameId":"TarantulaHawk","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 25% of all stats and divide them out. Socialism!"},{"Level":2,"About":"Start of battle: Remove 50% of all stats and divide them out. Socialism!"},{"Level":3,"About":"Start of battle: Remove 75% of all stats and divide them out. Socialism!"}],"Id":"812","Name":"Tarasque","NameId":"Tarasque","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Give one random friend +3 attack and +3 health."},{"Level":2,"About":"Hurt: Give one random friend +6 attack and +6 health."},{"Level":3,"About":"Hurt: Give one random friend +9 attack and +9 health."}],"Id":"142","Name":"Triceratops","NameId":"Triceratops","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"],"Random":true},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +3 attack and +1 health."},{"Level":2,"About":"Friend summoned: Give it +6 attack and +2 health."},{"Level":3,"About":"Friend summoned: Give it +9 attack and +3 health."}],"Id":"79","Name":"Turkey","NameId":"Turkey","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Enemy gained ailment: Deal 4 damage to it and gain damage as health. Works 2 times per battle."},{"Level":2,"About":"Enemy gained ailment: Deal 8 damage to it and gain damage as health. Works 2 times per battle."},{"Level":3,"About":"Enemy gained ailment: Deal 12 damage to it and gain damage as health. Works 2 times per battle."}],"Id":"381","Name":"Vampire Bat","NameId":"VampireBat","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold.","FinePrint":"Can\'t stock itself or Anglerfish."},{"Level":2,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold, twice.","FinePrint":"Can\'t stock itself or Anglerfish."},{"Level":3,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold, thrice.","FinePrint":"Can\'t stock itself or Anglerfish."}],"Id":"573","Name":"Venus Flytrap","NameId":"VenusFlytrap","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Two friends faint: Deal 4 damage to one random enemy."},{"Level":2,"About":"Two friends faint: Deal 8 damage to one random enemy."},{"Level":3,"About":"Two friends faint: Deal 12 damage to one random enemy."}],"Id":"135","Name":"Vulture","NameId":"Vulture","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption","Summon"],"Random":true},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: If turn number is even, gain +50% attack and health. Otherwise gain 6 mana."},{"Level":2,"About":"Start of battle: If turn number is even, gain +100% attack and health. Otherwise gain 12 mana."},{"Level":3,"About":"Start of battle: If turn number is even, gain +150% attack and health. Otherwise gain 18 mana."}],"Id":"383","Name":"Werewolf","NameId":"Werewolf","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Summon three 3/2 Pigs."},{"Level":2,"About":"Faint: Summon three 6/4 Pigs."},{"Level":3,"About":"Faint: Summon three 9/6 Pigs."}],"Id":"170","Name":"Wolf","NameId":"Wolf","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Deal 1 damage to nearest two pets ahead two times. Double against enemies."},{"Level":2,"About":"Start of battle: Deal 1 damage to nearest two pets ahead four times. Double against enemies."},{"Level":3,"About":"Start of battle: Deal 1 damage to nearest two pets ahead six times. Double against enemies."}],"Id":"156","Name":"Woodpecker","NameId":"Woodpecker","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt","Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 4 damage for each different friendly ailment to the first enemy."},{"Level":2,"About":"Start of battle: Deal 4 damage for each different friendly ailment to the first two enemies."},{"Level":3,"About":"Start of battle: Deal 4 damage for each different friendly ailment to the first three enemies."}],"Id":"807","Name":"Woolly Rhino","NameId":"WoollyRhino","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Buy & Sell: Give one random friend +2 attack and +2 health."},{"Level":2,"About":"Buy & Sell: Give one random friend +4 attack and +4 health."},{"Level":3,"About":"Buy & Sell: Give one random friend +6 attack and +6 health."}],"Id":"155","Name":"Zebra","NameId":"Zebra","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +3 attack and +3 health."},{"Level":2,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +6 attack and +6 health."},{"Level":3,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +9 attack and +9 health."}],"Id":"782","Name":"Akhlut","NameId":"Akhlut","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Adjacent tier 4 or lower friends deals 3 ability damage extra."},{"Level":2,"About":"Adjacent tier 4 or lower friends deals 6 ability damage extra."},{"Level":3,"About":"Adjacent tier 4 or lower friends deals 9 ability damage extra."}],"Id":"535","Name":"Albatross","NameId":"Albatross","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 3 times per turn."}],"Id":"194","Name":"Alpaca","NameId":"Alpaca","Tier":6,"TierMax":2147483647,"Packs":["Pack3","Custom"],"PacksRequired":["Pack3","Custom"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Friend hurt: Restore its health. Can restore up to 15 health per turn."},{"Level":2,"About":"Friend hurt: Restore its health. Can restore up to 30 health per turn."},{"Level":3,"About":"Friend hurt: Restore its health. Can restore up to 45 health per turn."}],"Id":"772","Name":"Amargasaurus","NameId":"Amargasaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +1 XP in battle for every 2 roll."},{"Level":2,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +2 XP in battle for every 2 roll."},{"Level":3,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +3 XP in battle for every 2 roll."}],"Id":"536","Name":"Ammonite","NameId":"Ammonite","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Transform","Levels","Roll"],"Random":true},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Friend transformed: Give it permanent +2 attack and +2 health. Works 2 times per turn."},{"Level":2,"About":"Friend transformed: Give it permanent +4 attack and +4 health. Works 2 times per turn."},{"Level":3,"About":"Friend transformed: Give it permanent +6 attack and +6 health. Works 2 times per turn."}],"Id":"391","Name":"Amsterdam Albatross","NameId":"AmsterdamAlbatross","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose one free pet from your last opponent to stock."},{"Level":2,"About":"Buy: Choose one free pet from your last opponent to stock twice."},{"Level":3,"About":"Buy: Choose one free pet from your last opponent to stock thrice."}],"Id":"180","Name":"Anglerfish","NameId":"Anglerfish","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make the highest attack enemy Sleepy."},{"Level":2,"About":"Start of battle: Make the two highest attack enemies Sleepy."},{"Level":3,"About":"Start of battle: Make the three highest attack enemies Sleepy."}],"Id":"603","Name":"Bakunawa","NameId":"Bakunawa","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Attack with half damage, once.","CustomArchetypes":["Ailments"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon ANY one useful <b>Start of Battle</b> pet from tier 4 and activate its ability."},{"Level":2,"About":"Faint: Summon ANY two useful <b>Start of Battle</b> pets from tier 4 and activate their abilities."},{"Level":3,"About":"Faint: Summon ANY three useful <b>Start of Battle</b> pets from tier 4 and activate their abilities."}],"Id":"397","Name":"Bay Cat","NameId":"BayCat","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":12,"Health":12,"Abilities":[{"Level":1,"About":"End turn: Gain +2 attack and +2 health. Attack and health can go up to 100!"},{"Level":2,"About":"End turn: Gain +4 attack and +4 health. Attack and health can go up to 100!"},{"Level":3,"About":"End turn: Gain +6 attack and +6 health. Attack and health can go up to 100!"}],"Id":"333","Name":"Behemoth","NameId":"Behemoth","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff","Mvp"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Spend 7 gold: Give three random friends +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Spend 7 gold: Give three random friends +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Spend 7 gold: Give three random friends +3 attack and +3 health. Works 3 times per turn."}],"Id":"181","Name":"Bird of Paradise","NameId":"ParadiseBird","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff","Gold"],"Random":true},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Remove 4 health from one random enemy for each food this has eaten this turn."},{"Level":2,"About":"Faint: Remove 8 health from one random enemy for each food this has eaten this turn."},{"Level":3,"About":"Faint: Remove 12 health from one random enemy for each food this has eaten this turn."}],"Id":"687","Name":"Black Bear","NameId":"BlackBear","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption","Food"],"Random":true},{"Attack":5,"Health":9,"Abilities":[{"Level":1,"About":"Seven enemy attacks: Deal 30 damage to the most healthy enemy."},{"Level":2,"About":"Seven enemy attacks: Deal 30 damage to the two most healthy enemies."},{"Level":3,"About":"Seven enemy attacks: Deal 30 damage to the three most healthy enemies."}],"Id":"398","Name":"Black Rhino","NameId":"BlackRhino","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":12,"Health":12,"Abilities":[{"Level":1,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +6 attack and +6 health."}],"Id":"399","Name":"Blue Whale","NameId":"BlueWhale","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain +4 attack and +2 health."},{"Level":2,"About":"Before attack: Gain +8 attack and +4 health."},{"Level":3,"About":"Before attack: Gain +12 attack and +6 health."}],"Id":"103","Name":"Boar","NameId":"Boar","Tier":6,"TierMax":2147483647,"Packs":["Pack1","Custom"],"PacksRequired":["Pack1","Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Friend transformed: Gain its level 1 ability. Works 2 times per battle."},{"Level":2,"About":"Friend transformed: Gain its level 2 ability. Works 2 times per battle."},{"Level":3,"About":"Friend transformed: Gain its level 3 ability. Works 2 times per battle."}],"Id":"403","Name":"California Condor","NameId":"CaliforniaCondor","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Shop food gives two times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."},{"Level":2,"About":"Shop food gives three times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."},{"Level":3,"About":"Shop food gives four times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."}],"Id":"11","Name":"Cat","NameId":"Cat","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff","Food","Mvp"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Activate Buy ability on the nearest friend ahead once, or give it +4 health."},{"Level":2,"About":"Start of turn: Activate Buy ability on the nearest friend ahead twice, or give it +8 health."},{"Level":3,"About":"Start of turn: Activate Buy ability on the nearest friend ahead thrice, or give it +12 health."}],"Id":"174","Name":"Catfish","NameId":"Catfish","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":9,"Health":9,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 1 time per battle."},{"Level":2,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 2 times per battle."},{"Level":3,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 3 times per battle."}],"Id":"337","Name":"Cerberus","NameId":"Cerberus","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Summon"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend ate corncob: Give them +1 attack and +1 health."},{"Level":2,"About":"Friend ate corncob: Give them +2 attack and +2 health."},{"Level":3,"About":"Friend ate corncob: Give them +3 attack and +3 health."}],"Id":"542","Name":"Chimpanzee","NameId":"Chimpanzee","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":12,"Health":6,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Deal 20% attack damage to one random enemy."},{"Level":2,"About":"Friend ahead attacks: Deal 40% attack damage to one random enemy."},{"Level":3,"About":"Friend ahead attacks: Deal 60% attack damage to one random enemy."}],"Id":"217","Name":"Cobra","NameId":"Cobra","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption","Guard"],"Random":true},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Transform the back-most level 1 or lower enemy to rock."},{"Level":2,"About":"Start of battle: Transform the back-most level 2 or lower enemy to rock."},{"Level":3,"About":"Start of battle: Transform the back-most level 3 or lower enemy to rock."}],"Id":"340","Name":"Cockatrice","NameId":"Cockatrice","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Eats two food: Gain Coconut perk until next turn."},{"Level":2,"About":"Eats two food: Gain Coconut perk that works twice until next turn."},{"Level":3,"About":"Eats two food: Gain Coconut perk that works thrice until next turn."}],"Id":"779","Name":"Coconut Crab","NameId":"CoconutCrab","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Food"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Tier 1 friend bought: Give friends +1 attack and +1 health. Works 4 times per turn."},{"Level":2,"About":"Tier 1 friend bought: Give friends +2 attack and +2 health. Works 4 times per turn."},{"Level":3,"About":"Tier 1 friend bought: Give friends +3 attack and +3 health. Works 4 times per turn."}],"Id":"25","Name":"Dragon","NameId":"Dragon","Tier":6,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Buff","Cycle"]},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Before attack: Move ailment to the first two enemies."},{"Level":2,"About":"Before attack: Move ailment to the first two enemies with double effect."},{"Level":3,"About":"Before attack: Move ailment to the first two enemies with triple effect."}],"Id":"769","Name":"Dunkleosteus","NameId":"Dunkleosteus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three random friends +1 attack and +1 health for each battle this has fought."},{"Level":2,"About":"Faint: Give three random friends +2 attack and +2 health for each battle this has fought."},{"Level":3,"About":"Faint: Give three random friends +3 attack and +3 health for each battle this has fought."}],"Id":"781","Name":"Eagle Owl","NameId":"EagleOwl","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Gain perk: Give three friends +4 attack and +4 health until next turn. Works 1 time per turn."},{"Level":2,"About":"Gain perk: Give three friends +8 attack and +8 health until next turn. Works 1 time per turn."},{"Level":3,"About":"Gain perk: Give three friends +12 attack and +12 health until next turn. Works 1 time per turn."}],"Id":"222","Name":"Elephant Seal","NameId":"ElephantSeal","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Feed one Corncob to all friends."},{"Level":2,"About":"End turn: Feed two Corncobs to all friends."},{"Level":3,"About":"End turn: Feed three Corncobs to all friends."}],"Id":"692","Name":"Farmer Dog","NameId":"FarmerDog","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend faints: Summon one 4/4 fly in its place. Works 3 times per turn."},{"Level":2,"About":"Friend faints: Summon one 8/8 fly in its place. Works 3 times per turn."},{"Level":3,"About":"Friend faints: Summon one 12/12 fly in its place. Works 3 times per turn."}],"Id":"30","Name":"Fly","NameId":"Fly","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Friend summoned: Give 25% of attack to it until next turn."},{"Level":2,"About":"Friend summoned: Give 50% of attack to it until next turn."},{"Level":3,"About":"Friend summoned: Give 75% of attack to it until next turn."}],"Id":"230","Name":"German Shepherd","NameId":"GermanShepard","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":7,"Health":10,"Abilities":[{"Level":1,"About":"Hurt: Gain Coconut perk. Works 1 time per turn."},{"Level":2,"About":"Hurt: Gain Coconut perk. Works 2 times per turn."},{"Level":3,"About":"Hurt: Gain Coconut perk. Works 3 times per turn."}],"Id":"36","Name":"Gorilla","NameId":"Gorilla","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Hurt"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 20 damage. Works 1 time per turn."},{"Level":2,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 40 damage. Works 1 time per turn."},{"Level":3,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 60 damage. Works 1 time per turn."}],"Id":"413","Name":"Green Sea Turtle","NameId":"GreenSeaTurtle","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Five friendly attacks: Deal 6 damage to two random enemies."},{"Level":2,"About":"Five friendly attacks: Deal 12 damage to two random enemies."},{"Level":3,"About":"Five friendly attacks: Deal 18 damage to two random enemies."}],"Id":"275","Name":"Grizzly Bear","NameId":"GrizzlyBear","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption","Summon"],"Random":true},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of turn: If this has a level 3 friend, gain +3 gold."},{"Level":2,"About":"Start of turn: If this has a level 3 friend, gain +6 gold."},{"Level":3,"About":"Start of turn: If this has a level 3 friend, gain +9 gold."}],"Id":"123","Name":"Hammerhead Shark","NameId":"Hammershark","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Gold","Levels"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Summon one random 5/5 pet from tier 1. Works 3 times per turn."},{"Level":2,"About":"Hurt: Summon one random 10/10 pet from tier 1. Works 3 times per turn."},{"Level":3,"About":"Hurt: Summon one random 15/15 pet from tier 1. Works 3 times per turn."}],"Id":"552","Name":"Harpy Eagle","NameId":"HarpyEagle","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Summon"],"Random":true},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give three friends +2 to their lowest stat."},{"Level":2,"About":"End turn: Give three friends +4 to their lowest stat."},{"Level":3,"About":"End turn: Give three friends +6 to their lowest stat."}],"Id":"415","Name":"Helmeted Hornbill","NameId":"HelmetedHornbill","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of battle: Gain +4 trumpets and 1 more for each 3 health this has."},{"Level":2,"About":"Start of battle: Gain +8 trumpets and 2 more for each 3 health this has."},{"Level":3,"About":"Start of battle: Gain +12 trumpets and 3 more for each 3 health this has."}],"Id":"186","Name":"Highland Cow","NameId":"HighlandCow","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":9,"Abilities":[{"Level":1,"About":"Friend transformed: Transform it back and down to level 1. Works 2 times per turn."},{"Level":2,"About":"Friend transformed: Transform it back and down to level 2. Works 2 times per turn."},{"Level":3,"About":"Friend transformed: Transform it back and down to level 3. Works 2 times per turn."}],"Id":"753","Name":"Hooded Seal","NameId":"HoodedSeal","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/5 Head for each 10 attack this has."},{"Level":2,"About":"Faint: Summon one 10/10 Head for each 10 attack this has."},{"Level":3,"About":"Faint: Summon one 15/15 Head for each 10 attack this has."}],"Id":"352","Name":"Hydra","NameId":"Hydra","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack and +1 health until next turn for each level 3 pet sold this game (max 5)."},{"Level":2,"About":"Friend summoned: Give it +2 attack and +2 health until next turn for each level 3 pet sold this game (max 5)."},{"Level":3,"About":"Friend summoned: Give it +3 attack and +3 health until next turn for each level 3 pet sold this game (max 5)."}],"Id":"652","Name":"Jersey Devil","NameId":"JerseyDevil","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Give friends ahead +1 attack and +1 health and then shuffle their positions."},{"Level":2,"About":"End turn: Give friends ahead +2 attack and +2 health and then shuffle their positions."},{"Level":3,"About":"End turn: Give friends ahead +3 attack and +3 health and then shuffle their positions."}],"Id":"124","Name":"Komodo","NameId":"Komodo","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Friend faints: Deal 1 damage to the nearest friend ahead."},{"Level":2,"About":"Friend faints: Deal 1 damage to the nearest two friends ahead."},{"Level":3,"About":"Friend faints: Deal 1 damage to the nearest three friends ahead."}],"Id":"749","Name":"Lamprey","NameId":"Lamprey","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 50% attack damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 50% attack damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 50% attack damage to three random enemies."}],"Id":"41","Name":"Leopard","NameId":"Leopard","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":6,"Health":10,"Abilities":[{"Level":1,"About":"Start of turn: Summon one 6/6 Fish and give it +2 experience."},{"Level":2,"About":"Start of turn: Summon one 12/12 Fish and give it +4 experience."},{"Level":3,"About":"Start of turn: Summon one 18/18 Fish and give it +6 experience."}],"Id":"356","Name":"Leviathan","NameId":"Leviathan","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Cycle"]},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: If this is your highest tier pet, gain +50% attack and health."},{"Level":2,"About":"Start of battle: If this is your highest tier pet, gain +100% attack and health."},{"Level":3,"About":"Start of battle: If this is your highest tier pet, gain +150% attack and health."}],"Id":"42","Name":"Lion","NameId":"Lion","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Pet sold: Give future shop pets of the same tier +1 attack and +1 health. Works 2 times per turn."},{"Level":2,"About":"Pet sold: Give future shop pets of the same tier +2 attack and +2 health. Works 2 times per turn."},{"Level":3,"About":"Pet sold: Give future shop pets of the same tier +3 attack and +3 health. Works 2 times per turn."}],"Id":"114","Name":"Lioness","NameId":"Lioness","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to one random enemy. Repeat for each 10 attack this has."},{"Level":2,"About":"Faint: Deal 6 damage to one random enemy. Repeat for each 10 attack this has."},{"Level":3,"About":"Faint: Deal 9 damage to one random enemy. Repeat for each 10 attack this has."}],"Id":"201","Name":"Lionfish","NameId":"Lionfish","Tier":6,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":4,"Health":12,"Abilities":[{"Level":1,"About":"Faint: Give friends +2 attack and +2 health."},{"Level":2,"About":"Faint: Give friends +4 attack and +4 health."},{"Level":3,"About":"Faint: Give friends +6 attack and +6 health."}],"Id":"45","Name":"Mammoth","NameId":"Mammoth","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Enemy ailments are two times worse."},{"Level":2,"About":"Enemy ailments are three times worse."},{"Level":3,"About":"Enemy ailments are four times worse."}],"Id":"358","Name":"Manticore","NameId":"Manticore","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":9,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal 10 damage to the first enemy."},{"Level":2,"About":"Start of battle: Deal 10 damage to the first enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 10 damage to the first enemy. Triggers 3 times."}],"Id":"190","Name":"Mantis Shrimp","NameId":"ShrimpMantis","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Spend 4 trumpets to give friends permanent +4 attack and +4 health evenly spread."},{"Level":2,"About":"Faint: Spend 4 trumpets to give friends permanent +8 attack and +8 health evenly spread."},{"Level":3,"About":"Faint: Spend 4 trumpets to give friends permanent +12 attack and +12 health evenly spread."}],"Id":"743","Name":"Markhor","NameId":"Markhor","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"After attack: Deal 4 damage to the least healthy enemy."},{"Level":2,"About":"After attack: Deal 4 damage to the two least healthy enemies."},{"Level":3,"About":"After attack: Deal 4 damage to the three least healthy enemies."}],"Id":"712","Name":"Mimic Octopus","NameId":"MimicOctopus","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":7,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Mongoose toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Mongoose toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Mongoose toy."}],"Id":"241","Name":"Mongoose","NameId":"Mongoose","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"After attack: Deal 6 damage to one random enemy."},{"Level":2,"About":"After attack: Deal 6 damage to two random enemies."},{"Level":3,"About":"After attack: Deal 6 damage to three random enemies."}],"Id":"50","Name":"Octopus","NameId":"Octopus","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Summon one random Faint pet from ANY pack as 6/6."},{"Level":2,"About":"Faint: Summon two random Faint pets from ANY pack as 6/6."},{"Level":3,"About":"Faint: Summon three random Faint pets from ANY pack as 6/6."}],"Id":"116","Name":"Orca","NameId":"Orca","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"],"Random":true},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +2 health. Works 4 times per turn."},{"Level":2,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +4 health. Works 4 times per turn."},{"Level":3,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +6 health. Works 4 times per turn."}],"Id":"125","Name":"Ostrich","NameId":"Ostrich","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll","Buff"],"Random":true},{"Attack":2,"Health":10,"Abilities":[{"Level":1,"About":"Sell: Gain +3 gold."},{"Level":2,"About":"Sell: Gain +6 gold."},{"Level":3,"About":"Sell: Gain +9 gold."}],"Id":"248","Name":"Oyster","NameId":"Oyster","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":7,"Health":6,"Abilities":[{"Level":1,"About":"Anyone jumped: Give one random friendly pet +4 attack and +4 health."},{"Level":2,"About":"Anyone jumped: Give one random friendly pet +8 attack and +8 health."},{"Level":3,"About":"Anyone jumped: Give one random friendly pet +12 attack and +12 health."}],"Id":"424","Name":"Philippine Eagle","NameId":"PhilippineEagle","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"],"Random":true},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"Faint: Make ANY three random pets Crisp, then summon one 4/4 Young Phoenix."},{"Level":2,"About":"Faint: Make ANY six random pets Crisp, then summon one 8/8 Young Phoenix."},{"Level":3,"About":"Faint: Make ANY nine random pets Crisp, then summon one 12/12 Young Phoenix."}],"Id":"366","Name":"Phoenix","NameId":"Phoenix","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Hurt: Give friends +3 attack."},{"Level":2,"About":"Hurt: Give friends +6 attack."},{"Level":3,"About":"Hurt: Give friends +9 attack."}],"Id":"118","Name":"Piranha","NameId":"Piranha","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +1 health to one friend of each tier."},{"Level":2,"About":"End turn: Give +2 attack and +2 health to one friend of each tier."},{"Level":3,"About":"End turn: Give +3 attack and +3 health to one friend of each tier."}],"Id":"96","Name":"Poodle","NameId":"Poodle","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 1 time per battle.","FinePrint":"Does not summon other Pteranodons."},{"Level":2,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 2 times per battle.","FinePrint":"Does not summon other Pteranodons."},{"Level":3,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 3 times per battle.","FinePrint":"Does not summon other Pteranodons."}],"Id":"253","Name":"Pteranodon","NameId":"Pteranodon","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friendly toy repeats its ability as level 1."},{"Level":2,"About":"Friendly toy repeats its ability as level 2."},{"Level":3,"About":"Friendly toy repeats its ability as level 3."}],"Id":"254","Name":"Puma","NameId":"Puma","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":7,"Health":9,"Abilities":[{"Level":1,"About":"Sell: Choose one level 1 king toy."},{"Level":2,"About":"Sell: Choose one level 2 king toy."},{"Level":3,"About":"Sell: Choose one level 3 king toy."}],"Id":"616","Name":"Questing Beast","NameId":"QuestingBeast","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give one random tier 3 or lower friend +2 experience."},{"Level":2,"About":"End turn: Give one random tier 3 or lower friend +2 experience. Triggers 2 times."},{"Level":3,"About":"End turn: Give one random tier 3 or lower friend +2 experience. Triggers 3 times."}],"Id":"367","Name":"Quetzalcoatl","NameId":"Quetzalcoatl","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"],"Random":true},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friend lost perk: Return its perk. Works on one friend per turn."},{"Level":2,"About":"Friend lost perk: Return its perk. Works on two different friends per turn."},{"Level":3,"About":"Friend lost perk: Return its perk. Works on three different friends per turn."}],"Id":"561","Name":"Real Velociraptor","NameId":"RealVelociraptor","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":9,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain Melon perk. Works 1 time per battle."},{"Level":2,"About":"Before attack: Gain Melon perk. Works 2 times per battle."},{"Level":3,"About":"Before attack: Gain Melon perk. Works 3 times per battle."}],"Id":"205","Name":"Reindeer","NameId":"Reindeer","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +12 trumpets. Works 1 time per battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +24 trumpets. Works 1 time per battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +36 trumpets. Works 1 time per battle."}],"Id":"533","Name":"Rockhopper Penguin","NameId":"SouthernRockhopperPenguin","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard","Trumpets"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one Mammoth with +2 attack and +3 health for each time this was hurt."},{"Level":2,"About":"Faint: Summon two Mammoths with +2 attack and +3 health for each time this was hurt."},{"Level":3,"About":"Faint: Summon three Mammoths with +2 attack and +3 health for each time this was hurt."}],"Id":"148","Name":"Sabertooth Tiger","NameId":"SabertoothTiger","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon","Hurt"]},{"Attack":4,"Health":12,"Abilities":[{"Level":1,"About":"Friendly gained perk: Gain +1 gold next turn. Works 3 times per turn."},{"Level":2,"About":"Friendly gained perk: Gain +2 gold next turn. Works 3 times per turn."},{"Level":3,"About":"Friendly gained perk: Gain +3 gold next turn. Works 3 times per turn."}],"Id":"98","Name":"Sauropod","NameId":"Sauropod","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Gold","Perks"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"This pet\'s mana damage hits the most healthy enemy and one extra enemy."},{"Level":2,"About":"This pet\'s mana damage hits the most healthy enemy and two extra enemies."},{"Level":3,"About":"This pet\'s mana damage hits the most healthy enemy and three extra enemies."}],"Id":"372","Name":"Sea Serpent","NameId":"SeaSerpent","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Disruption"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of battle: Transform two friends behind into ANY useful level 1 <b>Faint</b> pets from tier 6."},{"Level":2,"About":"Start of battle: Transform two friends behind into ANY useful level 2 <b>Faint</b> pets from tier 6."},{"Level":3,"About":"Start of battle: Transform two friends behind into ANY useful level 3 <b>Faint</b> pets from tier 6."}],"Id":"432","Name":"Silky Sifaka","NameId":"SilkySifaka","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":8,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +1 mana for each 2 attack this has."},{"Level":2,"About":"Start of battle: Give the two front-most friends +1 mana for each 2 attack this has."},{"Level":3,"About":"Start of battle: Give the three front-most friends +1 mana for each 2 attack this has."}],"Id":"606","Name":"Sleipnir","NameId":"Sleipnir","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies."},{"Level":2,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies. Triggers 2 times."},{"Level":3,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies. Triggers 3 times."}],"Id":"773","Name":"Small One","NameId":"BabyCthulhu","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Deal 5 damage to one random enemy. Works 5 times per battle."},{"Level":2,"About":"Friend ahead attacks: Deal 10 damage to one random enemy. Works 5 times per battle."},{"Level":3,"About":"Friend ahead attacks: Deal 15 damage to one random enemy. Works 5 times per battle."}],"Id":"73","Name":"Snake","NameId":"Snake","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Guard"],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend faints: Give one random friend +2 attack and +3 health."},{"Level":2,"About":"Friend faints: Give one random friend +4 attack and +6 health."},{"Level":3,"About":"Friend faints: Give one random friend +6 attack and +9 health."}],"Id":"143","Name":"Spinosaurus","NameId":"Spinosaurus","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon","Mvp"],"Random":true},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give one perk-less friend +10 attack and +10 health."},{"Level":2,"About":"Start of battle: Give one perk-less friend +20 attack and +20 health."},{"Level":3,"About":"Start of battle: Give one perk-less friend +30 attack and +30 health."}],"Id":"144","Name":"Stegosaurus","NameId":"Stegosaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":9,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Jump-attack the opposite enemy."},{"Level":2,"About":"Start of battle: Jump-attack the opposite enemy and deal 6 damage to adjacent enemies."},{"Level":3,"About":"Start of battle: Jump-attack the opposite enemy and deal 12 damage to adjacent enemies."}],"Id":"434","Name":"Sumatran Tiger","NameId":"SumatranTiger","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":4,"Health":10,"Abilities":[{"Level":1,"About":"Start of battle: If turn number is odd, deal 4 damage to ALL pets ahead."},{"Level":2,"About":"Start of battle: If turn number is odd, deal 8 damage to ALL pets ahead."},{"Level":3,"About":"Start of battle: If turn number is odd, deal 12 damage to ALL pets ahead."}],"Id":"568","Name":"Sunfish","NameId":"Sunfish","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 10/10 level 1 copy of the back-most friend."},{"Level":2,"About":"Start of battle: Summon one 20/20 level 2 copy of the back-most friend."},{"Level":3,"About":"Start of battle: Summon one 30/30 level 3 copy of the back-most friend."}],"Id":"208","Name":"Tapir","NameId":"Tapir","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Friend level-up: Give friends +1 attack and +1 health."},{"Level":2,"About":"Friend level-up: Give friends +2 attack and +2 health."},{"Level":3,"About":"Friend level-up: Give friends +3 attack and +3 health."}],"Id":"636","Name":"Team Spirit","NameId":"TeamSpirit","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give Peanut perk to the front-most Strawberry friend."},{"Level":2,"About":"Start of battle: Give Peanut perk to the two front-most Strawberry friends."},{"Level":3,"About":"Start of battle: Give Peanut perk to the three front-most Strawberry friends."}],"Id":"806","Name":"Terror Bird","NameId":"TerrorBird","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":["Strawberry"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to the front-most Strawberry friend."},{"Level":2,"About":"Start of battle: Give Coconut perk to the two front-most Strawberry friends."},{"Level":3,"About":"Start of battle: Give Coconut perk to the three front-most Strawberry friends."}],"Id":"759","Name":"Therizinosaurus","NameId":"Therizinosaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Strawberry"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"The friend ahead repeats their ability in battle as if they were level 1."},{"Level":2,"About":"The friend ahead repeats their ability in battle as if they were level 2."},{"Level":3,"About":"The friend ahead repeats their ability in battle as if they were level 3."}],"Id":"77","Name":"Tiger","NameId":"Tiger","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Mvp","Mvp"]},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of turn: Give two tier 5 friends or higher +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Give two tier 5 friends or higher +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Give two tier 5 friends or higher +6 attack and +6 health."}],"Id":"78","Name":"Tyrannosaurus","NameId":"Tyrannosaurus","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +2 health to each friend with a different ailment."},{"Level":2,"About":"End turn: Give +2 attack and +4 health to each friend with a different ailment."},{"Level":3,"About":"End turn: Give +3 attack and +6 health to each friend with a different ailment."}],"Id":"711","Name":"Vampire Squid","NameId":"VampireSquid","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +2 attack and +3 health."},{"Level":2,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +4 attack and +6 health."},{"Level":3,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +6 attack and +9 health."}],"Id":"115","Name":"Velociraptor","NameId":"Velociraptor","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Peanut Butter perk to one random friend."},{"Level":2,"About":"Faint: Give Peanut Butter perk to two random friends."},{"Level":3,"About":"Faint: Give Peanut Butter perk to three random friends."}],"Id":"209","Name":"Walrus","NameId":"Walrus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":["Perks"],"Random":true},{"Attack":9,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give random friends +1 attack and +1 health for every 3 attack this has."},{"Level":2,"About":"Faint: Give random friends +2 attack and +2 health for every 3 attack this has."},{"Level":3,"About":"Faint: Give random friends +3 attack and +3 health for every 3 attack this has."}],"Id":"266","Name":"Warthog","NameId":"Warthog","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend behind +3 experience."},{"Level":2,"About":"Start of battle: Give the two nearest friends behind +3 experience."},{"Level":3,"About":"Start of battle: Give the three nearest friends behind +3 experience."}],"Id":"206","Name":"White Tiger","NameId":"WhiteTiger","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":8,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 1 time per battle."},{"Level":2,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 2 times per battle."},{"Level":3,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 3 times per battle."}],"Id":"268","Name":"Wildebeest","NameId":"Wildebeest","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give the nearest two friends ahead 5 mana."},{"Level":2,"About":"End turn: Give the nearest two friends ahead 10 mana."},{"Level":3,"About":"End turn: Give the nearest two friends ahead 15 mana."}],"Id":"633","Name":"Winter Spirit","NameId":"ForestSpirit","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Four friends hurt: Remove 3 health from all enemies."},{"Level":2,"About":"Four friends hurt: Remove 6 health from all enemies."},{"Level":3,"About":"Four friends hurt: Remove 9 health from all enemies."}],"Id":"269","Name":"Wolverine","NameId":"Wolverine","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Set attack and health of the most healthy pet from ANY team to 20."},{"Level":2,"About":"Faint: Set attack and health of the two most healthy pets from ANY team to 20."},{"Level":3,"About":"Faint: Set attack and health of the three most healthy pets from ANY team to 20."}],"Id":"766","Name":"Yellow Boxfish","NameId":"YellowBoxFish","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":9,"Abilities":[{"Level":1,"About":"Start of turn: Roll four times while freezing pet copies and tier 6 food."},{"Level":2,"About":"Start of turn: Roll eight times while freezing pet copies and tier 6 food."},{"Level":3,"About":"Start of turn: Roll twelve times while freezing pet copies and tier 6 food."}],"Id":"387","Name":"Yeti","NameId":"Yeti","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"648","Name":"Chimera Goat","NameId":"ChimeraGoat","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"650","Name":"Chimera Lion","NameId":"ChimeraLion","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"649","Name":"Chimera Snake","NameId":"ChimeraSnake","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"614","Name":"Fake Nessie","NameId":"FakeNessie","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Remove this."},{"Level":2,"About":"Start of battle: Remove this. Summoned: Remove this."},{"Level":3,"About":"Start of battle: Remove this. Summoned: Remove this."}],"Id":"823","Name":"Moby Dick","NameId":"MochaDick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Before battle: If pack has no pets/food from the tab, remove 1 XP from three random enemies."},{"Level":2,"About":"Before battle: If pack has no pets/food from the tab, remove 2 XP from three random enemies."},{"Level":3,"About":"Before battle: If pack has no pets/food from the tab, remove 3 XP from three random enemies."}],"Id":"824","Name":"Tanystropheus","NameId":"Tanystropheus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]}]')},13322(O,S,i){i.d(S,{$:()=>v});var P=i(56518),c=i(46200),A=i(5615),_=i(1152);class v extends c.i{logService;abilityService;name="Pheasant";tier=1;pack="Star";attack=2;health=1;initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends A.T{logService;abilityService;reset(){this.maxUses=this.level,super.reset()}constructor(n,a,l){super({name:"PheasantAbility",owner:n,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=a,this.abilityService=l}executeAbility(n){const{triggerPet:l,tiger:r,pteranodon:u}=n,g=this.owner,f=(0,_.Uj)(g,l);if(!f.pet)return;const D=f.pet;(0,_.rv)(this.logService,g,`${g.name} gave ${D.name} a Strawberry.`,r,u,{randomEvent:f.random}),D.givePetEquipment(new P.q(this.logService)),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},13325(O,S,i){i.d(S,{Q:()=>v});var P=i(46200),c=i(5615),A=i(56990),_=i(33127);class v extends P.i{logService;abilityService;name="Desert Rain Frog";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"DesertRainFrogAbility",owner:n,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:n.level,condition:l=>this.owner.parent.trumpets>=1,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=a}executeAbility(n){const{tiger:a,pteranodon:l}=n,r=this.owner,u=_.I.getInjector().get(A.T);let g=Math.min(6,r.tier+this.level),f=u.getRandomFaintPet(r.parent,g,[],r);this.logService.createLog({message:`${r.name} transformed into ${f.name}.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:!0}),r.parent.spendTrumpets(1,r,l),r.parent.transformPet(r,f),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService)}}},13340(O,S,i){i.d(S,{x:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Emperor Tamarin";tier=3;pack="Custom";attack=3;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Emperor Tamarin Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} sold and gave ${1===this.level?33:2===this.level?66:100}% of its stats to the leftmost shop pet.`,type:"ability",player:t.parent}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},13420(O,S,i){i.d(S,{a:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Takin";tier=3;pack="Danger";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TakinAbility",owner:e,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=this.level,g=2*this.level,f=r.parent.getThis(r),D=f.pet;D.increaseAttack(u),D.increaseHealth(g),this.logService.createLog({message:`${r.name} gave ${D.name} ${u} attack and ${g} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},13651(O,S,i){i.d(S,{J:()=>c});var P=i(22097);class c extends P.${name="Croissant";tier=3;equipmentClass="shop";constructor(){super()}}},13712(O,S,i){i.d(S,{u:()=>c});var P=i(22097);class c extends P.${name="Peanut";tier=7;equipmentClass="attack";power=0}},13713(O,S,i){i.d(S,{s:()=>c});var P=i(50873);class c extends P.L{name="Holy Grail";tier=6}},13761(O,S,i){i.d(S,{s:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Sleeping Gelada";tier=1;pack="Custom";hidden=!0;attack=3;health=7;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},13837(O,S,i){i.d(S,{V:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;petService;name="Harpy Eagle";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new t(this,this.logService,this.petService)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L,F){super(a,l,u),this.logService=a,this.abilityService=l,this.petService=r,this.initPet(k,g,f,D,L,F)}}class t extends c.T{logService;petService;usesThisTurn=0;constructor(a,l,r){super({name:"HarpyEagleAbility",owner:a,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:u=>{this.executeAbility(u)}}),this.logService=l,this.petService=r}executeAbility(a){if("ThisHurt"!==a.trigger||this.usesThisTurn>=3)return;this.usesThisTurn++;const{gameApi:l,tiger:r}=a,g=this.owner;let f=5*this.level;const D=V=>(V??[]).filter(ie=>ie&&g.name&&ie.toLowerCase()!==g.name.toLowerCase()),k=g.parent===l.player?l.playerPetPool:l.opponentPetPool;let L=D(k?.get(1));if(L.length||(L=D(this.petService.allPets.get(1))),!L.length)return;const F=(0,A.k6)({key:"pet.harpy-eagle-hurt-summon",label:(0,v.I)(g,"Harpy Eagle hurt summon"),options:L.map(V=>({id:V,label:V}))},()=>(0,_.hw)(0,L.length-1));let ee=this.petService.createPet({name:L[F.index],attack:f,health:f,equipment:null,mana:0,exp:0},g.parent);g.parent.summonPet(ee,g.savedPosition,!1,g).success&&this.logService.createLog({message:`${g.name} spawned ${ee.name} (${f}/${f}).`,type:"ability",player:g.parent,tiger:r,randomEvent:F.randomEvent}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.petService)}}},13891(O,S,i){i.d(S,{x:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Tucuxi";tier=3;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TucuxiAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=r.parent.getLastPet([r],r),g=u.pet;if(!g)return;r.parent.pushPetToFront(g,!1),this.logService.createLog({message:`${r.name} pushed ${g.name} to the front`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:u.random});let f=3*this.level;g.increaseAttack(f),g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} +${f} attack and +${f} health`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:u.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},13950(O,S,i){i.d(S,{F:()=>v,h:()=>_});var P=i(44402),c=i(50873),A=i(5615);class _ extends c.L{name="Melon Helmet";tier=3;onBreak(t,n){let a=this.parent.petArray.filter(l=>l.alive).slice(0,this.level);for(let l of a)l.givePetEquipment(new P.m),this.logService.createLog({message:`${this.name} gave ${l.name} Melon.`,type:"ability",player:this.parent,puma:n})}}class v extends A.T{logService;constructor(t,n){super({name:"MelonHelmetAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l}=t,u=this.owner;let g=u.parent.getPetsWithEquipment("Melon"),f=u.parent.getFurthestUpPets(this.level,g,u),D=f.pets;for(let k of D)k.givePetEquipment(new P.m),this.logService.createLog({message:`${u.name} gave ${k.name} Melon.`,type:"ability",player:u.parent,tiger:l,randomEvent:f.random});this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},13997(O,S,i){i.d(S,{N:()=>v});var P=i(22097),c=i(5615),A=i(33127),_=i(24111);class v extends P.${name="Oyster Mushroom";equipmentClass="beforeAttack";callback=n=>{const a=n.getEquippedEquipmentInstance(this);n.addAbility(new e(n,a))}}class e extends c.T{equipment;logService;constructor(n,a){super({name:"OysterMushroomAbility",owner:n,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:l=>this.executeAbility(l)}),this.equipment=a,this.logService=A.I.getInjector().get(_.K)}executeAbility(n){const a=this.owner,l=Math.max(a.attack,9),r=Math.max(a.health,9);l!==a.attack&&(a.attack=l),r!==a.health&&(a.health=r),this.logService.createLog({message:`${a.name} set stats to ${a.attack}/${a.health}. (Oyster Mushroom)`,type:"equipment",player:a.parent}),a.removePerk()}}},14166(O,S,i){i.d(S,{A:()=>A});var P=i(50336);const A=function c(_){return(0,P.A)(this.__data__,_)>-1}},14173(O,S,i){i.d(S,{A:()=>A});var P=i(73180);const A=function c(){this.__data__=new P.A,this.size=0}},14182(O,S,i){i.d(S,{O:()=>A});var P=i(23828),c=i(50873);class A extends c.L{name="Dice Cup";tier=1;startOfBattle(v,e){const t=(0,P.A)(this.parent.petArray.filter(n=>n.alive));for(let n=0;n<5;n++)this.parent.setPet(n,t[n]??null);this.logService.createLog({message:`${this.name} shuffled the team.`,type:"ability",player:this.parent,puma:e})}}},14218(O,S,i){i.d(S,{w:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Snail";tier=2;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SnailAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,n=e.gameApi;if(!(t.parent===n?.player?n?.playerLostLastBattle:n?.opponentLostLastBattle))return;const r=this.level,u=t.parent.nearestPetsAhead(3,t);if(0!==u.pets.length){for(const g of u.pets)g.increaseAttack(r);this.logService.createLog({message:`${t.name} gave ${u.pets.map(g=>g.name).join(", ")} +${r} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:u.random}),this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},14228(O,S,i){i.d(S,{d:()=>_});var P=i(46200),c=i(5615),A=i(4230);class _ extends P.i{logService;abilityService;name="Owl";tier=3;pack="Puppy";attack=3;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"OwlAbility",owner:t,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,l=new A.K(this.logService,this.abilityService,n.parent,null,null,null,this.minExpForLevel),r=n.parent.summonPet(l,n.savedPosition,!1,n);r.success&&this.logService.createLog({message:`${n.name} summoned a level ${this.level} Mouse.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:r.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},14271(O,S,i){i.d(S,{t:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;petService;name="Mushroom";tier=6;equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService,this.petService))};constructor(e,t){super(),this.logService=e,this.petService=t}}class _ extends c.T{equipment;logService;petService;constructor(e,t,n,a){super({name:"MushroomAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:l=>{this.executeAbility(l)}}),this.equipment=t,this.logService=n,this.petService=a}executeAbility(e){const t=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let a=this.petService.createDefaultVersionOfPet(t,1,1);a.exp=t.exp,a.triggersConsumed=t.triggersConsumed,a.originalTriggersConsumed=t.triggersConsumed,t.parent.summonPet(a,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned ${a.name} (level ${a.level}) (Mushroom)${n>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent})}}}},14421(O,S,i){i.d(S,{of:()=>_});var P=i(32234),c=i(44279),A=i(32496);function _(...v){let e=v[v.length-1];return(0,P.m)(e)?(v.pop(),(0,A.V)(v,e)):(0,c.c)(v)}},14429(O,S,i){i.d(S,{A:()=>v});var P=i(6792),c=i(42917),A=i(31287);const v=function _(e){return(0,A.A)(e)?(0,P.A)(e):(0,c.A)(e)}},14469(O,S,i){i.d(S,{j:()=>_});var P=i(46200),c=i(5615),A=i(23638);class _ extends P.i{logService;abilityService;petService;name="Ammonite";tier=6;pack="Star";attack=5;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.petService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D,k){super(t,n,l),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,u,g,D,k)}}class v extends c.T{logService;petService;constructor(t,n,a){super({name:"AmmoniteAbility",owner:t,triggers:["Faint"],abilityType:"Pet",abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.petService=a}executeAbility(t){const{gameApi:n}=t,u=this.owner;let g=u.parent.nearestPetsBehind(1,u);if(0===g.pets.length)return;let f=g.pets[0],k=Math.floor((u.parent===n.player?n.playerRollAmount:n.opponentRollAmount)/2)*this.level,L=this.petService.createPet({name:"Mimic Octopus",attack:f.attack,health:f.health,equipment:f.equipment,mana:f.mana,exp:null},u.parent);(0,A.c2)({logService:this.logService,owner:u,context:t,fromPet:f,toPet:L,message:`${u.name} transformed ${f.name} into ${L.name}`,extras:{randomEvent:g.random}});let F=u.parent.getSpecificPet(u,L),j=F.pet;null!=j&&((0,A.Oe)({logService:this.logService,owner:u,context:t,target:j,amount:k,extras:{randomEvent:F.random}}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService,this.petService)}}},14541(O,S,i){i.d(S,{A:()=>_});var v,P=i(39748),c=(v=/[^.]+$/.exec(P.A&&P.A.keys&&P.A.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"";const _=function A(v){return!!c&&c in v}},14787(O,S,i){i.d(S,{s:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Summoned Cockroach";tier=1;pack="Star";attack=1;health=1;hidden=!0;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},14829(O,S,i){i.d(S,{M:()=>_});var P=i(46200),c=i(56057),A=i(5615);class _ extends P.i{logService;abilityService;name="Slug";tier=4;pack="Golden";attack=4;health=4;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"SlugAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let D=new c.m(this.logService,this.abilityService,u.parent,2*this.level,2*this.level,0,u.minExpForLevel),k=u.parent.summonPet(D,u.savedPosition,!1,u);k.success&&this.logService.createLog({message:`${u.name} spawned Smaller Slug Level ${u.level}`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:k.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},14908(O,S,i){i.d(S,{r:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Loyal Chinchilla";tier=1;pack="Puppy";hidden=!0;health=2;attack=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"LoyalChinchillaAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},15030(O,S,i){i.d(S,{A:()=>A});var P=i(3746);const A=function c(_,v){var e=(0,P.A)(this,_),t=e.size;return e.set(_,v),this.size+=e.size==t?0:1,this}},15082(O,S,i){i.d(S,{Fq:()=>A,IF:()=>_,N7:()=>v,NL:()=>c});var P=i(62223);function c(r){const u=r.filter(g=>!!g).sort((g,f)=>f.length-g.length).map(g=>function l(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(g));return u.length?new RegExp(`(?<![A-Za-z0-9])(${u.join("|")})(?![A-Za-z0-9])`,"g"):null}function A(r,u,g){const f=new Map;for(const D of g)D&&f.set(D,"equipment");for(const D of u)D&&f.set(D,"toy");for(const D of r)D&&f.set(D,"pet");return f}function _(r,u,g){const f=new Set;return r.forEach(D=>D&&f.add(D)),u.forEach(D=>D&&f.add(D)),g.forEach(D=>D&&f.add(D)),c(Array.from(f))}function v(r,u,g,f){if(!r||r.includes("<img")||!u)return r;let D=n(r,u,oe=>function e(r,u,g){const f=u.get(r)??null;if("pet"===f)return(0,P.EA)(r);if("toy"===f)return(0,P.bG)(r);if("equipment"===f){const D=g.has(r);return(0,P.ht)(r,D)??(0,P.ht)(r,!D)}return null}(oe,g,f),oe=>function t(r,u,g){if("equipment"!==(u.get(r)??null))return null;const D=g.has(r),k=(0,P.ht)(r,D);if(!k)return null;const L=(0,P.ht)(r,!D);return`<img src="${k}" class="log-inline-icon" alt="${r}" onerror="if(!this.dataset.step){${L?`this.dataset.step='1';this.src='${L}';`:"this.dataset.step='1';"}return;}this.remove();"> ${r}`}(oe,g,f));return D=n(D,/(?<![A-Za-z0-9])mana(?![A-Za-z0-9])(?!\s+Potion)/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/mana.png"),D=n(D,/(?<![A-Za-z0-9])(?:xp|exp)(?![A-Za-z0-9])/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/xp.png"),D=n(D,/(?<![A-Za-z0-9])gold(?![A-Za-z0-9])/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/gold.png"),D=n(D,/(?<![A-Za-z0-9])trumpets?(?![A-Za-z0-9])/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/trumpet.png"),D}function n(r,u,g,f){return r.split(/(<[^>]+>)/g).map(D=>D.startsWith("<")?D:function a(r,u,g,f){return u?r.replace(u,D=>{const k=g(D);if(f){const L=f(D,k);if(L)return L}return k?`<img src="${k}" class="log-inline-icon" alt="${D}" onerror="this.remove()"> ${D}`:D}):r}(D,u,g,f)).join("")}},15481(O,S,i){i.d(S,{A:()=>A});const A=function c(_){return"number"==typeof _&&_>-1&&_%1==0&&_<=9007199254740991}},15504(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pangolin";tier=3;pack="Puppy";attack=2;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PangolinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>null!=this.owner.parent.toy,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=r.parent.nearestPetsBehind(1,r);if(0===u.pets.length)return;let g=u.pets[0],f=4*this.level;g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:u.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},15523(O,S,i){i.d(S,{Z:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Cuckoo Chick";tier=1;pack="Custom";hidden=!0;attack=1;health=1;increaseAttack(_){if(_<=0||!this.alive)return 0;const v=this.attack;return this.attack=Math.min(this.attack+_,1),this.attack-v}increaseHealth(_){if(_<=0||!this.alive)return 0;const v=this.health;return this.health=Math.min(this.health+_,1),this.health-v}constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},15539(O,S,i){i.d(S,{M:()=>_});var P=i(70762);function c(){}var A=i(98099);function _(t,n,a){return function(r){return r.lift(new v(t,n,a))}}class v{constructor(n,a,l){this.nextOrObserver=n,this.error=a,this.complete=l}call(n,a){return a.subscribe(new e(n,this.nextOrObserver,this.error,this.complete))}}class e extends P.v{constructor(n,a,l,r){super(n),this._tapNext=c,this._tapError=c,this._tapComplete=c,this._tapError=l||c,this._tapComplete=r||c,(0,A.T)(a)?(this._context=this,this._tapNext=a):a&&(this._context=a,this._tapNext=a.next||c,this._tapError=a.error||c,this._tapComplete=a.complete||c)}_next(n){try{this._tapNext.call(this._context,n)}catch(a){return void this.destination.error(a)}this.destination.next(n)}_error(n){try{this._tapError.call(this._context,n)}catch(a){return void this.destination.error(a)}this.destination.error(n)}_complete(){try{this._tapComplete.call(this._context)}catch(n){return void this.destination.error(n)}return this.destination.complete()}}},15684(O,S,i){i.d(S,{S:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Humphead Wrasse";tier=4;pack="Danger";attack=6;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"HumpheadWrasseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=.3*this.level,g=r.parent.opponent.getHighestAttackPet(void 0,r);if(!g.pet)return;let f=g.pet,D=Math.ceil(f.attack*u),k=Math.max(1,f.attack-D);f.attack=k,this.logService.createLog({message:`${r.name} reduced ${f.name}'s attack by ${100*u}% to ${f.attack}.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},15824(O,S,i){i.d(S,{Ag:()=>Be,Bg:()=>F,EF:()=>Ue,H8:()=>de,Ht:()=>e,JC:()=>g,KE:()=>n,KO:()=>_t,KZ:()=>Se,Ny:()=>Ne,O8:()=>mt,TO:()=>L,Wu:()=>ee,XR:()=>ie,a7:()=>Ee,bh:()=>v,j2:()=>wt,lh:()=>Et,mC:()=>ut,mK:()=>r,n5:()=>tt,nR:()=>t,pL:()=>l,s0:()=>Ot,si:()=>V,vX:()=>Yt});let P=null,c=!1,A=1;const v=Symbol("SIGNAL");function e(ge){const Le=P;return P=ge,Le}function t(){return P}function n(){return c}const l={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function r(ge){if(c)throw new Error("");if(null===P)return;P.consumerOnSignalRead(ge);const Le=P.producersTail;if(void 0!==Le&&Le.producer===ge)return;let Ve;const Fe=P.recomputing;if(Fe&&(Ve=void 0!==Le?Le.nextProducer:P.producers,void 0!==Ve&&Ve.producer===ge))return P.producersTail=Ve,void(Ve.lastReadVersion=ge.version);const ot=ge.consumersTail;if(void 0!==ot&&ot.consumer===P&&(!Fe||function ke(ge,Le){const Ve=Le.producersTail;if(void 0!==Ve){let Fe=Le.producers;do{if(Fe===ge)return!0;if(Fe===Ve)break;Fe=Fe.nextProducer}while(void 0!==Fe)}return!1}(ot,P)))return;const Ut=ve(P),Kt={producer:ge,consumer:P,nextProducer:Ve,prevConsumer:ot,lastReadVersion:ge.version,nextConsumer:void 0};P.producersTail=Kt,void 0!==Le?Le.nextProducer=Kt:P.producers=Kt,Ut&&oe(ge,Kt)}function g(ge){if((!ve(ge)||ge.dirty)&&(ge.dirty||ge.lastCleanEpoch!==A)){if(!ge.producerMustRecompute(ge)&&!V(ge))return void L(ge);ge.producerRecomputeValue(ge),L(ge)}}function f(ge){if(void 0===ge.consumers)return;const Le=c;c=!0;try{for(let Ve=ge.consumers;void 0!==Ve;Ve=Ve.nextConsumer){const Fe=Ve.consumer;Fe.dirty||k(Fe)}}finally{c=Le}}function D(){return!1!==P?.consumerAllowSignalWrites}function k(ge){ge.dirty=!0,f(ge),ge.consumerMarkedDirty?.(ge)}function L(ge){ge.dirty=!1,ge.lastCleanEpoch=A}function F(ge){return ge&&function j(ge){ge.producersTail=void 0,ge.recomputing=!0}(ge),e(ge)}function ee(ge,Le){e(Le),ge&&function J(ge){ge.recomputing=!1;const Le=ge.producersTail;let Ve=void 0!==Le?Le.nextProducer:ge.producers;if(void 0!==Ve){if(ve(ge))do{Ve=ce(Ve)}while(void 0!==Ve);void 0!==Le?Le.nextProducer=void 0:ge.producers=void 0}}(ge)}function V(ge){for(let Le=ge.producers;void 0!==Le;Le=Le.nextProducer){const Ve=Le.producer,Fe=Le.lastReadVersion;if(Fe!==Ve.version||(g(Ve),Fe!==Ve.version))return!0}return!1}function ie(ge){if(ve(ge)){let Le=ge.producers;for(;void 0!==Le;)Le=ce(Le)}ge.producers=void 0,ge.producersTail=void 0,ge.consumers=void 0,ge.consumersTail=void 0}function oe(ge,Le){const Ve=ge.consumersTail,Fe=ve(ge);if(void 0!==Ve?(Le.nextConsumer=Ve.nextConsumer,Ve.nextConsumer=Le):(Le.nextConsumer=void 0,ge.consumers=Le),Le.prevConsumer=Ve,ge.consumersTail=Le,!Fe)for(let ot=ge.producers;void 0!==ot;ot=ot.nextProducer)oe(ot.producer,ot)}function ce(ge){const Le=ge.producer,Ve=ge.nextProducer,Fe=ge.nextConsumer,ot=ge.prevConsumer;if(ge.nextConsumer=void 0,ge.prevConsumer=void 0,void 0!==Fe?Fe.prevConsumer=ot:Le.consumersTail=ot,void 0!==ot)ot.nextConsumer=Fe;else if(Le.consumers=Fe,!ve(Le)){let Ut=Le.producers;for(;void 0!==Ut;)Ut=ce(Ut)}return Ve}function ve(ge){return ge.consumerIsAlwaysLive||void 0!==ge.consumers}function Ee(ge){}function de(ge,Le){return Object.is(ge,Le)}function Se(ge,Le){const Ve=Object.create(lt);Ve.computation=ge,void 0!==Le&&(Ve.equal=Le);const Fe=()=>{if(g(Ve),r(Ve),Ve.value===Ue)throw Ve.error;return Ve.value};return Fe[v]=Ve,Fe}const Be=Symbol("UNSET"),Ne=Symbol("COMPUTING"),Ue=Symbol("ERRORED"),lt={...l,value:Be,dirty:!0,error:null,equal:de,kind:"computed",producerMustRecompute:ge=>ge.value===Be||ge.value===Ne,producerRecomputeValue(ge){if(ge.value===Ne)throw new Error("");const Le=ge.value;ge.value=Ne;const Ve=F(ge);let Fe,ot=!1;try{Fe=ge.computation(),e(null),ot=Le!==Be&&Le!==Ue&&Fe!==Ue&&ge.equal(Le,Fe)}catch(Ut){Fe=Ue,ge.error=Ut}finally{ee(ge,Ve)}ot?ge.value=Le:(ge.value=Fe,ge.version++)}};let Ke=function it(){throw new Error};function qe(ge){Ke(ge)}function _t(ge){Ke=ge}function tt(ge,Le){const Ve=Object.create(Ot);Ve.value=ge,void 0!==Le&&(Ve.equal=Le);const Fe=()=>function at(ge){return r(ge),ge.value}(Ve);return Fe[v]=Ve,[Fe,Kt=>wt(Ve,Kt),Kt=>ut(Ve,Kt)]}function wt(ge,Le){D()||qe(ge),ge.equal(ge.value,Le)||(ge.value=Le,function Qt(ge){ge.version++,function u(){A++}(),f(ge)}(ge))}function ut(ge,Le){D()||qe(ge),wt(ge,Le(ge.value))}const Ot={...l,equal:de,value:void 0,kind:"signal"};function mt(ge){const Le=e(null);try{return ge()}finally{e(Le)}}const Yt={...l,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"};function Et(ge){if(ge.dirty=!1,ge.version>0&&!V(ge))return;ge.version++;const Le=F(ge);try{ge.cleanup(),ge.fn()}finally{ee(ge,Le)}}},15847(O,S,i){var P;i.d(S,{Y:()=>v});var c=i(74766);const A=new Map,_=c??(P||(P=i.t(c,2)))??[];for(const t of _)t?.Name&&A.set(t.Name,!0===t.Rollable);const v=t=>!!t?.name&&!0===A.get(t.name)},15896(O,S,i){i.d(S,{y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Darwin's Fox";tier=2;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DarwinsFoxAbility",owner:e,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;if(n&&n.alive){let u=r.parent.getSpecificPet(r,n),g=u.pet;if(!g)return;r.jumpAttackPrep(g),r.jumpAttack(g,a,void 0,u.random)}else{let u=r.parent.opponent.getFurthestUpPet(r),g=u.pet;if(!g)return;r.jumpAttackPrep(g),r.jumpAttack(g,a,void 0,u.random)}this.triggerTigerExecution(e)}reset(){this.maxUses=this.level,super.reset()}copy(e){return new _(e,this.logService)}}},15998(O,S,i){function P(c){return!!c&&"function"!=typeof c.subscribe&&"function"==typeof c.then}i.d(S,{y:()=>P})},16042(O,S,i){i.d(S,{v:()=>_});var P=i(46200),c=i(5615),A=i(84932);class _ extends P.i{logService;abilityService;name="Bakunawa";tier=6;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Bakunawa Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=n.parent.opponent.petArray.filter(g=>g&&g.alive&&"Sleepy"!==g.equipment?.name).sort((g,f)=>f.attack!==g.attack?f.attack-g.attack:(g.position??0)-(f.position??0));if(0===a.length)return void this.triggerTigerExecution(t);const l=a.slice(0,Math.min(this.level,a.length));for(const g of l){const f=new A.Z;f.multiplier+=this.level-1,g.givePetEquipment(f)}const r=["."," twice for double effect."," thrice for triple effect."],u=`${n.name} made ${l.map(g=>g.name).join(", ")} Sleepy${r[Math.min(this.level,r.length)-1]}`;this.logService.createLog({message:u,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},16080(O,S,i){i.d(S,{A:()=>Ve});var P=i(37302),c=i(99162),A=i(81984),_=i(9452),v=i(63507),e=i(9933),t=i(94528),n=i(30712),a=i(59975),l=i(67895),r=i(57372),u=i(63080),g=i(67104),f=i(57850),D=i(1178),k=i(43744),L=i(10259),F=i(41795),j=i(30554),ee=i(12173),J=i(14429),V=i(64238),ve="[object Arguments]",Se="[object Function]",lt="[object Object]",ge={};ge[ve]=ge["[object Array]"]=ge["[object ArrayBuffer]"]=ge["[object DataView]"]=ge["[object Boolean]"]=ge["[object Date]"]=ge["[object Float32Array]"]=ge["[object Float64Array]"]=ge["[object Int8Array]"]=ge["[object Int16Array]"]=ge["[object Int32Array]"]=ge["[object Map]"]=ge["[object Number]"]=ge[lt]=ge["[object RegExp]"]=ge["[object Set]"]=ge["[object String]"]=ge["[object Symbol]"]=ge["[object Uint8Array]"]=ge["[object Uint8ClampedArray]"]=ge["[object Uint16Array]"]=ge["[object Uint32Array]"]=!0,ge["[object Error]"]=ge[Se]=ge["[object WeakMap]"]=!1;const Ve=function Le(Fe,ot,Ut,Kt,qt,Vt){var Gt,Ui=1&ot,Bt=2&ot,Yi=4&ot;if(Ut&&(Gt=qt?Ut(Fe,Kt,qt,Vt):Ut(Fe)),void 0!==Gt)return Gt;if(!(0,j.A)(Fe))return Fe;var Gi=(0,k.A)(Fe);if(Gi){if(Gt=(0,g.A)(Fe),!Ui)return(0,t.A)(Fe,Gt)}else{var Ci=(0,u.A)(Fe),ki=Ci==Se||"[object GeneratorFunction]"==Ci;if((0,L.A)(Fe))return(0,e.A)(Fe,Ui);if(Ci==lt||Ci==ve||ki&&!qt){if(Gt=Bt||ki?{}:(0,D.A)(Fe),!Ui)return Bt?(0,a.A)(Fe,(0,v.A)(Gt,Fe)):(0,n.A)(Fe,(0,_.A)(Gt,Fe))}else{if(!ge[Ci])return qt?Fe:{};Gt=(0,f.A)(Fe,Ci,Ui)}}Vt||(Vt=new P.A);var Hi=Vt.get(Fe);if(Hi)return Hi;Vt.set(Fe,Gt),(0,ee.A)(Fe)?Fe.forEach(function(_i){Gt.add(Le(_i,ot,Ut,_i,Fe,Vt))}):(0,F.A)(Fe)&&Fe.forEach(function(_i,Di){Gt.set(Di,Le(_i,ot,Ut,Di,Fe,Vt))});var Ti=Gi?void 0:(Yi?Bt?r.A:l.A:Bt?V.A:J.A)(Fe);return(0,c.A)(Ti||Fe,function(_i,Di){Ti&&(_i=Fe[Di=_i]),(0,A.A)(Gt,Di,Le(_i,ot,Ut,Di,Fe,Vt))}),Gt}},16306(O,S,i){i.d(S,{$:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pied Tamarin";tier=1;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PiedTamarinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>this.owner.parent.trumpets>=1,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,null,null,!0,r);for(let g of u.pets)null!=g&&r.snipePet(g,3,u.random,a,l);u.pets.length>0&&r.parent.spendTrumpets(1,r,l),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},16408(O,S,i){i.d(S,{c:()=>t});var P=i(46200),c=i(5615),A=i(33127),_=i(26886),v=i(61850),e=i(1152);class t extends P.i{logService;abilityService;name="Mongoose";tier=6;pack="Puppy";attack=7;health=6;initAbilities(){this.addAbility(new n(this,this.logService,this.abilityService)),super.initAbilities()}constructor(l,r,u,g,f,D,k,L,F){super(l,r,u),this.logService=l,this.abilityService=r,this.initPet(k,g,f,D,L,F)}}class n extends c.T{logService;abilityService;constructor(l,r,u){super({name:"MongooseAbility",owner:l,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:l.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.abilityService=u}executeAbility(l){const r=this.owner,u=A.I.getInjector().get(_.w),g=Math.max(1,Math.min(3,this.level)),f=u.toys.get(g)??[];if(0===f.length)return void this.triggerTigerExecution(l);const D=f[(0,v.hw)(0,f.length-1)],k=u.createToy(D,r.parent,g);k?(r.parent.toy=k,r.parent.toy.used=!1,r.parent.toy.triggers=0,(0,e.rv)(this.logService,r,`${r.name} chose a level ${g} ${D} toy.`,l.tiger,l.pteranodon),this.triggerTigerExecution(l)):this.triggerTigerExecution(l)}copy(l){return new n(l,this.logService,this.abilityService)}}},16725(O,S,i){i.d(S,{o:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Bombus Dahlbomii";tier=1;pack="Danger";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BombusDahlbomiiAbility",owner:e,triggers:["EnemyAttacked2"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:a}=e,r=this.owner;this.abilityService.setCounterEvent({callback:()=>{let u=r.parent.opponent.getFurthestUpPet(r),g=u.pet;g&&r.snipePet(g,1*this.level,u.random,a)},priority:r.attack,pet:r}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},16775(O,S,i){i.d(S,{a:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Mink";tier=2;pack="Custom";attack=3;health=3;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},17017(O,S,i){i.d(S,{W:()=>c});var P=i(22097);class c extends P.${logService;abilityService;name="Mild Chili";equipmentClass="skewer";power=0;originalPower=0;attackCallback=(_,v)=>{let e=v.parent.getPetAtPosition(1);null!=e&&_.snipePet(e,4*(_.equipment?.multiplier??1),!1,null,null,!0,!1,"attacked",4)};constructor(_,v){super(),this.logService=_,this.abilityService=v}}},17133(O,S,i){i.d(S,{A:()=>c});const c="object"==typeof global&&global&&global.Object===Object&&global},17144(O,S,i){i.d(S,{X:()=>_});var P=i(46200),c=i(5615),A=i(60385);class _ extends P.i{logService;abilityService;name="Painted Terrapin";tier=5;pack="Danger";health=6;attack=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"PaintedTerrapinAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let g=u.parent.getPetsWithEquipment("White Okra"),f=u.parent.nearestPetsBehind(u.level,u,g),D=f.pets;for(let k of D)this.logService.createLog({message:`${u.name} gave ${k.name} White Okra perk`,type:"ability",tiger:l,player:u.parent,pteranodon:r,randomEvent:f.random}),k.givePetEquipment(new A.f);this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},17374(O,S,i){i.d(S,{V:()=>_});var P=i(46200),c=i(5615),A=i(56979);class _ extends P.i{logService;abilityService;name="Olm";tier=2;pack="Custom";attack=3;health=1;constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}}class v extends c.T{logService;constructor(t,n){super({name:"OlmAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{gameApi:n,tiger:a,pteranodon:l}=t,r=this.owner,u=r.parent===n.player?n.playerRollAmount||0:n.opponentRollAmount||0,g=r.parent.getPetsWithEquipmentWithSillyFallback("Spooked",r),f=r.parent.opponent.getRandomPet(g,null,!0,null,r),D=f.pet;if(!D)return;const k=new A.E;u>0&&(k.multiplier+=u),this.logService.createLog({message:`${r.name} made ${D.name}${k.multiplier>1?` ${k.multiplier}x`:""} Spooked.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:f.random}),D.givePetEquipment(k),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},17385(O,S,i){function P(A){if(!A)return null;const _=Object.create(Object.getPrototypeOf(A));return Object.assign(_,A),_}i.d(S,{e:()=>P})},17520(O,S,i){i.d(S,{e:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Mimic";tier=5;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"Mimic Ability",owner:e,triggers:["StartBattle","PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t;if("StartBattle"===e.trigger)return n.mimicFaintCount=0,n.mimicTriggeredThreshold=0,t.parent.pendingGoldFromMimic=0,void this.triggerTigerExecution(e);if("PostRemovalFriendFaints"===e.trigger){n.mimicFaintCount=(n.mimicFaintCount??0)+1;const a=Math.floor((n.mimicFaintCount??0)/3),l=n.mimicTriggeredThreshold??0;if(a>l){const r=a-l;n.mimicTriggeredThreshold=a;const g=this.level*r;t.parent.pendingGoldFromMimic=(t.parent.pendingGoldFromMimic??0)+g,this.logService.createLog({message:`${t.name} will grant +${g} gold next turn after ${n.mimicFaintCount} friendly faints.`,type:"ability",player:t.parent})}}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},17554(O,S,i){i.d(S,{k:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Centipede";tier=3;pack="Custom";attack=1;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;pendingAttack=0;pendingHealth=0;usedThisTurn=!1;constructor(e,t){super({name:"CentipedeAbility",owner:e,triggers:["FriendBought","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{trigger:t,triggerPet:n,tiger:a,pteranodon:l}=e,r=this.owner;if("FriendBought"===t){if(this.usedThisTurn||!n)return;const g=this.level*(n.tier??1);return r.increaseAttack(g),r.increaseHealth(g),this.pendingAttack+=g,this.pendingHealth+=g,this.usedThisTurn=!0,this.logService.createLog({message:`${r.name} gained +${g} attack and +${g} health until next turn.`,type:"ability",player:r.parent,tiger:a,pteranodon:l}),void this.triggerTigerExecution(e)}if("EndTurn"===t)return(this.pendingAttack||this.pendingHealth)&&(r.increaseAttack(-this.pendingAttack),r.increaseHealth(-this.pendingHealth),this.pendingAttack=0,this.pendingHealth=0),void(this.usedThisTurn=!1)}copy(e){return new _(e,this.logService)}}},17634(O,S,i){i.d(S,{T:()=>e});var P=i(46200),c=i(5615),A=i(33127),_=i(56990),v=i(86785);class e extends P.i{logService;abilityService;name="Wombat";tier=2;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L){super(a,l,r),this.logService=a,this.abilityService=l,this.initPet(D,u,g,f,k,L)}}class t extends c.T{logService;constructor(a,l){super({name:"Wombat Ability",owner:a,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=l}executeAbility(a){const{tiger:l,pteranodon:r}=a,u=this.owner,f=u.parent.opponent.petArray.find(D=>D.alive&&D.isFaintPet());if(f){const D=A.I.getInjector().get(_.T);if(!D)return void this.triggerTigerExecution(a);const k=D.createPet({name:f.name,attack:null,health:null,exp:(0,v.l)(this.level),equipment:null,mana:null},u.parent);u.parent.transformPet(u,k),this.logService.createLog({message:`${u.name} transformed into level ${this.level} ${f.name}.`,type:"ability",player:u.parent,tiger:l,pteranodon:r})}this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},17647(O,S,i){i.d(S,{l:()=>_});var P=i(55378),c=i(46200),A=i(5615);class _ extends c.i{logService;abilityService;name="Visitor";tier=4;pack="Unicorn";attack=7;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;constructor(t,n){super({name:"VisitorAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner,D=[...u.parent.nearestPetsBehind(this.level,u).pets,...u.parent.opponent.getFurthestUpPets(this.level).pets].filter(k=>k.alive&&"Icky"!==k.equipment?.name).filter((k,L,F)=>F.indexOf(k)===L);if(0!=D.length){for(let k of D)k.givePetEquipment(new P.z),this.logService.createLog({message:`${u.name} made ${k.name} Icky.`,type:"ability",player:u.parent,tiger:l,pteranodon:r});this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},17705(O,S,i){i.d(S,{L39:()=>Ei,MKu:()=>Ii,TL3:()=>qi,Udg:()=>si,_q3:()=>bi,a0P:()=>la,gRc:()=>fe});var P=i(47868),A=(i(15824),i(35547));i(31805);const ge=new P.nKC(""),Le=new P.nKC("");function Ve(Z){return!Z.moduleRef}let Gt=null;let fe=(()=>class Z{static __NG_ELEMENT_ID__=Re})();function Re(Z){return function We(Z,G,q){if((0,P.Qs1)(Z)&&!q){const he=(0,P.KdJ)(Z.index,G);return new A.NCX(he,he)}return 175&Z.type?new A.NCX(G[P.b5C],G):null}((0,P.Mx4)(),(0,P.OAn)(),!(16&~Z))}class Wt{constructor(){}supports(G){return(0,A.ozJ)(G)}create(G){return new yi(G)}}const At=(Z,G)=>G;class yi{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(G){this._trackByFn=G||At}forEachItem(G){let q;for(q=this._itHead;null!==q;q=q._next)G(q)}forEachOperation(G){let q=this._itHead,he=this._removalsHead,Ce=0,xe=null;for(;q||he;){const Ye=!he||q&&q.currentIndex<sn(he,Ce,xe)?q:he,nt=sn(Ye,Ce,xe),Dt=Ye.currentIndex;if(Ye===he)Ce--,he=he._nextRemoved;else if(q=q._next,null==Ye.previousIndex)Ce++;else{xe||(xe=[]);const Rt=nt-Ce,jt=Dt-Ce;if(Rt!=jt){for(let mi=0;mi<Rt;mi++){const Ni=mi<xe.length?xe[mi]:xe[mi]=0,yn=Ni+mi;jt<=yn&&yn<Rt&&(xe[mi]=Ni+1)}xe[Ye.previousIndex]=jt-Rt}}nt!==Dt&&G(Ye,nt,Dt)}}forEachPreviousItem(G){let q;for(q=this._previousItHead;null!==q;q=q._nextPrevious)G(q)}forEachAddedItem(G){let q;for(q=this._additionsHead;null!==q;q=q._nextAdded)G(q)}forEachMovedItem(G){let q;for(q=this._movesHead;null!==q;q=q._nextMoved)G(q)}forEachRemovedItem(G){let q;for(q=this._removalsHead;null!==q;q=q._nextRemoved)G(q)}forEachIdentityChange(G){let q;for(q=this._identityChangesHead;null!==q;q=q._nextIdentityChange)G(q)}diff(G){if(null==G&&(G=[]),!(0,A.ozJ)(G))throw new P.buA(900,!1);return this.check(G)?this:null}onDestroy(){}check(G){this._reset();let Ce,xe,Ye,q=this._itHead,he=!1;if(Array.isArray(G)){this.length=G.length;for(let nt=0;nt<this.length;nt++)xe=G[nt],Ye=this._trackByFn(nt,xe),null!==q&&Object.is(q.trackById,Ye)?(he&&(q=this._verifyReinsertion(q,xe,Ye,nt)),Object.is(q.item,xe)||this._addIdentityChange(q,xe)):(q=this._mismatch(q,xe,Ye,nt),he=!0),q=q._next}else Ce=0,(0,A.utN)(G,nt=>{Ye=this._trackByFn(Ce,nt),null!==q&&Object.is(q.trackById,Ye)?(he&&(q=this._verifyReinsertion(q,nt,Ye,Ce)),Object.is(q.item,nt)||this._addIdentityChange(q,nt)):(q=this._mismatch(q,nt,Ye,Ce),he=!0),q=q._next,Ce++}),this.length=Ce;return this._truncate(q),this.collection=G,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let G;for(G=this._previousItHead=this._itHead;null!==G;G=G._next)G._nextPrevious=G._next;for(G=this._additionsHead;null!==G;G=G._nextAdded)G.previousIndex=G.currentIndex;for(this._additionsHead=this._additionsTail=null,G=this._movesHead;null!==G;G=G._nextMoved)G.previousIndex=G.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(G,q,he,Ce){let xe;return null===G?xe=this._itTail:(xe=G._prev,this._remove(G)),null!==(G=null===this._unlinkedRecords?null:this._unlinkedRecords.get(he,null))?(Object.is(G.item,q)||this._addIdentityChange(G,q),this._reinsertAfter(G,xe,Ce)):null!==(G=null===this._linkedRecords?null:this._linkedRecords.get(he,Ce))?(Object.is(G.item,q)||this._addIdentityChange(G,q),this._moveAfter(G,xe,Ce)):G=this._addAfter(new xi(q,he),xe,Ce),G}_verifyReinsertion(G,q,he,Ce){let xe=null===this._unlinkedRecords?null:this._unlinkedRecords.get(he,null);return null!==xe?G=this._reinsertAfter(xe,G._prev,Ce):G.currentIndex!=Ce&&(G.currentIndex=Ce,this._addToMoves(G,Ce)),G}_truncate(G){for(;null!==G;){const q=G._next;this._addToRemovals(this._unlink(G)),G=q}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(G,q,he){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(G);const Ce=G._prevRemoved,xe=G._nextRemoved;return null===Ce?this._removalsHead=xe:Ce._nextRemoved=xe,null===xe?this._removalsTail=Ce:xe._prevRemoved=Ce,this._insertAfter(G,q,he),this._addToMoves(G,he),G}_moveAfter(G,q,he){return this._unlink(G),this._insertAfter(G,q,he),this._addToMoves(G,he),G}_addAfter(G,q,he){return this._insertAfter(G,q,he),this._additionsTail=null===this._additionsTail?this._additionsHead=G:this._additionsTail._nextAdded=G,G}_insertAfter(G,q,he){const Ce=null===q?this._itHead:q._next;return G._next=Ce,G._prev=q,null===Ce?this._itTail=G:Ce._prev=G,null===q?this._itHead=G:q._next=G,null===this._linkedRecords&&(this._linkedRecords=new pi),this._linkedRecords.put(G),G.currentIndex=he,G}_remove(G){return this._addToRemovals(this._unlink(G))}_unlink(G){null!==this._linkedRecords&&this._linkedRecords.remove(G);const q=G._prev,he=G._next;return null===q?this._itHead=he:q._next=he,null===he?this._itTail=q:he._prev=q,G}_addToMoves(G,q){return G.previousIndex===q||(this._movesTail=null===this._movesTail?this._movesHead=G:this._movesTail._nextMoved=G),G}_addToRemovals(G){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pi),this._unlinkedRecords.put(G),G.currentIndex=null,G._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=G,G._prevRemoved=null):(G._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=G),G}_addIdentityChange(G,q){return G.item=q,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=G:this._identityChangesTail._nextIdentityChange=G,G}}class xi{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(G,q){this.item=G,this.trackById=q}}class gi{_head=null;_tail=null;add(G){null===this._head?(this._head=this._tail=G,G._nextDup=null,G._prevDup=null):(this._tail._nextDup=G,G._prevDup=this._tail,G._nextDup=null,this._tail=G)}get(G,q){let he;for(he=this._head;null!==he;he=he._nextDup)if((null===q||q<=he.currentIndex)&&Object.is(he.trackById,G))return he;return null}remove(G){const q=G._prevDup,he=G._nextDup;return null===q?this._head=he:q._nextDup=he,null===he?this._tail=q:he._prevDup=q,null===this._head}}class pi{map=new Map;put(G){const q=G.trackById;let he=this.map.get(q);he||(he=new gi,this.map.set(q,he)),he.add(G)}get(G,q){const Ce=this.map.get(G);return Ce?Ce.get(G,q):null}remove(G){const q=G.trackById;return this.map.get(q).remove(G)&&this.map.delete(q),G}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sn(Z,G,q){const he=Z.previousIndex;if(null===he)return he;let Ce=0;return q&&he<q.length&&(Ce=q[he]),he+G+Ce}class ai{constructor(){}supports(G){return G instanceof Map||(0,A.vDg)(G)}create(){return new Oi}}class Oi{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(G){let q;for(q=this._mapHead;null!==q;q=q._next)G(q)}forEachPreviousItem(G){let q;for(q=this._previousMapHead;null!==q;q=q._nextPrevious)G(q)}forEachChangedItem(G){let q;for(q=this._changesHead;null!==q;q=q._nextChanged)G(q)}forEachAddedItem(G){let q;for(q=this._additionsHead;null!==q;q=q._nextAdded)G(q)}forEachRemovedItem(G){let q;for(q=this._removalsHead;null!==q;q=q._nextRemoved)G(q)}diff(G){if(G){if(!(G instanceof Map||(0,A.vDg)(G)))throw new P.buA(900,!1)}else G=new Map;return this.check(G)?this:null}onDestroy(){}check(G){this._reset();let q=this._mapHead;if(this._appendAfter=null,this._forEach(G,(he,Ce)=>{if(q&&q.key===Ce)this._maybeAddToChanges(q,he),this._appendAfter=q,q=q._next;else{const xe=this._getOrCreateRecordForKey(Ce,he);q=this._insertBeforeOrAppend(q,xe)}}),q){q._prev&&(q._prev._next=null),this._removalsHead=q;for(let he=q;null!==he;he=he._nextRemoved)he===this._mapHead&&(this._mapHead=null),this._records.delete(he.key),he._nextRemoved=he._next,he.previousValue=he.currentValue,he.currentValue=null,he._prev=null,he._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(G,q){if(G){const he=G._prev;return q._next=G,q._prev=he,G._prev=q,he&&(he._next=q),G===this._mapHead&&(this._mapHead=q),this._appendAfter=G,G}return this._appendAfter?(this._appendAfter._next=q,q._prev=this._appendAfter):this._mapHead=q,this._appendAfter=q,null}_getOrCreateRecordForKey(G,q){if(this._records.has(G)){const Ce=this._records.get(G);this._maybeAddToChanges(Ce,q);const xe=Ce._prev,Ye=Ce._next;return xe&&(xe._next=Ye),Ye&&(Ye._prev=xe),Ce._next=null,Ce._prev=null,Ce}const he=new $t(G);return this._records.set(G,he),he.currentValue=q,this._addToAdditions(he),he}_reset(){if(this.isDirty){let G;for(this._previousMapHead=this._mapHead,G=this._previousMapHead;null!==G;G=G._next)G._nextPrevious=G._next;for(G=this._changesHead;null!==G;G=G._nextChanged)G.previousValue=G.currentValue;for(G=this._additionsHead;null!=G;G=G._nextAdded)G.previousValue=G.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(G,q){Object.is(q,G.currentValue)||(G.previousValue=G.currentValue,G.currentValue=q,this._addToChanges(G))}_addToAdditions(G){null===this._additionsHead?this._additionsHead=this._additionsTail=G:(this._additionsTail._nextAdded=G,this._additionsTail=G)}_addToChanges(G){null===this._changesHead?this._changesHead=this._changesTail=G:(this._changesTail._nextChanged=G,this._changesTail=G)}_forEach(G,q){G instanceof Map?G.forEach(q):Object.keys(G).forEach(he=>q(G[he],he))}}class $t{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(G){this.key=G}}function zt(){return new bi([new Wt])}let bi=(()=>{class Z{factories;static \u0275prov=(0,P.jDH)({token:Z,providedIn:"root",factory:zt});constructor(q){this.factories=q}static create(q,he){if(null!=he){const Ce=he.factories.slice();q=q.concat(Ce)}return new Z(q)}static extend(q){return{provide:Z,useFactory:()=>{const he=(0,P.WQX)(Z,{optional:!0,skipSelf:!0});return Z.create(q,he||zt())}}}find(q){const he=this.factories.find(Ce=>Ce.supports(q));if(null!=he)return he;throw new P.buA(901,!1)}}return Z})();function Xt(){return new Ii([new ai])}let Ii=(()=>{class Z{static \u0275prov=(0,P.jDH)({token:Z,providedIn:"root",factory:Xt});factories;constructor(q){this.factories=q}static create(q,he){if(he){const Ce=he.factories.slice();q=q.concat(Ce)}return new Z(q)}static extend(q){return{provide:Z,useFactory:()=>{const he=(0,P.WQX)(Z,{optional:!0,skipSelf:!0});return Z.create(q,he||Xt())}}}find(q){const he=this.factories.find(Ce=>Ce.supports(q));if(he)return he;throw new P.buA(901,!1)}}return Z})();function qi(Z){const{rootComponent:G,appProviders:q,platformProviders:he,platformRef:Ce}=Z;(0,A.Ef8)(A.mS5.BootstrapApplicationStart);try{const xe=Ce?.injector??function Hi(Z=[]){if(Gt)return Gt;(0,A.pl0)();const G=function Yi(Z=[],G){return P.zZn.create({name:G,providers:[{provide:P.GBX,useValue:"platform"},{provide:ge,useValue:new Set([()=>Gt=null])},...Z]})}(Z);return Gt=G,(0,A.ypd)(),function Ti(Z){const G=Z.get(A.PLl,null);(0,P.N4e)(Z,()=>{G?.forEach(q=>q())})}(G),G}(he),Ye=[(0,A.rpG)(),P.gv8,...q||[]];return function Fe(Z){const G=Ve(Z)?Z.r3Injector:Z.moduleRef.injector,q=G.get(P.SKi);return q.run(()=>{Ve(Z)?Z.r3Injector.resolveInjectorInitializers():Z.moduleRef.resolveInjectorInitializers();const he=G.get(P.ZTf);let Ce;if(q.runOutsideAngular(()=>{Ce=q.onError.subscribe({next:he})}),Ve(Z)){const xe=()=>G.destroy(),Ye=Z.platformInjector.get(ge);Ye.add(xe),G.onDestroy(()=>{Ce.unsubscribe(),Ye.delete(xe)})}else{const xe=()=>Z.moduleRef.destroy(),Ye=Z.platformInjector.get(ge);Ye.add(xe),Z.moduleRef.onDestroy(()=>{(0,A.TFI)(Z.allPlatformModules,Z.moduleRef),Ce.unsubscribe(),Ye.delete(xe)})}return function qt(Z,G,q){try{const he=q();return(0,A.yLl)(he)?he.catch(Ce=>{throw G.runOutsideAngular(()=>Z(Ce)),Ce}):he}catch(he){throw G.runOutsideAngular(()=>Z(he)),he}}(he,q,()=>{const xe=G.get(P.rev),Ye=xe.add(),nt=G.get(A.H1s);return nt.runInitializers(),nt.donePromise.then(()=>{const Dt=G.get(A.xe9,A.DkB);if((0,A.e6s)(Dt||A.DkB),!G.get(Le,!0))return Ve(Z)?G.get(A.o8S):(Z.allPlatformModules.push(Z.moduleRef),Z.moduleRef);if(Ve(Z)){const jt=G.get(A.o8S);return void 0!==Z.rootComponent&&jt.bootstrap(Z.rootComponent),jt}return Z.moduleRef}).finally(()=>{xe.remove(Ye)})})})}({r3Injector:new A.bH1({providers:Ye,parent:xe,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:xe,rootComponent:G})}catch(xe){return Promise.reject(xe)}finally{(0,A.Ef8)(A.mS5.BootstrapApplicationEnd)}}function Ei(Z){return"boolean"==typeof Z?Z:null!=Z&&"false"!==Z}function si(Z,G=NaN){return isNaN(parseFloat(Z))||isNaN(Number(Z))?G:Number(Z)}function la(Z,G){const q=(0,P.xUg)(Z),he=G.elementInjector||(0,P.WB9)();return new A.eHC(q).create(he,G.projectableNodes,G.hostElement,G.environmentInjector,G.directives,G.bindings)}},17996(O,S,i){i.d(S,{Y:()=>ei});var P=i(33837),c=i(46567),A=i(9680),_=i(76),v=i(21881),e=i(23780),t=i(4230),n=i(65223),a=i(58069),l=i(29192),r=i(5238),u=i(53874),g=i(29629),f=i(84587),D=i(47097),k=i(22931),L=i(34593),F=i(57483),j=i(95695),ee=i(95626),J=i(13325),V=i(47748),ie=i(60583),oe=i(83031),ce=i(46482),ve=i(11733),Ee=i(95395),Te=i(77348),ke=i(62275),de=i(34444),Se=i(16775),Be=i(18816),Ne=i(17374),Ue=i(56616),lt=i(20827),it=i(46398),Ke=i(38086),qe=i(67412),_t=i(93365),pt=i(86863),tt=i(57356),gt=i(7978),at=i(99654),wt=i(17634),ut=i(80591),Ge=i(69357),Ot=i(74838),Qt=i(35389),mt=i(42797),Yt=i(67459),Et=i(93584),ge=i(45035),Le=i(17554),Ve=i(6043),Fe=i(92990),ot=i(58789),Ut=i(42381),Kt=i(13340),qt=i(68629),Vt=i(10778),Gt=i(63792),Ui=i(57130),Bt=i(43714),Yi=i(99094),Gi=i(78500),Ci=i(75191),ki=i(61759),Hi=i(20428),En=i(4146),Ti=i(18232),_i=i(23508),Di=i(63625),Fn=i(40830),pn=i(58238),tn=i(20791),nn=i(54571),ji=i(23407),Rn=i(96034),Li=i(85240),ui=i(66328),wi=i(68932),Wi=i(71772),Sn=i(61582),vi=i(41604),Xi=i(76483),Ji=i(7598),Tn=i(75182),Yn=i(45575),Ai=i(27454),Qi=i(91442),Gn=i(67476),Dn=i(37831),Hn=i(48191),an=i(30147),Xn=i(48813),Pa=i(23790),Va=i(79323),hn=i(27810),gn=i(2641),di=i(83245),Jn=i(8534),Qn=i(41837),le=i(87750),Pe=i(6953),fe=i(27088),Re=i(5040),We=i(63618),je=i(81207),ze=i(34829),Wt=i(7056),At=i(80517),yi=i(64888),xi=i(70511),gi=i(78848),pi=i(73620),sn=i(84736),ai=i(39195),Oi=i(47832),$t=i(50229),zt=i(45925),bi=i(10948),Mi=i(5388),Xt=i(34638),Ii=i(12367),rn=i(49449),Fi=i(42377),Aa=i(48762),Ln=i(49547),qn=i(20150),mn=i(62307),qi=i(33685),Zn=i(57616),jn=i(17520),_n=i(82144),fn=i(7639),Ea=i(25632),Nn=i(8540),Mn=i(32308),za=i(72492),Y=i(70471),me=i(59879),ne=i(40328),se=i(72560),De=i(40781),He=i(44071),Ze=i(29768),st=i(52561),ii=i(24287),Zt=i(61625),ni=i(37584),Jt=i(16042),Ei=i(91066),si=i(46138),fi=i(85078),Un=i(43422),xn=i(67056),vn=i(93311),on=i(27852),Bn=i(64174),ra=i(13837),Cn=i(57455),Ya=i(82661),os=i(48626),Vn=i(41074),lr=i(92083),ls=i(30102),Ra=i(1383),Sa=i(62990),xs=i(22120),cs=i(74794),Ur=i(63651),Xa=i(54416),us=i(38866),Ja=i(89189),La=i(42916),Ht=i(53190),ue=i(59303),Vi=i(31401),oa=i(59644),ea=i(21299),la=i(56485),cr=i(79340),ca=i(15523);const ei={Basilisk:P.L,Budgie:c.P,Duckling:A.M,"Farmer Mouse":_.t,"Frilled Dragon":v.A,Gibbon:e.E,Mouse:t.K,Nudibranch:n.X,"Peacock Spider":a.u,"Pygmy Seahorse":l.J,Quoll:r.I,Silverfish:u.M,Sloth:g.B,Termite:f.$,"Umbrella Bird":D.s,Weevil:k.v,"Albino Squirrel":L.T,Amphisbaena:F._,"Atlantic Puffin":j.d,Chupacabra:ee.V,"Desert Rain Frog":J.Q,"Dung Beetle":V.k,"Farmer Chicken":ie.N,Frigatebird:oe.Y,"Fruit Fly":ce.u,"Giant Squirrel":ve.v,"Golden Beetle":Ee.n,"Hermit Crab":Te.I,"Honduran White Bat":ke.y,Mandarinfish:de.X,Mink:Se.a,Nightcrawler:Be.P,Olm:Ne.V,Panda:Ue.R,"Pink Robin":lt.D,Roadrunner:it.z,Seahorse:Ke.x,Sphinx:qe.l,"Spotted Handfish":_t.p,Tadpole:pt.M,"Thorny Dragon":tt.g,Vervet:gt.x,Warf:at.B,Wombat:wt.T,Yak:ut.E,Aardvark:Ge.L,"Axehandle Hound":Ot.L,Barnacle:Qt.x,Bear:mt.d,"Blue Dragon":Yt.a,"Brazillian Treehopper":Et.h,Caladrius:ge.t,Centipede:Le.k,"Deer Lord":Ve.s,Dimetrodon:Fe._,Dugong:ot.f,Eel:Ut.d,"Emperor Tamarin":Kt.x,"Farmer Pig":qt.u,"Flying Squirrel":Vt.Z,"Foo Dog":Gt.X,Gerenuk:Ui.q,"Great Potoo":Bt.J,"Jewel Caterpillar":Yi.X,Pangasius:Gi.c,"Patagonian Mara":Ci.w,Pony:ki.k,Porcupine:Hi.Q,"Quail Chick":En.B,"Queen Bee":Ti.t,Quetzalcoatlus:_i.q,"Sage-Grouse":Di.y,"Sarcastic Fringehead":Fn.Z,"Silkie Chicken":pn.Z,Slime:tn.f,"Sugar Glider":nn.G,Tree:ji.P,"Vampire Parrot":Rn.d,Wasp:Li.y,Ahuizotl:ui.r,Andrewsarchus:wi.v,Anubis:Wi.H,Bloodhound:Sn.V,"Blue-Footed Booby":vi.F,Crow:Xi.e,Deinocheirus:Ji.Z,Dragonfly:Tn.j,Fairy:Yn.s,"Farmer Cat":Ai.m,Gazelle:Qi.Z,Gelada:Gn.h,"Goblin Shark":Dn.FZ,Hippocampus:Hn.m,Hoatzin:an.O,Jerboa:Xn.a,"Leaf Gecko":Pa.K,"Leafy Sea Dragon":Va.k,Locust:hn.R,Lynx:gn.E,"Old Mouse":di.t,Pegasus:Jn.t,Platybelodon:Qn.E,"Poodle Moth":le.q,"Racket Tail":Pe.v,"Red Lipped Batfish":fe.R,Rootling:Re.F,"Ruspoli's Turaco":We.y,"Sea Anemone":je.X,Seagull:ze.Q,"Spider Crab":Wt.E,"Spiny Bush Viper":At.A,Tandgnost:yi.l,Tardigrade:xi.c,Trout:gi.F,"Yeti Crab":pi.u,"Blue Jay":sn.v,Boitata:ai.v,"Brahma Chicken":Oi.B,Cuckoo:$t.F,Estemmenosuchus:zt.f,"Farmer Crow":bi.l,"Farmer Dog":Mi.S,Flounder:Xt.i,Fox:Ii.O,"Giant Isopod":rn.o,Hippogriff:Fi.j,Hyena:Aa.S,Jackal:Ln.x,Kappa:qn.K,Lion:mn.X,Lusca:qi.h,Maltese:Zn.O,Mimic:jn.e,Moose:_n.k,Namazu:fn.F,Nurikabe:Ea.I,"Pacific Fanfish":Nn.n,"Polar Bear":Mn.H,Raccoon:za.E,"Sea Cucumber":Y.w,"Siberian Husky":me.A,"Silver Fox":ne.r,Tandgrisner:se.c,Tarasque:De.X,"Venus Flytrap":He.y,"Woolly Rhino":Ze.B,Zebra:st.f,Akhlut:ii.y,Albatross:Zt.s,Amargasaurus:ni.r,Bakunawa:Jt.v,"Black Bear":Ei.e,Chimpanzee:si.n,Cockatrice:fi.j,"Coconut Crab":Un.Q,Dunkleosteus:xn.B,"Eagle Owl":vn.T,"Great One":on.v,"Hammerhead Shark":Bn.K,"Harpy Eagle":ra.V,"Hooded Seal":Cn.T,Komodo:Ya.C,Lamprey:os.z,Leviathan:Vn.j,Lioness:lr.Y,Markhor:ls.J,Poodle:Ra.C,"Questing Beast":Sa.e,"Rockhopper Penguin":xs.q,"Small One":cs.a,Stegosaurus:Ur.z,Sunfish:Xa.J,Tapir:us.v,Tanystropheus:Ja.G,"Tarantula Hawk":La.W,"Terror Bird":Ht.y,Therizinosaurus:ue.c,"Vampire Squid":Vi.x,Walrus:oa.R,"White Tiger":ea.J,"Winter Spirit":la.B,"Yellow Boxfish":cr.M,"Cuckoo Chick":ca.Z}},18060(O,S,i){i.d(S,{V:()=>c});var P=i(22097);class c extends P.${name="Toasty";equipmentClass="ailment-other";uses=1;originalUses=1}},18155(O,S,i){i.d(S,{t:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="African Penguin";tier=2;pack="Golden";attack=1;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"AfricanPenguinAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t.parent.getRandomPets(3,[t]),a=n.pets;if(0===a.length)return void this.triggerTigerExecution(e);const l=this.level;for(const r of a)r.increaseAttack(l);this.logService.createLog({message:`${t.name} gave ${a.map(r=>r.name).join(", ")} +${l} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},18232(O,S,i){i.d(S,{t:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Queen Bee";tier=3;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Queen Bee Ability",owner:e,triggers:["BeeSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n,triggerPet:a}=e,l=this.owner,r=a;if(!r||"Bee"!==r.name)return void this.triggerTigerExecution(e);const u=3*this.level;r.increaseAttack(u),r.increaseHealth(u);const g=this.removeOtherQueenBees(l);this.logService.createLog({message:`${l.name} gave ${r.name} +${u}/+${u} and removed ${g} other Queen Bees.`,type:"ability",player:l.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}removeOtherQueenBees(e){const t=[e.parent,e.parent.opponent];let n=0;for(const a of t){for(const l of[...a.petArray])l!==e&&l.alive&&"Queen Bee"===l.name&&(l.health=0,a.handleDeath(l),n++);a.removeDeadPets()}return n}copy(e){return new _(e,this.logService)}}},18456(O,S,i){i.d(S,{ZZ:()=>_});var P=i(95006),c=i(84787),A=i(13004);function _(n,a,l=Number.POSITIVE_INFINITY){return"function"==typeof a?r=>r.pipe(_((u,g)=>(0,c.H)(n(u,g)).pipe((0,P.T)((f,D)=>a(u,f,g,D))),l)):("number"==typeof a&&(l=a),r=>r.lift(new v(n,l)))}class v{constructor(a,l=Number.POSITIVE_INFINITY){this.project=a,this.concurrent=l}call(a,l){return l.subscribe(new e(a,this.project,this.concurrent))}}class e extends A.gn{constructor(a,l,r=Number.POSITIVE_INFINITY){super(a),this.project=l,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(a){this.active<this.concurrent?this._tryNext(a):this.buffer.push(a)}_tryNext(a){let l;const r=this.index++;try{l=this.project(a,r)}catch(u){return void this.destination.error(u)}this.active++,this._innerSub(l)}_innerSub(a){const l=new A.zA(this),r=this.destination;r.add(l);const u=(0,A.tS)(a,l);u!==l&&r.add(u)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(a){this.destination.next(a)}notifyComplete(){const a=this.buffer;this.active--,a.length>0?this._next(a.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},18467(O,S,i){i.d(S,{P:()=>v});var P=i(46200),c=i(5615),A=i(56979),_=i(1152);class v extends P.i{logService;abilityService;name="Amalgamation";tier=5;pack="Unicorn";attack=4;health=5;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"AmalgamationAbility",owner:n,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:2,precondition:l=>{const{triggerPet:r}=l;return!!r&&!!(0,_.Uj)(this.owner,r,(g,f)=>g.parent.getSpecificPet(g,f)).pet},abilityFunction:l=>{this.executeAbility(l)}}),this.logService=a}executeAbility(n){const{triggerPet:l,tiger:r,pteranodon:u}=n,g=this.owner,f=(0,_.Uj)(g,l,(F,j)=>F.parent.getSpecificPet(F,j)),D=f.pet;if(!D)return;const k=3*this.level,L=4*this.level;(0,_.rv)(this.logService,g,`${g.name} gave ${D.name} +${k} attack, +${L} mana, and Spooked.`,r,u,{randomEvent:f.random}),D.increaseAttack(k),D.increaseMana(L),D.givePetEquipment(new A.E),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService)}}},18506(O,S,i){i.d(S,{y:()=>_});var P=i(46200),c=i(5615),A=i(17017);class _ extends P.i{logService;abilityService;name="Tahr";tier=4;pack="Puppy";attack=5;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"TahrAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let g=u.parent.getPetsWithEquipment("Mild Chili"),f=u.parent.nearestPetsBehind(this.level,u,g);if(0!==f.pets.length){for(let D of f.pets)this.logService.createLog({message:`${u.name} gave ${D.name} Mild Chili.`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:f.random}),D.givePetEquipment(new A.W(this.logService,this.abilityService));this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService,this.abilityService)}}},18609(O,S,i){i.d(S,{t:()=>_});var P=i(45651),c=i(50873);i(5615);class _ extends c.L{logService;toyService;abilityService;name="Nutcracker";tier=4;suppressFriendFaintLog=!0;pendingSpawn=!1;friendFaints(t,n,a,l){this.used||this.pendingSpawn||n.parent.petArray.filter(u=>u.alive).length>0||this.queueSalmonSpawn()}queueSalmonSpawn(){this.pendingSpawn=!0,this.abilityService.setCounterEvent({priority:0,callback:(t,n,a)=>{this.pendingSpawn=!1,this.attemptSalmonSpawn()}})}attemptSalmonSpawn(){if(this.used||this.parent.petArray.filter(l=>l.alive).length>0)return;const n=6*this.level,a=new P.K(this.logService,this.abilityService,this.parent,n,n,null,0);this.parent.summonPet(a,0).success&&this.logService.createLog({message:`${this.name} spawned Salmon of Knowledge (${n}/${n})`,type:"ability",player:this.parent}),this.used=!0}constructor(t,n,a,l,r){super(t,n,l,r),this.logService=t,this.toyService=n,this.abilityService=a}}},18779(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Snake";tier=6;pack="Turtle";attack=8;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SnakeAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=5*this.level,g=r.parent.opponent.getRandomPet([],!1,!0,!1,r);g.pet&&(r.snipePet(g.pet,u,g.random,a),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},18783(O,S,i){i.d(S,{S:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Health Potion";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"HealthPotionAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;let a=2*this.equipment.multiplier,l=t.parent.furthestUpPet;null!=l&&(this.logService.createLog({message:`${t.name} gave ${a} health to ${l.name} (Health Potion)${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent}),l.increaseHealth(a))}}},18816(O,S,i){i.d(S,{P:()=>_});var P=i(46200),c=i(5615),A=i(4635);class _ extends P.i{logService;abilityService;name="Nightcrawler";tier=2;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"NightcrawlerAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{gameApi:n,tiger:l,pteranodon:r}=t,u=this.owner;let f=u.parent==n.player?n.playerSummonedAmount:n.opponentSummonedAmount;if(0==f)return;let D=Math.min(50,this.level*f),L=new A.f(this.logService,this.abilityService,u.parent,D,6,0,0),F=u.parent.summonPet(L,u.savedPosition,!1,u);F.success&&this.logService.createLog({message:`${u.name} spawned Daycrawler (6/${D})`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:F.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},18960(O,S,i){i.d(S,{A:()=>c});const c=function P(A){return this.__data__.has(A)}},19058(O,S,i){i.d(S,{l:()=>c});var P=i(22097);class c extends P.${name="Weak";equipmentClass="ailment-defense";power=-3;originalPower=-3}},19114(O,S,i){i.d(S,{u:()=>_});var P=i(46200),c=i(5615),A=i(19058);class _ extends P.i{logService;abilityService;name="Microbe";tier=4;pack="Puppy";attack=4;health=1;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"MicrobeAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let g=u.parent.getPetsWithinXSpaces(u,3*this.level),f=g.pets.filter(D=>"Weak"!==D.equipment?.name);if(0!=f.length){for(let D of f)D.alive&&(this.logService.createLog({message:`${u.name} gave ${D.name} Weak.`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:g.random}),D.givePetEquipment(new A.l));this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},19180(O,S,i){i.d(S,{V:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;petService;name="Faint Bread";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.petService,this.logService))};constructor(e,t){super(),this.logService=e,this.petService=t}}class _ extends c.T{equipment;petService;logService;constructor(e,t,n,a){super({name:"FaintBreadAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:l=>{this.executeAbility(l)}}),this.equipment=t,this.petService=n,this.logService=a}executeAbility(e){const t=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let a=this.petService.getRandomFaintPet(t.parent,1,[],t),l=n>0?this.equipment.multiplierMessage:"";t.parent.summonPet(a,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned ${a.name} (Faint Bread)${l}`,type:"ability",player:t.parent,randomEvent:!0})}}}},19405(O,S,i){i.d(S,{h:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Bigfoot";tier=2;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BigfootAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} will gain ${n} free ${1===n?"roll":"rolls"} next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},19429(O,S,i){i.d(S,{U:()=>_});var P=i(22097),c=i(94433),A=i(5615);class _ extends P.${logService;abilityService;name="Banana";equipmentClass="afterFaint";callback=t=>{const n=t.getEquippedEquipmentInstance(this);t.addAbility(new v(t,n,this.logService,this.abilityService))};constructor(t,n){super(),this.logService=t,this.abilityService=n}}class v extends A.T{equipment;logService;abilityService;constructor(t,n,a,l){super({name:"BananaAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=n,this.logService=a,this.abilityService=l}executeAbility(t){const n=this.owner;for(let a=0;a<this.equipment.multiplier;a++){let l=new c.P(this.logService,this.abilityService,n.parent,4,4,0,0),r=a>0?this.equipment.multiplierMessage:"";n.parent.summonPet(l,n.savedPosition).success&&this.logService.createLog({message:`${n.name} Spawned Monkey (Banana)${r}`,type:"ability",player:n.parent})}}}},19540(O,S,i){i.d(S,{U:()=>c});var P=i(50873);class c extends P.L{name="Excalibur";tier=6}},19661(O,S,i){function e(k){const{baseConfig:L,simulateBatch:F,shouldAbort:j,onProgress:ee}=k,J=k.options.side,V=Math.max(1,Math.trunc(k.options.maxSimulationsPerPermutation??L.simulationCount??250)),ie=Math.max(1,Math.trunc(k.options.batchSize??25)),oe=null!=k.options.confidenceZ&&Number.isFinite(k.options.confidenceZ)?Math.max(0,k.options.confidenceZ):1.96,ce=Math.max(1,Math.trunc(k.options.minSamplesBeforeElimination??50)),ve=null!=k.options.baseSeed&&Number.isFinite(k.options.baseSeed)?Math.trunc(k.options.baseSeed):null!=L.seed&&Number.isFinite(L.seed)?Math.trunc(L.seed):123456789,Ee="player"===J?"playerPets":"opponentPets",Te=(L[Ee]??[]).slice(),ke=function r(k){const L=k.length;if(L<=0)return[[]];const F=function u(k){const L=[];for(let F=0;F<k.length;F+=1){const j=k[F],ee=L.find(J=>D(J.representative,j));ee?ee.indices.push(F):L.push({representative:j,indices:[F]})}return L}(k),j=F.map(V=>V.indices.length),J=[];return g(0,new Array(L),j,J),J.map(V=>function f(k,L){const F=L.map(()=>0);return k.map(j=>{const ee=F[j];F[j]+=1;const J=L[j].indices[ee];if(null==J)throw new Error("Failed to map grouped permutation to index permutation.");return J})}(V,F))}(Te),de=ke.map(Ke=>({order:Ke,lineup:l(Te,Ke),simulations:0,wins:0,draws:0,losses:0,score:0,lowerBound:0,upperBound:1,eliminated:!1,rounds:0}));let Se=0;const Be=ke.length*V;let Ne=0,Ue=!1;if(0===de.length)throw new Error("Could not generate any board permutations.");for(;;){if(j?.()){Ue=!0;break}const Ke=de.filter(gt=>!gt.eliminated);if(Ke.length<=1)break;const qe=ve+Ne;let _t=!1;for(const gt of Ke){if(j?.()){Ue=!0;break}if(gt.simulations>=V)continue;const wt=Math.min(ie,V-gt.simulations);if(wt<=0)continue;_t=!0;const Ge=F({...L,[Ee]:gt.lineup,simulationCount:wt,logsEnabled:!1,maxLoggedBattles:0,captureRandomDecisions:!1,randomDecisionOverrides:[],seed:qe}),Ot="player"===J?Ge.playerWins:Ge.opponentWins,Qt="player"===J?Ge.opponentWins:Ge.playerWins;gt.simulations+=wt,gt.rounds+=1,gt.wins+=Ot,gt.draws+=Ge.draws,gt.losses+=Qt,n(gt,oe),Se+=wt;const mt=de.filter(Et=>Et.simulations>0).length,Yt=Math.max(...de.map(Et=>Et.score));ee?.({completedBattles:Se,totalBattlesEstimate:Be,testedPermutations:mt,activePermutations:de.filter(Et=>!Et.eliminated).length,bestScore:Yt})}if(Ue||!_t)break;const pt=de.filter(gt=>!gt.eliminated);for(const gt of pt)n(gt,oe);const tt=pt.filter(gt=>gt.simulations>=ce);if(tt.length>1){const gt=Math.max(...tt.map(at=>at.lowerBound));for(const at of tt)at.upperBound<gt&&(at.eliminated=!0)}Ne+=1}for(const Ke of de)n(Ke,oe);const lt=[...de].sort((Ke,qe)=>qe.score!==Ke.score?qe.score-Ke.score:qe.lowerBound!==Ke.lowerBound?qe.lowerBound-Ke.lowerBound:qe.simulations!==Ke.simulations?qe.simulations-Ke.simulations:0),it=lt[0];if(!it)throw new Error("Positioning optimization failed to rank candidates.");return{side:J,totalPermutations:de.length,prunedPermutations:de.filter(Ke=>Ke.eliminated).length,simulatedBattles:Se,aborted:Ue,bestPermutation:t(it),rankedPermutations:lt.map(t)}}function t(k){return{order:[...k.order],lineup:[...k.lineup],simulations:k.simulations,wins:k.wins,draws:k.draws,losses:k.losses,score:k.score,lowerBound:k.lowerBound,upperBound:k.upperBound,eliminated:k.eliminated}}function n(k,L){const F=k.simulations;if(F<=0)return k.score=0,k.lowerBound=0,void(k.upperBound=1);const j=function a(k,L,F){return F<=0?0:(k+.5*L)/F}(k.wins,k.draws,F),ee=Math.max(0,j*(1-j)),J=L*Math.sqrt(ee/F);k.score=j,k.lowerBound=Math.max(0,j-J),k.upperBound=Math.min(1,j+J)}function l(k,L){return L.map(F=>k[F])}function g(k,L,F,j){if(k>=L.length)j.push(L.slice());else for(let ee=0;ee<F.length;ee+=1)F[ee]<=0||(L[k]=ee,F[ee]-=1,g(k+1,L,F,j),F[ee]+=1)}function D(k,L){if(Object.is(k,L))return!0;if(null==k||null==L)return k===L;if(Array.isArray(k)||Array.isArray(L)){if(!Array.isArray(k)||!Array.isArray(L)||k.length!==L.length)return!1;for(let V=0;V<k.length;V+=1)if(!D(k[V],L[V]))return!1;return!0}if("object"!=typeof k||"object"!=typeof L)return!1;const F=k,j=L,ee=Object.keys(F).sort(),J=Object.keys(j).sort();if(ee.length!==J.length)return!1;for(let V=0;V<ee.length;V+=1){const ie=ee[V],oe=J[V];if(ie!==oe||!D(F[ie],j[oe]))return!1}return!0}i.d(S,{i:()=>e})},19866(O,S,i){i.d(S,{r:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Calygreyhound";tier=3;pack="Unicorn";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"CalygreyhoundAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;if(0==r.mana)return;let u=r.parent.opponent.getHighestHealthPets(2,void 0,r),g=this.level*r.mana;for(let f of u.pets)f.health=Math.max(1,f.health-g),this.logService.createLog({message:`${r.name} reduced ${f.name}'s health by ${g} to ${f.health}.`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random});r.mana=0,this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},19939(O,S,i){i.d(S,{w:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Stonefish";tier=5;pack="Puppy";attack=7;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"StonefishAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a,pteranodon:l}=e,r=this.owner;let g=r.parent.getSpecificPet(r,n).pet;null==g||!g.alive||(r.snipePet(g,r.attack*this.level,!1,a,l),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},20136(O,S,i){i.d(S,{g:()=>a,o:()=>l});var P=i(50873),c=i(15847),A=i(5615),_=i(57488),v=i(17385),e=i(58857),t=i(61850),n=i(79222);class a extends P.L{logService;toyService;equipmentService;name="Pandoras Box";tier=5;startOfBattle(u,g){l.applyPandorasBoxEffect({logService:this.logService,equipmentService:this.equipmentService,level:this.level,pets:[...u.player.petArray,...u.opponent.petArray],useClones:!1,logPlayer:this.parent,logMeta:{randomEvent:!0},logMessage:(f,D)=>`${this.name} gave ${f.name} ${D.name}`})}constructor(u,g,f,D,k){super(u,g,f,D),this.logService=u,this.toyService=g,this.equipmentService=k}}class l extends A.T{logService;abilityService;equipmentService;constructor(u,g,f,D){super({name:"PandorasBoxAbility",owner:u,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:u.level,abilityFunction:k=>{this.executeAbility(k)}}),this.logService=g,this.abilityService=f,this.equipmentService=D}executeAbility(u){const{gameApi:g,tiger:f,pteranodon:D}=u,k=this.owner,L=(0,_.a)(g,k.parent),F=[...k.parent.petArray,...L.petArray].filter(j=>j?.alive);l.applyPandorasBoxEffect({logService:this.logService,equipmentService:this.equipmentService,level:this.level,pets:F,useClones:!0,logPlayer:k.parent,logMeta:{tiger:f,pteranodon:D,randomEvent:!0},logMessage:(j,ee)=>`Pandoras Box Ability gave ${j.name} ${ee.name}`}),this.triggerTigerExecution(u)}copy(u){return new l(u,this.logService,this.abilityService,this.equipmentService)}static applyPandorasBoxEffect(u){const{logService:g,equipmentService:f,level:D,pets:k,useClones:L,logPlayer:F,logMeta:j,logMessage:ee}=u,J=Array.from(f.getInstanceOfAllAilments().values()),V=new Set(["Chocolate Cake"]),ie=Array.from(f.getInstanceOfAllEquipment().values()).filter(oe=>{if(!oe||V.has(oe.name)||!(0,c.Y)(oe))return!1;const ce=oe.triggers??[];return!(ce.includes("StartTurn")||ce.includes("EndTurn")||ce.includes("BeforeStartBattle"))});for(const oe of k){const ve=0===(0,e.k6)({key:"toy.pandoras-box.pool",label:(0,n.I)(oe,"Pandoras Box pool"),options:[{id:"ailments",label:"Ailments"},{id:"equipment",label:"Equipment"}]},()=>(0,t.hw)(0,1)).index?J:ie;if(!ve.length)continue;const Ee=(0,e.k6)({key:"toy.pandoras-box.item",label:(0,n.I)(oe,"Pandoras Box item"),options:ve.map(de=>({id:de.name,label:de.name}))},()=>(0,t.hw)(0,ve.length-1)),Te=ve[Ee.index];if(!Te)continue;const ke=L?(0,v.e)(Te):Te;ke&&(oe.givePetEquipment(ke,D),g.createLog({message:ee(oe,ke),type:"ability",player:F,sourcePet:oe,tiger:j?.tiger,pteranodon:j?.pteranodon,randomEvent:j?.randomEvent}))}}}},20150(O,S,i){i.d(S,{K:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;petService;name="Kappa";tier=5;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L,F){super(a,l,u),this.logService=a,this.abilityService=l,this.petService=r,this.initPet(k,g,f,D,L,F)}}class t extends c.T{logService;abilityService;petService;constructor(a,l,r,u){super({name:"KappaAbility",owner:a,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=l,this.abilityService=r,this.petService=u}executeAbility(a){const{gameApi:l,tiger:u,pteranodon:g}=a,f=this.owner;let k=(f.parent==l.player?l.playerPetPool:l.opponentPetPool).get(3);for(let L=0;L<f.level;L++){const F=(0,A.k6)({key:"pet.kappa-player-spawn",label:(0,v.I)(f,"Kappa player spawn",L+1),options:k.map(ve=>({id:ve,label:ve}))},()=>(0,_.hw)(0,k.length-1));let j=k[F.index];const ee=(0,A.k6)({key:"pet.kappa-opponent-spawn",label:(0,v.I)(f,"Kappa opponent spawn",L+1),options:k.map(ve=>({id:ve,label:ve}))},()=>(0,_.hw)(0,k.length-1));let J=k[ee.index],V=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:j},f.parent);f.parent.summonPet(V,f.savedPosition,!1,f).success&&this.logService.createLog({message:`${f.name} spawned a ${V.name} (14/16).`,type:"ability",player:f.parent,tiger:u,pteranodon:g,randomEvent:F.randomEvent});let oe=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:J},f.parent.opponent);f.parent.opponent.summonPet(oe,f.savedPosition,!1,f).success&&this.logService.createLog({message:`${f.name} spawned a ${oe.name} (14/16) for the opponent.`,type:"ability",player:f.parent,tiger:u,pteranodon:g,randomEvent:ee.randomEvent})}this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService,this.petService)}}},20178(O,S,i){i.d(S,{I:()=>A});var P=i(80614),c=i(58253);const A={closed:!0,next(_){},error(_){if(P.$.useDeprecatedSynchronousErrorHandling)throw _;(0,c.T)(_)},complete(){}}},20188(O,S,i){i.d(S,{$:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pygmy Hippo";tier=3;pack="Danger";attack=2;health=7;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"PygmyHippoAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=Math.floor(.33*r.health),g=r.parent.opponent.getLowestHealthPets(this.level,void 0,r);for(let f of g.pets)r.snipePet(f,u,g.random,a);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},20290(O,S,i){i.d(S,{S:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Shrimp";tier=2;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t,n){super({name:"ShrimpAbility",owner:e,triggers:["FriendSold","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const n=e.triggerPet;if(!n||!n.isSellPet())return void this.triggerTigerExecution(e);const a=t.parent.getRandomPet([t]),l=a.pet;if(!l)return void this.triggerTigerExecution(e);const r=this.level;l.increaseHealth(r),this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave ${l.name} +${r} health after ${n.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},20428(O,S,i){i.d(S,{Q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Porcupine";tier=3;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Porcupine Ability",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{triggerPet:t}=e,n=this.owner;if(t&&t.alive&&t.parent!==n.parent){const a=3*this.level;n.dealDamage(t,a),this.logService.createLog({message:`${n.name} reflected ${a} damage to ${t.name}.`,type:"ability",player:n.parent})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},20441(O,S,i){i.d(S,{g:()=>a});var P=i(64855),c=i(83028),A=i(47868),_=i(24111),v=i(49230),e=i(56990),t=i(90966),n=i(1744);let a=(()=>{class l{logService;abilityService;petService;equipmentService;gameService;constructor(u,g,f,D,k){this.logService=u,this.abilityService=g,this.petService=f,this.equipmentService=D,this.gameService=k,this.logService=(0,c.V)(this.logService)}createToy(u,g,f,D,k,L,F){const ee=P.AF[u];return ee?ee({logService:this.logService,abilityService:this.abilityService,toyService:D,parent:g,level:f,petService:this.petService??k,equipmentService:this.equipmentService??L,gameService:this.gameService??F}):P.UI[u]?new(0,P.UI[u])(this.logService,D,this.abilityService,g,f):P.qw[u]?new(0,P.qw[u])(this.logService,D,g,f):null}static \u0275fac=function(g){return new(g||l)(A.KVO(_.K),A.KVO(v.K),A.KVO(e.T),A.KVO(t.m),A.KVO(n.w))};static \u0275prov=A.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},20778(O,S,i){i.d(S,{A:()=>c});const c=function P(A){return function(_){return A(_)}}},20791(O,S,i){i.d(S,{f:()=>_});var P=i(46200),c=i(5615),A=i(12312);class _ extends P.i{logService;abilityService;name="Slime";tier=3;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"Slime Ability",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>this.executeAbility(l)}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:n,pteranodon:a}=t,l=this.owner,r=Math.max(0,l.battlesFought??0),u=Math.floor(r/2);if(u<=0)return void this.triggerTigerExecution(t);const g=2*this.level;let f=0;for(let D=0;D<u;D++){const k=new A.x(this.logService,this.abilityService,l.parent,g,g);if(!l.parent.summonPet(k,l.savedPosition,!1,l).success)break;f++}f>0&&this.logService.createLog({message:`${l.name} summoned ${f} ${g}/${g} Smaller Slime${1===f?"":"s"}.`,type:"ability",player:l.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},20802(O,S,i){i.d(S,{B:()=>_});var P=i(46200),c=i(5615),A=i(33524);class _ extends P.i{logService;abilityService;name="Giant Pangasius";tier=5;pack="Danger";attack=4;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"GiantPangasiusAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{gameApi:n,tiger:l}=t,u=this.owner;if(!n)return;let g;g=u.parent===n.player?n.playerTransformationAmount:n.opponentTransformationAmount;let f=4*this.level;if(g>0)for(let D=0;D<g;D++){let L=(0,A.ku)(u)?u.parent.getRandomPet([],!1,!0,!1,u,!0):u.parent.opponent.getRandomPet([],!1,!0,!1,u);L.pet&&u.snipePet(L.pet,f,L.random,l)}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},20827(O,S,i){i.d(S,{D:()=>a});var P=i(24111),c=i(46200),A=i(5615),_=i(22168),v=i(33127),e=i(58857),t=i(61850),n=i(79222);class a extends c.i{logService;abilityService;name="Pink Robin";tier=1;pack="Custom";attack=3;health=2;constructor(u,g,f,D,k,L,F,j,ee){super(u,g,f),this.logService=u,this.abilityService=g,this.initPet(F,D,k,L,j,ee)}initAbilities(){this.addAbility(new l(this)),super.initAbilities()}}class l extends A.T{constructor(u){super({name:"Pink Robin Ability",owner:u,triggers:["PostRemovalFaint"],abilityType:"Pet",abilitylevel:u.level,abilityFunction:g=>this.executeAbility(g)})}executeAbility(u){const{tiger:g,pteranodon:f}=u,D=this.owner,k=2*this.level,L=D.parent.petArray.filter(F=>F.alive&&F!==D&&F.tier<=k);if(L.length>0){const F=(0,e.k6)({key:"pet.pink-robin-end-turn-target",label:(0,n.I)(D,"Pink Robin end-turn target"),options:L.map(V=>({id:`${V.savedPosition+1}:${V.name}`,label:`P${V.savedPosition+1} ${V.name}`}))},()=>(0,t.hw)(0,L.length-1)),j=L[F.index],ee=v.I.getInjector().get(_.b),J=v.I.getInjector().get(P.K);ee.triggerAbility(j,"EndTurn",D),J.createLog({message:`${D.name} activated End Turn on ${j.name}.`,type:"ability",player:D.parent,randomEvent:F.randomEvent,tiger:g,pteranodon:f})}this.triggerTigerExecution(u)}copy(u){return new l(u)}}},20858(O,S,i){i.d(S,{j:()=>_});var P=i(48576),c=i(46200),A=i(5615);class _ extends c.i{logService;abilityService;name="Frost Wolf";tier=2;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;constructor(t,n){super({name:"FrostWolfAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let g=u.parent.getPetsWithEquipmentWithSillyFallback("Cold",u),f=u.parent.opponent.getFurthestUpPet(u,g),D=f.pet;if(null==D)return;const k=new P.b;k.multiplier+=this.level-1,k.baseMultiplier=k.multiplier;let L=".";2===this.level?L=" twice for double effect.":3===this.level&&(L=" thrice for triple effect."),this.logService.createLog({message:`${u.name} made ${D.name} Cold${L}`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:f.random}),D.givePetEquipment(k),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},20882(O,S,i){i.d(S,{A:()=>_});var P=i(94528),c=i(54841);const _=function A(v){return(0,c.A)((0,P.A)(v))}},21110(O,S,i){i.d(S,{w:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Yeti";tier=6;pack="Unicorn";attack=5;health=9;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"YetiAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} rolled ${4*this.level} times while freezing pet copies and tier 6 food.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},21259(O,S,i){i.d(S,{Y:()=>c});var P=i(31805);class c extends P.y{constructor(_,v){super(),this.subject=_,this.subscriber=v,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const _=this.subject,v=_.observers;if(this.subject=null,!v||0===v.length||_.isStopped||_.closed)return;const e=v.indexOf(this.subscriber);-1!==e&&v.splice(e,1)}}},21299(O,S,i){i.d(S,{J:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="White Tiger";tier=6;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"WhiteTigerAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=r.parent.nearestPetsBehind(this.level,r);for(let g of u.pets)this.logService.createLog({message:`${r.name} gave ${g.name} +3 experience.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:u.random}),g.increaseExp(3);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},21311(O,S,i){i.d(S,{F:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Cat";tier=6;pack="Turtle";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;usesThisTurn=0;constructor(e,t){super({name:"CatAbility",owner:e,triggers:["FoodEatenByFriendly","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,{trigger:n,triggerPet:a}=e;if("StartTurn"===n)return void(this.usesThisTurn=0);if(this.usesThisTurn>=2)return;this.usesThisTurn++;const l=this.level+1;this.logService.createLog({message:`${t.name} boosted ${a?.name??"a friend"}'s shop food by ${l}x.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},21499(O,S,i){i.d(S,{c:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Leech";tier=3;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"LeechAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t.petAhead;if(!n)return void this.triggerTigerExecution(e);const a=this.level,l=Math.min(a,n.health);t.dealDamage(n,a),t.increaseHealth(l),this.logService.createLog({message:`${t.name} dealt ${a} damage to ${n.name} and gained ${l} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},21545(O,S,i){i.d(S,{P:()=>t});var P=i(46200),c=i(5615),A=i(94798),_=i(58857),v=i(61850),e=i(79222);class t extends P.i{logService;abilityService;petService;name="Bay Cat";tier=6;pack="Danger";attack=7;health=5;initAbilities(){this.addAbility(new n(this,this.logService,this.petService,this.abilityService)),super.initAbilities()}constructor(l,r,u,g,f,D,k,L,F,j){super(l,r,g),this.logService=l,this.abilityService=r,this.petService=u,this.initPet(L,f,D,k,F,j)}}class n extends c.T{logService;petService;abilityService;constructor(l,r,u,g){super({name:"BayCatAbility",owner:l,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:l.level,abilityFunction:f=>{this.executeAbility(f)}}),this.logService=r,this.petService=u,this.abilityService=g}executeAbility(l){const{gameApi:r,tiger:g,pteranodon:f}=l,D=this.owner;let k=A.s.bayCat;for(let L=0;L<D.level;L++){const F=(0,_.k6)({key:"pet.bay-cat-summon",label:(0,e.I)(D,"Bay Cat summon",L+1),options:k.map(V=>({id:V,label:V}))},()=>(0,v.hw)(0,k.length-1));let ee=this.petService.createPet({name:k[F.index],attack:null,health:null,equipment:null,mana:0,exp:0},D.parent);D.parent.summonPet(ee,D.savedPosition,!1,D).success&&(this.logService.createLog({message:`${D.name} summoned ${ee.name}`,type:"ability",player:D.parent,tiger:g,pteranodon:f,randomEvent:F.randomEvent}),ee.hasAbility("StartBattle")&&(this.logService.createLog({message:`${ee.name} activated its start of battle ability`,type:"ability",player:D.parent,tiger:g,pteranodon:f}),ee.activateAbilities("StartBattle",r,"Pet")))}this.triggerTigerExecution(l)}copy(l){return new n(l,this.logService,this.petService,this.abilityService)}}},21580(O,S,i){i.d(S,{k:()=>c});var P=i(22097);class c extends P.${logService;abilityService;name="Chili";equipmentClass="skewer";power=0;originalPower=0;attackCallback=(_,v)=>{let e=v.parent.getPetAtPosition(1);null!=e&&_.snipePet(e,5*(_.equipment?.multiplier??1),!1,null,null,!0,!1,"attacked",5)};constructor(_,v){super(),this.logService=_,this.abilityService=v}}},21784(O,S,i){i.d(S,{G:()=>_});var P=i(46200),c=i(5615),A=i(43378);class _ extends P.i{logService;abilityService;name="Caterpillar";tier=4;pack="Puppy";attack=1;health=1;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"CaterpillarAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:l=>this.owner.level>=3,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l}=t,u=this.owner;let g=u.parent.getThis(u),f=g.pet;if(null==f)return;let D=new A.A(this.logService,this.abilityService,f.parent,f.health,f.attack,f.mana,f.exp,f.equipment);u.parent.transformPet(f,D),this.logService.createLog({message:`${u.name} transformed into a Butterfly.`,type:"ability",player:u.parent,tiger:l,randomEvent:g.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},21844(O,S,i){i.d(S,{z:()=>c});var P=i(22097);class c extends P.${name="Blueberry";equipmentClass="target";constructor(){super()}}},21881(O,S,i){i.d(S,{A:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Frilled Dragon";tier=1;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"FrilledDragonAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=0;for(let g of r.parent.petArray)g!==r&&g.isFaintPet()&&u++;u*=this.level,r.increaseAttack(u),r.increaseHealth(u),this.logService.createLog({message:`${r.name} gained ${u} attack and ${u} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:l}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},22097(O,S,i){i.d(S,{$:()=>c});var P=i(83028);class c{equipmentClass;name;tier;power;originalPower;uses;originalUses;callback;attackCallback;multiplier=1;multiplierMessage="";baseMultiplier=1;minimumDamage;hasRandomEvents=!1;triggers;constructor(){(0,P.L)(this),this.originalPower=this.power,this.baseMultiplier=this.multiplier}reset(){this.uses=this.originalUses}}},22120(O,S,i){i.d(S,{q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Rockhopper Penguin";tier=6;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"RockhopperPenguinAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:1,condition:()=>null==e.parent.pet0,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,l=a.parent.getThis(a),r=l.pet;if(!r)return void this.triggerTigerExecution(e);a.parent.pushPetToFront(r,!0);const u=12*this.level,g=a.parent.resolveTrumpetGainTarget(a);g.player.gainTrumpets(u,a,n,void 0,void 0,g.random),this.logService.createLog({message:`${a.name} jumped to the front and gained +${u} trumpets.`,type:"ability",player:a.parent,tiger:t,pteranodon:n,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},22167(O,S,i){i.d(S,{E:()=>v,y:()=>_});var P=i(32334),c=i(50873),A=i(5615);class _ extends c.L{name="Plastic Saw";tier=2;startOfBattle(t,n){let a=this.parent.getPetsWithEquipment("Eucalyptus"),r=this.parent.getFurthestUpPets(this.level,a).pets;if(0!=r.length)for(let u of r)this.logService.createLog({message:`${this.name} gave ${u.name} Eucalyptus.`,type:"ability",player:this.parent,puma:n}),u.givePetEquipment(new P.E)}}class v extends A.T{logService;constructor(t,n){super({name:"PlasticSawAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l}=t,r=this.owner;let u=r.parent.getPetsWithEquipment("Eucalyptus"),g=r.parent.getFurthestUpPets(this.level,u,r),f=g.pets;if(0!=f.length){for(let D of f)this.logService.createLog({message:`${r.name} gave ${D.name} Eucalyptus.`,type:"ability",player:r.parent,tiger:l,randomEvent:g.random}),D.givePetEquipment(new P.E);this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},22168(O,S,i){i.d(S,{b:()=>e});var P=i(46200),c=i(73028),A=i(53591),_=i(61850),v=i(47868);let e=(()=>{class t{static BEFORE_ATTACK_PRIORITY_BONUS=2e4;static FRIENDLY_GAINS_PERK_SELF_PRIORITY_BONUS=1e4;static CHURROS_PRIORITY_OFFSET=1e3;static MACARON_PRIORITY_OFFSET=-1e3;globalEventQueue=[];numberedTriggerCache=new WeakMap;numberedTriggerRegexCache=new Map;constructor(){}addEventToQueue(a){a.tieBreaker=(0,_.Ak)();const l=this.findEventInsertionIndex(a);this.globalEventQueue.splice(l,0,a)}findEventInsertionIndex(a){let l=0,r=this.globalEventQueue.length;for(;l<r;){const u=Math.floor((l+r)/2);this.compareEventsForQueueOrder(a,this.globalEventQueue[u])<0?r=u:l=u+1}return l}compareEventsForQueueOrder(a,l){const r=this.getAbilityPriority(a.abilityType)-this.getAbilityPriority(l.abilityType);if(0!==r)return r;const u=l.priority-a.priority;return 0!==u?u:(a.tieBreaker??0)-(l.tieBreaker??0)}clearGlobalEventQueue(){this.globalEventQueue=[]}get hasGlobalEvents(){return this.globalEventQueue.length>0}processQueue(a,l){(0,A.T5)(this.globalEventQueue,a,l)}getNextHighestPriorityEvent(){return this.globalEventQueue.shift()||null}peekNextHighestPriorityEvent(){return this.globalEventQueue.length>0?this.globalEventQueue[0]:null}executeEvent(a,l){(0,A.ET)(a,l)}getAbilityPriority(a){if("string"!=typeof a||0===a.length)return 999;const l=c.mX[a];if(null!=l)return l;const r=this.removeNumericSuffix(a);return r!==a?c.mX[r]??c.mX.CounterEvent??999:999}getPriorityNumber(a){return this.getAbilityPriority(a)}getPetEventPriority(a){let l=a.attack;return"Churros"===a.equipment?.name?l+=t.CHURROS_PRIORITY_OFFSET:"Macaron"===a.equipment?.name&&(l+=t.MACARON_PRIORITY_OFFSET),l}triggerAbility(a,l,r,u){if(a.hasTrigger(l)){let g=this.getPetEventPriority(a);("BeforeThisAttacks"===l||"BeforeFirstAttack"===l)&&(g+=t.BEFORE_ATTACK_PRIORITY_BONUS),"FriendlyGainsPerk"===l&&a===r&&(g+=t.FRIENDLY_GAINS_PERK_SELF_PRIORITY_BONUS);const f={...u??{},trigger:l,tigerSupportPet:a.petBehind(!0,!0)??null},D={priority:g,pet:a,triggerPet:r,abilityType:l,tieBreaker:(0,_.Ak)(),customParams:f};this.addEventToQueue(D)}}simulatePostRemovalFriendFaintsCounters(a,l){if(!a||l<=0)return;const r=this.getNumberedTriggersForPet(a,"PostRemovalFriendFaints");for(let u=0;u<l;u++)this.handleNumberedCounterTriggers(a,void 0,void 0,r)}handleCounterTriggers(a,l,r,u){for(const g of u)a.hasTrigger(g.trigger)&&(a.abilityCounter++,a.abilityCounter%g.modulo===0&&this.triggerAbility(a,g.trigger,l,r))}getTriggerModulo(a){const l=this.getNumericSuffix(a);return l?parseInt(l,10):null}handleNumberedCounterTriggers(a,l,r,u){const g=[];for(const f of u){const D=this.getTriggerModulo(f);null!=D&&g.push({trigger:f,modulo:D})}0!==g.length&&this.handleCounterTriggers(a,l,r,g)}getNumberedTriggersForPet(a,l){const r=a.abilityList;let u=this.numberedTriggerCache.get(a);(!u||u.listRef!==r||u.listLength!==r.length)&&(u={listRef:r,listLength:r.length,prefixMap:new Map},this.numberedTriggerCache.set(a,u));const g=u.prefixMap.get(l);if(g)return g;const f=new Set;let D=this.numberedTriggerRegexCache.get(l);D||(D=new RegExp(`^${l}\\d+$`),this.numberedTriggerRegexCache.set(l,D));for(const L of r)for(const F of L.triggers??[])D.test(F)&&f.add(F);const k=Array.from(f);return u.prefixMap.set(l,k),k}getNumericSuffix(a){if("string"!=typeof a||0===a.length)return null;const l=a.match(/(\d+)$/);return l?l[1]:null}removeNumericSuffix(a){return"string"!=typeof a||0===a.length?"":this.getNumericSuffix(a)?a.replace(/\d+$/,""):a}getTeam(a){const r=(a instanceof P.i?a.parent:a)?.petArray;return Array.isArray(r)?r:[]}static \u0275fac=function(l){return new(l||t)};static \u0275prov=v.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},22266(O,S,i){i.d(S,{T:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pug";tier=3;pack="Star";attack=5;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PugAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.nearestPetsAhead(1,r);if(0===u.pets.length)return;let g=u.pets[0],f=this.level;this.logService.createLog({message:`${r.name} gave ${g.name} ${f} exp.`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random}),g.increaseExp(f),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},22312(O,S,i){i.d(S,{d:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Okapi";tier=3;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;usesThisTurn=0;pendingAttack=0;pendingHealth=0;maxUsesPerTurn=5;constructor(e,t,n){super({name:"OkapiAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return(this.pendingAttack||this.pendingHealth)&&(t.increaseAttack(-this.pendingAttack),t.increaseHealth(-this.pendingHealth)),this.pendingAttack=0,this.pendingHealth=0,this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const n=this.level;t.increaseAttack(n),t.increaseHealth(n),this.pendingAttack+=n,this.pendingHealth+=n,this.usesThisTurn++,this.logService.createLog({message:`${t.name} gained +${n}/+${n} until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},22382(O,S,i){i.d(S,{s:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Bulldog";tier=1;pack="Golden";attack=1;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BulldogAbility",owner:e,triggers:["ThisFirstAttack"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>this.owner.timesAttacked<=1,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=2*this.level,g=r.parent.getThis(r),f=g.pet;null!=f&&(f.increaseAttack(u),this.logService.createLog({message:`${r.name} gained +${u} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},22410(O,S,i){i.d(S,{W:()=>c});var P=i(22097);class c extends P.${name="Cheese";equipmentClass="attack";uses=1;originalUses=1}},22426(O,S,i){i.d(S,{z:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Smallest Slug";tier=1;pack="Golden";hidden=!0;health=1;attack=1;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},22528(O,S,i){i.d(S,{D:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Moby Dick";tier=1;pack="Custom";hidden=!0;attack=8;health=8;constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"MobyDickAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}get triggers(){const e=["StartBattle"];return this.owner.level>1&&e.push("ThisSummoned"),e}set triggers(e){this._triggers=e}executeAbility(e){this.logService.createLog({message:`${this.owner.name} removed itself.`,type:"ability",player:this.owner.parent}),this.owner.removed=!0;const t=this.owner.parent;t&&(t.pet0===this.owner&&(t.pet0=null),t.pet1===this.owner&&(t.pet1=null),t.pet2===this.owner&&(t.pet2=null),t.pet3===this.owner&&(t.pet3=null),t.pet4===this.owner&&(t.pet4=null)),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},22729(O,S,i){i.d(S,{H:()=>v});var P=i(77856),c=i(29916),A=i(42704),_=i(33524);class v{asPlayerLike(){return this}getRandomPet(t,n,a,l,r,u){return(0,P.dK)(this.asPlayerLike(),t,n,a,l,r,u)}getRandomPets(t,n,a,l,r,u){return(0,P.oc)(this.asPlayerLike(),t,n,a,l,r,u)}getRandomEnemyPetsWithSillyFallback(t,n,a,l,r){return(0,P.Ff)(this.asPlayerLike(),t,n,a,l,r)}getPetsWithEquipmentWithSillyFallback(t,n){return(0,P.IR)(this.asPlayerLike(),t,n)}getRandomLivingPets(t){return(0,P.BR)(this.asPlayerLike(),t)}getAll(t,n,a){return(0,A.UK)(this.asPlayerLike(),t,n,a)}getPetsWithEquipment(t){return(0,_.Rr)(this.asPlayerLike(),t)}getPetsWithoutEquipment(t){return(0,_.XT)(this.asPlayerLike(),t)}getPetAtPosition(t){return(0,_.Ye)(this.asPlayerLike(),t)}getMiddleFriend(t){return(0,A.O3)(this.asPlayerLike(),t)}getLastPet(t,n){return(0,A.Oc)(this.asPlayerLike(),t,n)}getLastPets(t,n,a){return(0,A.Nq)(this.asPlayerLike(),t,n,a)}getHighestHealthPet(t,n){return(0,c.m8)(this.asPlayerLike(),t,n)}getHighestAttackPet(t,n){return(0,c.il)(this.asPlayerLike(),t,n)}getHighestAttackPets(t,n,a){return(0,c.v)(this.asPlayerLike(),t,n,a)}getLowestAttackPets(t,n,a){return(0,c.nE)(this.asPlayerLike(),t,n,a)}getLowestAttackPet(t,n){return(0,c.SB)(this.asPlayerLike(),t,n)}getLowestHealthPet(t,n){return(0,c._k)(this.asPlayerLike(),t,n)}getLowestHealthPets(t,n,a){return(0,c.Pl)(this.asPlayerLike(),t,n,a)}getHighestHealthPets(t,n,a){return(0,c.H5)(this.asPlayerLike(),t,n,a)}getHighestTierPets(t,n,a){return(0,c.XS)(this.asPlayerLike(),t,n,a)}getTierXOrLowerPet(t,n,a){return(0,c.oy)(this.asPlayerLike(),t,n,a)}get furthestUpPet(){for(const t of this.petArray)if(t.alive)return t;return null}getFurthestUpPet(t,n){return(0,A.gK)(this.asPlayerLike(),t,n)}getFurthestUpPets(t,n,a){return(0,A.xF)(this.asPlayerLike(),t,n,a)}nearestPetsBehind(t,n,a){return(0,A.Jd)(this.asPlayerLike(),t,n,a)}getThis(t){return(0,A.Rh)(this.asPlayerLike(),t)}getSpecificPet(t,n){return(0,A._w)(this.asPlayerLike(),t,n)}nearestPetsAhead(t,n,a,l,r){return(0,A.MR)(this.asPlayerLike(),t,n,a,l,r)}getStrongestPet(t){return(0,c.xk)(this.asPlayerLike(),t)}getManticoreMult(){return(0,_.lx)(this.asPlayerLike())}getPetsWithinXSpaces(t,n){return(0,A.vn)(this.asPlayerLike(),t,n)}getOppositeEnemyPet(t){return(0,A.p5)(this.asPlayerLike(),t)}getRandomLivingPet(t){return(0,P.WB)(this.asPlayerLike(),t)}}},22806(O,S,i){i.d(S,{d:()=>_});var P=i(46200),c=i(5615),A=i(23865);class _ extends P.i{logService;abilityService;name="White-Bellied Heron";tier=2;pack="Danger";attack=4;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"WhiteBelliedHeronAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l}=t,u=this.owner;let g=u.parent.nearestPetsAhead(1,u);if(0==g.pets.length)return;let f=g.pets[0],D=new A.i;D.multiplier+=this.level-1,f.givePetEquipment(D);let k=".";2===this.level?k=" twice for double effect.":3===this.level&&(k=" thrice for triple effect."),this.logService.createLog({message:`${u.name} made ${f.name} Meat Bone${k}`,type:"ability",player:u.parent,tiger:l,randomEvent:g.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},22931(O,S,i){i.d(S,{v:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Weevil";tier=1;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"WeevilAbility",owner:t,triggers:["FoodEatenByFriendly"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:3,precondition:a=>{const{triggerPet:l}=a,g=(0,A.lK)(this.owner,l).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:n,tiger:a,pteranodon:l}=t,r=this.owner,u=(0,A.lK)(r,n),g=u.pet;null!=g&&(g.increaseAttack(this.level),this.logService.createLog({message:`${r.name} gave ${g.name} +${this.level} attack.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:u.random}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},23201(O,S,i){i.d(S,{R:()=>A,r:()=>_});var P=i(50873),c=i(5615);class A extends P.L{name="Tennis Ball";tier=2;startOfBattle(e,t){let n=this.parent.opponent.getRandomPets(this.level,[],!1,!0),a=n.pets;if(0!=a.length)for(let l of a)this.toyService.snipePet(l,3,this.parent,this.name,n.random,t)}}class _ extends c.T{logService;constructor(e,t){super({name:"TennisBallAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,[],!1,!0,r),g=u.pets;if(0!=g.length){for(let f of g)r.snipePet(f,3,u.random,a);this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},23238(O,S,i){i.d(S,{M:()=>v});var P=i(46200),c=i(5615),A=i(17385),_=i(1152);class v extends P.i{logService;abilityService;name="Real Velociraptor";tier=6;pack="Star";attack=6;health=5;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends c.T{logService;friendAppliedThisTurn=new Set;reset(){this.maxUses=this.level,this.friendAppliedThisTurn=new Set,super.reset()}constructor(n,a){super({name:"RealVelociraptorAbility",owner:n,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,precondition:l=>{const{triggerPet:r}=l,u=this.owner;if(!r||!r.lastLostEquipment||!(0,_.Re)(u,r,{excludeOwner:!0}))return!1;const f=(0,_.lK)(u,r).pet;return!!f&&!this.friendAppliedThisTurn.has(f)},abilityFunction:l=>{this.executeAbility(l)}}),this.logService=a}executeAbility(n){const{triggerPet:l,tiger:r}=n,g=this.owner;let f=this.createEquipmentInstance(l.lastLostEquipment);if(f){let D=(0,_.lK)(g,l),k=D.pet;if(null==k)return;k.givePetEquipment(f),this.logService.createLog({message:`${g.name} returned ${f.name} to ${k.name}.`,type:"ability",player:g.parent,tiger:r,randomEvent:D.random}),this.friendAppliedThisTurn.add(k)}this.triggerTigerExecution(n)}createEquipmentInstance(n){return n?(0,A.e)(n):null}copy(n){return new e(n,this.logService)}}},23296(O,S,i){i.d(S,{m:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Baguette";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"BaguetteAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let a=t.parent.opponent.getPetsWithoutEquipment("Perk"),l=t.parent.opponent.getFurthestUpPet(t,a).pet;if(null==l)return;if(null!=l.equipment){let r=l.equipment.name;l.removePerk(),this.logService.createLog({message:`${t.name} removed ${r} from ${l.name} (Baguette)${n>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent})}}t.removePerk()}}},23360(O,S,i){i.d(S,{A:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Dragon";tier=6;pack="Turtle";attack=3;health=8;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"DragonAbility",owner:e,triggers:["Tier1FriendBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:4,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level,a=t.parent.petArray.filter(l=>l&&l.alive);if(0!==a.length){for(const l of a)l.increaseAttack(n),l.increaseHealth(n);this.logService.createLog({message:`${t.name} gave friends +${n} attack and +${n} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService,this.abilityService)}}},23393(O,S,i){i.d(S,{q:()=>A});var P=i(47868),c=i(22168);let A=(()=>{class _{abilityQueueService;constructor(e){this.abilityQueueService=e}triggerBeforeAttackEvents(e){const t=e?.parent,n=t&&Array.isArray(t.petArray)?t.petArray:[];for(let a of n)a.hasTrigger("BeforeFriendlyAttack")&&this.abilityQueueService.triggerAbility(a,"BeforeFriendlyAttack",e,void 0),a==e?(a.hasTrigger("BeforeThisAttacks")&&this.abilityQueueService.triggerAbility(a,"BeforeThisAttacks"),a.hasTrigger("BeforeFirstAttack")&&this.abilityQueueService.triggerAbility(a,"BeforeFirstAttack")):a.hasTrigger("BeforeFriendAttacks")&&this.abilityQueueService.triggerAbility(a,"BeforeFriendAttacks",e),(a==e.petAhead||a==e.petBehind())&&a.hasTrigger("BeforeAdjacentFriendAttacked")&&this.abilityQueueService.triggerAbility(a,"BeforeAdjacentFriendAttacked",e)}triggerAfterAttackEvents(e){if(!e)return;const t=this.abilityQueueService.getTeam(e);for(let a of t)this.abilityQueueService.handleNumberedCounterTriggers(a,void 0,void 0,this.abilityQueueService.getNumberedTriggersForPet(a,"FriendlyAttacked")),a.hasTrigger("FriendlyAttacked")&&this.abilityQueueService.triggerAbility(a,"FriendlyAttacked"),a.hasTrigger("AnyoneAttack")&&this.abilityQueueService.triggerAbility(a,"AnyoneAttack",e),a==e?(a.hasTrigger("ThisAttacked")&&this.abilityQueueService.triggerAbility(a,"ThisAttacked"),a.hasTrigger("ThisFirstAttack")&&this.abilityQueueService.triggerAbility(a,"ThisFirstAttack")):(a.hasTrigger("FriendAttacked")&&this.abilityQueueService.triggerAbility(a,"FriendAttacked",e),this.abilityQueueService.handleNumberedCounterTriggers(a,void 0,void 0,this.abilityQueueService.getNumberedTriggersForPet(a,"FriendAttacked"))),(a==e.petAhead||a==e.petBehind())&&a.hasTrigger("AdjacentFriendAttacked")&&this.abilityQueueService.triggerAbility(a,"AdjacentFriendAttacked",e),a==e.petBehind(null,!0)&&a.hasTrigger("FriendAheadAttacked")&&this.abilityQueueService.triggerAbility(a,"FriendAheadAttacked",e);const n=this.abilityQueueService.getTeam(e.parent?.opponent);if(n.length)for(let a of n)a.hasTrigger("AnyoneAttack")&&this.abilityQueueService.triggerAbility(a,"AnyoneAttack",e),a.hasTrigger("EnemyAttacked")&&this.abilityQueueService.triggerAbility(a,"EnemyAttacked"),this.abilityQueueService.handleNumberedCounterTriggers(a,void 0,void 0,this.abilityQueueService.getNumberedTriggersForPet(a,"EnemyAttacked"))}static \u0275fac=function(t){return new(t||_)(P.KVO(c.b))};static \u0275prov=P.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},23407(O,S,i){i.d(S,{P:()=>_});var P=i(46200),c=i(5615),A=i(51838);class _ extends P.i{logService;abilityService;name="Tree";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Tree Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,l=this.owner,r=[6,12,18],u=r[Math.min(this.level-1,r.length-1)];l.attack<=u&&(l.givePetEquipment(new A.K),this.logService.createLog({message:`${l.name} gained Coconut perk for meeting the ${u} attack threshold.`,type:"ability",player:l.parent,tiger:n,pteranodon:a})),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},23475(O,S,i){i.d(S,{_:()=>_});var P=i(46200),c=i(5615),A=i(14908);class _ extends P.i{logService;abilityService;name="Chinchilla";tier=1;pack="Puppy";attack=2;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"ChinchillaAbility",owner:t,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,a=this.level,r=2*a,u=new A.r(this.logService,this.abilityService,n.parent,r,r,null,this.minExpForLevel),g=n.parent.summonPet(u,n.savedPosition,!1,n);g.success&&this.logService.createLog({message:`${n.name} summoned a ${r}/${r} Loyal Chinchilla (level ${a}).`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:g.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},23508(O,S,i){i.d(S,{q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Quetzalcoatlus";tier=3;pack="Custom";attack=4;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Quetzalcoatlus Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:n,pteranodon:a}=e,l=this.owner;if(!t||!t.alive)return void this.triggerTigerExecution(e);const r=this.level,u=t.parent.petArray.filter(g=>g.alive);for(const g of u)g.increaseAttack(r),g.increaseHealth(r);this.logService.createLog({message:`${l.name} (Faint) gave +${r}/+${r} to ${t.name} and its friends.`,type:"ability",player:l.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},23586(O,S,i){i.d(S,{C:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Silkmoth";tier=1;pack="Golden";attack=3;health=1;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"SilkmothAbility",owner:t,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,precondition:a=>{const{triggerPet:l}=a,g=(0,A.lK)(this.owner,l).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:l}=t,u=this.owner;let g=(0,A.lK)(u,a),f=g.pet;if(null==f)return;let D=this.level;f.increaseHealth(D),this.logService.createLog({message:`${u.name} gave ${f.name} ${D} health.`,type:"ability",player:u.parent,tiger:l,randomEvent:g.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},23623(O,S,i){i.d(S,{W:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Tatzelwurm";tier=4;pack="Unicorn";attack=1;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TatzelwurmAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let u=2*this.level;n&&3==n.level&&(u*=2);let g=r.parent.opponent.getFurthestUpPet(r);null!=g.pet&&(r.snipePet(g.pet,u,g.random,a),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},23638(O,S,i){function P(_,v,e,t,n={}){_.createLog({message:t,type:"ability",player:v.parent,tiger:e.tiger,pteranodon:e.pteranodon,...n})}function c(_){P(_.logService,_.owner,_.context,_.message,_.extras),_.owner.parent.transformPet(_.fromPet,_.toPet)}function A(_){_.amount<=0||(P(_.logService,_.owner,_.context,_.message??`${_.owner.name} gave ${_.target.name} +${_.amount} experience.`,_.extras),_.target.increaseExp(_.amount))}i.d(S,{Oe:()=>A,c2:()=>c})},23770(O,S,i){i.d(S,{D:()=>c});var P=i(22097);class c extends P.${name="Corncob";tier=1;equipmentClass="shop";effectMultiplier=1}},23780(O,S,i){i.d(S,{E:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Gibbon";tier=1;pack="Custom";health=2;attack=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"GibbonAbility",owner:e,triggers:["ShopUpgrade"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=this.level,g=r.parent.nearestPetsBehind(2,r);if(0!==g.pets.length){for(let f of g.pets)f.increaseHealth(u),this.logService.createLog({message:`${r.name} gave ${f.name} ${u} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:g.random});this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService,this.abilityService)}}},23790(O,S,i){i.d(S,{K:()=>l});var P=i(46200),c=i(5615),A=i(90966),_=i(33127),v=i(61850),e=i(1152),t=i(17385),n=i(58857),a=i(79222);class l extends P.i{logService;abilityService;name="Leaf Gecko";tier=4;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new r(this,this.logService)),super.initAbilities()}constructor(g,f,D,k,L,F,j,ee,J){super(g,f,D),this.logService=g,this.abilityService=f,this.initPet(j,k,L,F,ee,J)}}class r extends c.T{logService;constructor(g,f){super({name:"Leaf Gecko Ability",owner:g,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:g.level,abilityFunction:D=>this.executeAbility(D)}),this.logService=f}executeAbility(g){const{tiger:f,pteranodon:D}=g,k=this.owner,L=_.I.getInjector().get(A.m),F=Array.from(L.getInstanceOfAllAilments().keys()),j=[...k.parent.petArray,...k.parent.opponent.petArray].filter(Ee=>Ee?.alive);if(0===F.length||0===j.length)return void this.triggerTigerExecution(g);const ee=3*this.level;let J=0;const V=[];let ie=0;const oe=5*ee;let ce=!1;for(;J<ee&&ie<oe;){const Ee=(0,n.k6)({key:"pet.leaf-gecko-target",label:(0,a.I)(k,"Leaf Gecko cursed target",ie+1),options:j.map(Ue=>({id:`${Ue.parent?.isOpponent?"O":"P"}:${Ue.savedPosition+1}:${Ue.name}`,label:`${Ue.parent?.isOpponent?"O":"P"}${Ue.savedPosition+1} ${Ue.name}`}))},()=>(0,v.hw)(0,j.length-1));ce=ce||Ee.randomEvent;const Te=j[Ee.index];if(!Te){ie++;continue}const ke=F.filter(Ue=>(0,e.zo)(Te,Ue));if(0===ke.length){ie++;continue}const de=(0,n.k6)({key:"pet.leaf-gecko-ailment",label:(0,a.I)(k,`Leaf Gecko ailment for ${Te.name}`,ie+1),options:ke.map(Ue=>({id:Ue,label:Ue}))},()=>(0,v.hw)(0,ke.length-1));ce=ce||de.randomEvent;const Se=ke[de.index];if(!Se){ie++;continue}const Be=L.getInstanceOfAllAilments().get(Se);if(!Be){ie++;continue}const Ne=(0,t.e)(Be);Ne?(Te.parent!==k.parent&&(Ne.multiplier=2,Ne.multiplierMessage=" x2 (Leaf Gecko)"),Te.givePetEquipment(Ne),Te.equipment?.name===Se&&Te.equipment?.equipmentClass?.startsWith("ailment")&&(J++,V.push(`${Te.name} (${Se}${Te.parent!==k.parent?" x2":""})`)),ie++):ie++}const ve=J>0?`${k.name} cursed ${J} pet${1===J?"":"s"}: ${V.join(", ")}.`:`${k.name} could not apply any random ailments.`;(0,e.rv)(this.logService,k,ve,f,D,{randomEvent:ce}),this.triggerTigerExecution(g)}copy(g){return new r(g,this.logService)}}},23828(O,S,i){i.d(S,{A:()=>v});var P=i(20882),c=i(96396),A=i(43744);const v=function _(e){return((0,A.A)(e)?P.A:c.A)(e)}},23865(O,S,i){i.d(S,{i:()=>c});var P=i(22097);class c extends P.${name="Meat Bone";equipmentClass="attack";power=3;originalPower=3}},24101(O,S,i){i.d(S,{r:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;name="Goat";tier=5;pack="Puppy";attack=4;health=6;constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}},24111(O,S,i){i.d(S,{K:()=>t});var P=i(62223),c=i(58212),A=i(15082),_=i(38762),v=i(78311),e=i(47868);let t=(()=>{class n{logs=[];petNameRegex;toyNameRegex;equipmentNameRegex;inlineNameRegex;inlineNameTypeMap;ailmentNames;enabled=!0;deferDecorations=!1;showTriggerNamesInLogs=!1;debugSummonBoardStateLogs=!1;constructor(){const l=(0,P.bf)(),r=(0,P.Eo)(),u=(0,P.oI)();this.petNameRegex=(0,A.NL)(l),this.toyNameRegex=(0,A.NL)(r),this.equipmentNameRegex=(0,A.NL)(u),this.inlineNameTypeMap=(0,A.Fq)(l,r,u),this.inlineNameRegex=(0,A.IF)(l,r,u),this.ailmentNames=new Set(Object.values(c.U).flat().filter(Boolean))}setEnabled(l){this.enabled=!!l,this.enabled||(this.logs=[])}isEnabled(){return this.enabled}setDeferDecorations(l){this.deferDecorations=!!l}isDeferDecorations(){return this.deferDecorations}setShowTriggerNamesInLogs(l){this.showTriggerNamesInLogs=!!l}isShowTriggerNamesInLogs(){return this.showTriggerNamesInLogs}setDebugSummonBoardStateLogs(l){this.debugSummonBoardStateLogs=!!l}isDebugSummonBoardStateLogs(){return this.debugSummonBoardStateLogs}decorateLogIfNeeded(l){if(!l||l.decorated||!l.rawMessage)return;const r=this.decorateMessageWithNames(l.rawMessage,l.sourcePet,l.targetPet,l.sourceIndex,l.targetIndex);l.message=(0,A.N7)(r,this.inlineNameRegex,this.inlineNameTypeMap,this.ailmentNames),l.decorated=!0}createLog(l){if(!this.enabled)return;l.message?.startsWith("Phase ")&&(l.bold=!0),this.resolveLogMetadata(l);let r=this.decorateLogMessage(l);r=this.appendTagSuffixes(r,l),this.persistDecoratedMessage(l,r);const u=this.logs[this.logs.length-1],g=this.shouldAppendSummonBoardState(l);this.tryMergeAttackHealthLogs(u,l)||(this.shouldCollapseLog(u,l)?u.count=(u.count??1)+1:this.logs.push(l)),g&&this.appendSummonBoardStateLog(l)}resolveLogMetadata(l){if(!l.sourcePet&&l.player&&l.message){const r=l.player.petArray.filter(u=>u&&l.message.startsWith(u.name));1===r.length&&(l.sourcePet=r[0])}"attack"===l.type&&l.player&&l.message&&this.resolveAttackPetsFromMessage(l),!l.randomEventReason&&!0===l.randomEvent&&(l.randomEventReason="true-random"),l.player&&l.message&&this.resolveSourceTargetFromMessage(l),l.sourcePet&&null==l.sourceIndex&&(l.sourceIndex=this.getFrontIndex(l.sourcePet)??void 0),l.targetPet&&null==l.targetIndex&&(l.targetIndex=this.getFrontIndex(l.targetPet)??void 0)}decorateLogMessage(l){const r=l.message??"";return this.deferDecorations?r:this.decorateMessageWithNames(r,l.sourcePet,l.targetPet,l.sourceIndex,l.targetIndex)}appendTagSuffixes(l,r){let u=l;return r.tiger&&(u+=" (Tiger)"),r.puma&&(u+=" (Puma)"),r.pteranodon&&(u+=" (Pteranodon)"),null!=r.pantherMultiplier&&r.pantherMultiplier>1&&(u+=` x${r.pantherMultiplier} (Panther)`),u}persistDecoratedMessage(l,r){if(r){if(this.deferDecorations)return l.rawMessage=r,l.message=r,void(l.decorated=!1);l.message=(0,A.N7)(r,this.inlineNameRegex,this.inlineNameTypeMap,this.ailmentNames),l.decorated=!0}}shouldCollapseLog(l,r){if(!l)return!1;const u=l.player===r.player;return l.message?.trim()===r.message?.trim()&&u&&l.randomEvent===r.randomEvent&&l.randomEventReason===r.randomEventReason&&(!(null!=r.sourcePet||null!=r.targetPet||null!=r.sourceIndex||null!=r.targetIndex)||l.sourcePet===r.sourcePet&&l.sourceIndex===r.sourceIndex&&l.targetPet===r.targetPet&&l.targetIndex===r.targetIndex)}getLogs(){return this.logs}reset(){this.logs=[]}getFrontIndex(l){const r=l?.parent;return r?r.pet0===l?1:r.pet1===l?2:r.pet2===l?3:r.pet3===l?4:r.pet4===l?5:null:null}decorateMessage(l,r){const u=this.getFrontIndex(r);return null==u?l:this.replaceFirst(l,r.name,`${r.parent?.isOpponent?"O":"P"}${u} ${r.name}`)}decorateAttackMessage(l,r,u,g,f){const D=g??this.getFrontIndex(r),k=f??this.getFrontIndex(u);if(null==D||null==k)return l;const j=`${r.parent?.isOpponent?"O":"P"}${D} ${r.name}`,ee=`${u.parent?.isOpponent?"O":"P"}${k} ${u.name}`,J="___SOURCE_HOLDER___",V="___TARGET_HOLDER___";let ie=this.replaceFirst(l,r.name,J);return ie=this.replaceFirst(ie,u.name,V),ie=ie.replace(J,j),ie=ie.replace(V,ee),ie}decorateMessageWithNames(l,r,u,g,f){return l?r&&u?this.decorateAttackMessage(l,r,u,g,f):r?null!=g?this.replaceFirst(l,r.name,`${r.parent?.isOpponent?"O":"P"}${g} ${r.name}`):this.decorateMessage(l,r):l:l}replaceFirst(l,r,u){const g=l.indexOf(r);return-1===g?l:l.slice(0,g)+u+l.slice(g+r.length)}resolveAttackPetsFromMessage(l){if(!l?.message||!l.player||l.sourcePet&&l.targetPet)return;const r=l.message,u=/^(.+?)\s+sniped\s+(.+?)\s+for\s+/i.exec(r),g=/^(.+?)\s+(?:jump-)?attacks?\s+(.+?)\s+for\s+/i.exec(r),f=u??g;if(!f)return;const D=f[1].trim(),k=f[2].trim(),L=l.player.petArray??[],F=l.player.opponent?.petArray??[];l.sourcePet||(l.sourcePet=L.find(j=>j?.name===D)??null),l.targetPet||(l.targetPet=F.find(j=>j?.name===k)??L.find(j=>j?.name===k)??null)}isAilmentName(l){return this.ailmentNames.has(l)}resolveSourceTargetFromMessage(l){if(l.sourcePet&&l.targetPet)return;const r=l.message;if(!r)return;const u=this.extractPetNames(r);if(u.length<2)return;const g=l.player?.petArray??[],f=l.player?.opponent?.petArray??[],D=(k,L,F)=>k.find(j=>j?.name===L&&j!==F)??null;l.sourcePet||(l.sourcePet=D(g,u[0])??D(f,u[0])),l.targetPet||(l.targetPet=u[1]===u[0]?l.sourcePet&&r.startsWith(l.sourcePet.name)&&l.sourcePet?l.sourcePet:D(g,u[1],l.sourcePet)??D(f,u[1],l.sourcePet)??l.sourcePet??null:D(f,u[1])??D(g,u[1]))}extractPetNames(l){return this.petNameRegex&&l?l.match(this.petNameRegex)??[]:[]}tryMergeAttackHealthLogs(l,r){const u=(0,_.c)(l,r);if(!u)return!1;if(this.deferDecorations)l.rawMessage=u,l.message=u,l.decorated=!1;else{const g=this.decorateMessageWithNames(u,l.sourcePet,l.targetPet,l.sourceIndex,l.targetIndex);l.message=(0,A.N7)(g,this.inlineNameRegex,this.inlineNameTypeMap,this.ailmentNames),l.decorated=!0}return!0}shouldAppendSummonBoardState(l){return!!(this.debugSummonBoardStateLogs&&l?.message&&"board"!==l.type&&l.player&&l.player.opponent)&&/\b(summoned|spawned)\b|^No room to spawn\b/i.test(l.message)}appendSummonBoardStateLog(l){const r=l.player,u=l.player?.opponent;!r||!u||this.logs.push({message:this.buildPlainBoardStateMessage(r,u),type:"board",player:r})}buildPlainBoardStateMessage(l,r){return`${[l.pet4,l.pet3,l.pet2,l.pet1,l.pet0].map(f=>this.renderPlainPetText(f)).join(" ")} | ${[r.pet0,r.pet1,r.pet2,r.pet3,r.pet4].map(f=>this.renderPlainPetText(f)).join(" ")}`}renderPlainPetText(l){if(!l)return"___ (-/-)";const r=this.getFrontIndex(l);return`${null!=r?`${l.parent?.isOpponent?"O":"P"}${r}`:"P?"} ${l.name}(${l.attack}/${l.health}/${l.exp}xp)`}printState(l,r,u){if(!this.enabled)return;u&&this.createLog({message:u,type:"board"});const g=(0,v.n)(l,r,f=>this.getFrontIndex(f),f=>this.isAilmentName(f));this.createLog({message:g,type:"board"})}static \u0275fac=function(r){return new(r||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()},24207(O,S,i){i.d(S,{C:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Young Phoenix";tier=1;pack="Unicorn";hidden=!0;health=6;attack=6;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},24233(O,S,i){i.d(S,{n:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Velociraptor";tier=6;pack="Star";attack=3;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"VelociraptorAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u;for(let f=r.parent.petArray.indexOf(r)-1;f>=0;f--){let D=r.parent.petArray[f];if(D.alive&&D.equipment&&"Strawberry"===D.equipment.name){u=D;break}}if(u){if(u&&u.equipment&&"Strawberry"===u.equipment.name){u.removePerk(),this.logService.createLog({message:`${r.name} removed Strawberry from ${u.name}`,type:"ability",player:r.parent,tiger:a});let f=2*this.level,D=3*this.level,k=r.parent.getAll(!1,r,!0),L=k.pets;for(let F of L)F.increaseAttack(f),F.increaseHealth(D),this.logService.createLog({message:`${r.name} gave ${F.name} +${f} attack and +${D} health`,type:"ability",player:r.parent,tiger:a,randomEvent:k.random})}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},24277(O,S,i){i.d(S,{a:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Werewolf";tier=5;pack="Unicorn";attack=7;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"WerewolfAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n}=e,a=this.owner;if((t?.turnNumber??1)%2!=0&&t?.mana){const g=6*this.level;let D=a.parent.getThis(a).pet;if(null==D)return;D.increaseMana(g),this.logService.createLog({message:`${a.name} gave ${D.name} ${g} mana.`,type:"ability",player:a.parent,tiger:n})}else{let f=a.parent.getThis(a).pet;if(null==f)return;let D=.5*this.level;const k=Math.floor(a.attack*D),L=Math.floor(a.health*D);let F=Math.min(50,a.attack+k),j=Math.min(50,a.health+L);this.logService.createLog({message:`${a.name} increased ${f.name}'s stats by ${100*D}% (${F}/${j}).`,type:"ability",player:a.parent,tiger:n}),f.increaseAttack(k),f.increaseHealth(L)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},24287(O,S,i){i.d(S,{y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Akhlut";tier=6;pack="Custom";attack=5;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Akhlut Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;if(t.mana<2)return;t.mana=Math.max(t.mana-2,0);const n=t.parent.nearestPetsBehind(1,t,[t]),a=n.pets[0];if(!a)return;const l=3*this.level;a.increaseAttack(l),a.increaseHealth(l),this.logService.createLog({message:`${t.name} spent 2 mana to give ${a.name} +${l}/+${l}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},24609(O,S,i){i.d(S,{R:()=>v});var P=i(46200),c=i(5615),A=i(32804),_=i(83991);class v extends P.i{logService;abilityService;name="Pygmy Hog";tier=2;pack="Danger";attack=1;health=2;initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends c.T{logService;abilityService;constructor(n,a,l){super({name:"PygmyHogAbility",owner:n,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=a,this.abilityService=l}executeAbility(n){const{tiger:r}=n,g=this.owner;let f={health:Math.max(5*this.level,g.health),attack:Math.max(5*this.level,g.attack)},D=new A._(this.logService,this.abilityService,g.parent,f.health,f.attack,g.mana,g.exp,new _.T);this.logService.createLog({message:`${g.name} transformed into ${D.name} (${f.attack}/${f.health}) with Garlic!`,type:"ability",player:g.parent,tiger:r}),g.parent.transformPet(g,D),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},24990(O,S,i){i.d(S,{s:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Araripe Manakin";tier=2;pack="Danger";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AraripeManakinAbility",owner:e,triggers:["FriendTransformed","FriendJumped"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.getThis(r),g=u.pet;if(!g)return;let f=3*this.level;g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} health`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},25047(O,S,i){i.d(S,{$:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Sleipnir";tier=6;pack="Unicorn";attack=8;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SleipnirAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=Math.floor(r.attack/2),g=r.parent.getFurthestUpPets(this.level,[r],r),f=g.pets;if(0!=f.length){for(let D of f)null!=D&&(this.logService.createLog({message:`${r.name} gave ${D.name} ${u} mana.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),D.increaseMana(u));this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},25208(O,S,i){i.d(S,{p:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Otter";tier=1;pack="Turtle";health=4;attack=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"OtterAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,a=t.parent.getRandomPets(this.level,[t],!1,!1,t);if(0!==a.pets.length){for(const l of a.pets)l.increaseHealth(1);this.logService.createLog({message:`${t.name} gave ${a.pets.map(l=>l.name).join(", ")} +1 health.`,type:"ability",player:t.parent,randomEvent:a.random,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},25240(O,S,i){i.d(S,{F:()=>_});var P=i(56518),c=i(46200),A=i(5615);class _ extends c.i{logService;abilityService;name="Hummingbird";tier=1;pack="Star";attack=3;health=1;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"HummingbirdAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l}=t,u=this.owner;let g=u.parent.getPetsWithEquipment("Strawberry"),f=u.parent.nearestPetsBehind(this.level,u,g);if(0!==f.pets.length){for(let D of f.pets)D.givePetEquipment(new P.q(this.logService)),this.logService.createLog({message:`${u.name} gave ${D.name} strawberry.`,type:"ability",player:u.parent,tiger:l,randomEvent:f.random});this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService,this.abilityService)}}},25253(O,S,i){i.d(S,{X:()=>P});const P=c=>c&&"number"==typeof c.length&&"function"!=typeof c},25321(O,S,i){i.d(S,{D:()=>v,H:()=>_});var P=i(51838),c=i(50873),A=i(5615);class _ extends c.L{name="Air Palm Tree";tier=6;startOfBattle(t,n){let a=this.parent.getHighestAttackPets(this.level,this.parent.getPetsWithEquipment("Coconut")),l=a.pets;if(0!=l.length)for(let r of l)r.givePetEquipment(new P.K),this.logService.createLog({message:`${this.name} gave ${r.name} Coconut.`,type:"ability",player:this.parent,puma:n,randomEvent:a.random})}}class v extends A.T{logService;constructor(t,n){super({name:"AirPalmTreeAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l}=t,u=this.owner;let g=u.parent.getPetsWithEquipment("Coconut"),f=u.parent.getHighestAttackPets(this.level,g,u),D=f.pets;if(0!=D.length){for(let k of D)k.givePetEquipment(new P.K),this.logService.createLog({message:`${u.name} gave ${k.name} Coconut.`,type:"ability",player:u.parent,tiger:l,randomEvent:f.random});this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},25479(O,S,i){i.d(S,{w:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Ant";tier=1;pack="Turtle";health=2;attack=2;initPet(e,t,n,a,l,r){this.addAbility(new _(this,this.logService)),super.initPet(e,t,n,a,l,r)}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AntAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner,u=this.level,g=r.parent.getRandomPet([r],!0,!1,!0,r);null!=g.pet&&(this.logService.createLog({message:`${r.name} gave ${g.pet.name} ${u} attack and ${u} health.`,type:"ability",randomEvent:g.random,player:r.parent,tiger:a,pteranodon:l}),g.pet.increaseAttack(u),g.pet.increaseHealth(u),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},25632(O,S,i){i.d(S,{I:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Nurikabe";tier=5;pack="Custom";attack=5;health=6;maxAbilityUses=3;initAbilities(){this.addAbility(new _(this)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{constructor(e){super({name:"NurikabeAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){}copy(e){return new _(e)}}},25700(O,S,i){i.d(S,{w:()=>t});var P=i(46200),c=i(5615),A=i(33127),_=i(26886),v=i(61850),e=i(1152);class t extends P.i{logService;abilityService;name="Sting Ray";tier=5;pack="Puppy";attack=5;health=7;initAbilities(){this.addAbility(new n(this,this.logService,this.abilityService)),super.initAbilities()}constructor(l,r,u,g,f,D,k,L,F){super(l,r,u),this.logService=l,this.abilityService=r,this.initPet(k,g,f,D,L,F)}}class n extends c.T{logService;abilityService;constructor(l,r,u){super({name:"StingRayAbility",owner:l,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:l.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.abilityService=u}executeAbility(l){const r=this.owner,u=A.I.getInjector().get(_.w),g=Math.max(1,Math.min(3,this.level)),f=u.toys.get(g)??[];if(0===f.length)return void this.triggerTigerExecution(l);const D=f[(0,v.hw)(0,f.length-1)],k=u.createToy(D,r.parent,g);k?(r.parent.toy=k,r.parent.toy.used=!1,r.parent.toy.triggers=0,(0,e.rv)(this.logService,r,`${r.name} chose a level ${g} ${D} toy.`,l.tiger,l.pteranodon),this.triggerTigerExecution(l)):this.triggerTigerExecution(l)}copy(l){return new n(l,this.logService,this.abilityService)}}},25828(O,S,i){i.d(S,{y:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Giant Eyes Dog";tier=1;pack="Unicorn";hidden=!0;health=1;attack=1;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},25935(O,S,i){i.d(S,{L:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Ogopogo";tier=2;pack="Unicorn";attack=3;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"OgopogoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner,u=r.parent.getFurthestUpPets(this.level,[r],r),g=u.pets;if(0!==g.length){for(const f of g)this.logService.createLog({message:`${r.name} gave ${f.name} +1 experience.`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random}),f.increaseExp(1);this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},26032(O,S,i){i.d(S,{A:()=>c});const c=function P(){return[]}},26273(O,S,i){i.d(S,{w:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Surgeon Fish";tier=3;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SurgeonFishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>!(this.owner.parent.trumpets<2),abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=r.parent.nearestPetsBehind(2,r),g=u.pets;if(0==g.length)return;r.parent.spendTrumpets(2,r);let f=4*this.level;for(let D of g)D.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${D.name} ${f} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:u.random});this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},26302(O,S,i){i.d(S,{e:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Emu";tier=5;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"EmuAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>null==this.owner.parent.pet0,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=r.parent.nearestPetsAhead(1,r);if(0==u.pets.length)return;let g=u.pets[0],f=4*this.level;g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:u.random});let D=r.parent.nearestPetsAhead(1,r);if(0===D.pets.length)return;let k=D.pets[0];r.parent.pushPetToFront(k),this.logService.createLog({message:`${r.name} pushed ${k.name} to the front.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:D.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},26509(O,S,i){i.d(S,{A:()=>A});const A=i(1860).A.Uint8Array},26624(O,S,i){i.d(S,{L:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Praying Mantis";tier=4;pack="Star";attack=7;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"PrayingMantisAbility",owner:t,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,l=(0,A.MZ)(n);for(const u of l)n.dealDamage(u,50);const r=2*this.level;n.increaseAttack(r),n.increaseHealth(r),this.logService.createLog({message:`${n.name} dealt 50 damage to adjacent friends and gained +${r}/+${r}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:l.length>1}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},26666(O,S,i){i.d(S,{Q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Dromedary";tier=2;pack="Puppy";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"DromedaryAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} gave the two left-most shop pets +${n}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},26683(O,S,i){i.d(S,{P:()=>A,p:()=>_});var P=i(50873),c=i(5615);class A extends P.L{name="Treasure Chest";tier=3}class _ extends c.T{logService;constructor(e,t){super({name:"TreasureChestAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){}copy(e){return new _(e,this.logService)}}},26717(O,S,i){i.d(S,{L:()=>_});var P=i(607),c=i(46200),A=i(5615);class _ extends c.i{logService;abilityService;name="Red Dragon";tier=5;pack="Unicorn";attack=4;health=8;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;constructor(t,n){super({name:"RedDragonAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l}=t,u=this.owner;let g=u.parent.getPetsWithEquipmentWithSillyFallback("Crisp",u),f=u.parent.opponent.getLastPets(this.level,g,u),D=f.pets;if(0!=D.length){for(let k of D)this.logService.createLog({message:`${u.name} gave ${k.name} Crisp.`,type:"ability",player:u.parent,tiger:l,randomEvent:f.random}),k.givePetEquipment(new P.Y);this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},26886(O,S,i){var P;i.d(S,{w:()=>D});var c=i(23828),A=i(37283),_=i(87647),v=i(61850),e=i(83028),t=i(47868),n=i(24111),a=i(49230),l=i(1744),r=i(90966),u=i(56990),g=i(20441),f=i(49149);let D=(()=>{class k{logService;abilityService;gameService;equipmentService;petService;toyFactory;toyEventService;toys=new Map;toysByType=new Map;toyNameIds=new Map;localStartOfBattleEvents=[];constructor(F,j,ee,J,V,ie,oe){this.logService=F,this.abilityService=j,this.gameService=ee,this.equipmentService=J,this.petService=V,this.toyFactory=ie,this.toyEventService=oe,this.logService=(0,e.V)(this.logService),this.setToys()}setToys(){this.toys.clear(),this.toyNameIds.clear(),this.toysByType.clear();const F=this.getToyEntriesFromJson();for(const j of F){const ee=Number(j.Tier);if(!Number.isFinite(ee)||ee<1)continue;this.toys.has(ee)||this.toys.set(ee,[]);const J=this.toys.get(ee);J&&J.push(j.Name);const V=Number.isFinite(Number(j.ToyType))?Number(j.ToyType):0;this.toysByType.has(V)||this.toysByType.set(V,new Map);const ie=this.toysByType.get(V);ie&&!ie.has(ee)&&ie.set(ee,[]);const oe=ie?.get(ee);oe&&oe.push(j.Name),j.Name&&j.NameId&&this.toyNameIds.set(j.Name,j.NameId)}for(const[j,ee]of this.toys)this.toys.set(j,[...new Set(ee)]);for(const[j,ee]of this.toysByType)for(const[J,V]of ee)ee.set(J,[...new Set(V)])}getToyNameId(F){return F?this.toyNameIds.get(F)??null:null}getToysByType(F){const j=this.toysByType.get(F);return j?new Map(Array.from(j.entries()).map(([ee,J])=>[ee,[...J]])):new Map}isToyRandom(F){return!0===this.toyDataMap.get(F)?.Random}toyDataMap=new Map;getToyEntriesFromJson(){const F=A??(P||(P=i.t(A,2)))??[];return F.forEach(j=>{j.Name&&this.toyDataMap.set(j.Name,j)}),F.filter(j=>!!j?.Name)}createToy(F,j,ee=1){return this.toyFactory.createToy(F,j,ee,this,this.petService,this.equipmentService,this.gameService)}snipePet(F,j,ee,J,V=!1,ie=!1){let oe=this.calculateDamage(F,ee.getManticoreMult(),j),ce=oe.defenseEquipment,ve=oe.damage;this.dealDamage(F,ve,ee);let Ee=`${J} sniped ${F.name} for ${ve}.`;if(null!=ce){F.useDefenseEquipment(!0);let Se=Math.abs(ce.power??0),Be="-";if((ce.power??0)<0&&(Be="+"),"Strawberry"===ce.name){let Ne=F.getSparrowLevel();Ne>0&&(Se=5*Ne,Ee+=` (Strawberry -${Se} (Sparrow))`)}else Ee+=` (${ce.name} ${Be}${Se})`;Ee+=ce.multiplierMessage??""}"Icky"==F.equipment?.name&&(Ee+="x2 (Icky)",F.equipment.multiplier>1&&(Ee+=F.equipment.multiplierMessage));let Te=ee.getManticoreMult(),de=["Weak","Cold","Icky","Spooked"].includes(F.equipment?.name);if(Te.length>0&&de)for(let Se of Te)Ee+=` x${Se+1} (Manticore)`;return oe.nurikabe>0&&(Ee+=` -${oe.nurikabe} (Nurikabe)`),oe.fairyBallReduction>0&&(Ee+=` -${oe.fairyBallReduction} (Fairy Ball)`),oe.fanMusselReduction>0&&(Ee+=` -${oe.fanMusselReduction} (Fan Mussel)`),oe.ghostKittenReduction>0&&(Ee+=` -${oe.ghostKittenReduction} (Ghost Kitten)`),ie&&(Ee+=" (Puma)"),this.logService.createLog({message:Ee,type:"attack",randomEvent:V,player:ee}),ve}calculateDamage(F,j,ee){let J=F.equipment?.multiplier??1;const V=["Cold","Weak","Spooked"],ie="Guava"===F.equipment?.name;let oe="defense"==F.equipment?.equipmentClass||"shield"==F.equipment?.equipmentClass||"ailment-defense"==F.equipment?.equipmentClass||"shield-snipe"==F.equipment?.equipmentClass?F.equipment:null;null==oe&&ie&&(oe=F.equipment),null!=oe&&("Maple Syrup"==oe.name?oe=null:(J=(0,_.GH)(J,oe.name,j,V),oe.power=(oe.originalPower??oe.power??0)*J));let ce=oe?.power?oe.power:0,ve=F.getSparrowLevel();"Strawberry"===F.equipment?.name&&ve>0&&(ce+=5*ve),ee=(0,_.W6)(ee??0,F.equipment,j);let Te,Ee="shield"==oe?.equipmentClass||"shield-snipe"==oe?.equipmentClass?0:1;void 0!==oe?.minimumDamage&&(Ee=oe.minimumDamage);const ke=ee??0;Te=ke<=Ee&&ce>0?Math.max(ke,0):Math.max(Ee,ke-ce);const de=(0,_.qw)(F,Te,{includeGhostKitten:!0,fairyMinimumOne:!1,fairyRequiresPositiveDamage:!0,nurikabeConsumesOnZeroHit:!0,fanMusselConsumesOnZeroHit:!0});return Te=de.damage,{defenseEquipment:oe,damage:Te,nurikabe:de.nurikabe,fairyBallReduction:de.fairyBallReduction,fanMusselReduction:de.fanMusselReduction,ghostKittenReduction:de.ghostKittenReduction}}dealDamage(F,j,ee){F.health-=j,j>0&&this.abilityService.triggerHurtEvents(F)}setStartOfBattleEvent(F){this.toyEventService?this.toyEventService.setStartOfBattleEvent(F):(F.tieBreaker=(0,v.Ak)(),this.localStartOfBattleEvents.push(F))}executeStartOfBattleEvents(){if(this.toyEventService)return void this.toyEventService.executeStartOfBattleEvents();this.localStartOfBattleEvents=(0,c.A)(this.localStartOfBattleEvents),this.localStartOfBattleEvents.sort((j,ee)=>j.priority!==ee.priority?ee.priority-j.priority:(ee.tieBreaker??0)-(j.tieBreaker??0));const F=new Map;for(const j of this.localStartOfBattleEvents)F.set(j.priority,(F.get(j.priority)??0)+1);for(const j of this.localStartOfBattleEvents){const ee=(F.get(j.priority)??0)>1;this.logLocalStartOfBattleToyEvent(j,ee,ee?"tie-broken":"deterministic"),j.callback(this.gameService.gameApi)}this.localStartOfBattleEvents=[]}logLocalStartOfBattleToyEvent(F,j,ee){const J=F.player?.toy?.name;J&&this.logService.createLog({message:`${F.player?.isOpponent?"Opponent's":"Player's"} ${J} activated at start of battle${F.triggerPet?.name?` (${F.triggerPet.name})`:""}`,type:"ability",player:F.player,randomEvent:j,randomEventReason:ee})}static \u0275fac=function(j){return new(j||k)(t.KVO(n.K),t.KVO(a.K),t.KVO(l.w),t.KVO(r.m),t.KVO(u.T),t.KVO(g.g),t.KVO(f.e))};static \u0275prov=t.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}return k})()},26980(O,S,i){i.d(S,{Qq:()=>Hi,Lr:()=>D,$R:()=>Gn,Sx:()=>an}),i(10467);var c=i(47868),A=i(35547),_=i(49090),v=i(77312),e=i(18456),n=i(58728),a=i(95006),l=i(27389),u=(i(84787),i(14421)),g=i(73117),f=i(46494);class D{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(Pe){Pe?"string"==typeof Pe?this.lazyInit=()=>{this.headers=new Map,Pe.split("\n").forEach(fe=>{const Re=fe.indexOf(":");if(Re>0){const We=fe.slice(0,Re),je=fe.slice(Re+1).trim();this.addHeaderEntry(We,je)}})}:typeof Headers<"u"&&Pe instanceof Headers?(this.headers=new Map,Pe.forEach((fe,Re)=>{this.addHeaderEntry(Re,fe)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Pe).forEach(([fe,Re])=>{this.setHeaderEntries(fe,Re)})}:this.headers=new Map}has(Pe){return this.init(),this.headers.has(Pe.toLowerCase())}get(Pe){this.init();const fe=this.headers.get(Pe.toLowerCase());return fe&&fe.length>0?fe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Pe){return this.init(),this.headers.get(Pe.toLowerCase())||null}append(Pe,fe){return this.clone({name:Pe,value:fe,op:"a"})}set(Pe,fe){return this.clone({name:Pe,value:fe,op:"s"})}delete(Pe,fe){return this.clone({name:Pe,value:fe,op:"d"})}maybeSetNormalizedName(Pe,fe){this.normalizedNames.has(fe)||this.normalizedNames.set(fe,Pe)}init(){this.lazyInit&&(this.lazyInit instanceof D?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Pe=>this.applyUpdate(Pe)),this.lazyUpdate=null))}copyFrom(Pe){Pe.init(),Array.from(Pe.headers.keys()).forEach(fe=>{this.headers.set(fe,Pe.headers.get(fe)),this.normalizedNames.set(fe,Pe.normalizedNames.get(fe))})}clone(Pe){const fe=new D;return fe.lazyInit=this.lazyInit&&this.lazyInit instanceof D?this.lazyInit:this,fe.lazyUpdate=(this.lazyUpdate||[]).concat([Pe]),fe}applyUpdate(Pe){const fe=Pe.name.toLowerCase();switch(Pe.op){case"a":case"s":let Re=Pe.value;if("string"==typeof Re&&(Re=[Re]),0===Re.length)return;this.maybeSetNormalizedName(Pe.name,fe);const We=("a"===Pe.op?this.headers.get(fe):void 0)||[];We.push(...Re),this.headers.set(fe,We);break;case"d":const je=Pe.value;if(je){let ze=this.headers.get(fe);if(!ze)return;ze=ze.filter(Wt=>-1===je.indexOf(Wt)),0===ze.length?(this.headers.delete(fe),this.normalizedNames.delete(fe)):this.headers.set(fe,ze)}else this.headers.delete(fe),this.normalizedNames.delete(fe)}}addHeaderEntry(Pe,fe){const Re=Pe.toLowerCase();this.maybeSetNormalizedName(Pe,Re),this.headers.has(Re)?this.headers.get(Re).push(fe):this.headers.set(Re,[fe])}setHeaderEntries(Pe,fe){const Re=(Array.isArray(fe)?fe:[fe]).map(je=>je.toString()),We=Pe.toLowerCase();this.headers.set(We,Re),this.maybeSetNormalizedName(Pe,We)}forEach(Pe){this.init(),Array.from(this.normalizedNames.keys()).forEach(fe=>Pe(this.normalizedNames.get(fe),this.headers.get(fe)))}}class F{map=new Map;set(Pe,fe){return this.map.set(Pe,fe),this}get(Pe){return this.map.has(Pe)||this.map.set(Pe,Pe.defaultValue()),this.map.get(Pe)}delete(Pe){return this.map.delete(Pe),this}has(Pe){return this.map.has(Pe)}keys(){return this.map.keys()}}class j{encodeKey(Pe){return ie(Pe)}encodeValue(Pe){return ie(Pe)}decodeKey(Pe){return decodeURIComponent(Pe)}decodeValue(Pe){return decodeURIComponent(Pe)}}const J=/%(\d[a-f0-9])/gi,V={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ie(le){return encodeURIComponent(le).replace(J,(Pe,fe)=>V[fe]??Pe)}function oe(le){return`${le}`}class ce{map;encoder;updates=null;cloneFrom=null;constructor(Pe={}){if(this.encoder=Pe.encoder||new j,Pe.fromString){if(Pe.fromObject)throw new c.buA(2805,!1);this.map=function ee(le,Pe){const fe=new Map;return le.length>0&&le.replace(/^\?/,"").split("&").forEach(We=>{const je=We.indexOf("="),[ze,Wt]=-1==je?[Pe.decodeKey(We),""]:[Pe.decodeKey(We.slice(0,je)),Pe.decodeValue(We.slice(je+1))],At=fe.get(ze)||[];At.push(Wt),fe.set(ze,At)}),fe}(Pe.fromString,this.encoder)}else Pe.fromObject?(this.map=new Map,Object.keys(Pe.fromObject).forEach(fe=>{const Re=Pe.fromObject[fe],We=Array.isArray(Re)?Re.map(oe):[oe(Re)];this.map.set(fe,We)})):this.map=null}has(Pe){return this.init(),this.map.has(Pe)}get(Pe){this.init();const fe=this.map.get(Pe);return fe?fe[0]:null}getAll(Pe){return this.init(),this.map.get(Pe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Pe,fe){return this.clone({param:Pe,value:fe,op:"a"})}appendAll(Pe){const fe=[];return Object.keys(Pe).forEach(Re=>{const We=Pe[Re];Array.isArray(We)?We.forEach(je=>{fe.push({param:Re,value:je,op:"a"})}):fe.push({param:Re,value:We,op:"a"})}),this.clone(fe)}set(Pe,fe){return this.clone({param:Pe,value:fe,op:"s"})}delete(Pe,fe){return this.clone({param:Pe,value:fe,op:"d"})}toString(){return this.init(),this.keys().map(Pe=>{const fe=this.encoder.encodeKey(Pe);return this.map.get(Pe).map(Re=>fe+"="+this.encoder.encodeValue(Re)).join("&")}).filter(Pe=>""!==Pe).join("&")}clone(Pe){const fe=new ce({encoder:this.encoder});return fe.cloneFrom=this.cloneFrom||this,fe.updates=(this.updates||[]).concat(Pe),fe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Pe=>this.map.set(Pe,this.cloneFrom.map.get(Pe))),this.updates.forEach(Pe=>{switch(Pe.op){case"a":case"s":const fe=("a"===Pe.op?this.map.get(Pe.param):void 0)||[];fe.push(oe(Pe.value)),this.map.set(Pe.param,fe);break;case"d":if(void 0===Pe.value){this.map.delete(Pe.param);break}{let Re=this.map.get(Pe.param)||[];const We=Re.indexOf(oe(Pe.value));-1!==We&&Re.splice(We,1),Re.length>0?this.map.set(Pe.param,Re):this.map.delete(Pe.param)}}}),this.cloneFrom=this.updates=null)}}function Ee(le){return typeof ArrayBuffer<"u"&&le instanceof ArrayBuffer}function Te(le){return typeof Blob<"u"&&le instanceof Blob}function ke(le){return typeof FormData<"u"&&le instanceof FormData}const Se="Content-Type",Ne="text/plain",Ue="application/json",lt=`${Ue}, ${Ne}, */*`;class it{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(Pe,fe,Re,We){let je;if(this.url=fe,this.method=Pe.toUpperCase(),function ve(le){switch(le){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||We?(this.body=void 0!==Re?Re:null,je=We):je=Re,je){if(this.reportProgress=!!je.reportProgress,this.withCredentials=!!je.withCredentials,this.keepalive=!!je.keepalive,je.responseType&&(this.responseType=je.responseType),je.headers&&(this.headers=je.headers),je.context&&(this.context=je.context),je.params&&(this.params=je.params),je.priority&&(this.priority=je.priority),je.cache&&(this.cache=je.cache),je.credentials&&(this.credentials=je.credentials),"number"==typeof je.timeout){if(je.timeout<1||!Number.isInteger(je.timeout))throw new c.buA(2822,"");this.timeout=je.timeout}je.mode&&(this.mode=je.mode),je.redirect&&(this.redirect=je.redirect),je.integrity&&(this.integrity=je.integrity),je.referrer&&(this.referrer=je.referrer),je.referrerPolicy&&(this.referrerPolicy=je.referrerPolicy),this.transferCache=je.transferCache}if(this.headers??=new D,this.context??=new F,this.params){const ze=this.params.toString();if(0===ze.length)this.urlWithParams=fe;else{const Wt=fe.indexOf("?");this.urlWithParams=fe+(-1===Wt?"?":Wt<fe.length-1?"&":"")+ze}}else this.params=new ce,this.urlWithParams=fe}serializeBody(){return null===this.body?null:"string"==typeof this.body||Ee(this.body)||Te(this.body)||ke(this.body)||function de(le){return typeof URLSearchParams<"u"&&le instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ce?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ke(this.body)?null:Te(this.body)?this.body.type||null:Ee(this.body)?null:"string"==typeof this.body?Ne:this.body instanceof ce?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?Ue:null}clone(Pe={}){const fe=Pe.method||this.method,Re=Pe.url||this.url,We=Pe.responseType||this.responseType,je=Pe.keepalive??this.keepalive,ze=Pe.priority||this.priority,Wt=Pe.cache||this.cache,At=Pe.mode||this.mode,yi=Pe.redirect||this.redirect,xi=Pe.credentials||this.credentials,gi=Pe.referrer||this.referrer,pi=Pe.integrity||this.integrity,sn=Pe.referrerPolicy||this.referrerPolicy,ai=Pe.transferCache??this.transferCache,Oi=Pe.timeout??this.timeout,$t=void 0!==Pe.body?Pe.body:this.body,zt=Pe.withCredentials??this.withCredentials,bi=Pe.reportProgress??this.reportProgress;let Mi=Pe.headers||this.headers,Xt=Pe.params||this.params;const Ii=Pe.context??this.context;return void 0!==Pe.setHeaders&&(Mi=Object.keys(Pe.setHeaders).reduce((rn,Fi)=>rn.set(Fi,Pe.setHeaders[Fi]),Mi)),Pe.setParams&&(Xt=Object.keys(Pe.setParams).reduce((rn,Fi)=>rn.set(Fi,Pe.setParams[Fi]),Xt)),new it(fe,Re,$t,{params:Xt,headers:Mi,context:Ii,reportProgress:bi,responseType:We,withCredentials:zt,transferCache:ai,keepalive:je,cache:Wt,priority:ze,timeout:Oi,mode:At,redirect:yi,credentials:xi,referrer:gi,integrity:pi,referrerPolicy:sn})}}var Ke=function(le){return le[le.Sent=0]="Sent",le[le.UploadProgress=1]="UploadProgress",le[le.ResponseHeader=2]="ResponseHeader",le[le.DownloadProgress=3]="DownloadProgress",le[le.Response=4]="Response",le[le.User=5]="User",le}(Ke||{});class qe{headers;status;statusText;url;ok;type;redirected;responseType;constructor(Pe,fe=200,Re="OK"){this.headers=Pe.headers||new D,this.status=void 0!==Pe.status?Pe.status:fe,this.statusText=Pe.statusText||Re,this.url=Pe.url||null,this.redirected=Pe.redirected,this.responseType=Pe.responseType,this.ok=this.status>=200&&this.status<300}}class _t extends qe{constructor(Pe={}){super(Pe)}type=Ke.ResponseHeader;clone(Pe={}){return new _t({headers:Pe.headers||this.headers,status:void 0!==Pe.status?Pe.status:this.status,statusText:Pe.statusText||this.statusText,url:Pe.url||this.url||void 0})}}class pt extends qe{body;constructor(Pe={}){super(Pe),this.body=void 0!==Pe.body?Pe.body:null}type=Ke.Response;clone(Pe={}){return new pt({body:void 0!==Pe.body?Pe.body:this.body,headers:Pe.headers||this.headers,status:void 0!==Pe.status?Pe.status:this.status,statusText:Pe.statusText||this.statusText,url:Pe.url||this.url||void 0,redirected:Pe.redirected??this.redirected,responseType:Pe.responseType??this.responseType})}}class tt extends qe{name="HttpErrorResponse";message;error;ok=!1;constructor(Pe){super(Pe,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Pe.url||"(unknown url)"}`:`Http failure response for ${Pe.url||"(unknown url)"}: ${Pe.status} ${Pe.statusText}`,this.error=Pe.error||null}}const Ge=new c.nKC(""),ge=/^\)\]\}',?\n/;let Ve=(()=>{class le{xhrFactory;tracingService=(0,c.WQX)(A.a8H,{optional:!0});constructor(fe){this.xhrFactory=fe}maybePropagateTrace(fe){return this.tracingService?.propagate?this.tracingService.propagate(fe):fe}handle(fe){if("JSONP"===fe.method)throw new c.buA(-2800,!1);const Re=this.xhrFactory;return(0,u.of)(null).pipe((0,_.n)(()=>new l.c(je=>{const ze=Re.build();if(ze.open(fe.method,fe.urlWithParams),fe.withCredentials&&(ze.withCredentials=!0),fe.headers.forEach(($t,zt)=>ze.setRequestHeader($t,zt.join(","))),fe.headers.has("Accept")||ze.setRequestHeader("Accept",lt),!fe.headers.has(Se)){const $t=fe.detectContentTypeHeader();null!==$t&&ze.setRequestHeader(Se,$t)}if(fe.timeout&&(ze.timeout=fe.timeout),fe.responseType){const $t=fe.responseType.toLowerCase();ze.responseType="json"!==$t?$t:"text"}const Wt=fe.serializeBody();let At=null;const yi=()=>{if(null!==At)return At;const $t=ze.statusText||"OK",zt=new D(ze.getAllResponseHeaders());return At=new _t({headers:zt,status:ze.status,statusText:$t,url:ze.responseURL||fe.url}),At},xi=this.maybePropagateTrace(()=>{let{headers:$t,status:zt,statusText:bi,url:Mi}=yi(),Xt=null;204!==zt&&(Xt=typeof ze.response>"u"?ze.responseText:ze.response),0===zt&&(zt=Xt?200:0);let Ii=zt>=200&&zt<300;if("json"===fe.responseType&&"string"==typeof Xt){const rn=Xt;Xt=Xt.replace(ge,"");try{Xt=""!==Xt?JSON.parse(Xt):null}catch(Fi){Xt=rn,Ii&&(Ii=!1,Xt={error:Fi,text:Xt})}}Ii?(je.next(new pt({body:Xt,headers:$t,status:zt,statusText:bi,url:Mi||void 0})),je.complete()):je.error(new tt({error:Xt,headers:$t,status:zt,statusText:bi,url:Mi||void 0}))}),gi=this.maybePropagateTrace($t=>{const{url:zt}=yi(),bi=new tt({error:$t,status:ze.status||0,statusText:ze.statusText||"Unknown Error",url:zt||void 0});je.error(bi)});let pi=gi;fe.timeout&&(pi=this.maybePropagateTrace($t=>{const{url:zt}=yi(),bi=new tt({error:new DOMException("Request timed out","TimeoutError"),status:ze.status||0,statusText:ze.statusText||"Request timeout",url:zt||void 0});je.error(bi)}));let sn=!1;const ai=this.maybePropagateTrace($t=>{sn||(je.next(yi()),sn=!0);let zt={type:Ke.DownloadProgress,loaded:$t.loaded};$t.lengthComputable&&(zt.total=$t.total),"text"===fe.responseType&&ze.responseText&&(zt.partialText=ze.responseText),je.next(zt)}),Oi=this.maybePropagateTrace($t=>{let zt={type:Ke.UploadProgress,loaded:$t.loaded};$t.lengthComputable&&(zt.total=$t.total),je.next(zt)});return ze.addEventListener("load",xi),ze.addEventListener("error",gi),ze.addEventListener("timeout",pi),ze.addEventListener("abort",gi),fe.reportProgress&&(ze.addEventListener("progress",ai),null!==Wt&&ze.upload&&ze.upload.addEventListener("progress",Oi)),ze.send(Wt),je.next({type:Ke.Sent}),()=>{ze.removeEventListener("error",gi),ze.removeEventListener("abort",gi),ze.removeEventListener("load",xi),ze.removeEventListener("timeout",pi),fe.reportProgress&&(ze.removeEventListener("progress",ai),null!==Wt&&ze.upload&&ze.upload.removeEventListener("progress",Oi)),ze.readyState!==ze.DONE&&ze.abort()}})))}static \u0275fac=function(Re){return new(Re||le)(c.KVO(g.N))};static \u0275prov=c.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();function Fe(le,Pe){return Pe(le)}function ot(le,Pe){return(fe,Re)=>Pe.intercept(fe,{handle:We=>le(We,Re)})}const Kt=new c.nKC(""),qt=new c.nKC("",{factory:()=>[]}),Vt=new c.nKC(""),Gt=new c.nKC("",{factory:()=>!0});function Ui(){let le=null;return(Pe,fe)=>{null===le&&(le=((0,c.WQX)(Kt,{optional:!0})??[]).reduceRight(ot,Fe));const Re=(0,c.WQX)(c.u5s);if((0,c.WQX)(Gt)){const je=Re.add();return le(Pe,fe).pipe((0,v.j)(je))}return le(Pe,fe)}}let Bt=(()=>{class le{static \u0275fac=function(Re){return new(Re||le)};static \u0275prov=c.jDH({token:le,factory:function(Re){let We=null;return We=Re?new(Re||le):c.KVO(Ve),We},providedIn:"root"})}return le})(),Gi=(()=>{class le{backend;injector;chain=null;pendingTasks=(0,c.WQX)(c.u5s);contributeToStability=(0,c.WQX)(Gt);constructor(fe,Re){this.backend=fe,this.injector=Re}handle(fe){if(null===this.chain){const Re=Array.from(new Set([...this.injector.get(qt),...this.injector.get(Vt,[])]));this.chain=Re.reduceRight((We,je)=>function Ut(le,Pe,fe){return(Re,We)=>(0,c.N4e)(fe,()=>Pe(Re,je=>le(je,We)))}(We,je,this.injector),Fe)}if(this.contributeToStability){const Re=this.pendingTasks.add();return this.chain(fe,We=>this.backend.handle(We)).pipe((0,v.j)(Re))}return this.chain(fe,Re=>this.backend.handle(Re))}static \u0275fac=function(Re){return new(Re||le)(c.KVO(Bt),c.KVO(c.uvJ))};static \u0275prov=c.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})(),Ci=(()=>{class le{static \u0275fac=function(Re){return new(Re||le)};static \u0275prov=c.jDH({token:le,factory:function(Re){let We=null;return We=Re?new(Re||le):c.KVO(Gi),We},providedIn:"root"})}return le})();function ki(le,Pe){return{body:Pe,headers:le.headers,context:le.context,observe:le.observe,params:le.params,reportProgress:le.reportProgress,responseType:le.responseType,withCredentials:le.withCredentials,credentials:le.credentials,transferCache:le.transferCache,timeout:le.timeout,keepalive:le.keepalive,priority:le.priority,cache:le.cache,mode:le.mode,redirect:le.redirect,integrity:le.integrity,referrer:le.referrer,referrerPolicy:le.referrerPolicy}}let Hi=(()=>{class le{handler;constructor(fe){this.handler=fe}request(fe,Re,We={}){let je;if(fe instanceof it)je=fe;else{let At,yi;At=We.headers instanceof D?We.headers:new D(We.headers),We.params&&(yi=We.params instanceof ce?We.params:new ce({fromObject:We.params})),je=new it(fe,Re,void 0!==We.body?We.body:null,{headers:At,context:We.context,params:yi,reportProgress:We.reportProgress,responseType:We.responseType||"json",withCredentials:We.withCredentials,transferCache:We.transferCache,keepalive:We.keepalive,priority:We.priority,cache:We.cache,mode:We.mode,redirect:We.redirect,credentials:We.credentials,referrer:We.referrer,referrerPolicy:We.referrerPolicy,integrity:We.integrity,timeout:We.timeout})}const ze=(0,u.of)(je).pipe(function t(le,Pe){return(0,e.ZZ)(le,Pe,1)}(At=>this.handler.handle(At)));if(fe instanceof it||"events"===We.observe)return ze;const Wt=ze.pipe((0,n.p)(At=>At instanceof pt));switch(We.observe||"body"){case"body":switch(je.responseType){case"arraybuffer":return Wt.pipe((0,a.T)(At=>{if(null!==At.body&&!(At.body instanceof ArrayBuffer))throw new c.buA(2806,!1);return At.body}));case"blob":return Wt.pipe((0,a.T)(At=>{if(null!==At.body&&!(At.body instanceof Blob))throw new c.buA(2807,!1);return At.body}));case"text":return Wt.pipe((0,a.T)(At=>{if(null!==At.body&&"string"!=typeof At.body)throw new c.buA(2808,!1);return At.body}));default:return Wt.pipe((0,a.T)(At=>At.body))}case"response":return Wt;default:throw new c.buA(2809,!1)}}delete(fe,Re={}){return this.request("DELETE",fe,Re)}get(fe,Re={}){return this.request("GET",fe,Re)}head(fe,Re={}){return this.request("HEAD",fe,Re)}jsonp(fe,Re){return this.request("JSONP",fe,{params:(new ce).append(Re,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(fe,Re={}){return this.request("OPTIONS",fe,Re)}patch(fe,Re,We={}){return this.request("PATCH",fe,ki(We,Re))}post(fe,Re,We={}){return this.request("POST",fe,ki(We,Re))}put(fe,Re,We={}){return this.request("PUT",fe,ki(We,Re))}static \u0275fac=function(Re){return new(Re||le)(c.KVO(Ci))};static \u0275prov=c.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();const ui=new c.nKC("",{factory:()=>!0}),Wi=new c.nKC("",{factory:()=>"XSRF-TOKEN"}),vi=new c.nKC("",{factory:()=>"X-XSRF-TOKEN"});let Xi=(()=>{class le{cookieName=(0,c.WQX)(Wi);doc=(0,c.WQX)(c.qQL);lastCookieString="";lastToken=null;parseCount=0;getToken(){const fe=this.doc.cookie||"";return fe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,g.b)(fe,this.cookieName),this.lastCookieString=fe),this.lastToken}static \u0275fac=function(Re){return new(Re||le)};static \u0275prov=c.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})(),Ji=(()=>{class le{static \u0275fac=function(Re){return new(Re||le)};static \u0275prov=c.jDH({token:le,factory:function(Re){let We=null;return We=Re?new(Re||le):c.KVO(Xi),We},providedIn:"root"})}return le})();function Tn(le,Pe){if(!(0,c.WQX)(ui)||"GET"===le.method||"HEAD"===le.method)return Pe(le);try{const We=(0,c.WQX)(f.Vw).href,{origin:je}=new URL(We),{origin:ze}=new URL(le.url,je);if(je!==ze)return Pe(le)}catch{return Pe(le)}const fe=(0,c.WQX)(Ji).getToken(),Re=(0,c.WQX)(vi);return null!=fe&&!le.headers.has(Re)&&(le=le.clone({headers:le.headers.set(Re,fe)})),Pe(le)}var Ai=function(le){return le[le.Interceptors=0]="Interceptors",le[le.LegacyInterceptors=1]="LegacyInterceptors",le[le.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",le[le.NoXsrfProtection=3]="NoXsrfProtection",le[le.JsonpSupport=4]="JsonpSupport",le[le.RequestsMadeViaParent=5]="RequestsMadeViaParent",le[le.Fetch=6]="Fetch",le}(Ai||{});function Gn(...le){const Pe=[Hi,Gi,{provide:Ci,useExisting:Gi},{provide:Bt,useFactory:()=>(0,c.WQX)(Ge,{optional:!0})??(0,c.WQX)(Ve)},{provide:qt,useValue:Tn,multi:!0}];for(const fe of le)Pe.push(...fe.\u0275providers);return(0,c.EmA)(Pe)}const Hn=new c.nKC("");function an(){return function Qi(le,Pe){return{\u0275kind:le,\u0275providers:Pe}}(Ai.LegacyInterceptors,[{provide:Hn,useFactory:Ui},{provide:qt,useExisting:Hn,multi:!0}])}},27088(O,S,i){i.d(S,{R:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Red Lipped Batfish";tier=4;pack="Custom";attack=5;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,l,r,u,f,D)}}class _ extends c.T{logService;petService;constructor(e,t,n){super({name:"Red Lipped Batfish Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=t,this.petService=n}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,l=a.parent.opponent;if(!l)return void this.triggerTigerExecution(e);const r=l.getPetAtPosition(a.position);if(!r||!r.alive)return void this.triggerTigerExecution(e);const u=Math.max(1,4-this.level),g=this.petService.getRandomFaintPet(l,u,[],a);l.transformPet(r,g),this.logService.createLog({message:`${a.name} transformed ${r.name} into ${g.name} (tier ${u}).`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.petService)}}},27207(O,S,i){i.d(S,{T:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Egyptian Vulture";tier=5;pack="Golden";attack=7;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"EgyptianVultureAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:a,pteranodon:l}=e,r=this.owner;let u=r.parent.petArray.filter(D=>!D.isFaintPet()),g=r.parent.nearestPetsBehind(1,r,u),f=g.pets[0];null!=f&&(this.logService.createLog({message:`${r.name} activated ${f.name}'s ability.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:g.random}),f.activateAbilities(void 0,t,"Pet"),this.triggerTigerExecution(e))}reset(){super.reset(),this.maxUses=this.level}copy(e){return new _(e,this.logService)}}},27312(O,S,i){i.d(S,{S:()=>e});var P=i(46200),c=i(72638),A=i(5615),_=i(7715),v=i(36481);class e extends P.i{logService;abilityService;name="Chimera";tier=4;pack="Unicorn";attack=2;health=6;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L){super(a,l,r),this.logService=a,this.abilityService=l,this.initPet(D,u,g,f,k,L),this.suppressManaSnipeOnFaint=!0}}class t extends A.T{logService;abilityService;constructor(a,l,r){super({name:"ChimeraAbility",owner:a,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:u=>{this.executeAbility(u)}}),this.logService=l,this.abilityService=r}executeAbility(a){const{tiger:u,pteranodon:g}=a,f=this.owner,D=f.mana,k=D/2,L=Math.floor(3+1*k),F=Math.floor(3+2*k);D>0&&this.logService.createLog({message:`${f.name} spent ${D} mana.`,type:"ability",player:f.parent,tiger:u,pteranodon:g});let j=new _.k(this.logService,this.abilityService,f.parent,F,L),ee=f.parent.summonPet(j,f.savedPosition,!1,f);if(ee.success&&this.logService.createLog({message:`${f.name} spawned a ${j.name} ${L}/${F}.`,type:"ability",player:f.parent,tiger:u,pteranodon:g,randomEvent:ee.randomEvent}),this.level>=2){let J=new c.D(this.logService,this.abilityService,f.parent,F,L),V=f.parent.summonPet(J,f.savedPosition,!1,f);V.success&&this.logService.createLog({message:`${f.name} spawned a ${J.name} ${L}/${F}.`,type:"ability",player:f.parent,tiger:u,pteranodon:g,randomEvent:V.randomEvent})}if(this.level>=3){let J=new v.U(this.logService,this.abilityService,f.parent,F,L),V=f.parent.summonPet(J,f.savedPosition,!1,f);V.success&&this.logService.createLog({message:`${f.name} spawned a ${J.name} ${L}/${F}.`,type:"ability",player:f.parent,tiger:u,pteranodon:g,randomEvent:V.randomEvent})}f.mana=0,this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService)}}},27354(O,S,i){i.d(S,{c:()=>P});const P=Array.isArray||(c=>c&&"number"==typeof c.length)},27376(O,S,i){i.d(S,{h:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Dumbo Octopus";tier=2;pack="Star";health=5;attack=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"DumboOctopusAbility",owner:e,triggers:["Roll3"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked a discounted food from the last 3 tiers (-${this.level} gold).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},27389(O,S,i){i.d(S,{c:()=>e});var P=i(97677),c=i(39112),A=i(45722),_=i(78167),v=i(80614);let e=(()=>{class n{constructor(l){this._isScalar=!1,l&&(this._subscribe=l)}lift(l){const r=new n;return r.source=this,r.operator=l,r}subscribe(l,r,u){const{operator:g}=this,f=(0,c.u)(l,r,u);if(f.add(g?g.call(f,this.source):this.source||v.$.useDeprecatedSynchronousErrorHandling&&!f.syncErrorThrowable?this._subscribe(f):this._trySubscribe(f)),v.$.useDeprecatedSynchronousErrorHandling&&f.syncErrorThrowable&&(f.syncErrorThrowable=!1,f.syncErrorThrown))throw f.syncErrorValue;return f}_trySubscribe(l){try{return this._subscribe(l)}catch(r){v.$.useDeprecatedSynchronousErrorHandling&&(l.syncErrorThrown=!0,l.syncErrorValue=r),(0,P.H)(l)?l.error(r):console.warn(r)}}forEach(l,r){return new(r=t(r))((u,g)=>{let f;f=this.subscribe(D=>{try{l(D)}catch(k){g(k),f&&f.unsubscribe()}},g,u)})}_subscribe(l){const{source:r}=this;return r&&r.subscribe(l)}[A.s](){return this}pipe(...l){return 0===l.length?this:(0,_.m)(l)(this)}toPromise(l){return new(l=t(l))((r,u)=>{let g;this.subscribe(f=>g=f,f=>u(f),()=>r(g))})}}return n.create=a=>new n(a),n})();function t(n){if(n||(n=v.$.Promise||Promise),!n)throw new Error("no Promise impl found");return n}},27454(O,S,i){i.d(S,{m:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Farmer Cat";tier=4;pack="Custom";attack=4;health=3;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},27694(O,S,i){i.d(S,{f:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Sabertooth Tiger";tier=6;pack="Star";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}resetPet(){super.resetPet()}constructor(e,t,n,a,l,r,u,g,f,D,k){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,l,r,u,f,D),this.timesHurt=k??0,this.originalTimesHurt=this.timesHurt}}class _ extends c.T{logService;abilityService;petService;timesHurtOverride;constructor(e,t,n,a,l){super({name:"SabertoothTigerAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=n,this.petService=a,this.timesHurtOverride=l??null}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=this.timesHurtOverride??r.timesHurt;if(u>0)for(let g=0;g<this.level;g++){let f=Math.min(2*u,50),D=Math.min(3*u,50),k=this.petService.createPet({name:"Mammoth",attack:f,health:D,equipment:null,mana:0,exp:0},r.parent),L=r.parent.summonPet(k,r.savedPosition,!1,r);L.success&&this.logService.createLog({message:`${r.name} summoned ${k.name} (${f}/${D}).`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:L.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService,this.petService,this.timesHurtOverride??this.owner.timesHurt)}}},27810(O,S,i){var P;i.d(S,{R:()=>a});var c=i(46200),A=i(5615),_=i(33127),v=i(56990),e=i(61850),t=i(74766);const n=(()=>{const r=t??(P||(P=i.t(t,2)));if(!Array.isArray(r))return[];const u=[],g=/Give one pet \+(\d+) attack(?: and \+(\d+) health)?|Give one pet \+(\d+) health/;for(const f of r){if(!f||"object"!=typeof f)continue;const D=f,k=D.Ability??"";if(!k||/perk/i.test(k)||!k.startsWith("Give one pet +"))continue;const L=k.match(g);if(!L)continue;const F=L[1]?Number(L[1]):0,j=L[2]?Number(L[2]):L[3]?Number(L[3]):0;!Number.isFinite(F)||!Number.isFinite(j)||D.Name&&u.push({name:D.Name,attack:F,health:j})}return u})();class a extends c.i{logService;abilityService;name="Locust";tier=4;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new l(this,this.logService,this.abilityService)),super.initAbilities()}constructor(u,g,f,D,k,L,F,j,ee){super(u,g,f),this.logService=u,this.abilityService=g,this.initPet(F,D,k,L,j,ee)}}class l extends A.T{logService;abilityService;constructor(u,g,f){super({name:"Locust Ability",owner:u,triggers:["FoodEatenByThis","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:u.level,abilityFunction:D=>this.executeAbility(D)}),this.logService=g,this.abilityService=f}executeAbility(u){const{gameApi:g,tiger:f,pteranodon:D}=u,k=this.owner,L=k,F=g?.turnNumber??0;if(L.locustFoodTurn!==F&&(L.locustFoodTurn=F,L.locustFoodEaten=0),L.locustFoodSeededTurn!==F){L.locustFoodSeededTurn=F;const oe=k.foodsEaten??0;oe>0&&(L.locustFoodEaten=Math.max(L.locustFoodEaten??0,oe))}if("FoodEatenByThis"===u.trigger&&k.alive)return void(L.locustFoodEaten=(L.locustFoodEaten??0)+1);if("PostRemovalFaint"!==u.trigger)return void this.triggerTigerExecution(u);const j=L.locustFoodEaten??0;if(j<=0)return void this.triggerTigerExecution(u);let ee=0;const J=k.position??k.savedPosition??0,V=_.I.getInjector().get(v.T),ie=n;for(let oe=0;oe<this.level;oe++){const ce=V?V.getRandomPet(k.parent):null;if(!ce||!k.parent.summonPet(ce,J,!1,k).success)break;ee++;for(let Ee=0;Ee<j&&0!==ie.length;Ee++){const Te=ie[(0,e.hw)(0,ie.length-1)];Te&&(Te.attack&&ce.increaseAttack(Te.attack),Te.health&&ce.increaseHealth(Te.health),this.abilityService?.triggerFoodEvents(ce,Te.name.toLowerCase()))}}this.logService.createLog({message:`${k.name} summoned ${ee} friend${1===ee?"":"s"} and fed them random food.`,type:"ability",player:k.parent,tiger:f,pteranodon:D}),this.triggerTigerExecution(u)}copy(u){return new l(u,this.logService,this.abilityService)}}},27852(O,S,i){i.d(S,{v:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Great One";tier=6;pack="Custom";attack=7;health=13;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GreatOneAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const r=this.owner;let u=[...r.parent.petArray,...r.parent.opponent.petArray];u=u.filter(g=>g!==r);for(let g of u)r.snipePet(g,5*r.level);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},27906(O,S,i){i.d(S,{c:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;name="Proboscis Monkey";tier=2;pack="Danger";attack=4;health=4;constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}},28010(O,S,i){i.d(S,{A:()=>A});const A=(0,i(38992).A)(Object.getPrototypeOf,Object)},28114(O,S,i){i.d(S,{A:()=>t});var P=i(70563),c=i(28010),A=i(42697),_=i(26032);const t=Object.getOwnPropertySymbols?function(n){for(var a=[];n;)(0,P.A)(a,(0,A.A)(n)),n=(0,c.A)(n);return a}:_.A},28128(O,S,i){i.d(S,{D:()=>A});var P=i(50873);i(5615);class A extends P.L{name="Magic Mirror";tier=4}},28266(O,S,i){i.d(S,{q:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Loveland Frogman";tier=5;pack="Unicorn";attack=1;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"LovelandFrogmanAbility",owner:t,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,precondition:a=>{const{triggerPet:l}=a,r=this.owner,g=(0,A.lK)(r,l).pet;return!!g&&g.alive&&!r.targettedFriends.has(g)},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a}=t,u=this.owner;let g={attack:1*u.level,health:2*u.level},f=(0,A.lK)(u,a),D=f.pet;null!=D&&(this.logService.createLog({message:`${u.name} gave ${D.name} ${g.attack} attack and ${g.health} health.`,type:"ability",player:u.parent,randomEvent:f.random}),D.increaseAttack(g.attack),D.increaseHealth(g.health),u.targettedFriends.add(D),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},28606(O,S,i){i.d(S,{A:()=>_});var c=/^(?:0|[1-9]\d*)$/;const _=function A(v,e){var t=typeof v;return!!(e=e??9007199254740991)&&("number"==t||"symbol"!=t&&c.test(v))&&v>-1&&v%1==0&&v<e}},28805(O,S,i){i.d(S,{x:()=>_});var P=i(46200),c=i(51838),A=i(5615);class _ extends P.i{logService;abilityService;name="Gorilla";tier=6;pack="Turtle";attack=7;health=10;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;constructor(t,n){super({name:"GorillaAbility",owner:t,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,condition:a=>this.owner.alive,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l}=t,u=this.owner;let f=u.parent.getThis(u).pet;null!=f&&(f.givePetEquipment(new c.K),this.logService.createLog({message:`${u.name} gave ${f.name} a Coconut.`,type:"ability",player:u.parent,tiger:l}),this.triggerTigerExecution(t))}reset(){this.maxUses=this.level,super.reset()}copy(t){const n=new v(t,this.logService);return n.maxUses=t.level,n}}},29088(O,S,i){i.d(S,{A:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Rock";tier=1;pack="Unicorn";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"RockAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},29192(O,S,i){i.d(S,{J:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pygmy Seahorse";tier=1;pack="Custom";attack=3;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PygmySeahorseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,l=a.parent.getRandomPets(3,[a],!1,!1,a),r=l.pets;if(0!==r.length){for(const u of r)u.increaseAttack(this.level),u.increaseHealth(this.level),this.logService.createLog({message:`${a.name} gave ${u.name} +${this.level} attack and +${this.level} health.`,type:"ability",player:a.parent,tiger:t,pteranodon:n,randomEvent:l.random});a.health=0,this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},29629(O,S,i){i.d(S,{B:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Sloth";tier=1;pack="Custom";attack=1;health=1;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},29654(O,S,i){i.d(S,{z:()=>c});var P=i(50873);class c extends P.L{name="Lamp";tier=1;startOfBattle(_,v){for(const e of this.parent.petArray){const t=Math.floor(.2*e.attack),n=Math.floor(.2*e.health);t>0&&e.increaseAttack(-t),n>0&&e.increaseHealth(-n),this.logService.createLog({message:`${this.name} removed ${t} attack and ${n} health from ${e.name}.`,type:"ability",player:this.parent,puma:v})}}}},29768(O,S,i){i.d(S,{B:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Woolly Rhino";tier=5;pack="Custom";attack=3;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Woolly Rhino Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=new Set;for(const g of t.parent.petArray){const f=g?.equipment;("ailment-attack"===f?.equipmentClass||"ailment-defense"===f?.equipmentClass||"ailment-other"===f?.equipmentClass)&&n.add(f.name)}const a=n.size;if(a<=0)return void this.triggerTigerExecution(e);const l=4*a,r=t.parent.opponent.petArray.filter(g=>g.alive),u=Math.min(this.level,r.length);for(let g=0;g<u;g++)t.snipePet(r[g],l,!1,e.tiger,e.pteranodon);u>0&&this.logService.createLog({message:`${t.name} dealt ${l} damage to ${u} enemy${1===u?"":"ies"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},29823(O,S,i){i.d(S,{R:()=>_});var P=i(46200),c=i(41752),A=i(5615);class _ extends P.i{logService;abilityService;name="Osprey";tier=3;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"OspreyAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;for(let g=0;g<u.level;g++){let f=new c.G(this.logService,this.abilityService,u.parent,null,null,0,0),D=u.parent.summonPet(f,u.savedPosition,!1,u);D.success&&this.logService.createLog({message:`${u.name} summoned a 2/1 Groundhog`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:D.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},29855(O,S,i){i.d(S,{p:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Head";tier=1;pack="Unicorn";hidden=!0;health=5;attack=5;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},29866(O,S,i){i.d(S,{B:()=>v,J:()=>_});var P=i(50873),c=i(2375),A=i(5615);class _ extends P.L{name="Peanut Jar";tier=6;startOfBattle(t,n){let a=this.parent.getLowestAttackPets(this.level,this.parent.getPetsWithEquipment("Peanut Butter")),l=a.pets;if(0!=l.length)for(let r of l)r.givePetEquipment(new c._),this.logService.createLog({message:`${this.name} gave ${r.name} PeanutButter.`,type:"ability",player:this.parent,puma:n,randomEvent:a.random})}}class v extends A.T{logService;constructor(t,n){super({name:"PeanutJarAbility",owner:t,triggers:[],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let g=u.parent.getPetsWithEquipment("Peanut Butter"),D=u.parent.getLowestAttackPets(this.level,g,u).pets;if(0!=D.length){for(let k of D)k.givePetEquipment(new c._),this.logService.createLog({message:`Peanut Jar Ability gave ${k.name} PeanutButter.`,type:"ability",player:u.parent,tiger:l,pteranodon:r});this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},29886(O,S,i){i.d(S,{B:()=>c,P:()=>A});var P=i(22097);class c extends P.${name="Guava";tier=3;equipmentClass="shield";power=3;originalPower=3;uses=1;originalUses=1}class A extends P.${name="Guava (Attack)";equipmentClass="attack";power=3;originalPower=3}},29916(O,S,i){i.d(S,{H5:()=>J,Pl:()=>ee,SB:()=>F,XS:()=>V,_k:()=>j,il:()=>D,m8:()=>f,nE:()=>L,oy:()=>ie,v:()=>k,xk:()=>oe});var P=i(23828),c=i(61850),A=i(33524),_=i(77856),v=i(58857);function t(ce){return ce?`${ce.parent?.isOpponent?"O":"P"}${Number.isFinite(ce.savedPosition)?ce.savedPosition+1:0} ${ce.name}`:"unknown caller"}function n(ce){const ve=ce.some(Te=>!Te.parent?.isOpponent),Ee=ce.some(Te=>Te.parent?.isOpponent);return ve&&Ee?"both teams":Ee?"opponent team":"player team"}function a(ce,ve,Ee,Te){if(0===Ee.length)return{pet:null,random:!1};const ke=(0,v.k6)({key:ce,label:`${t(Te)} -> ${ve} (${n(Ee)}, ${Ee.length} options)`,options:Ee.map(de=>function e(ce){const ve=ce.parent?.isOpponent?"opponent":"player",Ee=ce.parent?.isOpponent?"O":"P",Te=Number.isFinite(ce.savedPosition)?ce.savedPosition+1:0;return{id:`${ve}:${Te}:${ce.name}`,label:`${Ee}${Te} ${ce.name}`}}(de))},()=>(0,c.hw)(0,Ee.length-1));return{pet:Ee[ke.index]??null,random:ke.randomEvent}}function l(ce){return!(!ce||!(0,A.ku)(ce))}function r(ce,ve){return[...ce.petArray].filter(Ee=>Ee.alive&&(!ve||!ve.includes(Ee)))}function u(ce,ve,Ee,Te){let ke=[];for(const de of ce){if(de===Te||!de.alive)continue;if(0===ke.length){ke=[de];continue}const Se=ve(de),Be=ve(ke[0]);Se!==Be?("max"===Ee?Se>Be:Se<Be)&&(ke=[de]):ke.push(de)}return ke}function g(ce,ve,Ee,Te){if(0===ce.length)return{pets:[],random:!1};const ke=(0,P.A)(ce);ke.sort(Ee);const de=ke.slice(0,ve);let Se=!1;return de.length===ve&&ke.length>ve&&Te(de[ve-1])===Te(ke[ve])&&(Se=!0),{pets:de,random:Se}}const f=(ce,ve,Ee)=>{if(l(Ee))return(0,_.WB)(ce,[Ee],!0);const Te=u(ce.petArray,ke=>ke.health,"max",ve);return 0===Te.length?{pet:null,random:!1}:a("target.highest-health","Highest health tie-break",Te,Ee)},D=(ce,ve,Ee)=>l(Ee)?(0,_.WB)(ce,[Ee],!0):a("target.highest-attack","Highest attack tie-break",u(ce.petArray,ke=>ke.attack,"max",ve),Ee),k=(ce,ve,Ee,Te)=>l(Te)?(0,_.BR)(ce,ve,!0,[Te]):g(r(ce,Ee),ve,(ke,de)=>de.attack-ke.attack,ke=>ke.attack),L=(ce,ve,Ee,Te)=>l(Te)?(0,_.BR)(ce,ve,!0,[Te]):g(r(ce,Ee),ve,(ke,de)=>ke.attack-de.attack,ke=>ke.attack),F=(ce,ve,Ee)=>l(Ee)?(0,_.WB)(ce,[Ee],!0):a("target.lowest-attack","Lowest attack tie-break",u(ce.petArray,ke=>ke.attack,"min",ve),Ee),j=(ce,ve,Ee)=>l(Ee)?(0,_.WB)(ce,[Ee],!0):a("target.lowest-health","Lowest health tie-break",u(ce.petArray,ke=>ke.health,"min",ve),Ee),ee=(ce,ve,Ee,Te)=>l(Te)?(0,_.BR)(ce,ve,!0,[Te]):g(r(ce,Ee),ve,(ke,de)=>ke.health-de.health,ke=>ke.health),J=(ce,ve,Ee,Te)=>l(Te)?(0,_.BR)(ce,ve,!0,[Te]):g(r(ce,Ee),ve,(ke,de)=>de.health-ke.health,ke=>ke.health),V=(ce,ve,Ee,Te)=>l(Te)?(0,_.BR)(ce,ve,!0,[Te]):g(r(ce,Ee),ve,(ke,de)=>de.tier-ke.tier,ke=>ke.tier),ie=(ce,ve,Ee,Te)=>{if(l(Te))return(0,_.WB)(ce,[Te],!0);const ke=[...ce.petArray].filter(de=>de.alive&&de.tier<=ve&&(!Ee||!Ee.includes(de)));return 0===ke.length?{pet:null,random:!1}:a("target.tier-x-or-lower",`Tier ${ve} or lower target`,ke,Te)},oe=(ce,ve)=>{if(l(ve))return(0,_.WB)(ce,[ve],!0);let Ee=[],Te=-1;const ke=(0,P.A)(ce.petArray.filter(de=>de.alive));for(const de of ke){const Se=de.attack+de.health;Se>Te?(Te=Se,Ee=[de]):Se===Te&&Ee.push(de)}return 0===Ee.length?{pet:null,random:!1}:a("target.strongest-pet","Strongest pet tie-break",Ee,ve)}},30102(O,S,i){i.d(S,{J:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Markhor";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MarkhorAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:n,pteranodon:a}=e,l=t.parent;if(l.trumpets<4)return void this.triggerTigerExecution(e);const r=l.petArray.filter(F=>F&&F!==t&&F.alive);if(0===r.length)return void this.triggerTigerExecution(e);l.trumpets-=4;const u=4*this.level,g=4*this.level,f=Math.floor(u/r.length),D=Math.floor(g/r.length),k=u-f*r.length,L=g-D*r.length;for(let F=0;F<r.length;F++){const j=r[F],J=F<L?1:0;j.increaseAttack(f+(F<k?1:0)),j.increaseHealth(D+J)}this.logService.createLog({message:`${t.name} spent 4 trumpets to grant ${u}/${g} evenly among ${r.length} friends.`,type:"ability",player:l,tiger:n,pteranodon:a}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},30126(O,S,i){i.d(S,{t:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Geometric Tortoise";tier=5;pack="Danger";attack=3;health=10;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GeometricTortoiseAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,damageAmount:r}=e,u=this.owner;if(void 0===r||r<=0)return;let g=.33*this.level;3===u.level&&(g=1);let f=Math.floor(r*g);if(f>0){let D=u.parent.opponent.getRandomPet([],!1,!0,!1,u);D.pet&&u.snipePet(D.pet,f,D.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},30147(O,S,i){i.d(S,{O:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Hoatzin";tier=4;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Hoatzin Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,l=a.parent,r=3*this.level;let u=0;for(const D of l.petArray)!D||!D.alive||"Strawberry"===D.equipment?.name&&(D.removePerk(),u++);if(0===u)return void this.triggerTigerExecution(e);const g=r*u,f=l.resolveTrumpetGainTarget(a);f.player.gainTrumpets(g,a,t,void 0,void 0,f.random),this.logService.createLog({message:`${a.name} removed ${u} Strawberry${1===u?"":"s"} for +${g} trumpets.`,type:"ability",player:l,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},30219(O,S,i){i.d(S,{A:()=>A});var P=i(3746);const A=function c(_){var v=(0,P.A)(this,_).delete(_);return this.size-=v?1:0,v}},30254(O,S,i){i.d(S,{d:()=>A});var P=i(22097),c=i(5615);class A extends P.${name="Unagi";equipmentClass="startOfBattle";hasRandomEvents=!0;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t))};constructor(){super()}}class _ extends c.T{equipment;constructor(e,t){super({name:"UnagiAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t}executeAbility(e){const t=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let a=t.parent.opponent.getRandomPet([],!1,!0,!1,t);a.pet&&t.snipePet(a.pet,2,a.random,!1,!1,!0,!1)}}}},30357(O,S,i){i.d(S,{w:()=>c});var P=i(22097);class c extends P.${name="Inked";equipmentClass="ailment-attack";power=-3;originalPower=-3}},30450(O,S,i){i.d(S,{H:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;name="Angelshark";tier=4;pack="Danger";attack=3;health=4;constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}},30553(O,S,i){i.d(S,{C:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;name="Baku";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L){super(a,l,r),this.logService=a,this.abilityService=l,this.initPet(D,u,g,f,k,L)}}class t extends c.T{logService;abilityService;constructor(a,l,r){super({name:"BakuAbility",owner:a,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:u=>{this.executeAbility(u)}}),this.logService=l,this.abilityService=r}executeAbility(a){const l=this.owner;if((a.gameApi?.turnNumber??0)%2!=0)return void this.triggerTigerExecution(a);const u=l.parent.petArray.filter(k=>k.alive&&k.equipment?.equipmentClass?.startsWith("ailment"));if(0===u.length)return void this.triggerTigerExecution(a);const g=[],f=[...u];for(;g.length<2&&f.length>0;){const k=(0,A.k6)({key:"pet.baku-end-turn-target",label:(0,v.I)(l,"Baku ailment target",g.length+1),options:f.map(L=>({id:`${L.savedPosition+1}:${L.name}`,label:`P${L.savedPosition+1} ${L.name}`}))},()=>(0,_.hw)(0,f.length-1));g.push(f[k.index]),f.splice(k.index,1)}const D=this.level;for(const k of g)k.removePerk(),k.increaseHealth(D);this.logService.createLog({message:`${l.name} replaced ailments with +${D} health on ${g.map(k=>k.name).join(", ")}.`,type:"ability",player:l.parent,tiger:a.tiger,pteranodon:a.pteranodon,randomEvent:u.length>g.length}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService)}}},30554(O,S,i){i.d(S,{A:()=>c});const c=function P(A){var _=typeof A;return null!=A&&("object"==_||"function"==_)}},30568(O,S,i){i.d(S,{A:()=>de});var P=i(31685),c=i(15481),A=i(42661),Te={};Te["[object Float32Array]"]=Te["[object Float64Array]"]=Te["[object Int8Array]"]=Te["[object Int16Array]"]=Te["[object Int32Array]"]=Te["[object Uint8Array]"]=Te["[object Uint8ClampedArray]"]=Te["[object Uint16Array]"]=Te["[object Uint32Array]"]=!0,Te["[object Arguments]"]=Te["[object Array]"]=Te["[object ArrayBuffer]"]=Te["[object Boolean]"]=Te["[object DataView]"]=Te["[object Date]"]=Te["[object Error]"]=Te["[object Function]"]=Te["[object Map]"]=Te["[object Number]"]=Te["[object Object]"]=Te["[object RegExp]"]=Te["[object Set]"]=Te["[object String]"]=Te["[object WeakMap]"]=!1;const de=function ke(Se){return(0,A.A)(Se)&&(0,c.A)(Se.length)&&!!Te[(0,P.A)(Se)]}},30639(O,S,i){i.d(S,{b:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Skunk";tier=4;pack="Turtle";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SkunkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let g=r.parent.opponent.getHighestHealthPet(void 0,r),f=g.pet;if(null==f)return;let D=.33*this.level,k=Math.max(1,Math.floor(f.health*(1-D)));f.health=k,this.logService.createLog({message:`${r.name} reduced ${f.name} health by ${100*D}% to ${k}.`,type:"ability",player:r.parent,randomEvent:g.random,tiger:a}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},30712(O,S,i){i.d(S,{A:()=>_});var P=i(99898),c=i(42697);const _=function A(v,e){return(0,P.A)(v,(0,c.A)(v),e)}},31287(O,S,i){i.d(S,{A:()=>_});var P=i(70129),c=i(15481);const _=function A(v){return null!=v&&(0,c.A)(v.length)&&!(0,P.A)(v)}},31401(O,S,i){i.d(S,{x:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Vampire Squid";tier=6;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"VampireSquidAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,l=new Map;for(const f of a.parent.petArray)!f||f===a||!f.alive||!f.equipment||!(f.equipment.equipmentClass??"").startsWith("ailment")||l.has(f.equipment.name)||l.set(f.equipment.name,f);if(0===l.size)return void this.triggerTigerExecution(e);const r=this.level,u=2*this.level,g=[];l.forEach(f=>{f.increaseAttack(r),f.increaseHealth(u),g.push(f.name)}),this.logService.createLog({message:`${a.name} gave ${g.join(", ")} +${r}/+${u} at end of turn for having unique ailments.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},31546(O,S,i){i.d(S,{w:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="White Truffle";equipmentClass="faint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"WhiteTruffleAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const{tiger:t}=e,n=this.owner,a=4*this.equipment.multiplier;n.increaseAttack(a),this.logService.createLog({message:`${n.name} gained ${a} attack (White Truffle)${this.equipment.multiplierMessage}`,type:"equipment",player:n.parent});for(let l=0;l<this.equipment.multiplier;l++){let r=n.parent.opponent.getHighestAttackPet(void 0,n);r.pet&&(n.jumpAttackPrep(r.pet),n.jumpAttack(r.pet,t,null,r.random))}n.removePerk()}}},31671(O,S,i){i.d(S,{N:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Gargoyle";tier=2;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GargoyleAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=r.mana*this.level;u+=2*this.level;let g=r.parent.nearestPetsBehind(1,r);if(0===g.pets.length)return;let f=g.pets[0];this.logService.createLog({message:`${r.name} spent ${r.mana} mana and gave ${u} health to ${f.name}.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:g.random}),f.increaseHealth(u),r.mana=0,this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},31685(O,S,i){i.d(S,{A:()=>n});var P=i(6944),c=i(96756),A=i(83811),e=P.A?P.A.toStringTag:void 0;const n=function t(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":e&&e in Object(a)?(0,c.A)(a):(0,A.A)(a)}},31805(O,S,i){i.d(S,{y:()=>v});var t,P=i(27354),c=i(61456),A=i(98099),_=i(69379);class v{constructor(n){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,n&&(this._ctorUnsubscribe=!0,this._unsubscribe=n)}unsubscribe(){let n;if(this.closed)return;let{_parentOrParents:a,_ctorUnsubscribe:l,_unsubscribe:r,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof v)a.remove(this);else if(null!==a)for(let g=0;g<a.length;++g)a[g].remove(this);if((0,A.T)(r)){l&&(this._unsubscribe=void 0);try{r.call(this)}catch(g){n=g instanceof _.Z?e(g.errors):[g]}}if((0,P.c)(u)){let g=-1,f=u.length;for(;++g<f;){const D=u[g];if((0,c.G)(D))try{D.unsubscribe()}catch(k){n=n||[],k instanceof _.Z?n=n.concat(e(k.errors)):n.push(k)}}}if(n)throw new _.Z(n)}add(n){let a=n;if(!n)return v.EMPTY;switch(typeof n){case"function":a=new v(n);case"object":if(a===this||a.closed||"function"!=typeof a.unsubscribe)return a;if(this.closed)return a.unsubscribe(),a;if(!(a instanceof v)){const u=a;a=new v,a._subscriptions=[u]}break;default:throw new Error("unrecognized teardown "+n+" added to Subscription.")}let{_parentOrParents:l}=a;if(null===l)a._parentOrParents=this;else if(l instanceof v){if(l===this)return a;a._parentOrParents=[l,this]}else{if(-1!==l.indexOf(this))return a;l.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[a]:r.push(a),a}remove(n){const a=this._subscriptions;if(a){const l=a.indexOf(n);-1!==l&&a.splice(l,1)}}}function e(t){return t.reduce((n,a)=>n.concat(a instanceof _.Z?a.errors:a),[])}v.EMPTY=((t=new v).closed=!0,t)},32232(O,S,i){i.d(S,{o:()=>c});var P=i(22097);class c extends P.${name="Melon Slice";equipmentClass="shield";power=10;originalPower=10;uses=1;originalUses=1}},32234(O,S,i){function P(c){return c&&"function"==typeof c.schedule}i.d(S,{m:()=>P})},32238(O,S,i){i.d(S,{w:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Sudduth Tomato";equipmentClass="hurt";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"SudduthTomatoAbility",owner:e,triggers:["ThisHurt"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,condition:a=>!!this.owner.alive,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const a=this.owner;let r=1*this.equipment.multiplier;a.increaseHealth(r),this.logService.createLog({message:`${a.name} gained ${r} health (Sudduth Tomato)${this.equipment.multiplierMessage}`,type:"equipment",player:a.parent}),a.removePerk()}}},32308(O,S,i){i.d(S,{H:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Polar Bear";tier=5;pack="Custom";attack=4;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Polar Bear Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=[4,8,12],a=n[Math.min(Math.max(t.level-1,0),n.length-1)],l=t.parent.getRandomPets(1,[],!1,!1,t),r=l.pets[0];r?(r.increaseAttack(a),r.increaseHealth(a),this.logService.createLog({message:`${t.name} gave ${r.name} +${a}/+${a}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:l.random}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},32334(O,S,i){i.d(S,{E:()=>c});var P=i(22097);class c extends P.${name="Eucalyptus";equipmentClass="shield";power=4;originalPower=4;uses=1;originalUses=1}},32480(O,S,i){i.d(S,{p:()=>_});var P=i(46200),c=i(32584),A=i(5615);class _ extends P.i{logService;abilityService;name="Fairy Armadillo";tier=4;pack="Star";attack=2;health=6;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"FairyArmadilloAbility",owner:t,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l}=t,u=this.owner,g=2*this.level,f=u.parent.getThis(u),D=f.pet;if(null==D)return;D.increaseHealth(g),this.logService.createLog({message:`${u.name} gave ${D.name} ${g} permanent health and transforms into a protected ball!`,type:"ability",player:u.parent,tiger:l,randomEvent:f.random});const L=u.parent.getThis(u).pet;if(null==L)return;const F=new c.f(this.logService,this.abilityService,L.parent,L.health,L.attack,L.mana,L.exp,L.equipment);L.parent.transformPet(L,F),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},32496(O,S,i){i.d(S,{V:()=>A});var P=i(27389),c=i(31805);function A(_,v){return new P.c(e=>{const t=new c.y;let n=0;return t.add(v.schedule(function(){n!==_.length?(e.next(_[n++]),e.closed||t.add(this.schedule())):e.complete()})),t})}},32584(O,S,i){i.d(S,{f:()=>A});var P=i(45575),c=i(46200);class A extends c.i{logService;abilityService;name="Fairy Ball";tier=1;pack="Star";attack=2;health=6;hidden=!0;initAbilities(){this.addAbility(new P.q(this)),super.initAbilities()}constructor(v,e,t,n,a,l,r,u,g){super(v,e,t),this.logService=v,this.abilityService=e,this.initPet(r,n,a,l,u,g)}}},32804(O,S,i){i.d(S,{_:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Angry Pygmy Hog";tier=2;pack="Custom";attack=5;health=5;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},33126(O,S,i){i.d(S,{A:()=>g});var P=i(70129),c=i(14541),A=i(30554),_=i(38736),e=/^\[object .+?Constructor\]$/,r=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const g=function u(f){return!(!(0,A.A)(f)||(0,c.A)(f))&&((0,P.A)(f)?r:e).test((0,_.A)(f))}},33127(O,S,i){i.d(S,{I:()=>c});var P=i(47868);let c=(()=>{class A{static injector;static setInjector(v){A.injector||(A.injector=v)}static getInjector(){return A.injector}static \u0275fac=function(e){return new(e||A)};static \u0275prov=P.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},33245(O,S,i){i.d(S,{U:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Baby Urchin";tier=2;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BabyUrchinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=r.parent.opponent.getFurthestUpPet(r),g=[u.pet],f=u.random;if(g[0]){for(let D=0;D<r.level-1;D++){let k;if(k=f?r.parent.opponent.getFurthestUpPet(r).pet:g[D].petBehind(),!k)break;g.push(k)}for(let D of g)D&&(D.increaseHealth(-4),this.logService.createLog({message:`${r.name} removed 4 health from ${D.name}.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:f}));this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},33270(O,S,i){i.d(S,{Y:()=>A});var P=i(50873);i(5615);class A extends P.L{name="Pickaxe";tier=4}},33340(O,S,i){i.d(S,{A:()=>t});var P=i(17133),c="object"==typeof exports&&exports&&!exports.nodeType&&exports,A=c&&"object"==typeof module&&module&&!module.nodeType&&module,v=A&&A.exports===c&&P.A.process;const t=function(){try{return A&&A.require&&A.require("util").types||v&&v.binding&&v.binding("util")}catch{}}()},33411(O,S,i){i.d(S,{L:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;name="Tooth Billed Pigeon";tier=1;pack="Danger";attack=3;health=1;constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}},33446(O,S,i){i.d(S,{A:()=>v});var P=i(16080);const v=function _(e){return(0,P.A)(e,5)}},33500(O,S,i){i.d(S,{EE:()=>a,Kw:()=>r,Q_:()=>f,i2:()=>D,m3:()=>l,q7:()=>g,vI:()=>u,yY:()=>n});var P=i(42280),c=i(80659);const _=(k,L,F)=>{switch(L){case 0:k.pet0=F;break;case 1:k.pet1=F;break;case 2:k.pet2=F;break;case 3:k.pet3=F;break;case 4:k.pet4=F}},v=(k,L,F)=>{try{k.setPet(L,F)}catch{_(k,L,void 0)}},n=k=>{const L=(0,P.A)(k.petArray);for(let F=0;F<=4;F++)v(k,F,L[F])},a=k=>{null!=k.pet0?.equipment&&k.pet0.equipment instanceof c.m&&(k.pet0.equipment.callback(k.pet0),n(k))},l=(k,L)=>{const F=((k,L)=>{for(let F=L-1;F>=0;F--)if(null==k.getPet(F))return F;return null})(k,L);if(null==F)return!1;for(let j=F;j<L;j++)_(k,j,k.getPet(j+1));return!0},r=(k,L)=>{const F=((k,L)=>{for(let F=L+1;F<=4;F++)if(null==k.getPet(F))return F;return null})(k,L);if(null==F)return!1;for(let j=F;j>L;j--)_(k,j,k.getPet(j-1));return!0},u=(k,L)=>{5!==k.petArray.length?l(k,L)||r(k,L):console.warn("No room to Make Room")},g=(k,L,F=1,j,ee,J)=>{if("Brussels Sprout"===L?.equipment?.name)return ee.createLog({message:`${L.name} blocked being pushed. (Brussels Sprout)`,type:"equipment",player:L.parent}),void L.removePerk();const V=L.position;let ie;if(_(L.parent,V,void 0),F>0&&(ie=Math.max(V-F,0),null!=k.getPet(ie)&&(l(k,ie)||r(k,ie)),k.setPet(ie,L)),F<0&&(ie=Math.min(V-F,4),null!=k.getPet(ie)&&(r(k,ie)||l(k,ie)),k.setPet(ie,L)),j?(L.jumped=!0,J.triggerJumpEvents(L)):J.triggerPushedEvents(L),null==k.pet0)J.triggerEmptyFrontSpaceEvents(k),J.executeEmptyFrontSpaceEvents(),J.triggerEmptyFrontSpaceToyEvents(k),J.executeEmptyFrontSpaceToyEvents();else for(const oe of k.petArray)oe.clearFrontTriggered=!1},f=(k,L,F,j,ee)=>{g(k,L,4,F,j,ee)},D=(k,L,F,j)=>{g(k,L,-4,!1,F,j)}},33524(O,S,i){i.d(S,{Rr:()=>c,XT:()=>A,Ye:()=>_,ku:()=>P,lx:()=>v});const P=e=>{const t=e.equipment;return"string"==typeof t?"Silly"===t:!(!t||"string"!=typeof t.name)&&"Silly"===t.name},c=(e,t)=>{const n=[];for(const a of e.petArray)a.alive&&("perk"===t?a.equipment&&!a.equipment.equipmentClass?.startsWith("ailment")&&n.push(a):a.equipment?.name===t&&n.push(a));return n},A=(e,t)=>{const n=[];for(const a of e.petArray)a.alive&&("Perk"===t?(!a.equipment||a.equipment.name.startsWith("ailment"))&&n.push(a):(!a.equipment||a.equipment.name!==t)&&n.push(a));return n},_=(e,t)=>{for(const n of e.petArray)if(n.position===t)return n;return null},v=e=>{const t=[];for(const n of e.petArray)if(n.hasTrigger(void 0,"Pet","ManticoreAbility"))for(const a of n.abilityList)"ManticoreAbility"===a.name&&t.push(a.level);return t}},33605(O,S,i){i.d(S,{V:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Quail";tier=1;pack="Custom";hidden=!0;attack=2;health=2;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},33685(O,S,i){i.d(S,{h:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Lusca";tier=5;pack="Custom";attack=7;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Lusca Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=t.mana;if(n<=0)return void this.triggerTigerExecution(e);t.mana=0;const l=t.parent.getRandomEnemyPetsWithSillyFallback(this.level,[],!1,!1,t).pets;if(0!==l.length){for(const r of l){const u=n,g=Math.max(0,r.attack-u),f=Math.max(0,r.health-u);r.attack=g,r.health=Math.max(1,f)}this.logService.createLog({message:`${t.name} spent ${n} mana and drained ${l.map(r=>r.name).join(", ")}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},33837(O,S,i){i.d(S,{L:()=>_});var P=i(46200),c=i(5615),A=i(29088);class _ extends P.i{name="Basilisk";tier=3;pack="Custom";attack=5;health=2;constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.initPet(g,l,r,u,f,D)}initAbilities(){this.abilityList=[new v(this,this.logService,this.abilityService)],super.initAbilities()}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"Basilisk Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>this.executeAbility(l)}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:n,pteranodon:a}=t,l=this.owner,r=l.petAhead;if(r&&r.alive){const u=5*this.level,g=Math.max(1,r.attack??1),f=Math.max(1,r.health??1)+u,D=new A.A(this.logService,this.abilityService,r.parent,f,g,r.mana,r.exp);l.parent.transformPet(r,D),this.logService.createLog({message:`${l.name} transformed ${r.name} into a Rock with +${u} health.`,type:"ability",player:l.parent,tiger:n,pteranodon:a})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},34122(O,S,i){i.d(S,{C:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Bass";tier=2;pack="Star";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BassAbility",owner:e,triggers:["Faint","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner,u=r.parent.petArray.filter(k=>k==r&&!k.isSellPet()&&k.level<2);let g=r.parent.getRandomPet(u,!0,null,null,r);const f=g.pet;if(null==f)return;const D=this.level;this.logService.createLog({message:`${r.name} gave ${f.name} +${D} experience.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:g.random}),f.increaseExp(D),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},34133(O,S,i){i.d(S,{B:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Blue-Throated Macaw";tier=3;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"BlueThroatedMacawAbility",owner:t,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:t.level,precondition:a=>{const{triggerPet:l}=a,g=(0,A.lK)(this.owner,l).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:l}=t,u=this.owner;if(a){if(a.position<u.position){let g=(0,A.lK)(u,a),f=g.pet;if(!f)return;let D=3*this.level;f.increaseAttack(D),this.logService.createLog({message:`${u.name} gave ${f.name} +${D} attack.`,type:"ability",player:u.parent,tiger:l,randomEvent:g.random})}else{let g=(0,A.lK)(u,a),f=g.pet;if(!f)return;let D=3*this.level;f.increaseHealth(D),this.logService.createLog({message:`${u.name} gave ${f.name} +${D} health.`,type:"ability",player:u.parent,tiger:l,randomEvent:g.random})}this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},34443(O,S,i){i.d(S,{K:()=>_});var P=i(46200),c=i(5615),A=i(30357);class _ extends P.i{logService;abilityService;name="Cuttlefish";tier=4;pack="Golden";attack=8;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"CuttlefishAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let g=u.parent.opponent.getLastPets(this.level,void 0,u),f=g.pets;if(0==f.length)return;for(let j of f)j.increaseHealth(-3),this.logService.createLog({message:`${u.name} reduced ${j.name} health by 3`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:g.random});let k=u.parent.getPetsWithEquipmentWithSillyFallback("Inked",u),L=u.parent.opponent.getLastPets(this.level,k,u),F=L.pets;if(0!=F.length){for(let j of F)j.givePetEquipment(new A.w),this.logService.createLog({message:`${u.name} gave ${j.name} Inked.`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:L.random});this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},34444(O,S,i){i.d(S,{X:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Mandarinfish";tier=2;pack="Custom";attack=2;health=3;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},34593(O,S,i){i.d(S,{T:()=>e});var P=i(46200),c=i(5615),A=i(90966),_=i(33127),v=i(61850);class e extends P.i{logService;abilityService;name="Albino Squirrel";tier=2;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L){super(a,l,r),this.logService=a,this.abilityService=l,this.initPet(D,u,g,f,k,L)}}class t extends c.T{logService;constructor(a,l){super({name:"AlbinoSquirrelAbility",owner:a,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=l}executeAbility(a){const{tiger:l,pteranodon:r}=a,u=this.owner,f=_.I.getInjector().get(A.m).getInstanceOfAllEquipment(),D=Array.from(f.values()).filter(L=>"shop"===L.equipmentClass);if(0===D.length)return;let k=[];for(let L=0;L<3;L++){let F=D[(0,v.hw)(0,D.length-1)];k.push(F.name)}this.logService.createLog({message:`${u.name} restocked shop food with ${k.join(", ")} at -${this.level} gold.`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:!0}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},34638(O,S,i){i.d(S,{i:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Flounder";tier=5;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;foodsEaten=0;triggeredThisTurn=!1;constructor(e,t){super({name:"Flounder Ability",owner:e,triggers:["FoodEatenByThis","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.foodsEaten=0,this.triggeredThisTurn=!1,void this.triggerTigerExecution(e);if(this.triggeredThisTurn)return void this.triggerTigerExecution(e);if(this.foodsEaten++,this.foodsEaten<2)return void this.triggerTigerExecution(e);const n=this.level,a=t.parent.nearestPetsBehind(2,t);for(const l of a.pets)l.increaseExp(n),this.logService.createLog({message:`${t.name} gave ${l.name} ${n} exp.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.random});this.triggeredThisTurn=!0,this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},34747(O,S,i){i.d(S,{Z:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;petService;name="Eagle";tier=5;pack="Puppy";attack=6;health=5;constructor(a,l,r,u,g,f,D,k,L,F){super(a,l,u),this.logService=a,this.abilityService=l,this.petService=r,this.initPet(k,g,f,D,L,F)}initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class t extends c.T{logService;abilityService;petService;constructor(a,l,r,u){super({name:"EagleAbility",owner:a,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=l,this.abilityService=r,this.petService=u}executeAbility(a){const{gameApi:l,tiger:u,pteranodon:g}=a,f=this.owner,D=Number.isFinite(l.previousShopTier)?l.previousShopTier:1,k=Math.min(6,Math.max(1,D+1)),L=ce=>(ce??[]).filter(ve=>ve&&f.name&&ve.toLowerCase()!==f.name.toLowerCase()),F=f.parent===l.player?l.playerPetPool:l.opponentPetPool;let j=L(F?.get(k));if(j?.length||(j=L(this.petService.allPets.get(k))),j?.length||(j=L(this.petService.allPets.get(1))),!j.length)return void this.triggerTigerExecution(a);const ee=(0,A.k6)({key:"pet.eagle-faint-summon",label:(0,v.I)(f,`Eagle tier ${k} summon`),options:j.map(ce=>({id:ce,label:ce}))},()=>(0,_.hw)(0,j.length-1));let V=5*this.level,ie=this.petService.createPet({name:j[ee.index],attack:V,health:V,exp:f.minExpForLevel,equipment:null,mana:0},f.parent);f.parent.summonPet(ie,f.savedPosition,!1,f).success&&this.logService.createLog({message:`${f.name} spawned ${ie.name} Level ${ie.level}`,type:"ability",player:f.parent,tiger:u,randomEvent:ee.randomEvent,pteranodon:g}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService,this.petService)}}},34748(O,S,i){i.d(S,{V:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Dolphin";tier=3;pack="Turtle";health=3;attack=4;hasRandomEvents=!0;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DolphinAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.opponent;for(let g=0;g<this.level;g++){let f=u.getLowestHealthPet(null,r);if(!f.pet)break;r.snipePet(f.pet,4,f.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},34774(O,S,i){i.d(S,{P:()=>v});var P=i(46200),c=i(5615),A=i(90966),_=i(33127);class v extends P.i{logService;abilityService;name="Toucan";tier=3;pack="Puppy";attack=4;health=3;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"ToucanAbility",owner:n,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:n.level,condition:l=>this.owner.timesAttacked<1,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=a}executeAbility(n){const{tiger:r,pteranodon:u}=n,g=this.owner;let f;f=null==g.equipment||g.equipment.tier>5?"Egg":g.equipment.name;let D=g.parent.getPetsWithEquipment(f),L=g.parent.nearestPetsBehind(this.level,g,D).pets;if(0!=L.length){for(let F of L){const j=_.I.getInjector().get(A.m).getInstanceOfAllEquipment().get(f);j&&(this.logService.createLog({message:`${g.name} gave ${F.name} ${j.name}`,type:"ability",player:g.parent,randomEvent:!1,tiger:r,pteranodon:u}),F.givePetEquipment(j))}this.triggerTigerExecution(n)}}copy(n){return new e(n,this.logService)}}},34815(O,S,i){i.d(S,{w:()=>v});var P=i(46200),c=i(59374),A=i(5615),_=i(61850);class v extends P.i{logService;abilityService;name="Mandrake";tier=3;pack="Unicorn";attack=4;health=3;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends A.T{logService;constructor(n,a){super({name:"MandrakeAbility",owner:n,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=a}executeAbility(n){const{tiger:r}=n,g=this.owner;let f=g.parent.getPetsWithEquipmentWithSillyFallback("Dazed",g),k=this.getTargetPrioritizingFaintPets(f,g).pet;null!=k&&(this.logService.createLog({message:`${g.name} made ${k.name} Dazed.`,type:"ability",player:g.parent,tiger:r,randomEvent:!0}),k.givePetEquipment(new c.x),this.triggerTigerExecution(n))}getTargetPrioritizingFaintPets(n,a){const l=2*this.level,r=a.parent.opponent.petArray.filter(u=>u.alive&&u.tier<=l&&!n.includes(u)&&u.isFaintPet());return r.length>0?{pet:r[(0,_.hw)(0,r.length-1)],random:r.length>1}:a.parent.opponent.getTierXOrLowerPet(l,n,a)}copy(n){return new e(n,this.logService)}}},34829(O,S,i){i.d(S,{Q:()=>e});var P=i(46200),c=i(5615),A=i(90966),_=i(33127),v=i(1152);class e extends P.i{logService;abilityService;petService;gameService;name="Seagull";tier=4;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L,F,j){super(a,l,g),this.logService=a,this.abilityService=l,this.petService=r,this.gameService=u,this.initPet(L,f,D,k,F,j)}}class t extends c.T{logService;usesThisTurn=0;constructor(a,l){super({name:"SeagullAbility",owner:a,triggers:["FriendSummoned","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=l}executeAbility(a){const{triggerPet:l,tiger:r,pteranodon:u,trigger:g}=a,f=this.owner;if("StartTurn"===g)return void(this.usesThisTurn=0);const D=(0,v.Uj)(f,l);if(!D.pet||!f.equipment||this.usesThisTurn>=this.level)return void this.triggerTigerExecution(a);const k=_.I.getInjector().get(A.m),L=f.equipment,F=k.getInstanceOfAllEquipment().get(L.name);if(!F)return void this.triggerTigerExecution(a);const j=D.pet;j.givePetEquipment(F),this.usesThisTurn++,(0,v.rv)(this.logService,f,`${f.name} gave ${j.name} a ${L.name}`,r,u,{randomEvent:D.random}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},35045(O,S,i){i.d(S,{x:()=>Kt});var P=i(38022),c=i(84797),A=i(23475),_=i(71433),v=i(3626),e=i(90285),t=i(35867),n=i(86950),a=i(72818),l=i(50871),r=i(88513),u=i(26666),g=i(20290),f=i(48549),D=i(57862),k=i(98964),L=i(56692),F=i(78229),j=i(34774),ee=i(66548),J=i(66855),V=i(87955),ie=i(14228),oe=i(8143),ce=i(15504),ve=i(56876),Ee=i(98349),Te=i(60990),ke=i(19114),de=i(50598),Se=i(50702),Be=i(83398),Ne=i(21784),Ue=i(4945),lt=i(18506),it=i(4066),Ke=i(3813),qe=i(98977),_t=i(19939),pt=i(64747),tt=i(34747),gt=i(79770),at=i(92248),wt=i(49575),ut=i(24101),Ge=i(11325),Ot=i(37429),Qt=i(25700),mt=i(1785),Yt=i(66802),Et=i(46637),ge=i(50424),Le=i(80128),Ve=i(43726),Fe=i(51384),ot=i(45312),Ut=i(16408);const Kt={Moth:P.n,Bluebird:c.S,Chinchilla:A._,Beetle:_._,Ladybug:v.d,Chipmunk:e.C,Gecko:t.k,Ferret:n.t,Robin:r.v,Bat:a.M,Bilby:l.i,Dromedary:u.Q,Shrimp:g.S,Toucan:j.P,"Beluga Sturgeon":f.$,"Tabby Cat":D.b,Mandrill:k._,Lemur:L.S,"Gold Fish":F.Z,"Hoopoe Bird":ee.u,"Tropical Fish":J.f,"Hatching Chick":V.x,Owl:ie.d,Mole:oe.e,Pangolin:ce.Z,Puppy:ve.p,"Purple Frog":Ee.J,Hare:Te.z,Microbe:ke.u,Lobster:de.g,Buffalo:Se.s,Llama:Be.m,Caterpillar:Ne.G,Doberman:Ue.N,Tahr:lt.y,"Whale Shark":it.v,Chameleon:Ke.l,Gharial:qe.V,Stonefish:_t.w,Goat:ut.r,Chicken:pt.u,"Orchid Mantis":gt.u,Panther:at.X,Axolotl:wt.W,"Snapping Turtle":Ge.t,Mosasaurus:Ot.P,"Sting Ray":Qt.w,"Mantis Shrimp":mt.q,Lionfish:Yt.n,Tyrannosaurus:Et.x,Octopus:ge.S,Anglerfish:Le.w,Sauropod:Ve.y,"Elephant Seal":Fe.d,Puma:ot.E,Mongoose:Ut.c,Eagle:tt.Z}},35115(O,S,i){i.d(S,{t:()=>_});var P=i(46200),c=i(5615),A=i(904);class _ extends P.i{logService;abilityService;name="Taita Shrew";tier=2;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"TaitaShrewAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l}=t,u=this.owner;let g=u.parent.getThis(u),f=g.pet;if(!f)return;let D=new A.I(this.logService,this.abilityService,u.parent,f.health,f.attack,f.mana,f.exp,f.equipment);this.logService.createLog({message:`${u.name} transformed ${f.name} into ${D.name} (level ${this.level}).`,type:"ability",player:u.parent,tiger:l,randomEvent:g.random}),u.parent.transformPet(f,D),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},35389(O,S,i){i.d(S,{x:()=>A});var P=i(46200),c=i(5615);class A extends P.i{constructor(e,t,n){super(e,t,n),this.name="Barnacle",this.tier=3,this.pack="Custom",this.attack=1,this.health=3}initAbilities(){this.abilityList=[new _(this,this.logService)],super.initAbilities()}}class _ extends c.T{logService;constructor(e,t){super({name:"Barnacle Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,n=this.owner;if(0===(n.parent===t.player?t.playerRollAmount||0:t.opponentRollAmount||0)){const l=this.level;n.increaseExp(l),this.logService.createLog({message:`${n.name} gained +${l} experience (EndTurn, no rolls).`,type:"ability",player:n.parent})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},35454(O,S,i){i.d(S,{U:()=>t});var P=i(46200),c=i(5615),A=i(94798),_=i(58857),v=i(61850),e=i(79222);class t extends P.i{logService;abilityService;petService;name="Golden Tamarin";tier=4;pack="Danger";attack=4;health=4;initAbilities(){this.addAbility(new n(this,this.logService,this.petService)),super.initAbilities()}constructor(l,r,u,g,f,D,k,L,F,j){super(l,r,g),this.logService=l,this.abilityService=r,this.petService=u,this.initPet(L,f,D,k,F,j)}}class n extends c.T{logService;petService;constructor(l,r,u){super({name:"GoldenTamarinAbility",owner:l,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:l.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.petService=u}executeAbility(l){const{tiger:g}=l,D=this.owner;let L=D.parent.getThis(D).pet;if(!L)return;const F=A.s.goldenTamarin,j=(0,_.k6)({key:"pet.golden-tamarin-transform",label:(0,e.I)(D,"Golden Tamarin transform"),options:F.map(V=>({id:V,label:V}))},()=>(0,v.hw)(0,F.length-1));let J=this.petService.createPet({name:F[j.index],health:L.health,attack:L.attack,mana:L.mana,exp:L.exp,equipment:L.equipment},D.parent);D.parent.transformPet(L,J),this.logService.createLog({message:`${D.name} transformed ${L.name} into a ${J.attack}/${J.health} ${J.name}.`,type:"ability",player:D.parent,tiger:g,randomEvent:j.randomEvent}),this.triggerTigerExecution(l)}copy(l){return new n(l,this.logService,this.petService)}}},35547(O,S,i){i.d(S,{$C:()=>Hv,$Ln:()=>Ey,$o8:()=>ps,AVh:()=>Bp,Ab1:()=>go,Agw:()=>G,B4B:()=>Eh,BIS:()=>he,BMQ:()=>_m,C4Q:()=>Ic,C5r:()=>OP,C7A:()=>eu,Co$:()=>Wv,DH7:()=>Is,DNE:()=>Pl,DUP:()=>ao,DkB:()=>$m,EBC:()=>V_,EFF:()=>Yb,EJ8:()=>jv,Ef8:()=>ut,FsC:()=>qd,GBs:()=>Rp,H1s:()=>Ca,HbH:()=>Kb,Hgh:()=>Mp,JRh:()=>r_,Jt5:()=>gb,Jv_:()=>bP,KED:()=>V0,LHq:()=>o_,LVR:()=>yo,Lme:()=>Ou,NCX:()=>Id,NOj:()=>X_,NSC:()=>Gl,NYb:()=>nm,OA$:()=>Ue,Ocv:()=>lD,PLl:()=>Z,PeT:()=>Es,R50:()=>oP,R7$:()=>ef,RV6:()=>Os,SpI:()=>wu,TFI:()=>cp,UQu:()=>aD,VBU:()=>Qd,VeQ:()=>xe,Vt3:()=>_o,VzW:()=>Kv,XpG:()=>zl,Y8G:()=>Bm,YEm:()=>ca,Zhj:()=>HS,_9s:()=>og,_9u:()=>cr,_jY:()=>Pn,_qm:()=>zt,_ys:()=>cf,a8H:()=>Cc,aCM:()=>Ma,aKT:()=>Xt,bH1:()=>$v,bIt:()=>zm,bVm:()=>Kl,c1b:()=>Yd,cDI:()=>ap,cdK:()=>lp,czy:()=>yd,d80:()=>zP,dOL:()=>Ay,dfE:()=>SA,e6s:()=>DT,eHC:()=>zd,eq3:()=>$p,eu8:()=>fu,eux:()=>mu,gXe:()=>Da,j41:()=>Wl,k0s:()=>gu,kBR:()=>hb,kS0:()=>Re,lJ4:()=>AP,lJT:()=>Ty,l_i:()=>EP,lsd:()=>Jm,mGM:()=>kb,mS5:()=>Ge,mY:()=>Ce,mal:()=>Lh,mxI:()=>Wp,nrm:()=>Tp,nv$:()=>kr,o8S:()=>om,ozJ:()=>pg,pl0:()=>Sy,qex:()=>_u,rXU:()=>pl,rj2:()=>Dp,rpG:()=>XP,s1E:()=>u_,sFG:()=>nS,sMw:()=>Iu,sZ2:()=>ei,sdS:()=>Ib,sgu:()=>Fv,tSv:()=>j_,uiO:()=>ee,utN:()=>bS,vDg:()=>Pv,w6W:()=>mo,xGo:()=>Qn,xc7:()=>Zm,xe9:()=>T_,yLl:()=>iu,ypd:()=>G1,ziG:()=>SP,zoo:()=>lf});var P=i(10467),c=i(47868),A=i(15824),_=i(45286),v=i(31805),e=i(95006);function t(s){return{toString:s}.toString()}const n="__annotations__",a="__parameters__",l="__prop__metadata__";function r(s,p,m,b,T){return t(()=>{const M=u(p);function w(...R){if(this instanceof w)return M.call(this,...R),this;const B=new w(...R);return function(Q){return T&&T(Q,...R),(Q.hasOwnProperty(n)?Q[n]:Object.defineProperty(Q,n,{value:[]})[n]).push(B),Q}}return m&&(w.prototype=Object.create(m.prototype)),w.prototype.ngMetadataName=s,w.annotationCls=w,w})}function u(s){return function(...m){if(s){const b=s(...m);for(const T in b)this[T]=b[T]}}}function g(s,p,m){return t(()=>{const b=u(p);function T(...M){if(this instanceof T)return b.apply(this,M),this;const w=new T(...M);return R.annotation=w,R;function R(B,$,Q){const re=B.hasOwnProperty(a)?B[a]:Object.defineProperty(B,a,{value:[]})[a];for(;re.length<=Q;)re.push(null);return(re[Q]=re[Q]||[]).push(w),B}}return T.prototype.ngMetadataName=s,T.annotationCls=T,T})}const D=(0,c.z6V)(g("Inject",s=>({token:s})),-1),k=(0,c.z6V)(g("Optional"),8),L=(0,c.z6V)(g("Self"),2),F=(0,c.z6V)(g("SkipSelf"),4),j=(0,c.z6V)(g("Host"),1);function ee(s){const p=c.laP.ng;if(p&&p.\u0275compilerFacade)return p.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const J={\u0275\u0275defineInjectable:c.jDH,\u0275\u0275defineInjector:c.G2t,\u0275\u0275inject:c.KVO,\u0275\u0275invalidFactoryDep:c.dmw,resolveForwardRef:c.nl4},V=Function;function ie(s){return"function"==typeof s}const oe=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,ce=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,ve=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Ee=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class ke{_reflect;constructor(p){this._reflect=p||c.laP.Reflect}factory(p){return(...m)=>new p(...m)}_zipTypesAndAnnotations(p,m){let b;b=(0,c.WfI)(typeof p>"u"?m.length:p.length);for(let T=0;T<b.length;T++)b[T]=typeof p>"u"?[]:p[T]&&p[T]!=Object?[p[T]]:[],m&&null!=m[T]&&(b[T]=b[T].concat(m[T]));return b}_ownParameters(p,m){if(function Te(s){return oe.test(s)||Ee.test(s)||ce.test(s)&&!ve.test(s)}(p.toString()))return null;if(p.parameters&&p.parameters!==m.parameters)return p.parameters;const T=p.ctorParameters;if(T&&T!==m.ctorParameters){const R="function"==typeof T?T():T,B=R.map(Q=>Q&&Q.type),$=R.map(Q=>Q&&de(Q.decorators));return this._zipTypesAndAnnotations(B,$)}const M=p.hasOwnProperty(a)&&p[a],w=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",p);return w||M?this._zipTypesAndAnnotations(w,M):(0,c.WfI)(p.length)}parameters(p){if(!ie(p))return[];const m=Se(p);let b=this._ownParameters(p,m);return!b&&m!==Object&&(b=this.parameters(m)),b||[]}_ownAnnotations(p,m){if(p.annotations&&p.annotations!==m.annotations){let b=p.annotations;return"function"==typeof b&&b.annotations&&(b=b.annotations),b}return p.decorators&&p.decorators!==m.decorators?de(p.decorators):p.hasOwnProperty(n)?p[n]:null}annotations(p){if(!ie(p))return[];const m=Se(p),b=this._ownAnnotations(p,m)||[];return(m!==Object?this.annotations(m):[]).concat(b)}_ownPropMetadata(p,m){if(p.propMetadata&&p.propMetadata!==m.propMetadata){let b=p.propMetadata;return"function"==typeof b&&b.propMetadata&&(b=b.propMetadata),b}if(p.propDecorators&&p.propDecorators!==m.propDecorators){const b=p.propDecorators,T={};return Object.keys(b).forEach(M=>{T[M]=de(b[M])}),T}return p.hasOwnProperty(l)?p[l]:null}propMetadata(p){if(!ie(p))return{};const m=Se(p),b={};if(m!==Object){const M=this.propMetadata(m);Object.keys(M).forEach(w=>{b[w]=M[w]})}const T=this._ownPropMetadata(p,m);return T&&Object.keys(T).forEach(M=>{const w=[];b.hasOwnProperty(M)&&w.push(...b[M]),w.push(...T[M]),b[M]=w}),b}ownPropMetadata(p){return ie(p)&&this._ownPropMetadata(p,Se(p))||{}}hasLifecycleHook(p,m){return p instanceof V&&m in p.prototype}}function de(s){return s?s.map(p=>new(0,p.type.annotationCls)(...p.args?p.args:[])):[]}function Se(s){const p=s.prototype?Object.getPrototypeOf(s.prototype):null;return(p?p.constructor:null)||Object}function Be(s,p,m,b){null!==p?p.applyValueToInputSignal(p,b):s[m]=b}class Ne{previousValue;currentValue;firstChange;constructor(p,m,b){this.previousValue=p,this.currentValue=m,this.firstChange=b}isFirstChange(){return this.firstChange}}const Ue=(()=>{const s=()=>lt;return s.ngInherit=!0,s})();function lt(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ke),it}function it(){const s=_t(this),p=s?.current;if(p){const m=s.previous;if(m===c.MZA)s.previous=p;else for(let b in p)m[b]=p[b];s.current=null,this.ngOnChanges(p)}}function Ke(s,p,m,b,T){const M=this.declaredInputs[b],w=_t(s)||function pt(s,p){return s[qe]=p}(s,{previous:c.MZA,current:null}),R=w.current||(w.current={}),B=w.previous,$=B[M];R[M]=new Ne($&&$.currentValue,m,B===c.MZA),Be(s,p,T,m)}const qe="__ngSimpleChanges__";function _t(s){return s[qe]||null}const tt=[],ut=function(s,p=null,m){for(let b=0;b<tt.length;b++)(0,tt[b])(s,p,m)};var Ge=function(s){return s[s.TemplateCreateStart=0]="TemplateCreateStart",s[s.TemplateCreateEnd=1]="TemplateCreateEnd",s[s.TemplateUpdateStart=2]="TemplateUpdateStart",s[s.TemplateUpdateEnd=3]="TemplateUpdateEnd",s[s.LifecycleHookStart=4]="LifecycleHookStart",s[s.LifecycleHookEnd=5]="LifecycleHookEnd",s[s.OutputStart=6]="OutputStart",s[s.OutputEnd=7]="OutputEnd",s[s.BootstrapApplicationStart=8]="BootstrapApplicationStart",s[s.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",s[s.BootstrapComponentStart=10]="BootstrapComponentStart",s[s.BootstrapComponentEnd=11]="BootstrapComponentEnd",s[s.ChangeDetectionStart=12]="ChangeDetectionStart",s[s.ChangeDetectionEnd=13]="ChangeDetectionEnd",s[s.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",s[s.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",s[s.AfterRenderHooksStart=16]="AfterRenderHooksStart",s[s.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",s[s.ComponentStart=18]="ComponentStart",s[s.ComponentEnd=19]="ComponentEnd",s[s.DeferBlockStateStart=20]="DeferBlockStateStart",s[s.DeferBlockStateEnd=21]="DeferBlockStateEnd",s[s.DynamicComponentStart=22]="DynamicComponentStart",s[s.DynamicComponentEnd=23]="DynamicComponentEnd",s[s.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",s[s.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",s}(Ge||{});function Qt(s,p){for(let m=p.directiveStart,b=p.directiveEnd;m<b;m++){const M=s.data[m].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:R,ngAfterViewInit:B,ngAfterViewChecked:$,ngOnDestroy:Q}=M;w&&(s.contentHooks??=[]).push(-m,w),R&&((s.contentHooks??=[]).push(m,R),(s.contentCheckHooks??=[]).push(m,R)),B&&(s.viewHooks??=[]).push(-m,B),$&&((s.viewHooks??=[]).push(m,$),(s.viewCheckHooks??=[]).push(m,$)),null!=Q&&(s.destroyHooks??=[]).push(m,Q)}}function mt(s,p,m){ge(s,p,3,m)}function Yt(s,p,m,b){(3&s[c.Wg1])===m&&ge(s,p,m,b)}function Et(s,p){let m=s[c.Wg1];(3&m)===p&&(m&=16383,m+=1,s[c.Wg1]=m)}function ge(s,p,m,b){const M=b??-1,w=p.length-1;let R=0;for(let B=void 0!==b?65535&s[c.wVl]:0;B<w;B++)if("number"==typeof p[B+1]){if(R=p[B],null!=b&&R>=b)break}else p[B]<0&&(s[c.wVl]+=65536),(R<M||-1==M)&&(Ve(s,m,p,B),s[c.wVl]=(4294901760&s[c.wVl])+B+2),B++}function Le(s,p){ut(Ge.LifecycleHookStart,s,p);const m=(0,A.Ht)(null);try{p.call(s)}finally{(0,A.Ht)(m),ut(Ge.LifecycleHookEnd,s,p)}}function Ve(s,p,m,b){const T=m[b]<0,M=m[b+1],R=s[T?-m[b]:m[b]];T?s[c.Wg1]>>14<s[c.wVl]>>16&&(3&s[c.Wg1])===p&&(s[c.Wg1]+=16384,Le(R,M)):Le(R,M)}class ot{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(p,m,b,T){this.factory=p,this.name=T,this.canSeeViewProviders=m,this.injectImpl=b}}function Kt(s){return null!=s&&"object"==typeof s&&(null===s.insertBeforeIndex||"number"==typeof s.insertBeforeIndex||Array.isArray(s.insertBeforeIndex))}function Gi(s){return 3===s||4===s||6===s}function Ci(s){return 64===s.charCodeAt(0)}function ki(s,p){if(null!==p&&0!==p.length)if(null===s||0===s.length)s=p.slice();else{let m=-1;for(let b=0;b<p.length;b++){const T=p[b];"number"==typeof T?m=T:0===m||Hi(s,m,T,0,-1===m||2===m?p[++b]:null)}}return s}function Hi(s,p,m,b,T){let M=0,w=s.length;if(-1===p)w=-1;else for(;M<s.length;){const R=s[M++];if("number"==typeof R){if(R===p){w=-1;break}if(R>p){w=M-1;break}}}for(;M<s.length;){const R=s[M];if("number"==typeof R)break;if(R===m)return void(null!==T&&(s[M+1]=T));M++,null!==T&&M++}-1!==w&&(s.splice(w,0,p),M=w+1),s.splice(M++,0,m),null!==T&&s.splice(M++,0,T)}function En(s){return-1!==s}function Ti(s){return 32767&s}function Di(s,p){let m=function _i(s){return s>>16}(s),b=p;for(;m>0;)b=b[c.X5O],m--;return b}let Fn=!0;function pn(s){const p=Fn;return Fn=s,p}let Rn=0;const Li={};function wi(s,p){const m=Sn(s,p);if(-1!==m)return m;const b=p[c.eDl];b.firstCreatePass&&(s.injectorIndex=p.length,Wi(b.data,s),Wi(p,null),Wi(b.blueprint,null));const T=vi(s,p),M=s.injectorIndex;if(En(T)){const w=Ti(T),R=Di(T,p),B=R[c.eDl].data;for(let $=0;$<8;$++)p[M+$]=R[w+$]|B[w+$]}return p[M+8]=T,M}function Wi(s,p){s.push(0,0,0,0,0,0,0,0,p)}function Sn(s,p){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===p[s.injectorIndex+8]?-1:s.injectorIndex}function vi(s,p){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let m=0,b=null,T=p;for(;null!==T;){if(b=fe(T),null===b)return-1;if(m++,T=T[c.X5O],-1!==b.injectorIndex)return b.injectorIndex|m<<16}return-1}function Xi(s,p,m){!function ui(s,p,m){let b;"string"==typeof m?b=m.charCodeAt(0)||0:m.hasOwnProperty(c.p9y)&&(b=m[c.p9y]),null==b&&(b=m[c.p9y]=Rn++);const T=255&b;p.data[s+(T>>5)]|=1<<T}(s,p,m)}function Tn(s,p,m){if(8&m||void 0!==s)return s;(0,c.$Hz)(p,"NodeInjector")}function Yn(s,p,m,b){if(8&m&&void 0===b&&(b=null),!(3&m)){const T=s[c.YEL],M=(0,c.a2B)(void 0);try{return T?T.get(p,b,8&m):(0,c.MzJ)(p,b,8&m)}finally{(0,c.a2B)(M)}}return Tn(b,p,m)}function Ai(s,p,m,b=0,T){if(null!==s){if(2048&p[c.Wg1]&&!(2&b)){const w=function Pe(s,p,m,b,T){let M=s,w=p;for(;null!==M&&null!==w&&2048&w[c.Wg1]&&!(0,c.EFk)(w);){const R=Qi(M,w,m,2|b,Li);if(R!==Li)return R;let B=M.parent;if(!B){const $=w[c.oMQ];if($){const Q=$.get(m,Li,b);if(Q!==Li)return Q}B=fe(w),w=w[c.X5O]}M=B}return T}(s,p,m,b,Li);if(w!==Li)return w}const M=Qi(s,p,m,b,Li);if(M!==Li)return M}return Yn(p,m,b,T)}function Qi(s,p,m,b,T){const M=function Xn(s){if("string"==typeof s)return s.charCodeAt(0)||0;const p=s.hasOwnProperty(c.p9y)?s[c.p9y]:void 0;return"number"==typeof p?p>=0?255&p:Jn:p}(m);if("function"==typeof M){if(!(0,c.ihb)(p,s,b))return 1&b?Tn(T,m,b):Yn(p,m,b,T);try{let w;if(w=M(b),null!=w||8&b)return w;(0,c.$Hz)(m)}finally{(0,c.niQ)()}}else if("number"==typeof M){let w=null,R=Sn(s,p),B=-1,$=1&b?p[c.b5C][c.qlT]:null;for((-1===R||4&b)&&(B=-1===R?vi(s,p):p[R+8],-1!==B&&Va(b,!1)?(w=p[c.eDl],R=Ti(B),p=Di(B,p)):R=-1);-1!==R;){const Q=p[c.eDl];if(Pa(M,R,Q.data)){const re=Gn(R,p,m,w,b,$);if(re!==Li)return re}B=p[R+8],-1!==B&&Va(b,p[c.eDl].data[R+8]===$)&&Pa(M,R,p)?(w=Q,R=Ti(B),p=Di(B,p)):R=-1}}return T}function Gn(s,p,m,b,T,M){const w=p[c.eDl],R=w.data[s+8],Q=Dn(R,w,m,null==b?(0,c.Qs1)(R)&&Fn:b!=w&&!!(3&R.type),1&T&&M===R);return null!==Q?an(p,w,Q,R,T):Li}function Dn(s,p,m,b,T){const M=s.providerIndexes,w=p.data,R=1048575&M,B=s.directiveStart,Q=M>>20,ye=T?R+Q:s.directiveEnd;for(let be=b?R:R+Q;be<ye;be++){const we=w[be];if(be<B&&m===we||be>=B&&we.type===m)return be}if(T){const be=w[B];if(be&&(0,c.JlV)(be)&&be.type===m)return B}return null}function an(s,p,m,b,T){let M=s[m];const w=p.data;if(M instanceof ot){const R=M;if(R.resolving){const be=(0,c.PP7)(w[m]);throw(0,c.PQT)(be)}const B=pn(R.canSeeViewProviders);R.resolving=!0;const re=R.injectImpl?(0,c.a2B)(R.injectImpl):null;(0,c.ihb)(s,b,0);try{M=s[m]=R.factory(void 0,T,w,s,b),p.firstCreatePass&&m>=b.directiveStart&&function Ot(s,p,m){const{ngOnChanges:b,ngOnInit:T,ngDoCheck:M}=p.type.prototype;if(b){const w=lt(p);(m.preOrderHooks??=[]).push(s,w),(m.preOrderCheckHooks??=[]).push(s,w)}T&&(m.preOrderHooks??=[]).push(0-s,T),M&&((m.preOrderHooks??=[]).push(s,M),(m.preOrderCheckHooks??=[]).push(s,M))}(m,w[m],p)}finally{null!==re&&(0,c.a2B)(re),pn(B),R.resolving=!1,(0,c.niQ)()}}return M}function Pa(s,p,m){return!!(m[p+(s>>5)]&1<<s)}function Va(s,p){return!(2&s||1&s&&p)}class di{_tNode;_lView;constructor(p,m){this._tNode=p,this._lView=m}get(p,m,b){return Ai(this._tNode,this._lView,p,(0,c.hjC)(b),m)}}function Jn(){return new di((0,c.Mx4)(),(0,c.OAn)())}function Qn(s){return t(()=>{const p=s.prototype.constructor,m=p[c.zSs]||le(p),b=Object.prototype;let T=Object.getPrototypeOf(s.prototype).constructor;for(;T&&T!==b;){const M=T[c.zSs]||le(T);if(M&&M!==m)return M;T=Object.getPrototypeOf(T)}return M=>new M})}function le(s){return(0,c.Jzi)(s)?()=>{const p=le((0,c.nl4)(s));return p&&p()}:(0,c.wGu)(s)}function fe(s){const p=s[c.eDl],m=p.type;return 2===m?p.declTNode:1===m?s[c.qlT]:null}function Re(s){return function Ji(s,p){if("class"===p)return s.classes;if("style"===p)return s.styles;const m=s.attrs;if(m){const b=m.length;let T=0;for(;T<b;){const M=m[T];if(Gi(M))break;if(0===M)T+=2;else if("number"==typeof M)for(T++;T<b&&"string"==typeof m[T];)T++;else{if(M===p)return m[T+1];T+=2}}}return null}((0,c.Mx4)(),s)}const We=g("Attribute",s=>({attributeName:s,__NG_ELEMENT_ID__:()=>Re(s)}));let je=null;function Wt(s){return At(function ze(){return je=je||new ke}().parameters(s))}function At(s){return s.map(p=>function yi(s){const p={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(s)&&s.length>0)for(let m=0;m<s.length;m++){const b=s[m];if(void 0===b)continue;const T=Object.getPrototypeOf(b);if(b instanceof k||"Optional"===T.ngMetadataName)p.optional=!0;else if(b instanceof F||"SkipSelf"===T.ngMetadataName)p.skipSelf=!0;else if(b instanceof L||"Self"===T.ngMetadataName)p.self=!0;else if(b instanceof j||"Host"===T.ngMetadataName)p.host=!0;else if(b instanceof D)p.token=b.token;else if(b instanceof We){if(void 0===b.attributeName)throw new c.buA(204,!1);p.attribute=b.attributeName}else p.token=b}else p.token=void 0===s||Array.isArray(s)&&0===s.length?null:s;return p}(p))}const gi=(0,c.kLh)({provide:String,useValue:c.kLh});function pi(s){return void 0!==s.useClass}function ai(s){return void 0!==s.useFactory}const zt=r("Injectable",void 0,void 0,0,(s,p)=>function xi(s,p){let m=null,b=null;s.hasOwnProperty(c.yAH)||Object.defineProperty(s,c.yAH,{get:()=>(null===m&&(m=ee().compileInjectable(J,`ng:///${s.name}/\u0275prov.js`,function $t(s,p){const m=p||{providedIn:null},b={name:s.name,type:s,typeArgumentCount:0,providedIn:m.providedIn};return(pi(m)||ai(m))&&void 0!==m.deps&&(b.deps=At(m.deps)),pi(m)?b.useClass=m.useClass:function sn(s){return gi in s}(m)?b.useValue=m.useValue:ai(m)?b.useFactory=m.useFactory:function Oi(s){return void 0!==s.useExisting}(m)&&(b.useExisting=m.useExisting),b}(s,p))),m)}),s.hasOwnProperty(c.zSs)||Object.defineProperty(s,c.zSs,{get:()=>{if(null===b){const T=ee();b=T.compileFactory(J,`ng:///${s.name}/\u0275fac.js`,{name:s.name,type:s,typeArgumentCount:0,deps:Wt(s),target:T.FactoryTarget.Injectable})}return b},configurable:!0})}(s,p));function bi(){return Mi((0,c.Mx4)(),(0,c.OAn)())}function Mi(s,p){return new Xt((0,c.d31)(s,p))}let Xt=(()=>class s{nativeElement;constructor(m){this.nativeElement=m}static __NG_ELEMENT_ID__=bi})();function Ii(s){return s instanceof Xt?s.nativeElement:s}function rn(){return this._results[Symbol.iterator]()}class Fi{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new _.B7}constructor(p=!1){this._emitDistinctChangesOnly=p}get(p){return this._results[p]}map(p){return this._results.map(p)}filter(p){return this._results.filter(p)}find(p){return this._results.find(p)}reduce(p,m){return this._results.reduce(p,m)}forEach(p){this._results.forEach(p)}some(p){return this._results.some(p)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(p,m){this.dirty=!1;const b=(0,c.Bqz)(p);(this._changesDetected=!(0,c.ng7)(this._results,b,m))&&(this._results=b,this.length=b.length,this.last=b[this.length-1],this.first=b[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(p){this._onDirty=p}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=rn}function qi(s){return!(128&~s.flags)}var _n=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(_n||{});const fn=new Map;let Ea=0;function Y(s){fn.delete(s[c.ID])}const Ze="__ngContext__";function st(s,p){(0,c.q$2)(p)?(s[Ze]=p[c.ID],function Mn(s){fn.set(s[c.ID],s)}(p)):s[Ze]=p}function Cn(s){return os(s[c.EJG])}function Ya(s){return os(s[c.K29])}function os(s){for(;null!==s&&!(0,c.A0l)(s);)s=s[c.K29];return s}let la;function cr(s){la=s}function ca(){if(void 0!==la)return la;if(typeof document<"u")return document;throw new c.buA(210,!1)}const ei=new c.nKC("",{factory:()=>ds}),ds="ng",ps={provide:c.Z63,multi:!0,useValue:()=>{const s=(0,c.WQX)(ei);if(!/^[a-zA-Z0-9\-_]+$/.test(s))throw new c.buA(211,`APP_ID value "${s}" is not alphanumeric. The APP_ID must be a string of alphanumeric characters. (a-zA-Z0-9), hyphens (-) and underscores (_) are allowed.`)}},Z=new c.nKC(""),G=new c.nKC("",{providedIn:"platform",factory:()=>"unknown"}),he=new c.nKC("",{factory:()=>(0,c.WQX)(c.qQL).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Ce={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},xe=new c.nKC("",{factory:()=>Ce});let nt=(()=>{class s{static \u0275prov=(0,c.jDH)({token:s,providedIn:"root",factory:()=>{const m=new s;return m.store=function Dt(s,p){const m=s.getElementById(p+"-state");if(m?.textContent)try{return JSON.parse(m.textContent)}catch(b){console.warn("Exception while restoring TransferState for app "+p,b)}return{}}((0,c.WQX)(c.qQL),(0,c.WQX)(ei)),m}});store={};onSerializeCallbacks={};get(m,b){return void 0!==this.store[m]?this.store[m]:b}set(m,b){this.store[m]=b}remove(m){delete this.store[m]}hasKey(m){return this.store.hasOwnProperty(m)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(m,b){this.onSerializeCallbacks[m]=b}toJson(){for(const m in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(m))try{this.store[m]=this.onSerializeCallbacks[m]()}catch(b){console.warn("Exception in onSerialize callback: ",b)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return s})();const qa=new c.nKC("",{factory:()=>!1}),tc=new c.nKC(""),Ns={passive:!0,capture:!0},xa=new WeakMap,hr=new WeakMap,Ba=new WeakMap,Us=["click","keydown"],gr=["mouseenter","mouseover","focusin"],mr=new Map;class _r{callbacks=new Set;listener=()=>{for(const p of this.callbacks)p()}}function $r(s,p){let m=hr.get(s);if(!m){m=new _r,hr.set(s,m);for(const b of Us)s.addEventListener(b,m.listener,Ns)}return m.callbacks.add(p),()=>{const{callbacks:b,listener:T}=m;if(b.delete(p),0===b.size){hr.delete(s);for(const M of Us)s.removeEventListener(M,T,Ns)}}}function Ro(s,p){let m=xa.get(s);if(!m){m=new _r,xa.set(s,m);for(const b of gr)s.addEventListener(b,m.listener,Ns)}return m.callbacks.add(p),()=>{const{callbacks:b,listener:T}=m;if(b.delete(p),0===b.size){for(const M of gr)s.removeEventListener(M,T,Ns);xa.delete(s)}}}function Za(s){return s?`${s.rootMargin}/${"number"==typeof s.threshold?s.threshold:s.threshold?.join("\n")}`:""}const ln=new c.nKC("");function ua(s){return!(32&~s.flags)}function th(s){let p=s._lView;return 2===p[c.eDl].type?null:((0,c.EFk)(p)&&(p=p[c.Yw1]),p)}function zu(s){return s.get(tc,!1,{optional:!0})}function td(s,p){const m=s.contentQueries;if(null!==m){const b=(0,A.Ht)(null);try{for(let T=0;T<m.length;T+=2){const w=m[T+1];if(-1!==w){const R=s.data[w];(0,c.GA0)(m[T]),R.contentQueries(2,p[w],w)}}}finally{(0,A.Ht)(b)}}}function $o(s,p,m){(0,c.GA0)(0);const b=(0,A.Ht)(null);try{p(s,m)}finally{(0,A.Ht)(b)}}function dc(s,p,m){if((0,c.srX)(p)){const b=(0,A.Ht)(null);try{const M=p.directiveEnd;for(let w=p.directiveStart;w<M;w++){const R=s.data[w];R.contentQueries&&R.contentQueries(1,m[w],w)}}finally{(0,A.Ht)(b)}}}var Da=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s[s.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",s}(Da||{});let Kn,br;function wn(){if(void 0===Kn&&(Kn=null,c.laP.trustedTypes))try{Kn=c.laP.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Kn}function _s(s){return wn()?.createHTML(s)||s}function fs(){if(void 0===br&&(br=null,c.laP.trustedTypes))try{br=c.laP.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return br}function gc(s){return fs()?.createHTML(s)||s}function rd(s){return fs()?.createScript(s)||s}function Pr(s){return fs()?.createScriptURL(s)||s}class dh{changingThisBreaksApplicationSecurity;constructor(p){this.changingThisBreaksApplicationSecurity=p}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${c.ok8})`}}function Ma(s){return s instanceof dh?s.changingThisBreaksApplicationSecurity:s}function zo(s,p){const m=function Yo(s){return s instanceof dh&&s.getTypeName()||null}(s);if(null!=m&&m!==p){if("ResourceURL"===m&&"URL"===p)return!0;throw new Error(`Required a safe ${p}, got a ${m} (see ${c.ok8})`)}return m===p}function ld(s){const p=new kt(s);return function da(){try{return!!(new window.DOMParser).parseFromString(_s(""),"text/html")}catch{return!1}}()?new cd(p):p}class cd{inertDocumentHelper;constructor(p){this.inertDocumentHelper=p}getInertBodyElement(p){p="<body><remove></remove>"+p;try{const m=(new window.DOMParser).parseFromString(_s(p),"text/html").body;return null===m?this.inertDocumentHelper.getInertBodyElement(p):(m.firstChild?.remove(),m)}catch{return null}}}class kt{defaultDoc;inertDocument;constructor(p){this.defaultDoc=p,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(p){const m=this.inertDocument.createElement("template");return m.innerHTML=_s(p),m}}const ud=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vs(s){return(s=String(s)).match(ud)?s:"unsafe:"+s}function ta(s){const p={};for(const m of s.split(","))p[m]=!0;return p}function Ks(...s){const p={};for(const m of s)for(const b in m)m.hasOwnProperty(b)&&(p[b]=!0);return p}const _c=ta("area,br,col,hr,img,wbr"),Jo=ta("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qo=ta("rp,rt"),dd=Ks(_c,Ks(Jo,ta("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ks(Qo,ta("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ks(Qo,Jo)),fc=ta("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qo=Ks(fc,ta("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ta("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mh=ta("script,style,template");class vc{sanitizedSomething=!1;buf=[];sanitizeChildren(p){let m=p.firstChild,b=!0,T=[];for(;m;)if(m.nodeType===Node.ELEMENT_NODE?b=this.startElement(m):m.nodeType===Node.TEXT_NODE?this.chars(m.nodeValue):this.sanitizedSomething=!0,b&&m.firstChild)T.push(m),m=vh(m);else for(;m;){m.nodeType===Node.ELEMENT_NODE&&this.endElement(m);let M=fh(m);if(M){m=M;break}m=T.pop()}return this.buf.join("")}startElement(p){const m=pd(p).toLowerCase();if(!dd.hasOwnProperty(m))return this.sanitizedSomething=!0,!mh.hasOwnProperty(m);this.buf.push("<"),this.buf.push(m);const b=p.attributes;for(let T=0;T<b.length;T++){const M=b.item(T),w=M.name,R=w.toLowerCase();if(!qo.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let B=M.value;fc[R]&&(B=vs(B)),this.buf.push(" ",w,'="',bc(B),'"')}return this.buf.push(">"),!0}endElement(p){const m=pd(p).toLowerCase();dd.hasOwnProperty(m)&&!_c.hasOwnProperty(m)&&(this.buf.push("</"),this.buf.push(m),this.buf.push(">"))}chars(p){this.buf.push(bc(p))}}function fh(s){const p=s.nextSibling;if(p&&s!==p.previousSibling)throw yc(p);return p}function vh(s){const p=s.firstChild;if(p&&function _h(s,p){return(s.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(s,p))throw yc(p);return p}function pd(s){const p=s.nodeName;return"string"==typeof p?p:"FORM"}function yc(s){return new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`)}const yh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hd=/([^\#-~ |!])/g;function bc(s){return s.replace(/&/g,"&amp;").replace(yh,function(p){return"&#"+(1024*(p.charCodeAt(0)-55296)+(p.charCodeAt(1)-56320)+65536)+";"}).replace(hd,function(p){return"&#"+p.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let to;function Pc(s){return"content"in s&&function Ph(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}const Ar=/^>|^->|<!--|-->|--!>|<!-$/g,gd=/(<|>)/g;function H(s,p){return s.createText(p)}function ae(s,p,m){s.setValue(p,m)}function Ae(s,p){return s.createComment(function x(s){return s.replace(Ar,p=>p.replace(gd,"\u200b$1\u200b"))}(p))}function Oe(s,p,m){return s.createElement(p,m)}function Je(s,p,m,b,T){s.insertBefore(p,m,b,T)}function yt(s,p,m){s.appendChild(p,m)}function Si(s,p,m,b,T){null!==b?Je(s,p,m,b,T):yt(s,p,m)}function ti(s,p,m,b){s.removeChild(null,p,m,b)}function G_(s,p,m){const{mergedAttrs:b,classes:T,styles:M}=m;null!==b&&function Yi(s,p,m){let b=0;for(;b<m.length;){const T=m[b];if("number"==typeof T){if(0!==T)break;b++;const M=m[b++],w=m[b++],R=m[b++];s.setAttribute(p,w,R,M)}else{const M=T,w=m[++b];Ci(M)?s.setProperty(p,M,w):s.setAttribute(p,M,w),b++}}}(s,p,b),null!==T&&function oA(s,p,m){""===m?s.removeAttribute(p,"class"):s.setAttribute(p,"class",m)}(s,p,T),null!==M&&function $s(s,p,m){s.setAttribute(p,"style",m)}(s,p,M)}var Wa=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(Wa||{});function Eh(s){const p=Ac();return p?p.sanitize(Wa.URL,s)||"":zo(s,"URL")?Ma(s):vs((0,c.eFE)(s))}function H_(s){const p=Ac();if(p)return Pr(p.sanitize(Wa.RESOURCE_URL,s)||"");if(zo(s,"ResourceURL"))return Pr(Ma(s));throw new c.buA(904,!1)}const hA=new Set(["embed","frame","iframe","media","script"]),gA=new Set(["base","link","script"]);function Ac(){const s=(0,c.OAn)();return s&&s[c.M0L].sanitizer}const _d=new Set(["attributename"]),fA={iframe:new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]),animate:_d,set:_d,animatemotion:_d,animatetransform:_d};function j_(s){return s.ownerDocument.defaultView}function V_(s){return s.ownerDocument}function ys(s){return s instanceof Function?s():s}function SA(s){if(X_(s),!(0,c.xUg)(s).standalone)throw new c.buA(907,`The ${(0,c.PP7)(s)} component is not marked as standalone, but Angular expects to have a standalone component here. Please make sure the ${(0,c.PP7)(s)} component does not have the \`standalone: false\` flag in the decorator.`)}function X_(s){if(!(0,c.xUg)(s))throw new c.buA(906,`The ${(0,c.PP7)(s)} is not an Angular component, make sure it has the \`@Component\` decorator.`)}function Ec(s,p,m){let b=s.length;for(;;){const T=s.indexOf(p,m);if(-1===T)return T;if(0===T||s.charCodeAt(T-1)<=32){const M=p.length;if(T+M===b||s.charCodeAt(T+M)<=32)return T}m=T+1}}const Sc="ng-template";function Th(s,p,m,b){let T=0;if(b){for(;T<p.length&&"string"==typeof p[T];T+=2)if("class"===p[T]&&-1!==Ec(p[T+1].toLowerCase(),m,0))return!0}else if(Tc(s))return!1;if(T=p.indexOf(1,T),T>-1){let M;for(;++T<p.length&&"string"==typeof(M=p[T]);)if(M.toLowerCase()===m)return!0}return!1}function Tc(s){return 4===s.type&&s.value!==Sc}function Dh(s,p,m){return p===(4!==s.type||m?s.value:Sc)}function Q_(s,p,m){let b=4;const T=s.attrs,M=null!==T?function io(s){for(let p=0;p<s.length;p++)if(Gi(s[p]))return p;return s.length}(T):0;let w=!1;for(let R=0;R<p.length;R++){const B=p[R];if("number"!=typeof B){if(!w)if(4&b){if(b=2|1&b,""!==B&&!Dh(s,B,m)||""===B&&1===p.length){if(es(b))return!1;w=!0}}else if(8&b){if(null===T||!Th(s,T,B,m)){if(es(b))return!1;w=!0}}else{const $=p[++R],Q=Gs(B,T,Tc(s),m);if(-1===Q){if(es(b))return!1;w=!0;continue}if(""!==$){let re;if(re=Q>M?"":T[Q+1].toLowerCase(),2&b&&$!==re){if(es(b))return!1;w=!0}}}}else{if(!w&&!es(b)&&!es(B))return!1;if(w&&es(B))continue;w=!1,b=B|1&b}}return es(b)||w}function es(s){return!(1&s)}function Gs(s,p,m,b){if(null===p)return-1;let T=0;if(b||!m){let M=!1;for(;T<p.length;){const w=p[T];if(w===s)return T;if(3===w||6===w)M=!0;else{if(1===w||2===w){let R=p[++T];for(;"string"==typeof R;)R=p[++T];continue}if(4===w)break;if(0===w){T+=4;continue}}T+=M?1:2}return-1}return function MA(s,p){let m=s.indexOf(4);if(m>-1)for(m++;m<s.length;){const b=s[m];if("number"==typeof b)return-1;if(b===p)return m;m++}return-1}(p,s)}function Dc(s,p,m=!1){for(let b=0;b<p.length;b++)if(Q_(s,p[b],m))return!0;return!1}function CA(s,p){e:for(let m=0;m<p.length;m++){const b=p[m];if(s.length===b.length){for(let T=0;T<s.length;T++)if(s[T]!==b[T])continue e;return!0}}return!1}function q_(s,p){return s?":not("+p.trim()+")":p}function kA(s){let p=s[0],m=1,b=2,T="",M=!1;for(;m<s.length;){let w=s[m];if("string"==typeof w)if(2&b){const R=s[++m];T+="["+w+(R.length>0?'="'+R+'"':"")+"]"}else 8&b?T+="."+w:4&b&&(T+=" "+w);else""!==T&&!es(w)&&(p+=q_(M,T),T=""),b=w,M=M||!es(b);m++}return""!==T&&(p+=q_(M,T)),p}const Pi={};function Mh(s,p,m,b,T,M,w,R,B,$,Q){const re=c.Yw1+b,ye=re+T,be=function IA(s,p){const m=[];for(let b=0;b<p;b++)m.push(b<s?null:Pi);return m}(re,ye),we="function"==typeof $?$():$;return be[c.eDl]={type:s,blueprint:be,template:m,queries:null,viewQuery:R,declTNode:p,data:be.slice().fill(null,re),bindingStartIndex:re,expandoStartIndex:ye,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof M?M():M,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:B,consts:we,incompleteFirstPass:!1,ssrId:Q}}function Z_(s){const p=s.tView;return null===p||p.incompleteFirstPass?s.tView=Mh(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):p}function fd(s,p,m,b,T,M,w,R,B,$,Q){const re=p.blueprint.slice();return re[c.jgP]=T,re[c.Wg1]=1228|b,(null!==$||s&&2048&s[c.Wg1])&&(re[c.Wg1]|=2048),(0,c.HUe)(re),re[c.f7T]=re[c.X5O]=s,re[c.SKP]=m,re[c.M0L]=w||s&&s[c.M0L],re[c.GpT]=R||s&&s[c.GpT],re[c.YEL]=B||s&&s[c.YEL]||null,re[c.qlT]=M,re[c.ID]=function Nn(){return Ea++}(),re[c.tcA]=Q,re[c.oMQ]=$,re[c.b5C]=2==p.type?s[c.b5C]:re,re}function Ch(s){let p=16;return s.signals?p=4096:s.onPush&&(p=64),p}function Mc(s,p,m,b){if(0===m)return-1;const T=p.length;for(let M=0;M<m;M++)p.push(b),s.blueprint.push(b),s.data.push(null);return T}function kh(s,p){return s[c.EJG]?s[c.Yrj][c.K29]=p:s[c.EJG]=p,s[c.Yrj]=p,p}function ef(s=1){tf((0,c.klJ)(),(0,c.OAn)(),(0,c._px)()+s,!1)}function tf(s,p,m,b){if(!b)if(3&~p[c.Wg1]){const M=s.preOrderHooks;null!==M&&Yt(p,M,0,m)}else{const M=s.preOrderCheckHooks;null!==M&&mt(p,M,m)}(0,c.ypq)(m)}var vd=function(s){return s[s.None=0]="None",s[s.SignalBased=1]="SignalBased",s[s.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",s}(vd||{});function no(s,p,m,b){const T=(0,A.Ht)(null);try{const[M,w,R]=s.inputs[m];let B=null;0!==(w&vd.SignalBased)&&(B=p[M][A.bh]),null!==B&&void 0!==B.transformFn?b=B.transformFn(b):null!==R&&(b=R.call(p,b)),null!==s.setInput?s.setInput(p,B,b,m,M):Be(p,B,M,b)}finally{(0,A.Ht)(T)}}var yd=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(yd||{});let wh;function Oh(s,p){return wh(s,p)}function bd(s){if(!s)return 0;const p=s.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(s)*p}function el(s,p){return s.getPropertyValue(p).split(",").map(b=>b.trim())}function Ih(s,p){return void 0!==s&&s.duration>p.duration}function af(s){return(null!=s.animationName||null!=s.propertyName)&&s.duration>0}function Ad(s,p,m){if(!m)return;const b=s.getAnimations();return 0===b.length?function Pd(s,p){const m=getComputedStyle(s),b=function nf(s){const p=el(s,"animation-name"),m=el(s,"animation-delay"),b=el(s,"animation-duration"),T={animationName:"",propertyName:void 0,duration:0};for(let M=0;M<p.length;M++){const w=bd(m[M])+bd(b[M]);w>T.duration&&(T.animationName=p[M],T.duration=w)}return T}(m),T=function xA(s){const p=el(s,"transition-property"),m=el(s,"transition-duration"),b=el(s,"transition-delay"),T={propertyName:"",duration:0,animationName:void 0};for(let M=0;M<p.length;M++){const w=bd(b[M])+bd(m[M]);w>T.duration&&(T.propertyName=p[M],T.duration=w)}return T}(m),M=b.duration>T.duration?b:T;Ih(p.get(s),M)||af(M)&&p.set(s,M)}(s,p):function BA(s,p,m){let b={animationName:void 0,propertyName:void 0,duration:0};for(const T of m){const M=T.effect?.getTiming(),w="number"==typeof M?.duration?M.duration:0;let B,$,R=(M?.delay??0)+w;T.animationName?$=T.animationName:B=T.transitionProperty,R>=b.duration&&(b={animationName:$,propertyName:B,duration:R})}Ih(p.get(s),b)||af(b)&&p.set(s,b)}(s,p,b)}const ao=new Set;var Rh=function(s){return s[s.CHANGE_DETECTION=0]="CHANGE_DETECTION",s[s.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",s}(Rh||{});const Cc=new c.nKC(""),sf=new Set;function Pn(s){sf.has(s)||(sf.add(s),performance?.mark?.("mark_feature_usage",{detail:{feature:s}}))}let rf=(()=>{class s{impl=null;execute(){this.impl?.execute()}static \u0275prov=(0,c.jDH)({token:s,providedIn:"root",factory:()=>new s})}return s})();const lf=[0,1,2,3];let FA=(()=>{class s{ngZone=(0,c.WQX)(c.SKi);scheduler=(0,c.WQX)(c.hk6);errorHandler=(0,c.WQX)(c.zcH,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){(0,c.WQX)(Cc,{optional:!0})}execute(){const m=this.sequences.size>0;m&&ut(Ge.AfterRenderHooksStart),this.executing=!0;for(const b of lf)for(const T of this.sequences)if(!T.erroredOrDestroyed&&T.hooks[b])try{T.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,T.hooks[b])(T.pipelinedValue),T.snapshot))}catch(M){T.erroredOrDestroyed=!0,this.errorHandler?.handleError(M)}this.executing=!1;for(const b of this.sequences)b.afterRun(),b.once&&(this.sequences.delete(b),b.destroy());for(const b of this.deferredRegistrations)this.sequences.add(b);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),m&&ut(Ge.AfterRenderHooksEnd)}register(m){const{view:b}=m;void 0!==b?((b[c.JEi]??=[]).push(m),(0,c.blu)(b),b[c.Wg1]|=8192):this.executing?this.deferredRegistrations.add(m):this.addSequence(m)}addSequence(m){this.sequences.add(m),this.scheduler.notify(7)}unregister(m){this.executing&&this.sequences.has(m)?(m.erroredOrDestroyed=!0,m.pipelinedValue=void 0,m.once=!0):(this.sequences.delete(m),this.deferredRegistrations.delete(m))}maybeTrace(m,b){return b?b.run(Rh.AFTER_NEXT_RENDER,m):m()}static \u0275prov=(0,c.jDH)({token:s,providedIn:"root",factory:()=>new s})}return s})();class cf{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(p,m,b,T,M,w=null){this.impl=p,this.hooks=m,this.view=b,this.once=T,this.snapshot=w,this.unregisterOnDestroy=M?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const p=this.view?.[c.JEi];p&&(this.view[c.JEi]=p.filter(m=>m!==this))}}function Lh(s,p){const m=p?.injector??(0,c.WQX)(c.zZn);return Pn("NgAfterNextRender"),uf(s,m,p,!0)}function uf(s,p,m,b){const T=p.get(rf);T.impl??=p.get(FA);const M=p.get(Cc,null,{optional:!0}),w=!0!==m?.manualCleanup?p.get(c.abz):null,R=p.get(c.r4V,null,{optional:!0}),B=new cf(T.impl,function UA(s){return s instanceof Function?[void 0,void 0,s,void 0]:[s.earlyRead,s.write,s.mixedReadWrite,s.read]}(s),R?.view,b,w,M?.snapshot(null));return T.impl.register(B),B}const so=new c.nKC("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:(0,c.WQX)(c.uvJ)})});function xh(s,p,m){const b=s.get(so);if(Array.isArray(p))for(const T of p)b.queue.add(T),m?.detachedLeaveAnimationFns?.push(T);else b.queue.add(p),m?.detachedLeaveAnimationFns?.push(p);b.scheduler&&b.scheduler(s)}function $A(s){const p=s.get(so);p.isScheduled||(Lh(()=>{p.isScheduled=!1;for(let m of p.queue)m();p.queue.clear()},{injector:p.injector}),p.isScheduled=!0)}function Ed(s){const p=s.get(so);p.scheduler=$A,p.scheduler(s)}function Bh(s,p){for(const[m,b]of p)xh(s,b.animateFns)}function df(s,p,m,b){const T=s?.[c.Isx]?.enter;null!==p&&T&&T.has(m.index)&&Bh(b,T)}function tl(s,p,m,b,T,M,w,R){if(null!=T){let B,$=!1;(0,c.A0l)(T)?B=T:(0,c.q$2)(T)&&($=!0,T=T[c.jgP]);const Q=(0,c.IvY)(T);0===s&&null!==b?(df(R,b,M,m),null==w?yt(p,b,Q):Je(p,b,Q,w||null,!0)):1===s&&null!==b?(df(R,b,M,m),Je(p,b,Q,w||null,!0)):2===s?gf(R,M,m,re=>{ti(p,Q,$,re)}):3===s&&gf(R,M,m,()=>{p.destroyNode(Q)}),null!=B&&function YA(s,p,m,b,T,M,w){const R=b[c.s6P];R!==(0,c.IvY)(b)&&tl(p,s,m,M,R,T,w);for(let $=c.Y20;$<b.length;$++){const Q=b[$];bs(Q[c.eDl],Q,s,p,M,R)}}(p,s,m,B,M,b,w)}}function pf(s,p){hf(s,p),p[c.jgP]=null,p[c.qlT]=null}function hf(s,p){p[c.M0L].changeDetectionScheduler?.notify(9),bs(s,p,p[c.GpT],2,null,null)}function Fh(s,p){const m=s[c.nfM],b=m.indexOf(p);m.splice(b,1)}function kc(s,p){if((0,c.EPY)(p))return;const m=p[c.GpT];m.destroyNode&&bs(s,p,m,3,null,null),function HA(s){let p=s[c.EJG];if(!p)return Nh(s[c.eDl],s);for(;p;){let m=null;if((0,c.q$2)(p))m=p[c.EJG];else{const b=p[c.Y20];b&&(m=b)}if(!m){for(;p&&!p[c.K29]&&p!==s;)(0,c.q$2)(p)&&Nh(p[c.eDl],p),p=p[c.f7T];null===p&&(p=s),(0,c.q$2)(p)&&Nh(p[c.eDl],p),m=p&&p[c.K29]}p=m}}(p)}function Nh(s,p){if((0,c.EPY)(p))return;const m=(0,A.Ht)(null);try{p[c.Wg1]&=-129,p[c.Wg1]|=256,p[c.Iaj]&&(0,A.XR)(p[c.Iaj]),function zA(s,p){let m;if(null!=s&&null!=(m=s.destroyHooks))for(let b=0;b<m.length;b+=2){const T=p[m[b]];if(!(T instanceof ot)){const M=m[b+1];if(Array.isArray(M))for(let w=0;w<M.length;w+=2){const R=T[M[w]],B=M[w+1];ut(Ge.LifecycleHookStart,R,B);try{B.call(R)}finally{ut(Ge.LifecycleHookEnd,R,B)}}else{ut(Ge.LifecycleHookStart,T,M);try{M.call(T)}finally{ut(Ge.LifecycleHookEnd,T,M)}}}}}(s,p),function VA(s,p){const m=s.cleanup,b=p[c.VVG];if(null!==m)for(let w=0;w<m.length-1;w+=2)if("string"==typeof m[w]){const R=m[w+3];R>=0?b[R]():b[-R].unsubscribe(),w+=2}else m[w].call(b[m[w+1]]);null!==b&&(p[c.VVG]=null);const T=p[c.Czx];if(null!==T){p[c.Czx]=null;for(let w=0;w<T.length;w++)(0,T[w])()}const M=p[c.tQN];if(null!==M){p[c.tQN]=null;for(const w of M)w.destroy()}}(s,p),1===p[c.eDl].type&&p[c.GpT].destroy();const b=p[c.rQE];if(null!==b&&(0,c.A0l)(p[c.f7T])){b!==p[c.f7T]&&Fh(b,p);const T=p[c.Ds7];null!==T&&T.detachView(s)}Y(p)}finally{(0,A.Ht)(m)}}function gf(s,p,m,b){const T=s?.[c.Isx];if(null==T||null==T.leave||!T.leave.has(p.index))return b(!1);s&&ao.add(s[c.ID]),xh(m,()=>{if(T.leave&&T.leave.has(p.index)){const w=T.leave.get(p.index),R=[];if(w){for(let B=0;B<w.animateFns.length;B++){const $=w.animateFns[B],{promise:Q}=$();R.push(Q)}T.detachedLeaveAnimationFns=void 0}T.running=Promise.allSettled(R),function jA(s,p){const m=s[c.Isx]?.running;m?m.then(()=>{s[c.Isx].running=void 0,ao.delete(s[c.ID]),p(!0)}):p(!1)}(s,b)}else s&&ao.delete(s[c.ID]),b(!1)},T)}function Uh(s,p,m){return Wh(s,p.parent,m)}function Wh(s,p,m){let b=p;for(;null!==b&&168&b.type;)b=(p=b).parent;if(null===b)return m[c.jgP];if((0,c.Qs1)(b)){const{encapsulation:T}=s.data[b.directiveStart+b.componentOffset];if(T===Da.None||T===Da.Emulated)return null}return(0,c.d31)(b,m)}function Sd(s,p,m){return _f(s,p,m)}function mf(s,p,m){return 40&s.type?(0,c.d31)(s,m):null}let Td,_f=mf;function ff(s,p){_f=s,Td=p}function Kh(s,p,m,b){const T=Uh(s,b,p),M=p[c.GpT],R=Sd(b.parent||p[c.qlT],b,p);if(null!=T)if(Array.isArray(m))for(let B=0;B<m.length;B++)Si(M,T,m[B],R,!1);else Si(M,T,m,R,!1);void 0!==Td&&Td(M,b,p,m,T)}function ro(s,p){if(null!==p){const m=p.type;if(3&m)return(0,c.d31)(p,s);if(4&m)return Dd(-1,s[p.index]);if(8&m){const b=p.child;if(null!==b)return ro(s,b);{const T=s[p.index];return(0,c.A0l)(T)?Dd(-1,T):(0,c.IvY)(T)}}if(128&m)return ro(s,p.next);if(32&m)return Oh(p,s)()||(0,c.IvY)(s[p.index]);{const b=vf(s,p);return null!==b?Array.isArray(b)?b[0]:ro((0,c._0$)(s[c.b5C]),b):ro(s,p.next)}}return null}function vf(s,p){return null!==p?s[c.b5C][c.qlT].projection[p.projection]:null}function Dd(s,p){const m=c.Y20+s+1;if(m<p.length){const b=p[m],T=b[c.eDl].firstChild;if(null!==T)return ro(b,T)}return p[c.s6P]}function Md(s,p,m,b,T,M,w){for(;null!=m;){const R=b[c.YEL];if(128===m.type){m=m.next;continue}const B=b[m.index],$=m.type;if(w&&0===p&&(B&&st((0,c.IvY)(B),b),m.flags|=2),!ua(m))if(8&$)Md(s,p,m.child,b,T,M,!1),tl(p,s,R,T,B,m,M,b);else if(32&$){const Q=Oh(m,b);let re;for(;re=Q();)tl(p,s,R,T,re,m,M,b);tl(p,s,R,T,B,m,M,b)}else 16&$?bf(s,p,b,m,T,M):tl(p,s,R,T,B,m,M,b);m=w?m.projectionNext:m.next}}function bs(s,p,m,b,T,M){Md(m,b,s.firstChild,p,T,M,!1)}function bf(s,p,m,b,T,M){const w=m[c.b5C],B=w[c.qlT].projection[b.projection];if(Array.isArray(B))for(let $=0;$<B.length;$++)tl(p,s,m[c.YEL],T,B[$],b,M,m);else{let $=B;const Q=w[c.f7T];qi(b)&&($.flags|=128),Md(s,p,$,Q,T,M,!0)}}function $h(s,p,m,b,T){const M=(0,c._px)(),w=2&b;try{(0,c.ypq)(-1),w&&p.length>c.Yw1&&tf(s,p,c.Yw1,!1),ut(w?Ge.TemplateUpdateStart:Ge.TemplateCreateStart,T,m),m(b,T)}finally{(0,c.ypq)(M),ut(w?Ge.TemplateUpdateEnd:Ge.TemplateCreateEnd,T,m)}}function oo(s,p,m){(function QA(s,p,m){const b=m.directiveStart,T=m.directiveEnd;(0,c.Qs1)(m)&&function RA(s,p,m){const b=(0,c.d31)(p,s),T=Z_(m),M=s[c.M0L].rendererFactory,w=kh(s,fd(s,T,null,Ch(m),b,p,null,M.createRenderer(b,m),null,null,null));s[p.index]=w}(p,m,s.data[b+m.componentOffset]),s.firstCreatePass||wi(m,p);const M=m.initialInputs;for(let w=b;w<T;w++){const R=s.data[w],B=an(p,s,w,m);st(B,p),null!==M&&Cf(0,w-b,B,R,0,M),(0,c.JlV)(R)&&((0,c.KdJ)(m.index,p)[c.SKP]=an(p,s,w,m))}})(s,p,m),!(64&~m.flags)&&function Mf(s,p,m){const b=m.directiveStart,T=m.directiveEnd,M=m.index,w=(0,c.Z9v)();try{(0,c.ypq)(M);for(let R=b;R<T;R++){const B=s.data[R],$=p[R];(0,c.RZ9)(R),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&qA(B,$)}}finally{(0,c.ypq)(-1),(0,c.RZ9)(w)}}(s,p,m)}function il(s,p,m=c.d31){const b=p.localNames;if(null!==b){let T=p.index+1;for(let M=0;M<b.length;M+=2){const w=b[M+1],R=-1===w?m(p,s):s[w];s[T++]=R}}}let Ef=()=>null;function Cd(s,p,m,b,T,M){nl(s,p[c.eDl],p,m,b)?(0,c.Qs1)(s)&&Tf(p,s.index):(3&s.type&&(m=function Sf(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(m)),Hh(s,p,m,b,T,M))}function Hh(s,p,m,b,T,M){if(3&s.type){const w=(0,c.d31)(s,p);b=null!=M?M(b,s.value||"",m):b,T.setProperty(w,m,b)}}function Tf(s,p){const m=(0,c.KdJ)(p,s);16&m[c.Wg1]||(m[c.Wg1]|=64)}function qA(s,p){null!==s.hostBindings&&s.hostBindings(1,p)}function jh(s,p){const m=s.directiveRegistry;let b=null;if(m)for(let T=0;T<m.length;T++){const M=m[T];Dc(p,M.selectors,!1)&&(b??=[],(0,c.JlV)(M)?b.unshift(M):b.push(M))}return b}function kd(s,p,m,b,T,M,w){if(null==M)s.removeAttribute(p,T,m);else{const R=null==w?(0,c.eFE)(M):w(M,b||"",T);s.setAttribute(p,T,R,m)}}function Cf(s,p,m,b,T,M){const w=M[p];if(null!==w)for(let R=0;R<w.length;R+=2)no(b,m,w[R],w[R+1])}function wd(s,p,m,b,T){const M=c.Yw1+m,w=p[c.eDl],R=T(w,p,s,b,m);p[M]=R,(0,c.iMd)(s,!0);const B=2===s.type;return B?(G_(p[c.GpT],R,s),(0===(0,c.znI)()||(0,c.yoD)(s))&&st(R,p),(0,c.Fje)()):st(R,p),(0,c.SX7)()&&(!B||!ua(s))&&Kh(w,p,R,s),s}function Od(s){let p=s;return(0,c.YWB)()?(0,c.Pfq)():(p=p.parent,(0,c.iMd)(p,!1)),p}function kf(s,p,m){return(null===s||(0,c.JlV)(s))&&(m=(0,c.zAe)(m[p.index])),m[c.GpT]}function Vh(s,p){const m=s[c.YEL];if(!m)return;let b;try{b=m.get(c.ZTf,null)}catch{b=null}b?.(p)}function nl(s,p,m,b,T){const M=s.inputs?.[b],w=s.hostDirectiveInputs?.[b];let R=!1;if(w)for(let B=0;B<w.length;B+=2){const $=w[B];no(p.data[$],m[$],w[B+1],T),R=!0}if(M)for(const B of M)no(p.data[B],m[B],b,T),R=!0;return R}function tE(s,p){const m=(0,c.KdJ)(p,s),b=m[c.eDl];!function iE(s,p){for(let m=p.length;m<s.blueprint.length;m++)p.push(s.blueprint[m])}(b,m);const T=m[c.jgP];null!==T&&null===m[c.tcA]&&(m[c.tcA]=null),ut(Ge.ComponentStart);try{al(b,m,m[c.SKP])}finally{ut(Ge.ComponentEnd,m[c.SKP])}}function al(s,p,m){(0,c.ID8)(p);try{const b=s.viewQuery;null!==b&&$o(1,b,m);const T=s.template;null!==T&&$h(s,p,T,1,m),s.firstCreatePass&&(s.firstCreatePass=!1),p[c.Ds7]?.finishViewCreation(s),s.staticContentQueries&&td(s,p),s.staticViewQueries&&$o(2,s.viewQuery,m);const M=s.components;null!==M&&function nE(s,p){for(let m=0;m<p.length;m++)tE(s,p[m])}(p,M)}catch(b){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),b}finally{p[c.Wg1]&=-5,(0,c.bll)()}}function Er(s,p,m,b){const T=(0,A.Ht)(null);try{const M=p.tView,B=fd(s,M,m,4096&s[c.Wg1]?4096:16,null,p,null,null,b?.injector??null,b?.embeddedViewInjector??null,b?.dehydratedView??null);B[c.rQE]=s[p.index];const Q=s[c.Ds7];return null!==Q&&(B[c.Ds7]=Q.createEmbeddedView(M)),al(M,B,m),B}finally{(0,A.Ht)(T)}}function lo(s,p){return!p||null===p.firstChild||qi(s)}function wc(s,p,m,b,T=!1){for(;null!==m;){if(128===m.type){m=T?m.projectionNext:m.next;continue}const M=p[m.index];null!==M&&b.push((0,c.IvY)(M)),(0,c.A0l)(M)&&aE(M,b);const w=m.type;if(8&w)wc(s,p,m.child,b);else if(32&w){const R=Oh(m,p);let B;for(;B=R();)b.push(B)}else if(16&w){const R=vf(p,m);if(Array.isArray(R))b.push(...R);else{const B=(0,c._0$)(p[c.b5C]);wc(B[c.eDl],B,R,b,!0)}}m=T?m.projectionNext:m.next}return b}function aE(s,p){for(let m=c.Y20;m<s.length;m++){const b=s[m],T=b[c.eDl].firstChild;null!==T&&wc(b[c.eDl],b,T,p)}s[c.s6P]!==s[c.jgP]&&p.push(s[c.s6P])}function wf(s){if(null!==s[c.JEi]){for(const p of s[c.JEi])p.impl.addSequence(p);s[c.JEi].length=0}}let Of=[];const If={...A.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:s=>{(0,c.blu)(s.lView)},consumerOnSignalRead(){this.lView[c.Iaj]=this}},Lf={...A.pL,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:s=>{let p=(0,c._0$)(s.lView);for(;p&&!xf(p[c.eDl]);)p=(0,c._0$)(p);p&&(0,c.HAh)(p)},consumerOnSignalRead(){this.lView[c.Iaj]=this}};function xf(s){return 2!==s.type}function Bf(s){if(null===s[c.tQN])return;let p=!0;for(;p;){let m=!1;for(const b of s[c.tQN])b.dirty&&(m=!0,null===b.zone||Zone.current===b.zone?b.run():b.zone.run(()=>b.run()));p=m&&!!(8192&s[c.Wg1])}}function sl(s,p=0){const b=s[c.M0L].rendererFactory;b.begin?.();try{!function cE(s,p){const m=(0,c.yP_)();try{(0,c.cBl)(!0),Yh(s,p);let b=0;for(;(0,c.dMS)(s);){if(100===b)throw new c.buA(103,!1);b++,Yh(s,1)}}finally{(0,c.cBl)(m)}}(s,p)}finally{b.end?.()}}function rl(s,p,m,b){if((0,c.EPY)(p))return;const T=p[c.Wg1];(0,c.ID8)(p);let R=!0,B=null,$=null;xf(s)?($=function sE(s){return s[c.Iaj]??function rE(s){const p=Of.pop()??Object.create(If);return p.lView=s,p}(s)}(p),B=(0,A.Bg)($)):null===(0,A.nR)()?(R=!1,$=function Rf(s){const p=s[c.Iaj]??Object.create(Lf);return p.lView=s,p}(p),B=(0,A.Bg)($)):p[c.Iaj]&&((0,A.XR)(p[c.Iaj]),p[c.Iaj]=null);try{(0,c.HUe)(p),(0,c.Kw3)(s.bindingStartIndex),null!==m&&$h(s,p,m,2,b);const Q=!(3&~T);if(Q){const be=s.preOrderCheckHooks;null!==be&&mt(p,be,null)}else{const be=s.preOrderHooks;null!==be&&Yt(p,be,0,null),Et(p,0)}if(function zh(s){for(let p=Cn(s);null!==p;p=Ya(p)){if(!(2&p[c.Wg1]))continue;const m=p[c.nfM];for(let b=0;b<m.length;b++)(0,c.HAh)(m[b])}}(p),Bf(p),Ff(p,0),null!==s.contentQueries&&td(s,p),Q){const be=s.contentCheckHooks;null!==be&&mt(p,be)}else{const be=s.contentHooks;null!==be&&Yt(p,be,1),Et(p,1)}!function dE(s,p){const m=s.hostBindingOpCodes;if(null!==m)try{for(let b=0;b<m.length;b++){const T=m[b];if(T<0)(0,c.ypq)(~T);else{const M=T,w=m[++b],R=m[++b];(0,c.vQI)(w,M);const B=p[M];ut(Ge.HostBindingsUpdateStart,B);try{R(2,B)}finally{ut(Ge.HostBindingsUpdateEnd,B)}}}}finally{(0,c.ypq)(-1)}}(s,p);const re=s.components;null!==re&&Uf(p,re,0);const ye=s.viewQuery;if(null!==ye&&$o(2,ye,b),Q){const be=s.viewCheckHooks;null!==be&&mt(p,be)}else{const be=s.viewHooks;null!==be&&Yt(p,be,2),Et(p,2)}if(!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p[c.pcR]){for(const be of p[c.pcR])be();p[c.pcR]=null}wf(p),p[c.Wg1]&=-73}catch(Q){throw(0,c.blu)(p),Q}finally{null!==$&&((0,A.Wu)($,B),R&&function oE(s){s.lView[c.Iaj]!==s&&(s.lView=null,Of.push(s))}($)),(0,c.bll)()}}function Ff(s,p){for(let m=Cn(s);null!==m;m=Ya(m))for(let b=c.Y20;b<m.length;b++)Nf(m[b],p)}function uE(s,p,m){ut(Ge.ComponentStart);const b=(0,c.KdJ)(p,s);try{Nf(b,m)}finally{ut(Ge.ComponentEnd,b[c.SKP])}}function Nf(s,p){(0,c.F1c)(s)&&Yh(s,p)}function Yh(s,p){const b=s[c.eDl],T=s[c.Wg1],M=s[c.Iaj];let w=!!(0===p&&16&T);if(w||=!!(64&T&&0===p),w||=!!(1024&T),w||=!(!M?.dirty||!(0,A.si)(M)),w||=!1,M&&(M.dirty=!1),s[c.Wg1]&=-9217,w)rl(b,s,b.template,s[c.SKP]);else if(8192&T){const R=(0,A.Ht)(null);try{Bf(s),Ff(s,1);const B=b.components;null!==B&&Uf(s,B,1),wf(s)}finally{(0,A.Ht)(R)}}}function Uf(s,p,m){for(let b=0;b<p.length;b++)uE(s,p[b],m)}function co(s,p){const m=(0,c.yP_)()?64:1088;for(s[c.M0L].changeDetectionScheduler?.notify(p);s;){s[c.Wg1]|=m;const b=(0,c._0$)(s);if((0,c.EFk)(s)&&!b)return s;s=b}return null}function Wf(s,p,m,b){return[s,!0,0,p,null,b,null,m,null,null]}function Kf(s,p){const m=c.Y20+p;if(m<s.length)return s[m]}function ol(s,p,m,b=!0){const T=p[c.eDl];if(function pE(s,p,m,b){const T=c.Y20+b,M=m.length;b>0&&(m[T-1][c.K29]=p),b<M-c.Y20?(p[c.K29]=m[T],(0,c.EYC)(m,c.Y20+b,p)):(m.push(p),p[c.K29]=null),p[c.f7T]=m;const w=p[c.rQE];null!==w&&m!==w&&$f(w,p);const R=p[c.Ds7];null!==R&&R.insertView(s),(0,c._gW)(p),p[c.Wg1]|=128}(T,p,s,m),b){const w=Dd(m,s),R=p[c.GpT],B=R.parentNode(s[c.s6P]);null!==B&&function GA(s,p,m,b,T,M){b[c.jgP]=T,b[c.qlT]=p,bs(s,b,m,1,T,M)}(T,s[c.qlT],R,p,B,w)}const M=p[c.tcA];null!==M&&null!==M.firstChild&&(M.firstChild=null)}function Xh(s,p){const m=Oc(s,p);return void 0!==m&&kc(m[c.eDl],m),m}function Oc(s,p){if(s.length<=c.Y20)return;const m=c.Y20+p,b=s[m];if(b){const T=b[c.rQE];null!==T&&T!==s&&Fh(T,b),p>0&&(s[m-1][c.K29]=b[c.K29]);const M=(0,c.E6O)(s,c.Y20+p);pf(b[c.eDl],b);const w=M[c.Ds7];null!==w&&w.detachView(M[c.eDl]),b[c.f7T]=null,b[c.K29]=null,b[c.Wg1]&=-129}return b}function $f(s,p){const m=s[c.nfM],b=p[c.f7T];((0,c.q$2)(b)||p[c.b5C]!==b[c.f7T][c.b5C])&&(s[c.Wg1]|=2),null===m?s[c.nfM]=[p]:m.push(p)}class Id{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const p=this._lView,m=p[c.eDl];return wc(m,p,m.firstChild,[])}constructor(p,m){this._lView=p,this._cdRefInjectingView=m}get context(){return this._lView[c.SKP]}set context(p){this._lView[c.SKP]=p}get destroyed(){return(0,c.EPY)(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const p=this._lView[c.f7T];if((0,c.A0l)(p)){const m=p[c.bm_],b=m?m.indexOf(this):-1;b>-1&&(Oc(p,b),(0,c.E6O)(m,b))}this._attachedToViewContainer=!1}kc(this._lView[c.eDl],this._lView)}onDestroy(p){(0,c.ik5)(this._lView,p)}markForCheck(){co(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[c.Wg1]&=-129}reattach(){(0,c._gW)(this._lView),this._lView[c.Wg1]|=128}detectChanges(){this._lView[c.Wg1]|=1024,sl(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new c.buA(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const p=(0,c.EFk)(this._lView),m=this._lView[c.rQE];null!==m&&!p&&Fh(m,this._lView),hf(this._lView[c.eDl],this._lView)}attachToAppRef(p){if(this._attachedToViewContainer)throw new c.buA(902,!1);this._appRef=p;const m=(0,c.EFk)(this._lView),b=this._lView[c.rQE];null!==b&&!m&&$f(b,this._lView),(0,c._gW)(this._lView)}}let Ic=(()=>class s{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=hE;constructor(m,b,T){this._declarationLView=m,this._declarationTContainer=b,this.elementRef=T}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(m,b){return this.createEmbeddedViewImpl(m,b)}createEmbeddedViewImpl(m,b,T){const M=Er(this._declarationLView,this._declarationTContainer,m,{embeddedViewInjector:b,dehydratedView:T});return new Id(M)}})();function hE(){return Rd((0,c.Mx4)(),(0,c.OAn)())}function Rd(s,p){return 4&s.type?new Ic(p,s,Mi(s,p)):null}function jf(s,p,m){const b=p.insertBeforeIndex,T=Array.isArray(b)?b[0]:b;return null===T?mf(s,0,m):(0,c.IvY)(m[T])}function Vf(s,p,m,b,T){const M=p.insertBeforeIndex;if(Array.isArray(M)){let w=b,R=null;if(3&p.type||(R=w,w=T),null!==w&&-1===p.componentOffset)for(let B=1;B<M.length;B++)Je(s,w,m[M[B]],R,!1)}}function uo(s,p,m,b,T){let M=s.data[p];if(null===M)M=Zh(s,p,m,b,T),(0,c.JjR)()&&(M.flags|=32);else if(64&M.type){M.type=m,M.value=b,M.attrs=T;const w=(0,c.Ab)();M.injectorIndex=null===w?-1:w.injectorIndex}return(0,c.iMd)(M,!0),M}function Zh(s,p,m,b,T){const M=(0,c.veI)(),w=(0,c.YWB)(),B=s.data[p]=function AE(s,p,m,b,T,M){let w=p?p.injectorIndex:-1,R=0;return(0,c.KtD)()&&(R|=128),{type:m,index:b,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:R,providerIndexes:0,value:T,attrs:M,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:p,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?M:M&&M.parent,m,p,b,T);return function PE(s,p,m,b){null===s.firstChild&&(s.firstChild=p),null!==m&&(b?null==m.child&&null!==p.parent&&(m.child=p):null===m.next&&(m.next=p,p.prev=m))}(s,B,M,w),B}function zf(s,p){if(s.push(p),s.length>1)for(let m=s.length-2;m>=0;m--){const b=s[m];Yf(b)||EE(b,p)&&null===SE(b)&&Xf(b,p.index)}}function Yf(s){return!(64&s.type)}function EE(s,p){return Yf(p)||s.index>p.index}function SE(s){const p=s.insertBeforeIndex;return Array.isArray(p)?p[0]:p}function Xf(s,p){const m=s.insertBeforeIndex;Array.isArray(m)?m[0]=p:(ff(jf,Vf),s.insertBeforeIndex=p)}function Bc(s,p){const m=s.data[p];return null===m||"string"==typeof m?null:m.hasOwnProperty("currentCaseLViewIndex")?m:m.value}function ME(s,p,m){const b=Zh(s,m,64,null,null);return zf(p,b),b}function xd(s,p){const m=p[s.currentCaseLViewIndex];return null===m?m:m<0?~m:m}function Jf(s){return s>>>17}function Qf(s){return(131070&s)>>>1}function eg(s,p,m){s.index=0;const b=xd(p,m);s.removes=null!==b?p.remove[b]:c.Mlv}function Bd(s){if(s.index<s.removes.length){const p=s.removes[s.index++];return p>0?s.lView[p]:(s.stack.push(s.index,s.removes),eg(s,s.lView[c.eDl].data[~p],s.lView),Bd(s))}return 0===s.stack.length?(s.lView=void 0,null):(s.removes=s.stack.pop(),s.index=s.stack.pop(),Bd(s))}function CE(){const s={stack:[],index:-1};return function p(m,b){for(s.lView=b;s.stack.length;)s.stack.pop();return eg(s,m.value,b),Bd.bind(null,s)}}function zE(s,p,m){for(const b of m.node.cases[m.case]){const T=p.get(b.index-c.Yw1);T&&ti(s,T,!1)}}function Ud(s){const p=s[c.qFA]??[],b=s[c.f7T][c.GpT],T=[];for(const M of p)void 0!==M.data.di?T.push(M):ov(M,b);s[c.qFA]=T}function YE(s){const{lContainer:p}=s,m=p[c.qFA];if(null===m)return;const T=p[c.f7T][c.GpT];for(const M of m)ov(M,T)}function ov(s,p){let m=0,b=s.firstChild;if(b){const T=s.data.r;for(;m<T;){const M=b.nextSibling;ti(p,b,!1),b=M,m++}}}function Wd(s){Ud(s);const p=s[c.jgP];(0,c.q$2)(p)&&Kd(p);for(let m=c.Y20;m<s.length;m++)Kd(s[m])}function Kd(s){!function VE(s){const p=s[c.tcA];if(p){const{i18nNodes:m,dehydratedIcuData:b}=p;if(m&&b){const T=s[c.GpT];for(const M of b.values())zE(T,m,M)}p.i18nNodes=void 0,p.dehydratedIcuData=void 0}}(s);const p=s[c.eDl];for(let m=c.Yw1;m<p.bindingStartIndex;m++)(0,c.A0l)(s[m])?Wd(s[m]):(0,c.q$2)(s[m])&&Kd(s[m])}let tS=class{},hv=class{};class iS{resolveComponentFactory(p){throw new c.buA(917,!1)}}let $d=class{static NULL=new iS};class og{}let nS=(()=>class s{destroyNode=null;static __NG_ELEMENT_ID__=()=>function aS(){const s=(0,c.OAn)(),p=(0,c.Mx4)(),m=(0,c.KdJ)(p.index,s);return((0,c.q$2)(m)?m:s)[c.GpT]}()})(),sS=(()=>{class s{static \u0275prov=(0,c.jDH)({token:s,providedIn:"root",factory:()=>null})}return s})();function lg(s){return void 0!==s.ngModule}function ul(s){return!!(0,c.phH)(s)}function Gd(s){return!!(0,c.oyA)(s)}function gv(s){return!!(0,c.HaV)(s)}function Wc(s){return!!(0,c.xUg)(s)}function oS(s,p){if((0,c.Jzi)(s)&&!(s=(0,c.nl4)(s)))throw new Error(`Expected forwardRef function, imported from "${(0,c.PP7)(p)}", to return a standalone entity or NgModule but got "${(0,c.PP7)(s)||s}".`);if(null==(0,c.phH)(s)){const m=(0,c.xUg)(s)||(0,c.HaV)(s)||(0,c.oyA)(s);if(null==m)throw lg(s)?new Error(`A module with providers was imported from "${(0,c.PP7)(p)}". Modules with providers are not supported in standalone components imports.`):new Error(`The "${(0,c.PP7)(s)}" type, imported from "${(0,c.PP7)(p)}", must be a standalone component / directive / pipe or an NgModule. Did you forget to add the required @Component / @Directive / @Pipe or @NgModule annotation?`);if(!m.standalone){const b=function rS(s){return(0,c.xUg)(s)?"component":(0,c.HaV)(s)?"directive":(0,c.oyA)(s)?"pipe":"type"}(s);throw new Error(`The "${(0,c.PP7)(s)}" ${b}, imported from "${(0,c.PP7)(p)}", is not standalone. Does the ${b} have the standalone: false flag?`)}}}class lS{ownerNgModule=new Map;ngModulesWithSomeUnresolvedDecls=new Set;ngModulesScopeCache=new Map;standaloneComponentsScopeCache=new Map;resolveNgModulesDecls(){if(0!==this.ngModulesWithSomeUnresolvedDecls.size){for(const p of this.ngModulesWithSomeUnresolvedDecls){const m=(0,c.phH)(p);if(m?.declarations)for(const b of ys(m.declarations))Wc(b)&&this.ownerNgModule.set(b,p)}this.ngModulesWithSomeUnresolvedDecls.clear()}}getComponentDependencies(p,m){this.resolveNgModulesDecls();const b=(0,c.xUg)(p);if(null===b)throw new Error(`Attempting to get component dependencies for a type that is not a component: ${p}`);if(b.standalone){const T=this.getStandaloneComponentScope(p,m);return T.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...T.compilation.directives,...T.compilation.pipes,...T.compilation.ngModules]}}{if(!this.ownerNgModule.has(p))return{dependencies:[]};const T=this.getNgModuleScope(this.ownerNgModule.get(p));return T.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...T.compilation.directives,...T.compilation.pipes]}}}registerNgModule(p,m){if(!ul(p))throw new Error(`Attempting to register a Type which is not NgModule as NgModule: ${p}`);this.ngModulesWithSomeUnresolvedDecls.add(p)}clearScopeCacheFor(p){this.ngModulesScopeCache.delete(p),this.standaloneComponentsScopeCache.delete(p)}getNgModuleScope(p){if(this.ngModulesScopeCache.has(p))return this.ngModulesScopeCache.get(p);const m=this.computeNgModuleScope(p);return this.ngModulesScopeCache.set(p,m),m}computeNgModuleScope(p){const m=(0,c.WbQ)(p),b={exported:{directives:new Set,pipes:new Set},compilation:{directives:new Set,pipes:new Set}};for(const T of ys(m.imports))if(ul(T)){const M=this.getNgModuleScope(T);Sr(M.exported.directives,b.compilation.directives),Sr(M.exported.pipes,b.compilation.pipes)}else{if(!(0,c.QuC)(T)){b.compilation.isPoisoned=!0;break}if(gv(T)||Wc(T))b.compilation.directives.add(T);else{if(!Gd(T))throw new c.buA(980,"The standalone imported type is neither a component nor a directive nor a pipe");b.compilation.pipes.add(T)}}if(!b.compilation.isPoisoned)for(const T of ys(m.declarations)){if(ul(T)||(0,c.QuC)(T)){b.compilation.isPoisoned=!0;break}Gd(T)?b.compilation.pipes.add(T):b.compilation.directives.add(T)}for(const T of ys(m.exports))if(ul(T)){const M=this.getNgModuleScope(T);Sr(M.exported.directives,b.exported.directives),Sr(M.exported.pipes,b.exported.pipes),Sr(M.exported.directives,b.compilation.directives),Sr(M.exported.pipes,b.compilation.pipes)}else Gd(T)?b.exported.pipes.add(T):b.exported.directives.add(T);return b}getStandaloneComponentScope(p,m){if(this.standaloneComponentsScopeCache.has(p))return this.standaloneComponentsScopeCache.get(p);const b=this.computeStandaloneComponentScope(p,m);return this.standaloneComponentsScopeCache.set(p,b),b}computeStandaloneComponentScope(p,m){const b={compilation:{directives:new Set([p]),pipes:new Set,ngModules:new Set}};for(const T of(0,c.Bqz)(m??[])){const M=(0,c.nl4)(T);try{oS(M,p)}catch{return b.compilation.isPoisoned=!0,b}if(ul(M)){b.compilation.ngModules.add(M);const w=this.getNgModuleScope(M);if(w.exported.isPoisoned)return b.compilation.isPoisoned=!0,b;Sr(w.exported.directives,b.compilation.directives),Sr(w.exported.pipes,b.compilation.pipes)}else if(Gd(M))b.compilation.pipes.add(M);else{if(!gv(M)&&!Wc(M))return b.compilation.isPoisoned=!0,b;b.compilation.directives.add(M)}}return b}isOrphanComponent(p){const m=(0,c.xUg)(p);return!(!m||m.standalone||(this.resolveNgModulesDecls(),this.ownerNgModule.has(p)))}}function Sr(s,p){for(const m of s)p.add(m)}const Kc=new lS,cg={};class dl{injector;parentInjector;constructor(p,m){this.injector=p,this.parentInjector=m}get(p,m,b){const T=this.injector.get(p,cg,b);return T!==cg||m===cg?T:this.parentInjector.get(p,m,b)}}function Hd(s,p,m){let b=m?s.styles:null,T=m?s.classes:null,M=0;if(null!==p)for(let w=0;w<p.length;w++){const R=p[w];if("number"==typeof R)M=R;else if(1==M)T=(0,c.n$e)(T,R);else if(2==M){const $=p[++w];b=(0,c.n$e)(b,R+": "+$+";")}}m?s.styles=b:s.stylesWithoutHost=b,m?s.classes=T:s.classesWithoutHost=T}function pl(s,p=0){const m=(0,c.OAn)();return null===m?(0,c.KVO)(s,p):Ai((0,c.Mx4)(),m,(0,c.nl4)(s),p)}function mv(s,p,m,b,T){const M=null===b?null:{"":-1},w=T(s,m);if(null!==w){let R=w,B=null,$=null;for(const Q of w)if(null!==Q.resolveHostDirectives){[R,B,$]=Q.resolveHostDirectives(w);break}!function pS(s,p,m,b,T,M,w){const R=b.length;let B=null;for(let ye=0;ye<R;ye++){const be=b[ye];null===B&&(0,c.JlV)(be)&&(B=be,dS(s,m,ye)),Xi(wi(m,p),s,be.type)}(function vS(s,p,m){s.flags|=1,s.directiveStart=p,s.directiveEnd=p+m,s.providerIndexes=p})(m,s.data.length,R),B?.viewProvidersResolver&&B.viewProvidersResolver(B);for(let ye=0;ye<R;ye++){const be=b[ye];be.providersResolver&&be.providersResolver(be)}let $=!1,Q=!1,re=Mc(s,p,R,null);R>0&&(m.directiveToIndex=new Map);for(let ye=0;ye<R;ye++){const be=b[ye];if(m.mergedAttrs=ki(m.mergedAttrs,be.hostAttrs),gS(s,m,p,re,be),fS(re,be,T),null!==w&&w.has(be)){const[Xe,dt]=w.get(be);m.directiveToIndex.set(be.type,[re,Xe+m.directiveStart,dt+m.directiveStart])}else(null===M||!M.has(be))&&m.directiveToIndex.set(be.type,re);null!==be.contentQueries&&(m.flags|=4),(null!==be.hostBindings||null!==be.hostAttrs||0!==be.hostVars)&&(m.flags|=64);const we=be.type.prototype;!$&&(we.ngOnChanges||we.ngOnInit||we.ngDoCheck)&&((s.preOrderHooks??=[]).push(m.index),$=!0),!Q&&(we.ngOnChanges||we.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(m.index),Q=!0),re++}!function hS(s,p,m){for(let b=p.directiveStart;b<p.directiveEnd;b++){const T=s.data[b];if(null!==m&&m.has(T)){const M=m.get(T);fv(0,p,M,b),fv(1,p,M,b),yv(p,b,!0)}else _v(0,p,T,b),_v(1,p,T,b),yv(p,b,!1)}}(s,m,M)}(s,p,m,R,M,B,$)}null!==M&&null!==b&&function uS(s,p,m){const b=s.localNames=[];for(let T=0;T<p.length;T+=2){const M=m[p[T+1]];if(null==M)throw new c.buA(-301,!1);b.push(p[T],M)}}(m,b,M)}function dS(s,p,m){p.componentOffset=m,(s.components??=[]).push(p.index)}function _v(s,p,m,b){const T=0===s?m.inputs:m.outputs;for(const M in T)if(T.hasOwnProperty(M)){let w;w=0===s?p.inputs??={}:p.outputs??={},w[M]??=[],w[M].push(b),vv(p,M)}}function fv(s,p,m,b){const T=0===s?m.inputs:m.outputs;for(const M in T)if(T.hasOwnProperty(M)){const w=T[M];let R;R=0===s?p.hostDirectiveInputs??={}:p.hostDirectiveOutputs??={},R[w]??=[],R[w].push(b,M),vv(p,w)}}function vv(s,p){"class"===p?s.flags|=8:"style"===p&&(s.flags|=16)}function yv(s,p,m){const{attrs:b,inputs:T,hostDirectiveInputs:M}=s;if(null===b||!m&&null===T||m&&null===M||Tc(s))return s.initialInputs??=[],void s.initialInputs.push(null);let w=null,R=0;for(;R<b.length;){const B=b[R];if(0!==B)if(5!==B){if("number"==typeof B)break;if(!m&&T.hasOwnProperty(B)){const $=T[B];for(const Q of $)if(Q===p){w??=[],w.push(B,b[R+1]);break}}else if(m&&M.hasOwnProperty(B)){const $=M[B];for(let Q=0;Q<$.length;Q+=2)if($[Q]===p){w??=[],w.push($[Q+1],b[R+1]);break}}R+=2}else R+=2;else R+=4}s.initialInputs??=[],s.initialInputs.push(w)}function gS(s,p,m,b,T){s.data[b]=T;const M=T.factory||(T.factory=(0,c.wGu)(T.type,!0)),w=new ot(M,(0,c.JlV)(T),pl,null);s.blueprint[b]=w,m[b]=w,function mS(s,p,m,b,T){const M=T.hostBindings;if(M){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const R=~p.index;(function _S(s){let p=s.length;for(;p>0;){const m=s[--p];if("number"==typeof m&&m<0)return m}return 0})(w)!=R&&w.push(R),w.push(m,b,M)}}(s,p,b,Mc(s,m,T.hostVars,Pi),T)}function fS(s,p,m){if(m){if(p.exportAs)for(let b=0;b<p.exportAs.length;b++)m[p.exportAs[b]]=s;(0,c.JlV)(p)&&(m[""]=s)}}function ug(s,p,m,b,T,M,w,R){const B=p[c.eDl],$=B.consts,re=uo(B,s,m,b,(0,c.db4)($,w));return M&&mv(B,p,re,(0,c.db4)($,R),T),re.mergedAttrs=ki(re.mergedAttrs,re.attrs),null!==re.attrs&&Hd(re,re.attrs,!1),null!==re.mergedAttrs&&Hd(re,re.mergedAttrs,!0),null!==B.queries&&B.queries.elementStart(B,re),re}function dg(s,p){Qt(s,p),(0,c.srX)(p)&&s.queries.elementEnd(p)}function bv(s,p,m,b,T,M){const w=p.consts,B=uo(p,s,m,b,(0,c.db4)(w,T));if(B.mergedAttrs=ki(B.mergedAttrs,B.attrs),null!=M){const $=(0,c.db4)(w,M);B.localNames=[];for(let Q=0;Q<$.length;Q+=2)B.localNames.push($[Q],-1)}return null!==B.attrs&&Hd(B,B.attrs,!1),null!==B.mergedAttrs&&Hd(B,B.mergedAttrs,!0),null!==p.queries&&p.queries.elementStart(p,B),B}function pg(s){return!!Pv(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function bS(s,p){if(Array.isArray(s))for(let m=0;m<s.length;m++)p(s[m]);else{const m=s[Symbol.iterator]();let b;for(;!(b=m.next()).done;)p(b.value)}}function Pv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ps(s,p,m){return s[p]=m}function $c(s,p){return s[p]}function Bi(s,p,m){return m!==Pi&&(!Object.is(s[p],m)&&(s[p]=m,!0))}function ho(s,p,m,b){const T=Bi(s,p,m);return Bi(s,p+1,b)||T}function jd(s,p,m,b,T){const M=ho(s,p,m,b);return Bi(s,p+2,T)||M}function Ka(s,p,m,b,T,M){const w=ho(s,p,m,b);return ho(s,p+2,T,M)||w}const Av=Symbol("CONTROL");function Hs(s,p,m){return function b(T){co((0,c.Qs1)(s)?(0,c.KdJ)(s.index,p):p,5);const w=p[c.SKP];let R=Ev(p,w,m,T),B=b.__ngNextListenerFn__;for(;B;)R=Ev(p,w,B,T)&&R,B=B.__ngNextListenerFn__;return R}}function Ev(s,p,m,b){const T=(0,A.Ht)(null);try{return ut(Ge.OutputStart,p,m),!1!==m(b)}catch(M){return Vh(s,M),!1}finally{ut(Ge.OutputEnd,p,m),(0,A.Ht)(T)}}function Vd(s,p,m,b,T,M,w,R){const B=(0,c.yoD)(s);let $=!1,Q=null;if(!b&&B&&(Q=function ES(s,p,m,b){const T=s.cleanup;if(null!=T)for(let M=0;M<T.length-1;M+=2){const w=T[M];if(w===m&&T[M+1]===b){const R=p[c.VVG],B=T[M+2];return R&&R.length>B?R[B]:null}"string"==typeof w&&(M+=2)}return null}(p,m,M,s.index)),null!==Q)(Q.__ngLastListenerFn__||Q).__ngNextListenerFn__=w,Q.__ngLastListenerFn__=w,$=!0;else{const re=(0,c.d31)(s,m),ye=b?b(re):re,be=T.listen(ye,M,R);(function AS(s){return s.startsWith("animation")||s.startsWith("transition")})(M)||Sv(b?Xe=>b((0,c.IvY)(Xe[s.index])):s.index,p,m,M,R,be,!1)}return $}function Sv(s,p,m,b,T,M,w){const R=p.firstCreatePass?(0,c.vNG)(p):null,B=(0,c.d_l)(m),$=B.length;B.push(T,M),R&&R.push(b,s,$,($+1)*(w?-1:1))}function hl(s,p,m,b,T,M){const R=p[c.eDl],re=p[m][R.data[m].outputs[b]].subscribe(M);Sv(s.index,R,p,T,M,re,!0)}const js=Symbol("BINDING");class hg extends $d{ngModule;constructor(p){super(),this.ngModule=p}resolveComponentFactory(p){const m=(0,c.xUg)(p);return new zd(m,this.ngModule)}}class zd extends hv{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function kS(s){return Object.keys(s).map(p=>{const[m,b,T]=s[p],M={propName:m,templateName:p,isSignal:0!==(b&vd.SignalBased)};return T&&(M.transform=T),M})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function Mv(s){return Object.keys(s).map(p=>({propName:s[p],templateName:p}))}(this.componentDef.outputs),this.cachedOutputs}constructor(p,m){super(),this.componentDef=p,this.ngModule=m,this.componentType=p.type,this.selector=function wA(s){return s.map(kA).join(",")}(p.selectors),this.ngContentSelectors=p.ngContentSelectors??[],this.isBoundToModule=!!m}create(p,m,b,T,M,w){ut(Ge.DynamicComponentStart);const R=(0,A.Ht)(null);try{const B=this.componentDef,$=function xS(s,p,m,b){const T=s?["ng-version","21.1.1"]:function OA(s){const p=[],m=[];let b=1,T=2;for(;b<s.length;){let M=s[b];if("string"==typeof M)2===T?""!==M&&p.push(M,s[++b]):8===T&&m.push(M);else{if(!es(T))break;T=M}b++}return m.length&&p.push(1,...m),p}(p.selectors[0]);let M=null,w=null,R=0;if(m)for(const Q of m)R+=Q[js].requiredVars,Q.create&&(Q.targetIdx=0,(M??=[]).push(Q)),Q.update&&(Q.targetIdx=0,(w??=[]).push(Q));if(b)for(let Q=0;Q<b.length;Q++){const re=b[Q];if("function"!=typeof re)for(const ye of re.bindings){R+=ye[js].requiredVars;const be=Q+1;ye.create&&(ye.targetIdx=be,(M??=[]).push(ye)),ye.update&&(ye.targetIdx=be,(w??=[]).push(ye))}}const B=[p];if(b)for(const Q of b){const ye=(0,c.HaV)("function"==typeof Q?Q:Q.type);B.push(ye)}return Mh(0,null,function BS(s,p){return s||p?m=>{if(1&m&&s)for(const b of s)b.create();if(2&m&&p)for(const b of p)b.update()}:null}(M,w),1,R,B,null,null,null,[T],null)}(b,B,w,M),Q=function OS(s,p,m){let b=p instanceof c.uvJ?p:p?.injector;return b&&null!==s.getStandaloneInjector&&(b=s.getStandaloneInjector(b)||b),b?new dl(m,b):m}(B,T||this.ngModule,p),re=function IS(s){const p=s.get(og,null);if(null===p)throw new c.buA(407,!1);return{rendererFactory:p,sanitizer:s.get(sS,null),changeDetectionScheduler:s.get(c.hk6,null),ngReflect:!1}}(Q),ye=re.rendererFactory.createRenderer(null,B),be=b?function Af(s,p,m,b){const M=b.get(qa,!1)||m===Da.ShadowDom||m===Da.ExperimentalIsolatedShadowDom,w=s.selectRootElement(p,M);return function XA(s){Ef(s)}(w),w}(ye,b,B.encapsulation,Q):function RS(s,p){const m=function LS(s){return(s.selectors[0][0]||"div").toLowerCase()}(s);return Oe(p,m,"svg"===m?c.jNX:"math"===m?c.rJ1:null)}(B,ye),we=w?.some(gg)||M?.some(St=>"function"!=typeof St&&St.bindings.some(gg)),Xe=fd(null,$,null,512|Ch(B),null,null,re,ye,Q,null,null);Xe[c.Yw1]=be,(0,c.ID8)(Xe);let dt=null;try{const St=ug(c.Yw1,Xe,2,"#host",()=>$.directiveRegistry,!0,0);G_(ye,be,St),st(be,Xe),oo($,Xe,St),dc($,St,Xe),dg($,St),void 0!==m&&function NS(s,p,m){const b=s.projection=[];for(let T=0;T<p.length;T++){const M=m[T];b.push(null!=M&&M.length?Array.from(M):null)}}(St,this.ngContentSelectors,m),dt=(0,c.KdJ)(St.index,Xe),Xe[c.SKP]=dt[c.SKP],al($,Xe,null)}catch(St){throw null!==dt&&Y(dt),Y(Xe),St}finally{ut(Ge.DynamicComponentEnd),(0,c.bll)()}return new FS(this.componentType,Xe,!!we)}finally{(0,A.Ht)(R)}}}function gg(s){const p=s[js].kind;return"input"===p||"twoWay"===p}class FS extends tS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(p,m,b){super(),this._rootLView=m,this._hasInputBindings=b,this._tNode=(0,c.XRZ)(m[c.eDl],c.Yw1),this.location=Mi(this._tNode,m),this.instance=(0,c.KdJ)(this._tNode.index,m)[c.SKP],this.hostView=this.changeDetectorRef=new Id(m,void 0),this.componentType=p}setInput(p,m){const b=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(p)&&Object.is(this.previousInputValues.get(p),m))return;const T=this._rootLView;nl(b,T[c.eDl],T,p,m),this.previousInputValues.set(p,m),co((0,c.KdJ)(b.index,T),1)}get injector(){return new di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(p){this.hostView.onDestroy(p)}}let Yd=(()=>class s{static __NG_ELEMENT_ID__=Gc})();function Gc(){return _g((0,c.Mx4)(),(0,c.OAn)())}const mg=Yd,Cv=class extends mg{_lContainer;_hostTNode;_hostLView;constructor(p,m,b){super(),this._lContainer=p,this._hostTNode=m,this._hostLView=b}get element(){return Mi(this._hostTNode,this._hostLView)}get injector(){return new di(this._hostTNode,this._hostLView)}get parentInjector(){const p=vi(this._hostTNode,this._hostLView);if(En(p)){const m=Di(p,this._hostLView),b=Ti(p);return new di(m[c.eDl].data[b+8],m)}return new di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(p){const m=Hc(this._lContainer);return null!==m&&m[p]||null}get length(){return this._lContainer.length-c.Y20}createEmbeddedView(p,m,b){let T,M;"number"==typeof b?T=b:null!=b&&(T=b.index,M=b.injector);const R=p.createEmbeddedViewImpl(m||{},M,null);return this.insertImpl(R,T,lo(this._hostTNode,null)),R}createComponent(p,m,b,T,M,w,R){const B=p&&!ie(p);let $;if(B)$=m;else{const dt=m||{};$=dt.index,b=dt.injector,T=dt.projectableNodes,M=dt.environmentInjector||dt.ngModuleRef,w=dt.directives,R=dt.bindings}const Q=B?p:new zd((0,c.xUg)(p)),re=b||this.parentInjector;if(!M&&null==Q.ngModule){const St=(B?re:this.parentInjector).get(c.uvJ,null);St&&(M=St)}(0,c.xUg)(Q.componentType??{});const Xe=Q.create(re,T,null,M,w,R);return this.insertImpl(Xe.hostView,$,lo(this._hostTNode,null)),Xe}insert(p,m){return this.insertImpl(p,m,!0)}insertImpl(p,m,b){const T=p._lView;if((0,c.ITl)(T)){const R=this.indexOf(p);if(-1!==R)this.detach(R);else{const B=T[c.f7T],$=new Cv(B,B[c.qlT],B[c.f7T]);$.detach($.indexOf(p))}}const M=this._adjustIndex(m),w=this._lContainer;return ol(w,T,M,b),p.attachToViewContainerRef(),(0,c.EYC)(gl(w),M,p),p}move(p,m){return this.insert(p,m)}indexOf(p){const m=Hc(this._lContainer);return null!==m?m.indexOf(p):-1}remove(p){const m=this._adjustIndex(p,-1),b=Oc(this._lContainer,m);b&&((0,c.E6O)(gl(this._lContainer),m),kc(b[c.eDl],b))}detach(p){const m=this._adjustIndex(p,-1),b=Oc(this._lContainer,m);return b&&null!=(0,c.E6O)(gl(this._lContainer),m)?new Id(b):null}_adjustIndex(p,m=0){return p??this.length+m}};function Hc(s){return s[c.bm_]}function gl(s){return s[c.bm_]||(s[c.bm_]=[])}function _g(s,p){let m;const b=p[s.index];return(0,c.A0l)(b)?m=b:(m=Wf(b,p,null,s),p[s.index]=m,kh(p,m)),fg(m,p,s,b),new Cv(m,s,p)}let fg=function Ov(s,p,m,b){if(s[c.s6P])return;let T;T=8&m.type?(0,c.IvY)(b):function kv(s,p){const m=s[c.GpT],b=m.createComment(""),T=(0,c.d31)(p,s),M=m.parentNode(T);return Je(m,M,b,m.nextSibling(T),!1),b}(p,m),s[c.s6P]=T};class yg{queryList;matches=null;constructor(p){this.queryList=p}clone(){return new yg(this.queryList)}setDirty(){this.queryList.setDirty()}}class bg{queries;constructor(p=[]){this.queries=p}createEmbeddedView(p){const m=p.queries;if(null!==m){const b=null!==p.contentQueries?p.contentQueries[0]:m.length,T=[];for(let M=0;M<b;M++){const w=m.getByIndex(M);T.push(this.queries[w.indexInDeclarationView].clone())}return new bg(T)}return null}insertView(p){this.dirtyQueriesWithMatches(p)}detachView(p){this.dirtyQueriesWithMatches(p)}finishViewCreation(p){this.dirtyQueriesWithMatches(p)}dirtyQueriesWithMatches(p){for(let m=0;m<this.queries.length;m++)null!==jc(p,m).matches&&this.queries[m].setDirty()}}class Pg{flags;read;predicate;constructor(p,m,b=null){this.flags=m,this.read=b,this.predicate="string"==typeof p?function GS(s){return s.split(",").map(p=>p.trim())}(p):p}}class Xd{queries;constructor(p=[]){this.queries=p}elementStart(p,m){for(let b=0;b<this.queries.length;b++)this.queries[b].elementStart(p,m)}elementEnd(p){for(let m=0;m<this.queries.length;m++)this.queries[m].elementEnd(p)}embeddedTView(p){let m=null;for(let b=0;b<this.length;b++){const T=null!==m?m.length:0,M=this.getByIndex(b).embeddedTView(p,T);M&&(M.indexInDeclarationView=b,null!==m?m.push(M):m=[M])}return null!==m?new Xd(m):null}template(p,m){for(let b=0;b<this.queries.length;b++)this.queries[b].template(p,m)}getByIndex(p){return this.queries[p]}get length(){return this.queries.length}track(p){this.queries.push(p)}}class Ag{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(p,m=-1){this.metadata=p,this._declarationNodeIndex=m}elementStart(p,m){this.isApplyingToNode(m)&&this.matchTNode(p,m)}elementEnd(p){this._declarationNodeIndex===p.index&&(this._appliesToNextNode=!1)}template(p,m){this.elementStart(p,m)}embeddedTView(p,m){return this.isApplyingToNode(p)?(this.crossesNgTemplate=!0,this.addMatch(-p.index,m),new Ag(this.metadata)):null}isApplyingToNode(p){if(this._appliesToNextNode&&1&~this.metadata.flags){const m=this._declarationNodeIndex;let b=p.parent;for(;null!==b&&8&b.type&&b.index!==m;)b=b.parent;return m===(null!==b?b.index:-1)}return this._appliesToNextNode}matchTNode(p,m){const b=this.metadata.predicate;if(Array.isArray(b))for(let T=0;T<b.length;T++){const M=b[T];this.matchTNodeWithReadOption(p,m,US(m,M)),this.matchTNodeWithReadOption(p,m,Dn(m,p,M,!1,!1))}else b===Ic?4&m.type&&this.matchTNodeWithReadOption(p,m,-1):this.matchTNodeWithReadOption(p,m,Dn(m,p,b,!1,!1))}matchTNodeWithReadOption(p,m,b){if(null!==b){const T=this.metadata.read;if(null!==T)if(T===Xt||T===Yd||T===Ic&&4&m.type)this.addMatch(m.index,-2);else{const M=Dn(m,p,T,!1,!1);null!==M&&this.addMatch(m.index,M)}else this.addMatch(m.index,b)}}addMatch(p,m){null===this.matches?this.matches=[p,m]:this.matches.push(p,m)}}function US(s,p){const m=s.localNames;if(null!==m)for(let b=0;b<m.length;b+=2)if(m[b]===p)return m[b+1];return null}function KS(s,p,m,b){return-1===m?function WS(s,p){return 11&s.type?Mi(s,p):4&s.type?Rd(s,p):null}(p,s):-2===m?function $S(s,p,m){return m===Xt?Mi(p,s):m===Ic?Rd(p,s):m===Yd?_g(p,s):void 0}(s,p,b):an(s,s[c.eDl],m,p)}function Rv(s,p,m,b){const T=p[c.Ds7].queries[b];if(null===T.matches){const M=s.data,w=m.matches,R=[];for(let B=0;null!==w&&B<w.length;B+=2){const $=w[B];R.push($<0?null:KS(p,M[$],w[B+1],m.metadata.read))}T.matches=R}return T.matches}function Eg(s,p,m,b){const T=s.queries.getByIndex(m),M=T.matches;if(null!==M){const w=Rv(s,p,T,m);for(let R=0;R<M.length;R+=2){const B=M[R];if(B>0)b.push(w[R/2]);else{const $=M[R+1],Q=p[-B];for(let re=c.Y20;re<Q.length;re++){const ye=Q[re];ye[c.rQE]===ye[c.f7T]&&Eg(ye[c.eDl],ye,$,b)}if(null!==Q[c.nfM]){const re=Q[c.nfM];for(let ye=0;ye<re.length;ye++){const be=re[ye];Eg(be[c.eDl],be,$,b)}}}}}return b}function Sg(s,p){return s[c.Ds7].queries[p].queryList}function Jd(s,p,m){const b=new Fi(!(4&~m));return(0,c.B22)(s,p,b,b.destroy),(p[c.Ds7]??=new bg).queries.push(new yg(b))-1}function _l(s,p,m){const b=(0,c.klJ)();return b.firstCreatePass&&(Dg(b,new Pg(s,p,m),-1),!(2&~p)&&(b.staticViewQueries=!0)),Jd(b,(0,c.OAn)(),p)}function Tg(s,p,m,b){const T=(0,c.klJ)();if(T.firstCreatePass){const M=(0,c.Mx4)();Dg(T,new Pg(p,m,b),M.index),function Lv(s,p){const m=s.contentQueries||(s.contentQueries=[]);p!==(m.length?m[m.length-1]:-1)&&m.push(s.queries.length-1,p)}(T,s),!(2&~m)&&(T.staticContentQueries=!0)}return Jd(T,(0,c.OAn)(),m)}function Dg(s,p,m){null===s.queries&&(s.queries=new Xd),s.queries.track(new Ag(p,m))}function jc(s,p){return s.queries.getByIndex(p)}function Mg(s,p){const m=s[c.eDl],b=jc(m,p);return b.crossesNgTemplate?Eg(m,s,p,[]):Rv(m,s,b,p)}function xv(s,p){const m=s[A.bh];m._lView=(0,c.OAn)(),m._queryIndex=p,m._queryList=Sg(m._lView,p),m._queryList.onDirty(()=>m._dirtyCounter.update(b=>b+1))}let pa=new Map;const Vs=new Set;function HS(s){return kg.apply(this,arguments)}function kg(){return kg=(0,P.A)(function*(s){const p=pa;pa=new Map;const m=new Map;function b(M){const w=m.get(M);if(w)return w;const R=s(M).then(B=>function VS(s,p){return fl.apply(this,arguments)}(M,B));return m.set(M,R),R}const T=Array.from(p).map(function(){var M=(0,P.A)(function*([w,R]){if(R.styleUrl&&R.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");const B=[];R.templateUrl&&B.push(b(R.templateUrl).then(ye=>{R.template=ye}));const $="string"==typeof R.styles?[R.styles]:R.styles??[];R.styles=$;let{styleUrl:Q,styleUrls:re}=R;if(Q&&(re=[Q],R.styleUrl=void 0),re?.length){const ye=Promise.all(re.map(be=>b(be))).then(be=>{$.push(...be),R.styleUrls=void 0});B.push(ye)}yield Promise.all(B),Vs.delete(w)});return function(w){return M.apply(this,arguments)}}());yield Promise.all(T)}),kg.apply(this,arguments)}function Fv(){return 0===pa.size}function fl(){return(fl=(0,P.A)(function*(s,p){if("string"==typeof p)return p;if(void 0!==p.status&&200!==p.status)throw new c.buA(918,!1);return p.text()})).apply(this,arguments)}const Og=new Map;function Uv(s,p){(function zS(s,p,m){if(p&&p!==m)throw new c.buA(921,!1)})(0,Og.get(p)||null,s),Og.set(p,s)}let go=class{},JS=class{};function mo(s,p){return new Ig(s,p??null,[])}class Ig extends go{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new hg(this);constructor(p,m,b,T=!0){super(),this.ngModuleType=p,this._parent=m;const M=(0,c.phH)(p);this._bootstrapComponents=ys(M.bootstrap),this._r3Injector=(0,c.Pz9)(p,m,[{provide:go,useValue:this},{provide:$d,useValue:this.componentFactoryResolver},...b],(0,c.AsM)(p),new Set(["environment"])),T&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const p=this._r3Injector;!p.destroyed&&p.destroy(),this.destroyCbs.forEach(m=>m()),this.destroyCbs=null}onDestroy(p){this.destroyCbs.push(p)}}class Wv extends JS{moduleType;constructor(p){super(),this.moduleType=p}create(p){return new Ig(this.moduleType,p,[])}}function Kv(s,p,m){return new Ig(s,p,m,!1)}class $v extends go{injector;componentFactoryResolver=new hg(this);instance=null;constructor(p){super();const m=new c.e5P([...p.providers,{provide:go,useValue:this},{provide:$d,useValue:this.componentFactoryResolver}],p.parent||(0,c.WB9)(),p.debugName,new Set(["environment"]));this.injector=m,p.runEnvironmentInitializers&&m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(p){this.injector.onDestroy(p)}}function Rg(s,p,m=null){return new $v({providers:s,parent:p,debugName:m,runEnvironmentInitializers:!0}).injector}let vl=(()=>{class s{_injector;cachedInjectors=new Map;constructor(m){this._injector=m}getOrCreateStandaloneInjector(m){if(!m.standalone)return null;if(!this.cachedInjectors.has(m)){const b=(0,c.jXY)(!1,m.type),T=b.length>0?Rg([b],this._injector,""):null;this.cachedInjectors.set(m,T)}return this.cachedInjectors.get(m)}ngOnDestroy(){try{for(const m of this.cachedInjectors.values())null!==m&&m.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,c.jDH)({token:s,providedIn:"environment",factory:()=>new s((0,c.KVO)(c.uvJ))})}return s})();function Qd(s){return t(()=>{const p=Vc(s),m={...p,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===_n.OnPush,directiveDefs:null,pipeDefs:null,dependencies:p.standalone&&s.dependencies||null,getStandaloneInjector:p.standalone?T=>T.get(vl).getOrCreateStandaloneInjector(m):null,getExternalStyles:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||Da.Emulated,styles:s.styles||c.Mlv,_:null,schemas:s.schemas||null,tView:null,id:""};p.standalone&&Pn("NgStandalone"),Zd(m);const b=s.dependencies;return m.directiveDefs=ep(b,Gv),m.pipeDefs=ep(b,c.oyA),m.id=function t1(s){let p=0;const b=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,"function"==typeof s.consts?"":s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery];for(const M of b.join("|"))p=Math.imul(31,p)+M.charCodeAt(0)|0;return p+=2147483648,"c"+p}(m),m})}function Gv(s){return(0,c.xUg)(s)||(0,c.HaV)(s)}function Hv(s){return t(()=>({type:s.type,bootstrap:s.bootstrap||c.Mlv,declarations:s.declarations||c.Mlv,imports:s.imports||c.Mlv,exports:s.exports||c.Mlv,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function qS(s,p){if(null==s)return c.MZA;const m={};for(const b in s)if(s.hasOwnProperty(b)){const T=s[b];let M,w,R,B;Array.isArray(T)?(R=T[0],M=T[1],w=T[2]??M,B=T[3]||null):(M=T,w=T,R=vd.None,B=null),m[M]=[b,R,B],p[M]=w}return m}function ZS(s){if(null==s)return c.MZA;const p={};for(const m in s)s.hasOwnProperty(m)&&(p[s[m]]=m);return p}function qd(s){return t(()=>{const p=Vc(s);return Zd(p),p})}function jv(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:s.standalone??!0,onDestroy:s.type.prototype.ngOnDestroy||null}}function Vc(s){const p={};return{type:s.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:p,inputConfig:s.inputs||c.MZA,exportAs:s.exportAs||null,standalone:s.standalone??!0,signals:!0===s.signals,selectors:s.selectors||c.Mlv,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:qS(s.inputs,p),outputs:ZS(s.outputs),debugInfo:null}}function Zd(s){s.features?.forEach(p=>p(s))}function ep(s,p){return s?()=>{const m="function"==typeof s?s():s,b=[];for(const T of m){const M=p(T);null!==M&&b.push(M)}return b}:null}function yl(s){const p=[];let m=!1,b=null,T=null;for(let M=0;M<s.length;M++){const w=s[M];if(null!==w.hostDirectives){const R=p.length;b??=new Map,T??=new Map,Lg(w,p,b),T.set(w,[R,p.length-1])}0===M&&(0,c.JlV)(w)&&(m=!0,p.push(w))}for(let M=m?1:0;M<s.length;M++)p.push(s[M]);return[p,b,T]}function Lg(s,p,m){if(null!==s.hostDirectives)for(const b of s.hostDirectives)if("function"==typeof b){const T=b();for(const M of T)xg(Bg(M),p,m)}else xg(b,p,m)}function xg(s,p,m){const b=(0,c.HaV)(s.directive);(function Vv(s,p){for(const m in p)p.hasOwnProperty(m)&&(s[p[m]]=s[m])})(b.declaredInputs,s.inputs),Lg(b,p,m),m.set(b,s),p.push(b)}function Bg(s){return"function"==typeof s?{directive:(0,c.nl4)(s),inputs:c.MZA,outputs:c.MZA}:{directive:(0,c.nl4)(s.directive),inputs:zc(s.inputs),outputs:zc(s.outputs)}}function zc(s){if(void 0===s||0===s.length)return c.MZA;const p={};for(let m=0;m<s.length;m+=2)p[s[m]]=s[m+1];return p}function _o(s){let p=function n1(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),m=!0;const b=[s];for(;p;){let T;if((0,c.JlV)(s))T=p.\u0275cmp||p.\u0275dir;else{if(p.\u0275cmp)throw new c.buA(903,!1);T=p.\u0275dir}if(T){if(m){b.push(T);const w=s;w.inputs=bl(s.inputs),w.declaredInputs=bl(s.declaredInputs),w.outputs=bl(s.outputs);const R=T.hostBindings;R&&Fg(s,R);const B=T.viewQuery,$=T.contentQueries;if(B&&cn(s,B),$&&ts(s,$),Yc(s,T),(0,c.dwj)(s.outputs,T.outputs),(0,c.JlV)(T)&&T.data.animation){const Q=s.data;Q.animation=(Q.animation||[]).concat(T.data.animation)}}const M=T.features;if(M)for(let w=0;w<M.length;w++){const R=M[w];R&&R.ngInherit&&R(s),R===_o&&(m=!1)}}p=Object.getPrototypeOf(p)}!function ha(s){let p=0,m=null;for(let b=s.length-1;b>=0;b--){const T=s[b];T.hostVars=p+=T.hostVars,T.hostAttrs=ki(T.hostAttrs,m=ki(m,T.hostAttrs))}}(b)}function Yc(s,p){for(const m in p.inputs){if(!p.inputs.hasOwnProperty(m)||s.inputs.hasOwnProperty(m))continue;const b=p.inputs[m];void 0!==b&&(s.inputs[m]=b,s.declaredInputs[m]=p.declaredInputs[m])}}function bl(s){return s===c.MZA?{}:s===c.Mlv?[]:s}function cn(s,p){const m=s.viewQuery;s.viewQuery=m?(b,T)=>{p(b,T),m(b,T)}:p}function ts(s,p){const m=s.contentQueries;s.contentQueries=m?(b,T,M)=>{p(b,T,M),m(b,T,M)}:p}function Fg(s,p){const m=s.hostBindings;s.hostBindings=m?(b,T)=>{p(b,T),m(b,T)}:p}function As(s,p,m,b,T,M,w,R){if(m.firstCreatePass){s.mergedAttrs=ki(s.mergedAttrs,s.attrs);const Q=s.tView=Mh(2,s,T,M,w,m.directiveRegistry,m.pipeRegistry,null,m.schemas,m.consts,null);null!==m.queries&&(m.queries.template(m,s),Q.queries=m.queries.embeddedTView(s))}R&&(s.flags|=R),(0,c.iMd)(s,!1);const B=Ug(m,p,s,b);(0,c.SX7)()&&Kh(m,p,B,s),st(B,p);const $=Wf(B,p,B,s);p[b+c.Yw1]=$,kh(p,$)}function is(s,p,m,b,T,M,w,R,B,$,Q){const re=m+c.Yw1;let ye;if(p.firstCreatePass){if(ye=uo(p,re,4,w||null,R||null),null!=$){const be=(0,c.db4)(p.consts,$);ye.localNames=[];for(let we=0;we<be.length;we+=2)ye.localNames.push(be[we],-1)}}else ye=p.data[re];return As(ye,s,p,m,b,T,M,B),null!=$&&il(s,ye,Q),ye}function Pl(s,p,m,b,T,M,w,R){const B=(0,c.OAn)(),$=(0,c.klJ)();return function Ng(s,p,m,b,T,M,w,R,B,$,Q){const re=m+c.Yw1;let ye;p.firstCreatePass?(ye=uo(p,re,4,w||null,R||null),(0,c.ckz)()&&mv(p,s,ye,(0,c.db4)(p.consts,$),jh),Qt(p,ye)):ye=p.data[re],As(ye,s,p,m,b,T,M,B),(0,c.yoD)(ye)&&oo(p,s,ye),null!=$&&il(s,ye,Q)}(B,$,s,p,m,b,T,(0,c.db4)($.consts,M),void 0,w,R),Pl}function Es(s,p,m,b,T,M,w,R){const B=(0,c.OAn)(),$=(0,c.klJ)();return is(B,$,s,p,m,b,T,(0,c.db4)($.consts,M),void 0,w,R),Es}let Ug=function Yv(s,p,m,b){return(0,c.m7n)(!0),p[c.GpT].createComment("")};var un=function(s){return s[s.NOT_STARTED=0]="NOT_STARTED",s[s.IN_PROGRESS=1]="IN_PROGRESS",s[s.COMPLETE=2]="COMPLETE",s[s.FAILED=3]="FAILED",s}(un||{}),hi=function(s){return s[s.Placeholder=0]="Placeholder",s[s.Loading=1]="Loading",s[s.Complete=2]="Complete",s[s.Error=3]="Error",s}(hi||{}),Ss=function(s){return s[s.Initial=-1]="Initial",s}(Ss||{}),Jv=function(s){return s[s.Manual=0]="Manual",s[s.Playthrough=1]="Playthrough",s}(Jv||{});function Jc(s,p,m){const b=Kg(s);null===p[b]&&(p[b]=[]),p[b].push(m)}function Qc(s,p){const m=Kg(s),b=p[m];if(null!==b){for(const T of b)T();p[m]=null}}function Qv(s){Qc(1,s),Qc(0,s),Qc(2,s)}function Kg(s){let p=4;return 1===s?p=5:2===s&&(p=9),p}function qc(s){return s+1}function _a(s,p){return s[qc(p.index)]}function $n(s,p){const m=qc(p.index);return s.data[m]}function $g(s,p){return p===hi.Placeholder?s.placeholderBlockConfig?.[0]??null:p===hi.Loading?s.loadingBlockConfig?.[0]??null:null}function qv(s){return s.loadingBlockConfig?.[1]??null}function Zv(s,p){if(!s||0===s.length)return p;const m=new Set(s);for(const b of p)m.add(b);return s.length===m.size?s:Array.from(m)}function Hg(s,p,m,b){const T=m.get(c.SKi);return function Fa(s,p,m,b){const T=Za(b);let M=Ba.get(s)?.get(T);mr.has(T)||mr.set(T,{observer:m(b),count:0});const w=mr.get(T);if(!M){M=new _r,w.observer.observe(s);let R=Ba.get(s);R?R.set(T,M):(R=new Map,Ba.set(s,R)),R.set(T,M),w.count++}return M.callbacks.add(p),()=>{if(Ba.get(s)?.has(T)){if(M.callbacks.delete(p),0===M.callbacks.size){w.observer.unobserve(s),w.count--;const R=Ba.get(s);R&&(R.delete(T),0===R.size&&Ba.delete(s))}0===w.count&&(w.observer.disconnect(),mr.delete(T))}}}(s,()=>T.run(p),M=>T.runOutsideAngular(()=>function Ku(s){const p=Za(s);return new IntersectionObserver(m=>{for(const b of m)b.isIntersecting&&Ba.has(b.target)&&Ba.get(b.target)?.get(p)?.listener()},s)}(M)),b)}function El(s,p,m,b,T,M,w,R){const B=s[c.YEL],$=B.get(c.SKi);let Q;Q=function NA(s,p){const m=p?.injector??(0,c.WQX)(c.zZn);return Pn("NgAfterRender"),uf(s,m,p,!1)}({read:function re(){if((0,c.EPY)(s))return void Q.destroy();const ye=_a(s,p),be=ye[1];if(be!==Ss.Initial&&be!==hi.Placeholder)return void Q.destroy();const we=function p1(s,p,m){return null==m?s:m>=0?(0,c.jRZ)(m,s):s[p.index][c.Y20]??null}(s,p,b);if(!we||(Q.destroy(),(0,c.EPY)(we)))return;const Xe=function h1(s,p){return(0,c.vaC)(c.Yw1+p,s)}(we,m),dt=T(Xe,()=>{$.run(()=>{s!==we&&(0,c.DyX)(we,dt),M()})},B,R);s!==we&&(0,c.ik5)(we,dt),Jc(w,ye,dt)}},{injector:B})}function Xs(s,p){const m=p.get(g1);return m.add(s),()=>m.remove(s)}let g1=(()=>{class s{executingCallbacks=!1;idleId=null;current=new Set;deferred=new Set;ngZone=(0,c.WQX)(c.SKi);requestIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout)().bind(globalThis);cancelIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout)().bind(globalThis);add(m){(this.executingCallbacks?this.deferred:this.current).add(m),null===this.idleId&&this.scheduleIdleCallback()}remove(m){const{current:b,deferred:T}=this;b.delete(m),T.delete(m),0===b.size&&0===T.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const m=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const b of this.current)b();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const b of this.deferred)this.current.add(b);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(m))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static \u0275prov=(0,c.jDH)({token:s,providedIn:"root",factory:()=>new s})}return s})();function ip(s){return(p,m)=>jg(s,p,m)}function jg(s,p,m){const b=m.get(m1),T=m.get(c.SKi);return b.add(s,p,T),()=>b.remove(p)}let m1=(()=>{class s{executingCallbacks=!1;timeoutId=null;invokeTimerAt=null;current=[];deferred=[];add(m,b,T){this.addToQueue(this.executingCallbacks?this.deferred:this.current,Date.now()+m,b),this.scheduleTimer(T)}remove(m){const{current:b,deferred:T}=this;-1===this.removeFromQueue(b,m)&&this.removeFromQueue(T,m),0===b.length&&0===T.length&&this.clearTimeout()}addToQueue(m,b,T){let M=m.length;for(let w=0;w<m.length;w+=2)if(m[w]>b){M=w;break}(0,c.llW)(m,M,b,T)}removeFromQueue(m,b){let T=-1;for(let M=0;M<m.length;M+=2)if(m[M+1]===b){T=M;break}return T>-1&&(0,c.gsJ)(m,T,2),T}scheduleTimer(m){const b=()=>{this.clearTimeout(),this.executingCallbacks=!0;const M=[...this.current],w=Date.now();for(let B=0;B<M.length;B+=2){const Q=M[B+1];if(!(M[B]<=w))break;Q()}let R=-1;for(let B=0;B<this.current.length&&this.current[B]<=w;B+=2)R=B+1;if(R>=0&&(0,c.gsJ)(this.current,0,R+1),this.executingCallbacks=!1,this.deferred.length>0){for(let B=0;B<this.deferred.length;B+=2)this.addToQueue(this.current,this.deferred[B],this.deferred[B+1]);this.deferred.length=0}this.scheduleTimer(m)};if(this.current.length>0){const M=Date.now(),w=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-w>16){this.clearTimeout();const R=Math.max(w-M,16);this.invokeTimerAt=w,this.timeoutId=m.runOutsideAngular(()=>setTimeout(()=>m.run(b),R))}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static \u0275prov=(0,c.jDH)({token:s,providedIn:"root",factory:()=>new s})}return s})(),iy=(()=>{class s{cachedInjectors=new Map;getOrCreateInjector(m,b,T,M){if(!this.cachedInjectors.has(m)){const w=T.length>0?Rg(T,b,M):null;this.cachedInjectors.set(m,w)}return this.cachedInjectors.get(m)}ngOnDestroy(){try{for(const m of this.cachedInjectors.values())null!==m&&m.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=(0,c.jDH)({token:s,providedIn:"environment",factory:()=>new s})}return s})();const _1=new c.nKC("");function Zc(s,p,m){return s.get(iy).getOrCreateInjector(p,s,m,"")}function Dr(s,p,m,b=!1){const T=m[c.f7T],M=T[c.eDl];if((0,c.EPY)(T))return;const w=_a(T,p),B=w[7];if(!(null!==B&&s<B)&&sy(w[1],s)&&sy(w[0]??-1,s)){const $=$n(M,p),re=b||null===qv($)&&null===$g($,hi.Loading)&&!$g($,hi.Placeholder)?ny:zg;try{re(s,w,m,p,T)}catch(ye){Vh(T,ye)}}}function ny(s,p,m,b,T){ut(Ge.DeferBlockStateStart);const M=function c1(s,p,m){const T=$n(p[c.eDl],m);switch(s){case hi.Complete:return T.primaryTmplIndex;case hi.Loading:return T.loadingTmplIndex;case hi.Error:return T.errorTmplIndex;case hi.Placeholder:return T.placeholderTmplIndex;default:return null}}(s,T,b);if(null!==M){p[1]=s;const w=T[c.eDl],B=(0,c.XRZ)(w,M+c.Yw1),$=0;let Q;if(Xh(m,$),s===hi.Complete){const we=$n(w,b),Xe=we.providers;Xe&&Xe.length>0&&(Q=function f1(s,p,m){if(s instanceof dl){const T=s.injector,w=Zc(s.parentInjector,p,m);return new dl(T,w)}const b=s.get(c.uvJ);if(b!==s){const T=Zc(b,p,m);return new dl(s,T)}return Zc(s,p,m)}(T[c.YEL],we,Xe))}const{dehydratedView:re,dehydratedViewIx:ye}=function Vg(s,p){const m=s[c.qFA]?.findIndex(T=>T.data.s===p[1])??-1;return{dehydratedView:m>-1?s[c.qFA][m]:null,dehydratedViewIx:m}}(m,p),be=Er(T,B,null,{injector:Q,dehydratedView:re});if(ol(m,be,$,lo(B,re)),co(be,2),ye>-1&&m[c.qFA]?.splice(ye,1),(s===hi.Complete||s===hi.Error)&&Array.isArray(p[8])){for(const we of p[8])we();p[8]=null}}ut(Ge.DeferBlockStateEnd)}function v1(s,p,m,b,T){const M=Date.now(),R=$n(T[c.eDl],b);if(null===p[2]||p[2]<=M){p[2]=null;const B=qv(R),$=null!==p[3];if(s!==hi.Loading||null===B||$){s>hi.Loading&&$&&(p[3](),p[3]=null,p[0]=null),ny(s,p,m,b,T);const Q=$g(R,s);null!==Q&&(p[2]=M+Q,ay(Q,p,b,m,T))}else{p[0]=s;const Q=ay(B,p,b,m,T);p[3]=Q}}else p[0]=s}function ay(s,p,m,b,T){return jg(s,()=>{const w=p[0];p[2]=null,p[0]=null,null!==w&&Dr(w,m,b)},T[c.YEL])}function sy(s,p){return s<p}function vo(s,p){Dr(hi.Placeholder,p,s[p.index])}function ry(s,p,m){s.loadingPromise.then(()=>{s.loadingState===un.COMPLETE?Dr(hi.Complete,p,m):s.loadingState===un.FAILED&&Dr(hi.Error,p,m)})}let zg=null;function ap(s,p,m,b){return t(()=>{const T=s;null!==p&&(T.hasOwnProperty("decorators")&&void 0!==T.decorators?T.decorators.push(...p):T.decorators=p),null!==m&&(T.ctorParameters=m),null!==b&&(T.propDecorators=T.hasOwnProperty("propDecorators")&&void 0!==T.propDecorators?{...T.propDecorators,...b}:b)})}let eu=(()=>{class s{log(m){console.log(m)}warn(m){console.warn(m)}static \u0275fac=function(b){return new(b||s)};static \u0275prov=(0,c.jDH)({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function uy(s){return function cy(s){return"function"==typeof s&&void 0!==s[A.bh]}(s)&&"function"==typeof s.set}const Ay=new c.nKC(""),Ey=new c.nKC("");let op,nm=(()=>{class s{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(m,b,T){this._ngZone=m,this.registry=b,(0,c.M6u)()&&(this._destroyRef=(0,c.WQX)(c.abz,{optional:!0})??void 0),op||(function am(s){op=s}(T),T.addToWindow(b)),this._watchAngularEvents(),m.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const m=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),b=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{c.SKi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{m.unsubscribe(),b.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let m=this._callbacks.pop();clearTimeout(m.timeoutId),m.doneCb()}});else{let m=this.getPendingTasks();this._callbacks=this._callbacks.filter(b=>!b.updateCb||!b.updateCb(m)||(clearTimeout(b.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(m=>({source:m.source,creationLocation:m.creationLocation,data:m.data})):[]}addCallback(m,b,T){let M=-1;b&&b>0&&(M=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==M),m()},b)),this._callbacks.push({doneCb:m,timeoutId:M,updateCb:T})}whenStable(m,b,T){if(T&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(m,b,T),this._runCallbacksIfReady()}registerApplication(m){this.registry.registerApplication(m,this)}unregisterApplication(m){this.registry.unregisterApplication(m)}findProviders(m,b,T){return[]}static \u0275fac=function(b){return new(b||s)((0,c.KVO)(c.SKi),(0,c.KVO)(K1),(0,c.KVO)(Ey))};static \u0275prov=(0,c.jDH)({token:s,factory:s.\u0275fac})}return s})(),K1=(()=>{class s{_applications=new Map;registerApplication(m,b){this._applications.set(m,b)}unregisterApplication(m){this._applications.delete(m)}unregisterAllApplications(){this._applications.clear()}getTestability(m){return this._applications.get(m)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(m,b=!0){return op?.findTestabilityInTree(this,m,b)??null}static \u0275fac=function(b){return new(b||s)};static \u0275prov=(0,c.jDH)({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function iu(s){return!!s&&"function"==typeof s.then}function lp(s){return!!s&&"function"==typeof s.subscribe}const sm=new c.nKC("");let Ca=(()=>{class s{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((m,b)=>{this.resolve=m,this.reject=b});appInits=(0,c.WQX)(sm,{optional:!0})??[];injector=(0,c.WQX)(c.zZn);constructor(){}runInitializers(){if(this.initialized)return;const m=[];for(const T of this.appInits){const M=(0,c.N4e)(this.injector,T);if(iu(M))m.push(M);else if(lp(M)){const w=new Promise((R,B)=>{M.subscribe({complete:R,error:B})});m.push(w)}}const b=()=>{this.done=!0,this.resolve()};Promise.all(m).then(()=>{b()}).catch(T=>{this.reject(T)}),0===m.length&&b(),this.initialized=!0}static \u0275fac=function(b){return new(b||s)};static \u0275prov=(0,c.jDH)({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const $1=new c.nKC("");function Sy(){}function G1(){(0,A.KO)(()=>{throw new c.buA(600,"")})}function Ty(s,p){return Array.isArray(p)?p.reduce(Ty,s):{...s,...p}}let om=(()=>{class s{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=(0,c.WQX)(c.ZTf);afterRenderManager=(0,c.WQX)(rf);zonelessEnabled=(0,c.WQX)(c.Evm);rootEffectScheduler=(0,c.WQX)(c.VML);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new _.B7;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=(0,c.WQX)(c.rev);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe((0,e.T)(m=>!m))}constructor(){(0,c.WQX)(Cc,{optional:!0})}whenStable(){let m;return new Promise(b=>{m=this.isStable.subscribe({next:T=>{T&&b()}})}).finally(()=>{m.unsubscribe()})}_injector=(0,c.WQX)(c.uvJ);_rendererFactory=null;get injector(){return this._injector}bootstrap(m,b){return this.bootstrapImpl(m,b)}bootstrapImpl(m,b,T=c.zZn.NULL){return this._injector.get(c.SKi).run(()=>{ut(Ge.BootstrapComponentStart);const w=m instanceof hv;if(!this._injector.get(Ca).done)throw new c.buA(405,"");let B;B=w?m:this._injector.get($d).resolveComponentFactory(m),this.componentTypes.push(B.componentType);const $=function H1(s){return s.isBoundToModule}(B)?void 0:this._injector.get(go),re=B.create(T,[],b||B.selector,$),ye=re.location.nativeElement,be=re.injector.get(Ay,null);return be?.registerApplication(ye),re.onDestroy(()=>{this.detachView(re.hostView),cp(this.components,re),be?.unregisterApplication(ye)}),this._loadComponent(re),ut(Ge.BootstrapComponentEnd,re),re})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ut(Ge.ChangeDetectionStart),null!==this.tracingSnapshot?this.tracingSnapshot.run(Rh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw ut(Ge.ChangeDetectionEnd),new c.buA(101,!1);const m=(0,A.Ht)(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,(0,A.Ht)(m),this.afterTick.next(),ut(Ge.ChangeDetectionEnd)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(og,null,{optional:!0}));let m=0;for(;0!==this.dirtyFlags&&m++<10;){ut(Ge.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{ut(Ge.ChangeDetectionSyncEnd)}}}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let m=!1;if(7&this.dirtyFlags){const b=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:T}of this.allViews)(b||(0,c.dMS)(T))&&(sl(T,b&&!this.zonelessEnabled?0:1),m=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}m||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:m})=>(0,c.dMS)(m))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(m){const b=m;this._views.push(b),b.attachToAppRef(this)}detachView(m){const b=m;cp(this._views,b),b.detachFromAppRef()}_loadComponent(m){this.attachView(m.hostView);try{this.tick()}catch(T){this.internalErrorHandler(T)}this.components.push(m),this._injector.get($1,[]).forEach(T=>T(m))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(m=>m()),this._views.slice().forEach(m=>m.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(m){return this._destroyListeners.push(m),()=>cp(this._destroyListeners,m)}destroy(){if(this._destroyed)throw new c.buA(406,!1);const m=this._injector;m.destroy&&!m.destroyed&&m.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(b){return new(b||s)};static \u0275prov=(0,c.jDH)({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function cp(s,p){const m=s.indexOf(p);m>-1&&s.splice(m,1)}function lm(){let s,p;return{promise:new Promise((b,T)=>{s=b,p=T}),resolve:s,reject:p}}function Dy(s){const p=(0,c.OAn)(),m=(0,c.Mx4)();if(vo(p,m),!ky(0,p))return;const b=p[c.YEL];Jc(0,_a(p,m),s(()=>Cs(0,p,m),b))}function My(s){const p=(0,c.OAn)(),m=p[c.YEL],b=(0,c.Mx4)(),M=$n(p[c.eDl],b);M.loadingState===un.NOT_STARTED&&Jc(1,_a(p,b),s(()=>Dl(M,p,b),m))}function Cy(s,p,m){const b=p[c.YEL],T=_a(p,m),M=T[6];Jc(2,T,s(()=>Qs(b,M),b))}function Dl(s,p,m){cm(s,p,m)}function cm(s,p,m){const b=p[c.YEL],T=p[c.eDl];if(s.loadingState!==un.NOT_STARTED)return s.loadingPromise??Promise.resolve();const M=_a(p,m),w=function u1(s,p){return(0,c.XRZ)(s,p.primaryTmplIndex+c.Yw1)}(T,s);s.loadingState=un.IN_PROGRESS,Qc(1,M);let R=s.dependencyResolverFn;const B=b.get(c.u5s).add();return R?(s.loadingPromise=Promise.allSettled(R()).then($=>{let Q=!1;const re=[],ye=[];for(const be of $){if("fulfilled"!==be.status){Q=!0;break}{const we=be.value,Xe=(0,c.xUg)(we)||(0,c.HaV)(we);if(Xe)re.push(Xe);else{const dt=(0,c.oyA)(we);dt&&ye.push(dt)}}}if(Q){if(s.loadingState=un.FAILED,null===s.errorTmplIndex){const we=new c.buA(-750,!1);Vh(p,we)}}else{s.loadingState=un.COMPLETE;const be=w.tView;if(re.length>0){be.directiveRegistry=Zv(be.directiveRegistry,re);const we=re.map(dt=>dt.type),Xe=(0,c.jXY)(!1,...we);s.providers=Xe}ye.length>0&&(be.pipeRegistry=Zv(be.pipeRegistry,ye))}}),s.loadingPromise.finally(()=>{s.loadingPromise=null,B()})):(s.loadingPromise=Promise.resolve().then(()=>{s.loadingPromise=null,s.loadingState=un.COMPLETE,B()}),s.loadingPromise)}function ky(s,p){return p[c.YEL].get(_1,null,{optional:!0})?.behavior!==Jv.Manual}function Cs(s,p,m){const b=p[c.eDl],T=p[m.index];if(!ky(0,p))return;const M=_a(p,m),w=$n(b,m);switch(Qv(M),w.loadingState){case un.NOT_STARTED:Dr(hi.Loading,m,T),cm(w,p,m),w.loadingState===un.IN_PROGRESS&&ry(w,m,T);break;case un.IN_PROGRESS:Dr(hi.Loading,m,T),ry(w,m,T);break;case un.COMPLETE:Dr(hi.Complete,m,T);break;case un.FAILED:Dr(hi.Error,m,T)}}function Qs(s,p,m){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,P.A)(function*(s,p,m){const b=s.get(ln);if(b.hydrating.has(p))return;const{parentBlockPromise:M,hydrationQueue:w}=function Ju(s,p){const m=p.get(ln),T=p.get(nt).get("__nghDeferData__",{});let M=!1,w=s,R=null;const B=[];for(;!M&&w;){M=m.has(w);const $=m.hydrating.get(w);if(null===R&&null!=$){R=$.promise;break}B.unshift(w),w=T[w].p}return{parentBlockPromise:R,hydrationQueue:B}}(p,s);if(0===w.length)return;null!==M&&w.shift(),function wy(s,p){for(let m of p)s.hydrating.set(m,lm())}(b,w),null!==M&&(yield M);const R=w[0];b.has(R)?yield Cl(s,w,m):b.awaitParentBlock(R,(0,P.A)(function*(){return yield Cl(s,w,m)}))})).apply(this,arguments)}function Cl(s,p,m){return kl.apply(this,arguments)}function kl(){return(kl=(0,P.A)(function*(s,p,m){const b=s.get(ln),T=b.hydrating,M=s.get(c.rev),w=M.add();for(let B=0;B<p.length;B++){const $=p[B],Q=b.get($);if(null==Q){up(B,p,b),um(p.slice(B),b);break}if(yield Iy(Q),yield Oy(s),nu(Q)){YE(Q),um(p.slice(B),b);break}T.get($).resolve()}const R=p[p.length-1];yield T.get(R)?.promise,M.remove(w),m&&m(p),function JE(s,p,m,b){null!==s&&(m.cleanup(p),Wd(s.lContainer),function XE(s){const p=s._views;for(const m of p){const b=th(m);null!==b&&null!==b[c.jgP]&&((0,c.q$2)(b)?Kd(b):Wd(b))}}(b))}(b.get(R),p,b,s.get(om))})).apply(this,arguments)}function nu(s){return _a(s.lView,s.tNode)[1]===hi.Error}function up(s,p,m){const b=s-1,T=b>-1?m.get(p[b]):null;T&&Wd(T.lContainer)}function um(s,p){const m=p.hydrating;for(const b in s)m.get(b)?.reject();p.cleanup(s)}function Oy(s){return new Promise(p=>Lh(p,{injector:s}))}function Iy(s){return dm.apply(this,arguments)}function dm(){return(dm=(0,P.A)(function*(s){const{tNode:p,lView:m}=s,b=_a(m,p);return new Promise(T=>{(function j1(s,p){Array.isArray(s[8])||(s[8]=[]),s[8].push(p)})(b,T),Cs(0,m,p)})})).apply(this,arguments)}function Zi(s,p,m){return 0===s?Ly(p,m):2!==s||!Ly(p,m)}function Ly(s,p){const m=s[c.YEL],b=$n(s[c.eDl],p),T=zu(m),M=function Ry(s){return null!=s&&!(1&~s)}(b.flags),R=null!==_a(s,p)[6];return!(M&&R&&T)}function Cr(s,p){const m=$n(s,p);return m.hydrateTriggers??=new Map}function kr(s,p,m,b,T,M,w,R,B,$){const Q=(0,c.OAn)(),re=(0,c.klJ)(),ye=s+c.Yw1,be=is(Q,re,s,null,0,0),we=Q[c.YEL],Xe=zu(we);if(re.firstCreatePass){Pn("NgDefer");const rr={primaryTmplIndex:p,loadingTmplIndex:b??null,placeholderTmplIndex:T??null,errorTmplIndex:M??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:m??null,loadingState:un.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:$??0};B?.(re,rr,R,w),function l1(s,p,m){const b=qc(p);s.data[b]=m}(re,ye,rr)}const dt=Q[ye];let St=null,et=null;if(dt[c.qFA]?.length>0){const rr=dt[c.qFA][0].data;et=rr.di??null,St=rr.s}const ri=[null,Ss.Initial,null,null,null,null,et,St,null,null];!function o1(s,p,m){s[qc(p)]=m}(Q,ye,ri);let In=null;null!==et&&Xe&&(In=we.get(ln),In.add(et,{lView:Q,tNode:be,lContainer:dt}));const $i=()=>{Qv(ri),null!==et&&In?.cleanup([et])};Jc(0,ri,()=>(0,c.DyX)(Q,$i)),(0,c.ik5)(Q,$i)}function yo(s){const p=(0,c.OAn)(),m=(0,c.CpD)();if(Zi(0,p,m)&&Bi(p,(0,c.xbp)(),s)){const T=(0,A.Ht)(null);try{const M=!!s,R=_a(p,m)[1];!1===M&&R===Ss.Initial?vo(p,m):!0===M&&(R===Ss.Initial||R===hi.Placeholder)&&Cs(0,p,m)}finally{(0,A.Ht)(T)}}}function _m(s,p,m,b){const T=(0,c.OAn)();return Bi(T,(0,c.xbp)(),p)&&((0,c.klJ)(),function ZA(s,p,m,b,T,M){const w=(0,c.d31)(s,p);kd(p[c.GpT],w,M,s.value,m,b,T)}((0,c.CpD)(),T,s,p,m,b)),_m}const fm=new c.nKC("",{factory:()=>!1}),ws=new c.nKC("",{factory:()=>Po}),Po=4e3,Ga=typeof document<"u"&&"function"==typeof document?.documentElement?.getAnimations;function Ol(s){return s[c.YEL].get(fm,!1)}function pp(s){const p=Il.get(s);if(p){for(const m of p.cleanupFns)m();Il.delete(s)}va.delete(s)}const qs=()=>{},Il=new WeakMap,va=new WeakMap,Zs=new WeakMap;function hp(s,p){const m=Zs.get(s);if(m&&m.length>0){const b=m.findIndex(T=>T===p);b>-1&&m.splice(b,1)}0===m?.length&&Zs.delete(s)}function gp(s,p){const m=Zs.get(s)?.shift(),b=p[c.rQE];if(b){const M=Dd(s.index,b)?.previousSibling;m&&M&&m===M&&m.dispatchEvent(new CustomEvent("animationend",{detail:{cancel:!0}}))}}function Rl(s,p){Zs.has(s)?Zs.get(s)?.push(p):Zs.set(s,[p])}function Ll(s){const p=s[c.Isx]??={};return p.enter??=new Map}function ns(s){const p=s[c.Isx]??={};return p.leave??=new Map}function Yy(s){const p="function"==typeof s?s():s;let m=Array.isArray(p)?p:null;return"string"==typeof p&&(m=p.trim().split(/\s+/).filter(b=>b)),m}function ym(s,p){const m=va.get(p);return void 0===m||p===s.target&&(void 0!==m.animationName&&s.animationName===m.animationName||void 0!==m.propertyName&&s.propertyName===m.propertyName)}function mp(s,p,m){const b=s.get(p.index)??{animateFns:[]};b.animateFns.push(m),s.set(p.index,b)}function bm(s,p){if(s)for(const m of s)m();for(const m of p)m()}function Pm(s,p){const m=ns(s).get(p.index);m&&(m.resolvers=void 0)}function ou(s,p,m,b,T){hp(p,m),bm(b,T),Pm(s,p)}function yp(s,p){const m=s.fieldIndex;return-1===m?void 0:p[m]}function Em(s,p){return function tT(s,p){return p in s.inputs}(s,p)&&eb(s,p+"Change")}function eb(s,p){return p in s.outputs}function Sm(s,p,m,b){const T=(0,c.klJ)(),M=p.customControlIndex,w=b+"Change";hl(p,s,M,w,w,Hs(p,s,$=>m.state().setControlValue($)));const B="touchedChange";eb(T.data[M],B)&&hl(p,s,M,B,B,Hs(p,s,()=>m.state().markAsTouched()))}function Tm(s,p,m,b){const T=(0,c.klJ)(),M=s.customControlIndex,w=p[M],R=T.data[M],B=m.state(),$=Pp(p),Q=B.controlValue();Nl($,bp,Q)&&no(R,w,b,Q);const re=!!(8192&s.flags),ye=re?(0,c.d31)(s,p):null,be=p[c.GpT];for(const we of Fl){const Xe=B[we]?.();if(Nl($,we,Xe)){const dt=du[we];Dm(s,p,dt,Xe),re&&!(dt in R.inputs)&&Mm(s,be,ye,we,Xe,dt)}}}function Dm(s,p,m,b){const T=s.inputs?.[m];if(T){const M=(0,c.klJ)();for(const w of T)no(M.data[w],p[w],m,b);return!0}return!1}function Mm(s,p,m,b,T,M){switch(b){case hT:p.setAttribute(m,M,T);break;case ab:case gT:case mT:!function _T(s,p,m,b){b?s.setAttribute(p,m,""):s.removeAttribute(p,m)}(p,m,M,T);break;case cT:case dT:16384&s.flags&&sb(p,m,M,T);break;case uT:case pT:32768&s.flags&&sb(p,m,M,T)}}function Cm(s){return null===s||s instanceof Date}function wm(s,p){isNaN(p)?s.value="":s.valueAsNumber=p}const ab=(0,c.kLh)({disabled:c.kLh}),cT=(0,c.kLh)({max:c.kLh}),uT=(0,c.kLh)({maxLength:c.kLh}),dT=(0,c.kLh)({min:c.kLh}),pT=(0,c.kLh)({minLength:c.kLh}),hT=(0,c.kLh)({name:c.kLh}),gT=(0,c.kLh)({readonly:c.kLh}),mT=(0,c.kLh)({required:c.kLh}),bp=(0,c.kLh)({controlValue:c.kLh}),du={disabled:"disabled",disabledReasons:"disabledReasons",dirty:"dirty",errors:"errors",hidden:"hidden",invalid:"invalid",max:"max",maxLength:"maxLength",min:"min",minLength:"minLength",name:"name",pattern:"pattern",pending:"pending",readonly:"readonly",required:"required",touched:"touched"},Fl=Object.keys(du);function Pp(s){const p=(0,c.c$7)();let m=s[p];return m===Pi&&(m=s[p]={}),m}function Nl(s,p,m){return!Object.is(s[p],m)&&(s[p]=m,!0)}function Om(s,p,m){return!Object.is(s[p],m)&&(s[p]=m,!0)}function sb(s,p,m,b){void 0!==b?s.setAttribute(p,m,b.toString()):s.removeAttribute(p,m)}class wr{destroy(p){}updateValue(p,m){}swap(p,m){const b=Math.min(p,m),T=Math.max(p,m),M=this.detach(T);if(T-b>1){const w=this.detach(b);this.attach(b,M),this.attach(T,w)}else this.attach(b,M)}move(p,m){this.attach(m,this.detach(p))}}function pu(s,p,m,b,T){return s===m&&Object.is(p,b)?1:Object.is(T(s,p),T(m,b))?-1:0}function hu(s,p,m,b){return!(void 0===p||!p.has(b)||(s.attach(m,p.get(b)),p.delete(b),0))}function Im(s,p,m,b,T){if(hu(s,p,b,m(b,T)))s.updateValue(b,T);else{const M=s.create(b,T);s.attach(b,M)}}function rb(s,p,m,b){const T=new Set;for(let M=p;M<=m;M++)T.add(b(M,s.at(M)));return T}class ob{kvMap=new Map;_vMap=void 0;has(p){return this.kvMap.has(p)}delete(p){if(!this.has(p))return!1;const m=this.kvMap.get(p);return void 0!==this._vMap&&this._vMap.has(m)?(this.kvMap.set(p,this._vMap.get(m)),this._vMap.delete(m)):this.kvMap.delete(p),!0}get(p){return this.kvMap.get(p)}set(p,m){if(this.kvMap.has(p)){let b=this.kvMap.get(p);void 0===this._vMap&&(this._vMap=new Map);const T=this._vMap;for(;T.has(b);)b=T.get(b);T.set(b,m)}else this.kvMap.set(p,m)}forEach(p){for(let[m,b]of this.kvMap)if(p(b,m),void 0!==this._vMap){const T=this._vMap;for(;T.has(b);)b=T.get(b),p(b,m)}}}function Ap(s,p,m,b,T,M,w,R){Pn("NgControlFlow");const B=(0,c.OAn)(),$=(0,c.klJ)();return is(B,$,s,p,m,b,T,(0,c.db4)($.consts,M),512,w,R),Ap}class Or{lContainer;$implicit;$index;constructor(p,m,b){this.lContainer=p,this.$implicit=m,this.$index=b}get $count(){return this.lContainer.length-c.Y20}}class lb{hasEmptyBlock;trackByFn;liveCollection;constructor(p,m,b){this.hasEmptyBlock=p,this.trackByFn=m,this.liveCollection=b}}class Rm extends wr{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(p,m,b){super(),this.lContainer=p,this.hostLView=m,this.templateTNode=b}get length(){return this.lContainer.length-c.Y20}at(p){return this.getLView(p)[c.SKP].$implicit}attach(p,m){const b=m[c.tcA];this.needsIndexUpdate||=p!==this.length,ol(this.lContainer,m,p,lo(this.templateTNode,b)),function Ha(s,p){if(s.length<=c.Y20)return;const b=s[c.Y20+p],T=b?b[c.Isx]:void 0;b&&T&&T.detachedLeaveAnimationFns&&T.detachedLeaveAnimationFns.length>0&&(function KA(s,p){const m=s.get(so);if(p.detachedLeaveAnimationFns){for(const b of p.detachedLeaveAnimationFns)m.queue.delete(b);p.detachedLeaveAnimationFns=void 0}}(b[c.YEL],T),ao.delete(b[c.ID]),T.detachedLeaveAnimationFns=void 0)}(this.lContainer,p)}detach(p){return this.needsIndexUpdate||=p!==this.length-1,function ya(s,p){if(s.length<=c.Y20)return;const b=s[c.Y20+p],T=b?b[c.Isx]:void 0;T&&T.leave&&T.leave.size>0&&(T.detachedLeaveAnimationFns=[])}(this.lContainer,p),function cb(s,p){return Oc(s,p)}(this.lContainer,p)}create(p,m){return Er(this.hostLView,this.templateTNode,new Or(this.lContainer,m,p),{dehydratedView:null})}destroy(p){kc(p[c.eDl],p)}updateValue(p,m){this.getLView(p)[c.SKP].$implicit=m}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let p=0;p<this.length;p++)this.getLView(p)[c.SKP].$index=p}getLView(p){return function Lm(s,p){return Kf(s,p)}(this.lContainer,p)}}function aa(s,p){return s[p]}function xm(s,p){return(0,c.XRZ)(s,p)}function Bm(s,p,m){const b=(0,c.OAn)();return Bi(b,(0,c.xbp)(),p)&&((0,c.klJ)(),Cd((0,c.CpD)(),b,s,p,b[c.GpT],m)),Bm}function Fm(s,p,m,b,T){nl(p,s,m,T?"class":"style",b)}function Wl(s,p,m,b){const T=(0,c.OAn)(),M=T[c.eDl],w=s+c.Yw1,R=M.firstCreatePass?ug(w,T,2,p,jh,(0,c.ckz)(),m,b):M.data[w];if(wd(R,T,s,p,Nm),(0,c.yoD)(R)){const B=T[c.eDl];oo(B,T,R),dc(B,R,T)}return null!=b&&il(T,R),Wl}function gu(){const s=(0,c.klJ)(),m=Od((0,c.Mx4)());return s.firstCreatePass&&dg(s,m),(0,c.UhH)(m)&&(0,c.krE)(),(0,c.N79)(),null!=m.classesWithoutHost&&function Vt(s){return!!(8&s.flags)}(m)&&Fm(s,m,(0,c.OAn)(),m.classesWithoutHost,!0),null!=m.stylesWithoutHost&&function Gt(s){return!!(16&s.flags)}(m)&&Fm(s,m,(0,c.OAn)(),m.stylesWithoutHost,!1),gu}function Tp(s,p,m,b){return Wl(s,p,m,b),gu(),Tp}function Dp(s,p,m,b){const T=(0,c.OAn)(),M=T[c.eDl],w=s+c.Yw1,R=M.firstCreatePass?bv(w,M,2,p,m,b):M.data[w];return wd(R,T,s,p,Nm),null!=b&&il(T,R),Dp}function mu(){const p=Od((0,c.Mx4)());return(0,c.UhH)(p)&&(0,c.krE)(),(0,c.N79)(),mu}function Mp(s,p,m,b){return Dp(s,p,m,b),mu(),Mp}let Nm=(s,p,m,b,T)=>((0,c.m7n)(!0),Oe(p[c.GpT],b,(0,c.UaU)()));function _u(s,p,m){const b=(0,c.OAn)(),T=b[c.eDl],M=s+c.Yw1,w=T.firstCreatePass?ug(M,b,8,"ng-container",jh,(0,c.ckz)(),p,m):T.data[M];if(wd(w,b,s,"ng-container",vu),(0,c.yoD)(w)){const R=b[c.eDl];oo(R,b,w),dc(R,w,b)}return null!=m&&il(b,w),_u}function Kl(){const s=(0,c.klJ)(),m=Od((0,c.Mx4)());return s.firstCreatePass&&dg(s,m),Kl}function fu(s,p,m){return _u(s,p,m),Kl(),fu}function Um(s,p,m){const b=(0,c.OAn)(),T=b[c.eDl],M=s+c.Yw1,w=T.firstCreatePass?bv(M,T,8,"ng-container",p,m):T.data[M];return wd(w,b,s,"ng-container",vu),null!=m&&il(b,w),Um}function Wm(){return Od((0,c.Mx4)()),Kl}let vu=(s,p,m,b,T)=>((0,c.m7n)(!0),Ae(p[c.GpT],""));function Os(){return(0,c.OAn)()}const sa=void 0;var Nt=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202fa","h:mm:ss\u202fa","h:mm:ss\u202fa z","h:mm:ss\u202fa zzzz"],["{1}, {0}",sa,sa,sa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Km(s){const p=Math.floor(Math.abs(s)),m=s.toString().replace(/^[^.]*\.?/,"").length;return 1===p&&0===m?1:5}];let ir={};function hb(s){const p=function Cp(s){return s.toLowerCase().replace(/_/g,"-")}(s);let m=mb(p);if(m)return m;const b=p.split("-")[0];if(m=mb(b),m)return m;if("en"===b)return Nt;throw new c.buA(701,!1)}function gb(s){return hb(s)[Gl.PluralCase]}function mb(s){return s in ir||(ir[s]=c.laP.ng&&c.laP.ng.common&&c.laP.ng.common.locales&&c.laP.ng.common.locales[s]),ir[s]}var Gl=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(Gl||{});const ST=["zero","one","two","few","many"],$m="en-US",kp={marker:"element"},yu={marker:"ICU"};var ba=function(s){return s[s.SHIFT=2]="SHIFT",s[s.APPEND_EAGERLY=1]="APPEND_EAGERLY",s[s.COMMENT=2]="COMMENT",s}(ba||{});let bu=$m;function DT(s){"string"==typeof s&&(bu=s.toLowerCase().replace(/_/g,"-"))}let Pu=0,Au=0;let Eu=(s,p,m,b)=>((0,c.m7n)(!0),function _b(s,p,m){const b=s[c.GpT];switch(m){case Node.COMMENT_NODE:return Ae(b,p);case Node.TEXT_NODE:return H(b,p);case Node.ELEMENT_NODE:return Oe(b,p,null)}}(s,m,b));function fb(s,p,m,b){const T=m[c.GpT];let w,M=null;for(let R=0;R<p.length;R++){const B=p[R];if("string"==typeof B){const $=p[++R];null===m[$]&&(m[$]=Eu(m,0,B,Node.TEXT_NODE))}else if("number"==typeof B)switch(1&B){case 0:const $=Jf(B);let Q,re;if(null===M&&(M=$,w=T.parentNode(b)),$===M?(Q=b,re=w):(Q=null,re=(0,c.IvY)(m[$])),null!==re){const Xe=Qf(B);Je(T,re,m[Xe],Q,!1);const St=Bc(s,Xe);if(null!==St&&"object"==typeof St){const et=xd(St,m);null!==et&&fb(s,St.create[et],m,m[St.anchorIdx])}}break;case 1:const be=p[++R],we=p[++R];kd(T,(0,c.vaC)(B>>>1,m),null,null,be,we,null)}else switch(B){case yu:const $=p[++R],Q=p[++R];null===m[Q]&&st(m[Q]=Eu(m,0,$,Node.COMMENT_NODE),m);break;case kp:const re=p[++R],ye=p[++R];null===m[ye]&&st(m[ye]=Eu(m,0,re,Node.ELEMENT_NODE),m)}}}function vb(s,p,m,b,T){for(let M=0;M<m.length;M++){const w=m[M],R=m[++M];if(w&T){let B="";for(let $=M+1;$<=M+R;$++){const Q=m[$];if("string"==typeof Q)B+=Q;else if("number"==typeof Q)if(Q<0)B+=(0,c.eFE)(p[b-Q]);else{const re=Q>>>2;switch(3&Q){case 1:const ye=m[++$],be=m[++$],we=s.data[re];"string"==typeof we?kd(p[c.GpT],p[re],null,we,ye,B,be):Cd(we,p,ye,B,p[c.GpT],be);break;case 0:const Xe=p[re];null!==Xe&&ae(p[c.GpT],Xe,B);break;case 2:OT(s,Bc(s,re),p,B);break;case 3:Su(s,Bc(s,re),b,p)}}}}else{const B=m[M+1];if(B>0&&!(3&~B)){const Q=Bc(s,B>>>2);p[Q.currentCaseLViewIndex]<0&&Su(s,Q,b,p)}}M+=R}}function Su(s,p,m,b){let T=b[p.currentCaseLViewIndex];if(null!==T){let M=Pu;T<0&&(T=b[p.currentCaseLViewIndex]=~T,M=-1),vb(s,b,p.update[T],m,M)}}function OT(s,p,m,b){const T=function Rr(s,p){let m=s.cases.indexOf(p);if(-1===m)switch(s.type){case 1:{const b=function DM(s,p){const m=gb(p)(parseInt(s,10)),b=ST[m];return void 0!==b?b:"other"}(p,function Hl(){return bu}());m=s.cases.indexOf(b),-1===m&&"other"!==b&&(m=s.cases.indexOf("other"));break}case 0:m=s.cases.indexOf("other")}return-1===m?null:m}(p,b);if(xd(p,m)!==T&&(IT(s,p,m),m[p.currentCaseLViewIndex]=null===T?null:~T,null!==T)){const w=m[p.anchorIdx];w&&fb(s,p.create[T],m,w)}}function IT(s,p,m){let b=xd(p,m);if(null!==b){const T=p.remove[b];for(let M=0;M<T.length;M++){const w=T[M];if(w>0){const R=(0,c.vaC)(w,m);null!==R&&ti(m[c.GpT],R)}else IT(s,Bc(s,~w),m)}}}const nr=/\ufffd(\d+):?\d*\ufffd/gi,Vl=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,wp=/\ufffd(\d+)\ufffd/,yb=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,LT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,xT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,BT=/\uE500/g;function Gm(s,p,m,b,T,M,w){const R=Mc(s,b,1,null);let B=R<<ba.SHIFT,$=(0,c.Ab)();p===$&&($=null),null===$&&(B|=ba.APPEND_EAGERLY),w&&(B|=ba.COMMENT,function LA(s){void 0===wh&&(wh=s())}(CE)),T.push(B,null===M?"":M);const Q=Zh(s,R,w?32:1,null===M?"":M,null);zf(m,Q);const re=Q.index;return(0,c.iMd)(Q,!1),null!==$&&p!==$&&function DE(s,p){let m=s.insertBeforeIndex;null===m?(ff(jf,Vf),m=s.insertBeforeIndex=[null,p]):((0,c.Xln)(Array.isArray(m),!0,"Expecting array here"),m.push(p))}($,re),Q}function Op(s,p,m,b,T,M,w,R){const B=R.match(nr),Q=Gm(p,m,b,w,T,B?null:R,!1).index;B&&Tu(M,R,Q,null,0,null),s.push({kind:0,index:Q})}function Tu(s,p,m,b,T,M){const w=s.length,R=w+1;s.push(null,null);const B=w+2,$=p.split(nr);let Q=0;for(let re=0;re<$.length;re++){const ye=$[re];if(1&re){const be=T+parseInt(ye,10);s.push(-1-be),Q|=bb(be)}else""!==ye&&s.push(ye)}return s.push(m<<2|(b?1:0)),b&&s.push(b,M),s[w]=Q,s[R]=s.length-B,Q}function WT(s){let p=0;for(let m=0;m<s.length;m++){const b=s[m];"number"==typeof b&&b<0&&p++}return p}function bb(s){return 1<<Math.min(s,31)}function Pb(s){let p,M,m="",b=0,T=!1;for(;null!==(p=LT.exec(s));)T?p[0]===`\ufffd/*${M}\ufffd`&&(b=p.index,T=!1):(m+=s.substring(b,p.index+p[0].length),M=p[1],T=!0);return m+=s.slice(b),m}function Hm(s,p,m,b,T,M,w){let R=0;const B={type:M.type,currentCaseLViewIndex:Mc(p,m,1,null),anchorIdx:w,cases:[],create:[],remove:[],update:[]};(function HT(s,p,m){s.push(bb(p.mainBinding),2,-1-p.mainBinding,m<<2|2)})(b,M,w),function TE(s,p,m){const b=s.data[p];null===b?s.data[p]=m:b.value=m}(p,w,B);const $=M.values,Q=[];for(let re=0;re<$.length;re++){const ye=$[re],be=[];for(let Xe=0;Xe<ye.length;Xe++){const dt=ye[Xe];if("string"!=typeof dt){const St=be.push(dt)-1;ye[Xe]=`\x3c!--\ufffd${St}\ufffd--\x3e`}}const we=[];Q.push(we),R=$T(we,p,B,m,b,T,M.cases[re],ye.join(""),be)|R}R&&function jT(s,p,m){s.push(p,1,m<<2|3)}(b,R,w),s.push({kind:3,index:w,cases:Q,currentCaseLViewIndex:B.currentCaseLViewIndex})}function KT(s){const p=[],m=[];let b=1,T=0;const M=jm(s=s.replace(yb,function(w,R,B){return b="select"===B?0:1,T=parseInt(R.slice(1),10),""}));for(let w=0;w<M.length;){let R=M[w++].trim();1===b&&(R=R.replace(/\s*(?:=)?(\w+)\s*/,"$1")),R.length&&p.push(R);const B=jm(M[w++]);p.length>m.length&&m.push(B)}return{type:b,mainBinding:T,cases:p,values:m}}function jm(s){if(!s)return[];let p=0;const m=[],b=[],T=/[{}]/g;let M;for(T.lastIndex=0;M=T.exec(s);){const R=M.index;if("}"==M[0]){if(m.pop(),0==m.length){const B=s.substring(p,R);yb.test(B)?b.push(KT(B)):b.push(B),p=R+1}}else{if(0==m.length){const B=s.substring(p,R);b.push(B),p=R+1}m.push("{")}}const w=s.substring(p);return b.push(w),b}function $T(s,p,m,b,T,M,w,R,B){const $=[],Q=[],re=[];m.cases.push(w),m.create.push($),m.remove.push(Q),m.update.push(re);const be=ld(ca()).getInertBodyElement(R),we=Pc(be)||be;return we?Eb(s,p,m,b,T,$,Q,re,we,M,B,0):0}function Eb(s,p,m,b,T,M,w,R,B,$,Q,re){let ye=0,be=B.firstChild;for(;be;){const we=Mc(p,b,1,null);switch(be.nodeType){case Node.ELEMENT_NODE:const Xe=be,dt=Xe.tagName.toLowerCase();if(dd.hasOwnProperty(dt)){Eo(M,kp,dt,$,we),p.data[we]=dt;const In=Xe.attributes;for(let rr=0;rr<In.length;rr++){const wo=In.item(rr),qP=wo.name.toLowerCase();wo.value.match(nr)?qo.hasOwnProperty(qP)&&Tu(R,wo.value,we,wo.name,0,fc[qP]?vs:null):VT(M,we,wo)}const $i={kind:1,index:we,children:[]};s.push($i),ye=Eb($i.children,p,m,b,T,M,w,R,be,we,Q,re+1)|ye,Sb(w,we,re)}break;case Node.TEXT_NODE:const St=be.textContent||"",et=St.match(nr);Eo(M,null,et?"":St,$,we),Sb(w,we,re),et&&(ye=Tu(R,St,we,null,0,null)|ye),s.push({kind:0,index:we});break;case Node.COMMENT_NODE:const ri=wp.exec(be.textContent||"");if(ri){const $i=Q[parseInt(ri[1],10)];Eo(M,yu,"",$,we),Hm(s,p,b,T,$,$i,we),GT(w,we,re)}}be=be.nextSibling}return ye}function Sb(s,p,m){0===m&&s.push(p)}function GT(s,p,m){0===m&&(s.push(~p),s.push(p))}function Eo(s,p,m,b,T){null!==p&&s.push(p),s.push(m,T,function ll(s,p,m){return s|p<<17|m<<1}(0,b,T))}function VT(s,p,m){s.push(p<<1|1,m.name,m.value)}const Du=/\[(\ufffd.+?\ufffd?)\]/,YT=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,XT=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,JT=/{([A-Z0-9_]+)}/g,QT=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,qT=/\/\*/,ZT=/\d+\:(\d+)/;function So(s,p,m=-1){const b=(0,c.klJ)(),T=(0,c.OAn)(),M=c.Yw1+s,w=(0,c.db4)(b.consts,p),R=(0,c.Ab)();b.firstCreatePass&&function NT(s,p,m,b,T,M){const w=(0,c.Ab)(),R=[],B=[],$=[[]],Q=[[]];T=function Ab(s,p){if(function Zf(s){return-1===s}(p))return Pb(s);{const m=s.indexOf(`:${p}\ufffd`)+2+p.toString().length,b=s.search(new RegExp(`\ufffd\\/\\*\\d+:${p}\ufffd`));return Pb(s.substring(m,b))}}(T,M);const re=function FT(s){return s.replace(BT," ")}(T).split(xT);for(let ye=0;ye<re.length;ye++){let be=re[ye];if(1&ye){const we=47===be.charCodeAt(0),Xe=be.charCodeAt(we?1:0),dt=c.Yw1+Number.parseInt(be.substring(we?2:1));if(we)$.shift(),Q.shift(),(0,c.iMd)((0,c.Ab)(),!1);else{const St=ME(s,$[0],dt);$.unshift([]),(0,c.iMd)(St,!0);const et={kind:2,index:dt,children:[],type:35===Xe?0:1};Q[0].push(et),Q.unshift(et.children)}}else{const we=jm(be);for(let Xe=0;Xe<we.length;Xe++){let dt=we[Xe];if(1&Xe){const St=dt;if("object"!=typeof St)throw new Error(`Unable to parse ICU expression in "${T}" message.`);const ri=Gm(s,w,$[0],m,R,"",!0).index;Hm(Q[0],s,m,B,p,St,ri)}else""!==dt&&Op(Q[0],s,w,$[0],R,B,m,dt)}}}s.data[b]={create:R,update:B,ast:Q[0],parentTNodeIndex:p}}(b,null===R?0:R.index,T,M,w,m),2===b.type?T[c.b5C][c.Wg1]|=32:T[c.Wg1]|=32;const B=b.data[M],Q=Wh(b,R===T[c.qlT]?null:R,T);(function wT(s,p,m,b){const T=s[c.GpT];for(let M=0;M<p.length;M++){const w=p[M++],$=(w&ba.APPEND_EAGERLY)===ba.APPEND_EAGERLY,Q=w>>>ba.SHIFT;let re=s[Q],ye=!1;null===re&&(re=s[Q]=Eu(s,0,p[M],(w&ba.COMMENT)===ba.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),ye=(0,c.SX7)()),$&&null!==m&&ye&&Je(T,m,re,b,!1)}})(T,B.create,Q,R&&8&R.type?T[R.index]:null),(0,c.xyx)(!0)}function Mu(){(0,c.xyx)(!1)}function zm(s,p,m){const b=(0,c.OAn)(),T=(0,c.klJ)(),M=(0,c.Mx4)();return Ym(T,b,b[c.GpT],M,s,p,m),zm}function Ym(s,p,m,b,T,M,w){let R=!0,B=null;if((3&b.type||w)&&(B??=Hs(b,p,M),Vd(b,s,p,w,m,T,M,B)&&(R=!1)),R){const $=b.outputs?.[T],Q=b.hostDirectiveOutputs?.[T];if(Q&&Q.length)for(let re=0;re<Q.length;re+=2){const ye=Q[re],be=Q[re+1];B??=Hs(b,p,M),hl(b,p,ye,be,T,B)}if($&&$.length)for(const re of $)B??=Hs(b,p,M),hl(b,p,re,T,T,B)}}function zl(s=1){return(0,c.jvu)(s)}function Mb(s,p){let m=null;const b=function DA(s){const p=s.attrs;if(null!=p){const m=p.indexOf(5);if(!(1&m))return p[m+1]}return null}(s);for(let T=0;T<p.length;T++){const M=p[T];if("*"!==M){if(null===b?Dc(s,M,!0):CA(b,M))return T}else m=T}return m}function Rp(s,p,m){return _l(s,p,m),Rp}function kb(s){const p=(0,c.OAn)(),m=(0,c.klJ)(),b=(0,c.w7Z)();(0,c.GA0)(b+1);const T=jc(m,b);if(s.dirty&&(0,c.vOT)(p)===!(2&~T.metadata.flags)){if(null===T.matches)s.reset([]);else{const M=Mg(p,b);s.reset(M,Ii),s.notifyOnChanges()}return!0}return!1}function Jm(){return Sg((0,c.OAn)(),(0,c.w7Z)())}function Ib(s){const p=(0,c.VPL)();return(0,c.Hh6)(p,c.Yw1+s)}function Lp(s,p){return s<<17|p<<2}function Lr(s){return s>>17&32767}function xr(s){return 2|s}function Yl(s){return(131068&s)>>2}function Qm(s,p){return-131069&s|p<<2}function qm(s){return 1|s}function Lb(s,p,m,b){const T=s[m+1],M=null===p;let w=b?Lr(T):Yl(T),R=!1;for(;0!==w&&(!1===R||M);){const $=s[w+1];xp(s[w],p)&&(R=!0,s[w+1]=b?qm($):xr($)),w=b?Lr($):Yl($)}R&&(s[m+1]=b?xr(T):qm(T))}function xp(s,p){return null===s||null==p||(Array.isArray(s)?s[1]:s)===p||!(!Array.isArray(s)||"string"!=typeof p)&&(0,c.FRF)(s,p)>=0}const On={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xb(s){return s.substring(On.key,On.keyEnd)}function c0(s){return s.substring(On.value,On.valueEnd)}function Bb(s,p){const m=On.textEnd;return m===p?-1:(p=On.keyEnd=function p0(s,p,m){for(;p<m&&s.charCodeAt(p)>32;)p++;return p}(s,On.key=p,m),Xl(s,p,m))}function Fb(s,p){const m=On.textEnd;let b=On.key=Xl(s,p,m);return m===b?-1:(b=On.keyEnd=function h0(s,p,m){let b;for(;p<m&&(45===(b=s.charCodeAt(p))||95===b||(-33&b)>=65&&(-33&b)<=90||b>=48&&b<=57);)p++;return p}(s,b,m),b=Ub(s,b,m),b=On.value=Xl(s,b,m),b=On.valueEnd=function g0(s,p,m){let b=-1,T=-1,M=-1,w=p,R=w;for(;w<m;){const B=s.charCodeAt(w++);if(59===B)return R;34===B||39===B?R=w=as(s,B,w,m):p===w-4&&85===M&&82===T&&76===b&&40===B?R=w=as(s,41,w,m):B>32&&(R=w),M=T,T=b,b=-33&B}return R}(s,b,m),Ub(s,b,m))}function Nb(s){On.key=0,On.keyEnd=0,On.value=0,On.valueEnd=0,On.textEnd=s.length}function Xl(s,p,m){for(;p<m&&s.charCodeAt(p)<=32;)p++;return p}function Ub(s,p,m,b){return(p=Xl(s,p,m))<m&&p++,p}function as(s,p,m,b){let T=-1,M=m;for(;M<b;){const w=s.charCodeAt(M++);if(w==p&&92!==T)return M;T=92==w&&92===T?0:w}throw new Error}function Zm(s,p,m){return Gb(s,p,m,!1),Zm}function Bp(s,p){return Gb(s,p,null,!0),Bp}function _0(s,p){for(let m=function d0(s){return Nb(s),Fb(s,Xl(s,0,On.textEnd))}(p);m>=0;m=Fb(p,m))t_(s,xb(p),c0(p))}function Kb(s){f0(zb,$b,s,!0)}function $b(s,p){for(let m=function u0(s){return Nb(s),Bb(s,Xl(s,0,On.textEnd))}(p);m>=0;m=Bb(p,m))(0,c.ezK)(s,xb(p),!0)}function Gb(s,p,m,b){const T=(0,c.OAn)(),M=(0,c.klJ)(),w=(0,c.b$O)(2);M.firstUpdatePass&&Hb(M,s,w,b),p!==Pi&&Bi(T,w,p)&&i_(M,M.data[(0,c._px)()],T,T[c.GpT],s,T[w+1]=function RM(s,p){return null==s||""===s||("string"==typeof p?s+=p:"object"==typeof s&&(s=(0,c.AsM)(Ma(s)))),s}(p,m),b,w)}function f0(s,p,m,b){const T=(0,c.klJ)(),M=(0,c.b$O)(2);T.firstUpdatePass&&Hb(T,null,M,b);const w=(0,c.OAn)();if(m!==Pi&&Bi(w,M,m)){const R=T.data[(0,c._px)()];if(Ia(R,b)&&!Cu(T,M)){let B=b?R.classesWithoutHost:R.stylesWithoutHost;null!==B&&(m=(0,c.n$e)(B,m||"")),Fm(T,R,w,m,b)}else!function Fp(s,p,m,b,T,M,w,R){T===Pi&&(T=c.Mlv);let B=0,$=0,Q=0<T.length?T[0]:null,re=0<M.length?M[0]:null;for(;null!==Q||null!==re;){const ye=B<T.length?T[B+1]:void 0,be=$<M.length?M[$+1]:void 0;let Xe,we=null;Q===re?(B+=2,$+=2,ye!==be&&(we=re,Xe=be)):null===re||null!==Q&&Q<re?(B+=2,we=Q):($+=2,we=re,Xe=be),null!==we&&i_(s,p,m,b,we,Xe,w,R),Q=B<T.length?T[B]:null,re=$<M.length?M[$]:null}}(T,R,w,w[c.GpT],w[M+1],w[M+1]=function Vb(s,p,m){if(null==m||""===m)return c.Mlv;const b=[],T=Ma(m);if(Array.isArray(T))for(let M=0;M<T.length;M++)s(b,T[M],!0);else if(T instanceof Set)for(const M of T)s(b,M,!0);else if("object"==typeof T)for(const M in T)T.hasOwnProperty(M)&&s(b,M,T[M]);else"string"==typeof T&&p(b,T);return b}(s,p,m),b,M)}}function Cu(s,p){return p>=s.expandoStartIndex}function Hb(s,p,m,b){const T=s.data;if(null===T[m+1]){const M=T[(0,c._px)()],w=Cu(s,m);Ia(M,b)&&null===p&&!w&&(p=!1),p=function v0(s,p,m,b){const T=(0,c.MT)(s);let M=b?p.residualClasses:p.residualStyles;if(null===T)0===(b?p.classBindings:p.styleBindings)&&(m=ku(m=e_(null,s,p,m,b),p.attrs,b),M=null);else{const w=p.directiveStylingLast;if(-1===w||s[w]!==T)if(m=e_(T,s,p,m,b),null===M){let B=function y0(s,p,m){const b=m?p.classBindings:p.styleBindings;if(0!==Yl(b))return s[Lr(b)]}(s,p,b);void 0!==B&&Array.isArray(B)&&(B=e_(null,s,p,B[1],b),B=ku(B,p.attrs,b),function b0(s,p,m,b){s[Lr(m?p.classBindings:p.styleBindings)]=b}(s,p,b,B))}else M=function jb(s,p,m){let b;const T=p.directiveEnd;for(let M=1+p.directiveStylingLast;M<T;M++)b=ku(b,s[M].hostAttrs,m);return ku(b,p.attrs,m)}(s,p,b)}return void 0!==M&&(b?p.residualClasses=M:p.residualStyles=M),m}(T,M,p,b),function l0(s,p,m,b,T,M){let w=M?p.classBindings:p.styleBindings,R=Lr(w),B=Yl(w);s[b]=m;let Q,$=!1;if(Array.isArray(m)?(Q=m[1],(null===Q||(0,c.FRF)(m,Q)>0)&&($=!0)):Q=m,T)if(0!==B){const ye=Lr(s[R+1]);s[b+1]=Lp(ye,R),0!==ye&&(s[ye+1]=Qm(s[ye+1],b)),s[R+1]=function r0(s,p){return 131071&s|p<<17}(s[R+1],b)}else s[b+1]=Lp(R,0),0!==R&&(s[R+1]=Qm(s[R+1],b)),R=b;else s[b+1]=Lp(B,0),0===R?R=b:s[B+1]=Qm(s[B+1],b),B=b;$&&(s[b+1]=xr(s[b+1])),Lb(s,Q,b,!0),Lb(s,Q,b,!1),function Do(s,p,m,b,T){const M=T?s.residualClasses:s.residualStyles;null!=M&&"string"==typeof p&&(0,c.FRF)(M,p)>=0&&(m[b+1]=qm(m[b+1]))}(p,Q,s,b,M),w=Lp(R,B),M?p.classBindings=w:p.styleBindings=w}(T,M,p,m,w,b)}}function e_(s,p,m,b,T){let M=null;const w=m.directiveEnd;let R=m.directiveStylingLast;for(-1===R?R=m.directiveStart:R++;R<w&&(M=p[R],b=ku(b,M.hostAttrs,T),M!==s);)R++;return null!==s&&(m.directiveStylingLast=R),b}function ku(s,p,m){const b=m?1:2;let T=-1;if(null!==p)for(let M=0;M<p.length;M++){const w=p[M];"number"==typeof w?T=w:T===b&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),(0,c.ezK)(s,w,!!m||p[++M]))}return void 0===s?null:s}function t_(s,p,m){(0,c.ezK)(s,p,Ma(m))}function zb(s,p,m){const b=String(p);""!==b&&!b.includes(" ")&&(0,c.ezK)(s,b,m)}function i_(s,p,m,b,T,M,w,R){if(!(3&p.type))return;const B=s.data,$=B[R+1],Q=function o0(s){return!(1&~s)}($)?Np(B,p,m,T,Yl($),w):void 0;Up(Q)||(Up(M)||function Rb(s){return!(2&~s)}($)&&(M=Np(B,null,m,T,R,w)),function Pf(s,p,m,b,T){if(p)T?s.addClass(m,b):s.removeClass(m,b);else{let M=-1===b.indexOf("-")?void 0:yd.DashCase;null==T?s.removeStyle(m,b,M):("string"==typeof T&&T.endsWith("!important")&&(T=T.slice(0,-10),M|=yd.Important),s.setStyle(m,b,T,M))}}(b,w,(0,c.vaC)((0,c._px)(),m),T,M))}function Np(s,p,m,b,T,M){const w=null===p;let R;for(;T>0;){const B=s[T],$=Array.isArray(B),Q=$?B[1]:B,re=null===Q;let ye=m[T+1];ye===Pi&&(ye=re?c.Mlv:void 0);let be=re?(0,c.K7h)(ye,b):Q===b?ye:void 0;if($&&!Up(be)&&(be=(0,c.K7h)(B,b)),Up(be)&&(R=be,w))return R;const we=s[T+1];T=w?Lr(we):Yl(we)}if(null!==p){let B=M?p.residualClasses:p.residualStyles;null!=B&&(R=(0,c.K7h)(B,b))}return R}function Up(s){return void 0!==s}function Ia(s,p){return!!(s.flags&(p?8:16))}function Yb(s,p=""){const m=(0,c.OAn)(),b=(0,c.klJ)(),T=s+c.Yw1,M=b.firstCreatePass?uo(b,T,1,p,null):b.data[T],w=Xb(b,m,M,p,s);m[T]=w,(0,c.SX7)()&&Kh(b,m,w,M),(0,c.iMd)(M,!1)}let Xb=(s,p,m,b,T)=>((0,c.m7n)(!0),H(p[c.GpT],b));function n_(s,p){let m=!1,b=(0,c.c$7)();for(let M=1;M<p.length;M+=2)m=Bi(s,b++,p[M])||m;if((0,c.Kw3)(b),!m)return Pi;let T=p[0];for(let M=1;M<p.length;M+=2)T+=(0,c.eFE)(p[M])+(M+1!==p.length?p[M+1]:"");return T}function a_(s,p,m,b=""){return Bi(s,(0,c.xbp)(),m)?p+(0,c.eFE)(m)+b:Pi}function Jb(s,p,m,b,T,M=""){const R=ho(s,(0,c.c$7)(),m,T);return(0,c.b$O)(2),R?p+(0,c.eFE)(m)+b+(0,c.eFE)(T)+M:Pi}function Qb(s,p,m,b,T,M,w,R=""){const $=jd(s,(0,c.c$7)(),m,T,w);return(0,c.b$O)(3),$?p+(0,c.eFE)(m)+b+(0,c.eFE)(T)+M+(0,c.eFE)(w)+R:Pi}function qb(s,p,m,b,T,M,w,R,B,$=""){const re=Ka(s,(0,c.c$7)(),m,T,w,B);return(0,c.b$O)(4),re?p+(0,c.eFE)(m)+b+(0,c.eFE)(T)+M+(0,c.eFE)(w)+R+(0,c.eFE)(B)+$:Pi}function Zb(s,p,m,b,T,M,w,R,B,$,Q,re=""){const ye=(0,c.c$7)();let be=Ka(s,ye,m,T,w,B);return be=Bi(s,ye+4,Q)||be,(0,c.b$O)(5),be?p+(0,c.eFE)(m)+b+(0,c.eFE)(T)+M+(0,c.eFE)(w)+R+(0,c.eFE)(B)+$+(0,c.eFE)(Q)+re:Pi}function eP(s,p,m,b,T,M,w,R,B,$,Q,re,ye,be=""){const we=(0,c.c$7)();let Xe=Ka(s,we,m,T,w,B);return Xe=ho(s,we+4,Q,ye)||Xe,(0,c.b$O)(6),Xe?p+(0,c.eFE)(m)+b+(0,c.eFE)(T)+M+(0,c.eFE)(w)+R+(0,c.eFE)(B)+$+(0,c.eFE)(Q)+re+(0,c.eFE)(ye)+be:Pi}function tP(s,p,m,b,T,M,w,R,B,$,Q,re,ye,be,we,Xe=""){const dt=(0,c.c$7)();let St=Ka(s,dt,m,T,w,B);return St=jd(s,dt+4,Q,ye,we)||St,(0,c.b$O)(7),St?p+(0,c.eFE)(m)+b+(0,c.eFE)(T)+M+(0,c.eFE)(w)+R+(0,c.eFE)(B)+$+(0,c.eFE)(Q)+re+(0,c.eFE)(ye)+be+(0,c.eFE)(we)+Xe:Pi}function s_(s,p,m,b,T,M,w,R,B,$,Q,re,ye,be,we,Xe,dt,St=""){const et=(0,c.c$7)();let ri=Ka(s,et,m,T,w,B);return ri=Ka(s,et+4,Q,ye,we,dt)||ri,(0,c.b$O)(8),ri?p+(0,c.eFE)(m)+b+(0,c.eFE)(T)+M+(0,c.eFE)(w)+R+(0,c.eFE)(B)+$+(0,c.eFE)(Q)+re+(0,c.eFE)(ye)+be+(0,c.eFE)(we)+Xe+(0,c.eFE)(dt)+St:Pi}function r_(s){return wu("",s),r_}function wu(s,p,m){const b=(0,c.OAn)(),T=a_(b,s,p,m);return T!==Pi&&ar(b,(0,c._px)(),T),wu}function Ou(s,p,m,b,T){const M=(0,c.OAn)(),w=Jb(M,s,p,m,b,T);return w!==Pi&&ar(M,(0,c._px)(),w),Ou}function o_(s,p,m,b,T,M,w,R,B){const $=(0,c.OAn)(),Q=qb($,s,p,m,b,T,M,w,R,B);return Q!==Pi&&ar($,(0,c._px)(),Q),o_}function ar(s,p,m){const b=(0,c.vaC)(p,s);ae(s[c.GpT],b,m)}function oP(s,p,m){uy(p)&&(p=p());const b=(0,c.OAn)();return Bi(b,(0,c.xbp)(),p)&&((0,c.klJ)(),Cd((0,c.CpD)(),b,s,p,b[c.GpT],m)),oP}function Is(s,p){const m=uy(s);return m&&s.set(p),m}function Wp(s,p){const m=(0,c.OAn)(),b=(0,c.klJ)(),T=(0,c.Mx4)();return Ym(b,m,m[c.GpT],T,s,p),Wp}const lP={};function _P(s,p,m){const b=(0,c.klJ)();b.firstCreatePass&&fP(p,b.data,b.blueprint,(0,c.JlV)(s),m)}function fP(s,p,m,b,T){if(s=(0,c.nl4)(s),Array.isArray(s))for(let M=0;M<s.length;M++)fP(s[M],p,m,b,T);else{const M=(0,c.klJ)(),w=(0,c.OAn)(),R=(0,c.Mx4)();let B=(0,c.Y3W)(s)?s:(0,c.nl4)(s.provide);const $=(0,c.Rc9)(s),Q=1048575&R.providerIndexes,re=R.directiveStart,ye=R.providerIndexes>>20;if((0,c.Y3W)(s)||!s.multi){const be=new ot($,T,pl,null),we=vP(B,p,T?Q:Q+ye,re);-1===we?(Xi(wi(R,w),M,B),l_(M,s,p.length),p.push(B),R.directiveStart++,R.directiveEnd++,T&&(R.providerIndexes+=1048576),m.push(be),w.push(be)):(m[we]=be,w[we]=be)}else{const be=vP(B,p,Q+ye,re),we=vP(B,p,Q,Q+ye),dt=we>=0&&m[we];if(T&&!dt||!T&&!(be>=0&&m[be])){Xi(wi(R,w),M,B);const St=function w0(s,p,m,b,T){const w=new ot(s,m,pl,null);return w.multi=[],w.index=p,w.componentProviders=0,sr(w,T,b&&!m),w}(T?k0:yP,m.length,T,b,$);!T&&dt&&(m[we].providerFactory=St),l_(M,s,p.length,0),p.push(B),R.directiveStart++,R.directiveEnd++,T&&(R.providerIndexes+=1048576),m.push(St),w.push(St)}else l_(M,s,be>-1?be:we,sr(m[T?we:be],$,!T&&b));!T&&b&&dt&&m[we].componentProviders++}}}function l_(s,p,m,b){const T=(0,c.Y3W)(p),M=(0,c.MME)(p);if(T||M){const B=(M?(0,c.nl4)(p.useClass):p).prototype.ngOnDestroy;if(B){const $=s.destroyHooks||(s.destroyHooks=[]);if(!T&&p.multi){const Q=$.indexOf(m);-1===Q?$.push(m,[b,B]):$[Q+1].push(b,B)}else $.push(m,B)}}}function sr(s,p,m){return m&&s.componentProviders++,s.multi.push(p)-1}function vP(s,p,m,b){for(let T=m;T<b;T++)if(p[T]===s)return T;return-1}function yP(s,p,m,b,T){return c_(this.multi,[])}function k0(s,p,m,b,T){const M=this.multi;let w;if(this.providerFactory){const R=this.providerFactory.componentProviders,B=an(b,b[c.eDl],this.providerFactory.index,T);w=B.slice(0,R),c_(M,w);for(let $=R;$<B.length;$++)w.push(B[$])}else w=[],c_(M,w);return w}function c_(s,p){for(let m=0;m<s.length;m++)p.push((0,s[m])());return p}function bP(s,p){return m=>{m.providersResolver=(b,T)=>_P(b,T?T(s):s,!1),p&&(m.viewProvidersResolver=(b,T)=>_P(b,T?T(p):p,!0))}}function Kp(s){if("function"==typeof s)return s;const p=(0,c.Bqz)(s);return p.some(c.Jzi)?()=>p.map(c.nl4).map(PP):p.map(PP)}function PP(s){return lg(s)?s.ngModule:s}function AP(s,p){const m=(0,c.gxQ)()+s,b=(0,c.OAn)();return b[m]===Pi?Ps(b,m,p()):$c(b,m)}function $p(s,p,m){return DP((0,c.OAn)(),(0,c.gxQ)(),s,p,m)}function EP(s,p,m,b){return MP((0,c.OAn)(),(0,c.gxQ)(),s,p,m,b)}function Iu(s,p,m,b,T){return CP((0,c.OAn)(),(0,c.gxQ)(),s,p,m,b,T)}function SP(s,p,m,b,T,M,w){return kP((0,c.OAn)(),(0,c.gxQ)(),s,p,m,b,T,M)}function u_(s,p,m,b,T,M,w){const R=(0,c.gxQ)()+s,B=(0,c.OAn)(),$=Ka(B,R,m,b,T,M);return Bi(B,R+4,w)||$?Ps(B,R+5,p(m,b,T,M,w)):$c(B,R+5)}function Lu(s,p){const m=s[p];return m===Pi?void 0:m}function DP(s,p,m,b,T,M){const w=p+m;return Bi(s,w,T)?Ps(s,w+1,M?b.call(M,T):b(T)):Lu(s,w+1)}function MP(s,p,m,b,T,M,w){const R=p+m;return ho(s,R,T,M)?Ps(s,R+2,w?b.call(w,T,M):b(T,M)):Lu(s,R+2)}function CP(s,p,m,b,T,M,w,R){const B=p+m;return jd(s,B,T,M,w)?Ps(s,B+3,R?b.call(R,T,M,w):b(T,M,w)):Lu(s,B+3)}function kP(s,p,m,b,T,M,w,R,B){const $=p+m;return Ka(s,$,T,M,w,R)?Ps(s,$+4,B?b.call(B,T,M,w,R):b(T,M,w,R)):Lu(s,$+4)}function wP(s,p,m,b,T,M){let w=p+m,R=!1;for(let B=0;B<T.length;B++)Bi(s,w++,T[B])&&(R=!0);return R?Ps(s,w,b.apply(M,T)):Lu(s,w)}function xu(s,p){return s[c.eDl].data[p].pure}function OP(s,p){return Rd(s,p)}function g_(s,p,m,b,T){const M=T[c.eDl];if(M!==b.tView)for(let w=c.Yw1;w<M.bindingStartIndex;w++){const R=T[w];if((0,c.A0l)(R)){(0,c.q$2)(R[c.jgP])&&g_(s,p,m,b,R[c.jgP]);for(let B=c.Y20;B<R.length;B++)g_(s,p,m,b,R[B])}else(0,c.q$2)(R)&&g_(s,p,m,b,R)}else!function H0(s,p,m,b,T){const M=T[c.SKP];let w=T[c.jgP];const R=T[c.f7T],B=T[c.qlT],$=T[c.YEL].get(c.SKi,null),Q=()=>{if(b.encapsulation===Da.ShadowDom||b.encapsulation===Da.ExperimentalIsolatedShadowDom){const we=w.cloneNode(!1);w.replaceWith(we),w=we}const re=Z_(m),ye=fd(R,re,M,Ch(m),w,B,null,null,null,null,null);(function RP(s,p,m,b){for(let T=c.Yw1;T<s[c.eDl].bindingStartIndex;T++){const M=s[T];if(((0,c.q$2)(M)||(0,c.A0l)(M))&&M[c.K29]===p){M[c.K29]=m;break}}s[c.EJG]===p&&(s[c.EJG]=m),s[c.Yrj]===p&&(s[c.Yrj]=m),m[c.K29]=p[c.K29],p[c.K29]=null,s[b]=m})(R,T,ye,B.index),kc(T[c.eDl],T);const be=T[c.M0L].rendererFactory;(function m_(s,p){s.componentReplaced?.(p.id)})(be,b),ye[c.GpT]=be.createRenderer(w,m),pf(T[c.eDl],T),function j0(s){if(null!==s.projection){for(const p of s.projection)Kt(p)&&(p.projectionNext=null,p.flags&=-3);s.projection=null}}(B),al(re,ye,M),rl(re,ye,re.template,M)};null===$?IP(s,p,Q):$.run(()=>IP(s,p,Q))}(s,p,m,b,T)}function IP(s,p,m){try{m()}catch(b){if(null!==p&&b.message){const M=b.message+(b.stack?"\n"+b.stack:"");s?.hot?.send?.("angular:invalidate",{id:p,message:M,error:!0})}throw b}}const Fr={\u0275\u0275animateEnter:function er(s){if(Pn("NgAnimateEnter"),!Ga)return er;const p=(0,c.OAn)();if(Ol(p))return er;const m=(0,c.Mx4)();return gp(m,p),mp(Ll(p),m,()=>function z1(s,p,m){const b=(0,c.d31)(p,s),T=s[c.GpT],M=s[c.YEL].get(c.SKi),w=Yy(m),R=[],B=Q=>{if(Q.target!==b)return;const re=Q instanceof AnimationEvent?"animationend":"transitionend";M.runOutsideAngular(()=>{T.listen(b,re,$)})},$=Q=>{Q.target===b&&function Y1(s,p,m){const b=Il.get(p);if(s.target===p&&b&&ym(s,p)){s.stopImmediatePropagation();for(const T of b.classList)m.removeClass(p,T);pp(p)}}(Q,b,T)};if(w&&w.length>0){M.runOutsideAngular(()=>{R.push(T.listen(b,"animationstart",B)),R.push(T.listen(b,"transitionstart",B))}),function vm(s,p,m){const b=Il.get(s);if(b){for(const T of p)b.classList.push(T);for(const T of m)b.cleanupFns.push(T)}else Il.set(s,{classList:p,cleanupFns:m})}(b,w,R);for(const Q of w)T.addClass(b,Q);M.runOutsideAngular(()=>{requestAnimationFrame(()=>{if(Ad(b,va,Ga),!va.has(b)){for(const Q of w)T.removeClass(b,Q);pp(b)}})})}}(p,m,s)),Ed(p[c.YEL]),Bh(p[c.YEL],Ll(p)),er},\u0275\u0275animateEnterListener:function lu(s){if(Pn("NgAnimateEnter"),!Ga)return lu;const p=(0,c.OAn)();if(Ol(p))return lu;const m=(0,c.Mx4)();return gp(m,p),mp(Ll(p),m,()=>function X1(s,p,m){const b=(0,c.d31)(p,s);m.call(s[c.SKP],{target:b,animationComplete:qs})}(p,m,s)),Ed(p[c.YEL]),Bh(p[c.YEL],Ll(p)),lu},\u0275\u0275animateLeave:function xl(s){if(Pn("NgAnimateLeave"),!Ga)return xl;const p=(0,c.OAn)();if(Ol(p))return xl;const b=(0,c.Mx4)();return gp(b,p),mp(ns(p),b,()=>function _p(s,p,m){const{promise:b,resolve:T}=lm(),M=(0,c.d31)(p,s),w=s[c.GpT],R=s[c.YEL].get(c.SKi);ao.add(s[c.ID]),(ns(s).get(p.index).resolvers??=[]).push(T);const B=Yy(m);return B&&B.length>0?function J1(s,p,m,b,T,M){!function Xy(s,p){if(!Ga)return;const m=Il.get(s);if(m&&m.classList.length>0&&function Jy(s,p){for(const m of p)if(s.classList.contains(m))return!0;return!1}(s,m.classList))for(const b of m.classList)p.removeClass(s,b);pp(s)}(s,T);const w=[],R=ns(m).get(p.index)?.resolvers,B=$=>{if($.target===s&&($ instanceof CustomEvent||ym($,s))){if($.stopImmediatePropagation(),va.delete(s),hp(p,s),Array.isArray(p.projection))for(const Q of b)T.removeClass(s,Q);bm(R,w),Pm(m,p)}};M.runOutsideAngular(()=>{w.push(T.listen(s,"animationend",B)),w.push(T.listen(s,"transitionend",B))}),Rl(p,s);for(const $ of b)T.addClass(s,$);M.runOutsideAngular(()=>{requestAnimationFrame(()=>{Ad(s,va,Ga),va.has(s)||(hp(p,s),bm(R,w),Pm(m,p))})})}(M,p,s,B,w,R):T(),{promise:b,resolve:T}}(p,b,s)),Ed(p[c.YEL]),xl},\u0275\u0275animateLeaveListener:function cu(s){if(Pn("NgAnimateLeave"),!Ga)return cu;const p=(0,c.OAn)(),m=(0,c.Mx4)();return gp(m,p),ao.add(p[c.ID]),mp(ns(p),m,()=>function Q1(s,p,m){const{promise:b,resolve:T}=lm(),M=(0,c.d31)(p,s),w=[],R=s[c.GpT],B=Ol(s),$=s[c.YEL].get(c.SKi),Q=s[c.YEL].get(ws);(ns(s).get(p.index).resolvers??=[]).push(T);const re=ns(s).get(p.index)?.resolvers;if(B)ou(s,p,M,re,w);else{const ye=setTimeout(()=>ou(s,p,M,re,w),Q),be={target:M,animationComplete:()=>{ou(s,p,M,re,w),clearTimeout(ye)}};Rl(p,M),$.runOutsideAngular(()=>{w.push(R.listen(M,"animationend",()=>{ou(s,p,M,re,w),clearTimeout(ye)},{once:!0}))}),m.call(s[c.SKP],be)}return{promise:b,resolve:T}}(p,m,s)),Ed(p[c.YEL]),cu},\u0275\u0275attribute:_m,\u0275\u0275defineComponent:Qd,\u0275\u0275defineDirective:qd,\u0275\u0275defineInjectable:c.jDH,\u0275\u0275defineInjector:c.G2t,\u0275\u0275defineNgModule:Hv,\u0275\u0275definePipe:jv,\u0275\u0275directiveInject:pl,\u0275\u0275getInheritedFactory:Qn,\u0275\u0275inject:c.KVO,\u0275\u0275injectAttribute:Re,\u0275\u0275invalidFactory:function cS(){throw new Error("invalid")},\u0275\u0275invalidFactoryDep:c.dmw,\u0275\u0275templateRefExtractor:OP,\u0275\u0275resetView:c.Njj,\u0275\u0275HostDirectivesFeature:function i1(s){const p=m=>{const b=Array.isArray(s);null===m.hostDirectives?(m.resolveHostDirectives=yl,m.hostDirectives=b?s.map(Bg):[s]):b?m.hostDirectives.unshift(...s.map(Bg)):m.hostDirectives.unshift(s)};return p.ngInherit=!0,p},\u0275\u0275NgOnChangesFeature:Ue,\u0275\u0275ProvidersFeature:bP,\u0275\u0275InheritDefinitionFeature:_o,\u0275\u0275ExternalStylesFeature:function O0(s){return p=>{s.length<1||(p.getExternalStyles=m=>s.map(T=>T+"?ngcomp"+(m?"="+encodeURIComponent(m):"")+"&e="+p.encapsulation))}},\u0275\u0275nextContext:zl,\u0275\u0275namespaceHTML:c.joV,\u0275\u0275namespaceMathML:c.By9,\u0275\u0275namespaceSVG:c.qSk,\u0275\u0275enableBindings:c.cSN,\u0275\u0275disableBindings:c.fuf,\u0275\u0275elementStart:Wl,\u0275\u0275elementEnd:gu,\u0275\u0275element:Tp,\u0275\u0275elementContainerStart:_u,\u0275\u0275elementContainerEnd:Kl,\u0275\u0275domElement:Mp,\u0275\u0275domElementStart:Dp,\u0275\u0275domElementEnd:mu,\u0275\u0275domElementContainer:function Qe(s,p,m){return Um(s,p,m),Wm(),Qe},\u0275\u0275domElementContainerStart:Um,\u0275\u0275domElementContainerEnd:Wm,\u0275\u0275domTemplate:Es,\u0275\u0275domListener:function Db(s,p,m){const b=(0,c.OAn)(),T=(0,c.klJ)(),M=(0,c.Mx4)();return(3&M.type||m)&&Vd(M,T,b,m,b[c.GpT],s,p,Hs(M,b,p)),Db},\u0275\u0275elementContainer:fu,\u0275\u0275pureFunction0:AP,\u0275\u0275pureFunction1:$p,\u0275\u0275pureFunction2:EP,\u0275\u0275pureFunction3:Iu,\u0275\u0275pureFunction4:SP,\u0275\u0275pureFunction5:u_,\u0275\u0275pureFunction6:function TP(s,p,m,b,T,M,w,R){const B=(0,c.gxQ)()+s,$=(0,c.OAn)(),Q=Ka($,B,m,b,T,M);return ho($,B+4,w,R)||Q?Ps($,B+6,p(m,b,T,M,w,R)):$c($,B+6)},\u0275\u0275pureFunction7:function Ru(s,p,m,b,T,M,w,R,B){const $=(0,c.gxQ)()+s,Q=(0,c.OAn)();let re=Ka(Q,$,m,b,T,M);return jd(Q,$+4,w,R,B)||re?Ps(Q,$+7,p(m,b,T,M,w,R,B)):$c(Q,$+7)},\u0275\u0275pureFunction8:function d_(s,p,m,b,T,M,w,R,B,$){const Q=(0,c.gxQ)()+s,re=(0,c.OAn)(),ye=Ka(re,Q,m,b,T,M);return Ka(re,Q+4,w,R,B,$)||ye?Ps(re,Q+8,p(m,b,T,M,w,R,B,$)):$c(re,Q+8)},\u0275\u0275pureFunctionV:function p_(s,p,m){return wP((0,c.OAn)(),(0,c.gxQ)(),s,p,m)},\u0275\u0275getCurrentView:Os,\u0275\u0275restoreView:c.eBV,\u0275\u0275listener:zm,\u0275\u0275projection:function To(s,p=0,m,b,T,M){const w=(0,c.OAn)(),R=(0,c.klJ)(),B=b?s+1:null;null!==B&&is(w,R,B,b,T,M,null,m);const $=uo(R,c.Yw1+s,16,null,m||null);null===$.projection&&($.projection=p),(0,c.Pfq)();const re=!w[c.tcA]||(0,c.KtD)();null===w[c.b5C][c.qlT].projection[$.projection]&&null!==B?function Xm(s,p,m){const b=c.Yw1+m,T=p.data[b],M=s[b];ol(M,Er(s,T,void 0,{dehydratedView:null}),0,lo(T,null))}(w,R,B):re&&!ua($)&&function yf(s,p,m){bf(p[c.GpT],0,p,m,Uh(s,m,p),Sd(m.parent||p[c.qlT],m,p))}(R,w,$)},\u0275\u0275syntheticHostProperty:function pb(s,p,m){const b=(0,c.OAn)();if(Bi(b,(0,c.xbp)(),p)){const M=(0,c.klJ)(),w=(0,c.CpD)();Hh(w,b,s,p,kf((0,c.MT)(M.data),w,b),m)}return pb},\u0275\u0275syntheticHostListener:function Ip(s,p){const m=(0,c.Mx4)(),b=(0,c.OAn)(),T=(0,c.klJ)();return Ym(T,b,kf((0,c.MT)(T.data),m,b),m,s,p),Ip},\u0275\u0275pipeBind1:function B0(s,p,m){const b=s+c.Yw1,T=(0,c.OAn)(),M=(0,c.Hh6)(T,b);return xu(T,b)?DP(T,(0,c.gxQ)(),p,M.transform,m,M):M.transform(m)},\u0275\u0275pipeBind2:function F0(s,p,m,b){const T=s+c.Yw1,M=(0,c.OAn)(),w=(0,c.Hh6)(M,T);return xu(M,T)?MP(M,(0,c.gxQ)(),p,w.transform,m,b,w):w.transform(m,b)},\u0275\u0275pipeBind3:function N0(s,p,m,b,T){const M=s+c.Yw1,w=(0,c.OAn)(),R=(0,c.Hh6)(w,M);return xu(w,M)?CP(w,(0,c.gxQ)(),p,R.transform,m,b,T,R):R.transform(m,b,T)},\u0275\u0275pipeBind4:function U0(s,p,m,b,T,M){const w=s+c.Yw1,R=(0,c.OAn)(),B=(0,c.Hh6)(R,w);return xu(R,w)?kP(R,(0,c.gxQ)(),p,B.transform,m,b,T,M,B):B.transform(m,b,T,M)},\u0275\u0275pipeBindV:function Jl(s,p,m){const b=s+c.Yw1,T=(0,c.OAn)(),M=(0,c.Hh6)(T,b);return xu(T,b)?wP(T,(0,c.gxQ)(),p,M.transform,m,M):M.transform.apply(M,m)},\u0275\u0275projectionDef:function IM(s){const p=(0,c.OAn)()[c.b5C][c.qlT];if(!p.projection){const b=p.projection=(0,c.WfI)(s?s.length:1,null),T=b.slice();let M=p.child;for(;null!==M;){if(128!==M.type){const w=s?Mb(M,s):0;null!==w&&(T[w]?T[w].projectionNext=M:b[w]=M,T[w]=M)}M=M.next}}},\u0275\u0275domProperty:function $l(s,p,m){const b=(0,c.OAn)();return Bi(b,(0,c.xbp)(),p)&&((0,c.klJ)(),Hh((0,c.CpD)(),b,s,p,b[c.GpT],m)),$l},\u0275\u0275ariaProperty:function zy(s,p){const m=(0,c.OAn)();if(Bi(m,(0,c.xbp)(),p)){const T=(0,c.klJ)(),M=(0,c.CpD)();if(nl(M,T,m,s,p))(0,c.Qs1)(M)&&Tf(m,M.index);else{const R=(0,c.d31)(M,m);kd(m[c.GpT],R,null,M.value,s,p,null)}}return zy},\u0275\u0275property:Bm,\u0275\u0275control:function Qy(s,p,m){const b=(0,c.OAn)(),T=(0,c.CpD)();Bi(b,(0,c.xbp)(),s)&&((0,c.klJ)(),Cd(T,b,p,s,b[c.GpT],m)),function vp(s,p){const m=yp(p,s);m&&(function ib(s,p,m){if(m.classes){const b=Pp(s);b.classes??={},m.state();const T=s[c.GpT],M=(0,c.d31)(p,s);for(const[w,R]of m.classes){const B=R();Om(b.classes,w,B)&&(B?T.addClass(M,w):T.removeClass(M,w))}}}(s,p,m),1024&p.flags?Tm(p,s,m,"value"):2048&p.flags?Tm(p,s,m,"checked"):4096&p.flags?function sT(s,p,m){const b=m.\u0275interopControl,T=Pp(p),M=m.state(),w=!!(8192&s.flags),R=w?(0,c.d31)(s,p):null,B=p[c.GpT],$=M.value();Nl(T,bp,$)&&(0,c.O8t)(()=>b.writeValue($));for(const Q of Fl){const re=M[Q]?.();if(Nl(T,Q,re)){const ye=du[Q],be=Dm(s,p,ye,re);Q===ab?b.setDisabledState&&(0,c.O8t)(()=>b.setDisabledState(re)):w&&!be&&Mm(s,B,R,Q,re,ye)}}}(p,s,m):function nb(s,p,m){const b=(0,c.d31)(s,p),T=p[c.GpT],M=m.state(),w=Pp(p),R=M.controlValue();Nl(w,bp,R)&&function lT(s,p){switch(s.type){case"checkbox":return void(s.checked=p);case"radio":return void(s.checked=p===s.value);case"number":case"range":case"datetime-local":if("number"==typeof p)return void wm(s,p);break;case"date":case"month":case"time":case"week":if(Cm(p))return void(s.valueAsDate=p);if("number"==typeof p)return void wm(s,p)}s.value=p}(b,R);for(const B of Fl){const $=M[B]?.();if(Nl(w,B,$)){const Q=du[B];Mm(s,T,b,B,$,Q),Dm(s,p,Q,$)}}}(p,s,m)),(0,c.xbp)()}(b,T)},\u0275\u0275controlCreate:function q1(){const s=(0,c.OAn)(),p=(0,c.klJ)(),m=(0,c.Mx4)();p.firstCreatePass&&function Z1(s,p,m){const b=p.inputs?.formField;if(!b||(0,c.Qs1)(p)&&b.includes(p.directiveStart+p.componentOffset))return;const T=b.find(w=>Av in m[w]);if(void 0===T)return;p.fieldIndex=T;const M=function Am(s,p){return!!p[s.fieldIndex].\u0275interopControl&&(s.flags|=4096,!0)}(p,m)||function Zy(s,p){for(let m=p.directiveStart;m<p.directiveEnd;m++){const b=s.data[m];if(Em(b,"value"))return p.flags|=1024,p.customControlIndex=m,!0;if(Em(b,"checked"))return p.flags|=2048,p.customControlIndex=m,!0}return!1}(s,p);if(!function uu(s){return!!function iT(s){if(2!==s.type)return!1;const p=s.value;return"input"===p||"textarea"===p||"select"===p}(s)&&(s.flags|=8192,function rT(s){if(!s.attrs||"input"!==s.value)return!1;for(let p=0;p<s.attrs.length;p+=2){const m=s.attrs[p];if(Gi(m))break;if("type"===m){const b=s.attrs[p+1];return"date"===b||"datetime-local"===b||"month"===b||"number"===b||"range"===b||"time"===b||"week"===b}}return!1}(s)&&(s.flags|=16384),function km(s){return"select"!==s.value}(s)&&(s.flags|=32768),!0)}(p)&&!M)throw new c.buA(318,!1)}(p,m,s);const b=yp(m,s);b&&(Pn("NgSignalForms"),1024&m.flags?Sm(s,m,b,"value"):2048&m.flags?Sm(s,m,b,"checked"):4096&m.flags?function Bl(s){const p=s.\u0275interopControl;p.registerOnChange(m=>s.state().setControlValue(m)),p.registerOnTouched(()=>s.state().markAsTouched())}(b):8192&m.flags&&function nT(s,p,m){const b=(0,c.klJ)(),T=s[c.GpT],M=(0,c.d31)(p,s),w=()=>{const B=m.state();B.setControlValue(function oT(s,p){switch(s.type){case"checkbox":return s.checked;case"number":case"range":case"datetime-local":if("number"==typeof p())return s.valueAsNumber;break;case"date":case"month":case"time":case"week":const m=p();if(Cm(m))return s.valueAsDate;if("number"==typeof m)return s.valueAsNumber}return s.value}(M,B.value))};Vd(p,b,s,void 0,T,"input",w,Hs(p,s,w));const R=()=>{m.state().markAsTouched()};if(Vd(p,b,s,void 0,T,"blur",R,Hs(p,s,R)),2===p.type&&"select"===p.value&&"function"==typeof MutationObserver){const B=function aT(s,p){const m=new MutationObserver(b=>{b.some(T=>function tb(s){if("childList"===s.type||"characterData"===s.type){if(s.target instanceof Comment)return!1;for(const p of s.addedNodes)if(!(p instanceof Comment))return!0;for(const p of s.removedNodes)if(!(p instanceof Comment))return!0;return!1}return"attributes"===s.type&&s.target instanceof HTMLOptionElement}(T))&&(s.value=p.state().value())});return m.observe(s,{attributes:!0,attributeFilter:["value"],characterData:!0,childList:!0,subtree:!0}),m}(M,m);(0,c.B22)(b,s,B,B.disconnect)}}(s,m,b),b.registerAsBinding(function eT(s,p){const m=s.customControlIndex;return-1===m?void 0:p[m]}(m,s)))},\u0275\u0275pipe:function L0(s,p){const m=(0,c.klJ)();let b;const T=s+c.Yw1;m.firstCreatePass?(b=function x0(s,p){if(p)for(let m=p.length-1;m>=0;m--){const b=p[m];if(s===b.name)return b}}(p,m.pipeRegistry),m.data[T]=b,b.onDestroy&&(m.destroyHooks??=[]).push(T,b.onDestroy)):b=m.data[T];const M=b.factory||(b.factory=(0,c.wGu)(b.type,!0)),R=(0,c.a2B)(pl);try{const B=pn(!1),$=M();return pn(B),(0,c.M_e)(m,(0,c.OAn)(),T,$),$}finally{(0,c.a2B)(R)}},\u0275\u0275queryRefresh:kb,\u0275\u0275queryAdvance:function s0(s=1){(0,c.GA0)((0,c.w7Z)()+s)},\u0275\u0275viewQuery:Rp,\u0275\u0275viewQuerySignal:function Ob(s,p,m,b){return xv(s,_l(p,m,b)),Ob},\u0275\u0275loadQuery:Jm,\u0275\u0275contentQuery:function Cb(s,p,m,b){return Tg(s,p,m,b),Cb},\u0275\u0275contentQuerySignal:function wb(s,p,m,b,T){return xv(p,Tg(s,m,b,T)),wb},\u0275\u0275reference:Ib,\u0275\u0275classMap:Kb,\u0275\u0275styleMap:function Wb(s){f0(t_,_0,s,!1)},\u0275\u0275styleProp:Zm,\u0275\u0275classProp:Bp,\u0275\u0275advance:ef,\u0275\u0275template:Pl,\u0275\u0275conditional:function tr(s,p){Pn("NgControlFlow");const m=(0,c.OAn)(),b=(0,c.xbp)(),T=m[b]!==Pi?m[b]:-1,M=-1!==T?aa(m,c.Yw1+T):void 0;if(Bi(m,b,s)){const R=(0,A.Ht)(null);try{if(void 0!==M&&Xh(M,0),-1!==s){const B=c.Yw1+s,$=aa(m,B),Q=xm(m[c.eDl],B),re=null;ol($,Er(m,Q,p,{dehydratedView:re}),0,lo(Q,re))}}finally{(0,A.Ht)(R)}}else if(void 0!==M){const R=Kf(M,0);void 0!==R&&(R[c.SKP]=p)}},\u0275\u0275conditionalCreate:function vT(s,p,m,b,T,M,w,R){Pn("NgControlFlow");const B=(0,c.OAn)(),$=(0,c.klJ)();return is(B,$,s,p,m,b,T,(0,c.db4)($.consts,M),256,w,R),Ap},\u0275\u0275conditionalBranchCreate:Ap,\u0275\u0275defer:kr,\u0275\u0275deferWhen:yo,\u0275\u0275deferOnIdle:function By(){Zi(0,(0,c.OAn)(),(0,c.Mx4)())&&Dy(Xs)},\u0275\u0275deferOnImmediate:function Fy(){const s=(0,c.OAn)(),p=(0,c.Mx4)();Zi(0,s,p)&&(null===$n(s[c.eDl],p).loadingTmplIndex&&vo(s,p),Cs(0,s,p))},\u0275\u0275deferOnTimer:function Wy(s){Zi(0,(0,c.OAn)(),(0,c.Mx4)())&&Dy(ip(s))},\u0275\u0275deferOnHover:function Gy(s,p){const m=(0,c.OAn)(),b=(0,c.Mx4)();Zi(0,m,b)&&(vo(m,b),El(m,b,s,p,Ro,()=>Cs(0,m,b),0))},\u0275\u0275deferOnInteraction:function Vy(s,p){const m=(0,c.OAn)(),b=(0,c.Mx4)();Zi(0,m,b)&&(vo(m,b),El(m,b,s,p,$r,()=>Cs(0,m,b),0))},\u0275\u0275deferOnViewport:function bo(s,p,m){const b=(0,c.OAn)(),T=(0,c.Mx4)();Zi(0,b,T)&&(vo(b,T),El(b,T,s,p,Hg,()=>Cs(0,b,T),0,m))},\u0275\u0275deferPrefetchWhen:function xy(s){const p=(0,c.OAn)(),m=(0,c.CpD)();if(Zi(1,p,m)&&Bi(p,(0,c.xbp)(),s)){const T=(0,A.Ht)(null);try{const M=!!s,R=$n(p[c.eDl],m);!0===M&&R.loadingState===un.NOT_STARTED&&Dl(R,p,m)}finally{(0,A.Ht)(T)}}},\u0275\u0275deferPrefetchOnIdle:function hm(){Zi(1,(0,c.OAn)(),(0,c.Mx4)())&&My(Xs)},\u0275\u0275deferPrefetchOnImmediate:function Ny(){const s=(0,c.OAn)(),p=(0,c.Mx4)();if(!Zi(1,s,p))return;const b=$n(s[c.eDl],p);b.loadingState===un.NOT_STARTED&&cm(b,s,p)},\u0275\u0275deferPrefetchOnTimer:function Ky(s){Zi(1,(0,c.OAn)(),(0,c.Mx4)())&&My(ip(s))},\u0275\u0275deferPrefetchOnHover:function Hy(s,p){const m=(0,c.OAn)(),b=(0,c.Mx4)();if(!Zi(1,m,b))return;const M=$n(m[c.eDl],b);M.loadingState===un.NOT_STARTED&&El(m,b,s,p,Ro,()=>Dl(M,m,b),1)},\u0275\u0275deferPrefetchOnInteraction:function ks(s,p){const m=(0,c.OAn)(),b=(0,c.Mx4)();if(!Zi(1,m,b))return;const M=$n(m[c.eDl],b);M.loadingState===un.NOT_STARTED&&El(m,b,s,p,$r,()=>Dl(M,m,b),1)},\u0275\u0275deferPrefetchOnViewport:function $a(s,p,m){const b=(0,c.OAn)(),T=(0,c.Mx4)();if(!Zi(1,b,T))return;const w=$n(b[c.eDl],T);w.loadingState===un.NOT_STARTED&&El(b,T,s,p,Hg,()=>Dl(w,b,T),1,m)},\u0275\u0275deferHydrateWhen:function pm(s){const p=(0,c.OAn)(),m=(0,c.CpD)();if(!Zi(2,p,m))return;const b=(0,c.xbp)();if(Cr((0,c.klJ)(),m).set(6,null),Bi(p,b,s)){const w=p[c.YEL],R=(0,A.Ht)(null);try{1==!!s&&Qs(w,_a(p,m)[6])}finally{(0,A.Ht)(R)}}},\u0275\u0275deferHydrateNever:function wl(){const s=(0,c.OAn)(),p=(0,c.Mx4)();Zi(2,s,p)&&Cr((0,c.klJ)(),p).set(7,null)},\u0275\u0275deferHydrateOnIdle:function gm(){const s=(0,c.OAn)(),p=(0,c.Mx4)();Zi(2,s,p)&&(Cr((0,c.klJ)(),p).set(0,null),Cy(Xs,s,p))},\u0275\u0275deferHydrateOnImmediate:function Uy(){const s=(0,c.OAn)(),p=(0,c.Mx4)();Zi(2,s,p)&&(Cr((0,c.klJ)(),p).set(1,null),Qs(s[c.YEL],_a(s,p)[6]))},\u0275\u0275deferHydrateOnTimer:function $y(s){const p=(0,c.OAn)(),m=(0,c.Mx4)();Zi(2,p,m)&&(Cr((0,c.klJ)(),m).set(5,{type:5,delay:s}),Cy(ip(s),p,m))},\u0275\u0275deferHydrateOnHover:function jy(){const s=(0,c.OAn)(),p=(0,c.Mx4)();Zi(2,s,p)&&Cr((0,c.klJ)(),p).set(4,null)},\u0275\u0275deferHydrateOnInteraction:function Oa(){const s=(0,c.OAn)(),p=(0,c.Mx4)();Zi(2,s,p)&&Cr((0,c.klJ)(),p).set(3,null)},\u0275\u0275deferHydrateOnViewport:function mm(s){const p=(0,c.OAn)(),m=(0,c.Mx4)();Zi(2,p,m)&&Cr((0,c.klJ)(),m).set(2,s?{type:2,intersectionObserverOptions:s}:null)},\u0275\u0275deferEnableTimerScheduling:function y1(s,p,m,b){const T=s.consts;null!=m&&(p.placeholderBlockConfig=(0,c.db4)(T,m)),null!=b&&(p.loadingBlockConfig=(0,c.db4)(T,b)),null===zg&&(zg=v1)},\u0275\u0275repeater:function bT(s){const p=(0,A.Ht)(null),m=(0,c._px)();try{const b=(0,c.OAn)(),T=b[c.eDl],M=b[m],w=m+1,R=aa(b,w);if(void 0===M.liveCollection){const $=xm(T,w);M.liveCollection=new Rm(R,b,$)}else M.liveCollection.reset();const B=M.liveCollection;if(function fT(s,p,m,b){let T,M,w=0,R=s.length-1;if(Array.isArray(p)){(0,A.Ht)(b);let $=p.length-1;for((0,A.Ht)(null);w<=R&&w<=$;){const Q=s.at(w),re=p[w],ye=pu(w,Q,w,re,m);if(0!==ye){ye<0&&s.updateValue(w,re),w++;continue}const be=s.at(R),we=p[$],Xe=pu(R,be,$,we,m);if(0!==Xe){Xe<0&&s.updateValue(R,we),R--,$--;continue}const dt=m(w,Q),St=m(R,be),et=m(w,re);if(Object.is(et,St)){const ri=m($,we);Object.is(ri,dt)?(s.swap(w,R),s.updateValue(R,we),$--,R--):s.move(R,w),s.updateValue(w,re),w++;continue}if(T??=new ob,M??=rb(s,w,R,m),hu(s,T,w,et))s.updateValue(w,re),w++,R++;else if(M.has(et))T.set(dt,s.detach(w)),R--;else{const ri=s.create(w,p[w]);s.attach(w,ri),w++,R++}}for(;w<=$;)Im(s,T,m,w,p[w]),w++}else if(null!=p){(0,A.Ht)(b);const $=p[Symbol.iterator]();(0,A.Ht)(null);let Q=$.next();for(;!Q.done&&w<=R;){const re=s.at(w),ye=Q.value,be=pu(w,re,w,ye,m);if(0!==be)be<0&&s.updateValue(w,ye),w++,Q=$.next();else{T??=new ob,M??=rb(s,w,R,m);const we=m(w,ye);if(hu(s,T,w,we))s.updateValue(w,ye),w++,R++,Q=$.next();else if(M.has(we)){const Xe=m(w,re);T.set(Xe,s.detach(w)),R--}else s.attach(w,s.create(w,ye)),w++,R++,Q=$.next()}}for(;!Q.done;)Im(s,T,m,s.length,Q.value),Q=$.next()}for(;w<=R;)s.destroy(s.detach(R--));T?.forEach($=>{s.destroy($)})}(B,s,M.trackByFn,p),B.updateIndexes(),M.hasEmptyBlock){const $=(0,c.xbp)(),Q=0===B.length;if(Bi(b,$,Q)){const re=m+2,ye=aa(b,re);if(Q){const be=xm(T,re),we=null;ol(ye,Er(b,be,void 0,{dehydratedView:we}),0,lo(be,we))}else T.firstUpdatePass&&Ud(ye),Xh(ye,0)}}}finally{(0,A.Ht)(p)}},\u0275\u0275repeaterCreate:function Ep(s,p,m,b,T,M,w,R,B,$,Q,re,ye){Pn("NgControlFlow");const be=(0,c.OAn)(),we=(0,c.klJ)(),Xe=void 0!==B,dt=(0,c.OAn)(),St=R?w.bind(dt[c.b5C][c.SKP]):w,et=new lb(Xe,St);dt[c.Yw1+s]=et,is(be,we,s+1,p,m,b,T,(0,c.db4)(we.consts,M),256),Xe&&is(be,we,s+2,B,$,Q,re,(0,c.db4)(we.consts,ye),512)},\u0275\u0275repeaterTrackByIndex:function Ul(s){return s},\u0275\u0275repeaterTrackByIdentity:function Ir(s,p){return p},\u0275\u0275componentInstance:function fp(){return(0,c.OAn)()[c.b5C][c.SKP]},\u0275\u0275text:Yb,\u0275\u0275textInterpolate:r_,\u0275\u0275textInterpolate1:wu,\u0275\u0275textInterpolate2:Ou,\u0275\u0275textInterpolate3:function iP(s,p,m,b,T,M,w){const R=(0,c.OAn)(),B=Qb(R,s,p,m,b,T,M,w);return B!==Pi&&ar(R,(0,c._px)(),B),iP},\u0275\u0275textInterpolate4:o_,\u0275\u0275textInterpolate5:function nP(s,p,m,b,T,M,w,R,B,$,Q){const re=(0,c.OAn)(),ye=Zb(re,s,p,m,b,T,M,w,R,B,$,Q);return ye!==Pi&&ar(re,(0,c._px)(),ye),nP},\u0275\u0275textInterpolate6:function aP(s,p,m,b,T,M,w,R,B,$,Q,re,ye){const be=(0,c.OAn)(),we=eP(be,s,p,m,b,T,M,w,R,B,$,Q,re,ye);return we!==Pi&&ar(be,(0,c._px)(),we),aP},\u0275\u0275textInterpolate7:function sP(s,p,m,b,T,M,w,R,B,$,Q,re,ye,be,we){const Xe=(0,c.OAn)(),dt=tP(Xe,s,p,m,b,T,M,w,R,B,$,Q,re,ye,be,we);return dt!==Pi&&ar(Xe,(0,c._px)(),dt),sP},\u0275\u0275textInterpolate8:function rP(s,p,m,b,T,M,w,R,B,$,Q,re,ye,be,we,Xe,dt){const St=(0,c.OAn)(),et=s_(St,s,p,m,b,T,M,w,R,B,$,Q,re,ye,be,we,Xe,dt);return et!==Pi&&ar(St,(0,c._px)(),et),rP},\u0275\u0275textInterpolateV:function Br(s){const p=(0,c.OAn)(),m=n_(p,s);return m!==Pi&&ar(p,(0,c._px)(),m),Br},\u0275\u0275i18n:function e0(s,p,m){So(s,p,m),Mu()},\u0275\u0275i18nAttributes:function t0(s,p){const m=(0,c.klJ)(),b=(0,c.db4)(m.consts,p);!function UT(s,p,m){const T=(0,c.Mx4)().index,M=[];if(s.firstCreatePass&&null===s.data[p]){for(let w=0;w<m.length;w+=2){const R=m[w],B=m[w+1];if(""!==B){if(Vl.test(B))throw new Error(`ICU expressions are not supported in attributes. Message: "${B}".`);Tu(M,B,T,R,WT(M),null)}}s.data[p]=M}}(m,s+c.Yw1,b)},\u0275\u0275i18nExp:function Tb(s){return function MT(s){s&&(Pu|=1<<Math.min(Au,31)),Au++}(Bi((0,c.OAn)(),(0,c.xbp)(),s)),Tb},\u0275\u0275i18nStart:So,\u0275\u0275i18nEnd:Mu,\u0275\u0275i18nApply:function n0(s){!function CT(s,p,m){if(Au>0){const b=s.data[m];vb(s,p,Array.isArray(b)?b:b.update,(0,c.c$7)()-Au-1,Pu)}Pu=0,Au=0}((0,c.klJ)(),(0,c.OAn)(),s+c.Yw1)},\u0275\u0275i18nPostprocess:function a0(s,p={}){return function Vm(s,p={}){let m=s;if(Du.test(s)){const b={},T=[0];m=m.replace(YT,(M,w,R)=>{const B=w||R,$=b[B]||[];if($.length||(B.split("|").forEach(Xe=>{const dt=Xe.match(ZT),St=dt?parseInt(dt[1],10):0,et=qT.test(Xe);$.push([St,et,Xe])}),b[B]=$),!$.length)throw new Error(`i18n postprocess: unmatched placeholder - ${B}`);const Q=T[T.length-1];let re=0;for(let Xe=0;Xe<$.length;Xe++)if($[Xe][0]===Q){re=Xe;break}const[ye,be,we]=$[re];return be?T.pop():Q!==ye&&T.push(ye),$.splice(re,1),we})}return Object.keys(p).length&&(m=m.replace(XT,(b,T,M,w,R,B)=>p.hasOwnProperty(M)?`${T}${p[M]}${B}`:b),m=m.replace(JT,(b,T)=>p.hasOwnProperty(T)?p[T]:b),m=m.replace(QT,(b,T)=>{if(p.hasOwnProperty(T)){const M=p[T];if(!M.length)throw new Error(`i18n postprocess: unmatched ICU - ${b} with key: ${T}`);return M.shift()}return b})),m}(s,p)},\u0275\u0275resolveWindow:j_,\u0275\u0275resolveDocument:V_,\u0275\u0275resolveBody:function z_(s){return s.ownerDocument.body},\u0275\u0275setComponentScope:function I0(s,p,m){const b=s.\u0275cmp;b.directiveDefs=ep(p,Gv),b.pipeDefs=ep(m,c.oyA)},\u0275\u0275setNgModuleScope:function R0(s,p){return t(()=>{const m=(0,c.WbQ)(s);m.declarations=Kp(p.declarations||c.Mlv),m.imports=Kp(p.imports||c.Mlv),m.exports=Kp(p.exports||c.Mlv),p.bootstrap&&(m.bootstrap=Kp(p.bootstrap)),Kc.registerNgModule(s,p)})},\u0275\u0275registerNgModuleType:Uv,\u0275\u0275getComponentDepsFactory:function W0(s,p){return()=>{try{return Kc.getComponentDependencies(s,p).dependencies}catch(m){throw console.error(`Computing dependencies in local compilation mode for the component "${s.name}" failed with the exception:`,m),m}}},\u0275setClassDebugInfo:function K0(s,p){const m=(0,c.xUg)(s);null!==m&&(m.debugInfo=p)},\u0275\u0275declareLet:function cP(s){Pn("NgLet");const p=(0,c.klJ)(),m=(0,c.OAn)(),b=s+c.Yw1,T=uo(p,b,128,null,null);return(0,c.iMd)(T,!1),(0,c.M_e)(p,m,b,lP),cP},\u0275\u0275storeLet:function uP(s){const p=(0,c.klJ)(),m=(0,c.OAn)(),b=(0,c._px)();return(0,c.M_e)(p,m,b,s),s},\u0275\u0275readContextLet:function dP(s){const p=(0,c.VPL)(),m=(0,c.Hh6)(p,c.Yw1+s);if(m===lP)throw new c.buA(314,!1);return m},\u0275\u0275attachSourceLocations:function pP(s,p){const m=(0,c.klJ)(),b=(0,c.OAn)(),T=b[c.GpT],M="data-ng-source-location";for(const[w,R,B,$]of p){(0,c.XRZ)(m,w+c.Yw1);const re=(0,c.vaC)(w+c.Yw1,b);re.hasAttribute(M)||T.setAttribute(re,M,`${s}@o:${R},l:${B},c:${$}`)}},\u0275\u0275interpolate:function A0(s){return Bi((0,c.OAn)(),(0,c.xbp)(),s)?(0,c.eFE)(s):Pi},\u0275\u0275interpolate1:function hP(s,p,m=""){return a_((0,c.OAn)(),s,p,m)},\u0275\u0275interpolate2:function E0(s,p,m,b,T=""){return Jb((0,c.OAn)(),s,p,m,b,T)},\u0275\u0275interpolate3:function S0(s,p,m,b,T,M,w=""){return Qb((0,c.OAn)(),s,p,m,b,T,M,w)},\u0275\u0275interpolate4:function T0(s,p,m,b,T,M,w,R,B=""){return qb((0,c.OAn)(),s,p,m,b,T,M,w,R,B)},\u0275\u0275interpolate5:function gP(s,p,m,b,T,M,w,R,B,$,Q=""){return Zb((0,c.OAn)(),s,p,m,b,T,M,w,R,B,$,Q)},\u0275\u0275interpolate6:function mP(s,p,m,b,T,M,w,R,B,$,Q,re,ye=""){return eP((0,c.OAn)(),s,p,m,b,T,M,w,R,B,$,Q,re,ye)},\u0275\u0275interpolate7:function D0(s,p,m,b,T,M,w,R,B,$,Q,re,ye,be,we=""){return tP((0,c.OAn)(),s,p,m,b,T,M,w,R,B,$,Q,re,ye,be,we)},\u0275\u0275interpolate8:function M0(s,p,m,b,T,M,w,R,B,$,Q,re,ye,be,we,Xe,dt=""){return s_((0,c.OAn)(),s,p,m,b,T,M,w,R,B,$,Q,re,ye,be,we,Xe,dt)},\u0275\u0275interpolateV:function C0(s){return n_((0,c.OAn)(),s)},\u0275\u0275sanitizeHtml:function Ah(s){const p=Ac();return p?gc(p.sanitize(Wa.HTML,s)||""):zo(s,"HTML")?gc(Ma(s)):function bh(s,p){let m=null;try{to=to||ld(s);let b=p?String(p):"";m=to.getInertBodyElement(b);let T=5,M=b;do{if(0===T)throw new Error("Failed to sanitize html because the input is unstable");T--,b=M,M=m.innerHTML,m=to.getInertBodyElement(b)}while(b!==M);return _s((new vc).sanitizeChildren(Pc(m)||m))}finally{if(m){const b=Pc(m)||m;for(;b.firstChild;)b.firstChild.remove()}}}(ca(),(0,c.eFE)(s))},\u0275\u0275sanitizeStyle:function cA(s){const p=Ac();return p?p.sanitize(Wa.STYLE,s)||"":zo(s,"Style")?Ma(s):(0,c.eFE)(s)},\u0275\u0275sanitizeResourceUrl:H_,\u0275\u0275sanitizeScript:function uA(s){const p=Ac();if(p)return rd(p.sanitize(Wa.SCRIPT,s)||"");if(zo(s,"Script"))return rd(Ma(s));throw new c.buA(905,!1)},\u0275\u0275validateAttribute:function vA(s,p,m){const b=p.toLowerCase(),T=m.toLowerCase();if(!fA[b]?.has(T))return s;const M=(0,c.CpD)();if(2!==M.type)return s;const w=(0,c.OAn)();throw"iframe"===b&&function lA(s){const p=(0,c.OAn)();s.src="",s.srcdoc=_s(""),ti(p[c.GpT],s)}((0,c.d31)(M,w)),new c.buA(-910,!1)},\u0275\u0275sanitizeUrl:Eh,\u0275\u0275sanitizeUrlOrResourceUrl:function _A(s,p,m){return function mA(s,p){return"src"===p&&hA.has(s)||"href"===p&&gA.has(s)||"xlink:href"===p&&"script"===s?H_:Eh}(p,m)(s)},\u0275\u0275trustConstantHtml:function dA(s){return _s(s[0])},\u0275\u0275trustConstantResourceUrl:function pA(s){return function jo(s){return wn()?.createScriptURL(s)||s}(s[0])},forwardRef:c.Rfq,resolveForwardRef:c.nl4,\u0275\u0275twoWayProperty:oP,\u0275\u0275twoWayBindingSet:Is,\u0275\u0275twoWayListener:Wp,\u0275\u0275replaceMetadata:function h_(s,p,m,b,T=null,M=null){const w=(0,c.xUg)(s);p.apply(null,[s,m,...b]);const{newDef:R,oldDef:B}=function G0(s,p){const m={...s};return{newDef:Object.assign(s,p,{directiveDefs:m.directiveDefs,pipeDefs:m.pipeDefs,setInput:m.setInput,type:m.type}),oldDef:m}}(w,(0,c.xUg)(s));if(s[c.CQl]=R,B.tView){const $=function me(){return fn}().values();for(const Q of $)(0,c.EFk)(Q)&&null===Q[c.f7T]&&g_(T,M,R,B,Q)}},\u0275\u0275getReplaceMetadataURL:function $0(s,p,m){const b=`./@ng/component?c=${s}&t=${encodeURIComponent(p)}`;return new URL(b,m).href}};let ss=null;function V0(s){null!==ss&&(s.defaultEncapsulation!==ss.defaultEncapsulation||s.preserveWhitespaces!==ss.preserveWhitespaces)||(ss=s)}const Ql=[];function WP(s){return lg(s)?s.ngModule:s}const aD=r("NgModule",s=>s,void 0,0,(s,p)=>function Y0(s,p={}){(function X0(s,p){const b=(0,c.Bqz)(p.declarations||c.Mlv);let T=null;Object.defineProperty(s,c.hmW,{configurable:!0,get:()=>(null===T&&(T=ee().compileNgModule(Fr,`ng:///${s.name}/\u0275mod.js`,{type:s,bootstrap:(0,c.Bqz)(p.bootstrap||c.Mlv).map(c.nl4),declarations:b.map(c.nl4),imports:(0,c.Bqz)(p.imports||c.Mlv).map(c.nl4).map(WP),exports:(0,c.Bqz)(p.exports||c.Mlv).map(c.nl4).map(WP),schemas:p.schemas?(0,c.Bqz)(p.schemas):null,id:p.id||null}),T.schemas||(T.schemas=[])),T)});let M=null;Object.defineProperty(s,c.zSs,{get:()=>{if(null===M){const R=ee();M=R.compileFactory(Fr,`ng:///${s.name}/\u0275fac.js`,{name:s.name,type:s,deps:Wt(s),target:R.FactoryTarget.NgModule,typeArgumentCount:0})}return M},configurable:!1});let w=null;Object.defineProperty(s,c.ONQ,{get:()=>{if(null===w){const R={name:s.name,type:s,providers:p.providers||c.Mlv,imports:[(p.imports||c.Mlv).map(c.nl4),(p.exports||c.Mlv).map(c.nl4)]};w=ee().compileInjector(Fr,`ng:///${s.name}/\u0275inj.js`,R)}return w},configurable:!1})})(s,p),void 0!==p.id&&Uv(s,p.id),function UM(s,p){Ql.push({moduleType:s,ngModule:p})}(s,p)}(s,p)),zP=new c.nKC("");let rD=(()=>{class s{applicationErrorHandler=(0,c.WQX)(c.ZTf);appRef=(0,c.WQX)(om);taskService=(0,c.WQX)(c.rev);ngZone=(0,c.WQX)(c.SKi);zonelessEnabled=(0,c.WQX)(c.Evm);tracing=(0,c.WQX)(Cc,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new v.y;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(c.AbJ):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&((0,c.WQX)(c.AQb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{const m=this.taskService.add();this.runningTick||(this.cleanup(),this.zonelessEnabled&&!this.appRef.includeAllTestViews)?(this.switchToMicrotaskScheduler(),this.taskService.remove(m)):this.taskService.remove(m)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{const m=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(m)})})}notify(m){if(!this.zonelessEnabled&&5===m)return;switch(m){case 0:case 6:case 13:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 12:this.appRef.dirtyFlags|=16;break;case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;const b=this.useMicrotaskScheduler?c.uiq:c.l4E;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>b(()=>this.tick())):this.ngZone.runOutsideAngular(()=>b(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(c.AbJ+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const m=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(b){this.applicationErrorHandler(b)}finally{this.taskService.remove(m),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const m=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(m)}}static \u0275fac=function(b){return new(b||s)};static \u0275prov=(0,c.jDH)({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function XP(){return[{provide:c.hk6,useExisting:rD},{provide:c.SKi,useClass:c.myG},{provide:c.Evm,useValue:!0}]}const T_=new c.nKC("",{factory:()=>(0,c.WQX)(T_,{optional:!0,skipSelf:!0})||function oD(){return typeof $localize<"u"&&$localize.locale||$m}()}),lD=new c.nKC("",{factory:()=>"USD"})},35776(O,S,i){i.d(S,{A:()=>A});var P=Object.prototype;const A=function c(_){var v=_&&_.constructor;return _===("function"==typeof v&&v.prototype||P)}},35867(O,S,i){i.d(S,{k:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Gecko";tier=1;pack="Puppy";attack=3;health=1;toyPet=!0;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GeckoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>null!=this.owner.parent.toy,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=2*this.level,f=r.parent.getThis(r).pet;null!=f&&(f.increaseHealth(u),this.logService.createLog({message:`${r.name} gave ${f.name} ${u} health.`,type:"ability",player:r.parent,tiger:a}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},36466(O,S,i){i.d(S,{M:()=>_});var P=i(46200),c=i(5615),A=i(44402);class _ extends P.i{logService;abilityService;name="Crane";tier=5;pack="Golden";attack=6;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"CraneAbility",owner:t,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let g=u.parent.nearestPetsAhead(1,u);if(0==g.pets.length)return;let f=g.pets[0];f.increaseAttack(5),this.logService.createLog({message:`${u.name} gave ${f.name} 5 attack.`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:g.random});let D=u.parent.nearestPetsAhead(1,u);if(0==D.pets.length)return;let k=D.pets[0];k.givePetEquipment(new A.m),this.logService.createLog({message:`${u.name} gave ${k.name} Melon.`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:D.random}),this.triggerTigerExecution(t)}reset(){super.reset(),this.maxUses=this.level}copy(t){return new v(t,this.logService)}}},36481(O,S,i){i.d(S,{U:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Chimera Snake";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},36509(O,S,i){i.d(S,{y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Armadillo";tier=5;pack="Turtle";attack=4;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ArmadilloAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.getAll(!0,r),g=u.pets;if(0!=g.length){for(let f of g){if(!f.alive)continue;let D=8*this.level;f.increaseHealth(D),this.logService.createLog({message:`${r.name} increased health of ${f.name} by ${D}.`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random})}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},36548(O,S,i){i.d(S,{u:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Fan Mussel";tier=1;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new _(this)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{constructor(e){super({name:"FanMusselAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:t=>{this.executeAbility(t)}})}executeAbility(e){}copy(e){return new _(e)}}},36578(O,S,i){i.d(S,{v:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Camel";tier=3;pack="Turtle";health=3;attack=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"CamelAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.nearestPetsBehind(1,r);if(0===u.pets.length)return;let g=u.pets[0],f=2*this.level;g.increaseAttack(this.level),g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${this.level} attack and ${f} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},37272(O,S,i){i.d(S,{N:()=>_});var P=i(46200),c=i(5615),A=i(44402);class _ extends P.i{logService;abilityService;name="Green Sea Turtle";tier=6;pack="Danger";attack=5;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"GreenSeaTurtleAbility",owner:t,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:1,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l}=t,u=this.owner;let f=u.parent.getAll(!1,u).pets;for(let D of f)D.givePetEquipment(new A.m,u.level),this.logService.createLog({message:`${u.name} gave ${D.name} Melon.`,type:"ability",player:u.parent,tiger:l});this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},37283(O){O.exports=JSON.parse('[{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to two first enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"294","Name":"Action Figure","NameId":"RelicActionFigure","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Break: Give the front-most friend +1 attack and +1 health."},{"Level":2,"About":"Break: Give the two front-most friends +1 attack and +1 health."},{"Level":3,"About":"Break: Give the three front-most friends +1 attack and +1 health."}],"Type":1,"ToyType":0,"Id":"479","Name":"Balloon","NameId":"RelicBalloon","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Deal 50 damage to the front-most friend."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"299","Name":"Boot","NameId":"RelicBoot","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you rolled less than 6 times this turn, deal the turn number as damage to friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"300","Name":"Bowling Ball","NameId":"RelicBowlingBall","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Lose 3 gold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"310","Name":"Broken Piggy Bank","NameId":"RelicOpenPiggyBank","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Sell the two front-most friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"302","Name":"Cardboard Box","NameId":"RelicCardboardBox","Tier":1,"TierMax":4,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give +1 experience to friends and +2 experience to enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"794","Name":"Chocolate Box","NameId":"RelicChocolateBox","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Summoned: Replace this with another random toy."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"482","Name":"Crumpled Paper","NameId":"RelicCrumpledPaper","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +2 mana."},{"Level":2,"About":"Start of battle: Give the front-most friend +4 mana."},{"Level":3,"About":"Start of battle: Give the front-most friend +6 mana."}],"Type":1,"ToyType":0,"Id":"580","Name":"Crystal Ball","NameId":"RelicCrystalBall","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Friend bought: Transform it into ANY random pet from the same tier with new base stats."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"303","Name":"Deck of Cards","NameId":"RelicCardDeck","Tier":1,"TierMax":4,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Roll: Lose 1 gold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"304","Name":"Dice","NameId":"RelicDice","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Shuffle positions of all friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"286","Name":"Dice Cup","NameId":"RelicDiceCup","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you did not buy any tier 1 food this turn, make friends Dazed until next turn."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"485","Name":"Flute","NameId":"RelicFlute","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two front-most friends Weak."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"306","Name":"Handkerchief","NameId":"RelicHandkerchief","Tier":1,"TierMax":3,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Empty front space: Remove 20% attack from the back-most friend and move it to the front."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"307","Name":"Kite","NameId":"RelicKite","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Remove 20% attack and 20% health from friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"506","Name":"Lamp","NameId":"RelicLamp","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Feed Apples to random pets for each turn number. Double their power on enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"308","Name":"Lunchbox","NameId":"RelicLunchbox","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the back-most tier 2 or lower friend +1 experience."},{"Level":2,"About":"Start of battle: Give the back-most tier 2 or lower friend +2 experience."},{"Level":3,"About":"Start of battle: Give the back-most tier 2 or lower friend +3 experience."}],"Type":1,"ToyType":0,"Id":"581","Name":"Magic Wand","NameId":"RelicMagicWand","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make two random friends Cold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"590","Name":"Onesie","NameId":"RelicOnesie","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Knock it out."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"312","Name":"Paper Shredder","NameId":"RelicPaperShredder","Tier":1,"TierMax":5,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two front-most friends Inked."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"313","Name":"Pen","NameId":"RelicPen","Tier":1,"TierMax":3,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out the two front-most friends and the front-most enemy."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"284","Name":"Pill Bottle","NameId":"RelicPillBottle","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Push the last enemy up front and give it +100% attack and +100% health."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"314","Name":"Pogo Stick","NameId":"RelicPogoStick","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give enemies +20% attack and +20% health."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"315","Name":"Remote Car","NameId":"RelicRemoteCar","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you spent less than 13 gold this turn, remove 20% health from friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"582","Name":"Ring","NameId":"RelicTheOneRing","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out friends from the previous tier."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"316","Name":"Ring Pyramid","NameId":"RelicRingPyramid","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Deal 1 damage to the three front-most friends. Multiply damage with their tiers."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"285","Name":"Rock Bag","NameId":"RelicRockBag","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"All enemies fainted: Summon one 50/1 enemy Duck. Works 1 time per battle."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"318","Name":"Rubber Duck","NameId":"RelicRubberDuck","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Set attack and health of all friends to the turn number."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"795","Name":"Scale","NameId":"RelicScale","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out friends from the current tier."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"486","Name":"Soccer Ball","NameId":"RelicFootball","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give Walnut perk to the friend on the middle space."},{"Level":2,"About":"Start of battle: Give Walnut perk with double effect to the friend on the middle space."},{"Level":3,"About":"Start of battle: Give Walnut perk with triple effect to the friend on the middle space."}],"Type":1,"ToyType":0,"Id":"496","Name":"Stick","NameId":"RelicWoodenStick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two back-most friends Icky."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"792","Name":"Sticky Hand","NameId":"RelicStickyHand","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take double damage, twice.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Three friends faint: Summon one exact enemy copy of the back-most friend."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"324","Name":"Stuffed Bear","NameId":"RelicTeddyBear","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Remove the lowest tier perks from two friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"793","Name":"Vacuum Cleaner","NameId":"RelicHandheldVacuumCleaner","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make one random perk-less enemy Weak."},{"Level":2,"About":"Start of battle: Make two random perk-less enemies Weak."},{"Level":3,"About":"Start of battle: Make three random perk-less enemies Weak."}],"Type":1,"ToyType":0,"Id":"600","Name":"Witch Broom","NameId":"RelicWitchBroom","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend Garlic perk."},{"Level":2,"About":"Start of battle: Give the two front-most friends Garlic perk."},{"Level":3,"About":"Start of battle: Give the three front-most friends Garlic perk."}],"Type":1,"ToyType":0,"Id":"509","Name":"Garlic Press","NameId":"RelicGarlicPress","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack."},{"Level":2,"About":"Friend summoned: Give it +2 attack."},{"Level":3,"About":"Friend summoned: Give it +3 attack."}],"Type":1,"ToyType":0,"Id":"598","Name":"Magic Carpet","NameId":"RelicMagicCarpet","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Friendly level-up: Give it +1 attack and +1 health."},{"Level":2,"About":"Friendly level-up: Give it +2 attack and +2 health."},{"Level":3,"About":"Friendly level-up: Give it +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"575","Name":"Magic Lamp","NameId":"RelicMagicLamp","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give Popcorn perk to the front-most perkless friend."},{"Level":2,"About":"Start of battle: Give Popcorn perk to the two front-most perkless friends."},{"Level":3,"About":"Start of battle: Give Popcorn perk to the three front-most perkless friends."}],"Type":1,"ToyType":0,"Id":"699","Name":"Microwave Oven","NameId":"RelicMicrowaver","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Faint: Summon one random pet from the same tier.","CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give Eucalyptus perk to the front-most friend."},{"Level":2,"About":"Start of battle: Give Eucalyptus perk to the two front-most friends."},{"Level":3,"About":"Start of battle: Give Eucalyptus perk to the three front-most friends."}],"Type":1,"ToyType":0,"Id":"789","Name":"Plastic Saw","NameId":"RelicToySaw","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Break: Give friends +1 health."},{"Level":2,"About":"Break: Give friends +2 health."},{"Level":3,"About":"Break: Give friends +3 health."}],"Type":1,"ToyType":0,"Id":"488","Name":"Radio","NameId":"RelicRadio","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Deal 3 damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 3 damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 3 damage to three random enemies."}],"Type":1,"ToyType":0,"Id":"478","Name":"Tennis Ball","NameId":"RelicTennisBall","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three friends bought: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three friends bought: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three friends bought: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"574","Name":"Candelabra","NameId":"RelicCandelabra","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 5 damage to the lowest health enemy."},{"Level":2,"About":"Start of battle: Deal 5 damage to the lowest health enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 5 damage to the lowest health enemy. Triggers 3 times."}],"Type":1,"ToyType":0,"Id":"507","Name":"Foam Sword","NameId":"RelicFoamSword","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three friends faint: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three friends faint: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three friends faint: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"586","Name":"Glass Shoes","NameId":"RelicGlassShoes","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Spend 14 gold: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Spend 14 gold: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Spend 14 gold: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"589","Name":"Golden Harp","NameId":"RelicGoldenHarp","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three food bought: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three food bought: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three food bought: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"595","Name":"Lock of Hair","NameId":"RelicLockofHair","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Two friends transformed: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Two friends transformed: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Two friends transformed: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"578","Name":"Magic Mirror","NameId":"RelicMagicMirror","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Give the front-most friend Melon perk."},{"Level":2,"About":"Break: Give the two front-most friends Melon perk."},{"Level":3,"About":"Break: Give the three front-most friends Melon perk."}],"Type":1,"ToyType":0,"Id":"510","Name":"Melon Helmet","NameId":"RelicMelonHelmet","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Roll 7 times: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Roll 7 times: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Roll 7 times: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"599","Name":"Pickaxe","NameId":"RelicPickaxe","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Friend jumped: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Friend jumped: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Friend jumped: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"576","Name":"Red Cape","NameId":"RelicRedCape","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Two friendly level-up: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Two friendly level-up: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Two friendly level-up: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"579","Name":"Rosebud","NameId":"RelicRosebud","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Transform front-most friend into another random pet from 2 tiers below."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"319","Name":"Scissors","NameId":"RelicScissors","Tier":3,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 5 damage to the last enemy."},{"Level":2,"About":"Start of battle: Deal 5 damage to the last enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 5 damage to the last enemy. Triggers 3 times."}],"Type":1,"ToyType":0,"Id":"493","Name":"Toy Gun","NameId":"RelicToyGun","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Transform all friends to level 1."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"327","Name":"Toy Mouse","NameId":"RelicToyMouse","Tier":3,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Stock one free pet from tier 2 as a 4/4 level 3."},{"Level":2,"About":"Break: Stock one free pet from tier 4 as a 8/8 level 3."},{"Level":3,"About":"Break: Stock one free pet from tier 6 as a 12/12 level 3."}],"Type":1,"ToyType":0,"Id":"591","Name":"Treasure Chest","NameId":"RelicTreasureChest","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Summon a level 1 Treasure Chest."},{"Level":2,"About":"Break: Summon a level 2 Treasure Chest."},{"Level":3,"About":"Break: Summon a level 3 Treasure Chest."}],"Type":1,"ToyType":0,"Id":"594","Name":"Treasure Map","NameId":"RelicTreasureMap","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"End turn: Gain one free roll next turn."},{"Level":2,"About":"End turn: Gain two free rolls next turn."},{"Level":3,"About":"End turn: Gain three free rolls next turn."}],"Type":1,"ToyType":0,"Id":"597","Name":"Winged Sandals","NameId":"RelicWingedSandals","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Break: Summon one 6/6 friend that sells for 3 gold."},{"Level":2,"About":"Break: Summon one 12/12 friend that sells for 6 gold."},{"Level":3,"About":"Break: Summon one 18/18 friend that sells for 9 gold."}],"Type":1,"ToyType":0,"Id":"492","Name":"Cash Register","NameId":"RelicToyCashRegister","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"All friends fainted: Summon one 6/6 Salmon of Knowledge in battle once."},{"Level":2,"About":"All friends fainted: Summon one 12/12 Salmon of Knowledge in battle once."},{"Level":3,"About":"All friends fainted: Summon one 18/18 Salmon of Knowledge in battle once."}],"Type":1,"ToyType":0,"Id":"584","Name":"Nutcracker","NameId":"RelicNutcracker","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Give the middle friendly pet +6 mana."},{"Level":2,"About":"Start of battle: Give the middle friendly pet +12 mana."},{"Level":3,"About":"Start of battle: Give the middle friendly pet +18 mana."}],"Type":1,"ToyType":0,"Id":"587","Name":"Ocarina","NameId":"RelicOcarina","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Break: Stock one free Chicken Leg."},{"Level":2,"About":"Break: Stock two free Chicken Legs."},{"Level":3,"About":"Break: Stock three free Chicken Legs."}],"Type":1,"ToyType":0,"Id":"311","Name":"Oven Mitts","NameId":"RelicOvenMitts","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Give one random Tand & Tand +6 attack and +6 health."},{"Level":2,"About":"Start of battle: Give one random Tand & Tand +12 attack and +12 health."},{"Level":3,"About":"Start of battle: Give one random Tand & Tand +18 attack and +18 health."}],"Type":1,"ToyType":0,"Id":"585","Name":"Thunder Hammer","NameId":"RelicThunderHammer","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 6/6 Giant Eyes Dog up front in battle once."},{"Level":2,"About":"Empty front space: Summon one 12/12 Giant Eyes Dog up front in battle once."},{"Level":3,"About":"Empty front space: Summon one 18/18 Giant Eyes Dog up front in battle once."}],"Type":1,"ToyType":0,"Id":"588","Name":"Tinder Box","NameId":"RelicTinderBox","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Make the first enemy Weak."},{"Level":2,"About":"Start of battle: Make the first two enemies Weak."},{"Level":3,"About":"Start of battle: Make the first three enemies Weak."}],"Type":1,"ToyType":0,"Id":"326","Name":"Toilet Paper","NameId":"RelicToiletPaper","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Remove 30% attack from the highest attack enemy."},{"Level":2,"About":"Start of battle: Remove 30% attack from the two highest attack enemies."},{"Level":3,"About":"Start of battle: Remove 30% attack from the three highest attack enemies."}],"Type":1,"ToyType":0,"Id":"503","Name":"Camera","NameId":"RelicCamera","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 6/6 Great One in battle that deals 5 damage to ALL other pets."},{"Level":2,"About":"Empty front space: Summon one 12/12 Great One in battle that deals 10 damage to ALL other pets."},{"Level":3,"About":"Empty front space: Summon one 18/18 Great One in battle that deals 15 damage to ALL other pets."}],"Type":1,"ToyType":0,"Id":"645","Name":"Evil Book","NameId":"RelicEvilBook","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Break: Give front-most friend +5 attack and +5 health."},{"Level":2,"About":"Break: Give front-most friend +10 attack and +10 health."},{"Level":3,"About":"Break: Give front-most friend +15 attack and +15 health."}],"Type":1,"ToyType":0,"Id":"484","Name":"Flashlight","NameId":"RelicFlashlight","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Give ALL pets random perks and ailments."},{"Level":2,"About":"Start of battle: Give ALL pets random perks and ailments with double effects."},{"Level":3,"About":"Start of battle: Give ALL pets random perks and ailments with triple effects."}],"Type":1,"ToyType":0,"Id":"593","Name":"Pandoras Box","NameId":"RelicPandorasBox","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Remove 40% health from the highest health enemy."},{"Level":2,"About":"Start of battle: Remove 40% health from the two highest health enemies."},{"Level":3,"About":"Start of battle: Remove 40% health from the three highest health enemies."}],"Type":1,"ToyType":0,"Id":"513","Name":"Stinky Sock","NameId":"RelicStinkySock","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to the highest attack friend."},{"Level":2,"About":"Start of battle: Give Coconut perk to the two highest attack friends."},{"Level":3,"About":"Start of battle: Give Coconut perk to the three highest attack friends."}],"Type":1,"ToyType":0,"Id":"511","Name":"Air Palm Tree","NameId":"RelicPalmTree","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"End turn: Give the back-most friend +1 attack and +1 health."},{"Level":2,"About":"End turn: Give the back-most friend +2 attack and +2 health."},{"Level":3,"About":"End turn: Give the back-most friend +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"583","Name":"Excalibur","NameId":"RelicExcalibur","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Break: Stock one free Holy Water."},{"Level":2,"About":"Break: Stock two free Holy Waters."},{"Level":3,"About":"Break: Stock three free Holy Waters."}],"Type":1,"ToyType":0,"Id":"592","Name":"Holy Grail","NameId":"RelicHolyGrail","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Start of battle: Give Peanut Butter perk to the lowest attack friend."},{"Level":2,"About":"Start of battle: Give Peanut Butter perk to the two lowest attack friends."},{"Level":3,"About":"Start of battle: Give Peanut Butter perk to the three lowest attack friends."}],"Type":1,"ToyType":0,"Id":"512","Name":"Peanut Jar","NameId":"RelicPeanutJar","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Break: Give friends +2 attack and +2 health."},{"Level":2,"About":"Break: Give friends +4 attack and +4 health."},{"Level":3,"About":"Break: Give friends +6 attack and +6 health."}],"Type":1,"ToyType":0,"Id":"491","Name":"Television","NameId":"RelicTelevision","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]}]')},37302(O,S,i){i.d(S,{A:()=>n});var P=i(73180),c=i(14173),A=i(77437),_=i(90340),v=i(18960),e=i(73632);function t(a){var l=this.__data__=new P.A(a);this.size=l.size}t.prototype.clear=c.A,t.prototype.delete=A.A,t.prototype.get=_.A,t.prototype.has=v.A,t.prototype.set=e.A;const n=t},37429(O,S,i){i.d(S,{P:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Mosasaurus";tier=5;pack="Puppy";attack=5;health=6;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"MosasaurusAbility",owner:t,triggers:["FriendlyToyBroke"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,a=(0,A.MZ)(n);if(0===a.length)return void this.triggerTigerExecution(t);const l=2*this.level,r=3*this.level;for(const u of a)u.increaseAttack(l),u.increaseHealth(r),this.logService.createLog({message:`${n.name} gave ${u.name} +${l}/+${r}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon});this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},37545(O,S,i){i.d(S,{O:()=>A,s:()=>_});var P=i(50873),c=i(5615);class A extends P.L{name="Balloon";tier=1;onBreak(e,t){let n=this.parent.getFurthestUpPets(this.level,[]);if(0!=n.pets.length)for(let l of n.pets)l.increaseAttack(1),l.increaseHealth(1),this.logService.createLog({message:`${this.name} gave ${l.name} 1 attack and 1 health.`,type:"ability",player:this.parent,puma:t})}}class _ extends c.T{logService;constructor(e,t){super({name:"BalloonAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,l=this.owner;let r=l.parent.getFurthestUpPets(this.level,[],l),u=r.pets;if(0!=u.length){for(let f of u)f.increaseAttack(1),f.increaseHealth(1),this.logService.createLog({message:`${l.name} gave ${f.name} 1 attack and 1 health.`,type:"ability",player:l.parent,tiger:a,randomEvent:r.random});this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},37584(O,S,i){i.d(S,{r:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Amargasaurus";tier=5;pack="Star";attack=5;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;healthRestoredThisTurn=0;reset(){this.healthRestoredThisTurn=0,super.reset()}constructor(e,t){super({name:"AmargasaurusAbility",owner:e,triggers:["FriendHurt","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return void(this.healthRestoredThisTurn=0);const{triggerPet:a,tiger:l,pteranodon:r}=e;let u;if(!a||(a.transformed?(u=a.transformedInto,u.originalHealth=a.originalHealth):u=a,!u||!u.alive)||u===t)return;const g=15*this.level,f=u.originalHealth-u.health;if(f<=0||this.healthRestoredThisTurn>=g)return;const k=Math.min(f,g-this.healthRestoredThisTurn);if(k>0){let F=t.parent.getSpecificPet(t,u).pet;if(null==F)return;this.logService.createLog({message:`${t.name} restored ${k} health to ${F.name}.`,type:"ability",player:t.parent,tiger:l,pteranodon:r}),F.increaseHealth(k),this.healthRestoredThisTurn+=k}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},37765(O,S,i){i.d(S,{lJ:()=>c});const c=function P(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},37831(O,S,i){i.d(S,{FZ:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Goblin Shark";tier=4;pack="Custom";attack=6;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.petService)),this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D,k){super(t,n,l),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,u,g,D,k)}}class _ extends c.T{logService;abilityService;constructor(t,n,a){super({name:"GoblinSharkFaintAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:l=>this.owner.alive,abilityFunction:l=>{this.executeAbility(l)},ignoreRepeats:!0}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;for(;u.swallowedPets.length>0;){let g=u.swallowedPets.shift();g.health=1;let f=u.parent.summonPet(g,u.savedPosition,!1,u);f.success&&this.logService.createLog({message:`${u.name} summoned ${g.name} (level ${g.level}).`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:f.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new _(t,this.logService,this.abilityService)}}class v extends c.T{logService;petService;constructor(t,n,a){super({name:"GoblinSharkStartAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.petService=a}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let g=6*this.level;for(let f of u.parent.opponent.petArray)if(f.alive&&f.health<=g){let D=this.petService.createPet({name:f.name,attack:f.attack,health:f.health,exp:f.exp,equipment:null,mana:0},u.parent);u.swallowedPets.push(D),f.health=0,this.logService.createLog({message:`${u.name} swallowed ${f.name}`,type:"ability",player:u.parent,tiger:l,pteranodon:r});break}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.petService)}}},37850(O,S,i){i.d(S,{L:()=>A});var P=i(19058),c=i(50873);class A extends c.L{name="Handkerchief";tier=1;startOfBattle(v,e){const t=this.parent.getFurthestUpPets(2);for(const n of t.pets)n.givePetEquipment(new P.l),this.logService.createLog({message:`${this.name} gave ${n.name} Weak.`,type:"ability",player:this.parent,puma:e,randomEvent:t.random})}}},37907(O,S,i){i.d(S,{z:()=>c});var P=i(22097);class c extends P.${name="Sardinian Currant";equipmentClass="shop"}},38022(O,S,i){i.d(S,{n:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Moth";tier=1;pack="Puppy";health=3;attack=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MothAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.getFurthestUpPet(r),g=u.pet;if(null==g)return;let f=2*this.level;g.increaseAttack(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},38065(O,S,i){i.d(S,{f:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Roc";tier=4;pack="Unicorn";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"RocAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let g=r.parent.nearestPetsAhead(5,r).pets;if(0==g.length)return;let f=r.parent.petArray.filter(D=>D==r||!g.includes(D));for(let D=0;D<3*this.level;D++){let k=r.parent.getRandomPet(f,!0,!1,!1,r);if(null==k.pet)break;this.logService.createLog({message:`${r.name} gave ${k.pet.name} 2 mana.`,type:"ability",player:r.parent,tiger:a,randomEvent:k.random}),k.pet.increaseMana(2)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},38086(O,S,i){i.d(S,{x:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Seahorse";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SeahorseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,r=a.parent.opponent.getLastPet();if(null==r.pet)return;const u=r.pet;u.parent.pushPet(u,this.level),this.logService.createLog({message:`${a.name} pushed ${u.name} forward ${this.level} space(s).`,type:"ability",player:a.parent,tiger:t,pteranodon:n,randomEvent:r.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},38129(O,S,i){i.d(S,{$:()=>c,d:()=>P});const P=["Turtle","Puppy","Star","Golden","Unicorn","Danger","Custom"],c=P.filter(A=>"Custom"!==A)},38130(O,S,i){i.d(S,{A:()=>c});var P=i(50873);class c extends P.L{logService;toyService;petService;name="Rubber Duck";tier=1;constructor(_,v,e,t,n){super(_,v,t,n),this.logService=_,this.toyService=v,this.petService=e}allEnemiesFainted(_,v){if(this.used)return;const e=this.parent.opponent,t=this.petService.createPet({name:"Duck",attack:50,health:1,exp:0,mana:0,equipment:null},e);t.toyPet=!0,e.summonPet(t,0).success&&(this.logService.createLog({message:`${this.name} summoned a 50/1 Duck for the enemy.`,type:"ability",player:this.parent,puma:v}),this.used=!0)}}},38148(O,S,i){i.d(S,{N:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Golden Egg";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;constructor(e,t){super({name:"GoldenEggAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t}executeAbility(e){const t=this.owner;let n=t.parent.opponent.petArray,a=null;for(let r of n)if(r.alive){a=r;break}if(null==a)return;let l=this.equipment.multiplier;for(let r=0;r<l;r++)t.snipePet(a,6,!1,!1,!1,!0,!1);t.removePerk()}}},38271(O,S,i){i.d(S,{s:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pillbug";tier=1;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"PillbugAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} stocked ${n} free Sleeping Pill${1===n?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},38350(O,S,i){i.d(S,{Z:()=>_});var P=i(86785),c=i(61850),A=i(44708);class _ extends A.q{petBehind(e=!1,t=!1){if(!this.parent)return null;for(let a=(void 0!==this.position?this.position:this.savedPosition)+1;a<5;a++){let l=this.parent.getPetAtPosition(a);if(t&&null!=l)return l;if(e&&null!=l&&!l.alive&&!l.seenDead)return null;if(null!=l&&l.alive)return l}return null}getManticoreMult(){const e=this.parent;if(!e||!e.petArray)return[];let t=[];for(let n of e.petArray)"Manticore"==n.name&&t.push(n.level);return t}getSparrowLevel(){const e=this.parent;if(!e||!Array.isArray(e.petArray))return 0;let t=0;for(let n of e.petArray)"Sparrow"==n.name&&(t=Math.max(t,n.level));return t}getPetsBehind(e,t){const n=this.getSillyRandomTargets(e,t);if(n.length>0)return n;let a=[],l=this.petBehind();for(t&&l&&l.equipment?.name===t&&(l=l.petBehind());l&&!(a.length>=e);)a.push(l),l=l.petBehind();return a}kitsuneCheck(){let e=this.petBehind(),t=!0;for(;e;){if("Kitsune"==e.name&&t)return!1;if(t=!1,"Kitsune"==e.name)return!0;e=e.petBehind()}return!1}get petAhead(){const e=this.parent;if(!e)return null;for(let n=(void 0!==this.position?this.position:this.savedPosition)-1;n>-1;n--){let a=e.getPetAtPosition(n);if(null!=a&&a.alive)return a}return null}get minExpForLevel(){return(0,P.T)(this.level)}getSillyRandomTargets(e,t){if(!this.parent?.opponent)return[];const n=this.equipment;if(!("string"==typeof n&&"Silly"===n||n&&"string"==typeof n.name&&"Silly"===n.name))return[];const r=[],u=[...[...this.parent.petArray,...this.parent.opponent.petArray].filter(g=>!(!g.alive||g===this.asPet()||t&&g.equipment?.name===t))];for(;r.length<e&&u.length>0;){const g=(0,c.hw)(0,u.length-1);r.push(u.splice(g,1)[0])}return r}}},38354(O,S,i){i.d(S,{n:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Warthog";tier=6;pack="Golden";attack=9;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"WarthogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=this.level,g=Math.floor(r.attack/3);for(let f=0;f<g;f++){let D=r.parent.getRandomPet([],!0,!1,!0,r);if(null==D.pet)break;D.pet.increaseAttack(u),D.pet.increaseHealth(u),this.logService.createLog({message:`${r.name} gave ${D.pet.name} ${u} attack and ${u} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:D.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},38736(O,S,i){i.d(S,{A:()=>_});var c=Function.prototype.toString;const _=function A(v){if(null!=v){try{return c.call(v)}catch{}try{return v+""}catch{}}return""}},38762(O,S,i){function P(v,e){if(!v||!e||v.player!==e.player||v.type!==e.type||v.randomEvent!==e.randomEvent||v.randomEventReason!==e.randomEventReason||v.sourcePet!==e.sourcePet||v.sourceIndex!==e.sourceIndex||v.targetPet!==e.targetPet||v.targetIndex!==e.targetIndex||v.tiger!==e.tiger||v.puma!==e.puma||v.pteranodon!==e.pteranodon)return null;if((v.pantherMultiplier??null)!==(e.pantherMultiplier??null))return null;const a=_(v.rawMessage??v.message??""),l=_(e.rawMessage??e.message??"");return!a||!l||a.includes(" attack and ")||a.includes(" health and ")||l.includes(" attack and ")||l.includes(" health and ")?null:c(a,l)??c(l,a)}function c(v,e){const t=A(v,"lost","attack"),n=A(e,"lost","health");if(t&&n&&t.prefix===n.prefix&&t.suffix===n.suffix)return`${t.prefix}${t.value} attack and ${n.value} health${t.suffix}`;const a=A(v,"gave","attack"),l=A(e,"gave","health");return a&&l&&a.prefix===l.prefix&&a.suffix===l.suffix?`${a.prefix}${a.plus}${a.value} attack and ${l.plus}${l.value} health${a.suffix}`:null}function A(v,e,t){if("lost"===e){const l=new RegExp(`^(.*\\blost\\s+)(\\d+)\\s+${t}\\b(.*)$`,"i"),r=v.match(l);return r?{prefix:r[1],plus:"",value:r[2],suffix:r[3]}:null}const n=new RegExp(`^(.*\\b(?:gave|give|gives)\\b.*?\\s+)(\\+?)(\\d+)\\s+${t}\\b(.*)$`,"i"),a=v.match(n);return a?{prefix:a[1],plus:a[2]??"",value:a[3],suffix:a[4]}:null}function _(v){return v.replace(/<[^>]+>/g,"").trim()}i.d(S,{c:()=>P})},38818(O,S,i){i.d(S,{A:()=>_});var P=i(77107);const _=function A(v,e){var t=this.__data__;return this.size+=this.has(v)?0:1,t[v]=P.A&&void 0===e?"__lodash_hash_undefined__":e,this}},38866(O,S,i){i.d(S,{v:()=>e});var P=i(46200),c=i(5615),A=i(33127),_=i(43681),v=i(56990);class e extends P.i{logService;abilityService;name="Tapir";tier=6;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L){super(a,l,r),this.logService=a,this.abilityService=l,this.initPet(D,u,g,f,k,L)}}class t extends c.T{logService;constructor(a,l){super({name:"TapirAbility",owner:a,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=l}executeAbility(a){const l=this.owner,{tiger:r,pteranodon:u}=a,f=l.parent.getLastPet(void 0,l).pet;if(!f)return void this.triggerTigerExecution(a);const D=Math.min(3,Math.max(1,this.level)),k=10*D,L=1===D?0:2===D?2:5,F=A.I.getInjector().get(_.h),j=A.I.getInjector().get(v.T),ee=F.createPet(f,j,k,k,L);if(!ee)return void this.triggerTigerExecution(a);const J=l.parent.summonPet(ee,l.savedPosition,!1,l);J.success&&this.logService.createLog({message:`${l.name} summoned a ${k}/${k} copy of ${f.name}.`,type:"ability",player:l.parent,tiger:r,pteranodon:u,randomEvent:J.randomEvent}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},38950(O,S,i){i.d(S,{w:()=>c});const P=[{name:"FairyAbility",label:"FairyBall",perLevel:2},{name:"NurikabeAbility",label:"Nurikabe",perLevel:4,incrementUses:!0},{name:"FanMusselAbility",label:"Fan Mussel",perLevel:1,incrementUses:!0},{name:"GhostKittenAbility",label:"Ghost Kitten",perLevel:3}];class c{static applyDamage(_){const{pet:v,baseDamage:e,perkName:t,manticoreMultipliers:n,logService:a,afterDamage:l}=_,r=v.equipment;if(!r)return;let u=r.multiplier;for(let L of n)u+=L;const f=this.applyAbilityReductions(v,e*u),D=f.damage,k=this.buildLogMessage({pet:v,finalDamage:D,equipment:r,perkName:t,reductions:f.reductions,manticoreMultipliers:n});a.createLog({message:k,type:"ability",player:v.parent}),v.dealDamage(v,D),l&&l(v)}static applyAbilityReductions(_,v){let e=v;const t=[];for(const n of P){if(e<=0)break;if(!_.hasTrigger(void 0,"Pet",n.name))continue;let a=0;for(const l of _.abilityList){if(l.name!==n.name)continue;const r=l.level*n.perLevel;0!==r&&(a+=r,e=Math.max(0,e-r),n.incrementUses&&l.currentUses++)}a>0&&t.push({label:n.label,amount:a})}return{damage:e,reductions:t}}static buildLogMessage(_){let v=`${_.pet.name} took ${_.finalDamage} damage`;if(_.manticoreMultipliers.length>0)for(const e of _.manticoreMultipliers)v+=` x${e+1} (Manticore)`;_.equipment.multiplier>1&&(v+=_.equipment.multiplierMessage);for(const e of _.reductions)v+=` -${e.amount} (${e.label})`;return v+=` (${_.perkName}).`,v}}},38992(O,S,i){i.d(S,{A:()=>c});const c=function P(A,_){return function(v){return A(_(v))}}},39112(O,S,i){i.d(S,{u:()=>_});var P=i(70762),c=i(40091),A=i(20178);function _(v,e,t){if(v){if(v instanceof P.v)return v;if(v[c.D])return v[c.D]()}return v||e||t?new P.v(v,e,t):new P.v(A.I)}},39156(O,S,i){i.d(S,{E:()=>A});var P=i(65419),c=i(12768);class A extends P.n{breakToy(v=!1){(0,c.Y)(this,v,this.logService,this.abilityService,this.gameService)}setToy(v){(0,c.P)(this,v)}}},39195(O,S,i){i.d(S,{v:()=>_});var P=i(46200),c=i(5615),A=i(607);class _ extends P.i{logService;abilityService;name="Boitata";tier=5;pack="Custom";attack=2;health=12;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;reset(){this.maxUses=2*this.level,super.reset()}initUses(){this.maxUses=2*this.level,super.initUses()}constructor(t,n,a){super({name:"BoitataAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2*t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let g=u.parent.getPetsWithEquipmentWithSillyFallback("Crisp",u),f=u.parent.opponent.getFurthestUpPet(u,g),D=f.pet;null!=D&&(this.logService.createLog({message:`${u.name} gave ${D.name} Crisp.`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:f.random}),D.givePetEquipment(new A.Y),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService,this.abilityService)}}},39371(O,S,i){i.d(S,{t:()=>c});var P=i(22097);class c extends P.${name="Grapes";equipmentClass="shop"}},39486(O,S,i){i.d(S,{i:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Blue Whale";tier=6;pack="Danger";health=12;attack=12;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BlueWhaleAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=2*this.level;this.logService.createLog({message:`${t.name} sold friends for +2 extra gold each and gave future shop pets +${n} attack and +${n} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},39748(O,S,i){i.d(S,{A:()=>A});const A=i(1860).A["__core-js_shared__"]},39830(O,S,i){i.d(S,{U:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Leopard";tier=6;pack="Turtle";attack=10;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"LeopardAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=Math.floor(.5*r.attack),g=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,null,null,!0,r);for(let f of g.pets)null!=f&&r.snipePet(f,u,g.random,a);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},40091(O,S,i){i.d(S,{D:()=>P});const P="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},40110(O,S,i){i.d(S,{o:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Squash";tier=3;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"SquashAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,condition:()=>{const a=this.owner.parent.opponent.pet0;return!!a&&a.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let a=t.parent.opponent.pet0;if(null==a||!a.alive)return;let l=6,r=Math.max(1,a.health-l);a.health=r,this.logService.createLog({message:`${this.equipment.name} reduced ${a.name} health by ${l} to ${r}${n>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent})}t.removePerk()}}},40212(O,S,i){i.d(S,{_:()=>_});var P=i(46200),c=i(5615),A=i(63683);class _ extends P.i{logService;abilityService;name="Hirola";tier=3;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"HirolaAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;for(let g=0;g<this.level;g++){let f=new A.A(this.logService,this.abilityService,u.parent,3,4,u.mana,u.exp),D=u.parent.summonPet(f,u.savedPosition,!1,u);D.success&&this.logService.createLog({message:`${u.name} summoned a 4/3 ${f.name}.`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:D.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},40328(O,S,i){i.d(S,{r:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Silver Fox";tier=5;pack="Custom";attack=3;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Silver Fox Ability",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,n=this.level,a=t.parent;a.gold=(a.gold??0)+n,this.logService.createLog({message:`${t.name} gave ${n} gold to the owner.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},40358(O,S,i){i.d(S,{j:()=>_,z:()=>v});var P=i(57488),c=i(50873),A=i(5615);class _ extends c.L{name="Toy Gun";tier=3;startOfBattle(t,n){let a=(0,P.a)(t,this.parent);for(let l=0;l<this.level;l++){let r=a.getLastPet();if(null==r.pet)return;this.toyService.snipePet(r.pet,5,this.parent,this.name,!1,n)}}}class v extends A.T{logService;constructor(t,n){super({name:"ToyGunAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l}=t,u=this.owner;let g=u.parent.opponent;for(let f=0;f<this.level;f++){let D=g.getLastPet();if(null==D.pet)return;u.snipePet(D.pet,5,D.random,l)}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},40468(O,S,i){i.d(S,{F:()=>_});var P=i(46200),c=i(5615),A=i(56692);class _ extends P.i{logService;abilityService;name="Aye-aye";tier=5;pack="Danger";attack=3;health=5;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"AyeAyeAbility",owner:t,triggers:["EnemyAttacked7"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l}=t,u=this.owner;for(let D=0;D<2;D++){let k=3,L=3,F=new A.S(this.logService,this.abilityService,u.parent,L,k,0,0),j=u.parent.summonPet(F,u.savedPosition,!1,u);j.success&&this.logService.createLog({message:`${u.name} summoned a ${k}/${L} ${F.name}.`,type:"ability",player:u.parent,tiger:l,randomEvent:j.randomEvent})}let g=3*this.level,f=u.parent.getAll(!1,u,!0);for(let D of f.pets)D.increaseAttack(g),D.increaseHealth(g),this.logService.createLog({message:`${u.name} gave ${D.name} +${g} attack and +${g} health.`,type:"ability",player:u.parent,tiger:l,randomEvent:f.random});this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},40482(O,S,i){i.d(S,{m:()=>e});var P=i(22097),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.${logService;petService;gameService;name="Popcorn";equipmentClass="afterFaint";callback=a=>{const l=a.getEquippedEquipmentInstance(this);a.addAbility(new t(a,l,this.logService,this.petService))};constructor(a,l,r){super(),this.logService=a,this.petService=l,this.gameService=r}}class t extends c.T{equipment;logService;petService;constructor(a,l,r,u){super({name:"PopcornAbility",owner:a,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:g=>{this.executeAbility(g)}}),this.equipment=l,this.logService=r,this.petService=u}executeAbility(a){const{gameApi:l}=a,r=this.owner;for(let u=0;u<this.equipment.multiplier;u++){let f=[...(r.parent==l.player?l.playerPetPool:l.opponentPetPool)?.get(r.tier)??[]];if(f.length||(f=[...this.petService.allPets.get(r.tier)??[]]),!f.length)return;const D=(0,A.k6)({key:"equipment.popcorn-summon",label:(0,v.R)(r,"Popcorn","summon",u+1),options:f.map(j=>({id:j,label:j}))},()=>(0,_.hw)(0,f.length-1));if(D.index<0||D.index>=f.length)return;let L=this.petService.createPet({attack:null,equipment:null,exp:0,health:null,name:f[D.index],mana:0},r.parent);r.parent.summonPet(L,r.savedPosition).success&&this.logService.createLog({message:`${r.name} Spawned ${L.name} (Popcorn)${u>0?this.equipment.multiplierMessage:""}`,type:"ability",player:r.parent,randomEvent:D.randomEvent})}}}},40532(O,S,i){i.d(S,{$:()=>c});var P=i(45312);class c{logService;gameService;abilityService;toyService;player;opponent;constructor(_,v,e,t,n,a){this.logService=_,this.gameService=v,this.abilityService=e,this.toyService=t,this.player=n,this.opponent=a}applyPreBattleFriendDeathCounts(){const _=[this.player,this.opponent];for(const v of _)for(const e of v.petArray)e?.friendsDiedBeforeBattle&&this.abilityService.simulatePostRemovalFriendFaintsCounters(e,e.friendsDiedBeforeBattle)}abilityCycle(){this.emptyFrontSpaceCheck();let _=0;const v=1e5;for(;;){for(;this.abilityService.hasGlobalEvents;){const t=this.abilityService.peekNextHighestPriorityEvent();if(t&&this.abilityService.getPriorityNumber(t.abilityType)>=27&&(this.checkPetsAlive(),this.removeDeadPets())){this.resetClearFrontFlags(),this.emptyFrontSpaceCheck();continue}const n=this.abilityService.getNextHighestPriorityEvent();if(!n){console.error("AbilityCycle: Expected event from queue but got null. Queue state inconsistent.");break}if(_++,_>v){const a=this.abilityService.getQueueSnapshot().map(u=>u.abilityType??"unknown"),l=new Map;for(const u of a)l.set(u,(l.get(u)??0)+1);const r=Array.from(l.entries()).sort((u,g)=>g[1]-u[1]).slice(0,10).map(([u,g])=>`${u}:${g}`).join(", ");throw new Error(`Ability cycle overflow: processed>${v}. Last=${n.abilityType??"unknown"}. QueueLen=${a.length}. Top=[${r}]`)}this.abilityService.executeEventCallback(n),this.checkPetsAlive()}if(this.removeDeadPets()&&(this.resetClearFrontFlags(),this.emptyFrontSpaceCheck()),!this.abilityService.hasGlobalEvents){this.player.checkGoldenSpawn(),this.opponent.checkGoldenSpawn();break}}}checkPetsAlive(){this.player.checkPetsAlive(),this.opponent.checkPetsAlive()}removeDeadPets(){let _=!1;return _=this.player.removeDeadPets(),_=this.opponent.removeDeadPets()||_,_}emptyFrontSpaceCheck(){if(null==this.player.pet0)this.abilityService.triggerEmptyFrontSpaceEvents(this.player);else for(const _ of this.player.petArray)_.clearFrontTriggered=!1;if(null==this.opponent.pet0)this.abilityService.triggerEmptyFrontSpaceEvents(this.opponent);else for(const _ of this.opponent.petArray)_.clearFrontTriggered=!1;null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.opponent),this.abilityService.executeEmptyFrontSpaceToyEvents()}initToys(){this.registerStartOfBattleToyEvents(this.player),this.registerStartOfBattleToyEvents(this.opponent)}getActiveToys(_){const v=[];return _.toy&&v.push(_.toy),_.hardToy&&v.push(_.hardToy),v}registerStartOfBattleToyEvents(_){const v=this.getActiveToys(_);for(const e of v){const t=e.startOfBattle;t&&this.toyService.setStartOfBattleEvent({callback:()=>{if(_.toy!==e&&_.hardToy!==e)return;t.call(e,this.gameService.gameApi);const n=e.level;for(const a of _.petArray)a instanceof P.E&&(e.level=a.level,t.call(e,this.gameService.gameApi,!0),e.level=n)},priority:e.tier,player:_,customParams:{toyName:e.name,suppressFriendFaintLog:e.suppressFriendFaintLog}})}}initializeEquipmentMultipliers(){for(let _ of this.player.petArray)_.equipment&&_.setEquipmentMultiplier();for(let _ of this.opponent.petArray)_.equipment&&_.setEquipmentMultiplier()}resetClearFrontFlags(){for(const _ of this.player.petArray)_.clearFrontTriggered=!1;for(const _ of this.opponent.petArray)_.clearFrontTriggered=!1}}},40555(O,S,i){i.d(S,{A:()=>_});var P=i(3043),c=i(14429);const _=function A(v){return null==v?[]:(0,P.A)(v,(0,c.A)(v))}},40622(O){O.exports=JSON.parse('{"byNameId":{"Leafling":"Leafling-sharedassets1.assets-3345.ogg","AfricanWildDog":"AfricanWildDog-sharedassets1.assets-3650.ogg","AlchemistBug":"AlchemistBug-sharedassets1.assets-3321.ogg","Ant":"Ant-sharedassets1.assets-3379.ogg","Baku":"Baku-sharedassets1.assets-3837.ogg","Barghest":"Barghest-sharedassets1.assets-3885.ogg","Beaver":"Beaver-sharedassets1.assets-3576.ogg","Bee":"Bee-sharedassets1.assets-3578.ogg","Beetle":"Beetle-sharedassets1.assets-3273.ogg","Bluebird":"Bluebird-sharedassets1.assets-3335.ogg","BombusDahlbomii":"BombusDahlbomii-sharedassets1.assets-3473.ogg","Budgie":"Budgie-sharedassets1.assets-3277.ogg","Bulldog":"Bulldog-sharedassets1.assets-3614.ogg","Bunyip":"Bunyip-sharedassets1.assets-3743.ogg","Bus":"Bus-sharedassets1.assets-3459.ogg","Chick":"Chick-sharedassets1.assets-3748.ogg","Chihuahua":"Chihuahua-sharedassets1.assets-3570.ogg","Chinchilla":"Chinchilla-sharedassets1.assets-3853.ogg","Chipmunk":"Chipmunk-sharedassets1.assets-3830.ogg","Cockroach":"Cockroach-sharedassets1.assets-3408.ogg","ConeSnail":"ConeSnail-sharedassets1.assets-3754.ogg","Cricket":"Cricket-sharedassets1.assets-3397.ogg","CuckooBaby":"CuckooBaby-sharedassets1.assets-3551.ogg","CuddleToad":"CuddleToad-sharedassets1.assets-3472.ogg","Duck":"Duck-sharedassets1.assets-3290.ogg","BabyDuck":"BabyDuck-sharedassets1.assets-3545.ogg","EthiopianWolf":"EthiopianWolf-sharedassets1.assets-3822.ogg","FanMussel":"FanMussel-sharedassets1.assets-3497.ogg","FarmerMouse":"FarmerMouse-sharedassets1.assets-3295.ogg","Ferret":"Ferret-sharedassets1.assets-3597.ogg","FirePup":"FirePup-sharedassets1.assets-3341.ogg","Firefly":"Firefly-sharedassets1.assets-3840.ogg","Fish":"Fish-sharedassets1.assets-3403.ogg","FrilledDragon":"FrilledDragon-sharedassets1.assets-3617.ogg","Frog":"Frog-sharedassets1.assets-3873.ogg","Gecko":"Gecko-sharedassets1.assets-3289.ogg","Gibbon":"Gibbon-sharedassets1.assets-3770.ogg","GoldenRetriever":"GoldenRetriever-sharedassets1.assets-3671.ogg","Goose":"Goose-sharedassets1.assets-3546.ogg","Groundhog":"Groundhog-sharedassets1.assets-3574.ogg","Horse":"Horse-sharedassets1.assets-3718.ogg","Hummingbird":"Hummingbird-sharedassets1.assets-3352.ogg","IliPika":"IliPika-sharedassets1.assets-3535.ogg","IriomoteCat":"IriomoteCat-sharedassets1.assets-3298.ogg","Kiwi":"Kiwi-sharedassets1.assets-3815.ogg","Lemming":"Lemming-sharedassets1.assets-3383.ogg","Magpie":"Magpie-sharedassets1.assets-3716.ogg","MalayTapir":"MalayTapir-sharedassets1.assets-3311.ogg","Marmoset":"Marmoset-sharedassets1.assets-3351.ogg","WhiteKillerRabbit":"WhiteKillerRabbit-sharedassets1.assets-3691.ogg","Mosquito":"Mosquito-sharedassets1.assets-3860.ogg","Moth":"Moth-sharedassets1.assets-3406.ogg","Mouse":"Mouse-sharedassets1.assets-3506.ogg","Murloc":"Murloc-sharedassets1.assets-3773.ogg","Nudibranchs":"Nudibranchs-sharedassets1.assets-3400.ogg","Opossum":"Opossum-sharedassets1.assets-3681.ogg","Otter":"Otter-sharedassets1.assets-3727.ogg","PeacockSpider":"PeacockSpider-sharedassets1.assets-3677.ogg","Pengobble":"Pengobble-sharedassets1.assets-3776.ogg","Pheasant":"Pheasant-sharedassets1.assets-3675.ogg","PiedTamarin":"PiedTamarin-sharedassets1.assets-3310.ogg","Pig":"Pig-sharedassets1.assets-3527.ogg","Pigeon":"Pigeon-sharedassets1.assets-3529.ogg","Pillbug":"Pillbug-sharedassets1.assets-3642.ogg","PygmySeahorse":"PygmySeahorse-sharedassets1.assets-3673.ogg","Quoll":"Quoll-sharedassets1.assets-3724.ogg","Silkmoth":"Silkmoth-sharedassets1.assets-3465.ogg","Silverfish":"Silverfish-sharedassets1.assets-3849.ogg","Sloth":"Sloth-sharedassets1.assets-3366.ogg","EggLadCovered":"EggLadCovered-sharedassets1.assets-3845.ogg","Termite":"Termite-sharedassets1.assets-3613.ogg","TogianBabirusa":"TogianBabirusa-sharedassets1.assets-3805.ogg","ToothBilledPigeon":"ToothBilledPigeon-sharedassets1.assets-3323.ogg","Tsuchinoko":"Tsuchinoko-sharedassets1.assets-3317.ogg","LongWattledUmbrellabird":"LongWattledUmbrellabird-sharedassets1.assets-3342.ogg","VolcanoSnail":"VolcanoSnail-sharedassets1.assets-3306.ogg","Weevil":"Weevil-sharedassets1.assets-3728.ogg","AfricanPenguin":"AfricanPenguin-sharedassets1.assets-3772.ogg","AlbinoSquirrel":"AlbinoSquirrel-sharedassets1.assets-3531.ogg","Amphisbaena":"Amphisbaena-sharedassets1.assets-3470.ogg","AraripeManakin":"AraripeManakin-sharedassets1.assets-3336.ogg","AtlanticPuffin":"AtlanticPuffin-sharedassets1.assets-3312.ogg","Bass":"Bass-sharedassets1.assets-3325.ogg","Bat":"Bat-sharedassets1.assets-3523.ogg","BelugaSturgeon":"BelugaSturgeon-sharedassets1.assets-3674.ogg","Bigfoot":"Bigfoot-sharedassets1.assets-3880.ogg","Bilby":"Bilby-sharedassets1.assets-3619.ogg","BlackNeckedStilt":"BlackNeckedStilt-sharedassets1.assets-3388.ogg","Chupacabra":"Chupacabra-sharedassets1.assets-3409.ogg","Crab":"Crab-sharedassets1.assets-3555.ogg","DarwinsFox":"DarwinsFox-sharedassets1.assets-3640.ogg","DesertRainFrog":"DesertRainFrog-sharedassets1.assets-3821.ogg","DoorHeadAnt":"DoorHeadAnt-sharedassets1.assets-3755.ogg","Dove":"Dove-sharedassets1.assets-3624.ogg","Dromedary":"Dromedary-sharedassets1.assets-3643.ogg","DropBear":"DropBear-sharedassets1.assets-3783.ogg","DumboOctopus":"DumboOctopus-sharedassets1.assets-3349.ogg","DungBeetle":"DungBeetle-sharedassets1.assets-3496.ogg","EuropeanMink":"EuropeanMink-sharedassets1.assets-3422.ogg","FarmerChicken":"FarmerChicken-sharedassets1.assets-3832.ogg","Flamingo":"Flamingo-sharedassets1.assets-3689.ogg","Frigatebird":"Frigatebird-sharedassets1.assets-3567.ogg","FrostWolf":"FrostWolf-sharedassets1.assets-3279.ogg","FruitFly":"FruitFly-sharedassets1.assets-3870.ogg","Gargoyle":"Gargoyle-sharedassets1.assets-3874.ogg","GhostKitten":"GhostKitten-sharedassets1.assets-3620.ogg","GiantSquirrel":"GiantSquirrel-sharedassets1.assets-3713.ogg","DwarvenBeetle":"DwarvenBeetle-sharedassets1.assets-3583.ogg","GuineaPig":"GuineaPig-sharedassets1.assets-3635.ogg","Hedgehog":"Hedgehog-sharedassets1.assets-3466.ogg","HerculesBeetle":"HerculesBeetle-sharedassets1.assets-3634.ogg","HermitCrab":"HermitCrab-sharedassets1.assets-3444.ogg","HonduranWhiteBat":"HonduranWhiteBat-sharedassets1.assets-3427.ogg","Iguana":"Iguana-sharedassets1.assets-3512.ogg","Jackalope":"Jackalope-sharedassets1.assets-3340.ogg","Kangaroo":"Kangaroo-sharedassets1.assets-3720.ogg","Koala":"Koala-sharedassets1.assets-3445.ogg","Lemur":"Lemur-sharedassets1.assets-3666.ogg","Lizard":"Lizard-sharedassets1.assets-3670.ogg","Mandarinfish":"Mandarinfish-sharedassets1.assets-3678.ogg","Drill":"Drill-sharedassets1.assets-3443.ogg","Meerkat":"Meerkat-sharedassets1.assets-3797.ogg","Mink":"Mink-sharedassets1.assets-3495.ogg","Mothman":"Mothman-sharedassets1.assets-3426.ogg","NightCrawler":"NightCrawler-sharedassets1.assets-3274.ogg","Ogopogo":"Ogopogo-sharedassets1.assets-3411.ogg","Olm":"Olm-sharedassets1.assets-3563.ogg","Panda":"Panda-sharedassets1.assets-3272.ogg","Peacock":"Peacock-sharedassets1.assets-3800.ogg","PinkRobin":"PinkRobin-sharedassets1.assets-3552.ogg","ProboscisMonkey":"ProboscisMonkey-sharedassets1.assets-3318.ogg","PygmyHog":"PygmyHog-sharedassets1.assets-3362.ogg","Rat":"Rat-sharedassets1.assets-3621.ogg","Roadrunner":"Roadrunner-sharedassets1.assets-3744.ogg","Robin":"Robin-sharedassets1.assets-3646.ogg","SakerFalcon":"SakerFalcon-sharedassets1.assets-3420.ogg","Salamander":"Salamander-sharedassets1.assets-3710.ogg","Saola":"Saola-sharedassets1.assets-3695.ogg","SeaTurtle":"SeaTurtle-sharedassets1.assets-3684.ogg","SeaUrchin":"SeaUrchin-sharedassets1.assets-3846.ogg","Seahorse":"Seahorse-sharedassets1.assets-3368.ogg","ShimaEnaga":"ShimaEnaga-sharedassets1.assets-3862.ogg","Shrimp":"Shrimp-sharedassets1.assets-3350.ogg","Snail":"Snail-sharedassets1.assets-3810.ogg","Sphinx":"Sphinx-sharedassets1.assets-3554.ogg","Spider":"Spider-sharedassets1.assets-3270.ogg","SpottedHandfish":"SpottedHandfish-sharedassets1.assets-3664.ogg","Squid":"Squid-sharedassets1.assets-3708.ogg","Stoat":"Stoat-sharedassets1.assets-3498.ogg","Stork":"Stork-sharedassets1.assets-3477.ogg","Swan":"Swan-sharedassets1.assets-3307.ogg","TabbyCat":"TabbyCat-sharedassets1.assets-3360.ogg","Tadpole":"Tadpole-sharedassets1.assets-3462.ogg","TaitaShrew":"TaitaShrew-sharedassets1.assets-3392.ogg","Takhi":"Takhi-sharedassets1.assets-3799.ogg","ThornyDragon":"ThornyDragon-sharedassets1.assets-3572.ogg","Thunderbird":"Thunderbird-sharedassets1.assets-3421.ogg","Vervet":"Vervet-sharedassets1.assets-3326.ogg","Warg":"Warg-sharedassets1.assets-3398.ogg","WhiteBelliedHeron":"WhiteBelliedHeron-sharedassets1.assets-3540.ogg","Wombat":"Wombat-sharedassets1.assets-3302.ogg","Worm":"Worm-sharedassets1.assets-3533.ogg","Wyvern":"Wyvern-sharedassets1.assets-3692.ogg","Yak":"Yak-sharedassets1.assets-3483.ogg","Aardvark":"Aardvark-sharedassets1.assets-3659.ogg","AmamiRabbit":"AmamiRabbit-sharedassets1.assets-3847.ogg","AxehandleHound":"AxehandleHound-sharedassets1.assets-3715.ogg","Baboon":"Baboon-sharedassets1.assets-3723.ogg","Badger":"Badger-sharedassets1.assets-3730.ogg","Barnacle":"Barnacle-sharedassets1.assets-3645.ogg","Basilisk":"Basilisk-sharedassets1.assets-3553.ogg","Bear":"Bear-sharedassets1.assets-3304.ogg","BettaFish":"BettaFish-sharedassets1.assets-3610.ogg","GlaucusAtlanticus":"GlaucusAtlanticus-sharedassets1.assets-3628.ogg","BlueThroatedMacaw":"BlueThroatedMacaw-sharedassets1.assets-3347.ogg","Headcrab":"Headcrab-sharedassets1.assets-3468.ogg","BrazillianTreehopper":"BrazillianTreehopper-sharedassets1.assets-3864.ogg","Caladrius":"Caladrius-sharedassets1.assets-3741.ogg","Calygreyhound":"Calygreyhound-sharedassets1.assets-3455.ogg","Camel":"Camel-sharedassets1.assets-3363.ogg","Capybara":"Capybara-sharedassets1.assets-3700.ogg","Cardinal":"Cardinal-sharedassets1.assets-3359.ogg","Cassowary":"Cassowary-sharedassets1.assets-3868.ogg","Centipede":"Centipede-sharedassets1.assets-3353.ogg","Wendigo":"Wendigo-sharedassets1.assets-3549.ogg","Dimetrodon":"Dimetrodon-sharedassets1.assets-3448.ogg","Dodo":"Dodo-sharedassets1.assets-3726.ogg","Dog":"Dog-sharedassets1.assets-3474.ogg","Dolphin":"Dolphin-sharedassets1.assets-3871.ogg","Dugong":"Dugong-sharedassets1.assets-3834.ogg","Eel":"Eel-sharedassets1.assets-3502.ogg","Elephant":"Elephant-sharedassets1.assets-3686.ogg","EmperorTamarin":"EmperorTamarin-sharedassets1.assets-3761.ogg","FarmerPig":"FarmerPig-sharedassets1.assets-3365.ogg","Flea":"Flea-sharedassets1.assets-3835.ogg","FlyingFish":"FlyingFish-sharedassets1.assets-3284.ogg","FlyingSquirrel":"FlyingSquirrel-sharedassets1.assets-3794.ogg","FuLion":"FuLion-sharedassets1.assets-3401.ogg","FurBearingTrout":"FurBearingTrout-sharedassets1.assets-3729.ogg","Gerenuk":"Gerenuk-sharedassets1.assets-3756.ogg","Gharial":"Gharial-sharedassets1.assets-3334.ogg","Giraffe":"Giraffe-sharedassets1.assets-3548.ogg","GreatPotoo":"GreatPotoo-sharedassets1.assets-3491.ogg","Griffin":"Griffin-sharedassets1.assets-3798.ogg","FowlBird":"FowlBird-sharedassets1.assets-3652.ogg","Hare":"Hare-sharedassets1.assets-3370.ogg","HatchingChick":"HatchingChick-sharedassets1.assets-3740.ogg","Hirola":"Hirola-sharedassets1.assets-3774.ogg","HoopoeBird":"HoopoeBird-sharedassets1.assets-3283.ogg","JewelCaterpillar":"JewelCaterpillar-sharedassets1.assets-3522.ogg","Leech":"Leech-sharedassets1.assets-3293.ogg","LuckyCat":"LuckyCat-sharedassets1.assets-3291.ogg","ManaHound":"ManaHound-sharedassets1.assets-3434.ogg","Mandrake":"Mandrake-sharedassets1.assets-3668.ogg","Mole":"Mole-sharedassets1.assets-3478.ogg","MonkeyFacedBat":"MonkeyFacedBat-sharedassets1.assets-3878.ogg","MuskOx":"MuskOx-sharedassets1.assets-3641.ogg","Okapi":"Okapi-sharedassets1.assets-3486.ogg","Orangutan":"Orangutan-sharedassets1.assets-3813.ogg","Osprey":"Osprey-sharedassets1.assets-3575.ogg","Ouroboros":"Ouroboros-sharedassets1.assets-3876.ogg","Owl":"Owl-sharedassets1.assets-3669.ogg","Ox":"Ox-sharedassets1.assets-3265.ogg","Pangasius":"Pangasius-sharedassets1.assets-3492.ogg","Pangolin":"Pangolin-sharedassets1.assets-3883.ogg","PatagonianMara":"PatagonianMara-sharedassets1.assets-3760.ogg","Pony":"Pony-sharedassets1.assets-3507.ogg","Porcupine":"Porcupine-sharedassets1.assets-3587.ogg","Pug":"Pug-sharedassets1.assets-3482.ogg","PurpleFrog":"PurpleFrog-sharedassets1.assets-3661.ogg","PygmyHippo":"PygmyHippo-sharedassets1.assets-3764.ogg","Quail":"Quail-sharedassets1.assets-3297.ogg","QueenBee":"QueenBee-sharedassets1.assets-3667.ogg","Quetzalcoatlus":"Quetzalcoatlus-sharedassets1.assets-3565.ogg","Rabbit":"Rabbit-sharedassets1.assets-3452.ogg","RolowayMonkey":"RolowayMonkey-sharedassets1.assets-3399.ogg","RoyalFlycatcher":"RoyalFlycatcher-sharedassets1.assets-3625.ogg","GreaterSageGrouse":"GreaterSageGrouse-sharedassets1.assets-3423.ogg","SarcasticFringehead":"SarcasticFringehead-sharedassets1.assets-3833.ogg","Sheep":"Sheep-sharedassets1.assets-3524.ogg","SilkieChicken":"SilkieChicken-sharedassets1.assets-3532.ogg","SkeletonDog":"SkeletonDog-sharedassets1.assets-3539.ogg","Slime":"Slime-sharedassets1.assets-3446.ogg","SpoonBilledSandpiper":"SpoonBilledSandpiper-sharedassets1.assets-3415.ogg","SugarGlider":"SugarGlider-sharedassets1.assets-3665.ogg","SurgeonFish":"SurgeonFish-sharedassets1.assets-3763.ogg","Takin":"Takin-sharedassets1.assets-3490.ogg","Tatzelwurm":"Tatzelwurm-sharedassets1.assets-3865.ogg","Toad":"Toad-sharedassets1.assets-3704.ogg","Toucan":"Toucan-sharedassets1.assets-3717.ogg","TreeEnt":"TreeEnt-sharedassets1.assets-3395.ogg","TreeKangaroo":"TreeKangaroo-sharedassets1.assets-3500.ogg","TropicalFish":"TropicalFish-sharedassets1.assets-3441.ogg","Tucuxi":"Tucuxi-sharedassets1.assets-3413.ogg","Tuna":"Tuna-sharedassets1.assets-3637.ogg","VampireParrot":"VampireParrot-sharedassets1.assets-3348.ogg","Wasp":"Wasp-sharedassets1.assets-3380.ogg","Weasel":"Weasel-sharedassets1.assets-3795.ogg","Shoggoth":"Shoggoth-sharedassets1.assets-3556.ogg","Ahuizotl":"Ahuizotl-sharedassets1.assets-3428.ogg","AmazonRiverDolphin":"AmazonRiverDolphin-sharedassets1.assets-3603.ogg","Andrewsarchus":"Andrewsarchus-sharedassets1.assets-3479.ogg","Angelshark":"Angelshark-sharedassets1.assets-3787.ogg","Anubis":"Anubis-sharedassets1.assets-3606.ogg","Bison":"Bison-sharedassets1.assets-3651.ogg","Bloodhound":"Bloodhound-sharedassets1.assets-3439.ogg","Blowfish":"Blowfish-sharedassets1.assets-3544.ogg","BlueFootedBooby":"BlueFootedBooby-sharedassets1.assets-3682.ogg","Bonobo":"Bonobo-sharedassets1.assets-3432.ogg","Buffalo":"Buffalo-sharedassets1.assets-3839.ogg","Butterfly":"Butterfly-sharedassets1.assets-3792.ogg","Caterpillar":"Caterpillar-sharedassets1.assets-3451.ogg","Chameleon":"Chameleon-sharedassets1.assets-3841.ogg","Chimera":"Chimera-sharedassets1.assets-3547.ogg","ClownFish":"ClownFish-sharedassets1.assets-3433.ogg","Cockatoo":"Cockatoo-sharedassets1.assets-3286.ogg","Crow":"Crow-sharedassets1.assets-3750.ogg","Cuckoo":"Cuckoo-sharedassets1.assets-3633.ogg","Cuddlefish":"Cuddlefish-sharedassets1.assets-3557.ogg","Cyclops":"Cyclops-sharedassets1.assets-3521.ogg","Deer":"Deer-sharedassets1.assets-3698.ogg","Deinocheirus":"Deinocheirus-sharedassets1.assets-3264.ogg","Doberman":"Doberman-sharedassets1.assets-3746.ogg","Donkey":"Donkey-sharedassets1.assets-3843.ogg","Elk":"Elk-sharedassets1.assets-3859.ogg","Fairy":"Fairy-sharedassets1.assets-3779.ogg","FairyArmadillo":"FairyArmadillo-sharedassets1.assets-3263.ogg","Falcon":"Falcon-sharedassets1.assets-3657.ogg","FarmerCat":"FarmerCat-sharedassets1.assets-3375.ogg","Fossa":"Fossa-sharedassets1.assets-3566.ogg","Gazelle":"Gazelle-sharedassets1.assets-3725.ogg","Gelada":"Gelada-sharedassets1.assets-3806.ogg","GiantOtter":"GiantOtter-sharedassets1.assets-3801.ogg","GiantTortoise":"GiantTortoise-sharedassets1.assets-3742.ogg","GoblinShark":"GoblinShark-sharedassets1.assets-3696.ogg","GoldenTamarin":"GoldenTamarin-sharedassets1.assets-3396.ogg","Hawk":"Hawk-sharedassets1.assets-3369.ogg","Hippo":"Hippo-sharedassets1.assets-3464.ogg","Hoatzin":"Hoatzin-sharedassets1.assets-3586.ogg","HumpheadWrasse":"HumpheadWrasse-sharedassets1.assets-3528.ogg","Jerboa":"Jerboa-sharedassets1.assets-3367.ogg","Kakapo":"Kakapo-sharedassets1.assets-3631.ogg","Kraken":"Kraken-sharedassets1.assets-3536.ogg","SatanicLeafTailedGecko":"SatanicLeafTailedGecko-sharedassets1.assets-3301.ogg","LeafySeaDragon":"LeafySeaDragon-sharedassets1.assets-3731.ogg","Llama":"Llama-sharedassets1.assets-3314.ogg","Lobster":"Lobster-sharedassets1.assets-3816.ogg","Locust":"Locust-sharedassets1.assets-3752.ogg","LongcombSawfish":"LongcombSawfish-sharedassets1.assets-3622.ogg","Lynx":"Lynx-sharedassets1.assets-3749.ogg","Manatee":"Manatee-sharedassets1.assets-3561.ogg","MantaRay":"MantaRay-sharedassets1.assets-3818.ogg","Microbe":"Microbe-sharedassets1.assets-3638.ogg","Mimic":"Mimic-sharedassets1.assets-3735.ogg","Minotaur":"Minotaur-sharedassets1.assets-3812.ogg","OldMouse":"OldMouse-sharedassets1.assets-3579.ogg","Parrot":"Parrot-sharedassets1.assets-3511.ogg","Pegasus":"Pegasus-sharedassets1.assets-3442.ogg","Penguin":"Penguin-sharedassets1.assets-3775.ogg","Platybelodon":"Platybelodon-sharedassets1.assets-3609.ogg","Platypus":"Platypus-sharedassets1.assets-3287.ogg","PoisonDartFrog":"PoisonDartFrog-sharedassets1.assets-3660.ogg","PoodleMoth":"PoodleMoth-sharedassets1.assets-3294.ogg","PrayingMantis":"PrayingMantis-sharedassets1.assets-3316.ogg","Puppy":"Puppy-sharedassets1.assets-3588.ogg","WhiteBootedRacketTail":"WhiteBootedRacketTail-sharedassets1.assets-3623.ogg","RedLippedBatfish":"RedLippedBatfish-sharedassets1.assets-3796.ogg","Roc":"Roc-sharedassets1.assets-3308.ogg","Rootler":"Rootler-sharedassets1.assets-3767.ogg","RuspolisTuraco":"RuspolisTuraco-sharedassets1.assets-3313.ogg","SaigaAntelope":"SaigaAntelope-sharedassets1.assets-3453.ogg","SeaAnemone":"SeaAnemone-sharedassets1.assets-3393.ogg","Seagull":"Seagull-sharedassets1.assets-3737.ogg","Sealion":"Sealion-sharedassets1.assets-3361.ogg","Siamese":"Siamese-sharedassets1.assets-3707.ogg","Skunk":"Skunk-sharedassets1.assets-3454.ogg","Slug":"Slug-sharedassets1.assets-3537.ogg","Sparrow":"Sparrow-sharedassets1.assets-3732.ogg","SpiderCrab":"SpiderCrab-sharedassets1.assets-3809.ogg","SpinyBushViper":"SpinyBushViper-sharedassets1.assets-3639.ogg","Squirrel":"Squirrel-sharedassets1.assets-3867.ogg","ArabianTahr":"ArabianTahr-sharedassets1.assets-3331.ogg","ThorGoat1":"ThorGoat1-sharedassets1.assets-3857.ogg","Tardigrade":"Tardigrade-sharedassets1.assets-3385.ogg","TasmanianDevil":"TasmanianDevil-sharedassets1.assets-3758.ogg","AntLion":"AntLion-sharedassets1.assets-3390.ogg","Trout":"Trout-sharedassets1.assets-3607.ogg","Turtle":"Turtle-sharedassets1.assets-3879.ogg","Unicorn":"Unicorn-sharedassets1.assets-3460.ogg","Vaquita":"Vaquita-sharedassets1.assets-3819.ogg","Xenomorph":"Xenomorph-sharedassets1.assets-3680.ogg","Whale":"Whale-sharedassets1.assets-3430.ogg","WhaleShark":"WhaleShark-sharedassets1.assets-3672.ogg","Sandworm":"Sandworm-sharedassets1.assets-3778.ogg","YetiCrab":"YetiCrab-sharedassets1.assets-3863.ogg","Amalgam":"Amalgam-sharedassets1.assets-3269.ogg","Armadillo":"Armadillo-sharedassets1.assets-3499.ogg","Axolotl":"Axolotl-sharedassets1.assets-3447.ogg","AyeAye":"AyeAye-sharedassets1.assets-3785.ogg","BadDog":"BadDog-sharedassets1.assets-3856.ogg","BanggaiCardinalfish":"BanggaiCardinalfish-sharedassets1.assets-3266.ogg","WhiteWhale":"WhiteWhale-sharedassets1.assets-3471.ogg","BlueJay":"BlueJay-sharedassets1.assets-3333.ogg","BlueRingedOctopus":"BlueRingedOctopus-sharedassets1.assets-3850.ogg","Boitata":"Boitata-sharedassets1.assets-3412.ogg","BrahmaChicken":"BrahmaChicken-sharedassets1.assets-3757.ogg","Chicken":"Chicken-sharedassets1.assets-3869.ogg","Cow":"Cow-sharedassets1.assets-3407.ogg","Crane":"Crane-sharedassets1.assets-3458.ogg","Crocodile":"Crocodile-sharedassets1.assets-3534.ogg","Dragonfly":"Dragonfly-sharedassets1.assets-3745.ogg","Eagle":"Eagle-sharedassets1.assets-3807.ogg","EgyptianVulture":"EgyptianVulture-sharedassets1.assets-3419.ogg","Emu":"Emu-sharedassets1.assets-3571.ogg","Estemmenosuchus":"Estemmenosuchus-sharedassets1.assets-3685.ogg","FarmerCrow":"FarmerCrow-sharedassets1.assets-3324.ogg","FireAnt":"FireAnt-sharedassets1.assets-3504.ogg","FlounderYoung":"FlounderYoung-sharedassets1.assets-3777.ogg","GeometricTortoise":"GeometricTortoise-sharedassets1.assets-3594.ogg","GiantIsopod":"GiantIsopod-sharedassets1.assets-3404.ogg","GiantPangasius":"GiantPangasius-sharedassets1.assets-3387.ogg","Goat":"Goat-sharedassets1.assets-3296.ogg","Hamster":"Hamster-sharedassets1.assets-3844.ogg","HawaiianMonkSeal":"HawaiianMonkSeal-sharedassets1.assets-3630.ogg","Hippocampus":"Hippocampus-sharedassets1.assets-3480.ogg","Hyena":"Hyena-sharedassets1.assets-3683.ogg","Ibex":"Ibex-sharedassets1.assets-3378.ogg","Jackal":"Jackal-sharedassets1.assets-3328.ogg","Kappa":"Kappa-sharedassets1.assets-3329.ogg","Kitsune":"Kitsune-sharedassets1.assets-3487.ogg","LovelandFrogman":"LovelandFrogman-sharedassets1.assets-3391.ogg","Lusca":"Lusca-sharedassets1.assets-3281.ogg","Macaque":"Macaque-sharedassets1.assets-3861.ogg","Maltese":"Maltese-sharedassets1.assets-3416.ogg","MarineIguana":"MarineIguana-sharedassets1.assets-3626.ogg","Monkey":"Monkey-sharedassets1.assets-3437.ogg","Moose":"Moose-sharedassets1.assets-3436.ogg","Mosasaurus":"Mosasaurus-sharedassets1.assets-3550.ogg","Namazu":"Namazu-sharedassets1.assets-3319.ogg","Nessie":"Nessie-sharedassets1.assets-3384.ogg","Nurikabe":"Nurikabe-sharedassets1.assets-3519.ogg","NurseShark":"NurseShark-sharedassets1.assets-3877.ogg","Nyala":"Nyala-sharedassets1.assets-3690.ogg","OrchidMantis":"OrchidMantis-sharedassets1.assets-3852.ogg","PacificFanfish":"PacificFanfish-sharedassets1.assets-3354.ogg","PaintedTerrapin":"PaintedTerrapin-sharedassets1.assets-3802.ogg","Panther":"Panther-sharedassets1.assets-3602.ogg","Pelican":"Pelican-sharedassets1.assets-3558.ogg","Pixiu":"Pixiu-sharedassets1.assets-3485.ogg","PolarBear":"PolarBear-sharedassets1.assets-3389.ogg","Racoon":"Racoon-sharedassets1.assets-3784.ogg","RedDragon":"RedDragon-sharedassets1.assets-3786.ogg","RedPanda":"RedPanda-sharedassets1.assets-3562.ogg","Rhino":"Rhino-sharedassets1.assets-3332.ogg","Rooster":"Rooster-sharedassets1.assets-3611.ogg","Salmon":"Salmon-sharedassets1.assets-3526.ogg","Scorpion":"Scorpion-sharedassets1.assets-3618.ogg","SeaCucumber":"SeaCucumber-sharedassets1.assets-3702.ogg","Seal":"Seal-sharedassets1.assets-3481.ogg","SecretaryBird":"SecretaryBird-sharedassets1.assets-3848.ogg","Shark":"Shark-sharedassets1.assets-3766.ogg","Shoebill":"Shoebill-sharedassets1.assets-3405.ogg","SiberianHusky":"SiberianHusky-sharedassets1.assets-3884.ogg","SilverFox":"SilverFox-sharedassets1.assets-3343.ogg","SnappingJawTurtle":"SnappingJawTurtle-sharedassets1.assets-3644.ogg","SnowLeopard":"SnowLeopard-sharedassets1.assets-3872.ogg","Starfish":"Starfish-sharedassets1.assets-3654.ogg","Stingray":"Stingray-sharedassets1.assets-3771.ogg","Stonefish":"Stonefish-sharedassets1.assets-3636.ogg","SwordFish":"SwordFish-sharedassets1.assets-3386.ogg","TaitaThrush":"TaitaThrush-sharedassets1.assets-3520.ogg","TarantulaHawk":"TarantulaHawk-sharedassets1.assets-3355.ogg","Tarasque":"Tarasque-sharedassets1.assets-3600.ogg","Triceratops":"Triceratops-sharedassets1.assets-3762.ogg","Turkey":"Turkey-sharedassets1.assets-3402.ogg","VampireBat":"VampireBat-sharedassets1.assets-3688.ogg","VenusFlytrap":"VenusFlytrap-sharedassets1.assets-3275.ogg","Vulture":"Vulture-sharedassets1.assets-3414.ogg","Werewolf":"Werewolf-sharedassets1.assets-3781.ogg","Wolf":"Wolf-sharedassets1.assets-3271.ogg","WoollyRhino":"WoollyRhino-sharedassets1.assets-3599.ogg","Zebra":"Zebra-sharedassets1.assets-3828.ogg","Akhlut":"Akhlut-sharedassets1.assets-3573.ogg","Albatross":"Albatross-sharedassets1.assets-3508.ogg","Alpaca":"Alpaca-sharedassets1.assets-3358.ogg","Amargasaurus":"Amargasaurus-sharedassets1.assets-3320.ogg","Ammonite":"Ammonite-sharedassets1.assets-3374.ogg","AmsterdamAlbatross":"AmsterdamAlbatross-sharedassets1.assets-3604.ogg","Anglerfish":"Anglerfish-sharedassets1.assets-3516.ogg","Bakunawa":"Bakunawa-sharedassets1.assets-3722.ogg","BayCat":"BayCat-sharedassets1.assets-3591.ogg","Behemoth":"Behemoth-sharedassets1.assets-3484.ogg","ParadiseBird":"ParadiseBird-sharedassets1.assets-3788.ogg","BlackBear":"BlackBear-sharedassets1.assets-3503.ogg","BlackRhino":"BlackRhino-sharedassets1.assets-3338.ogg","BlueWhale":"BlueWhale-sharedassets1.assets-3372.ogg","Boar":"Boar-sharedassets1.assets-3285.ogg","CaliforniaCondor":"CaliforniaCondor-sharedassets1.assets-3739.ogg","Cat":"Cat-sharedassets1.assets-3782.ogg","Catfish":"Catfish-sharedassets1.assets-3344.ogg","Cerberus":"Cerberus-sharedassets1.assets-3559.ogg","Chimpanzee":"Chimpanzee-sharedassets1.assets-3596.ogg","Cobra":"Cobra-sharedassets1.assets-3751.ogg","Cockatrice":"Cockatrice-sharedassets1.assets-3649.ogg","CoconutCrab":"CoconutCrab-sharedassets1.assets-3488.ogg","Dragon":"Dragon-sharedassets1.assets-3598.ogg","Dunkleosteus":"Dunkleosteus-sharedassets1.assets-3418.ogg","EagleOwl":"EagleOwl-sharedassets1.assets-3824.ogg","ElephantSeal":"ElephantSeal-sharedassets1.assets-3831.ogg","FarmerDog":"FarmerDog-sharedassets1.assets-3538.ogg","Fly":"Fly-sharedassets1.assets-3276.ogg","GermanShepard":"GermanShepard-sharedassets1.assets-3601.ogg","Gorilla":"Gorilla-sharedassets1.assets-3709.ogg","GreenSeaTurtle":"GreenSeaTurtle-sharedassets1.assets-3881.ogg","GrizzlyBear":"GrizzlyBear-sharedassets1.assets-3530.ogg","Hammershark":"Hammershark-sharedassets1.assets-3662.ogg","HarpyEagle":"HarpyEagle-sharedassets1.assets-3322.ogg","HelmetedHornbill":"HelmetedHornbill-sharedassets1.assets-3382.ogg","HighlandCow":"HighlandCow-sharedassets1.assets-3456.ogg","HoodedSeal":"HoodedSeal-sharedassets1.assets-3653.ogg","Hydra":"Hydra-sharedassets1.assets-3280.ogg","JerseyDevil":"JerseyDevil-sharedassets1.assets-3629.ogg","Komodo":"Komodo-sharedassets1.assets-3790.ogg","Lamprey":"Lamprey-sharedassets1.assets-3693.ogg","Leopard":"Leopard-sharedassets1.assets-3612.ogg","Leviathan":"Leviathan-sharedassets1.assets-3759.ogg","Lion":"Lion-sharedassets1.assets-3605.ogg","Lioness":"Lioness-sharedassets1.assets-3808.ogg","Mammoth":"Mammoth-sharedassets1.assets-3780.ogg","Manticore":"Manticore-sharedassets1.assets-3719.ogg","ShrimpMantis":"ShrimpMantis-sharedassets1.assets-3371.ogg","Markhor":"Markhor-sharedassets1.assets-3582.ogg","MimicOctopus":"MimicOctopus-sharedassets1.assets-3694.ogg","Mongoose":"Mongoose-sharedassets1.assets-3817.ogg","Octopus":"Octopus-sharedassets1.assets-3738.ogg","Orca":"Orca-sharedassets1.assets-3449.ogg","Ostrich":"Ostrich-sharedassets1.assets-3315.ogg","Oyster":"Oyster-sharedassets1.assets-3305.ogg","PhilippineEagle":"PhilippineEagle-sharedassets1.assets-3875.ogg","Phoenix":"Phoenix-sharedassets1.assets-3736.ogg","Piranha":"Piranha-sharedassets1.assets-3429.ogg","Poodle":"Poodle-sharedassets1.assets-3804.ogg","Pteranodon":"Pteranodon-sharedassets1.assets-3569.ogg","Puma":"Puma-sharedassets1.assets-3866.ogg","QuestingBeast":"QuestingBeast-sharedassets1.assets-3647.ogg","Quetzalcoatl":"Quetzalcoatl-sharedassets1.assets-3440.ogg","RealVelociraptor":"RealVelociraptor-sharedassets1.assets-3765.ogg","Reindeer":"Reindeer-sharedassets1.assets-3509.ogg","SabertoothTiger":"SabertoothTiger-sharedassets1.assets-3373.ogg","Sauropod":"Sauropod-sharedassets1.assets-3747.ogg","SeaSerpent":"SeaSerpent-sharedassets1.assets-3627.ogg","SilkySifaka":"SilkySifaka-sharedassets1.assets-3589.ogg","Sleipnir":"Sleipnir-sharedassets1.assets-3803.ogg","BabyCthulhu":"BabyCthulhu-sharedassets1.assets-3461.ogg","Snake":"Snake-sharedassets1.assets-3377.ogg","Spinosaurus":"Spinosaurus-sharedassets1.assets-3823.ogg","Stegosaurus":"Stegosaurus-sharedassets1.assets-3467.ogg","SumatranTiger":"SumatranTiger-sharedassets1.assets-3299.ogg","Sunfish":"Sunfish-sharedassets1.assets-3364.ogg","Tapir":"Tapir-sharedassets1.assets-3510.ogg","TeamSpirit":"TeamSpirit-sharedassets1.assets-3701.ogg","TerrorBird":"TerrorBird-sharedassets1.assets-3697.ogg","Therizinosaurus":"Therizinosaurus-sharedassets1.assets-3590.ogg","Tiger":"Tiger-sharedassets1.assets-3721.ogg","Tyrannosaurus":"Tyrannosaurus-sharedassets1.assets-3793.ogg","VampireSquid":"VampireSquid-sharedassets1.assets-3706.ogg","Velociraptor":"Velociraptor-sharedassets1.assets-3337.ogg","Walrus":"Walrus-sharedassets1.assets-3476.ogg","Warthog":"Warthog-sharedassets1.assets-3768.ogg","WhiteTiger":"WhiteTiger-sharedassets1.assets-3679.ogg","Wildebeest":"Wildebeest-sharedassets1.assets-3410.ogg","ForestSpirit":"ForestSpirit-sharedassets1.assets-3525.ogg","Wolverine":"Wolverine-sharedassets1.assets-3829.ogg","YellowBoxFish":"YellowBoxFish-sharedassets1.assets-3303.ogg","Yeti":"Yeti-sharedassets1.assets-3593.ogg","MochaDick":"MochaDick-sharedassets1.assets-3581.ogg","Tanystropheus":"Tanystropheus-sharedassets1.assets-3417.ogg"},"byPetId":{"0":"Ant-sharedassets1.assets-3379.ogg","2":"Badger-sharedassets1.assets-3730.ogg","3":"Beaver-sharedassets1.assets-3576.ogg","4":"Bee-sharedassets1.assets-3578.ogg","5":"Bison-sharedassets1.assets-3651.ogg","7":"Blowfish-sharedassets1.assets-3544.ogg","8":"Buffalo-sharedassets1.assets-3839.ogg","9":"Butterfly-sharedassets1.assets-3792.ogg","10":"Camel-sharedassets1.assets-3363.ogg","11":"Cat-sharedassets1.assets-3782.ogg","12":"Caterpillar-sharedassets1.assets-3451.ogg","13":"Chick-sharedassets1.assets-3748.ogg","14":"Chicken-sharedassets1.assets-3869.ogg","15":"Cow-sharedassets1.assets-3407.ogg","16":"Crab-sharedassets1.assets-3555.ogg","17":"Cricket-sharedassets1.assets-3397.ogg","18":"Cockroach-sharedassets1.assets-3408.ogg","19":"Crocodile-sharedassets1.assets-3534.ogg","20":"Deer-sharedassets1.assets-3698.ogg","21":"Dodo-sharedassets1.assets-3726.ogg","22":"Dog-sharedassets1.assets-3474.ogg","23":"Dolphin-sharedassets1.assets-3871.ogg","24":"Dove-sharedassets1.assets-3624.ogg","25":"Dragon-sharedassets1.assets-3598.ogg","26":"Duck-sharedassets1.assets-3290.ogg","27":"Eagle-sharedassets1.assets-3807.ogg","28":"Elephant-sharedassets1.assets-3686.ogg","29":"Flamingo-sharedassets1.assets-3689.ogg","30":"Fly-sharedassets1.assets-3276.ogg","32":"Fish-sharedassets1.assets-3403.ogg","33":"Giraffe-sharedassets1.assets-3548.ogg","34":"Goat-sharedassets1.assets-3296.ogg","36":"Gorilla-sharedassets1.assets-3709.ogg","37":"Hedgehog-sharedassets1.assets-3466.ogg","38":"Hippo-sharedassets1.assets-3464.ogg","39":"Horse-sharedassets1.assets-3718.ogg","40":"Kangaroo-sharedassets1.assets-3720.ogg","41":"Leopard-sharedassets1.assets-3612.ogg","42":"Lion-sharedassets1.assets-3605.ogg","44":"Llama-sharedassets1.assets-3314.ogg","45":"Mammoth-sharedassets1.assets-3780.ogg","46":"Monkey-sharedassets1.assets-3437.ogg","47":"Mosquito-sharedassets1.assets-3860.ogg","48":"Mouse-sharedassets1.assets-3506.ogg","50":"Octopus-sharedassets1.assets-3738.ogg","51":"Otter-sharedassets1.assets-3727.ogg","52":"Ox-sharedassets1.assets-3265.ogg","53":"Parrot-sharedassets1.assets-3511.ogg","54":"Peacock-sharedassets1.assets-3800.ogg","55":"Rhino-sharedassets1.assets-3332.ogg","56":"Penguin-sharedassets1.assets-3775.ogg","57":"Rat-sharedassets1.assets-3621.ogg","59":"Pig-sharedassets1.assets-3527.ogg","60":"Rabbit-sharedassets1.assets-3452.ogg","63":"Rooster-sharedassets1.assets-3611.ogg","65":"Scorpion-sharedassets1.assets-3618.ogg","66":"Seal-sharedassets1.assets-3481.ogg","67":"Shrimp-sharedassets1.assets-3350.ogg","68":"Sheep-sharedassets1.assets-3524.ogg","69":"Shark-sharedassets1.assets-3766.ogg","70":"Skunk-sharedassets1.assets-3454.ogg","71":"Sloth-sharedassets1.assets-3366.ogg","72":"Snail-sharedassets1.assets-3810.ogg","73":"Snake-sharedassets1.assets-3377.ogg","74":"Spider-sharedassets1.assets-3270.ogg","75":"Squirrel-sharedassets1.assets-3867.ogg","76":"Swan-sharedassets1.assets-3307.ogg","77":"Tiger-sharedassets1.assets-3721.ogg","78":"Tyrannosaurus-sharedassets1.assets-3793.ogg","79":"Turkey-sharedassets1.assets-3402.ogg","80":"Turtle-sharedassets1.assets-3879.ogg","81":"Whale-sharedassets1.assets-3430.ogg","82":"Worm-sharedassets1.assets-3533.ogg","85":"Bus-sharedassets1.assets-3459.ogg","87":"Bat-sharedassets1.assets-3523.ogg","88":"Beetle-sharedassets1.assets-3273.ogg","89":"Bluebird-sharedassets1.assets-3335.ogg","91":"HatchingChick-sharedassets1.assets-3740.ogg","93":"Lobster-sharedassets1.assets-3816.ogg","94":"Microbe-sharedassets1.assets-3638.ogg","95":"Owl-sharedassets1.assets-3669.ogg","96":"Poodle-sharedassets1.assets-3804.ogg","97":"Puppy-sharedassets1.assets-3588.ogg","98":"Sauropod-sharedassets1.assets-3747.ogg","99":"TabbyCat-sharedassets1.assets-3360.ogg","100":"TropicalFish-sharedassets1.assets-3441.ogg","103":"Boar-sharedassets1.assets-3285.ogg","104":"Dromedary-sharedassets1.assets-3643.ogg","107":"Panda-sharedassets1.assets-3272.ogg","108":"PolarBear-sharedassets1.assets-3389.ogg","109":"GuineaPig-sharedassets1.assets-3635.ogg","110":"Hamster-sharedassets1.assets-3844.ogg","111":"Donkey-sharedassets1.assets-3843.ogg","112":"Koala-sharedassets1.assets-3445.ogg","113":"BabyDuck-sharedassets1.assets-3545.ogg","114":"Lioness-sharedassets1.assets-3808.ogg","115":"Velociraptor-sharedassets1.assets-3337.ogg","116":"Orca-sharedassets1.assets-3449.ogg","117":"ClownFish-sharedassets1.assets-3433.ogg","118":"Piranha-sharedassets1.assets-3429.ogg","119":"SwordFish-sharedassets1.assets-3386.ogg","120":"Eel-sharedassets1.assets-3502.ogg","123":"Hammershark-sharedassets1.assets-3662.ogg","124":"Komodo-sharedassets1.assets-3790.ogg","125":"Ostrich-sharedassets1.assets-3315.ogg","126":"PrayingMantis-sharedassets1.assets-3316.ogg","127":"Hawk-sharedassets1.assets-3369.ogg","128":"Seagull-sharedassets1.assets-3737.ogg","129":"Pelican-sharedassets1.assets-3558.ogg","130":"Okapi-sharedassets1.assets-3486.ogg","131":"Kiwi-sharedassets1.assets-3815.ogg","132":"AtlanticPuffin-sharedassets1.assets-3312.ogg","133":"Cassowary-sharedassets1.assets-3868.ogg","134":"Shoebill-sharedassets1.assets-3405.ogg","135":"Vulture-sharedassets1.assets-3414.ogg","136":"Stork-sharedassets1.assets-3477.ogg","137":"Frigatebird-sharedassets1.assets-3567.ogg","138":"Hummingbird-sharedassets1.assets-3352.ogg","139":"Frog-sharedassets1.assets-3873.ogg","140":"Bear-sharedassets1.assets-3304.ogg","141":"Moth-sharedassets1.assets-3406.ogg","142":"Triceratops-sharedassets1.assets-3762.ogg","143":"Spinosaurus-sharedassets1.assets-3823.ogg","144":"Stegosaurus-sharedassets1.assets-3467.ogg","145":"Pug-sharedassets1.assets-3482.ogg","146":"SiberianHusky-sharedassets1.assets-3884.ogg","147":"Iguana-sharedassets1.assets-3512.ogg","148":"SabertoothTiger-sharedassets1.assets-3373.ogg","149":"Pillbug-sharedassets1.assets-3642.ogg","151":"Toucan-sharedassets1.assets-3717.ogg","152":"Seahorse-sharedassets1.assets-3368.ogg","153":"Starfish-sharedassets1.assets-3654.ogg","154":"Capybara-sharedassets1.assets-3700.ogg","155":"Zebra-sharedassets1.assets-3828.ogg","157":"Orangutan-sharedassets1.assets-3813.ogg","158":"Racoon-sharedassets1.assets-3784.ogg","159":"Platypus-sharedassets1.assets-3287.ogg","160":"Wasp-sharedassets1.assets-3380.ogg","161":"Chinchilla-sharedassets1.assets-3853.ogg","162":"Toad-sharedassets1.assets-3704.ogg","163":"Yak-sharedassets1.assets-3483.ogg","164":"Salamander-sharedassets1.assets-3710.ogg","165":"Leech-sharedassets1.assets-3293.ogg","166":"Armadillo-sharedassets1.assets-3499.ogg","167":"Hyena-sharedassets1.assets-3683.ogg","168":"Mole-sharedassets1.assets-3478.ogg","169":"Porcupine-sharedassets1.assets-3587.ogg","170":"Wolf-sharedassets1.assets-3271.ogg","171":"Baboon-sharedassets1.assets-3723.ogg","172":"Ferret-sharedassets1.assets-3597.ogg","173":"Weasel-sharedassets1.assets-3795.ogg","174":"Catfish-sharedassets1.assets-3344.ogg","175":"Sealion-sharedassets1.assets-3361.ogg","176":"Cuddlefish-sharedassets1.assets-3557.ogg","177":"Squid-sharedassets1.assets-3708.ogg","178":"Stingray-sharedassets1.assets-3771.ogg","180":"Anglerfish-sharedassets1.assets-3516.ogg","181":"ParadiseBird-sharedassets1.assets-3788.ogg","182":"WhiteWhale-sharedassets1.assets-3471.ogg","184":"Chipmunk-sharedassets1.assets-3830.ogg","185":"Gazelle-sharedassets1.assets-3725.ogg","186":"HighlandCow-sharedassets1.assets-3456.ogg","187":"Opossum-sharedassets1.assets-3681.ogg","188":"GoldenRetriever-sharedassets1.assets-3671.ogg","189":"Bulldog-sharedassets1.assets-3614.ogg","190":"ShrimpMantis-sharedassets1.assets-3371.ogg","191":"SeaTurtle-sharedassets1.assets-3684.ogg","192":"Manatee-sharedassets1.assets-3561.ogg","193":"Aardvark-sharedassets1.assets-3659.ogg","194":"Alpaca-sharedassets1.assets-3358.ogg","195":"Crow-sharedassets1.assets-3750.ogg","196":"Dragonfly-sharedassets1.assets-3745.ogg","197":"EmperorTamarin-sharedassets1.assets-3761.ogg","198":"FrilledDragon-sharedassets1.assets-3617.ogg","199":"Jerboa-sharedassets1.assets-3367.ogg","200":"Lynx-sharedassets1.assets-3749.ogg","202":"Moose-sharedassets1.assets-3436.ogg","203":"Meerkat-sharedassets1.assets-3797.ogg","204":"Marmoset-sharedassets1.assets-3351.ogg","205":"Reindeer-sharedassets1.assets-3509.ogg","206":"WhiteTiger-sharedassets1.assets-3679.ogg","207":"Wombat-sharedassets1.assets-3302.ogg","208":"Tapir-sharedassets1.assets-3510.ogg","209":"Walrus-sharedassets1.assets-3476.ogg","210":"AfricanPenguin-sharedassets1.assets-3772.ogg","212":"Axolotl-sharedassets1.assets-3447.ogg","213":"BelugaSturgeon-sharedassets1.assets-3674.ogg","214":"BettaFish-sharedassets1.assets-3610.ogg","215":"BlackNeckedStilt-sharedassets1.assets-3388.ogg","216":"Chameleon-sharedassets1.assets-3841.ogg","217":"Cobra-sharedassets1.assets-3751.ogg","218":"Cockatoo-sharedassets1.assets-3286.ogg","219":"Crane-sharedassets1.assets-3458.ogg","220":"DoorHeadAnt-sharedassets1.assets-3755.ogg","221":"EgyptianVulture-sharedassets1.assets-3419.ogg","222":"ElephantSeal-sharedassets1.assets-3831.ogg","223":"Emu-sharedassets1.assets-3571.ogg","224":"Falcon-sharedassets1.assets-3657.ogg","225":"Flea-sharedassets1.assets-3835.ogg","226":"FlyingFish-sharedassets1.assets-3284.ogg","227":"FlyingSquirrel-sharedassets1.assets-3794.ogg","228":"FowlBird-sharedassets1.assets-3652.ogg","229":"Gecko-sharedassets1.assets-3289.ogg","230":"GermanShepard-sharedassets1.assets-3601.ogg","231":"Gharial-sharedassets1.assets-3334.ogg","232":"Goose-sharedassets1.assets-3546.ogg","233":"Groundhog-sharedassets1.assets-3574.ogg","234":"HerculesBeetle-sharedassets1.assets-3634.ogg","235":"HoopoeBird-sharedassets1.assets-3283.ogg","236":"Lemur-sharedassets1.assets-3666.ogg","237":"Lizard-sharedassets1.assets-3670.ogg","238":"Macaque-sharedassets1.assets-3861.ogg","239":"Magpie-sharedassets1.assets-3716.ogg","240":"MantaRay-sharedassets1.assets-3818.ogg","241":"Mongoose-sharedassets1.assets-3817.ogg","242":"Mosasaurus-sharedassets1.assets-3550.ogg","245":"MuskOx-sharedassets1.assets-3641.ogg","246":"Nyala-sharedassets1.assets-3690.ogg","247":"Osprey-sharedassets1.assets-3575.ogg","248":"Oyster-sharedassets1.assets-3305.ogg","249":"Pangolin-sharedassets1.assets-3883.ogg","250":"Panther-sharedassets1.assets-3602.ogg","251":"PiedTamarin-sharedassets1.assets-3310.ogg","252":"PoisonDartFrog-sharedassets1.assets-3660.ogg","253":"Pteranodon-sharedassets1.assets-3569.ogg","254":"Puma-sharedassets1.assets-3866.ogg","255":"Robin-sharedassets1.assets-3646.ogg","256":"RoyalFlycatcher-sharedassets1.assets-3625.ogg","257":"SaigaAntelope-sharedassets1.assets-3453.ogg","258":"SeaUrchin-sharedassets1.assets-3846.ogg","259":"SecretaryBird-sharedassets1.assets-3848.ogg","260":"Silkmoth-sharedassets1.assets-3465.ogg","261":"SilverFox-sharedassets1.assets-3343.ogg","262":"Slug-sharedassets1.assets-3537.ogg","263":"Stoat-sharedassets1.assets-3498.ogg","264":"SurgeonFish-sharedassets1.assets-3763.ogg","265":"Vaquita-sharedassets1.assets-3819.ogg","266":"Warthog-sharedassets1.assets-3768.ogg","267":"WhaleShark-sharedassets1.assets-3672.ogg","268":"Wildebeest-sharedassets1.assets-3410.ogg","269":"Wolverine-sharedassets1.assets-3829.ogg","271":"BlueRingedOctopus-sharedassets1.assets-3850.ogg","272":"ConeSnail-sharedassets1.assets-3754.ogg","273":"Doberman-sharedassets1.assets-3746.ogg","274":"FireAnt-sharedassets1.assets-3504.ogg","275":"GrizzlyBear-sharedassets1.assets-3530.ogg","276":"NurseShark-sharedassets1.assets-3877.ogg","277":"SnappingJawTurtle-sharedassets1.assets-3644.ogg","278":"Stonefish-sharedassets1.assets-3636.ogg","330":"AntLion-sharedassets1.assets-3390.ogg","331":"Anubis-sharedassets1.assets-3606.ogg","332":"Basilisk-sharedassets1.assets-3553.ogg","333":"Behemoth-sharedassets1.assets-3484.ogg","334":"Bigfoot-sharedassets1.assets-3880.ogg","336":"Calygreyhound-sharedassets1.assets-3455.ogg","337":"Cerberus-sharedassets1.assets-3559.ogg","338":"Chimera-sharedassets1.assets-3547.ogg","339":"Chupacabra-sharedassets1.assets-3409.ogg","340":"Cockatrice-sharedassets1.assets-3649.ogg","341":"DropBear-sharedassets1.assets-3783.ogg","342":"Fairy-sharedassets1.assets-3779.ogg","343":"FirePup-sharedassets1.assets-3341.ogg","344":"FrostWolf-sharedassets1.assets-3279.ogg","345":"Gargoyle-sharedassets1.assets-3874.ogg","346":"GhostKitten-sharedassets1.assets-3620.ogg","348":"Griffin-sharedassets1.assets-3798.ogg","349":"Headcrab-sharedassets1.assets-3468.ogg","350":"Hippocampus-sharedassets1.assets-3480.ogg","352":"Hydra-sharedassets1.assets-3280.ogg","353":"Jackalope-sharedassets1.assets-3340.ogg","354":"Kitsune-sharedassets1.assets-3487.ogg","355":"Kraken-sharedassets1.assets-3536.ogg","356":"Leviathan-sharedassets1.assets-3759.ogg","357":"Mandrake-sharedassets1.assets-3668.ogg","358":"Manticore-sharedassets1.assets-3719.ogg","359":"Mimic-sharedassets1.assets-3735.ogg","360":"Minotaur-sharedassets1.assets-3812.ogg","362":"Murloc-sharedassets1.assets-3773.ogg","363":"Nessie-sharedassets1.assets-3384.ogg","364":"Ouroboros-sharedassets1.assets-3876.ogg","365":"Pegasus-sharedassets1.assets-3442.ogg","366":"Phoenix-sharedassets1.assets-3736.ogg","367":"Quetzalcoatl-sharedassets1.assets-3440.ogg","368":"RedDragon-sharedassets1.assets-3786.ogg","369":"Roc-sharedassets1.assets-3308.ogg","371":"Sandworm-sharedassets1.assets-3778.ogg","372":"SeaSerpent-sharedassets1.assets-3627.ogg","373":"Shoggoth-sharedassets1.assets-3556.ogg","374":"SkeletonDog-sharedassets1.assets-3539.ogg","375":"Slime-sharedassets1.assets-3446.ogg","376":"Sphinx-sharedassets1.assets-3554.ogg","377":"AxehandleHound-sharedassets1.assets-3715.ogg","378":"TreeEnt-sharedassets1.assets-3395.ogg","379":"Tsuchinoko-sharedassets1.assets-3317.ogg","380":"Unicorn-sharedassets1.assets-3460.ogg","381":"VampireBat-sharedassets1.assets-3688.ogg","382":"Warg-sharedassets1.assets-3398.ogg","383":"Werewolf-sharedassets1.assets-3781.ogg","384":"WhiteKillerRabbit-sharedassets1.assets-3691.ogg","385":"Wyvern-sharedassets1.assets-3692.ogg","386":"Xenomorph-sharedassets1.assets-3680.ogg","387":"Yeti-sharedassets1.assets-3593.ogg","388":"AfricanWildDog-sharedassets1.assets-3650.ogg","389":"AmamiRabbit-sharedassets1.assets-3847.ogg","390":"AmazonRiverDolphin-sharedassets1.assets-3603.ogg","391":"AmsterdamAlbatross-sharedassets1.assets-3604.ogg","392":"Angelshark-sharedassets1.assets-3787.ogg","393":"ArabianTahr-sharedassets1.assets-3331.ogg","394":"AraripeManakin-sharedassets1.assets-3336.ogg","395":"AyeAye-sharedassets1.assets-3785.ogg","396":"BanggaiCardinalfish-sharedassets1.assets-3266.ogg","397":"BayCat-sharedassets1.assets-3591.ogg","398":"BlackRhino-sharedassets1.assets-3338.ogg","399":"BlueWhale-sharedassets1.assets-3372.ogg","400":"BlueThroatedMacaw-sharedassets1.assets-3347.ogg","401":"BombusDahlbomii-sharedassets1.assets-3473.ogg","402":"Bonobo-sharedassets1.assets-3432.ogg","403":"CaliforniaCondor-sharedassets1.assets-3739.ogg","404":"DarwinsFox-sharedassets1.assets-3640.ogg","405":"Drill-sharedassets1.assets-3443.ogg","406":"EthiopianWolf-sharedassets1.assets-3822.ogg","407":"EuropeanMink-sharedassets1.assets-3422.ogg","408":"FanMussel-sharedassets1.assets-3497.ogg","409":"GeometricTortoise-sharedassets1.assets-3594.ogg","410":"GiantOtter-sharedassets1.assets-3801.ogg","411":"GiantPangasius-sharedassets1.assets-3387.ogg","412":"GiantTortoise-sharedassets1.assets-3742.ogg","413":"GreenSeaTurtle-sharedassets1.assets-3881.ogg","414":"HawaiianMonkSeal-sharedassets1.assets-3630.ogg","415":"HelmetedHornbill-sharedassets1.assets-3382.ogg","416":"HumpheadWrasse-sharedassets1.assets-3528.ogg","417":"IliPika-sharedassets1.assets-3535.ogg","418":"IriomoteCat-sharedassets1.assets-3298.ogg","419":"Kakapo-sharedassets1.assets-3631.ogg","420":"LongcombSawfish-sharedassets1.assets-3622.ogg","421":"MalayTapir-sharedassets1.assets-3311.ogg","422":"MonkeyFacedBat-sharedassets1.assets-3878.ogg","423":"PaintedTerrapin-sharedassets1.assets-3802.ogg","424":"PhilippineEagle-sharedassets1.assets-3875.ogg","425":"ProboscisMonkey-sharedassets1.assets-3318.ogg","426":"PygmyHippo-sharedassets1.assets-3764.ogg","427":"PygmyHog-sharedassets1.assets-3362.ogg","428":"RedPanda-sharedassets1.assets-3562.ogg","429":"RolowayMonkey-sharedassets1.assets-3399.ogg","430":"SakerFalcon-sharedassets1.assets-3420.ogg","431":"Saola-sharedassets1.assets-3695.ogg","432":"SilkySifaka-sharedassets1.assets-3589.ogg","433":"SpoonBilledSandpiper-sharedassets1.assets-3415.ogg","434":"SumatranTiger-sharedassets1.assets-3299.ogg","435":"TaitaShrew-sharedassets1.assets-3392.ogg","436":"TaitaThrush-sharedassets1.assets-3520.ogg","437":"TasmanianDevil-sharedassets1.assets-3758.ogg","438":"ToothBilledPigeon-sharedassets1.assets-3323.ogg","439":"Tucuxi-sharedassets1.assets-3413.ogg","440":"VolcanoSnail-sharedassets1.assets-3306.ogg","441":"WhiteBelliedHeron-sharedassets1.assets-3540.ogg","530":"BlueFootedBooby-sharedassets1.assets-3682.ogg","531":"GreaterSageGrouse-sharedassets1.assets-3423.ogg","532":"MarineIguana-sharedassets1.assets-3626.ogg","534":"TreeKangaroo-sharedassets1.assets-3500.ogg","535":"Albatross-sharedassets1.assets-3508.ogg","536":"Ammonite-sharedassets1.assets-3374.ogg","537":"Bass-sharedassets1.assets-3325.ogg","539":"Cardinal-sharedassets1.assets-3359.ogg","540":"Centipede-sharedassets1.assets-3353.ogg","541":"Chihuahua-sharedassets1.assets-3570.ogg","542":"Chimpanzee-sharedassets1.assets-3596.ogg","543":"Dimetrodon-sharedassets1.assets-3448.ogg","544":"Dugong-sharedassets1.assets-3834.ogg","545":"DumboOctopus-sharedassets1.assets-3349.ogg","546":"Elk-sharedassets1.assets-3859.ogg","547":"FairyArmadillo-sharedassets1.assets-3263.ogg","548":"Firefly-sharedassets1.assets-3840.ogg","549":"Fossa-sharedassets1.assets-3566.ogg","550":"Gibbon-sharedassets1.assets-3770.ogg","551":"Hare-sharedassets1.assets-3370.ogg","552":"HarpyEagle-sharedassets1.assets-3322.ogg","553":"Ibex-sharedassets1.assets-3378.ogg","554":"Jackal-sharedassets1.assets-3328.ogg","555":"Lemming-sharedassets1.assets-3383.ogg","556":"Maltese-sharedassets1.assets-3416.ogg","557":"OrchidMantis-sharedassets1.assets-3852.ogg","558":"Pheasant-sharedassets1.assets-3675.ogg","559":"Pigeon-sharedassets1.assets-3529.ogg","560":"Pony-sharedassets1.assets-3507.ogg","561":"RealVelociraptor-sharedassets1.assets-3765.ogg","562":"Salmon-sharedassets1.assets-3526.ogg","563":"SeaAnemone-sharedassets1.assets-3393.ogg","564":"SeaCucumber-sharedassets1.assets-3702.ogg","565":"Siamese-sharedassets1.assets-3707.ogg","566":"Silverfish-sharedassets1.assets-3849.ogg","567":"Sparrow-sharedassets1.assets-3732.ogg","568":"Sunfish-sharedassets1.assets-3364.ogg","569":"TarantulaHawk-sharedassets1.assets-3355.ogg","570":"Tardigrade-sharedassets1.assets-3385.ogg","571":"Termite-sharedassets1.assets-3613.ogg","572":"Tuna-sharedassets1.assets-3637.ogg","573":"VenusFlytrap-sharedassets1.assets-3275.ogg","601":"Bunyip-sharedassets1.assets-3743.ogg","603":"Bakunawa-sharedassets1.assets-3722.ogg","604":"Mothman-sharedassets1.assets-3426.ogg","605":"NightCrawler-sharedassets1.assets-3274.ogg","606":"Sleipnir-sharedassets1.assets-3803.ogg","607":"ThorGoat1-sharedassets1.assets-3857.ogg","610":"Thunderbird-sharedassets1.assets-3421.ogg","611":"CuddleToad-sharedassets1.assets-3472.ogg","612":"OldMouse-sharedassets1.assets-3579.ogg","613":"BadDog-sharedassets1.assets-3856.ogg","616":"QuestingBeast-sharedassets1.assets-3647.ogg","617":"EggLadCovered-sharedassets1.assets-3845.ogg","619":"Pixiu-sharedassets1.assets-3485.ogg","621":"Barghest-sharedassets1.assets-3885.ogg","622":"Rootler-sharedassets1.assets-3767.ogg","623":"LuckyCat-sharedassets1.assets-3291.ogg","624":"Leafling-sharedassets1.assets-3345.ogg","625":"FuLion-sharedassets1.assets-3401.ogg","626":"AlchemistBug-sharedassets1.assets-3321.ogg","627":"Pengobble-sharedassets1.assets-3776.ogg","628":"Baku-sharedassets1.assets-3837.ogg","630":"Cyclops-sharedassets1.assets-3521.ogg","631":"Amalgam-sharedassets1.assets-3269.ogg","633":"ForestSpirit-sharedassets1.assets-3525.ogg","634":"DwarvenBeetle-sharedassets1.assets-3583.ogg","635":"ManaHound-sharedassets1.assets-3434.ogg","636":"TeamSpirit-sharedassets1.assets-3701.ogg","639":"Ogopogo-sharedassets1.assets-3411.ogg","640":"LovelandFrogman-sharedassets1.assets-3391.ogg","651":"Wendigo-sharedassets1.assets-3549.ogg","652":"JerseyDevil-sharedassets1.assets-3629.ogg","653":"FurBearingTrout-sharedassets1.assets-3729.ogg","654":"Tatzelwurm-sharedassets1.assets-3865.ogg","655":"Kappa-sharedassets1.assets-3329.ogg","656":"Boitata-sharedassets1.assets-3412.ogg","657":"Nurikabe-sharedassets1.assets-3519.ogg","686":"AlbinoSquirrel-sharedassets1.assets-3531.ogg","687":"BlackBear-sharedassets1.assets-3503.ogg","688":"BrahmaChicken-sharedassets1.assets-3757.ogg","689":"FarmerCat-sharedassets1.assets-3375.ogg","690":"FarmerChicken-sharedassets1.assets-3832.ogg","691":"FarmerCrow-sharedassets1.assets-3324.ogg","692":"FarmerDog-sharedassets1.assets-3538.ogg","693":"FarmerMouse-sharedassets1.assets-3295.ogg","694":"FarmerPig-sharedassets1.assets-3365.ogg","695":"FruitFly-sharedassets1.assets-3870.ogg","696":"Gelada-sharedassets1.assets-3806.ogg","697":"GreatPotoo-sharedassets1.assets-3491.ogg","698":"Locust-sharedassets1.assets-3752.ogg","700":"Mink-sharedassets1.assets-3495.ogg","701":"Pangasius-sharedassets1.assets-3492.ogg","702":"Quail-sharedassets1.assets-3297.ogg","703":"QueenBee-sharedassets1.assets-3667.ogg","704":"Quoll-sharedassets1.assets-3724.ogg","705":"SugarGlider-sharedassets1.assets-3665.ogg","706":"Trout-sharedassets1.assets-3607.ogg","707":"Vervet-sharedassets1.assets-3326.ogg","708":"Weevil-sharedassets1.assets-3728.ogg","711":"VampireSquid-sharedassets1.assets-3706.ogg","712":"MimicOctopus-sharedassets1.assets-3694.ogg","713":"TogianBabirusa-sharedassets1.assets-3805.ogg","715":"Takhi-sharedassets1.assets-3799.ogg","716":"SnowLeopard-sharedassets1.assets-3872.ogg","717":"Hirola-sharedassets1.assets-3774.ogg","719":"Takin-sharedassets1.assets-3490.ogg","720":"GoldenTamarin-sharedassets1.assets-3396.ogg","721":"DungBeetle-sharedassets1.assets-3496.ogg","722":"SilkieChicken-sharedassets1.assets-3532.ogg","723":"LeafySeaDragon-sharedassets1.assets-3731.ogg","724":"Mandarinfish-sharedassets1.assets-3678.ogg","725":"Olm-sharedassets1.assets-3563.ogg","726":"HonduranWhiteBat-sharedassets1.assets-3427.ogg","727":"SpiderCrab-sharedassets1.assets-3809.ogg","728":"GlaucusAtlanticus-sharedassets1.assets-3628.ogg","729":"PoodleMoth-sharedassets1.assets-3294.ogg","730":"Andrewsarchus-sharedassets1.assets-3479.ogg","731":"ThornyDragon-sharedassets1.assets-3572.ogg","732":"PinkRobin-sharedassets1.assets-3552.ogg","733":"PatagonianMara-sharedassets1.assets-3760.ogg","734":"Platybelodon-sharedassets1.assets-3609.ogg","735":"SpottedHandfish-sharedassets1.assets-3664.ogg","736":"JewelCaterpillar-sharedassets1.assets-3522.ogg","740":"Gerenuk-sharedassets1.assets-3756.ogg","742":"RedLippedBatfish-sharedassets1.assets-3796.ogg","743":"Markhor-sharedassets1.assets-3582.ogg","744":"PurpleFrog-sharedassets1.assets-3661.ogg","745":"PeacockSpider-sharedassets1.assets-3677.ogg","746":"LongWattledUmbrellabird-sharedassets1.assets-3342.ogg","748":"Deinocheirus-sharedassets1.assets-3264.ogg","749":"Lamprey-sharedassets1.assets-3693.ogg","750":"SatanicLeafTailedGecko-sharedassets1.assets-3301.ogg","751":"Quetzalcoatlus-sharedassets1.assets-3565.ogg","752":"GiantIsopod-sharedassets1.assets-3404.ogg","753":"HoodedSeal-sharedassets1.assets-3653.ogg","754":"GoblinShark-sharedassets1.assets-3696.ogg","755":"Hoatzin-sharedassets1.assets-3586.ogg","756":"YetiCrab-sharedassets1.assets-3863.ogg","757":"Nudibranchs-sharedassets1.assets-3400.ogg","758":"Bilby-sharedassets1.assets-3619.ogg","759":"Therizinosaurus-sharedassets1.assets-3590.ogg","760":"WhiteBootedRacketTail-sharedassets1.assets-3623.ogg","761":"PygmySeahorse-sharedassets1.assets-3673.ogg","763":"SarcasticFringehead-sharedassets1.assets-3833.ogg","765":"Roadrunner-sharedassets1.assets-3744.ogg","766":"YellowBoxFish-sharedassets1.assets-3303.ogg","768":"DesertRainFrog-sharedassets1.assets-3821.ogg","769":"Dunkleosteus-sharedassets1.assets-3418.ogg","770":"Estemmenosuchus-sharedassets1.assets-3685.ogg","772":"Amargasaurus-sharedassets1.assets-3320.ogg","773":"BabyCthulhu-sharedassets1.assets-3461.ogg","774":"BlueJay-sharedassets1.assets-3333.ogg","775":"Budgie-sharedassets1.assets-3277.ogg","776":"FlounderYoung-sharedassets1.assets-3777.ogg","779":"CoconutCrab-sharedassets1.assets-3488.ogg","781":"EagleOwl-sharedassets1.assets-3824.ogg","782":"Akhlut-sharedassets1.assets-3573.ogg","783":"HermitCrab-sharedassets1.assets-3444.ogg","784":"Namazu-sharedassets1.assets-3319.ogg","785":"Ahuizotl-sharedassets1.assets-3428.ogg","786":"Caladrius-sharedassets1.assets-3741.ogg","787":"Cuckoo-sharedassets1.assets-3633.ogg","788":"CuckooBaby-sharedassets1.assets-3551.ogg","791":"VampireParrot-sharedassets1.assets-3348.ogg","796":"Barnacle-sharedassets1.assets-3645.ogg","797":"Bloodhound-sharedassets1.assets-3439.ogg","798":"BrazillianTreehopper-sharedassets1.assets-3864.ogg","800":"GiantSquirrel-sharedassets1.assets-3713.ogg","801":"PacificFanfish-sharedassets1.assets-3354.ogg","802":"RuspolisTuraco-sharedassets1.assets-3313.ogg","803":"ShimaEnaga-sharedassets1.assets-3862.ogg","804":"SpinyBushViper-sharedassets1.assets-3639.ogg","805":"Tadpole-sharedassets1.assets-3462.ogg","806":"TerrorBird-sharedassets1.assets-3697.ogg","807":"WoollyRhino-sharedassets1.assets-3599.ogg","808":"Lusca-sharedassets1.assets-3281.ogg","811":"Amphisbaena-sharedassets1.assets-3470.ogg","812":"Tarasque-sharedassets1.assets-3600.ogg","823":"MochaDick-sharedassets1.assets-3581.ogg","824":"Tanystropheus-sharedassets1.assets-3417.ogg"}}')},40781(O,S,i){i.d(S,{X:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Tarasque";tier=5;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Tarasque Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,l=[.25,.5,.75][Math.min(Math.max(t.level-1,0),2)],r=t.parent.petArray.filter(F=>F&&F.alive);if(0===r.length)return void this.triggerTigerExecution(e);let u=0,g=0;for(const F of r){const j=Math.floor(F.attack*l),ee=Math.floor(F.health*l);F.attack=Math.max(1,F.attack-j),F.health=Math.max(1,F.health-ee),u+=j,g+=ee}const f=Math.floor(u/r.length),D=Math.floor(g/r.length),k=u%r.length,L=g%r.length;for(let F=0;F<r.length;F++){const j=r[F];let ee=f+(F<k?1:0),J=D+(F<L?1:0);ee>0&&j.increaseAttack(ee),J>0&&j.increaseHealth(J)}this.logService.createLog({message:`${t.name} redistributed ${u}/${g} stats across ${r.length} pets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},40804(O,S,i){i.d(S,{G:()=>c});var P=i(22097);class c extends P.${name="Bok Choy";equipmentClass="shop";tier=2}},40830(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Sarcastic Fringehead";tier=3;pack="Custom";attack=4;health=7;initAbilities(){this.addAbility(new _(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,l,r,u,f,D)}}class _ extends c.T{logService;petService;constructor(e,t,n){super({name:"SarcasticFringeheadAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=t,this.petService=n}spawnForOpponent(e){const t=this.owner,n=t.parent.opponent;if(0===(t.swallowedPets?.length??0)){const a=t.sarcasticFringeheadSwallowedPet;if(a){const l=this.petService.createPet({name:a,attack:1,health:1,exp:t.minExpForLevel,equipment:null,mana:0},t.parent);l&&t.swallowedPets.push(l)}}for(;t.swallowedPets.length>0;){const a=t.swallowedPets.shift();if(!a)continue;a.parent=n;const l=n.summonPet(a,0,!1);l.success&&this.logService.createLog({message:`${t.name} spawned ${a.name} for the opponent.`,type:"ability",player:t.parent,tiger:e.tiger,randomEvent:l.randomEvent})}}executeAbility(e){this.spawnForOpponent(e),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.petService)}}},40970(O,S,i){i.d(S,{s:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Manta Ray";tier=4;pack="Golden";attack=5;health=7;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"MantaRayAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;let n=!1;for(let l=0;l<5;l++)if(null==t.parent.getPetAtPosition(l)){n=!0;break}n?(this.logService.createLog({message:`${t.name} will give +${2*this.level} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},41074(O,S,i){i.d(S,{j:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Leviathan";tier=6;pack="Custom";attack=6;health=10;initAbilities(){this.addAbility(new _(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,l,r,u,f,D)}}class _ extends c.T{logService;petService;constructor(e,t,n){super({name:"LeviathanAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.petService=n}executeAbility(e){const t=this.owner,{tiger:n,pteranodon:a}=e,l=6*this.level,r=2*this.level,u=this.petService.createPet({name:"Fish",attack:l,health:l,mana:0,exp:0,equipment:null,triggersConsumed:0},t.parent);u.increaseExp(r);const g=t.parent.summonPet(u,t.savedPosition,!1,t);g.success&&this.logService.createLog({message:`${t.name} summoned ${u.name} (${l}/${l}) and granted ${r} exp.`,type:"ability",player:t.parent,tiger:n,pteranodon:a,randomEvent:g.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.petService)}}},41080(O,S,i){i.d(S,{b:()=>_});var P=i(68189);const _=new(i(76228).q)(P.R)},41270(O,S,i){i.d(S,{A:()=>t});var P=i(30554),c=i(35776),A=i(53600),v=Object.prototype.hasOwnProperty;const t=function e(n){if(!(0,P.A)(n))return(0,A.A)(n);var a=(0,c.A)(n),l=[];for(var r in n)"constructor"==r&&(a||!v.call(n,r))||l.push(r);return l}},41271(O,S,i){i.d(S,{R:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Salmon";tier=1;pack="Star";attack=5;health=5;hidden=!0;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SalmonAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=1+Math.floor(r.health/25),g=5*this.level;for(let f=0;f<u;f++){let D=r.parent.opponent.getRandomPet([],!1,!0,!1,r);D.pet&&r.snipePet(D.pet,g,D.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},41504(O,S,i){i.d(S,{W:()=>A});var P=i(50873),c=i(17385);class A extends P.L{logService;toyService;petService;name="Stuffed Bear";tier=1;faintCount=0;constructor(v,e,t,n,a){super(v,e,n,a),this.logService=v,this.toyService=e,this.petService=t}friendFaints(v,e,t,n){if(this.faintCount+=1,this.faintCount%3!=0)return;const a=this.parent.getLastPet();if(!a.pet)return;const l=a.pet,r=(0,c.e)(l.equipment),u=this.parent.opponent,g=this.petService.createPet({name:l.name,attack:l.attack,health:l.health,exp:l.exp??0,mana:l.mana??0,equipment:r},u);g.toyPet=!0,u.summonPet(g,0).success&&this.logService.createLog({message:`${this.name} summoned an enemy copy of ${l.name}.`,type:"ability",player:this.parent,puma:t})}}},41604(O,S,i){i.d(S,{F:()=>_});var P=i(46200),c=i(5615),A=i(32232);class _ extends P.i{logService;abilityService;name="Blue-Footed Booby";tier=4;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Blue-Footed Booby Ability",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,l=this.owner;if(l.parent.trumpets<4)return void this.triggerTigerExecution(t);const g=l.getPetsBehind(1,"Melon Slice")[0];if(!g||!g.alive)return void this.triggerTigerExecution(t);l.parent.spendTrumpets(4,l);const f=new A.o;f.uses=this.level,f.originalUses=f.uses,g.givePetEquipment(f),this.logService.createLog({message:`${l.name} spent 4 trumpets to give ${g.name} a Melon Slice (${f.uses} uses).`,type:"ability",player:l.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},41752(O,S,i){i.d(S,{G:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Groundhog";tier=1;pack="Golden";attack=2;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GroundhogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{pteranodon:l}=e,r=this.owner,u=r.parent.resolveTrumpetGainTarget(r);u.player.gainTrumpets(this.level,r,l,void 0,void 0,u.random),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},41795(O,S,i){i.d(S,{A:()=>e});var P=i(42619),c=i(20778),A=i(33340),_=A.A&&A.A.isMap;const e=_?(0,c.A)(_):P.A},41837(O,S,i){i.d(S,{E:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Platybelodon";tier=4;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PlatybelodonAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:a}=e,r=this.owner;let u=0;r.parent===t.player?u=t.playerRollAmount||0:r.parent===t.opponent&&(u=t.opponentRollAmount||0);let g=this.level*Math.min(u,8);if(g>0){const f=r.parent.resolveTrumpetGainTarget(r);f.player.gainTrumpets(g,r,a,void 0,void 0,f.random)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},41885(O,S,i){i.d(S,{A:()=>c});const c=function P(A,_){return A?.[_]}},41943(O,S,i){i.d(S,{z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Bus";tier=1;pack="Turtle";hidden=!0;health=3;attack=5;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BusAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},42075(O,S,i){i.d(S,{u:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Orangutan";tier=3;pack="Star";attack=1;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"OrangutanAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t.parent.getLowestHealthPet(t),a=n.pet;if(!a)return void this.triggerTigerExecution(e);const l=3*this.level;a.increaseHealth(l),this.logService.createLog({message:`${t.name} gave ${a.name} +${l} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},42280(O,S,i){i.d(S,{A:()=>_});var P=i(16080);const _=function A(v){return(0,P.A)(v,4)}},42294(O,S,i){function P(v,e,t){for(const n of v.getTeam(e))v.triggerAbility(n,"FoodEatenByAny",e),v.triggerAbility(n,"FoodEatenByFriendly",e),n==e?(v.triggerAbility(n,"FoodEatenByThis",e),"apple"===t?(v.triggerAbility(n,"AppleEatenByThis",e),v.handleNumberedCounterTriggers(n,e,void 0,v.getNumberedTriggersForPet(n,"AppleEatenByThis"))):"corn"===t&&v.triggerAbility(n,"CornEatenByThis",e),v.handleNumberedCounterTriggers(n,e,void 0,v.getNumberedTriggersForPet(n,"Eat"))):(v.triggerAbility(n,"FoodEatenByFriend",e),"corn"===t&&v.triggerAbility(n,"CornEatenByFriend",e));for(const n of v.getTeam(e.parent?.opponent))v.triggerAbility(n,"FoodEatenByAny",e)}function c(v,e,t){for(const n of v.getTeam(e))v.triggerAbility(n,"FriendlyGainsPerk",e),"Strawberry"===t&&v.triggerAbility(n,"FriendlyGainedStrawberry",e),n==e?(v.triggerAbility(n,"ThisGainedPerk",e),"Strawberry"===t&&v.triggerAbility(n,"ThisGainedStrawberry",e)):(v.triggerAbility(n,"FriendGainsPerk",e),"Strawberry"===t&&v.triggerAbility(n,"FriendGainedStrawberry",e))}function A(v,e,t){for(const n of v.getTeam(e))v.triggerAbility(n,"PetLostPerk",e),"strawberry"===t&&v.triggerAbility(n,"LostStrawberry",e),n==e?v.triggerAbility(n,"ThisLostPerk",e):(v.triggerAbility(n,"FriendLostPerk",e),"strawberry"===t&&v.triggerAbility(n,"FriendLostStrawberry",e));for(const n of v.getTeam(e.parent?.opponent))v.triggerAbility(n,"PetLostPerk",e)}function _(v,e,t){for(const n of v.getTeam(e))v.triggerAbility(n,"AnyoneGainedAilment",e),v.triggerAbility(n,n==e?"ThisGainedAilment":"FriendGainsAilment",e),"weak"===t&&v.triggerAbility(n,"AnyoneGainedWeak",e);for(const n of v.getTeam(e.parent?.opponent))v.triggerAbility(n,"EnemyGainedAilment",e),v.triggerAbility(n,"AnyoneGainedAilment",e),"weak"===t&&v.triggerAbility(n,"AnyoneGainedWeak",e)}i.d(S,{$f:()=>_,Jo:()=>c,hu:()=>A,yB:()=>P})},42377(O,S,i){i.d(S,{j:()=>t});var P=i(46200),c=i(5615),A=i(1152),_=i(58857),v=i(61850),e=i(79222);class t extends P.i{logService;abilityService;petService;name="Hippogriff";tier=5;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new n(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(l,r,u,g,f,D,k,L,F,j){super(l,r,g),this.logService=l,this.abilityService=r,this.petService=u,this.initPet(L,f,D,k,F,j)}}class n extends c.T{logService;abilityService;petService;pendingBuffs=new Map;constructor(l,r,u,g){super({name:"Hippogriff Ability",owner:l,triggers:["FriendSummoned","EndTurn","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:l.level,abilityFunction:f=>this.executeAbility(f)}),this.logService=r,this.abilityService=u,this.petService=g}executeAbility(l){const{trigger:r,triggerPet:u,gameApi:g}=l;if("FriendSummoned"===r){const L=(0,A.Uj)(this.owner,u);L.pet&&this.applyTemporaryBuff(L.pet,l,L.random)}else"EndTurn"===r?this.resetBuffs():"PostRemovalFaint"===r&&this.summonNextTierPet(g,l);this.triggerTigerExecution(l)}applyTemporaryBuff(l,r,u){const g=this.owner,f=this.level;l.increaseAttack(f);const D=this.pendingBuffs.get(l)??0;this.pendingBuffs.set(l,D+f),(0,A.rv)(this.logService,g,`${g.name} gave ${l.name} +${f} attack until next turn.`,r.tiger,r.pteranodon,{randomEvent:u})}resetBuffs(){for(const[l,r]of this.pendingBuffs)l&&l.increaseAttack(-r);this.pendingBuffs.clear()}summonNextTierPet(l,r){const u=this.owner;if(!l)return;const g=Number.isFinite(l.previousShopTier)?l.previousShopTier:1,f=Math.min(6,Math.max(1,g+1)),D=ie=>(ie??[]).filter(oe=>oe&&u.name&&oe.toLowerCase()!==u.name.toLowerCase()),k=u.parent===l.player?l.playerPetPool:l.opponentPetPool;let L=D(k?.get(f));if(L?.length||(L=D(this.petService.allPets.get(f))),L?.length||(L=D(this.petService.allPets.get(1))),!L.length)return;const F=(0,_.k6)({key:"pet.hippogriff-faint-summon",label:(0,e.I)(u,`Hippogriff tier ${f} summon`),options:L.map(ie=>({id:ie,label:ie}))},()=>(0,v.hw)(0,L.length-1)),ee=5*this.level,J=this.petService.createPet({name:L[F.index],attack:ee,equipment:null,exp:0,health:ee,mana:0},u.parent);u.parent.summonPet(J,u.savedPosition,!1,u).success&&this.logService.createLog({message:`${u.name} spawned a ${J.attack}/${J.health} ${J.name} from tier ${f}.`,type:"ability",player:u.parent,tiger:r.tiger,randomEvent:F.randomEvent,pteranodon:r.pteranodon})}copy(l){return new n(l,this.logService,this.abilityService,this.petService)}}},42381(O,S,i){i.d(S,{d:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Eel";tier=3;pack="Custom";attack=4;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Eel Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,l=.5*this.level,r=Math.floor(a.health*l);a.increaseHealth(r),this.logService.createLog({message:`${a.name} gained +${r} health (+${100*l}%).`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},42390(O,S,i){i.d(S,{T:()=>_});var P=i(46200),c=i(5615),A=i(85871);class _ extends P.i{logService;abilityService;name="Tree Kangaroo";tier=3;pack="Danger";attack=3;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"TreeKangarooAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{gameApi:n,tiger:l,pteranodon:r}=t,u=this.owner;let k=[...u.parent.getPetsWithEquipmentWithSillyFallback("perk",u),...u.parent.opponent.petArray.filter(j=>"Tree Kangaroo"==j.name),...u.parent.petArray.filter(j=>"Tree Kangaroo"==j.name)],L=u.parent.opponent.getLastPet(k,u),F=L.pet;F&&(F.givePetEquipment(new A.E),this.logService.createLog({message:`${u.name} gave ${F.name} Silly`,type:"ability",tiger:l,player:u.parent,randomEvent:L.random}));for(let j=0;j<this.level;j++){let J=u.parent.getSpecificPet(u,F).pet;if(J){this.logService.createLog({message:`${u.name} activated ${F.name}'s ability.`,type:"ability",tiger:l,player:u.parent,randomEvent:L.random});for(const V of J.abilityList)V.execute(n,J,l,r)}}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},42495(O,S,i){i.d(S,{A:()=>c});const c=function P(A){var _=this.has(A)&&delete this.__data__[A];return this.size-=_?1:0,_}},42504(O,S,i){i.d(S,{f:()=>A});var P=i(50873);i(5615);class A extends P.L{name="Golden Harp";tier=4}},42589(O,S,i){i.d(S,{Y:()=>_});var P=i(46200),c=i(8178),A=i(5615);class _ extends P.i{logService;abilityService;name="Nessie";tier=5;pack="Unicorn";attack=3;health=5;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"NessieAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{gameApi:n,tiger:l,pteranodon:r}=t,u=this.owner,D=3*this.level,k=3*this.level;let L=D,F=k,j="";const ee=!u.parent.summonedBoatThisBattle;if(ee){const oe=(u.parent===n.player?n.playerRollAmount:n.opponentRollAmount)*this.level;L+=oe,F+=oe,u.parent.summonedBoatThisBattle=!0}L=Math.min(50,L),F=Math.min(50,F),ee&&(j=` It's the first Boat, so it gains +${Math.max(0,L-D)}/+${Math.max(0,F-k)}!`);let J=new c.p(this.logService,this.abilityService,u.parent,F,L,0),V=u.parent.summonPet(J,u.savedPosition,!1,u);V.success&&this.logService.createLog({message:`${u.name} spawned a Nessie? ${L}/${F}${j}`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:V.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},42619(O,S,i){i.d(S,{A:()=>v});var P=i(63080),c=i(42661);const v=function _(e){return(0,c.A)(e)&&"[object Map]"==(0,P.A)(e)}},42655(O,S,i){i.d(S,{A:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Zombie Fly";tier=1;pack="Turtle";hidden=!0;health=4;attack=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ZombieFlyAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},42661(O,S,i){i.d(S,{A:()=>c});const c=function P(A){return null!=A&&"object"==typeof A}},42697(O,S,i){i.d(S,{A:()=>t});var P=i(71861),c=i(26032),_=Object.prototype.propertyIsEnumerable,v=Object.getOwnPropertySymbols;const t=v?function(n){return null==n?[]:(n=Object(n),(0,P.A)(v(n),function(a){return _.call(n,a)}))}:c.A},42704(O,S,i){i.d(S,{Jd:()=>a,MR:()=>u,Nq:()=>e,O3:()=>_,Oc:()=>v,Rh:()=>l,UK:()=>A,_w:()=>r,gK:()=>t,p5:()=>f,vn:()=>g,xF:()=>n});var P=i(33524),c=i(77856);const A=(D,k,L,F)=>{if(L&&(0,P.ku)(L))return{pets:[...D.petArray,...D.opponent.petArray].filter(J=>J.alive),random:!1};let j=k?[...D.petArray,...D.opponent.petArray]:[...D.petArray];return F&&(j=j.filter(ee=>ee!==L)),j=j.filter(ee=>ee.alive),{pets:j,random:!1}},_=(D,k)=>{if(k&&(0,P.ku)(k))return(0,c.WB)(D,[k],!0);const L=D.getPet(2);return L&&!L.alive?{pet:null,random:!1}:{pet:L??null,random:!1}},v=(D,k,L)=>{if(L&&(0,P.ku)(L))return(0,c.WB)(D,[L],!0);for(const F of[...D.petArray].reverse())if(F.alive&&(!k||!k.includes(F)))return{pet:F,random:!1};return{pet:null,random:!1}},e=(D,k,L,F)=>{if(F&&(0,P.ku)(F))return(0,c.BR)(D,k,!0,[F]);const j=[...D.petArray].filter(V=>V.alive&&(!L||!L.includes(V)));return 0===j.length?{pets:[],random:!1}:{pets:[...j].reverse().slice(0,k),random:!1}},t=(D,k,L)=>{if(k&&(0,P.ku)(k))return(0,c.WB)(D,[k],!0);for(const F of D.petArray)if(F.alive){if(L&&L.includes(F))continue;return{pet:F,random:!1}}return{pet:null,random:!1}},n=(D,k,L,F)=>{if(F&&(0,P.ku)(F))return(0,c.BR)(D,k,!0,[F]);const j=[...D.petArray].filter(J=>J.alive&&(!L||!L.includes(J)));return 0===j.length?{pets:[],random:!1}:{pets:j.slice(0,k),random:!1}},a=(D,k,L,F)=>{if(L&&(0,P.ku)(L)){const V=F?[...F]:[];return V.includes(L)||V.push(L),(0,c.BR)(D,k,!0,V)}return{pets:L.getPetsBehind(2*k).filter(V=>!F||!F.includes(V)).slice(0,k),random:!1}},l=(D,k)=>k&&(0,P.ku)(k)?(0,c.WB)(D,[k],!0):{pet:k,random:!1},r=(D,k,L)=>k&&(0,P.ku)(k)?(0,c.WB)(D,void 0,!0):L&&L.alive?{pet:L,random:!1}:{pet:null,random:!1},u=(D,k,L,F,j,ee)=>{if(L&&(0,P.ku)(L)){const ie=F?[...F]:[];return ie.includes(L)||ie.push(L),(0,c.BR)(D,k,!0,ie)}const J=[];let V=L.petAhead;for(;V&&!(J.length>=k);)ee&&V.equipment?.name===ee||(!F||!F.includes(V))&&J.push(V),V=V.petAhead;if(J.length<k&&j){let ie=D.opponent.furthestUpPet;for(;ie&&!(J.length>=k);)ee&&ie.equipment?.name===ee||(!F||!F.includes(ie))&&J.push(ie),ie=ie.petBehind()}return{pets:J,random:!1}},g=(D,k,L)=>{if(k&&(0,P.ku)(k))return(0,c.BR)(D,2*L,!0,[k]);const F=k.savedPosition,j=[];for(const ee of D.petArray)if(ee.alive&&ee!==k){const J=Math.abs(ee.position-F);J>0&&J<=L&&j.push(ee)}for(const ee of D.opponent.petArray)ee.alive&&F+ee.position+1<=L&&j.push(ee);return{pets:j,random:!1}},f=(D,k)=>{if(k&&(0,P.ku)(k))return(0,c.WB)(D,[k],!0);const L=k.position;let F=(0,P.Ye)(D.opponent,L);if(F&&F.alive)return{pet:F,random:!1};for(let j=1;j<=4;j++){if(F=(0,P.Ye)(D.opponent,L+j),F&&F.alive)return{pet:F,random:!1};if(F=(0,P.Ye)(D.opponent,L-j),F&&F.alive)return{pet:F,random:!1}}return{pet:null,random:!1}}},42727(O,S,i){i.d(S,{w:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Mosquito";tier=1;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MosquitoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,null,null,!0,r);for(let g of u.pets)null!=g&&r.snipePet(g,1,u.random,a);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},42797(O,S,i){i.d(S,{d:()=>_});var P=i(46200),c=i(5615),A=i(81226);class _ extends P.i{logService;abilityService;name="Bear";tier=3;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"BearAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner,g=this.level,f=u.savedPosition,D=[];for(const k of u.parent.petArray)if(k.alive){const L=Math.abs(k.position-f);L>0&&L<=g&&D.push(k)}for(const k of u.parent.opponent.petArray)k.alive&&f+k.position+1<=g&&D.push(k);for(let k of D)k.givePetEquipment(new A.c(this.logService,this.abilityService)),this.logService.createLog({message:`${u.name} gave ${k.name} Honey.`,type:"ability",player:u.parent,tiger:l,pteranodon:r});this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},42798(O,S,i){i.d(S,{f:()=>_});var P=i(46200),c=i(5615),A=i(51838);class _ extends P.i{logService;abilityService;name="Wildebeest";tier=6;pack="Golden";attack=8;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"WildebeestAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,condition:a=>this.owner.parent.trumpets>=2,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let g=u.parent.getThis(u),f=g.pet;null!=f&&(f.givePetEquipment(new A.K),this.logService.createLog({message:`${u.name} gave itself a Coconut.`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:g.random}),u.parent.spendTrumpets(2,u),this.triggerTigerExecution(t))}reset(){super.reset(),this.maxUses=this.level}copy(t){return new v(t,this.logService)}}},42814(O,S,i){i.d(S,{_:()=>P});class P{setAbilityEquipments(){"Eggplant"==this.equipment?.name?(this.equipment.callback(this.asPet()),this.eggplantTouched=!0):this.equipment?.callback&&this.equipment.callback(this.asPet())}getEquippedEquipmentInstance(A){return this.equipment??A}addAbility(A){this.abilityList.push(A)}removeAbility(A,_){const v=this.abilityList.length;return this.abilityList=this.abilityList.filter(e=>!(A&&e.name===A||_&&e.abilityType===_||!A&&!_)),this.abilityList.length<v}getAbilities(A,_){return this.abilityList.filter(v=>!(A&&!v.matchesTrigger(A)||_&&v.abilityType!==_))}getAbilitiesWithTrigger(A,_,v){return this.abilityList.filter(e=>!(A&&!e.matchesTrigger(A)||!e.canUse()||_&&e.abilityType!==_||v&&e.name!==v))}executeAbilities(A,_,v,e,t,n){if(this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(A,_,v,e,t,n);const a=this.getAbilitiesWithTrigger(A,"Pet");for(const r of a)if(r.execute(_,v,e,t,n),this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(A,_,v,e,t,n);const l=this.getAbilitiesWithTrigger(A,"Equipment");for(const r of l)if(r.execute(_,v,e,t,n),this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(A,_,v,e,t,n)}activateAbilities(A,_,v,e,t){const n=this.getAbilities(A,v);for(const a of n)a.execute(_,e,void 0,void 0,t)}copyAbilities(A,_,v){this.transferAbilities(A,_,v,!0)}gainAbilities(A,_,v){this.transferAbilities(A,_,v,!1)}transferAbilities(A,_,v,e){const t=A.getAbilities(void 0,_);e&&this.removeAbility(void 0,_);for(const n of t){const a=n.copy(this.asPet());if(null==a)continue;v&&(a.abilityLevel=v,a.alwaysIgnorePetLevel=!0,a.reset()),a.native=!1;const l=a.abilityFunction,r=A.name;a.abilityFunction=u=>{const g=this.name;this.name=`${this.baseName??g}'s ${r}`;try{l(u)}finally{this.name=g}},this.addAbility(a)}}hasAbility(A,_){return this.getAbilities(A,_).length>0}hasTrigger(A,_,v){return this.getAbilitiesWithTrigger(A,_,v).length>0}isSellPet(){return!!(["Beaver","Duck","Pig","Pillbug","Kiwi","Mouse","Frog","Bass","Tooth Billed Pigeon","Marmoset","Capybara","Platypus"].includes(this.name)||this.originalAbilityList.filter(_=>_.matchesTrigger("ThisSold")&&"Pet"==_.abilityType).length>0)}isFaintPet(){return this.originalAbilityList.filter(A=>(A.matchesTrigger("PostRemovalFaint")||A.matchesTrigger("Faint"))&&"Pet"==A.abilityType).length>0}asPet(){return this}}},42824(O,S,i){i.d(S,{L:()=>v});var P=i(46200),c=i(5615),A=i(29886),_=i(1152);class v extends P.i{logService;abilityService;name="Betta Fish";tier=3;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends c.T{logService;targetedPets=new Set;constructor(n,a){super({name:"Betta Fish Ability",owner:n,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,precondition:l=>{const{triggerPet:r}=l,u=this.owner;if(!(0,_.Re)(u,r,{excludeOwner:!0}))return!1;const f=(0,_.lK)(u,r).pet;return!!f&&!this.targetedPets.has(f)},abilityFunction:l=>{this.executeAbility(l)}}),this.logService=a}reset(){this.maxUses=this.level,this.targetedPets.clear(),super.reset()}executeAbility(n){const{triggerPet:l,tiger:r}=n,g=this.owner;if(!l)return;const D=(0,_.lK)(g,l).pet;D&&(this.targetedPets.add(D),D.givePetEquipment(new A.B),this.logService.createLog({message:`${g.name} gave ${D.name} Guava.`,type:"ability",player:g.parent,tiger:r}),this.triggerTigerExecution(n))}copy(n){return new e(n,this.logService)}}},42916(O,S,i){i.d(S,{W:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Tarantula Hawk";tier=6;pack="Custom";health=2;attack=10;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TarantulaHawkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner,u=Math.floor(r.attack/10);if(u<=0)return;let f=r.parent.opponent.getAll(!1,r).pets;if(0!=f.length){for(let D=0;D<u;D++)for(let k of f)k.increaseHealth(-this.level),this.logService.createLog({message:`${r.name} removed ${this.level} health from ${k.name}`,type:"ability",player:r.parent,tiger:a,pteranodon:l});this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},42917(O,S,i){i.d(S,{A:()=>e});var P=i(35776),c=i(97939),_=Object.prototype.hasOwnProperty;const e=function v(t){if(!(0,P.A)(t))return(0,c.A)(t);var n=[];for(var a in Object(t))_.call(t,a)&&"constructor"!=a&&n.push(a);return n}},43125(O,S,i){i.d(S,{Y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Sealion";tier=4;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"SealionAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level,a=this.level,l=[];let r=t.petBehind();for(;r;)l.push(r),r=r.petBehind();const u=[];let g=t.petAhead;for(;g;)u.push(g),g=g.petAhead;for(const f of l)f.increaseAttack(n);for(const f of u)f.increaseHealth(a);(l.length>0||u.length>0)&&this.logService.createLog({message:`${t.name} gave friends behind +${n} attack and friends ahead +${a} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:l.length+u.length>1}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},43378(O,S,i){i.d(S,{A:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Butterfly";tier=1;pack="Puppy";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ButterflyAbility",owner:e,triggers:["ThisTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;if(!r.alive)return;let g=r.parent.opponent.getStrongestPet(r);g.pet&&(r.health=g.pet.health,r.attack=g.pet.attack,this.logService.createLog({message:`${r.name} copied stats from the strongest enemy (${r.attack}/${r.health}).`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},43422(O,S,i){i.d(S,{Q:()=>_});var P=i(46200),c=i(5615),A=i(51838);class _ extends P.i{logService;abilityService;name="Coconut Crab";tier=6;pack="Custom";attack=4;health=8;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;hasCoconut=!1;constructor(t,n){super({name:"Coconut Crab Ability",owner:t,triggers:["Eat2","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner;if("StartTurn"!==t.trigger){if("Eat2"===t.trigger){const a=new A.K;a.uses=this.level,a.originalUses=this.level,n.givePetEquipment(a),this.hasCoconut=!0,this.logService.createLog({message:`${n.name} gained Coconut perk that works ${1===this.level?"once":2===this.level?"twice":"thrice"} until next turn.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}}else this.hasCoconut&&(n.removePerk(!0),this.hasCoconut=!1)}copy(t){return new v(t,this.logService)}}},43592(O,S,i){i.d(S,{S:()=>c});var P=i(22097);class c extends P.${name="Walnut";tier=1;equipmentClass="shield";power=2;originalPower=2;uses=1;originalUses=1}},43681(O,S,i){i.d(S,{h:()=>g});var P=i(22097),c=i(86785),A=i(90966),_=i(17385),v=i(33127),e=i(78833),t=i(4902),n=i(83028),a=i(47868),l=i(24111),r=i(49230),u=i(1744);let g=(()=>{class f{logService;abilityService;gameService;equipmentService;equipmentCache=new Map;constructor(k,L,F,j){this.logService=k,this.abilityService=L,this.gameService=F,this.equipmentService=j,this.logService=(0,n.V)(this.logService)}createPet(k,L,F,j,ee){const J=k.constructor,V=k.parent,ie=ee??(0,c.l)(k.level);for(const oe of t.M3)if(k instanceof oe)return new oe(this.logService,this.abilityService,L,this.gameService,V,j,F,0,ie);return t.JL.includes(J)?new J(this.logService,this.abilityService,L,V,j,F,0,ie):new J(this.logService,this.abilityService,V,j,F,0,ie)}createPetFromForm(k,L,F,j){const ee=this.normalizePetForm(k),J=this.getPetBuildPlan(ee,j),V=this.resolveEquipment(J.equipmentValue,J.equipmentUses),{name:ie,health:oe,attack:ce,mana:ve,exp:Ee,triggersConsumed:Te,foodsEaten:ke,battlesFought:de}=ee;let Se=ee.hasRandomEvents;void 0===Se&&"function"==typeof F.isPetRandom&&(Se=F.isPetRandom(ie));const it=Ke=>Ke&&J.needsPostInit?(Ke=>{if(!Ke)return Ke;if(null!=ke){const qe=Number(ke);Number.isFinite(qe)&&(Ke.foodsEaten=qe,Ke.originalFoodsEaten=qe)}if(J.hasTimesHurt&&null!=ee.timesHurt&&(Ke.timesHurt=ee.timesHurt,Ke.originalTimesHurt=ee.timesHurt),null!=de){const qe=Number(de);Number.isFinite(qe)&&(Ke.battlesFought=Math.max(0,Math.floor(qe)))}return Se&&(Ke.hasRandomEvents=!0),Ke})((Ke=>(!J.hasParrotData||"Parrot"!==Ke?.name||(0,e.YW)(Ke,ee,e.Kq),Ke))((Ke=>(Ke&&(J.hasSarcastic||J.hasFriendsDied)&&(Ke.sarcasticFringeheadSwallowedPet=ee.sarcasticFringeheadSwallowedPet??null,Ke.friendsDiedBeforeBattle=ee.friendsDiedBeforeBattle??0),Ke))((Ke=>(!J.hasAbominationData||"Abomination"!==Ke?.name||(0,e.YW)(Ke,ee,e.JX),Ke))(J.hasEquipmentUses?this.applyEquipmentUsesOverride(Ke,ee):Ke)))):Ke;if("gameservice"===J.builderKind&&J.PetClass)return it(new(0,J.PetClass)(this.logService,this.abilityService,F,this.gameService,L,oe,ce,ve,Ee,V,Te));if("special"===J.builderKind&&J.specialBuilder){const Ke={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService},qe={...ee,equipment:V};return it(J.specialBuilder(Ke,qe,L,F))}return"petservice"===J.builderKind&&J.PetClass?it(new(0,J.PetClass)(this.logService,this.abilityService,F,L,oe,ce,ve,Ee,V,Te)):"registry"===J.builderKind&&J.PetClass?it(new(0,J.PetClass)(this.logService,this.abilityService,L,oe,ce,ve,Ee,V,Te)):null}applyEquipmentUsesOverride(k,L){return k&&(null!=L.equipmentUses&&(k.equipmentUsesOverride=L.equipmentUses),k)}resolveEquipmentFromForm(k,L){return this.resolveEquipment(k,L)}resolveEquipment(k,L){const F=L??("number"==typeof k?.uses?k.uses:null);if(k instanceof P.$){const ve=(0,_.e)(k);if(null!=F){const Ee=Number(F);Number.isFinite(Ee)&&(ve.uses=Ee,ve.originalUses=Ee)}return ve}const j=this.getEquipmentName(k);if(!j)return null;const ee=v.I.getInjector(),J=this.equipmentService??(ee?ee.get(A.m):null);if(!J)return null;const V=J.getInstanceOfAllEquipment(),ie=J.getInstanceOfAllAilments(),oe=V.get(j)??ie.get(j);if(!oe)return null;const ce=(0,_.e)(oe);if(null!=F){const ve=Number(F);Number.isFinite(ve)&&(ce.uses=ve,ce.originalUses=ve)}return ce}getEquipmentName(k){return k?"string"==typeof k?k:("string"==typeof k.name?k.name:null)||null:null}getPetBuildPlan(k,L){const F=k.name,j=null!=k.equipmentUses,ee="Parrot"===k.name&&(0,e.A_)(k,e.Kq),J="Abomination"===k.name&&(0,e.A_)(k,e.JX),V=null!=k.sarcasticFringeheadSwallowedPet,ie=(k.friendsDiedBeforeBattle??0)>0,oe=(k.timesHurt??0)>0;let Te,ke,Ee="missing";return t.Iq[F]?(Ee="gameservice",Te=t.Iq[F]):t.ul[F]?(Ee="special",ke=t.ul[F]):t.Db[F]?(Ee="petservice",Te=t.Db[F]):L[F]&&(Ee="registry",Te=L[F]),{name:F,builderKind:Ee,PetClass:Te,specialBuilder:ke,needsPostInit:j||ee||J||V||ie||oe||null!=k.foodsEaten,hasParrotData:ee,hasAbominationData:J,hasSarcastic:V,hasFriendsDied:ie,hasTimesHurt:oe,hasEquipmentUses:j,equipmentValue:k.equipment??null,equipmentUses:k.equipmentUses??null}}normalizePetForm(k){if("Abomination"!==k.name)return k;const L={...k},F=L,j=[1,2,3];for(const oe of j){const ce=`abominationSwallowedPet${oe}`,ve=`abominationSwallowedPet${oe}Level`,Ee=`abominationSwallowedPet${oe}TimesHurt`,Te=`abominationSwallowedPet${oe}BelugaSwallowedPet`,ke=F[ce],de="string"==typeof ke&&ke.trim().length>0?ke:null;de?"Beluga Whale"!==de&&(F[Te]=null):(F[ce]=null,F[ve]=1,F[Ee]=0,F[Te]=null)}const J=j.some(oe=>"Behemoth"===F[`abominationSwallowedPet${oe}`])?100:50,V=this.clampFiniteNumber(L.attack,0,J);null!=V&&(L.attack=V);const ie=this.clampFiniteNumber(L.health,0,J);return null!=ie&&(L.health=ie),L}clampFiniteNumber(k,L,F){return"number"==typeof k&&Number.isFinite(k)?Math.min(F,Math.max(L,k)):null}static \u0275fac=function(L){return new(L||f)(a.KVO(l.K),a.KVO(r.K),a.KVO(u.w),a.KVO(A.m))};static \u0275prov=a.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},43714(O,S,i){i.d(S,{J:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Great Potoo";tier=3;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Great Potoo Ability",owner:e,triggers:["AnyoneHurt"],abilityType:"Pet",native:!0,maxUses:5,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,n=this.owner;if(!0!==t.FirstNonJumpAttackHappened){const l=2*this.level;n.increaseHealth(l),this.logService.createLog({message:`${n.name} gained +${l} health from AnyoneHurt (before any attacks).`,type:"ability",player:n.parent})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},43726(O,S,i){i.d(S,{y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Sauropod";tier=6;pack="Puppy";attack=4;health=12;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t,n){super({name:"SauropodAbility",owner:e,triggers:["FriendlyGainsPerk","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const n=this.level;this.usesThisTurn++,this.logService.createLog({message:`${t.name} will give +${n} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},43744(O,S,i){i.d(S,{A:()=>c});const c=Array.isArray},43783(O,S,i){i.d(S,{s:()=>v});var P=i(22097),c=i(5615),A=i(33127),_=i(24111);class v extends P.${name="Cauliflower";equipmentClass="shop";callback=n=>{const a=n.getEquippedEquipmentInstance(this);n.addAbility(new e(n,a))}}class e extends c.T{equipment;logService;constructor(n,a){super({name:"CauliflowerAbility",owner:n,triggers:["KnockOut"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:l=>this.executeAbility(l)}),this.equipment=a,this.logService=A.I.getInjector().get(_.K)}executeAbility(n){const a=this.owner;if(!a.alive)return void a.removePerk();const l=1*this.equipment.multiplier;a.increaseAttack(l),a.increaseHealth(l),this.logService.createLog({message:`${a.name} gained +${l} attack and +${l} health. (Cauliflower)${this.equipment.multiplierMessage}`,type:"equipment",player:a.parent}),a.removePerk()}}},43870(O,S,i){i.d(S,{C:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Monkey-Faced Bat";tier=3;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MonkeyFacedBatAbility",owner:e,triggers:["AnyoneBehindHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.getRandomPets(2,[],!0,!1,r);for(let g of u.pets)if(null!=g){let f={attack:this.level,health:2*this.level};g.increaseAttack(f.attack),g.increaseHealth(f.health),this.logService.createLog({message:`${r.name} gave ${g.name} ${f.attack} attack and ${f.health} health`,type:"ability",player:r.parent,randomEvent:u.random,tiger:a})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},43959(O,S,i){i.d(S,{t:()=>Vt});var P=i(38271),c=i(90021),A=i(84968),_=i(25240),v=i(75998),e=i(13322),t=i(81658),n=i(53654),a=i(72445),l=i(95966),r=i(64255),u=i(27376),g=i(55577),f=i(65033),D=i(79099),k=i(99953),L=i(45686),F=i(44746),j=i(34122),ee=i(22266),J=i(66948),V=i(21499),ie=i(88034),oe=i(3836),ce=i(50795),ve=i(22312),Ee=i(53108),Te=i(7234),ke=i(42075),de=i(79520),Se=i(50342),Be=i(91589),Ne=i(32480),Ue=i(82491),lt=i(91982),it=i(76563),Ke=i(26624),qe=i(6267),_t=i(82967),pt=i(9215),tt=i(80337),gt=i(75540),at=i(59370),wt=i(89732),ut=i(6172),Ge=i(75818),Ot=i(88184),Qt=i(5021),mt=i(5492),Yt=i(61313),Et=i(9695),ge=i(4942),Le=i(23238),Ve=i(27694),Fe=i(3332),ot=i(83355),Ut=i(57511),Kt=i(24233),qt=i(14469);const Vt={Pillbug:P.s,Cockroach:c.A,Frog:A.F,Hummingbird:_.F,Marmoset:v.t,Pheasant:e.$,Kiwi:t.Z,Chihuahua:n.p,Firefly:a.s,Koala:r.Z,Salamander:g.L,"Guinea Pig":f.A,Jellyfish:D.Z,Dove:k.H,"Dumbo Octopus":u.h,Bass:j.C,Leech:V.c,Woodpecker:tt.M,Toad:oe.L,Starfish:gt.P,Clownfish:de.u,Blobfish:pt.u,Capybara:ce.I,Okapi:ve.d,Cassowary:Ee.Z,Anteater:Te.l,Orangutan:ke.u,Hawk:lt.y,Platypus:it.V,"Praying Mantis":Ke.L,Donkey:qe.$,"Fairy Armadillo":Ne.p,Fossa:Ue.D,Siamese:Se.y,Elk:Be.B,Sparrow:_t.b,Swordfish:wt.K,Triceratops:ut.N,Hamster:Ge.V,Shoebill:Ot.$,Vulture:Qt.g,Ibex:mt.V,Ostrich:Yt.N,Reindeer:Et.f,Piranha:ge.Q,"Real Velociraptor":Le.M,Spinosaurus:ot.b,Alpaca:Ut.V,Velociraptor:Kt.n,Ammonite:qt.j,Cardinal:J.v,Orca:Fe.s,Pelican:at.R6,"Sabertooth Tiger":Ve.f,"Shima Enaga":F.J,Stork:L.i,Tuna:ie.n,Iguana:l.i,Pug:ee.T}},44071(O,S,i){i.d(S,{y:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Venus Flytrap";tier=5;pack="Custom";attack=2;health=7;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},44279(O,S,i){i.d(S,{c:()=>_});var P=i(27389),c=i(84385),A=i(32496);function _(v,e){return e?(0,A.V)(v,e):new P.c((0,c.v)(v))}},44314(O,S,i){i.d(S,{A:()=>A});var P=i(75152);const A=function c(_,v){var e=v?(0,P.A)(_.buffer):_.buffer;return new _.constructor(e,_.byteOffset,_.length)}},44398(O,S,i){i.d(S,{m:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;name="Spoon-Billed Sandpiper";tier=3;pack="Danger";attack=3;health=2;constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}},44402(O,S,i){i.d(S,{m:()=>c});var P=i(22097);class c extends P.${name="Melon";tier=6;equipmentClass="shield";power=20;originalPower=20;uses=1;originalUses=1}},44519(O,S,i){i.d(S,{H:()=>c});var P=i(22097);class c extends P.${name="Pepper";equipmentClass="shield";uses=1;originalUses=1;power=0;originalPower=0}},44708(O,S,i){i.d(S,{q:()=>e});var P=i(75263),c=i(60385),A=i(56518),_=i(76282),v=i(42814);class e extends v._{givePetEquipment(n,a=1){if(null!=n){if(this.alive){if("Bloated"===this.equipment?.name&&!n.equipmentClass?.startsWith("ailment"))return this.logService.createLog({message:`${this.name} blocked gaining ${n.name}. (Bloated)`,type:"equipment",player:this.parent}),void this.removePerk();if(!this.handleCorncobEquipment(n))if("ailment-attack"==n.equipmentClass||"ailment-defense"==n.equipmentClass||"ailment-other"==n.equipmentClass){if(this.applyAilmentEquipment(n,a))return}else this.applyStandardEquipment(n,a)}}else console.warn(`givePetEquipment called with null equipment for pet: ${this.name}`)}applyEquipment(n,a=1){null!=n&&(this.equipment=n,this.setEquipmentMultiplier(a),this.removeAbility(void 0,"Equipment"),this.equipment.callback&&this.equipment.callback(this.asPet()))}removePerk(n=!1){if(null==this.equipment)return;let a="ailment-attack"==this.equipment.equipmentClass||"ailment-defense"==this.equipment.equipmentClass||"ailment-other"==this.equipment.equipmentClass;n&&a||(this.lastLostEquipment=this.equipment,this.removeAbility(void 0,"Equipment"),this.equipment=null,a||this.abilityService.triggerPerkLossEvents(this.asPet(),this.lastLostEquipment?.name))}setEquipmentMultiplier(n=1){if(!this.equipment)return;let a=this.equipment.baseMultiplier??1;const l=this.equipment.multiplier??1;1===a&&1!==l&&(a=l),this.equipment.baseMultiplier=a;let r=a,u=[];const g=this.getPantherEquipmentMultiplierLevel();g>0&&"ailment-attack"!==this.equipment.equipmentClass&&"ailment-defense"!==this.equipment.equipmentClass&&"ailment-other"!==this.equipment.equipmentClass&&(r+=g,u.push(`x${g+1} (Panther)`)),n&&n>1&&(r+=n-1,u.push(`x${n} (Pandora's Box)`)),this.equipment.multiplier=r,this.equipment.multiplierMessage=u.length>0?` ${u.join(" ")}`:""}getPantherEquipmentMultiplierLevel(){const n=this.abilityList.filter(a=>"PantherAbility"===a.name).map(a=>Number(a.abilityLevel)).filter(a=>Number.isFinite(a)&&a>0);return 0===n.length?0:Math.max(...n)}handleCorncobEquipment(n){if("Corncob"!==n.name)return!1;const l=Math.max(1,Math.floor(n.effectMultiplier??1));return this.attack<=this.health?this.increaseAttack(l):this.increaseHealth(l),this.abilityService.triggerFoodEvents(this.asPet(),"corn"),!0}applyAilmentEquipment(n,a){return!(this.equipment?.name!==n.name&&(this.equipment instanceof P.B?(this.equipment.uses--,this.logService.createLog({message:`${this.name} blocked ${n.name}. (Ambrosia)`,type:"equipment",player:this.parent}),0==this.equipment.uses&&this.removePerk(),0):this.equipment instanceof c.f?(this.logService.createLog({message:`${this.name} blocked ${n.name}. (White Okra)`,type:"equipment",player:this.parent}),this.removePerk(),0):this.equipment instanceof A.q&&this.getSparrowLevel()>0&&this.equipment.uses>0?(this.logService.createLog({message:`${this.name} blocked ${n.name}. (Strawberry)`,type:"equipment",player:this.parent}),this.removePerk(),0):(null!=this.equipment&&this.removePerk(!0),this.applyEquipment(n,a),this.abilityService.triggerAilmentGainEvents(this.asPet(),n.name),0)))}applyStandardEquipment(n,a){if(n instanceof _.a){this.applyEquipment(n,a);const l=1*n.multiplier,r=2*n.multiplier;this.increaseAttack(l),this.increaseHealth(r),this.logService.createLog({message:`${this.name} gained ${l} attack and ${r} health (Blackberry)${n.multiplierMessage}`,type:"equipment",player:this.parent})}else this.applyEquipment(n,a);this.abilityService.triggerPerkGainEvents(this.asPet(),n.name),this.abilityService.triggerFoodEvents(this.asPet(),n.name)}}},44746(O,S,i){i.d(S,{J:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Shima Enaga";tier=2;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,l,r,u,f,D)}}class _ extends c.T{logService;abilityService;petService;constructor(e,t,n,a){super({name:"ShimaEnagaAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,condition:l=>{const{triggerPet:r}=l;return r&&"Strawberry"==r.equipment?.name},abilityFunction:l=>{this.executeAbility(l)}}),this.logService=t,this.abilityService=n,this.petService=a}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let u=2*this.level,g=this.petService.createPet({name:r.name,attack:u,health:u,equipment:null,exp:0,mana:0},r.parent);r.parent.summonPet(g,n.position,!1,r).success&&this.logService.createLog({message:`${r.name} summoned a (${u}/${u}) Shima Enaga`,type:"ability",player:r.parent,tiger:a,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService,this.petService)}}},44870(O,S,i){i.d(S,{m:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Swan";tier=2;pack="Turtle";health=2;attack=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SwanAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},44876(O,S,i){i.d(S,{C:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Nyala";tier=5;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"NyalaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{pteranodon:l}=e,r=this.owner,u=r.parent.resolveTrumpetGainTarget(r);u.player.gainTrumpets(8*this.level,r,l,void 0,void 0,u.random),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},44937(O,S,i){i.d(S,{s:()=>c});var P=i(47868);let c=(()=>{class A{key="sapData";constructor(){}getStorage(){return window.localStorage.getItem(this.key),window.localStorage.getItem(this.key)}setFormStorage(v){this.setStorage(v.value)}setStorage(v){if("object"==typeof v&&null!==v){const e=new Set,t=(n,a)=>{if("equipment"===n&&"object"==typeof a&&null!==a&&"name"in a){const l="string"==typeof a.name?a.name:null;return l?{name:l}:null}if(!["parent","logService","abilityService","gameService","petService"].includes(n)){if("object"==typeof a&&null!==a){if(e.has(a))return;e.add(a)}return a}};try{const n=JSON.stringify(v,t);window.localStorage.setItem(this.key,n)}catch(n){console.error("Could not stringify value for local storage",n)}}else"string"==typeof v&&window.localStorage.setItem(this.key,v)}clearStorage(){window.localStorage.removeItem(this.key)}static \u0275fac=function(e){return new(e||A)};static \u0275prov=P.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},45035(O,S,i){i.d(S,{t:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Caladrius";tier=3;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Caladrius Ability",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:n,pteranodon:a}=e,l=this.owner;if(t&&t.parent===l.parent&&t!==l&&t.mana>=3){const r=2*this.level;t.mana-=3,t.increaseAttack(r),t.increaseHealth(r),this.logService.createLog({message:`${l.name} spent 3 mana from ${t.name} to give it +${r}/+${r}.`,type:"ability",player:l.parent,tiger:n,pteranodon:a})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},45286(O,S,i){i.d(S,{B7:()=>n});var P=i(27389),c=i(70762),A=i(31805),_=i(2145),v=i(21259),e=i(40091);class t extends c.v{constructor(r){super(r),this.destination=r}}let n=(()=>{class l extends P.c{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[e.D](){return new t(this)}lift(u){const g=new a(this,this);return g.operator=u,g}next(u){if(this.closed)throw new _.P;if(!this.isStopped){const{observers:g}=this,f=g.length,D=g.slice();for(let k=0;k<f;k++)D[k].next(u)}}error(u){if(this.closed)throw new _.P;this.hasError=!0,this.thrownError=u,this.isStopped=!0;const{observers:g}=this,f=g.length,D=g.slice();for(let k=0;k<f;k++)D[k].error(u);this.observers.length=0}complete(){if(this.closed)throw new _.P;this.isStopped=!0;const{observers:u}=this,g=u.length,f=u.slice();for(let D=0;D<g;D++)f[D].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(u){if(this.closed)throw new _.P;return super._trySubscribe(u)}_subscribe(u){if(this.closed)throw new _.P;return this.hasError?(u.error(this.thrownError),A.y.EMPTY):this.isStopped?(u.complete(),A.y.EMPTY):(this.observers.push(u),new v.Y(this,u))}asObservable(){const u=new P.c;return u.source=this,u}}return l.create=(r,u)=>new a(r,u),l})();class a extends n{constructor(r,u){super(),this.destination=r,this.source=u}next(r){const{destination:u}=this;u&&u.next&&u.next(r)}error(r){const{destination:u}=this;u&&u.error&&this.destination.error(r)}complete(){const{destination:r}=this;r&&r.complete&&this.destination.complete()}_subscribe(r){const{source:u}=this;return u?this.source.subscribe(r):A.y.EMPTY}}},45312(O,S,i){i.d(S,{E:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;name="Puma";tier=6;pack="Puppy";attack=6;health=5;constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}},45525(O,S,i){i.d(S,{A:()=>_});var P=i(33126),c=i(41885);const _=function A(v,e){var t=(0,c.A)(v,e);return(0,P.A)(t)?t:void 0}},45575(O,S,i){i.d(S,{q:()=>_,s:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Fairy";tier=4;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new _(this)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{constructor(e){super({name:"FairyAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:t=>{this.executeAbility(t)}})}executeAbility(e){}copy(e){return new _(e)}}},45651(O,S,i){i.d(S,{K:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Salmon of Knowledge";tier=5;pack="Unicorn";attack=5;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SalmonOfKnowledgeAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=2*this.level,g=[],f=r.parent.getFurthestUpPets(2,[r],r);g.push(...f.pets);let D=r.parent.opponent.getFurthestUpPets(2,void 0,r);g.push(...D.pets);for(let k of g)this.logService.createLog({message:`${r.name} gave ${k.name} ${u} exp.`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random||D.random}),k.increaseExp(u);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},45686(O,S,i){i.d(S,{i:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;petService;name="Stork";tier=2;pack="Star";attack=3;health=1;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L,F){super(a,l,u),this.logService=a,this.abilityService=l,this.petService=r,this.initPet(k,g,f,D,L,F)}}class t extends c.T{logService;abilityService;petService;constructor(a,l,r,u){super({name:"StorkAbility",owner:a,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=l,this.abilityService=r,this.petService=u}executeAbility(a){const{gameApi:l,tiger:u,pteranodon:g}=a,f=this.owner;let D=Math.max(1,l.previousShopTier-1);const k=ie=>(ie??[]).filter(oe=>oe&&f.name&&oe.toLowerCase()!==f.name.toLowerCase());let L=k(this.petService.allPets.get(D));if(L.length||(L=k(this.petService.allPets.get(1))),!L.length)return void this.triggerTigerExecution(a);const F=(0,A.k6)({key:"pet.stork-faint-summon",label:(0,v.I)(f,"Stork faint summon"),options:L.map(ie=>({id:ie,label:ie}))},()=>(0,_.hw)(0,L.length-1));let ee=l.oldStork,J=this.petService.createPet({name:L[F.index],attack:ee?null:2*this.level,equipment:null,exp:f.minExpForLevel,health:ee?null:2*this.level,mana:0},f.parent);f.parent.summonPet(J,f.savedPosition,!1,f).success&&this.logService.createLog({message:`${f.name} spawned ${J.name} Level ${this.level}`,type:"ability",player:f.parent,tiger:u,randomEvent:F.randomEvent,pteranodon:g}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService,this.petService)}}},45722(O,S,i){i.d(S,{s:()=>P});const P="function"==typeof Symbol&&Symbol.observable||"@@observable"},45925(O,S,i){i.d(S,{f:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Estemmenosuchus";tier=5;pack="Custom";attack=4;health=6;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class _ extends P.i{name="Estemmenosuchus's Ally";tier=1;pack="Custom";attack=1;health=1;initAbilities(){}constructor(t,n,a,l,r){super(t,n,a),this.initPet(0,r,l,0,void 0,0)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"Estemmenosuchus Ability",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>this.executeAbility(l)}),this.logService=n,this.abilityService=a}countAilments(){return this.owner.parent.petArray.filter(n=>{const a=n?.equipment?.equipmentClass;return!!a&&a.startsWith("ailment")}).length}executeAbility(t){const n=this.owner,a=Math.max(0,this.countAilments()),l=3+a,r=Math.min(this.level,3),u=n.position??n.savedPosition??0;let g=0;for(let f=0;f<r;f++){const D=new _(this.logService,this.abilityService,n.parent,l,l);if(!n.parent.summonPet(D,u,!1,n).success)break;g++}g>0&&this.logService.createLog({message:`${n.name} summoned ${g} 3/3 friend${1===g?"":"s"} with +${a}/+${a}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},46021(O,S,i){i.d(S,{w:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;name="Cockatoo";tier=4;pack="Golden";attack=4;health=2;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L){super(a,l,r),this.logService=a,this.abilityService=l,this.initPet(D,u,g,f,k,L)}}class t extends c.T{logService;abilityService;constructor(a,l,r){super({name:"CockatooAbility",owner:a,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:u=>{this.executeAbility(u)}}),this.logService=l,this.abilityService=r}executeAbility(a){const l=this.owner,r=l.parent.petArray.filter(L=>L.alive&&L!==l);if(0===r.length)return void this.triggerTigerExecution(a);let u=Math.max(...r.map(L=>L.tier));const g=r.filter(L=>L.tier===u),f=(0,A.k6)({key:"pet.cockatoo-bought-target",label:(0,v.I)(l,"Cockatoo bought target"),options:g.map(L=>({id:`${L.savedPosition+1}:${L.name}`,label:`P${L.savedPosition+1} ${L.name}`}))},()=>(0,_.hw)(0,g.length-1)),D=g[f.index],k=2*this.level;D.increaseAttack(k),D.increaseHealth(k),this.logService.createLog({message:`${l.name} gave ${D.name} +${k}/+${k}.`,type:"ability",player:l.parent,tiger:a.tiger,pteranodon:a.pteranodon,randomEvent:f.randomEvent}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService)}}},46138(O,S,i){i.d(S,{n:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Chimpanzee";tier=6;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Chimpanzee Ability",owner:t,triggers:["CornEatenByFriend"],abilityType:"Pet",native:!0,abilitylevel:t.level,precondition:a=>{const u=(0,A.lK)(this.owner,a.triggerPet).pet;return!!u&&u.alive},abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=(0,A.lK)(n,t.triggerPet),l=a.pet;if(!l)return void this.triggerTigerExecution(t);const r=this.level;l.increaseAttack(r),l.increaseHealth(r),this.logService.createLog({message:`${n.name} gave ${l.name} +${r}/+${r} after eating Corncob.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:a.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},46200(O,S,i){i.d(S,{i:()=>A});var P=i(80152),c=i(83028);class A extends P.O{logService;abilityService;name;baseName;tier;pack;hidden=!1;parent;health;attack;exp=0;equipment;equipmentUsesOverride;mana=0;suppressManaSnipeOnFaint=!1;triggersConsumed=0;foodsEaten=0;sellValue=1;baseSellValue=1;swallowedPets=[];belugaSwallowedPet=null;parrotCopyPet=null;parrotCopyPetBelugaSwallowedPet=null;sarcasticFringeheadSwallowedPet;friendsDiedBeforeBattle=0;timesHurt=0;timesAttacked=0;battlesFought=0;currentTarget;lastAttacker;killedBy;transformedInto=null;lastLostEquipment;abilityCounter=0;targettedFriends=new Set;originalHealth;originalAttack;originalMana;originalTriggersConsumed;originalFoodsEaten;originalEquipment;originalExp=0;originalTimesHurt=0;faintPet=!1;toyPet=!1;transformed=!1;removed=!1;startOfBattleTriggered=!1;jumped=!1;done=!1;seenDead=!1;eggplantTouched=!1;cherryTouched=!1;clearFrontTriggered=!1;maxAbilityUses=null;abilityList=[];originalAbilityList=[];savedPosition;originalSavedPosition;hasRandomEvents=!1;constructor(v,e,t){super(),this.logService=v,this.abilityService=e,(0,c.L)(this),this.parent=t}initPet(v,e,t,n,a,l){this.baseName=this.baseName??this.name;const r=v??this.exp??0;this.exp=r,this.health=e??this.health+r,this.attack=t??this.attack+r,this.mana=n??this.mana,this.triggersConsumed=l??this.triggersConsumed,this.originalHealth=this.health,this.originalAttack=this.attack,this.originalMana=this.mana,this.originalTriggersConsumed=this.triggersConsumed,this.originalFoodsEaten=this.foodsEaten,this.equipment=a,this.originalEquipment=a,this.originalExp=this.exp,this.baseSellValue=this.level,this.sellValue=this.baseSellValue,this.initAbilities(),this.originalAbilityList=[...this.abilityList]}}},46300(O,S,i){i.d(S,{R:()=>c});var P=i(22097);class c extends P.${name="Donut";equipmentClass="target";constructor(){super()}}},46398(O,S,i){i.d(S,{z:()=>_});var P=i(46200),c=i(5615),A=i(56518);class _ extends P.i{logService;abilityService;name="Roadrunner";tier=2;pack="Custom";attack=4;health=1;constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}}class v extends c.T{logService;constructor(t,n){super({name:"Roadrunner Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const a=this.owner,l=this.level,u=a.parent.petArray.filter(g=>g.alive&&g.position<a.position).sort((g,f)=>f.position-g.position).slice(0,l);for(const g of u){const f=new A.q(this.logService);f&&g.applyEquipment(f),g.attack+=2,this.logService.createLog({message:`${a.name} gave Strawberry and +2 attack to ${g.name}.`,type:"ability",player:a.parent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},46482(O,S,i){i.d(S,{u:()=>_});var P=i(46200),c=i(5615),A=i(21844);class _ extends P.i{logService;abilityService;name="Fruit Fly";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"FruitFlyAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,l=this.owner;let r=l.parent.getOppositeEnemyPet(l),u=r.pet;null!=u&&(u.givePetEquipment(new A.z),this.logService.createLog({message:`${l.name} gave ${u.name} Blueberry.`,type:"ability",player:l.parent,tiger:n,pteranodon:a,randomEvent:r.random}),l.snipePet(u,2*this.level,r.random,n),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},46494(O,S,i){i.d(S,{Vw:()=>e,ig:()=>_,qj:()=>v,rb:()=>A});var P=i(47868);let c=null;function A(){return c}function _(a){c??=a}class v{}let e=(()=>{class a{historyGo(r){throw new Error("")}static \u0275fac=function(u){return new(u||a)};static \u0275prov=P.jDH({token:a,factory:()=>(0,P.WQX)(n),providedIn:"platform"})}return a})(),n=(()=>{class a extends e{_location;_history;_doc=(0,P.WQX)(P.qQL);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return A().getBaseHref(this._doc)}onPopState(r){const u=A().getGlobalEventTarget(this._doc,"window");return u.addEventListener("popstate",r,!1),()=>u.removeEventListener("popstate",r)}onHashChange(r){const u=A().getGlobalEventTarget(this._doc,"window");return u.addEventListener("hashchange",r,!1),()=>u.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,u,g){this._history.pushState(r,u,g)}replaceState(r,u,g){this._history.replaceState(r,u,g)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}static \u0275fac=function(u){return new(u||a)};static \u0275prov=P.jDH({token:a,factory:()=>new a,providedIn:"platform"})}return a})()},46567(O,S,i){i.d(S,{P:()=>v});var P=i(46200),c=i(5615),A=i(90966),_=i(33127);class v extends P.i{logService;abilityService;name="Budgie";tier=1;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"BudgieAbility",owner:n,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=a}executeAbility(n){const{tiger:a,pteranodon:l}=n,r=this.owner,g=_.I.getInjector().get(A.m).getInstanceOfAllEquipment().get("Popcorn");r.givePetEquipment(g),r.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gained Popcorn and +${this.level} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:l}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService)}}},46637(O,S,i){i.d(S,{x:()=>_});var P=i(46200),c=i(5615),A=i(61850);class _ extends P.i{logService;abilityService;name="Tyrannosaurus";tier=6;pack="Puppy";attack=7;health=7;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"TyrannosaurusAbility",owner:t,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,a=n.parent.petArray.filter(g=>g.alive&&g!==n&&g.tier>=5),l=a.length;if(0===a.length)return void this.triggerTigerExecution(t);const r=[];for(;r.length<2&&a.length>0;){const g=(0,A.hw)(0,a.length-1);r.push(a[g]),a.splice(g,1)}const u=2*this.level;for(const g of r)g.increaseAttack(u),g.increaseHealth(u);this.logService.createLog({message:`${n.name} gave ${r.map(g=>g.name).join(", ")} +${u}/+${u}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:l>r.length}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},46791(O,S,i){i.d(S,{O:()=>t});var P=i(95892),c=i(40532),A=i(72222),_=i(82429),v=i(58857),e=i(83028);class t{logService;gameService;abilityService;petService;equipmentService;toyService;player;opponent;battleStarted=!1;turns=0;maxTurns=71;currBattle=null;battles=[];playerWinner=0;opponentWinner=0;draw=0;abilityEngine;eventProcessor;petFormCache=new WeakMap;constructor(a,l,r,u,g,f){this.logService=a,this.gameService=l,this.abilityService=r,this.petService=u,this.equipmentService=g,this.toyService=f,this.logService=(0,e.V)(this.logService),this.player=new P.a(this.logService,r,l),this.opponent=new P.a(this.logService,r,l),this.opponent.isOpponent=!0,this.gameService.init(this.player,this.opponent),this.abilityEngine=new c.$(this.logService,this.gameService,this.abilityService,this.toyService,this.player,this.opponent),this.eventProcessor=new A.v({player:this.player,opponent:this.opponent,logService:this.logService,gameService:this.gameService,abilityService:this.abilityService,abilityEngine:this.abilityEngine,maxTurns:this.maxTurns,getBattle:()=>this.currBattle,setBattle:k=>{this.currBattle=k},getBattleStarted:()=>this.battleStarted,setBattleStarted:k=>{this.battleStarted=k},getTurns:()=>this.turns,setTurns:k=>{this.turns=k},incrementPlayerWinner:()=>{this.playerWinner+=1},incrementOpponentWinner:()=>{this.opponentWinner+=1},incrementDraw:()=>{this.draw+=1}})}run(a,l){const r=(0,_.c)(a.seed);let u,g={playerWins:0,opponentWins:0,draws:0,battles:[]};(0,v.Ys)({capture:a.captureRandomDecisions,overrides:a.randomDecisionOverrides,strictValidation:!1!==a.strictRandomOverrideValidation});try{let f=a.simulationCount||1e3;const D=!1!==a.logsEnabled;let k=0;const L=l?.onProgress&&null!=l.progressInterval?Math.max(1,l.progressInterval):null;this.logService.setEnabled(D),this.logService.setDeferDecorations(!0),this.resetSimulation(),this.setupGameEnvironment(a),a.optimizeDeterministicSimulations&&(0,_.B)(a,this.petService,this.equipmentService,this.toyService)&&(f=1);let F=null==a.maxLoggedBattles?D?f:0:Math.max(0,a.maxLoggedBattles);F>f&&(F=f);for(let j=0;j<f&&!l?.shouldAbort?.();j++){const ee=D&&F>0&&k<F;if(this.logService.setEnabled(ee),this.initBattle(a,ee),ee&&(k+=1),this.prepareBattle(a),this.executeBattleLoop(),this.reset(),l?.onProgress&&null!=L){const J=j+1;(J%L===0||J===f)&&l.onProgress({completed:J,total:f,playerWins:this.playerWinner,opponentWins:this.opponentWinner,draws:this.draw,loggedBattles:this.battles.length})}if(l?.shouldAbort?.())break}g={playerWins:this.playerWinner,opponentWins:this.opponentWinner,draws:this.draw,battles:this.battles}}finally{r(),u=(0,v.xe)()}return g.randomDecisions=u.decisions,g.randomOverrideError=u.invalidOverrideError,g}resetSimulation(){this.playerWinner=0,this.opponentWinner=0,this.draw=0,this.battles=[],this.currBattle=null}setupGameEnvironment(a){let l=1;a.turn>2&&(l=2),a.turn>4&&(l=3),a.turn>6&&(l=4),a.turn>8&&(l=5),a.turn>10&&(l=6),this.gameService.setPreviousShopTier(l),this.gameService.setTurnNumber(a.turn),this.gameService.setGoldSpent(a.playerGoldSpent??10,a.opponentGoldSpent??10),this.gameService.gameApi.oldStork=a.oldStork??!1,this.gameService.gameApi.komodoShuffle=a.komodoShuffle??!1,this.gameService.gameApi.mana=a.mana??!1,this.gameService.gameApi.playerRollAmount=a.playerRollAmount??4,this.gameService.gameApi.opponentRollAmount=a.opponentRollAmount??4,this.gameService.gameApi.playerLevel3Sold=a.playerLevel3Sold??0,this.gameService.gameApi.opponentLevel3Sold=a.opponentLevel3Sold??0,this.petService.setCustomPackPools(a.customPacks??[]),this.player.pack=a.playerPack,this.opponent.pack=a.opponentPack;const r=f=>{switch(f){case"Turtle":return this.petService.turtlePackPets;case"Puppy":return this.petService.puppyPackPets;case"Star":return this.petService.starPackPets;case"Golden":return this.petService.goldenPackPets;case"Unicorn":return this.petService.unicornPackPets;case"Danger":return this.petService.dangerPackPets;default:return this.petService.playerCustomPackPets.get(f)||new Map}},u=r(a.playerPack),g=r(a.opponentPack);this.gameService.setTierGroupPets(u,g)}initBattle(a,l=!0){this.logService.reset(),this.abilityService.clearGlobalEventQueue(),l?(this.currBattle={winner:"draw",logs:this.logService.getLogs()},this.battles.push(this.currBattle)):this.currBattle=null,this.gameService.gameApi.opponentSummonedAmount=a.opponentSummonedAmount??0,this.gameService.gameApi.playerSummonedAmount=a.playerSummonedAmount??0,this.gameService.gameApi.opponentTransformationAmount=a.opponentTransformationAmount??0,this.gameService.gameApi.playerTransformationAmount=a.playerTransformationAmount??0}prepareBattle(a){this.reset(),this.createPets(this.player,a.playerPets),this.createPets(this.opponent,a.opponentPets),this.applyPreBattleFriendDeathCounts(),a.playerToy?(this.player.toy=this.toyService.createToy(a.playerToy,this.player,a.playerToyLevel??1),this.player.originalToy=this.player.toy):(this.player.toy=null,this.player.originalToy=null),a.playerHardToy?(this.player.hardToy=this.toyService.createToy(a.playerHardToy,this.player,a.playerHardToyLevel??1),this.player.originalHardToy=this.player.hardToy):(this.player.hardToy=null,this.player.originalHardToy=null),a.opponentToy?(this.opponent.toy=this.toyService.createToy(a.opponentToy,this.opponent,a.opponentToyLevel??1),this.opponent.originalToy=this.opponent.toy):(this.opponent.toy=null,this.opponent.originalToy=null),a.opponentHardToy?(this.opponent.hardToy=this.toyService.createToy(a.opponentHardToy,this.opponent,a.opponentHardToyLevel??1),this.opponent.originalHardToy=this.opponent.hardToy):(this.opponent.hardToy=null,this.opponent.originalHardToy=null),this.gameService.gameApi.playerHardToy=a.playerHardToy??null,this.gameService.gameApi.playerHardToyLevel=a.playerHardToyLevel??1,this.gameService.gameApi.opponentHardToy=a.opponentHardToy??null,this.gameService.gameApi.opponentHardToyLevel=a.opponentHardToyLevel??1,this.startBattle(),this.initToys(),this.abilityService.initSpecialEndTurnAbility(this.player),this.abilityService.initSpecialEndTurnAbility(this.opponent),this.gameService.gameApi.FirstNonJumpAttackHappened=!1,this.initializeEquipmentMultipliers(),this.logService.createLog({message:"Phase 1: Before battle",type:"board"}),this.logService.printState(this.player,this.opponent),this.abilityService.triggerBeforeStartOfBattleEvents(),this.abilityService.executeBeforeStartOfBattleEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);const l=r=>"Churros"===r.equipment?.name;this.logService.createLog({message:"Phase 2: Start of battle",type:"board"}),this.logService.printState(this.player,this.opponent),this.abilityService.triggerStartBattleEvents(l),this.abilityService.executeStartBattleEvents(),this.toyService.executeStartOfBattleEvents(),this.abilityService.triggerStartBattleEvents(r=>!l(r)),this.abilityService.executeStartBattleEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);this.logService.createLog({message:"Phase 3: After Start of Battle",type:"board"}),this.logService.printState(this.player,this.opponent)}createPets(a,l){for(let r=0;r<5;r++){const u=l[r];if(!u||!u.name)continue;let g=this.petFormCache.get(u);g||(g=this.buildPetForm(u),this.petFormCache.set(u,g));const f=this.petService.createPet(g,a);a.setPet(r,f,!0)}}buildPetForm(a){const l=a.equipment;let r=null;"string"==typeof l?r={name:l}:l&&"object"==typeof l&&(r=l);const u=l&&"object"==typeof l?l:null;return{...a,name:a.name,attack:a.attack??0,health:a.health??0,exp:a.exp??0,mana:a.mana??0,triggersConsumed:a.triggersConsumed??0,foodsEaten:a.foodsEaten??0,equipment:r,equipmentUses:a.equipmentUses??("number"==typeof u?.uses?u.uses:null),battlesFought:a.battlesFought??0,timesHurt:a.timesHurt??0,friendsDiedBeforeBattle:a.friendsDiedBeforeBattle??0,abominationSwallowedPet1TimesHurt:a.abominationSwallowedPet1TimesHurt??0,abominationSwallowedPet2TimesHurt:a.abominationSwallowedPet2TimesHurt??0,abominationSwallowedPet3TimesHurt:a.abominationSwallowedPet3TimesHurt??0}}applyPreBattleFriendDeathCounts(){this.abilityEngine.applyPreBattleFriendDeathCounts()}executeBattleLoop(){this.eventProcessor.executeBattleLoop()}startBattle(){this.eventProcessor.startBattle()}reset(){this.eventProcessor.reset()}nextTurn(){this.eventProcessor.nextTurn()}fight(){this.eventProcessor.fight()}abilityCycle(){this.abilityEngine.abilityCycle()}checkPetsAlive(){this.abilityEngine.checkPetsAlive()}removeDeadPets(){return this.abilityEngine.removeDeadPets()}emptyFrontSpaceCheck(){this.abilityEngine.emptyFrontSpaceCheck()}initToys(){this.abilityEngine.initToys()}pushPetsForwards(){this.eventProcessor.pushPetsForwards()}endLog(a){this.eventProcessor.endLog(a)}initializeEquipmentMultipliers(){this.abilityEngine.initializeEquipmentMultipliers()}resetClearFrontFlags(){this.abilityEngine.resetClearFrontFlags()}}},47097(O,S,i){i.d(S,{s:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Umbrella Bird";tier=1;pack="Custom";attack=3;health=2;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},47175(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Mothman";tier=2;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MothmanAbility",owner:e,triggers:["AnyoneGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner,u=this.level;let f=r.parent.getThis(r).pet;null!=f&&(this.logService.createLog({message:`${r.name} gave ${f.name} +${u} attack and +${u} health.`,type:"ability",player:r.parent,tiger:a}),f.increaseAttack(u),f.increaseHealth(u),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},47256(O,S,i){i.d(S,{a:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;name="Quetzalcoatl";tier=6;pack="Unicorn";attack=4;health=8;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L){super(a,l,r),this.logService=a,this.abilityService=l,this.initPet(D,u,g,f,k,L)}}class t extends c.T{logService;abilityService;constructor(a,l,r){super({name:"QuetzalcoatlAbility",owner:a,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:u=>{this.executeAbility(u)}}),this.logService=l,this.abilityService=r}executeAbility(a){const l=this.owner,r=l.parent.petArray.filter(g=>g.alive&&g!==l&&g.tier<=3);if(0===r.length)return void this.triggerTigerExecution(a);const u=this.level;for(let g=0;g<u;g++){const f=(0,A.k6)({key:"pet.quetzalcoatl-end-turn-target",label:(0,v.I)(l,"Quetzalcoatl end turn target",g+1),options:r.map(k=>({id:`${k.savedPosition+1}:${k.name}`,label:`P${k.savedPosition+1} ${k.name}`}))},()=>(0,_.hw)(0,r.length-1)),D=r[f.index];D.increaseExp(2),this.logService.createLog({message:`${l.name} gave ${D.name} +2 experience.`,type:"ability",player:l.parent,tiger:a.tiger,pteranodon:a.pteranodon,randomEvent:f.randomEvent})}this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService)}}},47748(O,S,i){i.d(S,{k:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Dung Beetle";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DungBeetleAbility",owner:e,triggers:["FoodEatenByFriendly","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,triggerPet:n,tiger:a,pteranodon:l}=e,r=this.owner,u=r,g=t?.turnNumber??0;if(u.dungBeetleFoodTurn!==g&&(u.dungBeetleFoodTurn=g,u.dungBeetleFoodEaten=0),u.dungBeetleFoodSeededTurn!==g){u.dungBeetleFoodSeededTurn=g;const k=r.foodsEaten??0;k>0&&(u.dungBeetleFoodEaten=Math.min(3,Math.max(u.dungBeetleFoodEaten??0,k)))}if(n&&r.alive)return void(u.dungBeetleFoodEaten=Math.min(3,(u.dungBeetleFoodEaten??0)+1));if(r.alive)return;const f=Math.min(3,u.dungBeetleFoodEaten??0);if(f<=0)return;const D=3*this.level;for(let k=0;k<f;k++){let L=r.parent.opponent.getLowestHealthPet(void 0,r),F=L.pet;if(null==F)break;r.snipePet(F,D,L.random,a)}this.logService.createLog({message:`${r.name} dealt ${D} damage ${f} time(s) to the weakest enemy.`,type:"ability",player:r.parent,tiger:a,pteranodon:l}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},47832(O,S,i){i.d(S,{B:()=>_});var P=i(46200),c=i(5615),A=i(61850);class _ extends P.i{logService;abilityService;name="Brahma Chicken";tier=5;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;attackers=new Set;constructor(t,n){super({name:"Brahma Chicken Ability",owner:t,triggers:["FriendAttacked","PostRemovalFaint","StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,{triggerPet:a,tiger:l,pteranodon:r}=t;if("StartBattle"!==t.trigger){if("FriendAttacked"===t.trigger&&a&&a.parent===n.parent)this.attackers.add(a);else if("PostRemovalFaint"===t.trigger){const u=(0,A.k4)(Array.from(this.attackers).filter(k=>k&&k.alive)),g=Math.min(3,u.length),f=this.level,D=u.slice(0,g);for(const k of D)k.increaseAttack(f),k.increaseHealth(f);D.length>0&&this.logService.createLog({message:`${n.name} gave ${D.map(k=>k.name).join(", ")} +${f}/+${f} after fainting.`,type:"ability",player:n.parent,tiger:l,pteranodon:r}),this.triggerTigerExecution(t)}}else this.attackers.clear()}copy(t){return new v(t,this.logService)}}},47868(O,S,i){i.d(S,{$8:()=>tt,$Hz:()=>gn,A0l:()=>gs,A7J:()=>Ti,AQb:()=>vh,Ab:()=>No,AbJ:()=>od,Af3:()=>La,Agf:()=>Sn,Ap:()=>l,AsM:()=>ee,B22:()=>ih,B9r:()=>Y,BI7:()=>Hi,Bqz:()=>rn,By9:()=>N_,CQl:()=>Fn,CpD:()=>ad,Cv0:()=>ke,Czx:()=>jt,DFp:()=>qt,Ds7:()=>nt,DyX:()=>eh,E6O:()=>Ln,EFk:()=>dr,EJG:()=>G,EPY:()=>Kr,EYC:()=>Aa,EmA:()=>ne,Evm:()=>_h,F1c:()=>ua,FRF:()=>_n,Fje:()=>x_,G2t:()=>Qt,GA0:()=>$o,GBX:()=>xn,GWr:()=>Ke,GYQ:()=>fh,GZS:()=>hr,GpT:()=>Z,HAh:()=>ac,HO5:()=>gh,HUe:()=>qp,HaV:()=>vi,Hh6:()=>xt,IAh:()=>Ue,ID:()=>Dt,ID8:()=>lh,ITl:()=>Gu,Iaj:()=>Ni,Isx:()=>bn,IvY:()=>U,JEi:()=>yn,JjR:()=>ed,JlV:()=>qa,Jzi:()=>ve,K29:()=>ea,K7h:()=>jn,KET:()=>Ba,KVO:()=>pi,KdJ:()=>ln,KtD:()=>ah,Kw3:()=>Xr,LIA:()=>de,LZP:()=>at,M0L:()=>ps,M6u:()=>Ja,MI:()=>I_,MME:()=>Un,MT:()=>B_,MZA:()=>Ea,M_e:()=>oi,MdC:()=>_r,Mlv:()=>Nn,Mx4:()=>Fo,MzJ:()=>je,N4e:()=>us,N79:()=>nh,Njj:()=>sh,O8q:()=>ic,O8t:()=>md,OAn:()=>Yu,ONQ:()=>Fe,OsK:()=>f,P2g:()=>qu,P3H:()=>Qu,PEr:()=>Ku,PP7:()=>Ai,PQT:()=>Xn,Pfq:()=>Yr,Pz9:()=>_s,QZP:()=>bc,Qs1:()=>Oo,QuC:()=>Tn,R2n:()=>Ns,RZ9:()=>Qr,Rc9:()=>ls,Rfq:()=>oe,Rom:()=>pr,RxE:()=>t,SKP:()=>ei,SKi:()=>Xo,SMZ:()=>L,SX7:()=>hc,TWe:()=>Ro,Tkx:()=>Qp,U45:()=>Ee,U7d:()=>Ci,UaU:()=>sd,UhH:()=>Bo,VKj:()=>tc,VML:()=>yc,VPL:()=>rh,VVG:()=>ca,VX4:()=>Pa,W0r:()=>xa,WB9:()=>ra,WQX:()=>ai,WbQ:()=>wi,WfI:()=>qn,Wg1:()=>Vi,WrV:()=>Te,X5O:()=>he,XRZ:()=>ft,XaM:()=>_i,Xln:()=>Se,XvL:()=>lt,Y20:()=>hs,Y3W:()=>fi,YEL:()=>ds,YWB:()=>Uo,Yrj:()=>q,Yw1:()=>zi,Z63:()=>Mn,Z9v:()=>uc,ZFY:()=>ze,ZQF:()=>Ne,ZRn:()=>_e,ZTf:()=>Qo,_0$:()=>xo,_Z$:()=>Qi,_gW:()=>R_,_px:()=>Go,a2B:()=>We,abz:()=>fs,b$O:()=>cc,b5C:()=>Ce,bBq:()=>Us,biv:()=>O_,bkB:()=>Ua,bll:()=>pc,blu:()=>kn,bm_:()=>Bs,brz:()=>st,buA:()=>u,c$7:()=>Zu,cBl:()=>Wo,cP4:()=>gr,cSN:()=>rc,ckz:()=>vr,d31:()=>te,dMS:()=>Lo,dTm:()=>hd,d_l:()=>th,db4:()=>Hu,dmw:()=>sn,dwj:()=>j,e5P:()=>Ya,eBV:()=>oc,eDl:()=>ue,eFE:()=>Yn,eVN:()=>Gr,ebl:()=>Le,ezK:()=>Zn,f7T:()=>oa,fuf:()=>jr,gsJ:()=>mn,gv8:()=>W_,gxQ:()=>lc,hjC:()=>Oi,hk6:()=>vc,hmW:()=>nn,iMd:()=>yr,iYM:()=>pt,ihb:()=>Da,ik5:()=>ju,iw4:()=>Be,jDH:()=>Ot,jNX:()=>$u,jRZ:()=>Zp,jXY:()=>He,jgP:()=>Ht,joV:()=>ms,jvu:()=>uh,kLh:()=>F,kNT:()=>ut,kcM:()=>Bt,klJ:()=>Xu,krE:()=>Vr,l4E:()=>mc,laP:()=>D,llW:()=>qi,m7n:()=>Kn,myG:()=>vs,n$e:()=>J,nKC:()=>ot,nZS:()=>Gi,nfM:()=>Ta,ng7:()=>Ii,niQ:()=>ch,nl4:()=>ce,oMQ:()=>Rt,oTH:()=>me,oZy:()=>Za,ok8:()=>r,oyA:()=>Xi,p9y:()=>Rn,pbo:()=>qe,pcR:()=>It,phH:()=>ui,pr_:()=>Ge,q$2:()=>Fs,qFA:()=>Qa,qQL:()=>br,qSk:()=>aA,qlT:()=>la,r4V:()=>qo,rFz:()=>Ju,rJ1:()=>nc,rQE:()=>xe,rev:()=>Vo,s6P:()=>Wn,srX:()=>ur,tF7:()=>wt,tQN:()=>mi,tcA:()=>cr,tdH:()=>$_,u5s:()=>pd,uXy:()=>ki,uiq:()=>Ma,uvJ:()=>Cn,vNG:()=>Vu,vOT:()=>Na,vPA:()=>fc,vQI:()=>oh,vaC:()=>N,veI:()=>zr,w7Z:()=>td,wGu:()=>Xt,wVl:()=>Ye,xLP:()=>Fi,xUg:()=>Wi,xbp:()=>Jr,xyx:()=>Ko,yAH:()=>Ve,yP_:()=>Ws,yoD:()=>Wr,ypq:()=>F_,yzR:()=>$r,z6V:()=>bi,z7f:()=>gt,zAe:()=>K,zQk:()=>Fa,zSs:()=>ji,zZn:()=>jo,zcH:()=>Jo,znI:()=>L_});var P=i(15824),c=i(27389),A=i(45286),_=i(79928),v=i(31805),e=i(91679);class t{full;major;minor;patch;constructor(H){this.full=H;const ae=H.split(".");this.major=ae[0],this.minor=ae[1],this.patch=ae.slice(2).join(".")}}const n=new t("21.1.1"),l=`${(()=>{const x=n.full;return`https://${x.includes("-next")||x.includes("-rc")||"0.0.0-PLACEHOLDER"===x?"next":`v${n.major}`}.angular.dev`})()}/errors`,r="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class u extends Error{code;constructor(H,ae){super(f(H,ae)),this.code=H}}function f(x,H){return`${function g(x){return`NG0${Math.abs(x)}`}(x)}${H?": "+H:""}`}const D=globalThis;function L(){return!1}function F(x){for(let H in x)if(x[H]===F)return H;throw Error("")}function j(x,H){for(const ae in H)H.hasOwnProperty(ae)&&!x.hasOwnProperty(ae)&&(x[ae]=H[ae])}function ee(x){if("string"==typeof x)return x;if(Array.isArray(x))return`[${x.map(ee).join(", ")}]`;if(null==x)return""+x;const H=x.overriddenName||x.name;if(H)return`${H}`;const ae=x.toString();if(null==ae)return""+ae;const Ae=ae.indexOf("\n");return Ae>=0?ae.slice(0,Ae):ae}function J(x,H){return x?H?`${x} ${H}`:x:H||""}const ie=F({__forward_ref__:F});function oe(x){return x.__forward_ref__=oe,x.toString=function(){return ee(this())},x}function ce(x){return ve(x)?x():x}function ve(x){return"function"==typeof x&&x.hasOwnProperty(ie)&&x.__forward_ref__===oe}function Ee(x,H){"number"!=typeof x&&tt(H,typeof x,"number","===")}function Te(x,H,ae){Ee(x,"Expected a number"),function it(x,H,ae){x<=H||tt(ae,x,H,"<=")}(x,ae,"Expected number to be less than or equal to"),qe(x,H,"Expected number to be greater than or equal to")}function ke(x,H){"string"!=typeof x&&tt(H,null===x?"null":typeof x,"string","===")}function de(x,H){"function"!=typeof x&&tt(H,null===x?"null":typeof x,"function","===")}function Se(x,H,ae){x!=H&&tt(ae,x,H,"==")}function Be(x,H,ae){x==H&&tt(ae,x,H,"!=")}function Ne(x,H,ae){x!==H&&tt(ae,x,H,"===")}function Ue(x,H,ae){x===H&&tt(ae,x,H,"!==")}function lt(x,H,ae){x<H||tt(ae,x,H,"<")}function Ke(x,H,ae){x>H||tt(ae,x,H,">")}function qe(x,H,ae){x>=H||tt(ae,x,H,">=")}function pt(x,H){null==x&&tt(H,x,null,"!=")}function tt(x,H,ae,Ae){throw new Error(`ASSERTION ERROR: ${x}`+(null==Ae?"":` [Expected=> ${ae} ${Ae} ${H} <=Actual]`))}function gt(x){x instanceof Node||tt(`The provided value must be an instance of a DOM Node but got ${ee(x)}`)}function at(x){x instanceof Element||tt(`The provided value must be an element but got ${ee(x)}`)}function wt(x,H){pt(x,"Array must be defined.");const ae=x.length;(H<0||H>=ae)&&tt(`Index expected to be less than ${ae} but got ${H}`)}function ut(x,...H){if(-1!==H.indexOf(x))return!0;tt(`Expected value to be one of ${JSON.stringify(H)} but was ${JSON.stringify(x)}.`)}function Ge(x){null!==(0,P.nR)()&&tt(`${x}() should never be called in a reactive context.`)}function Ot(x){return{token:x.token,providedIn:x.providedIn||null,factory:x.factory,value:void 0}}function Qt(x){return{providers:x.providers||[],imports:x.imports||[]}}function mt(x){return function Et(x,H){return x.hasOwnProperty(H)&&x[H]||null}(x,Ve)}function Le(x){return x&&x.hasOwnProperty(Fe)?x[Fe]:null}const Ve=F({\u0275prov:F}),Fe=F({\u0275inj:F});class ot{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(H,ae){this._desc=H,this.\u0275prov=void 0,"number"==typeof ae?this.__NG_ELEMENT_ID__=ae:void 0!==ae&&(this.\u0275prov=Ot({token:this,providedIn:ae.providedIn||"root",factory:ae.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}let Ut;function Kt(){return tt("getInjectorProfilerContext should never be called in production mode"),Ut}function qt(x){tt("setInjectorProfilerContext should never be called in production mode");const H=Ut;return Ut=x,H}const Vt=[],Gt=()=>{};function Bt(x){return tt("setInjectorProfiler should never be called in production mode"),null!==x?(Vt.includes(x)||Vt.push(x),()=>function Ui(x){const H=Vt.indexOf(x);-1!==H&&Vt.splice(H,1)}(x)):(Vt.length=0,Gt)}function Yi(x){tt("Injector profiler should never be called in production mode");for(let H=0;H<Vt.length;H++)(0,Vt[H])(x)}function Gi(x,H=!1){let ae;tt("Injector profiler should never be called in production mode"),ae="function"==typeof x||x instanceof ot?x:ce(x.provide);let Ae=x;x instanceof ot&&(Ae=x.\u0275prov||x),Yi({type:2,context:Kt(),providerRecord:{token:ae,provider:Ae,isViewProvider:H}})}function Ci(x){tt("Injector profiler should never be called in production mode"),Yi({type:5,context:Kt(),token:x})}function ki(x){tt("Injector profiler should never be called in production mode"),Yi({type:1,context:Kt(),instance:{value:x}})}function Hi(x,H,ae){tt("Injector profiler should never be called in production mode"),Yi({type:0,context:Kt(),service:{token:x,value:H,flags:ae}})}function Ti(x){tt("Injector profiler should never be called in production mode"),Yi({type:4,context:Kt(),effectPhase:x})}function _i(x,H,ae){tt("runInInjectorProfilerContext should never be called in production mode");const Ae=qt({injector:x,token:H});try{ae()}finally{qt(Ae)}}function Di(x){return x&&!!x.\u0275providers}const Fn=F({\u0275cmp:F}),pn=F({\u0275dir:F}),tn=F({\u0275pipe:F}),nn=F({\u0275mod:F}),ji=F({\u0275fac:F}),Rn=F({__NG_ELEMENT_ID__:F}),Li=F({__NG_ENV_ID__:F});function ui(x){return Ji(x),x[nn]||null}function wi(x){const H=ui(x);if(!H)throw new u(915,!1);return H}function Wi(x){return Ji(x),x[Fn]||null}function Sn(x){const H=vi(x);if(!H)throw new u(916,!1);return H}function vi(x){return Ji(x),x[pn]||null}function Xi(x){return Ji(x),x[tn]||null}function Ji(x,H){if(null==x)throw new u(-919,!1)}function Tn(x){const H=Wi(x)||vi(x)||Xi(x);return null!==H&&H.standalone}function Yn(x){return"string"==typeof x?x:null==x?"":String(x)}function Ai(x){return"function"==typeof x?x.name||x.toString():"object"==typeof x&&null!=x&&"function"==typeof x.type?x.type.name||x.type.toString():Yn(x)}function Qi(x){const H=Wi(x);return null!==H&&H.debugInfo?function Gn(x){return x.filePath&&x.lineNumber?`${x.className} (at ${x.filePath}:${x.lineNumber})`:x.className}(H.debugInfo):Ai(x)}const Dn=F({ngErrorCode:F}),Hn=F({ngErrorMessage:F}),an=F({ngTokenPath:F});function Xn(x,H){return Qn("",-200,H)}function Pa(x,H){return function Jn(x,H){return x.message=function Pe(x,H,ae=[],Ae=null){let Oe="";ae&&ae.length>1&&(Oe=` Path: ${ae.join(" -> ")}.`);return f(H,`${x}${Ae?` Source: ${Ae}.`:""}${Oe}`)}(x[Hn]||x.message,x[Dn],x[an],H),x}(Xn(0,H),null)}function gn(x,H){throw new u(-201,!1)}function Qn(x,H,ae){const Ae=new u(H,x);return Ae[Dn]=H,Ae[Hn]=x,ae&&(Ae[an]=ae),Ae}let fe;function Re(){return fe}function We(x){const H=fe;return fe=x,H}function je(x,H,ae){const Ae=mt(x);return Ae&&"root"==Ae.providedIn?void 0===Ae.value?Ae.value=Ae.factory():Ae.value:8&ae?null:void 0!==H?H:void gn()}function ze(x){}const At={},yi="__NG_DI_FLAG__";class xi{injector;constructor(H){this.injector=H}retrieve(H,ae){const Ae=Oi(ae)||0;try{return this.injector.get(H,8&Ae?null:At,Ae)}catch(Oe){if((0,e.c4)(Oe))return Oe;throw Oe}}}function gi(x,H=0){const ae=(0,e.Af)();if(void 0===ae)throw new u(-203,!1);if(null===ae)return je(x,void 0,H);{const Ae=function $t(x){return{optional:!!(8&x),host:!!(1&x),self:!!(2&x),skipSelf:!!(4&x)}}(H),Oe=ae.retrieve(x,Ae);if((0,e.c4)(Oe)){if(Ae.optional)return null;throw Oe}return Oe}}function pi(x,H=0){return(Re()||gi)(ce(x),H)}function sn(x){throw new u(202,!1)}function ai(x,H){return pi(x,Oi(H))}function Oi(x){return typeof x>"u"||"number"==typeof x?x:0|(x.optional&&8)|(x.host&&1)|(x.self&&2)|(x.skipSelf&&4)}function zt(x){const H=[];for(let ae=0;ae<x.length;ae++){const Ae=ce(x[ae]);if(Array.isArray(Ae)){if(0===Ae.length)throw new u(900,!1);let Oe,Je=0;for(let yt=0;yt<Ae.length;yt++){const Si=Ae[yt],ti=Mi(Si);"number"==typeof ti?-1===ti?Oe=Si.token:Je|=ti:Oe=Si}H.push(pi(Oe,Je))}else H.push(pi(Ae))}return H}function bi(x,H){return x[yi]=H,x.prototype[yi]=H,x}function Mi(x){return x[yi]}function Xt(x,H){return x.hasOwnProperty(ji)?x[ji]:null}function Ii(x,H,ae){if(x.length!==H.length)return!1;for(let Ae=0;Ae<x.length;Ae++){let Oe=x[Ae],Je=H[Ae];if(ae&&(Oe=ae(Oe),Je=ae(Je)),Je!==Oe)return!1}return!0}function rn(x){return x.flat(Number.POSITIVE_INFINITY)}function Fi(x,H){x.forEach(ae=>Array.isArray(ae)?Fi(ae,H):H(ae))}function Aa(x,H,ae){H>=x.length?x.push(ae):x.splice(H,0,ae)}function Ln(x,H){return H>=x.length-1?x.pop():x.splice(H,1)[0]}function qn(x,H){const ae=[];for(let Ae=0;Ae<x;Ae++)ae.push(H);return ae}function mn(x,H,ae){const Ae=x.length-ae;for(;H<Ae;)x[H]=x[H+ae],H++;for(;ae--;)x.pop()}function qi(x,H,ae,Ae){let Oe=x.length;if(Oe==H)x.push(ae,Ae);else if(1===Oe)x.push(Ae,x[0]),x[0]=ae;else{for(Oe--,x.push(x[Oe-1],x[Oe]);Oe>H;)x[Oe]=x[Oe-2],Oe--;x[H]=ae,x[H+1]=Ae}}function Zn(x,H,ae){let Ae=_n(x,H);return Ae>=0?x[1|Ae]=ae:(Ae=~Ae,qi(x,Ae,H,ae)),Ae}function jn(x,H){const ae=_n(x,H);if(ae>=0)return x[1|ae]}function _n(x,H){return function fn(x,H,ae){let Ae=0,Oe=x.length>>ae;for(;Oe!==Ae;){const Je=Ae+(Oe-Ae>>1),yt=x[Je<<ae];if(H===yt)return Je<<ae;yt>H?Oe=Je:Ae=Je+1}return~(Oe<<ae)}(x,H,1)}const Ea={},Nn=[],Mn=new ot(""),za=new ot("",-1),Y=new ot("");class me{get(H,ae=At){if(ae===At){const Oe=Qn("",-201);throw Oe.name="\u0275NotFound",Oe}return ae}}function ne(x){return{\u0275providers:x}}function De(...x){return{\u0275providers:He(0,x),\u0275fromNgModule:!0}}function He(x,...H){const ae=[],Ae=new Set;let Oe;const Je=yt=>{ae.push(yt)};return Fi(H,yt=>{const Si=yt;st(Si,Je,[],Ae)&&(Oe||=[],Oe.push(Si))}),void 0!==Oe&&Ze(Oe,Je),ae}function Ze(x,H){for(let ae=0;ae<x.length;ae++){const{ngModule:Ae,providers:Oe}=x[ae];Zt(Oe,Je=>{H(Je,Ae)})}}function st(x,H,ae,Ae){if(!(x=ce(x)))return!1;let Oe=null,Je=Le(x);const yt=!Je&&Wi(x);if(Je||yt){if(yt&&!yt.standalone)return!1;Oe=x}else{const ti=x.ngModule;if(Je=Le(ti),!Je)return!1;Oe=ti}const Si=Ae.has(Oe);if(yt){if(Si)return!1;if(Ae.add(Oe),yt.dependencies){const ti="function"==typeof yt.dependencies?yt.dependencies():yt.dependencies;for(const Ri of ti)st(Ri,H,ae,Ae)}}else{if(!Je)return!1;{if(null!=Je.imports&&!Si){let Ri;Ae.add(Oe),Fi(Je.imports,$s=>{st($s,H,ae,Ae)&&(Ri||=[],Ri.push($s))}),void 0!==Ri&&Ze(Ri,H)}if(!Si){const Ri=Xt(Oe)||(()=>new Oe);H({provide:Oe,useFactory:Ri,deps:Nn},Oe),H({provide:Y,useValue:Oe,multi:!0},Oe),H({provide:Mn,useValue:()=>pi(Oe),multi:!0},Oe)}const ti=Je.providers;if(null!=ti&&!Si){const Ri=x;Zt(ti,$s=>{H($s,Ri)})}}}return Oe!==x&&void 0!==x.providers}function Zt(x,H){for(let ae of x)Di(ae)&&(ae=ae.\u0275providers),Array.isArray(ae)?Zt(ae,H):H(ae)}const ni=F({provide:String,useValue:F});function Jt(x){return null!==x&&"object"==typeof x&&ni in x}function fi(x){return"function"==typeof x}function Un(x){return!!x.useClass}const xn=new ot(""),vn={},on={};let Bn;function ra(){return void 0===Bn&&(Bn=new me),Bn}class Cn{}class Ya extends Cn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(H,ae,Ae,Oe){super(),this.parent=ae,this.source=Ae,this.scopes=Oe,Xa(H,yt=>this.processProvider(yt)),this.records.set(za,Sa(void 0,this)),Oe.has("environment")&&this.records.set(Cn,Sa(void 0,this));const Je=this.records.get(xn);null!=Je&&"string"==typeof Je.value&&this.scopes.add(Je.value),this.injectorDefTypes=new Set(this.get(Y,Nn,{self:!0}))}retrieve(H,ae){const Ae=Oi(ae)||0;try{return this.get(H,At,Ae)}catch(Oe){if((0,e.c4)(Oe))return Oe;throw Oe}}destroy(){Ra(this),this._destroyed=!0;const H=(0,P.Ht)(null);try{for(const Ae of this._ngOnDestroyHooks)Ae.ngOnDestroy();const ae=this._onDestroyHooks;this._onDestroyHooks=[];for(const Ae of ae)Ae()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),(0,P.Ht)(H)}}onDestroy(H){return Ra(this),this._onDestroyHooks.push(H),()=>this.removeOnDestroy(H)}runInContext(H){Ra(this);const ae=(0,e.mu)(this),Ae=We(void 0);try{return H()}finally{(0,e.mu)(ae),We(Ae)}}get(H,ae=At,Ae){if(Ra(this),H.hasOwnProperty(Li))return H[Li](this);const Oe=Oi(Ae),yt=(0,e.mu)(this),Si=We(void 0);try{if(!(4&Oe)){let Ri=this.records.get(H);if(void 0===Ri){const $s=function Ur(x){return"function"==typeof x||"object"==typeof x&&"InjectionToken"===x.ngMetadataName}(H)&&mt(H);Ri=$s&&this.injectableDefInScope($s)?Sa(os(H),vn):null,this.records.set(H,Ri)}if(null!=Ri)return this.hydrate(H,Ri,Oe)}return(2&Oe?ra():this.parent).get(H,ae=8&Oe&&ae===At?null:ae)}catch(ti){const Ri=function le(x){return x[Dn]}(ti);throw-200===Ri||-201===Ri?new u(Ri,null):ti}finally{We(Si),(0,e.mu)(yt)}}resolveInjectorInitializers(){const H=(0,P.Ht)(null),ae=(0,e.mu)(this),Ae=We(void 0);try{const Je=this.get(Mn,Nn,{self:!0});for(const yt of Je)yt()}finally{(0,e.mu)(ae),We(Ae),(0,P.Ht)(H)}}toString(){const H=[],ae=this.records;for(const Ae of ae.keys())H.push(ee(Ae));return`R3Injector[${H.join(", ")}]`}processProvider(H){let ae=fi(H=ce(H))?H:ce(H&&H.provide);const Ae=function lr(x){return Jt(x)?Sa(void 0,x.useValue):Sa(ls(x),vn)}(H);if(!fi(H)&&!0===H.multi){let Oe=this.records.get(ae);Oe||(Oe=Sa(void 0,vn,!0),Oe.factory=()=>zt(Oe.multi),this.records.set(ae,Oe)),ae=H,Oe.multi.push(H)}this.records.set(ae,Ae)}hydrate(H,ae,Ae){const Oe=(0,P.Ht)(null);try{if(ae.value===on)throw Xn(ee(H));return ae.value===vn&&(ae.value=on,ae.value=ae.factory(void 0,Ae)),"object"==typeof ae.value&&ae.value&&function cs(x){return null!==x&&"object"==typeof x&&"function"==typeof x.ngOnDestroy}(ae.value)&&this._ngOnDestroyHooks.add(ae.value),ae.value}finally{(0,P.Ht)(Oe)}}injectableDefInScope(H){if(!H.providedIn)return!1;const ae=ce(H.providedIn);return"string"==typeof ae?"any"===ae||this.scopes.has(ae):this.injectorDefTypes.has(ae)}removeOnDestroy(H){const ae=this._onDestroyHooks.indexOf(H);-1!==ae&&this._onDestroyHooks.splice(ae,1)}}function os(x){const H=mt(x),ae=null!==H?H.factory:Xt(x);if(null!==ae)return ae;if(x instanceof ot)throw new u(204,!1);if(x instanceof Function)return function Vn(x){if(x.length>0)throw new u(204,!1);const ae=function ge(x){return(x?.[Ve]??null)||null}(x);return null!==ae?()=>ae.factory(x):()=>new x}(x);throw new u(204,!1)}function ls(x,H,ae){let Ae;if(fi(x)){const Oe=ce(x);return Xt(Oe)||os(Oe)}if(Jt(x))Ae=()=>ce(x.useValue);else if(function si(x){return!(!x||!x.useFactory)}(x))Ae=()=>x.useFactory(...zt(x.deps||[]));else if(function Ei(x){return!(!x||!x.useExisting)}(x))Ae=(Oe,Je)=>pi(ce(x.useExisting),void 0!==Je&&8&Je?8:void 0);else{const Oe=ce(x&&(x.useClass||x.provide));if(!function xs(x){return!!x.deps}(x))return Xt(Oe)||os(Oe);Ae=()=>new Oe(...zt(x.deps))}return Ae}function Ra(x){if(x.destroyed)throw new u(205,!1)}function Sa(x,H,ae=!1){return{factory:x,value:H,multi:ae?[]:void 0}}function Xa(x,H){for(const ae of x)Array.isArray(ae)?Xa(ae,H):ae&&Di(ae)?Xa(ae.\u0275providers,H):H(ae)}function us(x,H){let ae;x instanceof Ya?(Ra(x),ae=x):ae=new xi(x);const Oe=(0,e.mu)(ae),Je=We(void 0);try{return H()}finally{(0,e.mu)(Oe),We(Je)}}function Ja(){return void 0!==Re()||null!=(0,e.Af)()}function La(x){if(!Ja())throw new u(-203,!1)}const Ht=0,ue=1,Vi=2,oa=3,ea=4,la=5,cr=6,ca=7,ei=8,ds=9,ps=10,Z=11,G=12,q=13,he=14,Ce=15,xe=16,Ye=17,nt=18,Dt=19,Rt=20,jt=21,It=22,mi=23,Ni=24,yn=25,bn=26,zi=27,Qa=6,Wn=7,Bs=8,Ta=9,hs=10;function Fs(x){return Array.isArray(x)&&"object"==typeof x[1]}function gs(x){return Array.isArray(x)&&!0===x[1]}function ur(x){return!!(4&x.flags)}function Oo(x){return x.componentOffset>-1}function Wr(x){return!(1&~x.flags)}function qa(x){return!!x.template}function dr(x){return!!(512&x[Vi])}function Kr(x){return!(256&~x[Vi])}function tc(x,H){pr(x,H[ue])}function ic(x,H){const ae=H+zi;wt(x,ae),lt(ae,x[ue].bindingStartIndex,"TNodes should be created before any bindings")}function pr(x,H){Ns(x);const ae=H.data;for(let Ae=zi;Ae<ae.length;Ae++)if(ae[Ae]===x)return;tt("This TNode does not belong to this TView.")}function Ns(x){pt(x,"TNode must be defined"),x&&"object"==typeof x&&x.hasOwnProperty("directiveStylingLast")||tt("Not of type TNode, got: "+x)}function xa(x){pt(x,"Expected TIcu to be defined"),"number"!=typeof x.currentCaseLViewIndex&&tt("Object is not of TIcu type.")}function hr(x,H="Type passed in is not ComponentType, it does not have '\u0275cmp' property."){Wi(x)||tt(H)}function Ba(x,H="Type passed in is not NgModuleType, it does not have '\u0275mod' property."){ui(x)||tt(H)}function Us(x){pt(x,"currentTNode should exist!"),pt(x.parent,"currentTNode should have a parent")}function gr(x){pt(x,"LContainer must be defined"),Se(gs(x),!0,"Expecting LContainer")}function _r(x){pt(x,"LView must be defined"),Se(Fs(x),!0,"Expecting LView")}function $r(x,H){Se(x.firstCreatePass,!0,H||"Should only be called in first create pass.")}function Ro(x,H){Se(x.firstUpdatePass,!0,"Should only be called in first update pass.")}function Ku(x){(void 0===x.type||null==x.selectors||void 0===x.inputs)&&tt("Expected a DirectiveDef/ComponentDef and this object does not seem to have the expected shape.")}function Fa(x,H){fr(zi,x.bindingStartIndex,H)}function Za(x,H){fr(x[1].expandoStartIndex,x.length,H)}function fr(x,H,ae){x<=ae&&ae<H||tt(`Index out of range (expecting ${x} <= ${ae} < ${H})`)}function O_(x,H){pt(x[Ce],"Component views should exist."),pt(x[Ce][la].projection,"Components with projection nodes (<ng-content>) must have projection slots defined.")}function I_(x,H){pt(x,"Component views should always have a parent view (component's host view)")}function Qp(x,H){Za(x,H),Za(x,H+8),Ee(x[H+0],"injectorIndex should point to a bloom filter"),Ee(x[H+1],"injectorIndex should point to a bloom filter"),Ee(x[H+2],"injectorIndex should point to a bloom filter"),Ee(x[H+3],"injectorIndex should point to a bloom filter"),Ee(x[H+4],"injectorIndex should point to a bloom filter"),Ee(x[H+5],"injectorIndex should point to a bloom filter"),Ee(x[H+6],"injectorIndex should point to a bloom filter"),Ee(x[H+7],"injectorIndex should point to a bloom filter"),Ee(x[H+8],"injectorIndex should point to parent injector")}const $u="svg",nc="math";function U(x){for(;Array.isArray(x);)x=x[Ht];return x}function K(x){for(;Array.isArray(x);){if("object"==typeof x[1])return x;x=x[Ht]}return null}function N(x,H){return U(H[x])}function te(x,H){return U(H[x.index])}function _e(x,H){const ae=null===x?-1:x.index;return-1!==ae?U(H[ae]):null}function ft(x,H){return x.data[H]}function xt(x,H){return x[H]}function oi(x,H,ae,Ae){ae>=x.data.length&&(x.data[ae]=null,x.blueprint[ae]=null),H[ae]=Ae}function ln(x,H){const ae=H[x];return Fs(ae)?ae:ae[Ht]}function Na(x){return!(4&~x[Vi])}function ua(x){return!(128&~x[Vi])}function Gu(x){return gs(x[oa])}function Hu(x,H){return null==H?null:x[H]}function qp(x){x[Ye]=0}function ac(x){1024&x[Vi]||(x[Vi]|=1024,ua(x)&&kn(x))}function Zp(x,H){for(;x>0;)H=H[he],x--;return H}function Lo(x){return!!(9216&x[Vi]||x[Ni]?.dirty)}function R_(x){x[ps].changeDetectionScheduler?.notify(8),64&x[Vi]&&(x[Vi]|=1024),Lo(x)&&kn(x)}function kn(x){x[ps].changeDetectionScheduler?.notify(0);let H=xo(x);for(;null!==H&&!(8192&H[Vi])&&(H[Vi]|=8192,ua(H));)H=xo(H)}function ju(x,H){if(Kr(x))throw new u(911,!1);null===x[jt]&&(x[jt]=[]),x[jt].push(H)}function eh(x,H){if(null===x[jt])return;const ae=x[jt].indexOf(H);-1!==ae&&x[jt].splice(ae,1)}function xo(x){const H=x[oa];return gs(H)?H[oa]:H}function th(x){return x[ca]??=[]}function Vu(x){return x.cleanup??=[]}function ih(x,H,ae,Ae){const Oe=th(H);Oe.push(ae),x.firstCreatePass&&Vu(x).push(Ae,Oe.length-1)}const Ft={lFrame:qr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Gr=function(x){return x[x.Off=0]="Off",x[x.Exhaustive=1]="Exhaustive",x[x.OnlyDirtyViews=2]="OnlyDirtyViews",x}(Gr||{});let Hr=0,sc=!1;function L_(){return Ft.lFrame.elementDepthCount}function x_(){Ft.lFrame.elementDepthCount++}function nh(){Ft.lFrame.elementDepthCount--}function vr(){return Ft.bindingsEnabled}function ah(){return null!==Ft.skipHydrationRootTNode}function Bo(x){return Ft.skipHydrationRootTNode===x}function rc(){Ft.bindingsEnabled=!0}function jr(){Ft.bindingsEnabled=!1}function Vr(){Ft.skipHydrationRootTNode=null}function Yu(){return Ft.lFrame.lView}function Xu(){return Ft.lFrame.tView}function oc(x){return Ft.lFrame.contextLView=x,x[ei]}function sh(x){return Ft.lFrame.contextLView=null,x}function Fo(){let x=zr();for(;null!==x&&64===x.type;)x=x.parent;return x}function zr(){return Ft.lFrame.currentTNode}function No(){const x=Ft.lFrame,H=x.currentTNode;return x.isParent?H:H.parent}function yr(x,H){const ae=Ft.lFrame;ae.currentTNode=x,ae.isParent=H}function Uo(){return Ft.lFrame.isParent}function Yr(){Ft.lFrame.isParent=!1}function rh(){return Ft.lFrame.contextLView}function Ju(){return tt("Must never be called in production mode"),Hr!==Gr.Off}function Qu(){return tt("Must never be called in production mode"),Hr===Gr.Exhaustive}function qu(x){tt("Must never be called in production mode"),Hr=x}function Ws(){return sc}function Wo(x){const H=sc;return sc=x,H}function lc(){const x=Ft.lFrame;let H=x.bindingRootIndex;return-1===H&&(H=x.bindingRootIndex=x.tView.bindingStartIndex),H}function Zu(){return Ft.lFrame.bindingIndex}function Xr(x){return Ft.lFrame.bindingIndex=x}function Jr(){return Ft.lFrame.bindingIndex++}function cc(x){const H=Ft.lFrame,ae=H.bindingIndex;return H.bindingIndex=H.bindingIndex+x,ae}function ed(){return Ft.lFrame.inI18n}function Ko(x){Ft.lFrame.inI18n=x}function oh(x,H){const ae=Ft.lFrame;ae.bindingIndex=ae.bindingRootIndex=x,Qr(H)}function uc(){return Ft.lFrame.currentDirectiveIndex}function Qr(x){Ft.lFrame.currentDirectiveIndex=x}function B_(x){const H=Ft.lFrame.currentDirectiveIndex;return-1===H?null:x[H]}function td(){return Ft.lFrame.currentQueryIndex}function $o(x){Ft.lFrame.currentQueryIndex=x}function dc(x){const H=x[ue];return 2===H.type?H.declTNode:1===H.type?x[la]:null}function Da(x,H,ae){if(4&ae){let Oe=H,Je=x;for(;!(Oe=Oe.parent,null!==Oe||1&ae||(Oe=dc(Je),null===Oe||(Je=Je[he],10&Oe.type))););if(null===Oe)return!1;H=Oe,x=Je}const Ae=Ft.lFrame=id();return Ae.currentTNode=H,Ae.lView=x,!0}function lh(x){const H=id(),ae=x[ue];Ft.lFrame=H,H.currentTNode=ae.firstChild,H.lView=x,H.tView=ae,H.contextLView=x,H.bindingIndex=ae.bindingStartIndex,H.inI18n=!1}function id(){const x=Ft.lFrame,H=null===x?null:x.child;return null===H?qr(x):H}function qr(x){const H={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:x,child:null,inI18n:!1};return null!==x&&(x.child=H),H}function nd(){const x=Ft.lFrame;return Ft.lFrame=x.parent,x.currentTNode=null,x.lView=null,x}const ch=nd;function pc(){const x=nd();x.isParent=!0,x.tView=null,x.selectedIndex=-1,x.contextLView=null,x.elementDepthCount=0,x.currentDirectiveIndex=-1,x.currentNamespace=null,x.bindingRootIndex=-1,x.bindingIndex=-1,x.currentQueryIndex=0}function uh(x){return(Ft.lFrame.contextLView=Zp(x,Ft.lFrame.contextLView))[ei]}function Go(){return Ft.lFrame.selectedIndex}function F_(x){Ft.lFrame.selectedIndex=x}function ad(){const x=Ft.lFrame;return ft(x.tView,x.selectedIndex)}function aA(){Ft.lFrame.currentNamespace=$u}function N_(){Ft.lFrame.currentNamespace=nc}function ms(){!function Zr(){Ft.lFrame.currentNamespace=null}()}function sd(){return Ft.lFrame.currentNamespace}let Ho=!0;function hc(){return Ho}function Kn(x){Ho=x}function wn(x,H=null,ae=null,Ae){const Oe=_s(x,H,ae,Ae);return Oe.resolveInjectorInitializers(),Oe}function _s(x,H=null,ae=null,Ae,Oe=new Set){const Je=[ae||Nn,De(x)];return Ae=Ae||("object"==typeof x?void 0:ee(x)),new Ya(Je,H||ra(),Ae||null,Oe)}class jo{static THROW_IF_NOT_FOUND=At;static NULL=new me;static create(H,ae){if(Array.isArray(H))return wn({name:""},ae,H,"");{const Ae=H.name??"";return wn({name:Ae},H.parent,H.providers,Ae)}}static \u0275prov=Ot({token:jo,providedIn:"any",factory:()=>pi(za)});static __NG_ELEMENT_ID__=-1}const br=new ot("");let fs=(()=>class x{static __NG_ELEMENT_ID__=rd;static __NG_ENV_ID__=ae=>ae})();class gc extends fs{_lView;constructor(H){super(),this._lView=H}get destroyed(){return Kr(this._lView)}onDestroy(H){const ae=this._lView;return ju(ae,H),()=>eh(ae,H)}}function rd(){return new gc(Yu())}const Pr=!1,dh=new ot("");let Vo=(()=>{class x{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new _.t(!1);debugTaskTracker=ai(dh,{optional:!0});get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new c.c(ae=>{ae.next(!1),ae.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const ae=this.taskId++;return this.pendingTasks.add(ae),this.debugTaskTracker?.add(ae),ae}has(ae){return this.pendingTasks.has(ae)}remove(ae){this.pendingTasks.delete(ae),this.debugTaskTracker?.remove(ae),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Ot({token:x,providedIn:"root",factory:()=>new x})}return x})();const Ua=class ph extends A.B7{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(H=!1){super(),this.__isAsync=H,Ja()&&(this.destroyRef=ai(fs,{optional:!0})??void 0,this.pendingTasks=ai(Vo,{optional:!0})??void 0)}emit(H){const ae=(0,P.Ht)(null);try{super.next(H)}finally{(0,P.Ht)(ae)}}subscribe(H,ae,Ae){let Oe=H,Je=ae||(()=>null),yt=Ae;if(H&&"object"==typeof H){const ti=H;Oe=ti.next?.bind(ti),Je=ti.error?.bind(ti),yt=ti.complete?.bind(ti)}this.__isAsync&&(Je=this.wrapInTimeout(Je),Oe&&(Oe=this.wrapInTimeout(Oe)),yt&&(yt=this.wrapInTimeout(yt)));const Si=super.subscribe({next:Oe,error:Je,complete:yt});return H instanceof v.y&&H.add(Si),Si}wrapInTimeout(H){return ae=>{const Ae=this.pendingTasks?.add();setTimeout(()=>{try{H(ae)}finally{void 0!==Ae&&this.pendingTasks?.remove(Ae)}})}}};function eo(...x){}function mc(x){let H,ae;function Ae(){x=eo;try{void 0!==ae&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(ae),void 0!==H&&clearTimeout(H)}catch{}}return H=setTimeout(()=>{x(),Ae()}),"function"==typeof requestAnimationFrame&&(ae=requestAnimationFrame(()=>{x(),Ae()})),()=>Ae()}function Ma(x){return queueMicrotask(()=>x()),()=>{x=eo}}const Yo="isAngularZone",od=Yo+"_ID";let U_=0;class Xo{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ua(!1);onMicrotaskEmpty=new Ua(!1);onStable=new Ua(!1);onError=new Ua(!1);constructor(H){const{enableLongStackTrace:ae=!1,shouldCoalesceEventChangeDetection:Ae=!1,shouldCoalesceRunChangeDetection:Oe=!1,scheduleInRootZone:Je=Pr}=H;if(typeof Zone>"u")throw new u(908,!1);Zone.assertZonePatched();const yt=this;yt._nesting=0,yt._outer=yt._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(yt._inner=yt._inner.fork(new Zone.TaskTrackingZoneSpec)),ae&&Zone.longStackTraceZoneSpec&&(yt._inner=yt._inner.fork(Zone.longStackTraceZoneSpec)),yt.shouldCoalesceEventChangeDetection=!Oe&&Ae,yt.shouldCoalesceRunChangeDetection=Oe,yt.callbackScheduled=!1,yt.scheduleInRootZone=Je,function cd(x){const H=()=>{!function ld(x){function H(){mc(()=>{x.callbackScheduled=!1,kt(x),x.isCheckStableRunning=!0,hh(x),x.isCheckStableRunning=!1})}x.isCheckStableRunning||x.callbackScheduled||(x.callbackScheduled=!0,x.scheduleInRootZone?Zone.root.run(()=>{H()}):x._outer.run(()=>{H()}),kt(x))}(x)},ae=U_++;x._inner=x._inner.fork({name:"angular",properties:{[Yo]:!0,[od]:ae,[od+ae]:!0},onInvokeTask:(Ae,Oe,Je,yt,Si,ti)=>{if(function ta(x){return _c(x,"__ignore_ng_zone__")}(ti))return Ae.invokeTask(Je,yt,Si,ti);try{return da(x),Ae.invokeTask(Je,yt,Si,ti)}finally{(x.shouldCoalesceEventChangeDetection&&"eventTask"===yt.type||x.shouldCoalesceRunChangeDetection)&&H(),ud(x)}},onInvoke:(Ae,Oe,Je,yt,Si,ti,Ri)=>{try{return da(x),Ae.invoke(Je,yt,Si,ti,Ri)}finally{x.shouldCoalesceRunChangeDetection&&!x.callbackScheduled&&!function Ks(x){return _c(x,"__scheduler_tick__")}(ti)&&H(),ud(x)}},onHasTask:(Ae,Oe,Je,yt)=>{Ae.hasTask(Je,yt),Oe===Je&&("microTask"==yt.change?(x._hasPendingMicrotasks=yt.microTask,kt(x),hh(x)):"macroTask"==yt.change&&(x.hasPendingMacrotasks=yt.macroTask))},onHandleError:(Ae,Oe,Je,yt)=>(Ae.handleError(Je,yt),x.runOutsideAngular(()=>x.onError.emit(yt)),!1)})}(yt)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Yo)}static assertInAngularZone(){if(!Xo.isInAngularZone())throw new u(909,!1)}static assertNotInAngularZone(){if(Xo.isInAngularZone())throw new u(909,!1)}run(H,ae,Ae){return this._inner.run(H,ae,Ae)}runTask(H,ae,Ae,Oe){const Je=this._inner,yt=Je.scheduleEventTask("NgZoneEvent: "+Oe,H,sA,eo,eo);try{return Je.runTask(yt,ae,Ae)}finally{Je.cancelTask(yt)}}runGuarded(H,ae,Ae){return this._inner.runGuarded(H,ae,Ae)}runOutsideAngular(H){return this._outer.run(H)}}const sA={};function hh(x){if(0==x._nesting&&!x.hasPendingMicrotasks&&!x.isStable)try{x._nesting++,x.onMicrotaskEmpty.emit(null)}finally{if(x._nesting--,!x.hasPendingMicrotasks)try{x.runOutsideAngular(()=>x.onStable.emit(null))}finally{x.isStable=!0}}}function kt(x){x.hasPendingMicrotasks=!!(x._hasPendingMicrotasks||(x.shouldCoalesceEventChangeDetection||x.shouldCoalesceRunChangeDetection)&&!0===x.callbackScheduled)}function da(x){x._nesting++,x.isStable&&(x.isStable=!1,x.onUnstable.emit(null))}function ud(x){x._nesting--,hh(x)}class vs{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ua;onMicrotaskEmpty=new Ua;onStable=new Ua;onError=new Ua;run(H,ae,Ae){return H.apply(ae,Ae)}runGuarded(H,ae,Ae){return H.apply(ae,Ae)}runOutsideAngular(H){return H()}runTask(H,ae,Ae,Oe){return H.apply(ae,Ae)}}function _c(x,H){return!(!Array.isArray(x)||1!==x.length)&&!0===x[0]?.data?.[H]}class Jo{_console=console;handleError(H){this._console.error("ERROR",H)}}const Qo=new ot("",{factory:()=>{const x=ai(Xo),H=ai(Cn);let ae;return Ae=>{x.runOutsideAngular(()=>{H.destroyed&&!ae?setTimeout(()=>{throw Ae}):(ae??=H.get(Jo),ae.handleError(Ae))})}}}),W_={provide:Mn,useValue:()=>{ai(Jo,{optional:!0})},multi:!0};function fc(x,H){const[ae,Ae,Oe]=(0,P.n5)(x,H?.equal),Je=ae;return Je.set=Ae,Je.update=Oe,Je.asReadonly=gh.bind(Je),Je}function gh(){const x=this[P.bh];if(void 0===x.readonlyFn){const H=()=>this();H[P.bh]=x,x.readonlyFn=H}return x.readonlyFn}function $_(x,H){if(null!==(0,P.nR)())throw new u(-602,!1)}let qo=(()=>class x{view;node;constructor(ae,Ae){this.view=ae,this.node=Ae}static __NG_ELEMENT_ID__=mh})();function mh(){return new qo(Yu(),Fo())}class vc{}const _h=new ot("",{factory:()=>!0}),fh=new ot("",{factory:()=>!1}),vh=new ot("");let pd=(()=>{class x{internalPendingTasks=ai(Vo);scheduler=ai(vc);errorHandler=ai(Qo);add(){const ae=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(ae)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(ae))}}run(ae){const Ae=this.add();ae().catch(this.errorHandler).finally(Ae)}static \u0275prov=Ot({token:x,providedIn:"root",factory:()=>new x})}return x})(),yc=(()=>{class x{static \u0275prov=Ot({token:x,providedIn:"root",factory:()=>new yh})}return x})();class yh{dirtyEffectCount=0;queues=new Map;add(H){this.enqueue(H),this.schedule(H)}schedule(H){H.dirty&&this.dirtyEffectCount++}remove(H){const Ae=this.queues.get(H.zone);Ae.has(H)&&(Ae.delete(H),H.dirty&&this.dirtyEffectCount--)}enqueue(H){const ae=H.zone;this.queues.has(ae)||this.queues.set(ae,new Set);const Ae=this.queues.get(ae);Ae.has(H)||Ae.add(H)}flush(){for(;this.dirtyEffectCount>0;){let H=!1;for(const[ae,Ae]of this.queues)H||=null===ae?this.flushQueue(Ae):ae.run(()=>this.flushQueue(Ae));H||(this.dirtyEffectCount=0)}}flushQueue(H){let ae=!1;for(const Ae of H)Ae.dirty&&(this.dirtyEffectCount--,ae=!0,Ae.run());return ae}}class hd{[P.bh];constructor(H){this[P.bh]=H}destroy(){this[P.bh].destroy()}}function bc(x,H){const ae=H?.injector??ai(jo);let Oe,Ae=!0!==H?.manualCleanup?ae.get(fs):null;const Je=ae.get(qo,null,{optional:!0}),yt=ae.get(vc);return null!==Je?(Oe=function Ph(x,H,ae){const Ae=Object.create(Pc);return Ae.view=x,Ae.zone=typeof Zone<"u"?Zone.current:null,Ae.notifier=H,Ae.fn=gd(Ae,ae),x[mi]??=new Set,x[mi].add(Ae),Ae.consumerMarkedDirty(Ae),Ae}(Je.view,yt,x),Ae instanceof gc&&Ae._lView===Je.view&&(Ae=null)):Oe=function Ar(x,H,ae){const Ae=Object.create(bh);return Ae.fn=gd(Ae,x),Ae.scheduler=H,Ae.notifier=ae,Ae.zone=typeof Zone<"u"?Zone.current:null,Ae.scheduler.add(Ae),Ae.notifier.notify(12),Ae}(x,ae.get(yc),yt),Oe.injector=ae,null!==Ae&&(Oe.onDestroyFns=[Ae.onDestroy(()=>Oe.destroy())]),new hd(Oe)}const to={...P.vX,cleanupFns:void 0,zone:null,onDestroyFns:null,run(){const x=Wo(!1);try{(0,P.lh)(this)}finally{Wo(x)}},cleanup(){if(!this.cleanupFns?.length)return;const x=(0,P.Ht)(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],(0,P.Ht)(x)}}},bh={...to,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if((0,P.XR)(this),null!==this.onDestroyFns)for(const x of this.onDestroyFns)x();this.cleanup(),this.scheduler.remove(this)}},Pc={...to,consumerMarkedDirty(){this.view[Vi]|=8192,kn(this.view),this.notifier.notify(13)},destroy(){if((0,P.XR)(this),null!==this.onDestroyFns)for(const x of this.onDestroyFns)x();this.cleanup(),this.view[mi]?.delete(this)}};function gd(x,H){return()=>{H(ae=>(x.cleanupFns??=[]).push(ae))}}function md(x){return(0,P.O8)(x)}},47925(O,S,i){i.d(S,{Z:()=>A,q:()=>c});var P=i(22097);class c extends P.${name="Maple Syrup";tier=4;equipmentClass="shield";power=0;originalPower=0;uses=3;originalUses=3}class A extends P.${name="Maple Syrup (Attack)";equipmentClass="attack";power=0;originalPower=0}},48191(O,S,i){i.d(S,{m:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Hippocampus";tier=4;pack="Custom";attack=4;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"HippocampusAbility",owner:t,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{gameApi:n,tiger:a,pteranodon:l}=t,r=this.owner;if(!n)return void this.triggerTigerExecution(t);const u=r.parent===n.player?n.playerRollAmount||0:n.opponentRollAmount||0,g=u*this.level;g<=0||(r.increaseMana(g),(0,A.rv)(this.logService,r,`${r.name} gained ${g} mana from ${u} rolls this turn.`,a,l)),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},48352(O,S,i){i.d(S,{X:()=>c});var P=i(50873);class c extends P.L{name="Glass Shoes";tier=4;friendFaints(_,v,e,t){if(e||this.triggers++,this.triggers%3!=0)return;let n=v.parent.petArray.filter(a=>a.alive);for(let a of n)this.logService.createLog({message:`${this.name} gave ${a.name} ${t} attack and ${t} health.`,type:"ability",player:this.parent,puma:e}),a.increaseAttack(+t),a.increaseHealth(+t)}}},48356(O,S,i){i.d(S,{i:()=>A});var P=i(57488),c=i(50873);class A extends c.L{name="Chocolate Box";tier=1;startOfBattle(v,e){const t=(0,P.a)(v,this.parent);for(const n of this.parent.petArray)n.increaseExp(1),this.logService.createLog({message:`${this.name} gave ${n.name} 1 exp.`,type:"ability",player:this.parent,puma:e});for(const n of t.petArray)n.increaseExp(2),this.logService.createLog({message:`${this.name} gave ${n.name} 2 exp.`,type:"ability",player:this.parent,puma:e})}}},48549(O,S,i){i.d(S,{$:()=>v});var P=i(51610),c=i(46200),A=i(34748),_=i(5615);class v extends c.i{logService;abilityService;name="Beluga Sturgeon";tier=2;pack="Puppy";attack=2;health=3;constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}}class e extends _.T{logService;abilityService;constructor(n,a,l){super({name:"BelugaSturgeonAbility",owner:n,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=a,this.abilityService=l}executeAbility(n){const{tiger:r,pteranodon:u}=n,g=this.owner;for(let f=0;f<this.level;f++){let D=new A.V(this.logService,this.abilityService,g.parent,3,2,0,0,null),k=g.parent.summonPet(D,4,!1,g);k.success&&(this.logService.createLog({message:`${g.name} summoned a 2/3 Dolphin in the back.`,type:"ability",player:g.parent,randomEvent:k.randomEvent,tiger:r,pteranodon:u}),D.givePetEquipment(new P.o),this.logService.createLog({message:`${g.name} gave ${D.name} Rice.`,type:"ability",player:g.parent,randomEvent:!1,tiger:r,pteranodon:u}))}this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},48576(O,S,i){i.d(S,{b:()=>c});var P=i(22097);class c extends P.${name="Cold";equipmentClass="ailment-defense";power=-5;originalPower=-5;uses=1;originalUses=1}},48626(O,S,i){i.d(S,{z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Lamprey";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"LampreyAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:n,pteranodon:a}=e,l=this.owner;if(!t)return void this.triggerTigerExecution(e);const r=l.parent.nearestPetsAhead(this.level,l);if(0===r.pets.length)return void this.triggerTigerExecution(e);const u=r.pets;for(const f of u)l.dealDamage(f,1);const g=u.map(f=>f.name).join(", ");this.logService.createLog({message:`${l.name} dealt 1 damage to ${g} when ${t.name} fainted.`,type:"ability",player:l.parent,tiger:n,pteranodon:a,randomEvent:r.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},48740(O,S,i){i.d(S,{W:()=>Gt});var P=i(6988),c=i(90417),A=i(10858),_=i(16725),v=i(63683),e=i(36548),t=i(95033),n=i(33411),a=i(4399),l=i(3057),r=i(24990),u=i(60797),g=i(27906),f=i(24609),D=i(65006),k=i(75518),L=i(35115),F=i(22806),j=i(15896),ee=i(59951),J=i(34133),V=i(40212),ie=i(43870),oe=i(20188),ce=i(13420),ve=i(13891),Ee=i(72354),Te=i(44398),ke=i(50745),de=i(42390),Se=i(30450),Be=i(90771),Ne=i(80163),Ue=i(15684),lt=i(35454),it=i(59713),Ke=i(12765),qe=i(76350),_t=i(72297),pt=i(69792),tt=i(40468),gt=i(91543),at=i(30126),wt=i(20802),ut=i(93525),Ge=i(65103),Ot=i(63979),Qt=i(93699),mt=i(17144),Yt=i(68546),Et=i(93012),ge=i(21545),Le=i(77648),Ve=i(39486),Fe=i(91576),ot=i(37272),Ut=i(89443),Kt=i(52865),qt=i(67336),Vt=i(5611);const Gt={"Iriomote Cat":P.U,"Ili Pika":c.M,"Malay Tapir":A.P,"Bombus Dahlbomii":_.o,"African Wild Dog":l.B,"Ethiopian Wolf":v.A,"Fan Mussel":e.u,"Togian Babirusa":t.Y,"Tooth Billed Pigeon":n.L,"Volcano Snail":a.K,"Araripe Manakin":r.s,"European Mink":u.N,"Proboscis Monkey":g.c,"Pygmy Hog":f.R,Saola:D.$,"Saker Falcon":k.j,"Taita Shrew":L.t,"White-Bellied Heron":F.d,"Darwin's Fox":j.y,"Amami Rabbit":ke.y,"Tree Kangaroo":de.T,"Blue-Throated Macaw":J.B,Hirola:V._,"Monkey-Faced Bat":ie.C,Takin:ce.a,Tucuxi:ve.x,"Pygmy Hippo":oe.$,"Spoon-Billed Sandpiper":Te.m,Angelshark:Se.H,"Giant Otter":pt.M,"Giant Tortoise":Ne.d,"Humphead Wrasse":Ue.S,Kakapo:it.i,"Longcomb Sawfish":Ke.n,"Tasmanian Devil":_t.P,"Amazon River Dolphin":qe.$,"Aye-aye":tt.F,"Banggai Cardinalfish":gt.Q,"Geometric Tortoise":at.t,"Giant Pangasius":wt.B,"Hawaiian Monk Seal":ut.B,"Marine Iguana":Ge.y,"Red Panda":Ot.e,"Taita Thrush":Qt.k,"Snow Leopard":Yt.V,"Painted Terrapin":mt.X,"Amsterdam Albatross":Et.A,"Black Rhino":Le.a,"Blue Whale":Ve.i,"Green Sea Turtle":ot.N,"Helmeted Hornbill":Ut.L,"Philippine Eagle":Kt.B,"Sumatran Tiger":Vt.Z,"Bay Cat":ge.P,Bonobo:Be.m,"California Condor":Fe.k,"Golden Tamarin":lt.U,"Roloway Monkey":Ee.n,"Silky Sifaka":qt.e,Takhi:ee.y}},48762(O,S,i){i.d(S,{S:()=>_});var P=i(46200),c=i(5615),A=i(61850);class _ extends P.i{logService;abilityService;name="Hyena";tier=5;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"HyenaAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{gameApi:n,tiger:l,pteranodon:r}=t;switch(this.level){case 1:this.level1Ability(n,l,r);break;case 2:this.level2Ability(n,l,r);break;case 3:this.level3Ability(n,l,r)}this.triggerTigerExecution(t)}level1Ability(t,n,a){const l=this.owner;let r=l.parent.getAll(!0,l);for(let u of r.pets){let g=u.health;u.health=u.attack,u.attack=g}this.logService.createLog({message:`${l.name} swapped all pets attack and health.`,type:"ability",player:l.parent,tiger:n,pteranodon:a})}level2Ability(t,n,a){const l=this.owner;this.shufflePets(t.player),this.shufflePets(t.opponent),this.logService.createLog({message:`${l.name} shuffled positions of all pets.`,type:"ability",player:l.parent,tiger:n,pteranodon:a,randomEvent:!0})}level3Ability(t,n,a){this.level1Ability(t,n,a),this.level2Ability(t,n,a)}shufflePets(t){let n=t.petArray;(0,A.k4)(n);for(let a=0;a<n.length;a++)t.setPet(a,n[a])}copy(t){return new v(t,this.logService)}}},48813(O,S,i){i.d(S,{a:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Jerboa";tier=4;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;lastTriggeredTurn=null;constructor(e,t,n){super({name:"Jerboa Ability",owner:e,triggers:["AppleEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:t,pteranodon:n,gameApi:a}=e,l=this.owner,r=a?.turnNumber??null;if(null!=r&&this.lastTriggeredTurn===r)return void this.triggerTigerExecution(e);this.lastTriggeredTurn=r;const u=this.level,g=l.parent,f=g.petArray.filter(D=>D&&D.alive&&D!==l);if(0!==f.length){for(const D of f)D.increaseAttack(u),D.increaseHealth(u);this.logService.createLog({message:`${l.name} ate an apple and gave friendly pets +${u}/+${u}.`,type:"ability",player:g,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},48955(O,S,i){i.d(S,{t:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Wolf";tier=5;pack="Golden";attack=4;health=4;constructor(e,t,n,a,l,r,u,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,l,r,u,f,D)}initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class _ extends c.T{logService;abilityService;petService;constructor(e,t,n,a){super({name:"WolfAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=t,this.abilityService=n,this.petService=a}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u={attack:3*this.level,health:2*this.level};for(let g=0;g<3;g++){let f=this.petService.createPet({attack:u.attack,equipment:null,exp:r.minExpForLevel,health:u.health,name:"Pig",mana:0},r.parent),D=r.parent.summonPet(f,r.savedPosition,!1,r);D.success&&this.logService.createLog({message:`${r.name} spawned ${f.name} ${u.attack}/${u.health}`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:D.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService,this.petService)}}},49090(O,S,i){i.d(S,{n:()=>_});var P=i(95006),c=i(84787),A=i(13004);function _(t,n){return"function"==typeof n?a=>a.pipe(_((l,r)=>(0,c.H)(t(l,r)).pipe((0,P.T)((u,g)=>n(l,u,r,g))))):a=>a.lift(new v(t))}class v{constructor(n){this.project=n}call(n,a){return a.subscribe(new e(n,this.project))}}class e extends A.gn{constructor(n,a){super(n),this.project=a,this.index=0}_next(n){let a;const l=this.index++;try{a=this.project(n,l)}catch(r){return void this.destination.error(r)}this._innerSub(a)}_innerSub(n){const a=this.innerSubscription;a&&a.unsubscribe();const l=new A.zA(this),r=this.destination;r.add(l),this.innerSubscription=(0,A.tS)(n,l),this.innerSubscription!==l&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:n}=this;(!n||n.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(n){this.destination.next(n)}}},49149(O,S,i){i.d(S,{e:()=>t});var P=i(23828),c=i(61850),A=i(83028),_=i(47868),v=i(1744),e=i(24111);let t=(()=>{class n{gameService;logService;startOfBattleToyEvents=[];emptyFrontSpaceToyEvents=[];friendSummonedToyEvents=[];friendlyLevelUpToyEvents=[];friendFaintsToyEvents=[];friendJumpedToyEvents=[];constructor(l,r){this.gameService=l,this.logService=r,this.logService=(0,A.V)(this.logService)}enqueueToyEvents(l,r,u,g,f){this.addToyEvent(l,{callback:f,priority:100,level:u.level,triggerPet:g,player:r,customParams:{toyName:u.name,suppressFriendFaintLog:u.suppressFriendFaintLog}});const D=r.petArray.filter(k=>"Puma"===k.name);for(const k of D)this.addToyEvent(l,{callback:f,priority:+k.attack,level:k.level,triggerPet:g,player:r})}getActiveToys(l){const r=[];return l.toy&&r.push(l.toy),l.hardToy&&r.push(l.hardToy),r}addToyEvent(l,r){l.push(r)}setStartOfBattleEvent(l){l.tieBreaker=(0,c.Ak)(),this.startOfBattleToyEvents.push(l)}executeStartOfBattleEvents(){const l=(0,P.A)(this.startOfBattleToyEvents);l.sort((u,g)=>u.priority!==g.priority?g.priority-u.priority:(g.tieBreaker??0)-(u.tieBreaker??0));const r=new Map;for(const u of l)r.set(u.priority,(r.get(u.priority)??0)+1);for(const u of l){const g=(r.get(u.priority)??0)>1;this.logStartOfBattleToyEvent(u,g,g?"tie-broken":"deterministic"),u.callback(this.gameService.gameApi)}this.startOfBattleToyEvents=[]}logStartOfBattleToyEvent(l,r,u){const g=l.customParams?.toyName??l.player?.toy?.name;g&&this.logService.createLog({message:`${l.player?.isOpponent?"Opponent's":"Player's"} ${g} activated at start of battle${l.triggerPet?.name?` (${l.triggerPet.name})`:""}`,type:"ability",player:l.player,randomEvent:r,randomEventReason:u})}executeToyEventQueue(l,r,u,g){const f=(0,P.A)(l);f.sort((k,L)=>k.priority>L.priority?-1:k.priority<L.priority?1:0);const D=new Map;for(const k of f)D.set(k.priority,(D.get(k.priority)??0)+1);for(const k of f){if(u&&(null==g||g(k))){const L=(D.get(k.priority)??0)>1;this.logToyEvent(k,u,L,L?"tie-broken":"deterministic")}r(k)}l.length=0}logToyEvent(l,r,u,g){const f=l.customParams?.toyName??l.player?.toy?.name;f&&this.logService.createLog({message:`${f} ${r}${l.triggerPet?.name?` (${l.triggerPet.name})`:""}`,type:"ability",player:l.player,randomEvent:u,randomEventReason:g})}triggerEmptyFrontSpaceToyEvents(l){for(const r of this.getActiveToys(l))null!=r.emptyFromSpace&&(r.used||this.enqueueToyEvents(this.emptyFrontSpaceToyEvents,l,r,void 0,r.emptyFromSpace.bind(r)))}executeEmptyFrontSpaceToyEvents(){this.executeToyEventQueue(this.emptyFrontSpaceToyEvents,l=>{l.callback(this.gameService.gameApi,l.priority<100,l.level,l.priority)},"triggered after empty front space")}triggerFriendSummonedToyEvents(l,r){for(const u of this.getActiveToys(l))null!=u.friendSummoned&&this.enqueueToyEvents(this.friendSummonedToyEvents,l,u,r,u.friendSummoned.bind(u))}executeFriendSummonedToyEvents(){this.executeToyEventQueue(this.friendSummonedToyEvents,l=>{l.callback(this.gameService.gameApi,l.triggerPet,l.priority<100,l.level)},"reacted to friend summoned")}triggerFriendlyLevelUpToyEvents(l,r){if(l==r.parent)for(const u of this.getActiveToys(l))null!=u.friendlyLevelUp&&this.enqueueToyEvents(this.friendlyLevelUpToyEvents,l,u,r,u.friendlyLevelUp.bind(u))}executeFriendlyLevelUpToyEvents(){this.executeToyEventQueue(this.friendlyLevelUpToyEvents,l=>{l.callback(this.gameService.gameApi,l.triggerPet,l.priority<100,l.level)},"reacted to friendly level up")}triggerFriendFaintsToyEvents(l,r){if(l==r.parent)for(const u of this.getActiveToys(l))null!=u.friendFaints&&this.enqueueToyEvents(this.friendFaintsToyEvents,l,u,r,u.friendFaints.bind(u))}executeFriendFaintsToyEvents(){this.executeToyEventQueue(this.friendFaintsToyEvents,l=>{l.callback(this.gameService.gameApi,l.triggerPet,l.priority<100,l.level)},"reacted to friend fainting",l=>!l.customParams?.suppressFriendFaintLog)}triggerFriendJumpedToyEvents(l,r){if(l==r.parent)for(const u of this.getActiveToys(l))null!=u.friendJumped&&this.enqueueToyEvents(this.friendJumpedToyEvents,l,u,r,u.friendJumped.bind(u))}executeFriendJumpedToyEvents(){this.executeToyEventQueue(this.friendJumpedToyEvents,l=>{l.callback(this.gameService.gameApi,l.triggerPet,l.priority<100,l.level)},"reacted to friend jumping")}static \u0275fac=function(r){return new(r||n)(_.KVO(v.w),_.KVO(e.K))};static \u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()},49230(O,S,i){i.d(S,{K:()=>l});var P=i(99462),c=i(83028),A=i(47868),_=i(1744),v=i(24111),e=i(49149),t=i(22168),n=i(23393),a=i(63891);let l=(()=>{class r extends P.m{gameService;logService;toyEventService;abilityQueueService;attackEventService;faintEventService;gameApi;lastLoggedTrigger;constructor(g,f,D,k,L,F){super(),this.gameService=g,this.logService=f,this.toyEventService=D,this.abilityQueueService=k,this.attackEventService=L,this.faintEventService=F,this.logService=(0,c.V)(this.logService)}clearGlobalEventQueue(){this.abilityQueueService.clearGlobalEventQueue(),this.lastLoggedTrigger=void 0}get hasGlobalEvents(){return this.abilityQueueService.hasGlobalEvents}get hasAbilityCycleEvents(){return this.abilityQueueService.hasGlobalEvents}getQueueSnapshot(){return[...this.abilityQueueService.globalEventQueue]}getNextHighestPriorityEvent(){return this.abilityQueueService.getNextHighestPriorityEvent()}peekNextHighestPriorityEvent(){return this.abilityQueueService.peekNextHighestPriorityEvent()}getPriorityNumber(g){return this.abilityQueueService.getPriorityNumber(g)}executeEventCallback(g){this.logTriggerHeader(g),this.abilityQueueService.executeEvent(g,this.gameService.gameApi),this.hasGlobalEvents||(this.lastLoggedTrigger=void 0)}logTriggerHeader(g){if(!this.logService.isShowTriggerNamesInLogs())return void(this.lastLoggedTrigger=void 0);const f=g?.abilityType;f&&this.lastLoggedTrigger!==f&&(this.lastLoggedTrigger=f,this.logService.createLog({message:`${f}:`,type:"ability",player:g.player??g.pet?.parent}))}clearLastLoggedTrigger(){this.lastLoggedTrigger=void 0}simulatePostRemovalFriendFaintsCounters(g,f){this.abilityQueueService.simulatePostRemovalFriendFaintsCounters(g,f)}initSpecialEndTurnAbility(g){for(let f of g.petArray)f.hasTrigger("SpecialEndTurn")&&f.executeAbilities("SpecialEndTurn",this.gameService.gameApi)}triggerBeforeStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let g of this.gameApi.player.petArray)g.hasTrigger("BeforeStartBattle")&&this.abilityQueueService.triggerAbility(g,"BeforeStartBattle");for(let g of this.gameApi.opponent.petArray)g.hasTrigger("BeforeStartBattle")&&this.abilityQueueService.triggerAbility(g,"BeforeStartBattle")}resetBeforeStartOfBattleEvents(){}executeBeforeStartOfBattleEvents(){this.processPhaseWithInterleaving(new Set(["BeforeStartBattle"]))}setCounterEvent(g){this.abilityQueueService.addEventToQueue(g)}triggerStartBattleEvents(g){this.gameApi=this.gameService.gameApi;for(let f of this.gameApi.player.petArray)f.hasTrigger("StartBattle")&&(!g||g(f))&&this.abilityQueueService.triggerAbility(f,"StartBattle");for(let f of this.gameApi.opponent.petArray)f.hasTrigger("StartBattle")&&(!g||g(f))&&this.abilityQueueService.triggerAbility(f,"StartBattle")}executeStartBattleEvents(){this.processPhaseWithInterleaving(new Set(["StartBattle"]))}triggerBeforeAttackEvent(g){this.attackEventService.triggerBeforeAttackEvents(g)}executeBeforeAttackEvents(){const g=new Set(["BeforeFriendlyAttack","BeforeThisAttacks","BeforeFirstAttack","BeforeFriendAttacks","BeforeAdjacentFriendAttacked"]),f=new Set(["BeforeStartBattle","StartBattle"]);this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:D=>g.has(D.abilityType),onExecute:D=>this.logTriggerHeader(D)}),this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:D=>!f.has(D.abilityType),onExecute:D=>this.logTriggerHeader(D)}),this.lastLoggedTrigger=void 0}executeBeforeAttackTriggerOnly(){const g=new Set(["BeforeFriendlyAttack","BeforeThisAttacks","BeforeFirstAttack","BeforeFriendAttacks","BeforeAdjacentFriendAttacked"]);this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:f=>g.has(f.abilityType),onExecute:f=>this.logTriggerHeader(f)}),this.lastLoggedTrigger=void 0}triggerAttacksEvents(g){this.attackEventService.triggerAfterAttackEvents(g)}executeAfterAttackEvents(){const g=new Set(["FriendlyAttacked","FriendAttacked","FriendAheadAttacked","AdjacentFriendAttacked","AnyoneAttack","EnemyAttacked","ThisAttacked","ThisFirstAttack"]),f=new Set(["BeforeStartBattle","StartBattle"]);this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:D=>{const k=D.abilityType;return!!g.has(k)||/^(FriendlyAttacked|FriendAttacked|EnemyAttacked)\d+$/.test(k)},onExecute:D=>this.logTriggerHeader(D)}),this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:D=>!f.has(D.abilityType),onExecute:D=>this.logTriggerHeader(D)}),this.lastLoggedTrigger=void 0}takeNextPhaseEvent(g){const f=this.abilityQueueService.globalEventQueue;let D=-1;for(let L=0;L<f.length;L++){const F=f[L];if(!g.has(F.abilityType))continue;if(-1===D){D=L;continue}const j=f[D],ee=this.abilityQueueService.getPriorityNumber(F.abilityType),J=this.abilityQueueService.getPriorityNumber(j.abilityType);if(ee<J){D=L;continue}if(ee>J)continue;const V=F.pet?.transformed&&F.pet?.transformedInto?F.pet.transformedInto:F.pet,ie=j.pet?.transformed&&j.pet?.transformedInto?j.pet.transformedInto:j.pet,oe=V?this.abilityQueueService.getPetEventPriority(V):Number(F.priority??0),ce=ie?this.abilityQueueService.getPetEventPriority(ie):Number(j.priority??0);oe>ce?D=L:oe<ce||Number(F.tieBreaker??0)<Number(j.tieBreaker??0)&&(D=L)}if(-1===D)return null;const[k]=f.splice(D,1);return k??null}processPhaseWithInterleaving(g){for(;;){const f=this.takeNextPhaseEvent(g);if(!f)break;this.logTriggerHeader(f),this.abilityQueueService.executeEvent(f,this.gameService.gameApi),this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:D=>!g.has(D.abilityType),onExecute:D=>this.logTriggerHeader(D)})}this.lastLoggedTrigger=void 0}static \u0275fac=function(f){return new(f||r)(A.KVO(_.w),A.KVO(v.K),A.KVO(e.e),A.KVO(t.b),A.KVO(n.q),A.KVO(a.q))};static \u0275prov=A.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()},49449(O,S,i){i.d(S,{o:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Giant Isopod";tier=5;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;triggerCount=0;constructor(e,t){super({name:"Giant Isopod Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,l=[2,4,6][Math.min(Math.max(this.level-1,0),2)]+Math.floor(this.triggerCount/2),r=t.parent.petArray.filter(u=>u&&u.alive&&u!==t);for(const u of r)u.increaseHealth(l);this.logService.createLog({message:`${t.name} gave ${r.length} friends +${l} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),t.parent.trumpets>=2&&t.parent.spendTrumpets(2,t),this.triggerCount++,this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},49517(O,S,i){i.d(S,{I:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Beluga Whale";tier=5;pack="Golden";attack=2;health=5;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f,D,k){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,l,r,u,f,D),this.belugaSwallowedPet=k??null}}class _ extends c.T{logService;abilityService;petService;constructor(e,t,n,a){super({name:"BelugaWhaleAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:l=>{this.executeAbility(l)},ignoreRepeats:!0}),this.logService=t,this.abilityService=n,this.petService=a}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;if(null==r.belugaSwallowedPet||r.alive)return;let u=this.petService.createPet({attack:null,equipment:null,exp:this.minExpForLevel,health:null,name:r.belugaSwallowedPet,mana:0},r.parent);const g=this.level,D=u.health-u.exp;u.attack=(u.attack-u.exp)*g,u.health=D*g,u.originalAttack=u.attack,u.originalHealth=u.health;let k=r.parent.summonPet(u,r.savedPosition,!1,r);k.success&&this.logService.createLog({message:`${r.name} spawned ${u.name} Level ${this.level}`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:k.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService,this.petService)}}},49547(O,S,i){i.d(S,{x:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Jackal";tier=5;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Jackal Ability",owner:e,triggers:["AnyoneFlung"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=e.triggerPet;if(!n||n!==t)return;const a=[13,26,39],l=a[Math.min(Math.max(this.level-1,0),a.length-1)];t.attack=l,t.health=l,this.logService.createLog({message:`${t.name} was flung and reset to ${l}/${l}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},49575(O,S,i){i.d(S,{W:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Axolotl";tier=5;pack="Puppy";attack=2;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"AxolotlAbility",owner:t,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:3,precondition:a=>{const{triggerPet:l}=a,g=(0,A.lK)(this.owner,l).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:l}=t,u=this.owner;let g=(0,A.lK)(u,a),f=g.pet;if(null==f)return;let D=this.level;f.increaseAttack(D),f.increaseHealth(D),this.logService.createLog({message:`${u.name} gave ${f.name} ${D} attack and ${D} health.`,type:"ability",player:u.parent,tiger:l,randomEvent:g.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},49769(O,S,i){i.d(S,{MD:()=>za,Sq:()=>Xn,T3:()=>ze,YU:()=>Gn,bT:()=>hn});var P=i(17705),c=i(47868),A=i(35547);const Ai=/\s+/,Qi=[];let Gn=(()=>{class Y{_ngEl;_renderer;initialClasses=Qi;rawClass;stateMap=new Map;constructor(ne,se){this._ngEl=ne,this._renderer=se}set klass(ne){this.initialClasses=null!=ne?ne.trim().split(Ai):Qi}set ngClass(ne){this.rawClass="string"==typeof ne?ne.trim().split(Ai):ne}ngDoCheck(){for(const se of this.initialClasses)this._updateState(se,!0);const ne=this.rawClass;if(Array.isArray(ne)||ne instanceof Set)for(const se of ne)this._updateState(se,!0);else if(null!=ne)for(const se of Object.keys(ne))this._updateState(se,!!ne[se]);this._applyStateDiff()}_updateState(ne,se){const De=this.stateMap.get(ne);void 0!==De?(De.enabled!==se&&(De.changed=!0,De.enabled=se),De.touched=!0):this.stateMap.set(ne,{enabled:se,changed:!0,touched:!0})}_applyStateDiff(){for(const ne of this.stateMap){const se=ne[0],De=ne[1];De.changed?(this._toggleClass(se,De.enabled),De.changed=!1):De.touched||(De.enabled&&this._toggleClass(se,!1),this.stateMap.delete(se)),De.touched=!1}}_toggleClass(ne,se){(ne=ne.trim()).length>0&&ne.split(Ai).forEach(De=>{se?this._renderer.addClass(this._ngEl.nativeElement,De):this._renderer.removeClass(this._ngEl.nativeElement,De)})}static \u0275fac=function(se){return new(se||Y)(A.rXU(A.aKT),A.rXU(A.sFG))};static \u0275dir=A.FsC({type:Y,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return Y})();class an{$implicit;ngForOf;index;count;constructor(me,ne,se,De){this.$implicit=me,this.ngForOf=ne,this.index=se,this.count=De}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xn=(()=>{class Y{_viewContainer;_template;_differs;set ngForOf(ne){this._ngForOf=ne,this._ngForOfDirty=!0}set ngForTrackBy(ne){this._trackByFn=ne}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(ne,se,De){this._viewContainer=ne,this._template=se,this._differs=De}set ngForTemplate(ne){ne&&(this._template=ne)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const ne=this._ngForOf;!this._differ&&ne&&(this._differ=this._differs.find(ne).create(this.ngForTrackBy))}if(this._differ){const ne=this._differ.diff(this._ngForOf);ne&&this._applyChanges(ne)}}_applyChanges(ne){const se=this._viewContainer;ne.forEachOperation((De,He,Ze)=>{if(null==De.previousIndex)se.createEmbeddedView(this._template,new an(De.item,this._ngForOf,-1,-1),null===Ze?void 0:Ze);else if(null==Ze)se.remove(null===He?void 0:He);else if(null!==He){const st=se.get(He);se.move(st,Ze),Pa(st,De)}});for(let De=0,He=se.length;De<He;De++){const st=se.get(De).context;st.index=De,st.count=He,st.ngForOf=this._ngForOf}ne.forEachIdentityChange(De=>{Pa(se.get(De.currentIndex),De)})}static ngTemplateContextGuard(ne,se){return!0}static \u0275fac=function(se){return new(se||Y)(A.rXU(A.c1b),A.rXU(A.C4Q),A.rXU(P._q3))};static \u0275dir=A.FsC({type:Y,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return Y})();function Pa(Y,me){Y.context.$implicit=me.item}let hn=(()=>{class Y{_viewContainer;_context=new gn;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(ne,se){this._viewContainer=ne,this._thenTemplateRef=se}set ngIf(ne){this._context.$implicit=this._context.ngIf=ne,this._updateView()}set ngIfThen(ne){di(ne),this._thenTemplateRef=ne,this._thenViewRef=null,this._updateView()}set ngIfElse(ne){di(ne),this._elseTemplateRef=ne,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(ne,se){return!0}static \u0275fac=function(se){return new(se||Y)(A.rXU(A.c1b),A.rXU(A.C4Q))};static \u0275dir=A.FsC({type:Y,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return Y})();class gn{$implicit=null;ngIf=null}function di(Y,me){if(Y&&!Y.createEmbeddedView)throw new c.buA(2020,!1)}let ze=(()=>{class Y{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(ne){this._viewContainerRef=ne}ngOnChanges(ne){if(this._shouldRecreateView(ne)){const se=this._viewContainerRef;if(this._viewRef&&se.remove(se.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const De=this._createContextForwardProxy();this._viewRef=se.createEmbeddedView(this.ngTemplateOutlet,De,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(ne){return!!ne.ngTemplateOutlet||!!ne.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(ne,se,De)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,se,De),get:(ne,se,De)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,se,De)}})}static \u0275fac=function(se){return new(se||Y)(A.rXU(A.c1b))};static \u0275dir=A.FsC({type:Y,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[A.OA$]})}return Y})(),za=(()=>{class Y{static \u0275fac=function(se){return new(se||Y)};static \u0275mod=A.$C({type:Y});static \u0275inj=c.G2t({})}return Y})()},49943(O,S,i){i.d(S,{b:()=>_});var P=i(44402),c=i(46200),A=i(5615);class _ extends c.i{logService;abilityService;name="Turtle";tier=4;pack="Turtle";attack=2;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;constructor(t,n){super({name:"TurtleAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let g=u.parent.getPetsWithEquipment("Melon"),f=u.parent.nearestPetsBehind(this.level,u,g);if(0!=f.pets.length){for(let D of f.pets)this.logService.createLog({message:`${u.name} gave ${D.name} Melon.`,type:"ability",tiger:l,player:u.parent,pteranodon:r,randomEvent:f.random}),D.givePetEquipment(new P.m);this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},49999(O,S,i){i.d(S,{O:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Black Necked Stilt";tier=2;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BlackNeckedStiltAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{pteranodon:l}=e,r=this.owner;let u=2*this.level;const g=r.parent.resolveTrumpetGainTarget(r);g.player.gainTrumpets(u,r,l,void 0,void 0,g.random),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},50048(O,S,i){i.d(S,{EX:()=>v});var P=i(607),c=i(46200),A=i(24207),_=i(5615);class v extends c.i{logService;abilityService;name="Phoenix";tier=6;pack="Unicorn";attack=8;health=8;initAbilities(){this.addAbility(new t(this,this.logService)),this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L){super(a,l,r),this.logService=a,this.abilityService=l,this.initPet(D,u,g,f,k,L)}}class e extends _.T{logService;abilityService;constructor(a,l,r){super({name:"PhoenixAfterFaintAbility",owner:a,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:u=>{this.executeAbility(u)}}),this.logService=l,this.abilityService=r}executeAbility(a){const{tiger:u,pteranodon:g}=a,f=this.owner;let D=4*this.level,k=new A.C(this.logService,this.abilityService,f.parent,D,D,0),L=f.parent.summonPet(k,f.savedPosition,!1,f);L.success&&this.logService.createLog({message:`${f.name} spawned a Young Phoenix (${D}/${D}).`,type:"ability",player:f.parent,tiger:u,pteranodon:g,sourcePet:f,randomEvent:L.randomEvent}),this.triggerTigerExecution(a)}copy(a){return new e(a,this.logService,this.abilityService)}}class t extends _.T{logService;constructor(a,l){super({name:"PhoenixFaintAbility",owner:a,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=l}executeAbility(a){const{tiger:u}=a,f=this.owner;let D=3*this.level,L=[...f.parent.petArray,...f.parent.opponent.petArray].filter(ee=>ee.equipment instanceof P.Y),F=f.parent.getRandomPets(D,L,!0,!0,f,!0),j=F.pets;if(j.length>0)for(let ee of j)this.logService.createLog({message:`${f.name} gave ${ee.name} Crisp.`,type:"ability",randomEvent:F.random,tiger:u,player:f.parent}),ee.givePetEquipment(new P.Y);this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},50119(O,S,i){i.d(S,{e:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Falcon";tier=4;pack="Golden";attack=5;health=5;initAbilities(){this.addAbility(new _(this,this.logService,this.petService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,l,r,u,f,D)}}class _ extends c.T{logService;petService;abilityService;constructor(e,t,n,a){super({name:"FalconAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=t,this.petService=n,this.abilityService=a}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let u=3*this.level,g=this.petService.createPet({attack:u,health:u,name:n.name,exp:r.minExpForLevel,equipment:null,mana:0},r.parent),f=r.parent.summonPet(g,r.savedPosition,!1,r);f.success&&this.logService.createLog({message:`${r.name} spawned ${g.name} ${u}/${u} Level ${this.level}`,type:"ability",player:r.parent,tiger:a,randomEvent:f.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.petService,this.abilityService)}}},50229(O,S,i){i.d(S,{F:()=>_});var P=i(46200),c=i(5615),A=i(15523);class _ extends P.i{logService;abilityService;name="Cuckoo";tier=5;pack="Custom";attack=5;health=4;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"CuckooAbility",owner:t,triggers:["EnemyFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{triggerPet:n,tiger:a,pteranodon:l}=t,r=this.owner,u=r.parent.opponent;if(this.currentUses>2*this.level)return;let f=new A.Z(this.logService,this.abilityService,u);f.initPet(0,1,1,0,null,0);let k=u.summonPet(f,n?.savedPosition??0,!0,r);k.success&&this.logService.createLog({message:`${r.name} summoned Cuckoo Chick for the enemy Early.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:k.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},50253(O,S,i){i.d(S,{A:()=>v});var P=i(31685),c=i(42661);const v=function _(e){return(0,c.A)(e)&&"[object Arguments]"==(0,P.A)(e)}},50336(O,S,i){i.d(S,{A:()=>A});var P=i(61319);const A=function c(_,v){for(var e=_.length;e--;)if((0,P.A)(_[e][0],v))return e;return-1}},50342(O,S,i){i.d(S,{y:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Siamese";tier=4;pack="Star";health=5;attack=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"SiameseAbility",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,a=(0,A.MZ)(n);if(0===a.length)return void this.triggerTigerExecution(t);const r=this.level,u=!0===t.discountedFood||!0===t.shopDiscountedFood?this.level:0;for(const g of a)g.increaseAttack(r),u>0&&g.increaseHealth(u);this.logService.createLog({message:`${n.name} gave adjacent friends +${r} attack${u>0?` and +${u} health`:""}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:a.length>1}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},50424(O,S,i){i.d(S,{S:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Octopus";tier=6;pack="Puppy";attack=8;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"OctopusAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner,u=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,[r],null,!0,r);let g=u.pets;for(let D of g){if(null==D)return;r.snipePet(D,6,u.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},50598(O,S,i){i.d(S,{g:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Lobster";tier=4;pack="Puppy";attack=3;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"LobsterAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,a=(0,A.Uj)(n,t.triggerPet);if(!a.pet)return;const l=this.level,r=2*this.level;a.pet.increaseAttack(l),a.pet.increaseHealth(r),(0,A.rv)(this.logService,n,`${n.name} gave ${a.pet.name} ${l} attack and ${r} health.`,t.tiger,t.pteranodon,{randomEvent:a.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},50702(O,S,i){i.d(S,{s:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Buffalo";tier=4;pack="Puppy";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;pendingAttack=0;pendingHealth=0;constructor(e,t,n){super({name:"BuffaloAbility",owner:e,triggers:["FriendSold","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return(this.pendingAttack||this.pendingHealth)&&(t.increaseAttack(-this.pendingAttack),t.increaseHealth(-this.pendingHealth)),this.pendingAttack=0,this.pendingHealth=0,void this.triggerTigerExecution(e);const n=e.triggerPet;if(!n||!n.isSellPet())return void this.triggerTigerExecution(e);const a=2*this.level;t.increaseAttack(a),t.increaseHealth(a),this.pendingAttack+=a,this.pendingHealth+=a,this.logService.createLog({message:`${t.name} gained +${a}/+${a} until next turn after ${n.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},50745(O,S,i){i.d(S,{y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Amami Rabbit";tier=3;pack="Danger";attack=1;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AmamiRabbitAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=1*this.level,g=r.parent.opponent.getHighestAttackPet(void 0,r);if(g.pet&&g.pet.alive){if(r.jumpAttackPrep(g.pet),r.transformed&&r.transformedInto){let f=r.parent.getThis(r.transformedInto);f.pet&&(r.transformedInto.increaseAttack(u),this.logService.createLog({message:`${r.name} gave ${r.transformedInto.name} ${u} attack`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}))}else{let f=r.parent.getThis(r);f.pet&&(f.pet.increaseAttack(u),this.logService.createLog({message:`${r.name} gave ${f.pet.name} ${u} attack`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}))}r.jumpAttack(g.pet,a,void 0,g.random)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},50795(O,S,i){i.d(S,{I:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Capybara";tier=3;pack="Star";attack=2;health=6;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"CapybaraAbility",owner:e,triggers:["Roll","FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} gave newly rolled shop pets +${n}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},50871(O,S,i){i.d(S,{i:()=>v});var P=i(46200),c=i(5615),A=i(83991),_=i(1152);class v extends P.i{logService;abilityService;name="Bilby";tier=2;pack="Puppy";attack=2;health=4;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends c.T{logService;reset(){this.maxUses=this.level,super.reset()}constructor(n,a){super({name:"BilbyAbility",owner:n,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,precondition:l=>(0,_.Re)(this.owner,l.triggerPet,{excludeOwner:!0}),abilityFunction:l=>{this.executeAbility(l)}}),this.logService=a}executeAbility(n){const{triggerPet:l,tiger:r}=n,g=this.owner;let f=(0,_.lK)(g,l),D=f.pet;null!=D&&(this.logService.createLog({message:`${g.name} gave ${D.name} Garlic.`,type:"ability",player:g.parent,tiger:r,randomEvent:f.random}),D.givePetEquipment(new A.T),this.triggerTigerExecution(n))}copy(n){return new e(n,this.logService)}}},50873(O,S,i){i.d(S,{L:()=>c});var P=i(83028);class c{logService;toyService;name;parent;level;tier;used=!1;suppressFriendFaintLog=!1;triggers=0;constructor(_,v,e,t){this.logService=_,this.toyService=v,(0,P.L)(this),this.parent=e,this.level=t}}},50885(O,S,i){i.d(S,{p:()=>c});var P=i(22097);class c extends P.${name="Brussels Sprout";equipmentClass="shield";power=5;originalPower=5;uses=1;originalUses=1}},51235(O,S,i){i.d(S,{I:()=>A});var P=i(27389);const c=new P.c(v=>v.complete());function A(v){return v?function _(v){return new P.c(e=>v.schedule(()=>e.complete()))}(v):c}},51384(O,S,i){i.d(S,{d:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Elephant Seal";tier=6;pack="Puppy";attack=4;health=8;constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}}class _ extends c.T{logService;constructor(e,t){super({name:"ElephantSealAbility",owner:e,triggers:["ThisGainedPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:1,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=4*this.level,g=r.parent.getRandomPets(3,[r],!0,!1,r);for(let f of g.pets)null!=f&&(f.increaseAttack(u),f.increaseHealth(u),this.logService.createLog({message:`${r.name} gave ${f.name} ${u} attack and ${u} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}));this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},51610(O,S,i){i.d(S,{o:()=>c});var P=i(22097);class c extends P.${name="Rice";tier=2;equipmentClass="shop";callback=_=>{_.increaseSellValue(2*this.multiplier)}}},51665(O,S,i){i.d(S,{K:()=>_});var P=i(46200),c=i(80249),A=i(5615);class _ extends P.i{logService;abilityService;name="Fur-Bearing Trout";tier=3;pack="Unicorn";attack=3;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;constructor(t,n){super({name:"FurBearingTroutAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l}=t,u=this.owner;let g=[],f=u;for(;g.length<this.level;){let D=f.petBehind();if(null==D)break;D.equipment instanceof c.B||g.push(D),f=D}if(0!==g.length){for(let D of g)this.logService.createLog({message:`${u.name} gave ${D.name} a Rambutan.`,type:"ability",player:u.parent,tiger:l}),D.givePetEquipment(new c.B(this.logService));this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},51838(O,S,i){i.d(S,{K:()=>c});var P=i(22097);class c extends P.${name="Coconut";tier=7;equipmentClass="shield";power=999;originalPower=999;uses=1;originalUses=1}},51876(O,S,i){i.d(S,{u:()=>_});var P=i(46200),c=i(5615),A=i(42075);class _ extends P.i{logService;abilityService;name="Macaque";tier=5;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"MacaqueAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let g=12*this.level,f=new A.u(this.logService,this.abilityService,u.parent,g,g,0,u.minExpForLevel,u.equipment),D=u.parent.summonPetInFront(u,f);if(D.success){let k=`${u.name} spawned Orangutan ${f.attack}/${f.health}`;null!=u.equipment&&(k+=` with ${u.equipment.name}`),k+=".",this.logService.createLog({message:k,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:D.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},52078(O,S,i){i.d(S,{W:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Thunderbird";tier=2;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ThunderbirdAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.nearestPetsAhead(2,r);if(u.pets.length<1)return;let f=u.pets[1]??u.pets[0];if(null==f)return;let D=3*this.level;this.logService.createLog({message:`${r.name} gave ${f.name} ${D} mana.`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random}),f.increaseMana(D),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},52164(O,S,i){i.d(S,{g:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Grizzly Bear";tier=6;pack="Golden";attack=6;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GrizzlyBearAbility",owner:e,triggers:["FriendlyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.getRandomEnemyPetsWithSillyFallback(2,[],!0,!1,r),g=u.pets,f=6*this.level;for(let D of g)r.snipePet(D,f,u.random,a);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},52561(O,S,i){i.d(S,{f:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Zebra";tier=5;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Zebra Ability",owner:e,triggers:["ThisBought","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,n=t.parent.getRandomPets(1,[t],!1,!1,t),a=n.pets[0];if(!a)return void this.triggerTigerExecution(e);const l=2*this.level;a.increaseAttack(l),a.increaseHealth(l),this.logService.createLog({message:`${t.name} gave ${a.name} +${l}/+${l}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},52573(O,S,i){i.d(S,{N:()=>v});var P=i(21580),c=i(46200),A=i(41943),_=i(5615);class v extends c.i{logService;abilityService;name="Deer";tier=4;pack="Turtle";attack=2;health=2;initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends _.T{logService;abilityService;constructor(n,a,l){super({name:"DeerAbility",owner:n,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=a,this.abilityService=l}executeAbility(n){const{tiger:r,pteranodon:u}=n,g=this.owner;let k=new A.z(this.logService,this.abilityService,g.parent,3*this.level,5*this.level,null,this.minExpForLevel,new P.k(this.logService,this.abilityService)),L=g.parent.summonPet(k,g.savedPosition,!1,g);L.success&&this.logService.createLog({message:`${g.name} spawned Bus level ${this.level}`,type:"ability",player:g.parent,tiger:r,pteranodon:u,randomEvent:L.randomEvent}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},52783(O,S,i){i.d(S,{y:()=>a});var P=i(76413),c=i(35045),A=i(43959),_=i(1257),v=i(83167),e=i(48740),t=i(17996),n=i(56015);const a={...P.n,...c.x,...A.t,..._.C,...v.f,...e.W,...t.Y,...n.D}},52865(O,S,i){i.d(S,{B:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Philippine Eagle";tier=6;pack="Danger";attack=7;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PhilippineEagleAbility",owner:e,triggers:["AnyoneJumped"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.getRandomPet([],!1,!1,!1,r),g=u.pet;if(!g)return;let f=4*this.level;g.increaseAttack(f),g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} +${f} attack and +${f} health`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},53092(O,S,i){i.d(S,{I:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Minotaur";tier=4;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MinotaurAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;if(!n)return;let u=this.level*n.level,g=r.parent.getThis(r),f=g.pet;null!=f&&(this.logService.createLog({message:`${r.name} gave ${f.name} ${u} attack and ${u} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),f.increaseAttack(u),f.increaseHealth(u),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},53108(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Cassowary";tier=3;pack="Star";attack=5;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"CassowaryAbility",owner:e,triggers:["FriendlyGainedStrawberry"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner,u=this.level;let f=r.parent.getThis(r).pet;null!=f&&(this.logService.createLog({message:`${r.name} gave ${f.name} +${u} permanent health and +${u} attack for this battle.`,type:"ability",player:r.parent,tiger:a}),f.increaseHealth(u),f.increaseAttack(u),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},53190(O,S,i){i.d(S,{y:()=>_});var P=i(46200),c=i(5615),A=i(13712);class _ extends P.i{logService;abilityService;name="Terror Bird";tier=6;pack="Custom";attack=8;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"TerrorBirdAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,{tiger:a,pteranodon:l}=t,r=n.parent.petArray.filter(g=>g&&g!==n&&g.alive&&"Strawberry"===g.equipment?.name).sort((g,f)=>g.position-f.position).slice(0,this.level);if(0===r.length)return void this.triggerTigerExecution(t);for(const g of r)g.givePetEquipment(new A.u);const u=r.map(g=>g.name).join(", ");this.logService.createLog({message:`${n.name} gave Peanut to ${u} at start of battle.`,type:"ability",player:n.parent,tiger:a,pteranodon:l}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},53227(O,S,i){i.d(S,{E:()=>v,i:()=>_});var P=i(57488),c=i(50873),A=i(5615);class _ extends c.L{name="Camera";tier=5;startOfBattle(t,n){let a=(0,P.a)(t,this.parent);for(let l=0;l<this.level;l++){let r=a.getHighestAttackPet(),u=r.pet;if(null==u)return;let g=.3,f=Math.max(1,Math.floor(u.attack*(1-g)));u.attack=f,this.logService.createLog({message:`${this.name} reduced ${u.name} attack by ${100*g}% to ${f}`,type:"ability",player:this.parent,puma:n,randomEvent:r.random})}}}class v extends A.T{constructor(t,n){super({name:"CameraAbility",triggers:["StartBattle"],owner:t,abilityType:"Pet",abilityFunction:a=>{const{gameApi:l,puma:r}=a;let u=(0,P.a)(l,t.parent);for(let g=0;g<this.abilityLevel;g++){let f=u.getHighestAttackPet(),D=f.pet;if(null==D)return;let k=.3,L=Math.max(1,Math.floor(D.attack*(1-k)));D.attack=L,n.createLog({message:`${t.name} reduced ${D.name} attack by ${100*k}% to ${L} (Camera)`,type:"ability",player:t.parent,puma:r,randomEvent:f.random})}}})}}},53324(O,S,i){i.d(S,{F:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Fig";equipmentClass="beforeAttack";hasRandomEvents=!0;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;constructor(e,t){super({name:"FigAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t}executeAbility(e){const t=this.owner;let n=this.equipment.multiplier;for(let a=0;a<n;a++){let l=t.parent.opponent.getLowestHealthPet(),r=l.pet;if(null==r)return;t.snipePet(r,4,l.random,!1,!1,!0,!1)}t.removePerk()}}},53473(O,S,i){i.d(S,{Q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Tiger Bug";tier=4;pack="Unicorn";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TigerBugAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>null==this.owner.parent.pet0,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let g=r.parent.getThis(r).pet;if(null==g)return;this.logService.createLog({message:`${r.name} pushed ${g.name} to the front.`,type:"ability",player:r.parent,tiger:a,pteranodon:l}),r.parent.pushPetToFront(g,!0);let f=r.parent.opponent.getFurthestUpPets(2,[],r),D=f.pets;if(0==D.length)return;let k=3*this.level;for(let L of D)null!=L&&r.snipePet(L,k,f.random,a);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},53591(O,S,i){i.d(S,{ET:()=>e,T5:()=>t});var P=i(61850);function A(n,a,l){l&&l(n),e(n,a)}function e(n,a,l){if(n.callback){const u=n.pet;if(u&&u.transformed&&u.transformedInto&&n.abilityType){const g=u.transformedInto;n.callback=(f,D)=>{g.executeAbilities(f,D,n.triggerPet,void 0,void 0,l)}}return void n.callback(n.abilityType,a,n.triggerPet)}const r=function c(n){const a=n.pet;return a?a.transformed&&a.transformedInto?a.transformedInto:a:null}(n);r&&n.abilityType&&r.executeAbilities(n.abilityType,a,n.triggerPet,void 0,void 0,n.customParams||l)}function t(n,a,l){if(l?.shuffle)for(let r=n.length-1;r>0;r--){const u=(0,P.hw)(0,r);[n[r],n[u]]=[n[u],n[r]]}if(l?.filter)!function _(n,a,l,r){let u=n.findIndex(l);for(;-1!==u;){const[g]=n.splice(u,1);if(!g)break;A(g,a,r),u=n.findIndex(l)}}(n,a,l.filter,l.onExecute);else for(;n.length>0;)A(n.shift(),a,l?.onExecute)}},53600(O,S,i){i.d(S,{A:()=>c});const c=function P(A){var _=[];if(null!=A)for(var v in Object(A))_.push(v);return _}},53654(O,S,i){i.d(S,{p:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Chihuahua";tier=1;pack="Star";attack=4;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ChihuahuaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner,u=r.parent.opponent,g=u.getHighestHealthPet(void 0,r),f=g.pet;if(f){const D=this.level;this.logService.createLog({message:`${r.name} pushed ${f.name} forward ${D} space(s).`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),u.pushPet(f,D)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},53874(O,S,i){i.d(S,{M:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Silverfish";tier=2;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Silverfish Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} sold for +${2*this.level} gold, but will lose ${this.level} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},54073(O,S,i){i.d(S,{J:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Alchemedes";tier=1;pack="Unicorn";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AlchemedesAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.nearestPetsAhead(1,r);if(0===u.pets.length)return;let g=u.pets[0];this.logService.createLog({message:`${r.name} gave ${g.name} ${this.level} mana.`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random}),g.increaseMana(this.level),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},54155(O,S,i){i.d(S,{j:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Pita Bread";tier=6;power=0;equipmentClass="hurt";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"PitaBreadAbility",owner:e,triggers:["ThisHurt"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;if(!t.alive)return;let a=15*this.equipment.multiplier;t.increaseHealth(a),this.logService.createLog({message:`${t.name} gained ${a} health. (Pita Bread)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.removePerk()}}},54190(O,S,i){i.d(S,{U:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Tomato";tier=6;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;constructor(e,t){super({name:"TomatoAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t}executeAbility(e){const t=this.owner;let n=this.equipment.multiplier;for(let a=0;a<n;a++){let l=t.parent.opponent.getLastPet();if(null==l.pet)break;t.snipePet(l.pet,10,l.random,!1,!1,!0,!1)}t.removePerk()}}},54416(O,S,i){i.d(S,{J:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Sunfish";tier=6;pack="Custom";attack=4;health=10;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SunfishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,{gameApi:n,tiger:a,pteranodon:l}=e,r=n?.turnNumber??1;if(r%2==0)return void this.triggerTigerExecution(e);const u=4*this.level,f=t.parent.nearestPetsAhead(5,t,void 0,!0).pets;if(0===f.length)return void this.triggerTigerExecution(e);for(const k of f)t.snipePet(k,u);const D=f.map(k=>k.name).join(", ");this.logService.createLog({message:`${t.name} hit ${D} ahead for ${u} damage because turn ${r} is odd.`,type:"ability",player:t.parent,tiger:a,pteranodon:l}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},54515(O,S,i){i.d(S,{w:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Cobra";tier=6;pack="Golden";attack=12;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"CobraAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.opponent.getRandomPet([],!1,!0,!1,r);if(null==u.pet)return;let g=Math.floor(.2*r.attack*r.level);r.snipePet(u.pet,g,u.random,a),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},54571(O,S,i){i.d(S,{G:()=>_});var P=i(46200),c=i(5615),A=i(61850);class _ extends P.i{logService;abilityService;name="Sugar Glider";tier=3;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Sugar Glider Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,l=this.owner,r=2*this.level,g=(0,A.k4)(l.parent.petArray.filter(f=>f.alive&&f!==l)).slice(0,2);for(const f of g)f.mana+=r;g.length>0&&this.logService.createLog({message:`${l.name} gave ${r} mana to ${g.length} friends.`,type:"ability",player:l.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},54608(O,S,i){i.d(S,{A:()=>e});var P=i(30568),c=i(20778),A=i(33340),_=A.A&&A.A.isTypedArray;const e=_?(0,c.A)(_):P.A},54841(O,S,i){i.d(S,{A:()=>A});var P=i(57690);const A=function c(_,v){var e=-1,t=_.length,n=t-1;for(v=void 0===v?t:v;++e<v;){var a=(0,P.A)(e,n),l=_[a];_[a]=_[e],_[e]=l}return _.length=v,_}},55241(O,S,i){function P(c){return c}i.d(S,{D:()=>P})},55267(O,S,i){i.d(S,{_:()=>a});var P=i(46200),c=i(5615),A=i(90966),_=i(33127),v=i(17385),e=i(58857),t=i(61850),n=i(79222);class a extends P.i{logService;abilityService;petService;gameService;name="Good Dog";tier=5;pack="Unicorn";attack=1;health=1;hidden=!0;initAbilities(){this.addAbility(new l(this,this.logService)),super.initAbilities()}constructor(u,g,f,D,k,L,F,j,ee,J,V){super(u,g,k),this.logService=u,this.abilityService=g,this.petService=f,this.gameService=D,this.initPet(ee,L,F,j,J,V)}}class l extends c.T{logService;constructor(u,g){super({name:"GoodDogAbility",owner:u,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:u.level,abilityFunction:f=>{this.executeAbility(f)}}),this.logService=g}executeAbility(u){const{tiger:D}=u,L=this.owner;let F=L.parent.getAll(!0,L),j=F.pets;if(0===j.length)return;const ee=_.I.getInjector().get(A.m).getInstanceOfAllEquipment(),V=new Map([[1,1],[2,3],[3,5]]).get(L.level)??1;let ie=Array.from(ee.values()).filter(oe=>oe&&(oe.tier??1)>=V);ie.length||(ie=Array.from(ee.values()).filter(oe=>oe));for(let oe of j){if(!oe.alive)continue;const ce=(0,e.k6)({key:"pet.good-dog-equipment",label:(0,n.I)(L,`Good Dog equipment for P${oe.savedPosition+1} ${oe.name}`),options:ie.map(Te=>({id:Te.name,label:Te.name}))},()=>(0,t.hw)(0,ie.length-1)),Ee=(0,v.e)(ie[ce.index]);Ee&&(this.logService.createLog({message:`${L.name} gave ${oe.name} ${Ee.name}`,type:"ability",player:L.parent,randomEvent:F.random||ce.randomEvent,tiger:D}),oe.givePetEquipment(Ee))}this.triggerTigerExecution(u)}copy(u){return new l(u,this.logService)}}},55378(O,S,i){i.d(S,{z:()=>c});var P=i(22097);class c extends P.${name="Icky";equipmentClass="ailment-other";uses=2;originalUses=2}},55541(O,S,i){i.d(S,{G:()=>_});var P=i(46200),c=i(5615),A=i(13712);class _ extends P.i{logService;abilityService;name="Scorpion";tier=5;pack="Turtle";attack=1;health=1;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"ScorpionAbility",owner:t,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l}=t,u=this.owner;let g=new A.u,f=u.parent.getThis(u),D=f.pet;null!=D&&(D.givePetEquipment(g),this.logService.createLog({message:`${u.name} gave ${D.name} the Peanut perk.`,type:"ability",player:u.parent,tiger:l,randomEvent:f.random}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},55577(O,S,i){i.d(S,{L:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Salamander";tier=2;pack="Star";attack=1;health=2;constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}}class _ extends c.T{logService;constructor(e,t){super({name:"SalamanderAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=r.parent.getThis(r),g=u.pet;if(null==g)return;let f=0;for(let D of r.parent.petArray)D.isSellPet()&&(f+=D.level*this.level);f>0&&(this.logService.createLog({message:`${r.name} gave ${g.name} ${f} attack and ${f} health from sell pets.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:u.random}),g.increaseAttack(f),g.increaseHealth(f)),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},55649(O,S,i){i.d(S,{Y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Musk Ox";tier=3;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MuskOxAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u={attack:r.level,health:2*r.level},g=r.parent.getThis(r),f=g.pet;null!=f&&(f.increaseAttack(u.attack),f.increaseHealth(u.health),this.logService.createLog({message:`${r.name} gave ${f.name} ${u.attack} attack and ${u.health} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},55713(O,S,i){i.d(S,{S:()=>v});var P=i(22097),c=i(5615),A=i(56990),_=i(33127);class v extends P.${logService;name="Love Potion";equipmentClass="beforeStartOfBattle";tier=5;callback=n=>{const a=n.getEquippedEquipmentInstance(this);n.addAbility(new e(n,a,this.logService))};constructor(n){super(),this.logService=n}}class e extends c.T{equipment;logService;petService;constructor(n,a,l){super({name:"LovePotionAbility",owner:n,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=a,this.logService=l,this.petService=_.I.getInjector().get(A.T)}executeAbility(n){const a=this.owner;for(let l=0;l<this.equipment.multiplier;l++){const r=this.petService.createPet({name:a.name,attack:3,health:3,exp:0,equipment:null,mana:0},a.parent),u=a.parent.summonPet(r,a.savedPosition,!1,a);u.success&&this.logService.createLog({message:`${a.name} summoned a ${r.attack}/${r.health} ${r.name} (Love Potion)${l>0?this.equipment.multiplierMessage:""}.`,type:"equipment",player:a.parent,randomEvent:u.randomEvent})}}}},55786(O,S,i){i.d(S,{ST:()=>l.S,hA:()=>F,jb:()=>j,su:()=>ee,uL:()=>L});var P=i(13712),c=i(2375),A=i(31546),_=i(13115),v=i(22410),e=i(6328),t=i(44519),n=i(84932),a=i(47925),l=i(97758);const r=["Weak","Cold","Icky","Spooked"];function u(J,V){if("Icky"!=V.equipment?.name)return J;let ie=`${J}x2 (Icky)`;return V.equipment.multiplier>1&&(ie+=V.equipment.multiplierMessage),ie}function g(J,V,ie){const oe=V.getManticoreMult();if(0===oe.length||!r.includes(ie.equipment?.name??""))return J;let ve=J;for(const Ee of oe)ve+=` x${Ee+1} (Manticore)`;return ve}function f(J,V,ie){let oe=J;return V.nurikabe>0&&(oe+=` -${V.nurikabe} (Nurikabe)`),(V.fairyBallReduction??0)>0&&(oe+=` -${V.fairyBallReduction} (Fairy Ball)`),(V.fanMusselReduction??0)>0&&(oe+=` -${V.fanMusselReduction} (Fan Mussel)`),(V.ghostKittenReduction??0)>0&&(oe+=` -${V.ghostKittenReduction} (Ghost Kitten)`),ie&&(V.mapleSyrupReduction??0)>0&&(oe+=` -${V.mapleSyrupReduction} (Maple Syrup)`),oe}function D(J){if(!J||!J.alive||!J.hasTrigger(void 0,"Pet","Albatross Ability"))return 0;let V=0;for(const ie of J.abilityList)"Albatross Ability"===ie.name&&(V+=3*ie.level);return V}function L(J,V,ie=!1,oe,ce=!1){J.timesAttacked++;let ve=(0,l.S)(J,V,J.getManticoreMult(),oe),Ee=ve.attackEquipment,Te=ve.defenseEquipment,ke=ve.damage;const de=J.equipment instanceof n.Z;de&&(ke=Math.floor(ke/2));let Ne,Se=J.equipment?.multiplier??1,Be=V.equipment?.multiplier??1;if(J.currentTarget=V,ie?(Ne=`${J.name} jump-attacks ${V.name} for ${ke}.`,J.equipment instanceof A.w&&(Ne+=" (White Truffle)")):Ne=`${J.name} attacks ${V.name} for ${ke}.`,de&&(Ne+=" (Sleepy x0.5)"),Ee instanceof P.u&&ke>0)J.createLog({message:`${Ne} (Peanut)`,type:"attack",player:J.parent,sourcePet:J,targetPet:V,randomEvent:ce}),ee(J,V,ke),V.killedBy=J,V.health=0;else if(Ee instanceof c._&&ke>0&&Ee.uses>0)J.createLog({message:`${Ne} (Peanut Butter)`,type:"attack",player:J.parent,sourcePet:J,targetPet:V,randomEvent:ce}),V.killedBy=J,ee(J,V,ke),V.health=0;else{if(ee(J,V,ke),null!=Ee){const it=Ee.power??0;let qe="-";it>0&&(qe="+");let _t=`${qe}${Math.abs(it)}`;Ee instanceof _.B&&(_t="x2"),Ee instanceof a.Z&&(_t="x0.5"),Ee instanceof v.W&&(_t=ke<=15?"=15":"+0"),Ee instanceof e.Y&&(ce=!0,ve.fortuneCookie?(_t="x2",Ee.multiplier>1&&(_t+=Ee.multiplierMessage)):_t="x1"),Ne+=` (${Ee.name} ${_t})`,Se>1&&J.equipment&&(Ne+=J.equipment.multiplierMessage)}if(null!=Te){const it=Te.power??0;let Ke=Math.abs(it),qe="-";if(it<0&&(qe="+"),"Coconut"===Te.name)Ne+=` (${Te.name} block)`;else if("Strawberry"===Te.name){let _t=V.getSparrowLevel();_t>0&&(Ke=5*_t,Ne+=` (Strawberry -${Ke} (Sparrow))`)}else Te instanceof t.H?(qe=1==V.health?"!":"-",Ke="",Ne+=` (${Te.name} ${qe}${Ke})`):Te instanceof a.q?(Ke="x0.5",Ne+=` (${Te.name} ${Ke})`):Ne+=` (${Te.name} ${qe}${Ke})`;Be>1&&V.equipment&&(Ne+=V.equipment.multiplierMessage)}Ne=u(Ne,V),Ne=f(Ne,ve,!0),Ne=g(Ne,J,V),J.createLog({message:Ne,type:"attack",player:J.parent,sourcePet:J,targetPet:V,randomEvent:ce}),("skewer"==J.equipment?.equipmentClass?J.equipment:null)?.attackCallback?.(J,V)}de&&J.removePerk(),J.triggerAttackEventsFor(),J.applyCrisp();const Ue=J.parent.opponent?.petArray?.[0];Ue&&Ue.applyCrisp()}function F(J,V,ie,oe,ce,ve,Ee,Te,ke="sniped",de){const Se=function k(J){if((J.tier??Number.POSITIVE_INFINITY)>4)return 0;let V=0;return V+=D(J.petAhead),V+=D(J.petBehind()),V}(J);Se>0&&(ie+=Se);let Be=(0,l.S)(J,V,J.getManticoreMult(),ie,!0),Ne=Be.attackEquipment,Ue=Be.defenseEquipment,lt=Be.damage;"Kiwano"===J.equipment?.name&&lt>0&&(lt+=8,J.createLog({message:`${J.name} added +8 damage. (Kiwano)`,type:"equipment",player:J.parent}),J.removePerk()),ee(J,V,lt);let it=`${J.name} ${ke} ${V.name} for ${lt}.`;if(null!=de&&null!=J.equipment?.multiplier&&J.equipment.multiplier>1&&(it+=` (${de}*${J.equipment.multiplier})`),null!=Ue){V.useDefenseEquipment(!0);const Ke=Ue.power??0;let qe=Math.abs(Ke),_t="-";if(Ke<0&&(_t="+"),"Coconut"===Ue.name)it+=` (${Ue.name} block)`;else if("Strawberry"===Ue.name){let pt=V.getSparrowLevel();pt>0&&(qe=5*pt,it+=` (Strawberry -${qe} (Sparrow))`)}else it+=` (${Ue.name} ${_t}${qe})`;it+=Ue.multiplierMessage}if(null!=Ne&&"attack-snipe"==Ne.equipmentClass){const Ke=Ne.power??0;let qe=Math.abs(Ke),_t="-";Ke>0&&(_t="+"),it+=` (${Ne.name} ${_t}${qe})`,J.equipment?.multiplier&&J.equipment.multiplier>1&&(it+=J.equipment.multiplierMessage)}return ce&&(it+=" (Tiger)"),Se>0&&(it+=` (+${Se} Albatross)`),Ee&&J.equipment&&(it+=` (${J.equipment.name})`),Te&&(it+=" (Mana)"),it=u(it,V),it=g(it,J,V),it=f(it,Be,!1),J.createLog({message:it,type:"attack",randomEvent:oe,player:J.parent,sourcePet:J,targetPet:V,pteranodon:ve}),null!=Ne&&"attack-snipe"==Ne.equipmentClass&&null!=J.equipment?.uses&&(J.equipment.uses-=1,J.equipment.uses<=0&&J.removePerk()),lt}function j(J,V,ie,oe,ce=!1){let ve;V.lastAttacker=J,ve=J.transformed?J.transformedInto??J:J,V.transformed&&(V=V.transformedInto??V),ve.alive&&V.alive&&(ve.attackPet(V,!0,oe,ce),V.attackPet(ve),ve.useAttackDefenseEquipment(),V.useAttackDefenseEquipment(),ve.executeAfterAttackEvents(),ve.triggerJumpEventsFor())}function ee(J,V,ie){if(V.alive){if(ie>=V.health&&"Bok Choy"==V.equipment?.name){let oe=4*V.equipment.multiplier;J.createLog({message:`${V.name} gained ${oe} health (Bok Choy) ${V.equipment.multiplierMessage} `,type:"equipment",player:V.parent}),V.increaseHealth(oe),V.removePerk()}V.health-=ie,V.health<=0&&(V.killedBy=J),ie>0&&V.timesHurt++,V.health<1&&J.triggerKillEventsFor(V),ie>0&&J.triggerHurtEventsFor(V,ie)}}},55853(O,S,i){i.d(S,{J:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Secretary Bird";tier=4;pack="Golden";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityUses=0;constructor(e,t){super({name:"SecretaryBirdAbility",owner:e,triggers:["PostRemovalFriendFaints2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=r.parent.nearestPetsAhead(1,r);if(0===u.pets.length)return;let g=u.pets[0],f=3*this.level,D=4*this.level;g.increaseAttack(f),g.increaseHealth(D),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} attack and ${D} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:u.random}),this.triggerTigerExecution(e),this.logService.createLog({message:`${r.name} triggered secretary bird ability at level ${this.level}.`,type:"ability",player:r.parent,tiger:a,pteranodon:l})}copy(e){return new _(e,this.logService)}}},55984(O,S,i){i.d(S,{p:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Royal Flycatcher";tier=3;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"RoyalFlycatcherAbility",owner:e,triggers:["EnemyFaint3"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=4*this.level,g=r.parent.opponent.getRandomPet([],null,!0,null,r),f=g.pet;null!=f&&(r.snipePet(f,u,g.random,a),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},56015(O,S,i){i.d(S,{D:()=>gt});var P=i(78477),c=i(32804),A=i(33245),_=i(98441),v=i(41943),e=i(43378),t=i(10041),n=i(72638),a=i(7715),l=i(36481),r=i(92952),u=i(3754),g=i(4635),f=i(74891),D=i(32584),k=i(89124),L=i(4673),F=i(25828),j=i(57235),ee=i(55267),J=i(29855),V=i(58068),ie=i(14908),oe=i(95768),ce=i(22528),ve=i(63892),Ee=i(8178),Te=i(3279),ke=i(33605),de=i(95573),Se=i(29088),Be=i(41271),Ne=i(13761),Ue=i(12312),lt=i(56057),it=i(22426),Ke=i(14787),qe=i(1728),_t=i(24207),pt=i(60489),tt=i(42655);const gt={"Adult Flounder":P.u,"Angry Pygmy Hog":c._,"Baby Urchin":A.U,Bee:_.V,Bus:v.z,Butterfly:e.A,Chick:t.$,"Chimera Goat":n.D,"Chimera Lion":a.k,"Chimera Snake":l.U,"Cooked Roach":r.J,"Cracked Egg":u.j,Daycrawler:g.f,"Dirty Rat":f.s,"Fairy Ball":D.f,"Fake Nessie":k.b,"Fire Pup":L.O,"Giant Eyes Dog":F.y,"Golden Retriever":j.K,"Good Dog":ee._,Head:J.p,"Lizard Tail":V.n,"Loyal Chinchilla":ie.r,"Mimic Octopus":oe.Z,"Moby Dick":ce.D,Monty:ve.m,"Nessie?":Ee.p,Nest:Te.D,Quail:ke.V,Ram:de.w,Rock:Se.A,Salmon:Be.R,"Sleeping Gelada":Ne.s,"Smaller Slime":Ue.x,"Smaller Slug":lt.m,"Smallest Slug":it.z,"Summoned Cockroach":Ke.s,"Tand and Tand":qe.c,"Young Phoenix":_t.C,"Zombie Cricket":pt.y,"Zombie Fly":tt.A}},56057(O,S,i){i.d(S,{m:()=>_});var P=i(46200),c=i(5615),A=i(22426);class _ extends P.i{logService;abilityService;name="Smaller Slug";tier=1;pack="Golden";hidden=!0;health=2;attack=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"SmallerSlugAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let D=new A.z(this.logService,this.abilityService,u.parent,this.level,this.level,0,u.minExpForLevel),k=u.parent.summonPet(D,u.savedPosition,!1,u);k.success&&this.logService.createLog({message:`${u.name} spawned Smallest Slug Level ${u.level}`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:k.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},56079(O,S,i){i.d(S,{B:()=>A});var P=i(50873);i(5615);class A extends P.L{name="Lock of Hair";tier=4}},56351(O,S,i){i.d(S,{i:()=>_});var P=i(25828),c=i(50873);i(5615);class _ extends c.L{logService;toyService;abilityService;name="Tinder Box";tier=4;emptyFromSpace(t,n,a,l){let r={attack:6*a,health:6*a},g=new P.y(this.logService,this.abilityService,this.parent,r.health,r.attack,0,1==a?0:2==a?2:5),f=`${this.name} spawned Giant Eyes Dog (${r.attack}/${r.health}).`;this.parent.summonPet(g,0).success&&this.logService.createLog({message:f,type:"ability",player:this.parent,puma:n}),this.used=!0}constructor(t,n,a,l,r){super(t,n,l,r),this.logService=t,this.toyService=n,this.abilityService=a}}},56485(O,S,i){i.d(S,{B:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Winter Spirit";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"WinterSpiritAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,r=a.parent.nearestPetsAhead(2,a).pets;if(0===r.length)return void this.triggerTigerExecution(e);const u=5*this.level,g=[];for(const f of r)f.increaseMana(u),g.push(f.name);this.logService.createLog({message:`${a.name} gave ${g.join(", ")} +${u} mana at end of turn.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},56518(O,S,i){i.d(S,{q:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Strawberry";equipmentClass="shield";tier=1;uses=2;originalUses=2;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"StrawberryAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,maxUses:t.originalUses,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner,n=t.parent.getLastPet();if(n.pet){const a=1*this.equipment.multiplier;this.logService.createLog({message:`${t.name} (Strawberry) gave ${n.pet.name} +${a} attack and +${a} health${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent,randomEvent:n.random}),n.pet.increaseAttack(a),n.pet.increaseHealth(a)}}}},56613(O,S,i){i.d(S,{G:()=>A});var P=i(22097),c=i(5615);class A extends P.${name="Cherry";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t))}}class _ extends c.T{equipment;constructor(e,t){super({name:"CherryAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t}executeAbility(e){const t=this.owner;let n=this.equipment.multiplier;t.parent.gainTrumpets(2*n,t,!1,n,!0),t.removePerk(!0)}}},56616(O,S,i){i.d(S,{R:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Panda";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PandaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=.5*this.level,g={attack:Math.floor(r.attack*u),health:Math.floor(r.health*u)},f=r.parent.nearestPetsAhead(1,r);if(f.pets.length>0){let D=f.pets[0];D.increaseAttack(g.attack),D.increaseHealth(g.health),this.logService.createLog({message:`${r.name} gave ${D.name} ${g.attack} attack and ${g.health} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:f.random})}r.health=0,this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},56658(O,S,i){i.d(S,{A:()=>_});var P=i(70563),c=i(43744);const _=function A(v,e,t){var n=e(v);return(0,c.A)(v)?n:(0,P.A)(n,t(v))}},56689(O,S,i){i.d(S,{A:()=>c});const c=function P(A,_){for(var v=-1,e=null==A?0:A.length,t=Array(e);++v<e;)t[v]=_(A[v],v,A);return t}},56692(O,S,i){i.d(S,{S:()=>t});var P=i(46200),c=i(5615),A=i(33127),_=i(26886),v=i(61850),e=i(1152);class t extends P.i{logService;abilityService;name="Lemur";tier=2;pack="Puppy";attack=3;health=4;initAbilities(){this.addAbility(new n(this,this.logService,this.abilityService)),super.initAbilities()}constructor(l,r,u,g,f,D,k,L,F){super(l,r,u),this.logService=l,this.abilityService=r,this.initPet(k,g,f,D,L,F)}}class n extends c.T{logService;abilityService;constructor(l,r,u){super({name:"LemurAbility",owner:l,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:l.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.abilityService=u}executeAbility(l){const r=this.owner,u=A.I.getInjector().get(_.w),g=Math.max(1,Math.min(3,this.level)),f=u.toys.get(g)??[];if(0===f.length)return void this.triggerTigerExecution(l);const D=f[(0,v.hw)(0,f.length-1)],k=u.createToy(D,r.parent,g);k?(r.parent.toy=k,r.parent.toy.used=!1,r.parent.toy.triggers=0,(0,e.rv)(this.logService,r,`${r.name} chose a level ${g} ${D} toy.`,l.tiger,l.pteranodon),this.triggerTigerExecution(l)):this.triggerTigerExecution(l)}copy(l){return new n(l,this.logService,this.abilityService)}}},56876(O,S,i){i.d(S,{p:()=>t});var P=i(46200),c=i(5615),A=i(33127),_=i(26886),v=i(61850),e=i(1152);class t extends P.i{logService;abilityService;name="Puppy";tier=4;pack="Puppy";attack=3;health=6;initAbilities(){this.addAbility(new n(this,this.logService,this.abilityService)),super.initAbilities()}constructor(l,r,u,g,f,D,k,L,F){super(l,r,u),this.logService=l,this.abilityService=r,this.initPet(k,g,f,D,L,F)}}class n extends c.T{logService;abilityService;constructor(l,r,u){super({name:"PuppyAbility",owner:l,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:l.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.abilityService=u}executeAbility(l){const r=this.owner,u=A.I.getInjector().get(_.w),g=Math.max(1,Math.min(3,this.level)),f=u.toys.get(g)??[];if(0===f.length)return void this.triggerTigerExecution(l);const D=f[(0,v.hw)(0,f.length-1)],k=u.createToy(D,r.parent,g);k?(r.parent.toy=k,r.parent.toy.used=!1,r.parent.toy.triggers=0,(0,e.rv)(this.logService,r,`${r.name} chose a level ${g} ${D} toy.`,l.tiger,l.pteranodon),this.triggerTigerExecution(l)):this.triggerTigerExecution(l)}copy(l){return new n(l,this.logService,this.abilityService)}}},56960(O,S,i){i.d(S,{Y:()=>_});var P=i(44402),c=i(46200),A=i(5615);class _ extends c.i{logService;abilityService;name="Brain Cramp";tier=3;pack="Unicorn";attack=1;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;constructor(t,n){super({name:"BrainCrampAbility",owner:t,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:a=>null==this.owner.parent.pet0,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let g=2*this.level,D=u.parent.getThis(u).pet;if(null==D)return;this.logService.createLog({message:`${u.name} pushed ${D.name} to the front.`,type:"ability",player:u.parent,tiger:l,pteranodon:r}),u.parent.pushPetToFront(D,!0);let L=u.parent.getThis(u).pet;if(null==L)return;this.logService.createLog({message:`${u.name} gave ${L.name} Melon.`,type:"ability",player:u.parent,tiger:l,pteranodon:r}),L.givePetEquipment(new P.m);let j=u.parent.getThis(u).pet;null!=j&&(this.logService.createLog({message:`${u.name} gave ${j.name} ${g} attack.`,type:"ability",player:u.parent,tiger:l,pteranodon:r}),j.increaseAttack(g),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},56979(O,S,i){i.d(S,{E:()=>c});var P=i(22097);class c extends P.${name="Spooked";equipmentClass="ailment-defense";power=-1;originalPower=-1}},56990(O,S,i){var P;i.d(S,{T:()=>j});var c=i(61850),A=i(4230),_=i(52783),v=i(38129),e=i(13276),t=i(58857),n=i(83028),a=i(47868),l=i(24111),r=i(49230),u=i(1744),g=i(43681);const k=[1,2,3,4,5,6],F={Pack1:"Turtle",Pack2:"Puppy",Pack3:"Star",Pack4:"Golden",Pack5:"Unicorn",Danger:"Danger",Custom:"Custom",MiniPack1:"Custom",MiniPack2:"Custom",MiniPack3:"Custom"};let j=(()=>{class ee{logService;abilityService;gameService;petFactory;turtlePackPets=new Map;puppyPackPets=new Map;starPackPets=new Map;goldenPackPets=new Map;unicornPackPets=new Map;customPackPets=new Map;dangerPackPets=new Map;playerCustomPackPets=new Map;allPets=new Map;tokenPetsMap=new Map;basePackPetsByName;startOfBattlePets=[];faintPetsByTier=new Map;constructor(V,ie,oe,ce){this.logService=V,this.abilityService=ie,this.gameService=oe,this.petFactory=ce,this.logService=(0,n.V)(this.logService),this.basePackPetsByName={Turtle:this.turtlePackPets,Puppy:this.puppyPackPets,Star:this.starPackPets,Golden:this.goldenPackPets,Unicorn:this.unicornPackPets,Danger:this.dangerPackPets,Custom:this.customPackPets}}buildCustomPackPets(V){for(let ie of V.controls){let oe=new Map;for(let ce=1;ce<=6;ce++)oe.set(ce,ie.get(`tier${ce}Pets`).value);this.playerCustomPackPets.set(ie.get("name").value,oe)}}setCustomPackPools(V=[]){this.playerCustomPackPets.clear();for(const ie of V){const oe=`${ie?.name??""}`.trim();if(!oe)continue;const ce=new Map;for(const ve of k){const Ee=`tier${ve}Pets`,Te=ie?.[Ee],ke=this.normalizePetNameList(Te);ce.set(ve,ke)}this.playerCustomPackPets.set(oe,ce)}}normalizePetNameList(V){return Array.isArray(V)?V.filter(ie=>"string"==typeof ie).map(ie=>ie.trim()).filter(ie=>ie.length>0):[]}isValidTier(V){return Number.isFinite(V)&&V>=1&&V<=6}getCustomPackTierPets(V,ie){return[...this.playerCustomPackPets.get(V)?.get(ie)||[]]}getBasePackTierPets(V,ie){return[...this.basePackPetsByName[V]?.get(ie)||[]]}resolveBasePackName(V){switch(V){case"Turtle":case"Puppy":case"Star":case"Golden":case"Unicorn":case"Danger":return V;default:return null}}getRandomPetPoolByTier(V,ie){if(V.allPets)return[...this.allPets.get(ie)||[]];const oe=this.resolveBasePackName(V.pack);return oe?this.getBasePackTierPets(oe,ie):this.getCustomPackTierPets(V.pack,ie)}resetPackMaps(){const V=[this.turtlePackPets,this.puppyPackPets,this.starPackPets,this.goldenPackPets,this.unicornPackPets,this.dangerPackPets,this.customPackPets,this.tokenPetsMap];for(const ie of V){ie.clear();for(const oe of k)ie.set(oe,[])}}getPetEntriesFromJson(){return(e??(P||(P=i.t(e,2)))??[]).filter(ie=>!!ie?.Name)}isPetRandom(V){return!0===this.petDataMap.get(V)?.Random}petDataMap=new Map;populatePackMaps(V){for(const ie of V){ie.Name&&this.petDataMap.set(ie.Name,ie);const oe=Number(ie.Tier);if(!this.isValidTier(oe))continue;const ce=Array.isArray(ie.Abilities)&&ie.Abilities.length>0&&ie.Abilities.every(Ee=>"No ability."===Ee?.About);if(!0!==ie.Rollable||ce)this.tokenPetsMap.get(oe)?.push(ie.Name);else for(const Ee of this.getPackNamesFromEntry(ie)){const ke=this.basePackPetsByName[Ee]?.get(oe);ke&&ke.push(ie.Name)}}for(const ie of Object.values(this.basePackPetsByName))this.deduplicateTierMap(ie);this.deduplicateTierMap(this.tokenPetsMap)}getPackNamesFromEntry(V){const ie=new Set,oe=new Set;Array.isArray(V.Packs)&&V.Packs.forEach(Ee=>{if(Ee){const Te=Ee.trim();ie.add(Te),oe.add(Te)}}),!(oe.has("Custom")||oe.has("MiniPack1")||oe.has("MiniPack2")||oe.has("MiniPack3"))&&Array.isArray(V.PacksRequired)&&V.PacksRequired.forEach(Ee=>{Ee&&ie.add(Ee.trim())});const ve=new Set;for(const Ee of ie){const Te=F[Ee];Te&&ve.add(Te)}return Array.from(ve)}deduplicateTierMap(V){for(const[ie,oe]of V)V.set(ie,[...new Set(oe)])}buildStartOfBattlePets(V){const ie=new Set;for(const oe of V)Array.isArray(oe.Abilities)&&oe.Abilities.some(ce=>{const ve=ce?.About;return"string"==typeof ve&&ve.toLowerCase().includes("start of battle")})&&ie.add(oe.Name);return Array.from(ie)}buildFaintPetsByTier(V){const ie=new Map;for(const oe of k)ie.set(oe,[]);for(const oe of V){const ce=Number(oe.Tier);!this.isValidTier(ce)||!0!==oe.Rollable||!Array.isArray(oe.Abilities)||!oe.Abilities.some(Ee=>{const Te=Ee?.About;return"string"==typeof Te&&Te.includes("Faint:")})||ie.get(ce)?.push(oe.Name)}return this.deduplicateTierMap(ie),ie}init(){this.resetPackMaps();const V=this.getPetEntriesFromJson();this.populatePackMaps(V),this.startOfBattlePets=this.buildStartOfBattlePets(V),this.faintPetsByTier=this.buildFaintPetsByTier(V),this.setAllPets()}setAllPets(){this.allPets=new Map;for(const V of k)this.allPets.set(V,[]);for(const V of v.$){const ie=this.basePackPetsByName[V];for(let[oe,ce]of ie)this.allPets.get(oe).push(...ce)}for(let[V,ie]of this.allPets)this.allPets.set(V,[...new Set(ie)])}createPet(V,ie){const oe=this.petFactory.createPetFromForm(V,ie,this,_.y);if(oe)return oe;const ce=this.petFactory.resolveEquipmentFromForm(V.equipment,V.equipmentUses);return new A.K(this.logService,this.abilityService,ie,V.health,V.attack,V.mana,V.exp,ce,V.triggersConsumed)}createDefaultVersionOfPet(V,ie=null,oe=null){return this.petFactory.createPet(V,this,ie,oe)}getRandomPet(V){const ie=k.map(ke=>({id:`tier-${ke}`,label:`Tier ${ke}`}));let ce=(0,t.k6)({key:"pet.random-tier",label:"Random pet tier",options:ie},()=>(0,c.hw)(0,ie.length-1)).index+1,ve=this.getRandomPetPoolByTier(V,ce);if(V.allPets&&V.tokenPets){const ke=this.tokenPetsMap.get(ce)||[];ve.push(...ke),ve=[...new Set(ve)]}(!ve||0===ve.length)&&(ve=["Ant"]);const Ee=(0,t.k6)({key:"pet.random-pool",label:`Random pet from tier ${ce}`,options:ve.map(ke=>({id:ke,label:ke}))},()=>(0,c.hw)(0,ve.length-1));let Te=ve[Ee.index];return this.createPet({attack:null,equipment:null,exp:(0,c.hw)(0,5),health:null,name:Te,mana:null},V)}getRandomFaintPet(V,ie,oe=[],ce){this.faintPetsByTier?.size||(this.faintPetsByTier=this.buildFaintPetsByTier(this.getPetEntriesFromJson()));let ve=[];ve=ie&&this.faintPetsByTier.get(ie)?this.faintPetsByTier.get(ie)??[]:Array.from(this.faintPetsByTier.values()).flat();const Ee=new Set(oe.map(Be=>Be?.toLowerCase()));let ke=ve.filter(Be=>!Ee.has(Be.toLowerCase()));if(!ke.length&&ie){const Be=Array.from(this.faintPetsByTier.values()).flat().filter(Ne=>!Ee.has(Ne.toLowerCase()));Be.length&&(ke=Be)}ke.length||(ke=ve);const de=(0,t.k6)({key:"pet.random-faint-pet",label:`${this.describeRandomFaintPetOwner(V,ce)} -> Random faint pet summon`,options:ke.map(Be=>({id:Be,label:Be}))},()=>(0,c.hw)(0,ke.length-1));return this.createPet({name:ke[de.index],attack:null,equipment:null,exp:0,health:null,mana:null},V)}describeRandomFaintPetOwner(V,ie){const oe=V?.isOpponent?"opponent team":"player team";return ie?`${ie.parent?.isOpponent?"O":"P"}${Number.isFinite(ie.savedPosition)?ie.savedPosition+1:0} ${ie.name} (owner: ${oe})`:oe}static \u0275fac=function(ie){return new(ie||ee)(a.KVO(l.K),a.KVO(r.K),a.KVO(u.w),a.KVO(g.h))};static \u0275prov=a.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})}return ee})()},57033(O,S,i){i.d(S,{$K:()=>ie,$j:()=>Ee,_9:()=>ke,d4:()=>Te,ml:()=>oe});var P=i(33446),c=i(96767);const A="abomParrotSwallowed",_="SAPC1:",v={playerPack:"Turtle",opponentPack:"Turtle",playerToy:null,playerToyLevel:1,playerHardToy:null,playerHardToyLevel:1,opponentToy:null,opponentToyLevel:1,opponentHardToy:null,opponentHardToyLevel:1,turn:11,playerGoldSpent:10,opponentGoldSpent:10,playerRollAmount:4,opponentRollAmount:4,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0,playerLevel3Sold:0,opponentLevel3Sold:0,playerPets:[null,null,null,null,null],opponentPets:[null,null,null,null,null],allPets:!1,logFilter:null,customPacks:[],oldStork:!1,tokenPets:!0,komodoShuffle:!1,mana:!1,seed:null,triggersConsumed:!1,showAdvanced:!1,showTriggerNamesInLogs:!1,showPositionalArgsInLogs:!0,ailmentEquipment:!1,changeEquipmentUses:!1,logsEnabled:!0,simulations:100};function e(de){return"object"==typeof de&&null!==de}function t(de,Se){if(Array.isArray(de)&&Array.isArray(Se)){if(de.length!==Se.length)return!1;for(let Be=0;Be<de.length;Be++)if(!t(de[Be],Se[Be]))return!1;return!0}return de===Se}function a(de){if(Array.isArray(de))return de.map(Se=>a(Se));if(e(de)){const Se={};for(const Be of Object.keys(de))Se[c.H[Be]||Be]=a(de[Be]);return Se}return de}function l(de){if(Array.isArray(de))return de.map(Se=>l(Se));if(e(de)){const Se={};for(const Be of Object.keys(de))Se[c.g[Be]||Be]=l(de[Be]);return Se}return de}function g(de,Se){if(!e(de))return;const Ue=[...Array.isArray(de.playerPets)?de.playerPets:[],...Array.isArray(de.opponentPets)?de.opponentPets:[]];for(const lt of Ue)e(lt)&&Se(lt)}function f(de){return!de||null==de[0]&&null==de[1]&&null==de[2]&&null==de[3]}function D(de){if(!de)return!0;const Se=Array.isArray(de[6])?de[6]:[];return null==de[0]&&null==de[1]&&null==de[2]&&null==de[3]&&null==de[4]&&null==de[5]&&Se.every(Be=>f(Be))}function k(de){let Se=de.length;for(;Se>0&&f(de[Se-1]);)Se-=1;return Se===de.length?de:de.slice(0,Se)}function F(de){if(Array.isArray(de[A]))return;const Se=[];for(let Ne=1;Ne<=3;Ne++){const Ue=`parrotCopyPetAbominationSwallowedPet${Ne}`,lt=[];for(let Ke=1;Ke<=3;Ke++){const qe=`${Ue}ParrotCopyPetAbominationSwallowedPet${Ke}`;lt.push([de[qe]??null,de[`${qe}BelugaSwallowedPet`]??null,de[`${qe}Level`]??null,de[`${qe}TimesHurt`]??null]),delete de[qe],delete de[`${qe}BelugaSwallowedPet`],delete de[`${qe}Level`],delete de[`${qe}TimesHurt`]}const it=k(lt);Se.push([de[Ue]??null,de[`${Ue}BelugaSwallowedPet`]??null,de[`${Ue}Level`]??null,de[`${Ue}TimesHurt`]??null,de[`${Ue}ParrotCopyPet`]??null,de[`${Ue}ParrotCopyPetBelugaSwallowedPet`]??null,it]),delete de[Ue],delete de[`${Ue}BelugaSwallowedPet`],delete de[`${Ue}Level`],delete de[`${Ue}TimesHurt`],delete de[`${Ue}ParrotCopyPet`],delete de[`${Ue}ParrotCopyPetBelugaSwallowedPet`]}const Be=function L(de){let Se=de.length;for(;Se>0&&D(de[Se-1]);)Se-=1;return Se===de.length?de:de.slice(0,Se)}(Se);Be.length>0&&(de[A]=Be)}function j(de){if(!e(de))return null;const Se=de.name;if("string"!=typeof Se||0===Se.trim().length)return null;if(delete de.parent,delete de.logService,delete de.abilityService,delete de.gameService,delete de.petService,de.equipment){const Be="string"==typeof de.equipment?de.equipment:e(de.equipment)&&"string"==typeof de.equipment.name?de.equipment.name:null;de.equipment=Be?{name:Be}:null}for(const Be of Object.keys(de)){if("name"===Be)continue;const Ne=de[Be];(null==Ne||!1===Ne||""===Ne||"number"==typeof Ne&&0===Ne||Be.endsWith("Level")&&1===Ne||Array.isArray(Ne)&&0===Ne.length)&&delete de[Be]}return de}function ee(de){if(!e(de))return null;const Se=de.name;if("string"!=typeof Se||0===Se.trim().length)return null;if(delete de.parent,delete de.logService,delete de.abilityService,delete de.gameService,delete de.petService,de.equipment){const Be="string"==typeof de.equipment?de.equipment:e(de.equipment)&&"string"==typeof de.equipment.name?de.equipment.name:null;de.equipment=Be?{name:Be}:null}return de}function J(de){const Se=de[A];if(Array.isArray(Se)){for(let Be=1;Be<=3;Be++){const Ne=`parrotCopyPetAbominationSwallowedPet${Be}`,Ue=Se[Be-1];if(!Ue)continue;const[lt,it,Ke,qe,_t,pt,tt]=Ue;if(de[Ne]=lt??null,de[`${Ne}BelugaSwallowedPet`]=it??null,de[`${Ne}Level`]=Ke??null,de[`${Ne}TimesHurt`]=qe??null,de[`${Ne}ParrotCopyPet`]=_t??null,de[`${Ne}ParrotCopyPetBelugaSwallowedPet`]=pt??null,Array.isArray(tt))for(let gt=1;gt<=3;gt++){const at=`${Ne}ParrotCopyPetAbominationSwallowedPet${gt}`,wt=tt[gt-1];if(!wt)continue;const[ut,Ge,Ot,Qt]=wt;de[at]=ut??null,de[`${at}BelugaSwallowedPet`]=Ge??null,de[`${at}Level`]=Ot??null,de[`${at}TimesHurt`]=Qt??null}}delete de[A]}}function ie(de){return e(de)&&g(de,J),de}function oe(de,Se,Be){return JSON.stringify({playerWins:de,opponentWins:Se,draws:Be},null)}function ce(de){const Se=(0,P.A)(de),Be=Array.isArray(Se.playerPets)?Se.playerPets:[],Ne=Array.isArray(Se.opponentPets)?Se.opponentPets:[];Se.playerPets=Be.map(Ke=>j(Ke)),Se.opponentPets=Ne.map(Ke=>j(Ke)),function n(de){for(const Se of Object.keys(v))Se in de&&t(de[Se],v[Se])&&delete de[Se]}(Se);const Ue=function V(de){const Se=(0,P.A)(de);return g(Se,F),Se}(Se),lt=a(Ue),it=JSON.stringify(lt);return`${_}${function r(de){const Se=(new TextEncoder).encode(de);let Be="";for(let Ue=0;Ue<Se.length;Ue+=32768)Be+=String.fromCharCode(...Se.subarray(Ue,Ue+32768));return btoa(Be).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"")}(it)}`}function Ee(de,Se="compressed"){return"legacyJson"===Se?function ve(de){const Se=(0,P.A)(de),Be=Array.isArray(Se.playerPets)?Se.playerPets:[],Ne=Array.isArray(Se.opponentPets)?Se.opponentPets:[];return Se.playerPets=Be.map(Ue=>ee(Ue)),Se.opponentPets=Ne.map(Ue=>ee(Ue)),JSON.stringify(Se,null,2)}(de.value):ce(de.value)}function Te(de){const Se=de.trim();if(!Se)throw new Error("Import payload is empty.");if(Se.startsWith(_)){const Ne=Se.slice(6),Ue=JSON.parse(function u(de){const Se=de.replace(/-/g,"+").replace(/_/g,"/"),Ne=`${Se}${"=".repeat((4-Se.length%4)%4)}`,Ue=atob(Ne),lt=Uint8Array.from(Ue,it=>it.charCodeAt(0));return(new TextDecoder).decode(lt)}(Ne));return l(Ue)}const Be=JSON.parse(Se);return"object"==typeof Be&&null!==Be||Array.isArray(Be)?l(Be):Be}function ke(de,Se){return`${Se}#c=${ce(de.value).slice(6)}`}},57130(O,S,i){i.d(S,{q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Gerenuk";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Gerenuk Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,l=a.parent.opponent;let r=this.level;for(;r>0;){const u=this.getHighestTierPerkPet(l);if(!u)break;const g=u.equipment?.name??"perk";u.removePerk(!0),this.logService.createLog({message:`${a.name} removed ${u.name}'s ${g}.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),r--}this.triggerTigerExecution(e)}getHighestTierPerkPet(e){const t=e.petArray.filter(l=>l.alive&&l.equipment&&!this.isAilmentEquipment(l.equipment));if(0===t.length)return null;let n=Math.max(...t.map(l=>l.equipment?.tier??0));return t.filter(l=>(l.equipment?.tier??0)===n).sort((l,r)=>l.position-r.position)[0]??null}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new _(e,this.logService)}}},57235(O,S,i){i.d(S,{K:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Golden Retriever";tier=1;pack="Golden";hidden=!0;health=1;attack=1;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},57252(O,S,i){i.d(S,{_:()=>c});var P=i(50873);class c extends P.L{name="Paper Shredder";tier=1;friendSummoned(_,v,e,t){v&&(v.health=0,this.logService.createLog({message:`${this.name} knocked out ${v.name}.`,type:"ability",player:this.parent,puma:e}))}}},57356(O,S,i){i.d(S,{g:()=>_});var P=i(46200),c=i(5615),A=i(61850);class _ extends P.i{logService;abilityService;name="Thorny Dragon";tier=2;pack="Custom";attack=3;health=3;hasRandomEvents=!0;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Thorny Dragon Ability",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,l=this.owner,r=3*this.level,u=l.parent.opponent.petArray.filter(L=>L.alive);if(0===u.length)return;const g=u.filter(L=>!!L.equipment&&("ailment-attack"===L.equipment.equipmentClass||"ailment-defense"===L.equipment.equipmentClass||"ailment-other"===L.equipment.equipmentClass)),f=g.length>0?g:u,D=f.length>1,k=f[(0,A.hw)(0,f.length-1)];k&&(l.snipePet(k,r,D,n,a),this.logService.createLog({message:`${l.name} fainted and dealt ${r} damage to ${k.name} (prioritizing ailments).`,type:"ability",player:l.parent,tiger:n,pteranodon:a,randomEvent:D})),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},57372(O,S,i){i.d(S,{A:()=>v});var P=i(56658),c=i(28114),A=i(64238);const v=function _(e){return(0,P.A)(e,A.A,c.A)}},57455(O,S,i){i.d(S,{T:()=>_});var P=i(46200),c=i(5615),A=i(86785);class _ extends P.i{logService;abilityService;name="Hooded Seal";tier=6;pack="Custom";attack=4;health=9;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;usesThisTurn=0;constructor(t,n){super({name:"Hooded Seal Ability",owner:t,triggers:["FriendTransformed","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){if("StartTurn"===t.trigger)return void(this.usesThisTurn=0);if(this.usesThisTurn>=2)return void this.triggerTigerExecution(t);const n=t.triggerPet;if(!n)return void this.triggerTigerExecution(t);this.usesThisTurn++;const a=(0,A.T)(this.level);n.exp=Math.min(n.exp,a),n.resetAbilityUses(),this.logService.createLog({message:`${this.owner.name} capped ${n.name} to level ${this.level}.`,type:"ability",player:this.owner.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},57483(O,S,i){i.d(S,{_:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Amphisbaena";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AmphisbaenaAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:a}=e,l=this.owner;let r=l.parent.nearestPetsAhead(1,l);if(0===r.pets.length)return;let u=r.pets[0];(t?.turnNumber??1)%2==1?(u.increaseAttack(this.level),this.logService.createLog({message:`${l.name} gave ${u.name} ${this.level} attack.`,type:"ability",player:l.parent,tiger:n,pteranodon:a,randomEvent:r.random})):(u.increaseHealth(this.level),this.logService.createLog({message:`${l.name} gave ${u.name} ${this.level} health.`,type:"ability",player:l.parent,tiger:n,pteranodon:a,randomEvent:r.random})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},57488(O,S,i){function P(c,A){return c.player===A?c.opponent:c.player}i.d(S,{a:()=>P})},57511(O,S,i){i.d(S,{V:()=>v});var P=i(46200),c=i(5615),A=i(23638),_=i(1152);class v extends P.i{logService;abilityService;name="Alpaca";tier=6;pack="Star";attack=3;health=7;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends c.T{logService;reset(){this.maxUses=this.level,super.reset()}constructor(n,a){super({name:"AlpacaAbility",owner:n,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,condition:l=>{const{triggerPet:r}=l;return r&&!(r instanceof v)},abilityFunction:l=>{this.executeAbility(l)}}),this.logService=a}executeAbility(n){const{triggerPet:l}=n,g=this.owner,f=(0,_.Uj)(g,l);f.pet&&((0,A.Oe)({logService:this.logService,owner:g,context:n,target:f.pet,amount:3,extras:{randomEvent:f.random}}),this.triggerTigerExecution(n))}copy(n){return new e(n,this.logService)}}},57598(O,S,i){i.d(S,{h:()=>_});var P=i(22097),c=i(5615),A=i(25479);class _ extends P.${logService;abilityService;name="Gros Michel Banana";equipmentClass="beforeAttack";callback=t=>{t.addAbility(new v(t,this,this.logService,this.abilityService))};constructor(t,n){super(),this.logService=t,this.abilityService=n}}class v extends c.T{equipment;logService;abilityService;constructor(t,n,a,l){super({name:"GrosMichelBananaAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=n,this.logService=a,this.abilityService=l}executeAbility(t){const a=this.owner;for(let l=0;l<this.equipment.multiplier;l++){let r=new A.w(this.logService,this.abilityService,a.parent,a.health,a.attack,a.mana,a.exp);this.logService.createLog({message:`${a.name} transformed into ${r.name} (Gros Michel Banana)${l>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:a.parent}),a.parent.transformPet(a,r)}}}},57616(O,S,i){i.d(S,{O:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Maltese";tier=5;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Maltese Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=t.parent,a=n.trumpets;a>0&&n.spendTrumpets(a,t,e.pteranodon);const l=n.petArray.filter(D=>D.alive&&D!==t);if(0===l.length||a<=0)return void this.triggerTigerExecution(e);const u=a*(this.level+1),g=Math.floor(u/l.length);let f=u%l.length;for(const D of l){const k=g+(f>0?1:0);k>0&&D.increaseMana(k),f=Math.max(0,f-1)}this.logService.createLog({message:`${t.name} converted ${a} trumpets into ${u} mana and spread it to friends.`,type:"ability",player:n,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},57690(O,S,i){i.d(S,{A:()=>_});var P=Math.floor,c=Math.random;const _=function A(v,e){return v+P(c()*(e-v+1))}},57788(O,S,i){i.d(S,{r:()=>_});var P=i(46200),c=i(5615),A=i(58068);class _ extends P.i{logService;abilityService;name="Lizard";tier=2;pack="Golden";attack=1;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"LizardAbility",owner:t,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l}=t,u=this.owner;let g=new A.n(this.logService,this.abilityService,u.parent,null,null,0,u.minExpForLevel),f=u.parent.summonPetInFront(u,g);f.success&&this.logService.createLog({message:`${u.name} spawned Lizard Tail Level ${u.level}`,type:"ability",player:u.parent,tiger:l,randomEvent:f.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},57850(O,S,i){i.d(S,{A:()=>ve});var P=i(75152),c=i(80618),A=i(58438),_=i(85267),v=i(44314);const ve=function ce(Ee,Te,ke){var de=Ee.constructor;switch(Te){case"[object ArrayBuffer]":return(0,P.A)(Ee);case"[object Boolean]":case"[object Date]":return new de(+Ee);case"[object DataView]":return(0,c.A)(Ee,ke);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,v.A)(Ee,ke);case"[object Map]":case"[object Set]":return new de;case"[object Number]":case"[object String]":return new de(Ee);case"[object RegExp]":return(0,A.A)(Ee);case"[object Symbol]":return(0,_.A)(Ee)}}},57862(O,S,i){i.d(S,{b:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Tabby Cat";tier=2;pack="Puppy";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TabbyCatAbility",owner:e,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.getRandomPets(2,[r],!0,!1,r);if(0!=u.pets.length){for(let g of u.pets)null!=g&&(this.logService.createLog({message:`${r.name} increased ${g.name}'s health by ${this.level}.`,type:"ability",player:r.parent,randomEvent:u.random,tiger:a}),g.increaseHealth(this.level));this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},57967(O,S,i){i.d(S,{G:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Bird of Paradise";tier=6;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t,n){super({name:"BirdOfParadiseAbility",owner:e,triggers:["SpendGold7","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const t=this.owner,n=t.parent.getRandomPets(3,[t]),a=n.pets;if(0===a.length)return void this.triggerTigerExecution(e);const l=this.level;for(const r of a)r.increaseAttack(l),r.increaseHealth(l);this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave ${a.map(r=>r.name).join(", ")} +${l}/+${l}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},58068(O,S,i){i.d(S,{n:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Lizard Tail";tier=1;pack="Golden";hidden=!0;attack=3;health=1;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},58069(O,S,i){i.d(S,{u:()=>v});var P=i(46200),c=i(5615),A=i(56979),_=i(1152);class v extends P.i{logService;abilityService;name="Peacock Spider";tier=1;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"PeacockSpiderAbility",owner:n,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=a}executeAbility(n){const{tiger:a,pteranodon:l}=n,r=this.owner,u=(0,_.MZ)(r);if(0!==u.length){for(const g of u){if(!(0,_.zo)(g,"Spooked"))continue;const f=new A.E;f.power=-this.level,f.originalPower=f.power,g.givePetEquipment(f),(0,_.rv)(this.logService,r,`${r.name} gave ${g.name} Spooked.`,a,l)}this.triggerTigerExecution(n)}}copy(n){return new e(n,this.logService)}}},58151(O,S,i){i.d(S,{k:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Griffin";tier=3;pack="Unicorn";attack=5;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"GriffinAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} chose a level ${this.level} toy from Griffin's collection.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},58212(O,S,i){i.d(S,{M:()=>P,U:()=>c});const P={Turtle:["Cake","Chili","Coconut","Garlic","Honey","Meat Bone","Melon","Mushroom","Peanut","Steak"],Puppy:["Blackberry","Croissant","Egg","Eucalyptus","Lemon","Lime","Mild Chili","Pancakes","Pie","Rice","Salt","Skewer","Squash","Walnut"],Star:["Baguette","Caramel","Carrot","Cheese","Cucumber","Grapes","Pepper","Popcorn","Seaweed","Strawberry"],Golden:["Banana","Bok Choy","Cherry","Chocolate Cake","Durian","Eggplant","Fig","Honeydew Melon","Maple Syrup","Onion","Pita Bread","Potato","Tomato"],Unicorn:["Ambrosia","Easter Egg","Faint Bread","Fairy Dust","Gingerbread Man","Golden Egg","Health Potion","Love Potion","Magic Beans","Rambutan","Yggdrasil Fruit"],Danger:["Cocoa Bean","Cod Roe","Gros Michel Banana","Sudduth Tomato","White Okra","White Truffle"],Custom:["Blueberry","Brussels Sprout","Cashew Nut","Cauliflower","Churros","Donut","Fortune Cookie","Guava","Kiwano","Kiwifruit","Macaron","Melon Slice","Nachos","Oyster Mushroom","Pineapple","Radish","Sardinian Currant","Sausage","Unagi"],Hidden:["Cake Slice","Peanut Butter"]},c={Ailments:["Bloated","Cold","Confused","Crisp","Cursed","Dazed","Icky","Inked","Sad","Silly","Sleepy","Spooked","Tasty","Toasty","Weak","Webbed"]}},58238(O,S,i){i.d(S,{Z:()=>e});var P=i(46200),c=i(5615),A=i(90966),_=i(33127),v=i(61850);class e extends P.i{logService;abilityService;name="Silkie Chicken";tier=3;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L){super(a,l,r),this.logService=a,this.abilityService=l,this.initPet(D,u,g,f,k,L)}}class t extends c.T{logService;constructor(a,l){super({name:"Silkie Chicken Ability",owner:a,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,maxUses:2,abilitylevel:a.level,precondition:r=>{const u=r.triggerPet;return!!u&&u.alive},abilityFunction:r=>this.executeAbility(r)}),this.logService=l}executeAbility(a){const{tiger:l,pteranodon:r,triggerPet:u}=a,g=this.owner,f=u;if(!f)return;const k=_.I.getInjector().get(A.m).getUsefulPerksByTier(1);if(0===k.length)return;const F=k[(0,v.hw)(0,k.length-1)];f.givePetEquipment(F),this.logService.createLog({message:`${g.name} gave ${f.name} the ${F.name} perk.`,type:"ability",player:g.parent,tiger:l,pteranodon:r}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},58253(O,S,i){function P(c){setTimeout(()=>{throw c},0)}i.d(S,{T:()=>P})},58438(O,S,i){i.d(S,{A:()=>A});var P=/\w*$/;const A=function c(_){var v=new _.constructor(_.source,P.exec(_));return v.lastIndex=_.lastIndex,v}},58728(O,S,i){i.d(S,{p:()=>c});var P=i(70762);function c(v,e){return function(n){return n.lift(new A(v,e))}}class A{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new _(e,this.predicate,this.thisArg))}}class _ extends P.v{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}},58789(O,S,i){i.d(S,{f:()=>e});var P=i(46200),c=i(5615),A=i(33127),_=i(56990),v=i(38129);class e extends P.i{logService;abilityService;name="Dugong";tier=3;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L){super(a,l,r),this.logService=a,this.abilityService=l,this.initPet(D,u,g,f,k,L)}}class t extends c.T{logService;constructor(a,l){super({name:"Dugong Ability",owner:a,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=l}executeAbility(a){const{tiger:l,pteranodon:r}=a,u=this.owner,g=2*this.level,f=2*this.level,D=A.I.getInjector().get(_.T),k=u.parent.pack,L=u.parent.petArray.filter(F=>F.alive&&F!==u&&!this.isPetInActivePack(F,k,D));for(const F of L)F.increaseAttack(g),F.increaseHealth(f);L.length>0&&this.logService.createLog({message:`${u.name} gave +${g}/+${f} to pets outside ${k}.`,type:"ability",player:u.parent,tiger:l,pteranodon:r}),this.triggerTigerExecution(a)}isPetInActivePack(a,l,r){if(!r)return a.pack===l;if(v.$.includes(l))return(r.basePackPetsByName[l]?.get(a.tier)??[]).includes(a.name);const u=r.playerCustomPackPets.get(l);return u?u.get(a.tier)?.includes(a.name)??!1:a.pack===l}copy(a){return new t(a,this.logService)}}},58857(O,S,i){function P(t,n){return`${t}::${n}`}i.d(S,{Ys:()=>_,k6:()=>e,xe:()=>v});let c=null;function A(t,n){const a=(t??"").trim();return a.length>0?a:`option-${n+1}`}function _(t){const n=new Map,a=new Map;for(const l of t?.overrides??[]){if(!l||!Number.isFinite(l.index))continue;const r=Math.trunc(l.index);if(r<0)continue;const u=`${l.optionId??""}`.trim();if(!u)continue;const g=`${l.key??""}`.trim(),f=`${l.label??""}`.trim();g&&f&&a.set(P(g,f),u),n.set(r,u)}c={capture:!!t?.capture,strictValidation:!1!==t?.strictValidation,overridesByIndex:n,overridesByFingerprint:a,decisions:[],invalidOverrideError:null}}function v(){const t={decisions:c?.decisions??[],invalidOverrideError:c?.invalidOverrideError??null};return c=null,t}function e(t,n){const a=t.options.map((F,j)=>({id:A(F?.id,j),label:F?.label??F?.id??`Option ${j+1}`}));if(0===a.length)return{index:-1,randomEvent:!1,forced:!1};if(1===a.length)return{index:0,randomEvent:!1,forced:!1};const l=c,u=!!l&&(l.capture||l.overridesByIndex.size>0||l.overridesByFingerprint.size>0),g=l?.decisions.length??-1,f=P(t.key,t.label),D=l&&g>=0?l.overridesByFingerprint.get(f)??l.overridesByIndex.get(g)??null:null;let k=n(),L=!1;if(D){const F=a.findIndex(j=>j.id===D);if(F>=0)k=F,L=!0;else if(l&&l.strictValidation){const j=`Random override invalid at step ${g+1}: "${D}" not found for ${t.label}.`;throw l.invalidOverrideError=j,new Error(j)}}return(k<0||k>=a.length)&&(k=Math.max(0,Math.min(a.length-1,k))),u&&l&&l.decisions.push({index:g,key:t.key,label:t.label,options:a,selectedOptionId:a[k]?.id??null,forced:L}),{index:k,randomEvent:!0,forced:L}}},58880(O,S,i){i.d(S,{w:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Goose";tier=1;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GooseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.opponent.getFurthestUpPet(r),g=u.pet;if(null==g)return;let f=this.level;g.increaseAttack(-this.level),this.logService.createLog({message:`${r.name} removed ${f} attack from ${g.name}.`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},59303(O,S,i){i.d(S,{c:()=>_});var P=i(46200),c=i(5615),A=i(51838);class _ extends P.i{logService;abilityService;name="Therizinosaurus";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"TherizinosaurusAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let g=u.parent.getPetsWithoutEquipment("Strawberry"),f=u.parent.getFurthestUpPets(this.level,g,u),D=f.pets;for(let k of D)k.givePetEquipment(new A.K),this.logService.createLog({message:`${u.name} gave ${k.name} Coconut.`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:f.random});this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},59320(O,S,i){i.d(S,{A:()=>t});var P=i(71387),c=i(42495),A=i(11374),_=i(75738),v=i(38818);function e(n){var a=-1,l=null==n?0:n.length;for(this.clear();++a<l;){var r=n[a];this.set(r[0],r[1])}}e.prototype.clear=P.A,e.prototype.delete=c.A,e.prototype.get=A.A,e.prototype.has=_.A,e.prototype.set=v.A;const t=e},59370(O,S,i){i.d(S,{R6:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Pelican";tier=5;pack="Star";attack=5;health=5;initAbilities(){this.addAbility(new v(this,this.logService,this.petService)),this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D,k){super(t,n,l),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,u,g,D,k)}}class _ extends c.T{logService;abilityService;constructor(t,n,a){super({name:"PelicanFaintAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)},ignoreRepeats:!0}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;for(;u.swallowedPets.length>0;){let g=u.swallowedPets.shift(),f=u.parent.summonPet(g,u.savedPosition,!1,u);f.success&&this.logService.createLog({message:`${u.name} summoned ${g.name} (level ${g.level}).`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:f.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new _(t,this.logService,this.abilityService)}}class v extends c.T{logService;petService;constructor(t,n,a){super({name:"PelicanStartAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.petService=a}executeAbility(t){const{tiger:l}=t,u=this.owner;let g=u.parent.getPetsWithoutEquipment("Strawberry"),f=u.parent.nearestPetsAhead(this.level,u,g),D=f.pets;if(0!=D.length){for(let k of D){let L=this.petService.createPet({name:"Salmon",attack:k.attack,health:k.health,exp:k.exp,equipment:null,mana:0},u.parent);u.swallowedPets.push(L),k.health=0,this.logService.createLog({message:`${u.name} swallowed ${k.name}`,type:"ability",player:u.parent,tiger:l,randomEvent:f.random})}this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService,this.petService)}}},59374(O,S,i){i.d(S,{x:()=>c});var P=i(22097);class c extends P.${name="Dazed";equipmentClass="ailment-other"}},59561(O,S,i){i.d(S,{Q:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Durian";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"DurianAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;let n=this.equipment.multiplier;for(let a=0;a<n;a++){let l=t.parent.opponent.getHighestHealthPet(),r=l.pet;if(null==r)continue;let u=.33,g=Math.max(1,Math.floor(r.health*(1-u)));r.health=g,this.logService.createLog({message:`${this.equipment.name} reduced ${r.name} health by ${100*u}% to ${g}${a>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent,randomEvent:l.random})}t.removePerk()}}},59644(O,S,i){i.d(S,{R:()=>_});var P=i(46200),c=i(5615),A=i(2375);class _ extends P.i{logService;abilityService;name="Walrus";tier=6;pack="Custom";attack=7;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"WalrusAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,l=this.owner,r=l.parent.getRandomPets(this.level,[l],!1,!1,l),u=r.pets;if(0===u.length)return void this.triggerTigerExecution(t);const g=[];for(const f of u)f.givePetEquipment(new A._),g.push(f.name);this.logService.createLog({message:`${l.name} gave Peanut Butter to ${g.join(", ")} on faint.`,type:"ability",player:l.parent,tiger:n,pteranodon:a,randomEvent:r.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},59659(O,S,i){i.d(S,{W:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Kitsune";tier=5;pack="Unicorn";attack=2;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"KitsuneAbility",owner:e,triggers:["FriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner,u=r.petAhead;if(!u||!u.alive)return;let g=0;const f=r.parent.petArray.filter(D=>D.mana>0&&D!==r&&D!==u);for(let D of f){const k=D.mana;g+=k,D.mana=0,this.logService.createLog({message:`${r.name} took ${k} mana from ${D.name}.`,type:"ability",player:r.parent,tiger:a})}this.logService.createLog({message:`${r.name} gave ${u.name} +${g+2*r.level} mana.`,type:"ability",player:r.parent,tiger:a}),u.increaseMana(g+2*r.level),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},59713(O,S,i){i.d(S,{i:()=>_});var P=i(46200),c=i(5615),A=i(56979);class _ extends P.i{logService;abilityService;name="Kakapo";tier=4;pack="Danger";attack=4;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"KakapoAbility",owner:t,triggers:["ThisFirstAttack"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,condition:a=>this.owner.timesAttacked<=1,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l}=t,u=this.owner,g=u.parent.opponent.getHighestAttackPets(this.level,void 0,u),f=[...g.pets].sort((D,k)=>D.attack-k.attack);for(let D of f)D.givePetEquipment(new A.E),this.logService.createLog({message:`${u.name} gave ${D.name} Spooked.`,type:"ability",player:u.parent,tiger:l,randomEvent:g.random});for(let D of f)D.parent.pushPetToBack(D),this.logService.createLog({message:`${u.name} pushed ${D.name} to the back.`,type:"ability",player:u.parent,tiger:l,randomEvent:g.random});this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},59879(O,S,i){i.d(S,{A:()=>_});var P=i(46200),c=i(5615),A=i(61850);class _ extends P.i{logService;abilityService;name="Siberian Husky";tier=5;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Siberian Husky Ability",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const n=this.owner,a=this.level,l=n.parent.petArray.filter(u=>!(!u||u===n||!u.alive||null!=u.equipment&&"shop"===u.equipment.equipmentClass));if(0===l.length)return void this.triggerTigerExecution(t);(0,A.k4)(l);const r=l.slice(0,3);for(const u of r)u.increaseAttack(a),u.increaseHealth(a);this.logService.createLog({message:`${n.name} gave ${r.map(u=>u.name).join(", ")} +${a}/+${a}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},59951(O,S,i){i.d(S,{y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Takhi";tier=2;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,l,r,u,f,D)}}class _ extends c.T{logService;abilityService;petService;constructor(e,t,n,a){super({name:"TakhiAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=t,this.abilityService=n,this.petService=a}executeAbility(e){const{gameApi:t,tiger:a,pteranodon:l}=e,r=this.owner;let f=this.petService.createPet({name:"African Wild Dog",attack:3*this.level,health:2*this.level,exp:0,mana:0,equipment:null},r.parent);if(f){let D=r.parent.summonPet(f,r.savedPosition,!1,r);D.success&&(this.logService.createLog({message:`${r.name} summoned a ${f.attack}/${f.health} ${f.name}`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:D.randomEvent}),f.activateAbilities("StartBattle",t,"Pet"))}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService,this.petService)}}},59975(O,S,i){i.d(S,{A:()=>_});var P=i(99898),c=i(28114);const _=function A(v,e){return(0,P.A)(v,(0,c.A)(v),e)}},60135(O,S,i){i.d(S,{i:()=>r});var P=i(84385),c=i(58253),_=i(37765),e=i(45722),n=i(25253),a=i(15998),l=i(61456);const r=u=>{if(u&&"function"==typeof u[e.s])return(u=>g=>{const f=u[e.s]();if("function"!=typeof f.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return f.subscribe(g)})(u);if((0,n.X)(u))return(0,P.v)(u);if((0,a.y)(u))return(u=>g=>(u.then(f=>{g.closed||(g.next(f),g.complete())},f=>g.error(f)).then(null,c.T),g))(u);if(u&&"function"==typeof u[_.lJ])return(u=>g=>{const f=u[_.lJ]();for(;;){let D;try{D=f.next()}catch(k){return g.error(k),g}if(D.done){g.complete();break}if(g.next(D.value),g.closed)break}return"function"==typeof f.return&&g.add(()=>{f.return&&f.return()}),g})(u);{const f=`You provided ${(0,l.G)(u)?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(f)}}},60190(O,S,i){i.d(S,{o:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Squirrel";tier=4;pack="Turtle";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SquirrelAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} discounted all shop food by ${this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},60309(O,S,i){i.d(S,{A:()=>c});const c=function P(A){var _=typeof A;return"string"==_||"number"==_||"symbol"==_||"boolean"==_?"__proto__"!==A:null===A}},60385(O,S,i){i.d(S,{f:()=>c});var P=i(22097);class c extends P.${name="White Okra";tier=6;equipmentClass="shield";power=10;originalPower=10;uses=2;originalUses=2}},60397(O,S,i){i.d(S,{f:()=>_});var P=i(46200),c=i(5615),A=i(6550);class _ extends P.i{logService;abilityService;petService;name="Parrot";tier=4;pack="Turtle";attack=4;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.petService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D,k){super(t,n,l),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,u,g,D,k)}}class v extends c.T{logService;petService;constructor(t,n,a){super({name:"ParrotAbility",owner:t,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.petService=a}executeAbility(t){const{gameApi:n,triggerPet:a,tiger:l,pteranodon:r}=t;let u=this.owner;const g=null!=u.parrotCopyPet&&""!==u.parrotCopyPet,f=g?(0,A.yo)(u,"parrotCopyPet",null):u.petAhead?.name??null,D=g?(0,A.yo)(u,"parrotCopyPetBelugaSwallowedPet",null):null;if(!f)return;const L="Abomination"===f&&g?(()=>{const ee={};for(const J of A.uF){const V=(0,A.AV)("parrotCopyPetAbominationSwallowedPet",J),ie=(0,A.AV)("abominationSwallowedPet",J);ee[ie.base]=(0,A.yo)(u,V.base,null),ee[ie.belugaSwallowedPet]=(0,A.yo)(u,V.belugaSwallowedPet,null),ee[ie.level]=(0,A.aA)(u,V.level,1),ee[ie.timesHurt]=(0,A.aA)(u,V.timesHurt,0),ee[ie.parrotCopyPet]=(0,A.yo)(u,V.parrotCopyPet,null),ee[ie.parrotCopyPetBelugaSwallowedPet]=(0,A.yo)(u,V.parrotCopyPetBelugaSwallowedPet,null);for(const oe of A.uF){const ce=V.nested(oe),ve=ie.nested(oe);ee[ve.base]=(0,A.yo)(u,ce.base,null),ee[ve.belugaSwallowedPet]=(0,A.yo)(u,ce.belugaSwallowedPet,null),ee[ve.level]=(0,A.aA)(u,ce.level,1),ee[ve.timesHurt]=(0,A.aA)(u,ce.timesHurt,0)}}return ee})():{},F={name:f,attack:null,health:null,mana:null,exp:u.exp??0,equipment:null,belugaSwallowedPet:"Beluga Whale"===f?(0,A.yo)({belugaSwallowedPet:D},"belugaSwallowedPet",null)??null:void 0};Object.assign(F,L);let j=this.petService.createPet(F,u.parent);if(null!=j){if("Abomination"===f&&Object.assign(u,L),"Beluga Whale"===f&&(u.belugaSwallowedPet=D??null),u.copyAbilities(j,"Pet",u.level),u.initAbilityUses(),"Abomination"===f){const ee=u.abilityList.filter(J=>"AbominationAbility"===J.name);for(const J of ee)J.execute(n,a,l,r)}this.logService.createLog({message:`${u.name} copied ${j.name}`,type:"ability",player:u.parent})}}copy(t){return new v(t,this.logService,this.petService)}}},60489(O,S,i){i.d(S,{y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Zombie Cricket";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ZombieCricketAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},60583(O,S,i){i.d(S,{N:()=>_});var P=i(46200),c=i(5615),A=i(23770);class _ extends P.i{logService;abilityService;name="Farmer Chicken";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"FarmerChickenAbility",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,l=this.owner;let r=l.parent.nearestPetsAhead(this.level,l);if(0!==r.pets.length){for(let u of r.pets)u.givePetEquipment(new A.D),this.logService.createLog({message:`${l.name} fed ${u.name} a Corncob.`,type:"ability",player:l.parent,tiger:n,pteranodon:a,randomEvent:r.random});this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},60715(O,S,i){i.d(S,{P:()=>_,f:()=>A});var P=i(50873),c=i(5615);class A extends P.L{name="Television";tier=6;onBreak(e,t){let n=2*this.level;for(let a of this.parent.petArray)a.alive&&(a.increaseAttack(n),a.increaseHealth(n),this.logService.createLog({message:`${this.name} gave ${a.name} ${n} attack and ${n} health.`,type:"ability",player:this.parent,puma:t}))}}class _ extends c.T{logService;constructor(e,t){super({name:"TelevisionAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=2*this.level,g=r.parent.getAll(!1,r,!0),f=g.pets;if(0!=f.length){for(let D of f)D.increaseAttack(u),D.increaseHealth(u),this.logService.createLog({message:`${r.name} gave ${D.name} ${u} attack and ${u} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random});this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},60797(O,S,i){i.d(S,{N:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="European Mink";tier=2;pack="Danger";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"EuropeanMinkAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=this.level,g=r.parent.nearestPetsAhead(1,r);if(g.pets.length>0){let D=g.pets[0];D.increaseAttack(u),this.logService.createLog({message:`${r.name} gave ${D.name} ${u} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random})}let f=r.parent.nearestPetsBehind(1,r);if(f.pets.length>0){let D=f.pets[0];D.increaseAttack(u),this.logService.createLog({message:`${r.name} gave ${D.name} ${u} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},60826(O,S,i){i.d(S,{q:()=>c});var P=i(22097);class c extends P.${logService;name="Skewer";tier=5;equipmentClass="skewer";power=0;attackCallback=(_,v)=>{this.skewer(_,v,1),this.skewer(_,v,2)};constructor(_){super(),this.logService=_}skewer(_,v,e){let t=v.parent.getPetAtPosition(e);null!=t&&_.snipePet(t,3*(_.equipment?.multiplier??1),!1,null,null,!0,!1,"attacked",3)}}},60892(O,S,i){i.d(S,{C:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Magpie";tier=1;pack="Golden";attack=1;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"MagpieAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} spent up to ${this.level} gold and will gain it back next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},60990(O,S,i){i.d(S,{z:()=>n});var P=i(46200),c=i(5615),A=i(90966),_=i(33127),v=i(58857),e=i(61850),t=i(79222);class n extends P.i{logService;abilityService;name="Hare";tier=3;pack="Puppy";health=4;attack=4;initAbilities(){this.addAbility(new a(this,this.logService)),super.initAbilities()}constructor(r,u,g,f,D,k,L,F,j){super(r,u,g),this.logService=r,this.abilityService=u,this.initPet(L,f,D,k,F,j)}}class a extends c.T{logService;reset(){this.maxUses=this.level,super.reset()}constructor(r,u){super({name:"HareAbility",owner:r,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:r.level,maxUses:r.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=u}executeAbility(r){const{tiger:f}=r,k=this.owner;let L=k.parent.opponent.petArray,F=[];for(let ce of L)ce.equipment&&_.I.getInjector().get(A.m).isUsefulPerk(ce.equipment.name)&&F.push(ce);if(0==F.length)return;const j=(0,v.k6)({key:"pet.hare-copy-equipment",label:(0,t.I)(k,"Hare copied equipment source"),options:F.map(ce=>({id:`${ce.savedPosition+1}:${ce.name}`,label:`O${ce.savedPosition+1} ${ce.name}`}))},()=>(0,e.hw)(0,F.length-1));let ee=F[j.index],J=ee.equipment;if(!J)return;const V=_.I.getInjector().get(A.m).getInstanceOfAllEquipment().get(J.name);if(!V)return;let oe=k.parent.getThis(k).pet;null!=oe&&(k.givePetEquipment(V),this.logService.createLog({message:`${k.name} copied ${J.name} to ${oe.name} from ${ee.name}.`,type:"ability",player:k.parent,tiger:f,randomEvent:j.randomEvent}),this.triggerTigerExecution(r))}copy(r){return new a(r,this.logService)}}},61245(O,S,i){i.d(S,{Ox:()=>_});var P=i(46200),c=i(5615),A=i(44402);class _ extends P.i{logService;abilityService;name="Ox";tier=3;pack="Turtle";health=3;attack=1;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"OxAbility",owner:t,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l}=t,u=this.owner;let g=u.parent.getThis(u),f=g.pet;if(null==f)return;f.increaseAttack(1),this.logService.createLog({message:`${u.name} gave ${f.name} +1 attack.`,type:"ability",player:u.parent,tiger:l,randomEvent:g.random});let D=u.parent.getThis(u),k=D.pet;null!=k&&(k.givePetEquipment(new A.m),this.logService.createLog({message:`${u.name} gave ${k.name} Melon.`,type:"ability",player:u.parent,tiger:l,randomEvent:D.random}),this.triggerTigerExecution(t))}reset(){this.maxUses=this.level,super.reset()}copy(t){return new v(t,this.logService)}}},61311(O,S,i){i.d(S,{U:()=>e});var P=i(22097),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.${logService;name="Tasty";equipmentClass="faint";callback=a=>{const l=a.getEquippedEquipmentInstance(this);a.addAbility(new t(a,l,this.logService))};constructor(a){super(),this.logService=a}}class t extends c.T{equipment;logService;constructor(a,l,r){super({name:"TastyAbility",owner:a,triggers:["Faint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:u=>{this.executeAbility(u)}}),this.equipment=l,this.logService=r}executeAbility(a){const l=this.owner;let r=l.parent.opponent.petArray.filter(f=>f.alive);if(0==r.length)return;const u=(0,A.k6)({key:"equipment.tasty-target",label:(0,v.R)(l,"Tasty","target"),options:r.map(f=>({id:`${f.savedPosition+1}:${f.name}`,label:`O${f.savedPosition+1} ${f.name}`}))},()=>(0,_.hw)(0,r.length-1));let g=r[u.index];g.increaseAttack(2*this.equipment.multiplier),g.increaseHealth(2*this.equipment.multiplier),this.logService.createLog({message:`${l.name} gave ${g.name} +2 attack and +2 health (Tasty)${this.equipment.multiplierMessage}`,type:"equipment",player:l.parent,randomEvent:u.randomEvent})}}},61313(O,S,i){i.d(S,{N:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Ostrich";tier=6;pack="Star";attack=6;health=7;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=4;constructor(e,t,n){super({name:"OstrichAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const t=e.shopPets,a=e.shopPetTiers??t?.map(f=>"number"==typeof f?.tier?f.tier:null);if(!a||a.length<4)return void this.triggerTigerExecution(e);const l=a[0];if(null==l||!a.slice(0,4).every(f=>f===l))return void this.triggerTigerExecution(e);this.usesThisTurn++;const r=this.owner,u=2*this.level,g=r.parent.petArray.filter(f=>f.alive);for(const f of g)f.increaseHealth(u);this.logService.createLog({message:`${r.name} re-rolled the shop and gave friends +${u} health.`,type:"ability",player:r.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},61319(O,S,i){i.d(S,{A:()=>c});const c=function P(A,_){return A===_||A!=A&&_!=_}},61404(O,S,i){i.d(S,{r:()=>c});var P=i(22097);class c extends P.${name="Cake Slice";equipmentClass="shop";tier=1}},61456(O,S,i){function P(c){return null!==c&&"object"==typeof c}i.d(S,{G:()=>P})},61502(O,S,i){i.d(S,{u:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Wyvern";tier=3;pack="Unicorn";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"WyvernAbility",owner:e,triggers:["FriendlyLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} will grant ${n} extra shop reward${1===n?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},61582(O,S,i){i.d(S,{V:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Bloodhound";tier=4;pack="Custom";attack=4;health=4;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},61625(O,S,i){i.d(S,{s:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Albatross";tier=6;pack="Custom";attack=5;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Albatross Ability",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:()=>{}}),this.logService=t}copy(e){return new _(e,this.logService)}}},61752(O,S,i){i.d(S,{x:()=>c});var P=i(50873);class c extends P.L{name="Rosebud";tier=4;friendlyLevelUp(_,v,e,t){if(e||this.triggers++,this.triggers%2!=0)return;let n=v.parent.petArray.filter(a=>a.alive);for(let a of n)this.logService.createLog({message:`${this.name} gave ${a.name} ${t} attack and ${t} health.`,type:"ability",player:this.parent,puma:e}),a.increaseAttack(+t),a.increaseHealth(+t)}}},61753(O,S,i){i.d(S,{p:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Sea Urchin";tier=2;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SeaUrchinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=r.parent.opponent.getFurthestUpPet(r),g=[u.pet],f=u.random;if(null!=g[0]){for(let D=0;D<this.level-1;D++){let k;if(k=f?r.parent.opponent.getFurthestUpPet(r).pet:g[D].petBehind(),null==k)break;g.push(k)}for(let D of g)null!=D&&(D.increaseHealth(-5),this.logService.createLog({message:`${r.name} removed 5 health from ${D.name}.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:f}));this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},61759(O,S,i){i.d(S,{k:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pony";tier=3;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Pony Ability",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,l=a.parent,r=this.level,u=a.petBehind();if(!u)return void this.triggerTigerExecution(e);const g=l.abilityService;for(let f=0;f<r;f++)this.applyBetterApple(u,g);this.logService.createLog({message:`${a.name} fed ${u.name} ${r} Better Apple${1===r?"":"s"} after knocking out an enemy.`,type:"ability",player:l,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}applyBetterApple(e,t){e.increaseAttack(2),e.increaseHealth(2),t?.triggerFoodEvents(e,"better apple")}copy(e){return new _(e,this.logService)}}},61850(O,S,i){function P(v){let t,e=v.length;for(;0!==e;)t=Math.floor(Math.random()*e),e--,[v[e],v[t]]=[v[t],v[e]];return v}function c(v,e){const t=Math.ceil(v),n=Math.floor(e);return Math.floor(Math.random()*(n-t+1))+t}function A(){return Math.random()}i.d(S,{Ak:()=>A,hw:()=>c,k4:()=>P})},61901(O,S,i){i.d(S,{D:()=>A});var P=i(55378),c=i(50873);class A extends c.L{name="Sticky Hand";tier=1;startOfBattle(v,e){const t=this.parent.getLastPets(2);for(const n of t.pets)n.givePetEquipment(new P.z),this.logService.createLog({message:`${this.name} gave ${n.name} Icky.`,type:"ability",player:this.parent,puma:e,randomEvent:t.random})}}},61908(O,S,i){i.d(S,{$:()=>v});var P=i(22097),c=i(5615),A=i(33127),_=i(24111);class v extends P.${name="Cursed";equipmentClass="ailment-other";callback=n=>{n.addAbility(new e(n))}}class e extends c.T{logService;constructor(n){super({name:"CursedAbility",owner:n,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>this.executeAbility(a)}),this.logService=A.I.getInjector().get(_.K)}executeAbility(n){const a=this.owner,l=a.parent.getRandomPet([a],!1,!1,!1,a),r=l.pet;r&&(r.givePetEquipment(new v),this.logService.createLog({message:`${a.name} made ${r.name} Cursed.`,type:"equipment",player:a.parent,randomEvent:l.random}))}}},61950(O,S,i){i.d(S,{m:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Saiga Antelope";tier=4;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"SaigaAntelopeAbility",owner:e,triggers:["PostRemovalFriendFaints2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner,u=r.parent.resolveTrumpetGainTarget(r);u.player.gainTrumpets(3*this.level,r,l,void 0,void 0,u.random),this.logService.createLog({message:`${r.name} gave ${3*this.level} trumpets after a friend died.`,type:"ability",player:r.parent,tiger:a,pteranodon:l}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},61967(O,S,i){i.d(S,{m:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Tsuchinoko";tier=1;pack="Unicorn";attack=2;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TsuchinokoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let g=r.parent.getThis(r).pet;if(null==g)return;r.parent.pushPetToFront(g,!0),this.logService.createLog({message:`${r.name} pushed ${g.name} to the front and gained ${this.level} experience.`,type:"ability",player:r.parent,tiger:a});let D=r.parent.getThis(r).pet;null!=D&&(D.increaseExp(this.level),this.logService.createLog({message:`${r.name} gave ${D.name} +${this.level} experience.`,type:"ability",player:r.parent,tiger:a}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},62023(O,S,i){i.d(S,{c:()=>_});var P=i(46200),c=i(95573),A=i(5615);class _ extends P.i{logService;abilityService;name="Sheep";tier=3;pack="Turtle";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"SheepAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner,g=2*this.level,f=2*this.level;for(let D=0;D<2;D++){let k=new c.w(this.logService,this.abilityService,u.parent,f,g,0,this.minExpForLevel),L=u.parent.summonPet(k,u.savedPosition,!1,u);L.success&&this.logService.createLog({message:`${u.name} spawned Ram (${k.attack}/${k.health}).`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:L.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},62223(O,S,i){var P,c,A,_;i.d(S,{EA:()=>Ke,Eo:()=>ut,KK:()=>tt,Mw:()=>wt,XR:()=>qe,_s:()=>it,bG:()=>at,bf:()=>gt,ht:()=>Ot,oI:()=>mt,qK:()=>Et,yx:()=>Qt});var v=i(13276),e=i(40622),t=i(37283),n=i(98935);const a=ge=>ge.map(Le=>Le?.Name).filter(Le=>!!Le),l={"Beluga Whale":"WhiteWhale","Great One":"Cthulu","Small One":"BabyCthulhu",Abomination:"Shoggoth",Visitor:"Xenomorph",Swordfish:"SwordFish",Doberman:"DobermanDog","Highland Cow":"HighlandCow","Sabertooth Tiger":"SaberToothTiger","Moby Dick":"MochaDick","Chimera Goat":"ChimeraGoat","Chimera Lion":"ChimeraLion","Chimera Snake":"ChimeraSnake",CrackedEgg:"EggLadCracked","Fake Nessie":"FakeNessie","Tand and Tand":"ThorGoats"},r={Corncob:"Corn","Cake Slice":"BirthdayCakeSlice","Peanut Butter":"PeanutButter","Mana Potion":"ManaPotion","Faint Bread":"DeadBread",Kiwifruit:"Kiwi",Eggplant:"EggPlant",Rice:"RiceBall",Donut:"Doughnut",Cherry:"Cherries","Melon Slice":"WaterMelon",Cold:"Frozen",Crisp:"Burn",Dazed:"Deaf",Icky:"Acid",Inked:"Ink",Spooked:"Scared",Sleepy:"Drowsy",Webbed:"Web",Cursed:"Curse",Silly:"Silly",Bloated:"Bloated"},u=Object.fromEntries(Object.entries(r).map(([ge,Le])=>[ge.toLowerCase(),Le])),g=ge=>ge?ge.replace(/[^a-zA-Z0-9]/g,""):"",f=ge=>{const Le=new Map;for(const Ve of ge)Ve?.Name&&Ve?.NameId&&Le.set(Ve.Name,Ve.NameId);return Le},D=(ge,Le)=>{const Ve=ot=>!ot||/^no ability\.?$/i.test(ot.trim()),Fe=[];if(Array.isArray(ge))for(const ot of ge)!ot?.About||Ve(ot.About)||Fe.push(null!=ot.Level?`Lv${ot.Level}: ${ot.About}`:ot.About);return Le&&Fe.push(Le),Fe.length?Fe.join("\n"):null},k=f(v??(P||(P=i.t(v,2)))??[]),L=new Map,F=v??(P||(P=i.t(v,2)))??[];for(const ge of F)!ge?.Name||!ge?.Id||L.set(ge.Name,ge.Id);const j=e??(c||(c=i.t(e,2)))??{},ee=new Map(Object.entries(j.byNameId??{})),J=new Map(Object.entries(j.byPetId??{})),V=new Map,ie=v??(P||(P=i.t(v,2)))??[];for(const ge of ie){if(!ge?.Name)continue;const Le=D(ge.Abilities,ge.PerkNote);Le&&V.set(ge.Name,Le)}const oe=a(v??(P||(P=i.t(v,2)))??[]),ce=f(t??(A||(A=i.t(t,2)))??[]),ve=new Map,Ee=t??(A||(A=i.t(t,2)))??[];for(const ge of Ee){if(!ge?.Name)continue;const Le=D(ge.Abilities);Le&&ve.set(ge.Name,Le)}const Te=a(t??(A||(A=i.t(t,2)))??[]),ke=f(n??(_||(_=i.t(n,2)))??[]),de=new Map(Array.from(ke.entries()).map(([ge,Le])=>[ge.toLowerCase(),Le])),Se=new Map(Array.from(ke.entries()).map(([ge,Le])=>[g(ge),Le])),Be=new Map,Ne=n??(_||(_=i.t(n,2)))??[];for(const ge of Ne)ge?.Name&&ge.Ability&&Be.set(ge.Name,ge.Ability);const Ue=a(n??(_||(_=i.t(n,2)))??[]);function it(ge){if(!ge)return null;const Le=k.get(ge);return Le||(l[ge]||null)}function Ke(ge){const Le=it(ge);return Le?`assets/art/Public/Public/Pets/${Le}.png`:null}function qe(ge){return ge?V.get(ge)??null:null}function tt(ge){if(!ge)return null;const Ve=function _t(ge){if(!ge)return null;const Le=ee.get(ge);return Le?`assets/sounds/pets/${Le}`:null}(k.get(ge));return Ve||function pt(ge){if(null==ge)return null;const Le=J.get(String(ge));return Le?`assets/sounds/pets/${Le}`:null}(L.get(ge))}function gt(){return[...oe]}function at(ge){if(!ge)return null;const Ve=ce.get(ge)??g(ge);return Ve?`assets/art/Public/Public/Toys/${Ve}.png`:null}function wt(ge){return ge?ve.get(ge)??null:null}function ut(){return[...Te]}function Ot(ge,Le=!1){const Ve=(ge=>{if(!ge)return null;const Le=g(ge),Ve=ke.get(ge)??de.get(ge.toLowerCase())??Se.get(Le),Fe=r[ge]??u[ge.toLowerCase()];return(Ve??Fe??Le)||null})(ge);return Ve?Le?`assets/art/Ailments/Ailments/${Ve}.png`:`assets/art/Public/Public/Food/${Ve}.png`:null}function Qt(ge){return ge?Be.get(ge)??null:null}function mt(){return[...Ue]}const Yt={Turtle:"Turtle",Golden:"Golden Retriever",Puppy:"Puppy",Star:"Starfish",Unicorn:"Unicorn",Danger:"Blue Whale",Custom:"White Tiger"};function Et(ge){return ge&&"Add Custom Pack"!==ge?Ke(Yt[ge]||"White Tiger"):null}},62275(O,S,i){i.d(S,{y:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Honduran White Bat";tier=2;pack="Custom";attack=1;health=1;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},62307(O,S,i){i.d(S,{X:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Lion";tier=5;pack="Custom";attack=7;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"LionAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}conditionFunction(){const e=this.owner;let t=e.parent.petArray.filter(a=>a!==e),n=0;for(let a of t)a.tier>n&&(n=a.tier);return e.tier>n}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;if(!this.conditionFunction())return;let u=.5*this.level;r.increaseAttack(Math.floor(r.attack*u)),r.increaseHealth(Math.floor(r.health*u)),this.logService.createLog({message:`${r.name} increased its attack and health by ${100*u}% (${r.attack}/${r.health})`,type:"ability",player:r.parent,tiger:a,pteranodon:l}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},62332(O,S,i){i.d(S,{E:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Lemming";tier=1;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"LemmingAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} will give +${this.level} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},62633(O,S,i){i.d(S,{T:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Lucky Cat";tier=3;pack="Unicorn";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"LuckyCatAbility",owner:e,triggers:["ThisLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=2;3==r.level&&(u=4);let f=r.parent.getThis(r).pet;null!=f&&(this.logService.createLog({message:`${r.name} gave ${f.name} ${u} attack and ${u} health.`,type:"ability",player:r.parent,tiger:a}),f.increaseAttack(u),f.increaseHealth(u),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},62983(O,S,i){i.d(S,{U:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;petService;name="Stoat";tier=2;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L,F){super(a,l,u),this.logService=a,this.abilityService=l,this.petService=r,this.initPet(k,g,f,D,L,F)}}class t extends c.T{logService;abilityService;petService;constructor(a,l,r,u){super({name:"StoatAbility",owner:a,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=l,this.abilityService=r,this.petService=u}executeAbility(a){const l=this.owner,{gameApi:r}=a,u=Math.max(1,r.previousShopTier??l.tier),g=this.petService.allPets.get(u)??[];if(!g.length)return void this.triggerTigerExecution(a);const f=(0,A.k6)({key:"pet.stoat-summon",label:(0,v.I)(l,"Stoat summon"),options:g.map(j=>({id:j,label:j}))},()=>(0,_.hw)(0,g.length-1)),L=this.petService.createPet({name:g[f.index],attack:1,health:1,equipment:null,exp:this.minExpForLevel,mana:0},l.parent);l.parent.summonPet(L,l.savedPosition,!1,l).success&&this.logService.createLog({message:`${l.name} summoned a 1/1 level ${this.level} ${L.name}.`,type:"ability",player:l.parent,tiger:a.tiger,pteranodon:a.pteranodon,randomEvent:f.randomEvent}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService,this.petService)}}},62990(O,S,i){i.d(S,{e:()=>e});var P=i(46200),c=i(5615),A=i(33127),_=i(26886),v=i(61850);class e extends P.i{logService;abilityService;name="Questing Beast";tier=6;pack="Custom";attack=7;health=9;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L){super(a,l,r),this.logService=a,this.abilityService=l,this.initPet(D,u,g,f,k,L)}}class t extends c.T{logService;constructor(a,l){super({name:"QuestingBeastAbility",owner:a,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=l}executeAbility(a){const l=this.owner,r=Math.max(1,Math.min(3,this.level)),u=A.I.getInjector().get(_.w),g=u.toys.get(r)??[];if(0===g.length)return void this.triggerTigerExecution(a);const f=g[(0,v.hw)(0,g.length-1)],D=u.createToy(f,l.parent,r);D?(l.parent.toy=D,l.parent.toy.used=!1,l.parent.toy.triggers=0,this.logService.createLog({message:`${l.name} created a level ${r} ${f} toy.`,type:"ability",player:l.parent}),this.triggerTigerExecution(a)):this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},63080(O,S,i){i.d(S,{A:()=>ee});var P=i(78257),c=i(86568),A=i(82063),_=i(94226),v=i(75756),e=i(31685),t=i(38736),n="[object Map]",l="[object Promise]",r="[object Set]",u="[object WeakMap]",g="[object DataView]",f=(0,t.A)(P.A),D=(0,t.A)(c.A),k=(0,t.A)(A.A),L=(0,t.A)(_.A),F=(0,t.A)(v.A),j=e.A;(P.A&&j(new P.A(new ArrayBuffer(1)))!=g||c.A&&j(new c.A)!=n||A.A&&j(A.A.resolve())!=l||_.A&&j(new _.A)!=r||v.A&&j(new v.A)!=u)&&(j=function(J){var V=(0,e.A)(J),ie="[object Object]"==V?J.constructor:void 0,oe=ie?(0,t.A)(ie):"";if(oe)switch(oe){case f:return g;case D:return n;case k:return l;case L:return r;case F:return u}return V});const ee=j},63195(O,S,i){i.d(S,{I:()=>c});var P=i(50873);class c extends P.L{name="Kite";tier=1;emptyFromSpace(_,v,e,t){const n=this.parent.getLastPet();if(!n.pet)return;const a=n.pet,l=Math.floor(.2*a.attack);l>0&&a.increaseAttack(-l),this.parent.pushPetToFront(a),this.logService.createLog({message:`${this.name} moved ${a.name} to the front and removed ${l} attack.`,type:"ability",player:this.parent,puma:v}),this.used=!0}}},63198(O,S,i){i.d(S,{G:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Mammoth";tier=6;pack="Turtle";attack=4;health=12;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MammothAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=2*this.level,g=r.parent.getAll(!1,r),f=g.pets;if(0!=f.length){for(let D of f)D.increaseAttack(u),D.increaseHealth(u),this.logService.createLog({message:`${r.name} gave ${D.name} ${u} attack and ${u} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:g.random});this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},63257(O,S,i){i.d(S,{J:()=>v,d:()=>_});var P=i(57488),c=i(50873),A=i(5615);class _ extends c.L{name="Stinky Sock";tier=5;startOfBattle(t,n){let a=(0,P.a)(t,this.parent);for(let l=0;l<this.level;l++){let r=a.getHighestHealthPet(),u=r.pet;if(null==u)return;let g=.4,f=Math.max(1,Math.floor(u.health*(1-g)));u.health=f,this.logService.createLog({message:`${this.name} reduced ${u.name} health by ${100*g}% to ${f}`,type:"ability",player:this.parent,puma:n,randomEvent:r.random})}}}class v extends A.T{logService;constructor(t,n){super({name:"StinkySockAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let f=u.parent.opponent.getHighestHealthPets(this.level,[],u),D=f.pets;if(0!=D.length){for(let k of D){let L=.4,F=Math.max(1,Math.floor(k.health*(1-L)));k.health=F,this.logService.createLog({message:`${u.name} reduced ${k.name} health by ${100*L}% to ${F}`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:f.random})}this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},63507(O,S,i){i.d(S,{A:()=>_});var P=i(99898),c=i(64238);const _=function A(v,e){return v&&(0,P.A)(e,(0,c.A)(e),v)}},63618(O,S,i){i.d(S,{y:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;name="Ruspolis Turaco";tier=4;pack="Custom";attack=4;health=3;constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}},63625(O,S,i){i.d(S,{y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Sage-Grouse";tier=3;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Sage-Grouse Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,l=a.parent;"Strawberry"===a.equipment?.name?(a.removePerk(!0),l.gold=(l.gold??0)+3,this.logService.createLog({message:`${a.name} sold and removed Strawberry to gain +3 gold.`,type:"ability",player:l,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},63651(O,S,i){i.d(S,{z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Stegosaurus";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"StegosaurusAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:a,pteranodon:l}=e,r=10*this.level,u=t.parent.petArray.find(g=>g&&g!==t&&g.alive&&!g.equipment);u?(u.increaseAttack(r),u.increaseHealth(r),this.logService.createLog({message:`${t.name} gave ${u.name} +${r}/+${r} at start of battle.`,type:"ability",player:t.parent,tiger:a,pteranodon:l}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},63683(O,S,i){i.d(S,{A:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Ethiopian Wolf";tier=1;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"EthiopianWolfAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=r.parent.opponent.getFurthestUpPets(this.level,void 0,r);for(const g of u.pets)g?.alive&&(g.increaseAttack(-1),this.logService.createLog({message:`${r.name} removed 1 attack from ${g.name}.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:u.random}));this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},63792(O,S,i){i.d(S,{X:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Foo Dog";tier=3;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Foo Dog Ability",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} was bought and gave future shop pets from the next tier +${2*this.level} health.`,type:"ability",player:t.parent}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},63891(O,S,i){i.d(S,{q:()=>_});var P=i(47868),c=i(22168),A=i(49149);let _=(()=>{class v{abilityQueueService;toyEventService;constructor(t,n){this.abilityQueueService=t,this.toyEventService=n}triggerFaintEvents(t){const n=this.abilityQueueService.getTeam(t);for(let a of n)this.abilityQueueService.triggerAbility(a,a==t?"Faint":"FriendFaints",t),a==t.petBehind(null,!0)&&this.abilityQueueService.triggerAbility(a,"FriendAheadFainted",t),(a==t.petBehind(null,!0)||a.petBehind(null,!0)==t)&&this.abilityQueueService.triggerAbility(a,"AdjacentFriendsFaint",t)}triggerAfterFaintEvents(t){t.parent&&this.toyEventService.triggerFriendFaintsToyEvents(t.parent,t),this.abilityQueueService.triggerAbility(t,"PetFainted",t),this.abilityQueueService.triggerAbility(t,"PostRemovalFaint",t);const n=this.abilityQueueService.getTeam(t);for(let l of n)this.abilityQueueService.triggerAbility(l,"PetFainted",t),this.abilityQueueService.triggerAbility(l,"PostRemovalFriendFaints",t),this.abilityQueueService.handleNumberedCounterTriggers(l,t,void 0,this.abilityQueueService.getNumberedTriggersForPet(l,"PostRemovalFriendFaints"));const a=this.abilityQueueService.getTeam(t.parent?.opponent).filter(l=>l.alive);for(let l of a)this.abilityQueueService.triggerAbility(l,"EnemyFainted",t),this.abilityQueueService.triggerAbility(l,"EnemyFaint",t),this.abilityQueueService.triggerAbility(l,"PetFainted",t),this.abilityQueueService.handleNumberedCounterTriggers(l,t,void 0,this.abilityQueueService.getNumberedTriggersForPet(l,"EnemyFaint"));this.toyEventService.executeFriendFaintsToyEvents()}static \u0275fac=function(n){return new(n||v)(P.KVO(c.b),P.KVO(A.e))};static \u0275prov=P.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},63892(O,S,i){i.d(S,{m:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Monty";tier=1;pack="Unicorn";hidden=!0;health=3;attack=3;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},63972(O,S,i){i.d(S,{a:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="German Shepherd";tier=6;pack="Golden";attack=10;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"GermanShepherdAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:n,tiger:a,pteranodon:l}=t,r=this.owner,g=Math.floor(r.attack*(.25*this.level)),f=(0,A.Uj)(r,n);if(!f.pet)return;const D=f.pet;D.increaseAttack(g),(0,A.rv)(this.logService,r,`${r.name} gave ${D.name} ${g} attack.`,a,l,{randomEvent:f.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},63979(O,S,i){i.d(S,{e:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;name="Red Panda";tier=5;pack="Danger";health=4;attack=4;constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}},63981(O,S,i){i.d(S,{Z:()=>_});var P=i(46200),c=i(5615),A=i(19058);class _ extends P.i{logService;abilityService;name="Flea";tier=3;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"FleaAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let g=u.parent.getPetsWithEquipmentWithSillyFallback("Weak",u),f=u.parent.opponent.getHighestHealthPets(this.level,g,u);for(let D of f.pets)this.logService.createLog({message:`${u.name} gave ${D.name} Weak.`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:f.random}),D.givePetEquipment(new A.l);this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},64017(O,S,i){i.d(S,{W:()=>c});var P=i(22097);class c extends P.${name="Kiwano";equipmentClass="shop"}},64174(O,S,i){i.d(S,{K:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Hammerhead Shark";tier=6;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Hammerhead Shark Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;if(!t.parent.petArray.some(r=>r&&r!==t&&3===r.level))return void this.triggerTigerExecution(e);const a=3*this.level,l=t.parent;l.gold=(l.gold??0)+a,this.logService.createLog({message:`${t.name} gained +${a} gold from level 3 friends.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},64238(O,S,i){i.d(S,{A:()=>v});var P=i(6792),c=i(41270),A=i(31287);const v=function _(e){return(0,A.A)(e)?(0,P.A)(e,!0):(0,c.A)(e)}},64255(O,S,i){i.d(S,{Z:()=>v});var P=i(46200),c=i(5615),A=i(32334),_=i(1152);class v extends P.i{logService;abilityService;name="Koala";tier=2;pack="Star";attack=4;health=2;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"KoalaAbility",owner:n,triggers:["FriendHurt"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,precondition:l=>(0,_.Re)(this.owner,l.triggerPet),abilityFunction:l=>{this.executeAbility(l)}}),this.logService=a}executeAbility(n){const{triggerPet:l,tiger:r}=n,g=this.owner;let f=(0,_.LZ)(g,l),D=f.pet;D&&(D.givePetEquipment(new A.E),this.logService.createLog({message:`${g.name} gave ${D.name} Eucalyptus perk.`,type:"ability",player:g.parent,tiger:r,randomEvent:f.random}),this.triggerTigerExecution(n))}copy(n){return new e(n,this.logService)}}},64746(O,S,i){i.d(S,{A:()=>A});var P=i(3746);const A=function c(_){return(0,P.A)(this,_).get(_)}},64747(O,S,i){i.d(S,{u:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Chicken";tier=5;pack="Puppy";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ChickenAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} gave future shop pets +${n} attack and +${n} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},64855(O,S,i){i.d(S,{AF:()=>Ui,UI:()=>Gt,qw:()=>Vt});var P=i(37545),c=i(23201),A=i(72242),_=i(68879),v=i(48356),e=i(14182),t=i(37850),n=i(63195),a=i(29654),l=i(945),r=i(78435),u=i(57252),g=i(94225),f=i(95624),D=i(9238),k=i(95957),L=i(6143),F=i(38130),j=i(94640),ee=i(95621),J=i(61901),V=i(41504),ie=i(8408),oe=i(97244),ce=i(22167),ve=i(76032),Ee=i(77226),Te=i(13950),ke=i(97588),de=i(40358),Se=i(91946),Be=i(53227),Ne=i(93614),Ue=i(63257),lt=i(60715),it=i(29866),Ke=i(25321),qe=i(20136),_t=i(85709),pt=i(83048),tt=i(78708),gt=i(736),at=i(26683),wt=i(890),ut=i(1398),Ge=i(83699),Ot=i(68460),Qt=i(48352),mt=i(42504),Yt=i(56079),Et=i(28128),ge=i(33270),Le=i(67276),Ve=i(61752),Fe=i(19540),ot=i(13713),Ut=i(18609),Kt=i(56351),qt=i(93533);const Vt={"Action Figure":_.j,Balloon:P.O,"Chocolate Box":v.i,"Dice Cup":e.O,Handkerchief:t.L,Kite:n.I,Lamp:a.z,Lunchbox:l.Y,"Tennis Ball":c.R,Onesie:r.M,"Paper Shredder":u._,Pen:g.w,"Pill Bottle":f.S,"Pogo Stick":D.g,"Remote Car":k.N,"Ring Pyramid":L.P,Scale:j.F,"Soccer Ball":ee.x,"Sticky Hand":J.D,Radio:oe.s,"Plastic Saw":ce.y,"Toilet Paper":ve.G,"Oven Mitts":Ee.w,"Melon Helmet":Te.h,"Foam Sword":ke.P,"Toy Gun":de.j,"Toy Mouse":ie._,"Cash Register":Se.X,Camera:Be.i,Flashlight:Ne.l,"Stinky Sock":Ue.d,Television:lt.f,"Peanut Jar":it.J,"Air Palm Tree":Ke.H,"Witch Broom":_t.t,"Magic Wand":pt.a,"Crystal Ball":tt.u,"Treasure Map":gt.W,"Treasure Chest":at.P,"Magic Carpet":ut.H,"Magic Lamp":Ge.M,Candelabra:Ot.a,"Glass Shoes":Qt.X,"Golden Harp":mt.f,"Lock of Hair":Yt.B,"Magic Mirror":Et.D,Pickaxe:ge.Y,"Red Cape":Le.N,Rosebud:Ve.x,Excalibur:Fe.U,"Holy Grail":ot.s},Gt={"Evil Book":wt._,Nutcracker:Ut.t,"Tinder Box":Kt.i},Ui={"Rubber Duck":Bt=>new F.A(Bt.logService,Bt.toyService,Bt.petService,Bt.parent,Bt.level),Stick:Bt=>new A.n(Bt.logService,Bt.toyService,Bt.parent,Bt.level,Bt.petService),"Stuffed Bear":Bt=>new V.W(Bt.logService,Bt.toyService,Bt.petService,Bt.parent,Bt.level),"Pandoras Box":Bt=>new qe.g(Bt.logService,Bt.toyService,Bt.parent,Bt.level,Bt.equipmentService),"Microwave Oven":Bt=>new qt.q(Bt.logService,Bt.toyService,Bt.parent,Bt.level,Bt.petService,Bt.gameService)}},64888(O,S,i){i.d(S,{l:()=>_});var P=i(61850),c=i(46200),A=i(5615);class _ extends c.i{logService;abilityService;name="Tandgnost";tier=4;pack="Custom";attack=6;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;constructor(t,n){super({name:"Tandgnost Ability",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=n.parent.petArray.filter(u=>u&&u.alive&&"Tandgrisner"===u.name);if(0===a.length)return void this.triggerTigerExecution(t);const[l]=(0,P.k4)([...a]),r=3*Math.max(1,this.level);l.increaseHealth(r),this.logService.createLog({message:`${n.name} gave ${l.name} +${r} health.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},65006(O,S,i){i.d(S,{$:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;name="Saola";tier=2;pack="Danger";attack=2;health=2;constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}},65033(O,S,i){i.d(S,{A:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Guinea Pig";tier=2;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"GuineaPigAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,a=this.level,l=new A(this.logService,this.abilityService,t.parent,a,a,null,this.minExpForLevel),r=t.parent.summonPet(l,t.savedPosition,!1,t);r.success&&this.logService.createLog({message:`${t.name} summoned a ${a}/${a} Guinea Pig (level ${this.level}).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:r.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},65103(O,S,i){i.d(S,{y:()=>v});var P=i(46200),c=i(5615),A=i(44402),_=i(1152);class v extends P.i{logService;abilityService;name="Marine Iguana";tier=5;pack="Danger";attack=4;health=5;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends c.T{logService;targettedFriends=new Set;constructor(n,a){super({name:"MarineIguanaAbility",owner:n,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,precondition:l=>{const r=this.owner;if(!(0,_.Re)(r,l.triggerPet))return!1;const g=(0,_.lK)(r,l.triggerPet).pet;return!!g&&!this.targettedFriends.has(g)},abilityFunction:l=>{this.executeAbility(l)}}),this.logService=a}reset(){this.targettedFriends=new Set,super.reset()}executeAbility(n){const{triggerPet:l,tiger:r}=n,g=this.owner;let f=(0,_.lK)(g,l),D=f.pet;D&&(D.givePetEquipment(new A.m),this.targettedFriends.add(D),this.logService.createLog({message:`${g.name} gave ${D.name} Melon`,type:"ability",player:g.parent,tiger:r,randomEvent:f.random}),this.triggerTigerExecution(n))}copy(n){return new e(n,this.logService)}}},65188(O,S,i){i.d(S,{E:()=>c});var P=i(22097);class c extends P.${name="Carrot";equipmentClass="shop"}},65223(O,S,i){i.d(S,{X:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Nudibranch";tier=1;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"NudibranchAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>{const a=this.owner;let l=new Set;for(const r of a.parent.petArray){if(l.has(r.name))return!1;l.add(r.name)}return!0},abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,l=3*this.level,r=this.level;a.increaseAttack(l),a.increaseHealth(r),this.logService.createLog({message:`${a.name} gained +${l} attack and +${r} health.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},65418(O,S,i){i.d(S,{f:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Nurse Shark";tier=5;pack="Golden";attack=5;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"NurseSharkAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>0!=this.owner.parent.trumpets,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=3*Math.min(r.parent.trumpets,6),g=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,[],!1,!0,r),f=g.pets;if(0!=f.length){r.parent.spendTrumpets(Math.min(r.parent.trumpets,6),r,l);for(let D of f)r.snipePet(D,u,g.random,a,l);this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},65419(O,S,i){i.d(S,{n:()=>A});var P=i(33500),c=i(22729);class A extends c.H{pushPetToFront(v,e=!1){(0,P.Q_)(this,v,e,this.logService,this.abilityService)}pushPetToBack(v){(0,P.i2)(this,v,this.logService,this.abilityService)}pushPet(v,e=1,t){(0,P.q7)(this,v,e,t,this.logService,this.abilityService)}}},65438(O,S,i){i.d(S,{B:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Murmel";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MurmelAbility",owner:e,triggers:["FriendGainedExp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=this.level,f=r.parent.getThis(r).pet;null!=f&&(this.logService.createLog({message:`${r.name} gave ${f.name} ${u} attack.`,type:"ability",player:r.parent,tiger:a}),f.increaseAttack(u),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},65679(O,S,i){i.d(S,{v:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Boar";tier=6;pack="Turtle";attack=10;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BoarAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u={attack:4*this.level,health:2*this.level},g=r.parent.getThis(r),f=g.pet;null!=f&&(f.increaseAttack(u.attack),f.increaseHealth(u.health),this.logService.createLog({message:`${r.name} gave ${f.name} ${u.attack} attack and ${u.health} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},65919(O,S,i){i.d(S,{n:()=>_});var P=i(46200),c=i(29855),A=i(5615);class _ extends P.i{logService;abilityService;name="Hydra";tier=6;pack="Unicorn";attack=10;health=6;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"HydraAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let g=Math.floor(u.attack/10);for(let f=0;f<g;f++){let D=5*this.level,k=new c.p(this.logService,this.abilityService,u.parent,D,D),L=u.parent.summonPet(k,u.savedPosition,!1,u);L.success&&this.logService.createLog({message:`${u.name} spawned Head (${k.attack}/${k.health}).`,type:"ability",player:u.parent,tiger:l,pteranodon:r,sourcePet:u,randomEvent:L.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},66139(O,S,i){i.d(S,{u:()=>_});var P=i(22097),c=i(63892),A=i(5615);class _ extends P.${logService;abilityService;name="Easter Egg";equipmentClass="afterFaint";callback=t=>{const n=t.getEquippedEquipmentInstance(this);t.addAbility(new v(t,n,this.logService,this.abilityService))};constructor(t,n){super(),this.logService=t,this.abilityService=n}}class v extends A.T{equipment;logService;abilityService;constructor(t,n,a,l){super({name:"EasterEggAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=n,this.logService=a,this.abilityService=l}executeAbility(t){const n=this.owner;for(let a=0;a<this.equipment.multiplier;a++){let l=new c.m(this.logService,this.abilityService,n.parent,null,null,0,0);n.parent.summonPet(l,n.savedPosition).success&&this.logService.createLog({message:`${n.name} Spawned Monty (Easter Egg)${a>0?this.equipment.multiplierMessage:""}`,type:"ability",player:n.parent})}}}},66328(O,S,i){i.d(S,{r:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Ahuizotl";tier=4;pack="Custom";attack=3;health=6;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},66358(O,S,i){i.d(S,{J:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Dog";tier=3;pack="Turtle";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DogAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;if(!n||n===r)return;let u=2*this.level,g=this.level,f=r.parent.getThis(r);f.pet&&(f.pet.increaseAttack(u),f.pet.increaseHealth(g),this.logService.createLog({message:`${r.name} gave ${f.pet.name} ${u} attack and ${g} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},66391(O,S,i){i.d(S,{i:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Fire Ant";tier=5;pack="Golden";attack=8;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"FireAntAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=r.parent.getHighestTierPets(this.level,null,r),g=u.pets;if(0!=g.length){for(let f of g)f.increaseAttack(r.attack),this.logService.createLog({message:`${r.name} gave ${f.name} ${r.attack} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random,pteranodon:l});this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},66548(O,S,i){i.d(S,{u:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Hoopoe Bird";tier=3;pack="Puppy";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"HoopoeBirdAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=r.parent.opponent,g=u.getFurthestUpPet(r),f=g.pet,D=u.getLastPet(void 0,r),k=D.pet,L=2*this.level;f&&r.snipePet(f,L,g.random,a,l),k&&r.snipePet(k,L,D.random,a,l),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},66723(O,S,i){i.d(S,{J:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Manticore";tier=6;pack="Unicorn";attack=7;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ManticoreAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){}copy(e){return new _(e,this.logService,this.abilityService)}}},66802(O,S,i){i.d(S,{n:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Lionfish";tier=6;pack="Puppy";attack=10;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"LionfishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=r.parent.opponent,g=1+Math.floor(r.attack/10);for(let f=0;f<g;f++){let D=u.getRandomPet([],!1,!0,!1,r);if(null==D.pet)return;r.snipePet(D.pet,3*this.level,D.random,a,l)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},66855(O,S,i){i.d(S,{f:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Tropical Fish";tier=3;pack="Puppy";attack=3;health=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"TropicalFishAbility",owner:t,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,a=(0,A.MZ)(n);if(0!==a.length){for(const l of a)l.increaseHealth(this.level),(0,A.rv)(this.logService,n,`${n.name} gave ${l.name} +${this.level} health.`,t.tiger,t.pteranodon);this.triggerTigerExecution(t)}else this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},66948(O,S,i){i.d(S,{v:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Cardinal";tier=3;pack="Star";health=3;attack=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"CardinalAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;let n=t.petAhead;for(;n;){const a=n.equipment;if(a&&!a.equipmentClass?.startsWith("ailment")){this.logService.createLog({message:`${t.name} stocked a discounted copy of ${a.name} (-${this.level} gold).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon});break}n=n.petAhead}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},67013(O,S,i){i.d(S,{P:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Hippo";tier=4;pack="Turtle";attack=4;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"HippoAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=3*this.level,g=r.parent.getThis(r),f=g.pet;null!=f&&(f.increaseAttack(u),f.increaseHealth(u),this.logService.createLog({message:`${r.name} gave ${f.name} ${u} attack and ${u} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},67056(O,S,i){i.d(S,{B:()=>_});var P=i(46200),c=i(33446),A=i(5615);class _ extends P.i{logService;abilityService;name="Dunkleosteus";tier=6;pack="Custom";attack=6;health=8;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;constructor(t,n){super({name:"Dunkleosteus Ability",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=n.equipment;if(!a||!this.isAilmentEquipment(a))return void this.triggerTigerExecution(t);const l=n.parent.opponent.petArray.filter(D=>D&&D.alive);if(0===l.length)return void this.triggerTigerExecution(t);const r=(0,c.A)(a);n.removePerk(!0);const u=l.slice(0,Math.min(2,l.length));for(const D of u){const k=(0,c.A)(r);k.multiplier+=this.level-1,D.givePetEquipment(k)}const g=["."," with double effect."," with triple effect."],f=`${n.name} moved ${r.name} to ${u.map(D=>D.name).join(", ")}${g[Math.min(this.level,g.length)-1]}`;this.logService.createLog({message:f,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}isAilmentEquipment(t){return"ailment-attack"===t.equipmentClass||"ailment-defense"===t.equipmentClass||"ailment-other"===t.equipmentClass}copy(t){return new v(t,this.logService)}}},67104(O,S,i){i.d(S,{A:()=>_});var c=Object.prototype.hasOwnProperty;const _=function A(v){var e=v.length,t=new v.constructor(e);return e&&"string"==typeof v[0]&&c.call(v,"index")&&(t.index=v.index,t.input=v.input),t}},67138(O,S,i){i.d(S,{z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Team Spirit";tier=6;pack="Unicorn";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TeamSpiritAbility",owner:e,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.getAll(!1,r,!0),g=u.pets,f={attack:r.level,health:r.level};for(let D of g)this.logService.createLog({message:`${r.name} gave ${D.name} ${f.attack} attack and ${f.health} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random}),D.increaseAttack(f.attack),D.increaseHealth(f.health);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},67174(O,S,i){i.d(S,{a:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Bad Dog";tier=5;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BadDogAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} chose a level ${this.level} toy that brings doom and chaos!`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},67276(O,S,i){i.d(S,{N:()=>A});var P=i(50873);i(5615);class A extends P.L{name="Red Cape";tier=4;friendJumped(e,t,n,a){let l=t.parent.petArray.filter(r=>r.alive);for(let r of l)this.logService.createLog({message:`${this.name} gave ${r.name} ${a} attack and ${a} health.`,type:"ability",player:this.parent,puma:n}),r.increaseAttack(+a),r.increaseHealth(+a)}}},67319(O,S,i){i.d(S,{S:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Shark";tier=5;pack="Turtle";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SharkAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;if(!r.alive||n==r)return;let u={attack:2*this.level,health:2*this.level},g=r.parent.getThis(r),f=g.pet;null!=f&&(f.increaseAttack(u.attack),f.increaseHealth(u.health),this.logService.createLog({message:`${r.name} gave ${f.name} ${u.attack} attack and ${u.health} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},67336(O,S,i){i.d(S,{e:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;petService;name="Silky Sifaka";tier=6;pack="Danger";attack=4;health=6;initAbilities(){this.addAbility(new t(this,this.logService,this.petService)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L,F){super(a,l,u),this.logService=a,this.abilityService=l,this.petService=r,this.initPet(k,g,f,D,L,F)}}class t extends c.T{logService;petService;constructor(a,l,r){super({name:"SilkySifakaAbility",owner:a,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:u=>{this.executeAbility(u)}}),this.logService=l,this.petService=r}executeAbility(a){const{tiger:u}=a,f=this.owner;let D=["Mammoth","Lionfish","Orca","Sabertooth Tiger","Warthog","Hydra","Phoenix","Bay Cat","Walrus","Ammonite"],L=f.parent.nearestPetsBehind(2,f).pets;for(let F of L){const j=(0,A.k6)({key:"pet.silky-sifaka-transform",label:(0,v.I)(f,`Silky Sifaka transform for ${F.name}`),options:D.map(V=>({id:V,label:V}))},()=>(0,_.hw)(0,D.length-1));let J=this.petService.createPet({name:D[j.index],attack:F.attack,health:F.health,mana:F.mana,exp:f.minExpForLevel,equipment:F.equipment},f.parent);f.parent.transformPet(F,J),this.logService.createLog({message:`${f.name} transformed ${F.name} into level ${f.level} ${J.name}`,type:"ability",player:f.parent,tiger:u,randomEvent:j.randomEvent})}this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.petService)}}},67358(O,S,i){i.d(S,{$:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Sea Serpent";tier=6;pack="Unicorn";attack=6;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SeaSerpentAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner,g=e.seaSerpentMana??r.mana;if(0==g)return;null==e.seaSerpentMana&&(e.seaSerpentMana=g,r.mana=0);let f=g;this.logService.createLog({message:`${r.name} spent ${g} mana.`,type:"ability",player:r.parent,tiger:a,pteranodon:l});let k=r.parent.opponent.getHighestHealthPet(void 0,r);null!=k.pet&&r.snipePet(k.pet,f,k.random,a,l);let L=r.parent.getRandomEnemyPetsWithSillyFallback(this.level,[k.pet],null,!0,r);for(let F of L.pets)null!=F&&r.snipePet(F,f,L.random,a,l);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},67412(O,S,i){i.d(S,{l:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;name="Sphinx";tier=2;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new t(this)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L){super(a,l,r),this.logService=a,this.abilityService=l,this.initPet(D,u,g,f,k,L)}}class t extends c.T{constructor(a){super({name:"Sphinx Ability",owner:a,triggers:["ThisBought"],abilityType:"Pet",abilitylevel:a.level,abilityFunction:l=>this.executeAbility(l)})}executeAbility(a){const{gameApi:l}=a,r=this.owner,u=this.level,g=["Tennis Ball","Plastic Saw","Toilet Paper","Foam Sword","Flashlight","Television"],f=(0,A.k6)({key:"pet.sphinx-toy-roll",label:(0,v.I)(r,"Sphinx adventurous toy roll"),options:g.map(L=>({id:L,label:L}))},()=>(0,_.hw)(0,g.length-1)),D=g[f.index],k=l?.toyService?.createToy(D,r.parent,u);k&&(r.parent.toy=k,l?.logService?.createLog({message:`${r.name} gained a level ${u} ${D}.`,type:"ability",player:r.parent,randomEvent:f.randomEvent})),this.triggerTigerExecution(a)}copy(a){return new t(a)}}},67459(O,S,i){i.d(S,{a:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Blue Dragon";tier=3;pack="Custom";attack=3;health=4;constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}}class _ extends c.T{logService;constructor(e,t){super({name:"Blue Dragon Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,u=a.parent.nearestPetsBehind(4,a).pets.length*this.level;if(u>0){const k=a.parent.resolveTrumpetGainTarget(a);k.player.gainTrumpets(u,a,n,void 0,void 0,k.random)}const g=this.level,D=a.parent.nearestPetsAhead(4,a).pets;D.length>0&&(D.forEach(k=>k.increaseMana(g)),this.logService.createLog({message:`${a.name} gave ${D.length} friend${1===D.length?"":"s"} ahead +${g} mana at StartBattle.`,type:"ability",player:a.parent,tiger:t,pteranodon:n})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},67476(O,S,i){i.d(S,{h:()=>_});var P=i(46200),c=i(5615),A=i(13761);class _ extends P.i{logService;abilityService;name="Gelada";tier=4;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"Gelada Ability",owner:t,triggers:["Eat2"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>this.executeAbility(l)}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:n,pteranodon:a}=t,l=this.owner,r=this.level;if(r<=0)return void this.triggerTigerExecution(t);const u=new A.s(this.logService,this.abilityService,l.parent,void 0,void 0,void 0,l.exp);l.parent.transformPet(l,u),this.feedFriends(r),this.logService.createLog({message:`${l.name} transformed into ${u.name} and fed each friend ${r} Pear${1===r?"":"s"}.`,type:"ability",player:l.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(t)}feedFriends(t){if(t<=0)return;const l=this.owner.parent.petArray.filter(r=>r&&r.alive);for(const r of l)for(let u=0;u<t;u++)r.increaseAttack(1),r.increaseHealth(1),this.abilityService.triggerFoodEvents(r,"pear")}copy(t){return new v(t,this.logService,this.abilityService)}}},67647(O,S,i){i.d(S,{T:()=>c});var P=i(22097);class c extends P.${name="Cucumber";equipmentClass="shop"}},67895(O,S,i){i.d(S,{A:()=>v});var P=i(56658),c=i(42697),A=i(14429);const v=function _(e){return(0,P.A)(e,A.A,c.A)}},67902(O,S,i){i.d(S,{S:()=>_});var P=i(46200),c=i(42655),A=i(5615);class _ extends P.i{logService;abilityService;name="Fly";tier=6;pack="Turtle";attack=4;health=4;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"FlyAbility",owner:t,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:3,condition:l=>{const{triggerPet:r}=l;return!(r&&r instanceof c.A||this.owner.parent.petArray.length>=5)},abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{triggerPet:a,tiger:l}=t,u=this.owner;let g=new c.A(this.logService,this.abilityService,u.parent,null,null,null,this.minExpForLevel),f=u.parent.summonPet(g,a.savedPosition,!1,u);f.success&&this.logService.createLog({message:`${u.name} spawned Zombie Fly Level ${this.level}`,type:"ability",player:u.parent,tiger:l,randomEvent:f.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},68169(O,S,i){i.d(S,{E:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Beaver";tier=1;pack="Turtle";health=2;attack=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BeaverAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,n=this.level,a=t.parent.getRandomPets(2,[t],!1,!1,t);if(0!==a.pets.length){for(const l of a.pets)l.increaseAttack(n);this.logService.createLog({message:`${t.name} gave ${a.pets.map(l=>l.name).join(", ")} ${n} attack.`,type:"ability",player:t.parent,randomEvent:a.random,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},68184(O,S,i){i.d(S,{k:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Cuddle Toad";tier=1;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"CuddleToadAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked a witch toy that breaks after ${2*this.level} turns.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},68189(O,S,i){i.d(S,{R:()=>A});var P=i(31805);class c extends P.y{constructor(v,e){super()}schedule(v,e=0){return this}}class A extends c{constructor(v,e){super(v,e),this.scheduler=v,this.work=e,this.pending=!1}schedule(v,e=0){if(this.closed)return this;this.state=v;const t=this.id,n=this.scheduler;return null!=t&&(this.id=this.recycleAsyncId(n,t,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this}requestAsyncId(v,e,t=0){return setInterval(v.flush.bind(v,this),t)}recycleAsyncId(v,e,t=0){if(null!==t&&this.delay===t&&!1===this.pending)return e;clearInterval(e)}execute(v,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const t=this._execute(v,e);if(t)return t;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(v,e){let n,t=!1;try{this.work(v)}catch(a){t=!0,n=!!a&&a||new Error(a)}if(t)return this.unsubscribe(),n}_unsubscribe(){const v=this.id,e=this.scheduler,t=e.actions,n=t.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&t.splice(n,1),null!=v&&(this.id=this.recycleAsyncId(e,v,null)),this.delay=null}}},68308(O,S,i){i.d(S,{A:()=>t});var P=i(92943),c=i(30219),A=i(64746),_=i(86542),v=i(15030);function e(n){var a=-1,l=null==n?0:n.length;for(this.clear();++a<l;){var r=n[a];this.set(r[0],r[1])}}e.prototype.clear=P.A,e.prototype.delete=c.A,e.prototype.get=A.A,e.prototype.has=_.A,e.prototype.set=v.A;const t=e},68460(O,S,i){i.d(S,{a:()=>c});var P=i(50873);class c extends P.L{name="Candelabra";tier=4}},68478(O,S,i){i.d(S,{N:()=>c});var P=i(22097);class c extends P.${name="Pineapple";equipmentClass="attack-snipe";power=2;uses=3;originalUses=3;constructor(){super()}}},68546(O,S,i){i.d(S,{V:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Snow Leopard";tier=5;pack="Danger";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SnowLeopardAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=5*this.level,g=r.parent.opponent.getRandomPet([],!1,!0,!1,r);if(g.pet&&g.pet.alive){if(r.jumpAttackPrep(g.pet),r.transformed&&r.transformedInto){let f=r.parent.getThis(r.transformedInto);f.pet&&(r.transformedInto.increaseAttack(u),r.transformedInto.increaseHealth(u),this.logService.createLog({message:`${r.name} gave ${r.transformedInto.name} ${u} attack and ${u} health`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}))}else{let f=r.parent.getThis(r);f.pet&&(f.pet.increaseAttack(u),f.pet.increaseHealth(u),this.logService.createLog({message:`${r.name} gave ${f.pet.name} ${u} attack and ${u} health`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}))}r.jumpAttack(g.pet,a,null,g.random)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},68629(O,S,i){i.d(S,{u:()=>_});var P=i(46200),c=i(5615),A=i(23770);class _ extends P.i{logService;abilityService;name="Farmer Pig";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Farmer Pig Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,l=this.owner,r=[l.petAhead,l.petBehind()].filter(u=>null!==u&&u.alive);for(const u of r)for(let g=0;g<this.level;g++){const f=new A.D;f.effectMultiplier=2,u.givePetEquipment(f)}r.length>0&&this.logService.createLog({message:`${l.name} fed adjacent friends ${this.level} Corncob${1===this.level?"":"s"} with double effect.`,type:"ability",player:l.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},68879(O,S,i){i.d(S,{j:()=>_});var P=i(57488),c=i(51838),A=i(50873);class _ extends A.L{name="Action Figure";tier=1;startOfBattle(e,t){const a=(0,P.a)(e,this.parent).getFurthestUpPets(2);for(const l of a.pets)l.givePetEquipment(new c.K),this.logService.createLog({message:`${this.name} gave ${l.name} Coconut.`,type:"ability",player:this.parent,puma:t,randomEvent:a.random})}}},68908(O,S,i){i.d(S,{g:()=>_});var P=i(46200),c=i(5615),A=i(4673);class _ extends P.i{logService;abilityService;name="Cerberus";tier=6;pack="Unicorn";attack=9;health=9;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"CerberusAbility",owner:t,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,condition:l=>null==this.owner.parent.pet0,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l}=t,u=this.owner;let f=new A.O(this.logService,this.abilityService,u.parent,8,8,null,5),D=u.parent.summonPet(f,0,!1,u);D.success&&this.logService.createLog({message:`${u.name} spawned Fire Pup (8/8).`,type:"ability",player:u.parent,tiger:l,sourcePet:u,randomEvent:D.randomEvent}),this.triggerTigerExecution(t)}reset(){this.maxUses=this.level,super.reset()}copy(t){return new v(t,this.logService,this.abilityService)}}},68932(O,S,i){var P;i.d(S,{v:()=>n});var c=i(46200),A=i(5615),_=i(61850),v=i(13276);const e=new Map,t=v??(P||(P=i.t(v,2)));if(Array.isArray(t))for(const l of t){if(!l||"object"!=typeof l)continue;const r=l;if(!r.Name)continue;const u=Number(r.Attack??0),g=Number(r.Health??0);e.set(r.Name,{attack:u,health:g})}class n extends c.i{logService;abilityService;name="Andrewsarchus";tier=4;pack="Custom";attack=5;health=4;initAbilities(){this.addAbility(new a(this,this.logService)),super.initAbilities()}constructor(r,u,g,f,D,k,L,F,j){super(r,u,g),this.logService=r,this.abilityService=u,this.initPet(L,f,D,k,F,j)}}class a extends A.T{logService;pendingAttack=0;pendingHealth=0;constructor(r,u){super({name:"Andrewsarchus Ability",owner:r,triggers:["EndTurn","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:r.level,abilityFunction:g=>this.executeAbility(g)}),this.logService=u}executeAbility(r){const{gameApi:u,tiger:g,pteranodon:f}=r,D=this.owner;if("StartTurn"===r.trigger)return(this.pendingAttack||this.pendingHealth)&&(D.increaseAttack(-this.pendingAttack),D.increaseHealth(-this.pendingHealth),this.pendingAttack=0,this.pendingHealth=0),void this.triggerTigerExecution(r);const k=D.parent===u?.player?u?.playerPetPool:u?.opponentPetPool,L=[];let F=-1;for(const oe of k?.values()??[])for(const ce of oe??[]){const ve=e.get(ce);ve&&(ve.health>F?(F=ve.health,L.length=0,L.push(ce)):ve.health===F&&L.push(ce))}if(!L.length||F<0)return void this.triggerTigerExecution(r);const j=1===L.length?L[0]:L[(0,_.hw)(0,L.length-1)],ee=e.get(j);if(!ee)return void this.triggerTigerExecution(r);const J=.5*this.level,V=Math.floor(ee.attack*J),ie=Math.floor(ee.health*J);(V>0||ie>0)&&(D.increaseAttack(V),D.increaseHealth(ie),this.pendingAttack+=V,this.pendingHealth+=ie),this.logService.createLog({message:`${D.name} removed ${j} from the shop and gained +${V}/+${ie} until next turn.`,type:"ability",player:D.parent,tiger:g,pteranodon:f,randomEvent:L.length>1}),this.triggerTigerExecution(r)}copy(r){const u=new a(r,this.logService);return u.pendingAttack=this.pendingAttack,u.pendingHealth=this.pendingHealth,u}}},69357(O,S,i){i.d(S,{L:()=>A});var P=i(46200),c=i(5615);class A extends P.i{constructor(e,t,n){super(e,t,n),this.name="Aardvark",this.tier=3,this.pack="Custom",this.attack=2,this.health=3}initAbilities(){this.abilityList=[new _(this,this.logService)],super.initAbilities()}}class _ extends c.T{logService;constructor(e,t){super({name:"Aardvark Ability",owner:e,triggers:["EnemySummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,l=this.level,r=3*this.level;a.increaseAttack(l),a.increaseHealth(r),this.logService.createLog({message:`${a.name} gained +${l}/+${r} from EnemySummoned.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},69359(O,S,i){i.d(S,{x:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Highland Cow";tier=6;pack="Golden";attack=4;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"HighlandCowAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{pteranodon:l}=e,r=this.owner,u=4*this.level+Math.floor(r.health/3)*this.level,g=r.parent.resolveTrumpetGainTarget(r);g.player.gainTrumpets(u,r,l,void 0,void 0,g.random),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},69379(O,S,i){i.d(S,{Z:()=>c});const c=(()=>{function A(_){return Error.call(this),this.message=_?`${_.length} errors occurred during unsubscription:\n${_.map((v,e)=>`${e+1}) ${v.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=_,this}return A.prototype=Object.create(Error.prototype),A})()},69385(O,S,i){i.d(S,{L:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Worm of Sand";tier=4;pack="Unicorn";attack=4;health=1;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"WormOfSandAbility",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,l=Math.min(Math.max((n.parent===t.gameApi.player?t.gameApi.playerRollAmount:t.gameApi.opponentRollAmount)??0,0),8),r=Math.floor(l/4);if(r<=0)return void this.triggerTigerExecution(t);const u=this.level*r,g=(0,A.MZ)(n);for(const f of g)f.increaseAttack(u),f.increaseHealth(u);g.length>0&&this.logService.createLog({message:`${n.name} gave adjacent friends +${u}/+${u}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:g.length>1}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},69792(O,S,i){i.d(S,{M:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Giant Otter";tier=4;pack="Danger";attack=4;health=3;buffedFriends=new Map;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;buffedFriends=new Map;constructor(e,t){super({name:"GiantOtterAbility",owner:e,triggers:["BeforeStartBattle","AnyoneAttack","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}reset(){this.buffedFriends.clear(),super.reset()}removeConditionalBuffs(){this.buffedFriends.size>0&&this.logService.createLog({message:`${this.owner.name} removed its temporary buffs after the first non-jump attack`,type:"ability",player:this.owner.parent});for(let[e,t]of this.buffedFriends){let n=e;if(n.transformed&&n.transformedInto&&(n=n.transformedInto),n&&n.alive&&(t.attack>0&&n.increaseAttack(-t.attack),t.health>0&&n.increaseHealth(-t.health),t.attack>0||t.health>0)){const a=[];t.attack>0&&a.push(`${t.attack} attack`),t.health>0&&a.push(`${t.health} health`),this.logService.createLog({message:`${n.name} lost ${a.join(" and ")} (Giant Otter Buffs removed)`,type:"ability",player:this.owner.parent})}this.buffedFriends.delete(e)}}executeAbility(e){const{gameApi:t,triggerPet:n,tiger:a}=e,u=this.owner;if("PostRemovalFaint"===e.trigger)return void this.removeConditionalBuffs();if(n)return void(t.FirstNonJumpAttackHappened&&this.removeConditionalBuffs());let g={attack:2*this.level,health:5*this.level},f=u.parent.getAll(!1,u,!0),D=f.pets;for(let k of D){const L=k.increaseAttack(g.attack),F=k.increaseHealth(g.health),j=this.buffedFriends.get(k);j?(j.attack+=L,j.health+=F):this.buffedFriends.set(k,{attack:L,health:F}),this.logService.createLog({message:`${u.name} gave ${k.name} +${g.attack} attack and +${g.health} health`,type:"ability",player:u.parent,tiger:a,randomEvent:f.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},70129(O,S,i){i.d(S,{A:()=>n});var P=i(31685),c=i(30554);const n=function t(a){if(!(0,c.A)(a))return!1;var l=(0,P.A)(a);return"[object Function]"==l||"[object GeneratorFunction]"==l||"[object AsyncFunction]"==l||"[object Proxy]"==l}},70458(O,S,i){i.d(S,{c:()=>_});var P=i(46200),c=i(5615),A=i(61850);class _ extends P.i{logService;abilityService;petService;name="Spider";tier=2;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D,k){super(t,n,l),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,u,g,D,k)}}class v extends c.T{logService;abilityService;petService;constructor(t,n,a,l){super({name:"SpiderAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=n,this.abilityService=a,this.petService=l}executeAbility(t){const{gameApi:n,tiger:l,pteranodon:r}=t,u=this.owner;let D=[...(u.parent==n?.player?n?.playerPetPool:n?.opponentPetPool)?.get(3)??[]].filter(V=>V&&"Spider"!=V);if(0==D.length&&(D=[...this.petService?.allPets?.get(3)??[]].filter(V=>V&&"Spider"!=V)),0==D.length)return;let k=D[(0,A.hw)(0,D.length-1)];if(!k)return;let L=this.level,j=2*this.level,ee=this.petService.createPet({attack:j,exp:this.minExpForLevel,equipment:null,health:j,name:k,mana:0},u.parent);u.parent.summonPet(ee,u.savedPosition,!1,u).success&&this.logService.createLog({message:`${u.name} spawned ${ee.name} level ${L} (${j}/${j})`,type:"ability",player:u.parent,randomEvent:!0,tiger:l,pteranodon:r}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService,this.petService)}}},70471(O,S,i){i.d(S,{w:()=>_});var P=i(46200),c=i(5615),A=i(61311);class _ extends P.i{logService;abilityService;name="Sea Cucumber";tier=5;pack="Custom";health=5;attack=3;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"SeaCucumberAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let g=u.parent.getPetsWithEquipmentWithSillyFallback("Tasty",u),f=u.parent.getRandomEnemyPetsWithSillyFallback(this.level,g,!1,!0,u),D=f.pets;if(0!=D.length){for(let k of D){let L=new A.U(this.logService);k.givePetEquipment(L),this.logService.createLog({message:`${u.name} made ${k.name} Tasty`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:f.random})}this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService,this.abilityService)}}},70511(O,S,i){i.d(S,{c:()=>_});var P=i(46200),c=i(5615),A=i(59374);class _ extends P.i{logService;abilityService;name="Tardigrade";tier=4;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class v extends P.i{name="Tardigrade";tier=1;pack="Custom";attack=3;health=3;initAbilities(){}constructor(n,a,l,r,u){super(n,a,l),this.initPet(0,r,u,0,void 0,0)}}class e extends c.T{logService;abilityService;constructor(n,a,l){super({name:"Tardigrade Ability",owner:n,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=a,this.abilityService=l}executeAbility(n){const a=this.owner,l=3*Math.max(1,this.level),r=a.position??a.savedPosition??0,u=new v(this.logService,this.abilityService,a.parent,l,l);a.parent.summonPet(u,r,!1,a).success&&(u.givePetEquipment(new A.x),this.logService.createLog({message:`${a.name} summoned a ${l}/${l} level ${this.level} Tardigrade (Dazed).`,type:"ability",player:a.parent,tiger:n.tiger,pteranodon:n.pteranodon})),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},70563(O,S,i){i.d(S,{A:()=>c});const c=function P(A,_){for(var v=-1,e=_.length,t=A.length;++v<e;)A[t+v]=_[v];return A}},70762(O,S,i){i.d(S,{v:()=>t});var P=i(98099),c=i(20178),A=i(31805),_=i(40091),v=i(80614),e=i(58253);class t extends A.y{constructor(l,r,u){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=c.I;break;case 1:if(!l){this.destination=c.I;break}if("object"==typeof l){l instanceof t?(this.syncErrorThrowable=l.syncErrorThrowable,this.destination=l,l.add(this)):(this.syncErrorThrowable=!0,this.destination=new n(this,l));break}default:this.syncErrorThrowable=!0,this.destination=new n(this,l,r,u)}}[_.D](){return this}static create(l,r,u){const g=new t(l,r,u);return g.syncErrorThrowable=!1,g}next(l){this.isStopped||this._next(l)}error(l){this.isStopped||(this.isStopped=!0,this._error(l))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(l){this.destination.next(l)}_error(l){this.destination.error(l),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:l}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=l,this}}class n extends t{constructor(l,r,u,g){super(),this._parentSubscriber=l;let f,D=this;(0,P.T)(r)?f=r:r&&(f=r.next,u=r.error,g=r.complete,r!==c.I&&(D=Object.create(r),(0,P.T)(D.unsubscribe)&&this.add(D.unsubscribe.bind(D)),D.unsubscribe=this.unsubscribe.bind(this))),this._context=D,this._next=f,this._error=u,this._complete=g}next(l){if(!this.isStopped&&this._next){const{_parentSubscriber:r}=this;v.$.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?this.__tryOrSetError(r,this._next,l)&&this.unsubscribe():this.__tryOrUnsub(this._next,l)}}error(l){if(!this.isStopped){const{_parentSubscriber:r}=this,{useDeprecatedSynchronousErrorHandling:u}=v.$;if(this._error)u&&r.syncErrorThrowable?(this.__tryOrSetError(r,this._error,l),this.unsubscribe()):(this.__tryOrUnsub(this._error,l),this.unsubscribe());else if(r.syncErrorThrowable)u?(r.syncErrorValue=l,r.syncErrorThrown=!0):(0,e.T)(l),this.unsubscribe();else{if(this.unsubscribe(),u)throw l;(0,e.T)(l)}}}complete(){if(!this.isStopped){const{_parentSubscriber:l}=this;if(this._complete){const r=()=>this._complete.call(this._context);v.$.useDeprecatedSynchronousErrorHandling&&l.syncErrorThrowable?(this.__tryOrSetError(l,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(l,r){try{l.call(this._context,r)}catch(u){if(this.unsubscribe(),v.$.useDeprecatedSynchronousErrorHandling)throw u;(0,e.T)(u)}}__tryOrSetError(l,r,u){if(!v.$.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,u)}catch(g){return v.$.useDeprecatedSynchronousErrorHandling?(l.syncErrorValue=g,l.syncErrorThrown=!0,!0):((0,e.T)(g),!0)}return!1}_unsubscribe(){const{_parentSubscriber:l}=this;this._context=null,this._parentSubscriber=null,l.unsubscribe()}}},70928(O,S,i){i.d(S,{$:()=>c});var P=i(22097);class c extends P.${name="Magic Beans";equipmentClass="shop";constructor(){super()}}},71322(O,S,i){i.d(S,{g:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Flamingo";tier=2;pack="Turtle";health=2;attack=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"FlamingoAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let g=r.parent.nearestPetsBehind(2,r).pets;if(0!=g.length){for(let f of g)f.increaseAttack(this.level),f.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gave ${f.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:r.parent,tiger:a,pteranodon:l});this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},71387(O,S,i){i.d(S,{A:()=>A});var P=i(77107);const A=function c(){this.__data__=P.A?(0,P.A)(null):{},this.size=0}},71433(O,S,i){i.d(S,{_:()=>_});var P=i(46200),c=i(5615),A=i(43592);class _ extends P.i{logService;abilityService;name="Beetle";tier=1;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"BeetleAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l}=t,u=this.owner;let g;switch(this.level){case 1:g=new A.S;break;case 2:g=new A.S,g.power=4,g.originalPower=4;break;case 3:g=new A.S,g.power=6,g.originalPower=6}let f=u.parent.getPetsWithEquipment(g.name),D=u.parent.nearestPetsBehind(1,u,f);if(0===D.pets.length)return;let k=D.pets[0];this.logService.createLog({message:`${u.name} gave ${k.name} ${g.name}.`,type:"ability",player:u.parent,tiger:l,randomEvent:D.random}),k.givePetEquipment(g),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},71772(O,S,i){i.d(S,{H:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Anubis";tier=4;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AnubisAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:a}=e,l=this.owner,r=[2,4,6],u=r[Math.min(Math.max(this.level,1)-1,r.length-1)],g=l.parent.petArray.filter(f=>f&&f!==l&&f.alive&&f.isFaintPet()&&f.tier<=u).sort((f,D)=>(f.position??0)-(D.position??0)).slice(0,2);for(const f of g)this.logService.createLog({message:`${l.name} activated ${f.name}'s faint ability (tier ${f.tier} <= ${u}).`,type:"ability",player:l.parent,tiger:n,pteranodon:a}),f.activateAbilities("PostRemovalFaint",t,"Pet");this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},71799(O,S,i){i.d(S,{r:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Cashew Nut";tier=1;equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;constructor(e,t){super({name:"CashewNutAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t}executeAbility(e){const t=this.owner;for(let n=0;n<this.equipment.multiplier;n++){let a=t.parent.nearestPetsAhead(2,t,null,!0),l=a.pets.filter(u=>u?.alive);if(l.length<2)return;let r=l[1];t.snipePet(r,r.parent==t.parent?1:2,a.random,null,null,!0)}}}},71861(O,S,i){i.d(S,{A:()=>c});const c=function P(A,_){for(var v=-1,e=null==A?0:A.length,t=0,n=[];++v<e;){var a=A[v];_(a,v,A)&&(n[t++]=a)}return n}},72222(O,S,i){i.d(S,{v:()=>P});class P{ctx;constructor(A){this.ctx=A}executeBattleLoop(){for(;this.ctx.getBattleStarted();)this.nextTurn()}startBattle(){this.reset(),this.ctx.setBattleStarted(!0),this.ctx.setTurns(0)}reset(){this.ctx.player.resetPets(),this.ctx.opponent.resetPets()}nextTurn(){let A=!1,_=null;this.ctx.setTurns(this.ctx.getTurns()+1);let v=this.ctx.player.alive(),e=this.ctx.opponent.alive();if(v&&!e){const t=this.tryAllEnemiesFaintedToyTrigger(this.ctx.player,this.ctx.opponent);if(e=this.ctx.opponent.alive(),!t){_=this.ctx.player;const n=this.ctx.getBattle();n&&(n.winner="player"),this.ctx.incrementPlayerWinner(),A=!0}}if(!v&&e){const t=this.tryAllEnemiesFaintedToyTrigger(this.ctx.opponent,this.ctx.player);if(v=this.ctx.player.alive(),!t){_=this.ctx.opponent;const n=this.ctx.getBattle();n&&(n.winner="opponent"),this.ctx.incrementOpponentWinner(),A=!0}}if(!v&&!e&&(this.ctx.incrementDraw(),A=!0),A)return this.ctx.logService.printState(this.ctx.player,this.ctx.opponent),this.endLog(_),void this.ctx.setBattleStarted(!1);if(this.ctx.getTurns()>=this.ctx.maxTurns&&(this.ctx.incrementDraw(),A=!0),A)return this.ctx.logService.printState(this.ctx.player,this.ctx.opponent),this.endLog(_),void this.ctx.setBattleStarted(!1);for(this.pushPetsForwards(),this.ctx.logService.printState(this.ctx.player,this.ctx.opponent);;){let t=this.ctx.player.pet0,n=this.ctx.opponent.pet0;this.ctx.player.pet0&&this.ctx.abilityService.triggerBeforeAttackEvent(this.ctx.player.pet0),this.ctx.opponent.pet0&&this.ctx.abilityService.triggerBeforeAttackEvent(this.ctx.opponent.pet0),this.ctx.abilityService.executeBeforeAttackEvents(),this.ctx.abilityEngine.checkPetsAlive();do{this.ctx.abilityEngine.abilityCycle()}while(this.ctx.abilityService.hasAbilityCycleEvents);if(!this.ctx.player.alive()||!this.ctx.opponent.alive())return;if(this.pushPetsForwards(),t&&t.transformed&&(t=t.transformedInto??t),n&&n.transformed&&(n=n.transformedInto??n),this.ctx.player.pet0==t&&this.ctx.opponent.pet0==n)break}this.ctx.player.resetJumpedFlags(),this.ctx.opponent.resetJumpedFlags(),this.fight(),this.ctx.abilityEngine.checkPetsAlive();do{this.ctx.abilityEngine.abilityCycle()}while(this.ctx.abilityService.hasAbilityCycleEvents)}fight(){const A=this.ctx.player.pet0,_=this.ctx.opponent.pet0;!A||!_||(A.attackPet(_),_.attackPet(A),A.useAttackDefenseEquipment(),_.useAttackDefenseEquipment(),this.ctx.gameService.gameApi.FirstNonJumpAttackHappened=!0,this.ctx.abilityService.executeAfterAttackEvents(),this.ctx.abilityEngine.checkPetsAlive())}pushPetsForwards(){this.ctx.player.pushPetsForward(),this.ctx.opponent.pushPetsForward()}endLog(A){let _;_=null==A?"Draw":A==this.ctx.player?"Player is the winner":"Opponent is the winner",this.ctx.logService.createLog({message:_,type:"board"})}tryAllEnemiesFaintedToyTrigger(A,_){const v=[A.toy,A.hardToy].filter(e=>null!=e?.allEnemiesFainted);if(0===v.length)return!1;for(const e of v)e?.allEnemiesFainted?.(this.ctx.gameService.gameApi);return _.alive()}}},72242(O,S,i){i.d(S,{L:()=>v,n:()=>_});var P=i(50873),c=i(43592),A=i(5615);class _ extends P.L{logService;toyService;petService;name="Stick";tier=1;constructor(t,n,a,l,r){super(t,n,a,l),this.logService=t,this.toyService=n,this.petService=r}startOfBattle(t,n){const a=this.parent.getMiddleFriend();if(a.pet&&a.pet.alive){const l=new c.S;l.power=2*this.level,l.originalPower=l.power,a.pet.givePetEquipment(l),this.logService.createLog({message:`${this.name} gave Walnut to ${a.pet.name}`,type:"ability",player:this.parent,randomEvent:a.random})}}}class v extends A.T{constructor(t,n){super({name:"StickAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",abilityFunction:a=>{const r=t.parent.getMiddleFriend(t);if(r.pet&&r.pet.alive){const u=new c.S;u.power=2*this.abilityLevel,u.originalPower=u.power,r.pet.givePetEquipment(u),n.createLog({message:`${t.name} gave Walnut to ${r.pet.name} (Stick)`,type:"ability",player:t.parent,randomEvent:r.random})}}})}}},72297(O,S,i){i.d(S,{P:()=>_});var P=i(46200),c=i(5615),A=i(56979);class _ extends P.i{logService;abilityService;name="Tasmanian Devil";tier=4;pack="Danger";attack=1;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"TasmanianDevilAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l}=t,u=this.owner;let g=u.parent.opponent.getLowestAttackPet(void 0,u);if(g.pet&&g.pet.alive){let f=new A.E;f.multiplier+=5*this.level-1,this.logService.createLog({message:`${u.name} gave ${g.pet.name} ${f.multiplier}x Spooked.`,type:"ability",player:u.parent,tiger:l,randomEvent:g.random}),g.pet.givePetEquipment(f),u.jumpAttackPrep(g.pet),u.jumpAttack(g.pet,l,null,g.random)}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},72354(O,S,i){i.d(S,{n:()=>t});var P=i(46200),c=i(5615),A=i(94798),_=i(58857),v=i(61850),e=i(79222);class t extends P.i{logService;abilityService;petService;name="Roloway Monkey";tier=3;pack="Danger";attack=2;health=5;initAbilities(){this.addAbility(new n(this,this.logService,this.petService)),super.initAbilities()}constructor(l,r,u,g,f,D,k,L,F,j){super(l,r,g),this.logService=l,this.abilityService=r,this.petService=u,this.initPet(L,f,D,k,F,j)}}class n extends c.T{logService;petService;constructor(l,r,u){super({name:"RolowayMonkeyAbility",owner:l,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:l.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.petService=u}executeAbility(l){const{tiger:g}=l,D=this.owner;let k=D.parent.nearestPetsAhead(2,D);if(0===k.pets.length)return;const L=A.s.rolowayMonkey;for(let F of k.pets){const j=(0,_.k6)({key:"pet.roloway-monkey-transform",label:(0,e.I)(D,`Roloway Monkey transform for P${F.savedPosition+1} ${F.name}`),options:L.map(V=>({id:V,label:V}))},()=>(0,v.hw)(0,L.length-1));let J=this.petService.createPet({name:L[j.index],health:F.health,attack:F.attack,mana:F.mana,exp:D.exp,equipment:F.equipment},D.parent);D.parent.transformPet(F,J),this.logService.createLog({message:`${D.name} transformed ${F.name} into a ${J.attack}/${J.health} ${J.name}.`,type:"ability",player:D.parent,tiger:g,randomEvent:j.randomEvent})}this.triggerTigerExecution(l)}copy(l){return new n(l,this.logService,this.petService)}}},72421(O,S,i){i.d(S,{F:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Pie";tier=4;equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"PieAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner,n=4*this.equipment.multiplier,a=3*this.equipment.multiplier;t.increaseAttack(n),t.increaseHealth(a),this.logService.createLog({message:`${t.name} gained ${n} attack and ${a} health (Pie)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}},72445(O,S,i){i.d(S,{s:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Firefly";tier=1;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"FireflyAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=r.parent.getPetsWithinXSpaces(r,this.level),g=u.pets;if(0!=g.length){for(const f of g)r.snipePet(f,1,u.random,a,l);this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},72492(O,S,i){i.d(S,{E:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Raccoon";tier=5;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"RaccoonAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner;let r=a.parent.opponent.getPetAtPosition(0);null!=r&&null!=r.equipment&&(this.isAilmentEquipment(r.equipment)||(this.logService.createLog({message:`${a.name} stole ${r.name}'s equipment. (${r.equipment.name})`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),a.givePetEquipment(r.equipment),r.removePerk(!0),this.triggerTigerExecution(e)))}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new _(e,this.logService)}}},72557(O,S,i){i.d(S,{G:()=>v});var P=i(46200),c=i(5615),A=i(23638),_=i(1152);class v extends P.i{logService;abilityService;name="Flying Fish";tier=3;pack="Golden";attack=5;health=2;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"FlyingFishAbility",owner:n,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:2,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=a}executeAbility(n){const{triggerPet:l}=n,g=this.owner,f=2*this.level,D=(0,_.Uj)(g,l);D.pet&&((0,A.Oe)({logService:this.logService,owner:g,context:n,target:D.pet,amount:f,extras:{randomEvent:D.random}}),this.triggerTigerExecution(n))}copy(n){return new e(n,this.logService)}}},72560(O,S,i){i.d(S,{c:()=>_});var P=i(61850),c=i(46200),A=i(5615);class _ extends c.i{logService;abilityService;name="Tandgrisner";tier=5;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;constructor(t,n){super({name:"Tandgrisner Ability",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=n.parent.petArray.filter(u=>u&&u.alive&&"Tandgnost"===u.name);if(0===a.length)return void this.triggerTigerExecution(t);const[l]=(0,P.k4)([...a]),r=3*Math.max(1,this.level);l.increaseAttack(r),this.logService.createLog({message:`${n.name} gave ${l.name} +${r} attack.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},72638(O,S,i){i.d(S,{D:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Chimera Goat";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},72683(O,S,i){i.d(S,{R:()=>c});var P=i(22097);class c extends P.${name="Steak";equipmentClass="attack";tier=6;power=20;originalPower=20;uses=1;originalUses=1}},72818(O,S,i){i.d(S,{M:()=>_});var P=i(46200),c=i(5615),A=i(19058);class _ extends P.i{logService;abilityService;name="Bat";tier=2;pack="Puppy";attack=2;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;reset(){this.maxUses=this.level,super.reset()}constructor(t,n){super({name:"BatAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l}=t,u=this.owner;let g=u.parent.getPetsWithEquipmentWithSillyFallback("Weak",u),f=u.parent.opponent.getRandomPet(g,null,!0,null,u),D=f.pet;null!=D&&(D.givePetEquipment(new A.l),this.logService.createLog({message:`${u.name} made ${D.name} weak.`,type:"ability",player:u.parent,randomEvent:f.random,tiger:l})),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},73028(O,S,i){i.d(S,{mX:()=>P});const P={ThisLeveledUp:1,FriendLeveledUp:2,FriendlyLeveledUp:2,ThisHurt:3,FriendHurt:4,EnemyHurt:4,AnyoneHurt:4,FriendAheadHurt:4,AnyoneBehindHurt:4,ThisGainedMana:5,ThisSummoned:6,FriendSummoned:7,EnemySummoned:7,BeeSummoned:7,EnemyPushed:8,FriendJumped:8,AnyoneJumped:8,Faint:9,FriendAheadFainted:10,FriendFaints:11,EnemyFaint:11,KnockOut:13,ThisTransformed:14,FriendTransformed:15,FriendGainedExp:16,FoodEatenByThis:17,FoodEatenByFriendly:17,AppleEatenByThis:17,CornEatenByFriend:17,CounterEvent:18,FriendLostPerk:19,PetLostPerk:19,ThisGainedPerk:20,FriendlyGainsPerk:21,FriendlyGainedStrawberry:21,ThisGainedAilment:20,FriendGainsAilment:21,EnemyGainedAilment:21,AnyoneGainedAilment:21,AnyoneFlung:22,ManaSnipe:23,PostRemovalFaint:25,PostRemovalFriendFaints:26,FriendlyToyBroke:26,EmptyFrontSpace:27,GoldenRetrieverSummons:28}},73117(O,S,i){function P(A,_){_=encodeURIComponent(_);for(const v of A.split(";")){const e=v.indexOf("="),[t,n]=-1==e?[v,""]:[v.slice(0,e),v.slice(e+1)];if(t.trim()===_)return decodeURIComponent(n)}return null}i.d(S,{N:()=>c,b:()=>P});class c{}},73180(O,S,i){i.d(S,{A:()=>t});var P=i(73527),c=i(80355),A=i(94402),_=i(14166),v=i(590);function e(n){var a=-1,l=null==n?0:n.length;for(this.clear();++a<l;){var r=n[a];this.set(r[0],r[1])}}e.prototype.clear=P.A,e.prototype.delete=c.A,e.prototype.get=A.A,e.prototype.has=_.A,e.prototype.set=v.A;const t=e},73327(O,S,i){i.d(S,{F:()=>v});var P=i(46200),c=i(5615),A=i(56979),_=i(1152);class v extends P.i{logService;abilityService;name="???";tier=1;pack="Unicorn";attack=3;health=2;initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends c.T{logService;abilityService;constructor(n,a,l){super({name:"QuestionMarksAbility",owner:n,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=a,this.abilityService=l}executeAbility(n){const a=this.owner,l=a.petAhead;if(!l)return void this.triggerTigerExecution(n);const r=this.level;if(l.increaseAttack(r),(0,_.zo)(l,"Spooked")){const u=new A.E;u.power=-1,u.originalPower=-1,l.givePetEquipment(u)}this.logService.createLog({message:`${a.name} gave ${l.name} +${r} attack and Spooked until next turn.`,type:"ability",player:a.parent,tiger:n.tiger,pteranodon:n.pteranodon}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},73527(O,S,i){i.d(S,{A:()=>c});const c=function P(){this.__data__=[],this.size=0}},73620(O,S,i){i.d(S,{u:()=>v});var P=i(46200),c=i(5615),A=i(32232),_=i(1152);class v extends P.i{logService;abilityService;name="Yeti Crab";tier=4;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"Yeti Crab Ability",owner:n,triggers:["PetLostPerk"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,precondition:l=>{const{triggerPet:r}=l,u=this.owner;return!!r&&(r.parent!==u.parent?r.alive:(0,_.Re)(u,r))},abilityFunction:l=>this.executeAbility(l)}),this.logService=a}executeAbility(n){const a=this.owner,l=n.triggerPet,{tiger:r,pteranodon:u}=n;if(l){if(l.parent===a.parent){const g=(0,_.lK)(a,l),f=g.pet;if(!f)return;const D=new A.o;f.givePetEquipment(D),this.logService.createLog({message:`${a.name} gave ${f.name} a Melon Slice after losing a perk.`,type:"ability",player:a.parent,tiger:r,randomEvent:g.random})}else a.dealDamage(l,6),this.logService.createLog({message:`${a.name} dealt 6 damage to ${l.name} after they lost a perk.`,type:"ability",player:a.parent,tiger:r,pteranodon:u});this.triggerTigerExecution(n)}}copy(n){return new e(n,this.logService)}}},73632(O,S,i){i.d(S,{A:()=>e});var P=i(73180),c=i(86568),A=i(68308);const e=function v(t,n){var a=this.__data__;if(a instanceof P.A){var l=a.__data__;if(!c.A||l.length<199)return l.push([t,n]),this.size=++a.size,this;a=this.__data__=new A.A(l)}return a.set(t,n),this.size=a.size,this}},74384(O,S,i){i.d(S,{Y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Wolverine";tier=6;pack="Turtle";attack=5;health=7;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"WolverineAbility",owner:e,triggers:["FriendHurt4"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.opponent.getAll(!1,r),g=u.pets;if(0!=g.length){for(let f of g){let D=-3*this.level;f.increaseHealth(D),this.logService.createLog({message:`${r.name} reduced ${f.name} health by ${Math.abs(D)}`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random})}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService,this.abilityService)}}},74766(O){O.exports=JSON.parse('[{"Ability":"Give one pet +1 attack and +1 health.","Id":"0","Name":"Apple","NameId":"Apple","Tier":1,"Packs":["Pack1","Pack2","Pack4"],"PacksRequired":["Pack1","Pack2","Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Increase sell value of one pet by 1 gold.","Id":"117","Name":"Asparagus","NameId":"Asparagus","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack.","Id":"2","Name":"Bacon","NameId":"Bacon","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +3 health.","Id":"135","Name":"Best Apple","NameId":"Apple3","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +6 health.","Id":"103","Name":"Best Milk","NameId":"Milk3","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health.","Id":"134","Name":"Better Apple","NameId":"Apple2","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +4 health.","Id":"102","Name":"Better Milk","NameId":"Milk2","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Blueberry perk.","Id":"7","Name":"Blueberry","NameId":"BlueBerries","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Prioritize this for enemy random abilities.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +1 attack.","Id":"139","Name":"Bread Crumbs","NameId":"BreadCrumbs","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health until next turn.","Id":"213","Name":"Cake Slice","NameId":"BirthdayCakeSlice","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one tier 1-3 ailment to stock. Always on sale!","Id":"225","Name":"Canned Ailment","NameId":"CannedAilment","Tier":1,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Spooked without triggering abilities.","Id":"216","Name":"Canned Spooky","NameId":"CannedScared","Tier":1,"Packs":[],"PacksRequired":[],"PerkNote":"Take +1 damage.","CustomArchetypes":[]},{"Ability":"Make one pet Toasty without triggering abilities.","Id":"223","Name":"Canned Toasty","NameId":"CannedToasty","Tier":1,"Packs":[],"PacksRequired":[],"PerkNote":"Anyone attacks: Take 1 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Cashew Nut perk.","Id":"173","Name":"Cashew Nut","NameId":"CashewNut","Tier":1,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before battle: Deal 1 damage to the second nearest pet ahead. Double against enemies.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health until next turn.","Id":"27","Name":"Cookie","NameId":"Cookie","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +1 to lowest stat.","Id":"28","Name":"Corncob","NameId":"Corn","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Ability":"Give one pet the Egg perk.","Id":"33","Name":"Egg","NameId":"Egg","Tier":1,"Packs":["Pack2","Pack4"],"PacksRequired":["Pack2","Pack4"],"Rollable":true,"PerkNote":"Before attack: Deal 2 damage to target, once.","CustomArchetypes":[]},{"Ability":"Choose one level 1 Ferret toy.","Id":"234","Name":"Ferret Present","NameId":"FerretGift1","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Ferret toy.","Id":"235","Name":"Ferret Present","NameId":"FerretGift2","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Ferret toy.","Id":"236","Name":"Ferret Present","NameId":"FerretGift3","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 to their lowest stat.","Id":"191","Name":"Fresh Water","NameId":"FreshWater","Tier":1,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Golden Egg perk.","Id":"148","Name":"Golden Egg","NameId":"GoldenEgg","Tier":1,"Packs":["Pack5"],"PacksRequired":["Pack5"],"PerkNote":"Before attack: Deal 6 damage to target, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Gros Michel Banana perk.","Id":"192","Name":"Gros Michel Banana","NameId":"GrosMichelBanana","Tier":1,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Before attack: Transform into an Ant.","CustomArchetypes":[]},{"Ability":"Give one pet the Health Potion perk.","Id":"150","Name":"Health Potion","NameId":"HealthPotion","Tier":1,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before battle: Give the front-most friendly pet +2 health.","CustomArchetypes":[]},{"Ability":"Transform one Bad Dog into Good Dog, or give +4 attack and +4 health.","Id":"151","Name":"Holy Water","NameId":"HolyWater","Tier":1,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Ability":"Give one pet the Honey perk.","Id":"40","Name":"Honey","NameId":"Honey","Tier":1,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Faint: Summon one 1/1 Bee.","CustomArchetypes":[]},{"Ability":"Give one pet the Macaron perk.","Id":"128","Name":"Macaron","NameId":"Macaron","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Activate ability after other pets with the same trigger.","CustomArchetypes":[]},{"Ability":"Give one pet +1 attack and +2 health.","Id":"49","Name":"Milk","NameId":"Milk","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Nachos perk.","Id":"136","Name":"Nachos","NameId":"Nachos","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before attack: Convert up to 3 health into attack.","CustomArchetypes":[]},{"Ability":"Give one pet +2 health.","Id":"64","Name":"Peach","NameId":"Plumb","Tier":1,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack on odd turns and +2 health on even turns.","Id":"119","Name":"Pumpkin","NameId":"Pumpkin","Tier":1,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":false,"CustomArchetypes":[]},{"Ability":"Give one pet +1 health.","Id":"210","Name":"Seed Pile","NameId":"SeedPile","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Strawberry perk.","Id":"81","Name":"Strawberry","NameId":"Strawberry","Tier":1,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Give the back-most friend +1 attack and +1 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Unagi perk.","Id":"196","Name":"Unagi","NameId":"Unagi","Tier":1,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Start of battle: Deal 2 damage to a random enemy.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Walnut perk.","Id":"174","Name":"Walnut","NameId":"Walnut","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":[]},{"Ability":"Choose ANY perk food from the current tier to stock at 1 gold.","Id":"208","Name":"Antarctic Krill","NameId":"AntarcticKrill","Tier":2,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Bok Choy perk.","Id":"176","Name":"Bok Choy","NameId":"BokChoy","Tier":2,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Gain +3 health when this would faint, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 health and remove 1 attack.","Id":"11","Name":"Broccoli","NameId":"Broccoli","Tier":2,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Cold without triggering abilities.","Id":"219","Name":"Canned Cold","NameId":"CannedFrozen","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Take +5 damage, once.","CustomArchetypes":[]},{"Ability":"Make one pet Inked without triggering abilities.","Id":"220","Name":"Canned Ink","NameId":"CannedInk","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":[]},{"Ability":"Make one pet Weak without triggering abilities.","Id":"214","Name":"Canned Weak","NameId":"CannedWeak","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Caramel perk.","Id":"124","Name":"Caramel","NameId":"Caramel","Tier":2,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before attack: Combine friendly Caramels to deal 3 damage each to the most healthy enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Cherry perk.","Id":"20","Name":"Cherries","NameId":"Cherries","Tier":2,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before battle: Gain 2 trumpets and remove perk.","CustomArchetypes":[]},{"Ability":"Give one pet the Chocolate Cake perk.","Id":"24","Name":"Chocolate Cake","NameId":"ChocolateCake","Tier":2,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Gain +3 experience and faint.","CustomArchetypes":[]},{"Ability":"Give one pet the Churros perk.","Id":"126","Name":"Churros","NameId":"Churros","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Activate ability before other pets with the same trigger.","CustomArchetypes":[]},{"Ability":"Give one pet +1 attack and +1 health. Triple on every third Cloudberry.","Id":"185","Name":"Cloudberry","NameId":"Cloudberries","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Cod Roe perk.","Id":"207","Name":"Cod Roe","NameId":"CodRoe","Tier":2,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Faint: Summon one 2/3 Fish.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +3 health until next turn.","Id":"50","Name":"Cupcake","NameId":"Muffin","Tier":2,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Eucalyptus perk.","Id":"167","Name":"Eucalyptus","NameId":"Eucalyptus","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Faint Bread perk.","Id":"140","Name":"Faint Bread","NameId":"DeadBread","Tier":2,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Faint: Summon ANY one tier 1 <b>Faint</b> pet.","CustomArchetypes":[]},{"Ability":"Give one pet the Fairy Dust perk.","Id":"144","Name":"Fairy Dust","NameId":"FairyDust","Tier":2,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Empty front space: Jump to the front and gain +2 mana, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and remove 1 health.","Id":"100","Name":"Fried Shrimp","NameId":"FriedShrimp","Tier":2,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Gain 2 free rolls next turn.","Id":"45","Name":"Kiwifruit","NameId":"Kiwi","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Choose one level 1 Lemur toy.","Id":"249","Name":"Lemur Present","NameId":"LemurGift1","Tier":2,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Lemur toy.","Id":"250","Name":"Lemur Present","NameId":"LemurGift2","Tier":2,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Lemur toy.","Id":"251","Name":"Lemur Present","NameId":"LemurGift3","Tier":2,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Lime perk.","Id":"170","Name":"Lime","NameId":"Lime","Tier":2,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Takes 1 less damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Meat Bone perk.","Id":"9","Name":"Meat Bone","NameId":"MeatBone","Tier":2,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Attack with +3 damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Radish perk.","Id":"122","Name":"Radish","NameId":"Radish","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before battle: Gain ANY useful perk from the pet\'s tier.","CustomArchetypes":[]},{"Ability":"Give one pet the Rice perk.","Id":"70","Name":"Rice","NameId":"RiceBall","Tier":2,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":[]},{"Ability":"Make one pet faint. Always on sale!","Id":"92","Name":"Sleeping Pill","NameId":"Pill","Tier":2,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Sudduth Tomato perk.","Id":"195","Name":"Sudduth Tomato","NameId":"SudduthTomato","Tier":2,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Hurt: If still standing, gain permanent +1 health, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and Weak.","Id":"159","Name":"Wall Chicken","NameId":"WallChicken","Tier":2,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Gain +3 gold on next turn.","Id":"1","Name":"Avocado","NameId":"Avocado","Tier":3,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Blackberry perk.","Id":"172","Name":"Blackberry","NameId":"Blackberry","Tier":3,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Gain +1 attack and +2 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Brussels Sprout perk.","Id":"118","Name":"Brussels Sprout","NameId":"BrusselsSprout","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block being pushed or 5 damage, once.","CustomArchetypes":[]},{"Ability":"Give future shop pets from the next tier permanent +1 attack and +1 health.","Id":"12","Name":"Bubble Tea","NameId":"BubbleTea","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Cake perk.","Id":"6","Name":"Cake","NameId":"BirthdayCake","Tier":3,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"End turn: Increase sell value by 1 gold.","CustomArchetypes":[]},{"Ability":"Make one pet Confused without triggering abilities.","Id":"231","Name":"Canned Confusion","NameId":"CannedConfused","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Before attack: Transform into a pet from one tier below, once.","CustomArchetypes":[]},{"Ability":"Make one pet Silly without triggering abilities.","Id":"217","Name":"Canned Silly","NameId":"CannedSilly","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Ability has random targets in battle.","CustomArchetypes":[],"Random":true},{"Ability":"Make one pet Webbed without triggering abilities.","Id":"228","Name":"Canned Web","NameId":"CannedWeb","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Faint: Summon one 2/2 Spider up front for the opponent.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack.","Id":"201","Name":"Carrot Parisier","NameId":"CarrotParisier","Tier":3,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Croissant perk.","Id":"29","Name":"Croissant","NameId":"Croissant","Tier":3,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"PerkNote":"End turn: Gain +1 attack.","CustomArchetypes":[]},{"Ability":"Give one pet the Cucumber perk.","Id":"97","Name":"Cucumber","NameId":"Cucumber","Tier":3,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"End turn: Gain +1 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Fig perk.","Id":"109","Name":"Fig","NameId":"Fig","Tier":3,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Deal 4 damage to the lowest health enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Garlic perk.","Id":"38","Name":"Garlic","NameId":"Garlic","Tier":3,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Takes 2 less damage.","PerkFinePrint":"Damage can\'t be reduced to less than 2.","CustomArchetypes":[]},{"Ability":"Give one pet +3 health.","Id":"211","Name":"Geechee Red Pea","NameId":"GeecheeRedPea","Tier":3,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Choose one level 1 Gharial toy.","Id":"237","Name":"Gharial Present","NameId":"GharialGift1","Tier":3,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Gharial toy.","Id":"238","Name":"Gharial Present","NameId":"GharialGift2","Tier":3,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Gharial toy.","Id":"239","Name":"Gharial Present","NameId":"GharialGift3","Tier":3,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Gingerbread Man perk.","Id":"147","Name":"Gingerbread Man","NameId":"GingerbreadMan","Tier":3,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before battle: Gain +1 experience.","CustomArchetypes":[]},{"Ability":"Give one pet the Guava perk.","Id":"112","Name":"Guava","NameId":"Guava","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Block 3 damage, and attack for +3 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 to their lowest stat.","Id":"153","Name":"Just-Right Porridge","NameId":"JustRightPorridge","Tier":3,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give three pets from the current shop tier or higher +1 attack and +1 health.","Id":"72","Name":"Lettuce","NameId":"Salad","Tier":3,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Swap Attack and Health of a pet. Always on sale!","Id":"48","Name":"Lollipop","NameId":"Lollipop","Tier":3,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pineapple perk.","Id":"61","Name":"Pineapple","NameId":"Pineapple","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Ability deals +2 damage, thrice.","CustomArchetypes":[]},{"Ability":"Give one pet the Rambutan perk.","Id":"110","Name":"Rambutan","NameId":"Rambutan","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Before attack: Gain +3 mana.","CustomArchetypes":[]},{"Ability":"Replace perk or ailment on one pet with +2 attack and +2 health.","Id":"179","Name":"Ravioli","NameId":"Ravioli","Tier":3,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give two random pets +1 attack and +1 health.","Id":"73","Name":"Salad Bowl","NameId":"SaladBowl","Tier":3,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Balance out attack and health. Always on sale!","Id":"75","Name":"Sandwich","NameId":"Sandwich","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Sausage perk.","Id":"114","Name":"Sausage","NameId":"Sausage","Tier":3,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Start of turn: Gain one free roll.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Seaweed perk.","Id":"184","Name":"Seaweed","NameId":"Seaweed","Tier":3,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before attack: Transform into a Baby Urchin.","CustomArchetypes":[]},{"Ability":"Give one pet the Squash perk.","Id":"121","Name":"Squash","NameId":"Squash","Tier":3,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before attack: Remove 6 health from target, once.","CustomArchetypes":[]},{"Ability":"Transform one pet into another from the same tier and with ANY tier 3 perk.","Id":"161","Name":"Water of Youth","NameId":"YouthWater","Tier":3,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the White Truffle perk.","Id":"198","Name":"White Truffle","NameId":"WhiteTruffle","Tier":3,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Friend faints: Gain +4 attack and jump-attack the highest attack enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Ambrosia perk.","Id":"138","Name":"Ambrosia","NameId":"Ambrosia","Tier":4,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Block ailment or 8 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Baguette perk.","Id":"3","Name":"Baguette","NameId":"Baguette","Tier":4,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before attack: Remove the front-most enemy perk, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Banana perk.","Id":"4","Name":"Banana","NameId":"Banana","Tier":4,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Faint: Summon one 4/4 Monkey.","CustomArchetypes":[]},{"Ability":"Make one pet Bloated without triggering abilities.","Id":"229","Name":"Canned Bloat","NameId":"CannedBloated","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Can\'t gain perk, once.","CustomArchetypes":[]},{"Ability":"Make one pet Crisp without triggering abilities.","Id":"224","Name":"Canned Burn","NameId":"CannedBurn","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":[]},{"Ability":"Give all current and future shop pets +1 attack and +1 health.","Id":"16","Name":"Canned Food","NameId":"CannedFood","Tier":4,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Tasty without triggering abilities.","Id":"222","Name":"Canned Tasty","NameId":"CannedTasty","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Faint: Give one random enemy permanent +2 attack and +2 health.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Cauliflower perk.","Id":"137","Name":"Cauliflower","NameId":"Cauliflower","Tier":4,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Knock out: If still standing, gain permanent +1 attack and +1 health, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Cheese perk.","Id":"19","Name":"Cheese","NameId":"Cheese","Tier":4,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Attack with at least 15 attack, once.","CustomArchetypes":[]},{"Ability":"Transform one pet into another of the same tier and give two other +1 attack and +1 health.","Id":"189","Name":"Chickpea","NameId":"Chickpea","Tier":4,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Donut perk.","Id":"31","Name":"Donut","NameId":"Doughnut","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Prioritize this for friendly random abilities.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +3 health. Also convert 2 attack into health.","Id":"141","Name":"Drink-Me Liquid","NameId":"DrinkMeLiquid","Tier":4,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack. Also convert 2 health into attack.","Id":"143","Name":"Eat-Me Cake","NameId":"EatMeCake","Tier":4,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Fortune Cookie perk.","Id":"35","Name":"Fortune Cookie","NameId":"FortuneCookie","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Attack has 50% chance to deal double damage.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Grapes perk.","Id":"39","Name":"Grapes","NameId":"Grapes","Tier":4,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Start of turn: Gain +1 gold.","CustomArchetypes":[]},{"Ability":"Give one pet the Maple Syrup perk.","Id":"194","Name":"Maple Syrup","NameId":"MapleSyrup","Tier":4,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Attack for 50% damage and block 50% damage, thrice.","CustomArchetypes":[]},{"Ability":"Give one pet the Melon Slice perk.","Id":"87","Name":"Melon Slice","NameId":"WaterMelon","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Block 10 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Mild Chili perk.","Id":"232","Name":"Mild Chili","NameId":"MildChili","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Attack second enemy for 4 damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Onion perk.","Id":"53","Name":"Onion","NameId":"Onion","Tier":4,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Move to the back, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Oyster Mushroom perk.","Id":"183","Name":"Oyster Mushroom","NameId":"OysterMushroom","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before attack: Set attack and health to at least 9, once.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health.","Id":"58","Name":"Pear","NameId":"Pear","Tier":4,"Packs":["Pack1","Pack3"],"PacksRequired":["Pack1","Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pie perk.","Id":"60","Name":"Pie","NameId":"Pie","Tier":4,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before battle: Gain +4 attack and +3 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Potato perk.","Id":"66","Name":"Potato","NameId":"Potato","Tier":4,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 10 damage from abilities and perks, twice.","CustomArchetypes":[]},{"Ability":"Choose one level 1 Puppy toy.","Id":"240","Name":"Puppy Present","NameId":"PuppyGift1","Tier":4,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Puppy toy.","Id":"241","Name":"Puppy Present","NameId":"PuppyGift2","Tier":4,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Puppy toy.","Id":"242","Name":"Puppy Present","NameId":"PuppyGift3","Tier":4,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Salt perk.","Id":"74","Name":"Salt","NameId":"Salt","Tier":4,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack for double damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet +1 attack and +1 health. Triple if you have 1 life left.","Id":"78","Name":"Soup","NameId":"Soup","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Choose one tier 4-6 ailment to stock. Always on sale!","Id":"226","Name":"Stronger Canned Ailment","NameId":"CannedAilment2","Tier":4,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give the two left-most shop pets +2 attack and +3 health.","Id":"197","Name":"Vanilla Bean","NameId":"VanillaBean","Tier":4,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Activate buy ability or give +3 health.","Id":"86","Name":"Waffle","NameId":"Waffle","Tier":4,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 experience.","Id":"105","Name":"Best Chocolate","NameId":"Chocolate3","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 experience.","Id":"104","Name":"Better Chocolate","NameId":"Chocolate2","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +6 mana.","Id":"202","Name":"Big Mana Potion","NameId":"ManaPotion2","Tier":5,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Dazed without triggering abilities.","Id":"218","Name":"Canned Dazed","NameId":"CannedDeaf","Tier":5,"Packs":[],"PacksRequired":[],"PerkNote":"Prevent ability from activating.","CustomArchetypes":[]},{"Ability":"Make one pet Sleepy without triggering abilities.","Id":"221","Name":"Canned Sleepy","NameId":"CannedDrowsy","Tier":5,"Packs":[],"PacksRequired":[],"PerkNote":"Attack with half damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Carrot perk.","Id":"17","Name":"Carrot","NameId":"Carrot","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"End turn: Gain +1 attack and +1 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Chili perk.","Id":"22","Name":"Chili","NameId":"Chili","Tier":5,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Attack second enemy for 5 damage.","CustomArchetypes":[]},{"Ability":"Give one pet +1 experience.","Id":"23","Name":"Chocolate","NameId":"Chocolate","Tier":5,"Packs":["Pack1","Pack2","Pack3","Pack4","Pack5","Danger"],"PacksRequired":["Pack1","Pack2","Pack3","Pack4","Pack5","Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Cocoa Bean perk.","Id":"190","Name":"Cocoa Bean","NameId":"CocoaBean","Tier":5,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Before attack: Transform into an exact copy of a random enemy, once.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +3 attack and +2 health.","Id":"123","Name":"Cotton Candy","NameId":"CottonCandy","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Durian perk.","Id":"113","Name":"Durian","NameId":"Durian","Tier":5,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Reduce the most healthy enemy by 33% health, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Easter Egg perk.","Id":"142","Name":"Easter Egg","NameId":"EasterEgg","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Faint: Summon one 3/3 Bunny that attacks for double damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Eggplant perk.","Id":"34","Name":"Eggplant","NameId":"EggPlant","Tier":5,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before battle: Push opposite enemy 1 space forward.","CustomArchetypes":[]},{"Ability":"Replace each shop item with something from 1 tier higher than it.","Id":"129","Name":"Flodebolle","NameId":"Flodeboller","Tier":5,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Honeydew Melon perk.","Id":"193","Name":"Honeydew Melon","NameId":"HoneydewMelon","Tier":5,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 10 damage, and attack for +5 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Kiwano perk.","Id":"181","Name":"Kiwano","NameId":"Kiwano","Tier":5,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Ability deals +8 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +3 health.","Id":"125","Name":"Lasagna","NameId":"Lasagne","Tier":5,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Lemon perk.","Id":"47","Name":"Lemon","NameId":"Lemon","Tier":5,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Block 7 damage, twice.","CustomArchetypes":[]},{"Ability":"Give one pet the Love Potion perk.","Id":"155","Name":"Love Potion","NameId":"LovePotion","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before battle: Summon one 5/5 pet like this.","CustomArchetypes":[]},{"Ability":"Give one pet the Magic Beans perk.","Id":"156","Name":"Magic Beans","NameId":"MagicBeans","Tier":5,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Start of turn: Gain the Golden Egg perk and increase sell value by 4 gold.","CustomArchetypes":[]},{"Ability":"Give one pet +5 to its lowest stat.","Id":"209","Name":"Oblonot","NameId":"Oblonot","Tier":5,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pepper perk.","Id":"59","Name":"Pepper","NameId":"Pepper","Tier":5,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Health does not go under 1. Removed after taking damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Skewer perk.","Id":"76","Name":"Skewer","NameId":"Skewer","Tier":5,"Packs":[],"PacksRequired":[],"PerkNote":"Attack second and third enemy for 3 damage.","CustomArchetypes":[]},{"Ability":"Give three random pets +2 health.","Id":"80","Name":"Stew","NameId":"Stew","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Choose one level 1 Sting Ray toy.","Id":"246","Name":"Sting Ray Present","NameId":"StingRayGift1","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Sting Ray toy.","Id":"247","Name":"Sting Ray Present","NameId":"StingRayGift2","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Sting Ray toy.","Id":"248","Name":"Sting Ray Present","NameId":"StingRayGift3","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet Strawberry. Always on sale!","Id":"168","Name":"Strawberry Jam","NameId":"StrawberryJar","Tier":5,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Give the back-most friend +1 attack and +1 health.","CustomArchetypes":[]},{"Ability":"Give three random pets +1 attack and +1 health.","Id":"82","Name":"Sushi","NameId":"Sushi","Tier":5,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Give three random pets +2 attack.","Id":"84","Name":"Taco","NameId":"Taco","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Stock one 2-gold copy of the last non-Tofu food bought this turn.","Id":"187","Name":"Tofu","NameId":"Tofu","Tier":5,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Cursed without triggering abilities.","Id":"230","Name":"Canned Curse","NameId":"CannedCurse","Tier":6,"Packs":[],"PacksRequired":[],"PerkNote":"Faint: Make one random friend Cursed.","CustomArchetypes":[],"Random":true},{"Ability":"Make one pet Icky without triggering abilities.","Id":"215","Name":"Canned Icky","NameId":"CannedAcid","Tier":6,"Packs":[],"PacksRequired":[],"PerkNote":"Take double damage, twice.","CustomArchetypes":[]},{"Ability":"Give one pet +6 health.","Id":"120","Name":"Celery","NameId":"Celery","Tier":6,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +3 health.","Id":"21","Name":"Chicken Leg","NameId":"ChickenLeg","Tier":6,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Activate one pet\'s ability.","Id":"206","Name":"Coffee Bean","NameId":"CoffeeBean","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"CustomArchetypes":[]},{"Ability":"Choose one free tier 6 food to stock from ALL packs.","Id":"166","Name":"Cornucopia","NameId":"Cornucopia","Tier":6,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give two random pets +4 attack.","Id":"41","Name":"Hot Dog","NameId":"HotDog","Tier":6,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Stock one 2-gold Melon and one 2-gold Steak.","Id":"106","Name":"Judean Date","NameId":"Date","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Transform one pet into another from one higher tier.","Id":"154","Name":"Konpeito","NameId":"Kompeito","Tier":6,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Ability":"Give one pet the Melon perk.","Id":"96","Name":"Melon","NameId":"Melon","Tier":6,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":[]},{"Ability":"Choose one level 1 Mongoose toy.","Id":"243","Name":"Mongoose Present","NameId":"MongooseGift1","Tier":6,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Mongoose toy.","Id":"244","Name":"Mongoose Present","NameId":"MongooseGift2","Tier":6,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Mongoose toy.","Id":"245","Name":"Mongoose Present","NameId":"MongooseGift3","Tier":6,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Mushroom perk.","Id":"51","Name":"Mushroom","NameId":"Mushroom","Tier":6,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Faint: Come back as a 1/1.","CustomArchetypes":["Mvp"]},{"Ability":"Give two random pets +4 health.","Id":"54","Name":"Orange","NameId":"Orange","Tier":6,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Pancakes perk.","Id":"55","Name":"Pancakes","NameId":"Pancakes","Tier":6,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before battle: Give friends +2 attack and +2 health.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health. Upgrade future peaches to give +1 more attack and health.","Id":"152","Name":"Peach of Immortality","NameId":"ImmortalPeach","Tier":6,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pita Bread perk.","Id":"62","Name":"Pita Bread","NameId":"PitaBread","Tier":6,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Hurt: Gain +15 health, once.","CustomArchetypes":[]},{"Ability":"Give two random pets +2 attack and +2 health.","Id":"63","Name":"Pizza","NameId":"Pizza","Tier":6,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Popcorn perk.","Id":"65","Name":"Popcorn","NameId":"Popcorn","Tier":6,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Summon one random pet from the same tier.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +2 attack and +2 health. Double if all pets are tier 4 or higher.","Id":"67","Name":"Pretzel","NameId":"Pretzel","Tier":6,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"If pack has no pets/food from the tab, give tier 5 and 6 perks to one pet and the friends ahead of it.","Id":"158","Name":"Rainbow Jelly","NameId":"RainbowJelly","Tier":6,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Sardinian Currant perk.","Id":"200","Name":"Sardinian Currant","NameId":"SardinianCurrant","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Start of turn: Gain +2 gold.","CustomArchetypes":[]},{"Ability":"Give all pets +1 attack.","Id":"77","Name":"Soft Ice","NameId":"SoftIce","Tier":6,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Choose one tier 5-6 perk food to stock for free from ANY pack.","Id":"171","Name":"Starfruit","NameId":"Starfruit","Tier":6,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Steak perk.","Id":"79","Name":"Steak","NameId":"Steak","Tier":6,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"PerkNote":"Attack with +20 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Tomato perk.","Id":"85","Name":"Tomato","NameId":"Tomato","Tier":6,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Deal 10 damage to the last enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the White Okra perk.","Id":"199","Name":"White Okra","NameId":"WhiteOkra","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 10 damage twice or ailment once.","CustomArchetypes":[]},{"Ability":"Give one pet the Yggdrasil Fruit perk.","Id":"160","Name":"Yggdrasil Fruit","NameId":"YggdrasilFruit","Tier":6,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Faint: Summon two 5/5 Nordic Goats.","CustomArchetypes":[]},{"Ability":"Give one pet the Coconut perk.","Id":"26","Name":"Coconut","NameId":"Coconut","Tier":7,"Packs":[],"PacksRequired":[],"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Peanut perk.","Id":"57","Name":"Peanut","NameId":"Peanut","Tier":7,"Packs":[],"PacksRequired":[],"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":[]},{"Ability":"Give one pet the Peanut Butter perk.","Id":"204","Name":"Peanut Butter","NameId":"PeanutButter","Tier":7,"Packs":[],"PacksRequired":[],"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":[]}]')},74794(O,S,i){i.d(S,{a:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Small One";tier=6;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SmallOneAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:n,pteranodon:a}=e,l=t.parent.getAll(!0,t).pets.filter(g=>g&&g!==t);if(0!==l.length){for(let g=0;g<this.level;g++)for(const f of l)t.dealDamage(f,f.parent===t.parent?2:4);this.logService.createLog({message:`${t.name} dealt 2 (4 vs enemies) damage ${this.level}x to all other pets.`,type:"ability",player:t.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},74838(O,S,i){i.d(S,{L:()=>A});var P=i(46200),c=i(5615);class A extends P.i{constructor(e,t,n){super(e,t,n),this.name="Axehandle Hound",this.attack=5,this.health=3,this.tier=3,this.pack="Custom"}initAbilities(){this.abilityList=[new _(this,this.logService)],super.initAbilities()}}class _ extends c.T{hasUsed=!1;logService;constructor(e,t){super({name:"Axehandle Hound Ability",owner:e,triggers:["BeforeFriendlyAttack","StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:n,pteranodon:a}=e;if("StartBattle"===e.trigger)return this.hasUsed=!1,void this.triggerTigerExecution(e);if(this.hasUsed)return;const l=t.opponent;if(!l)return;const r=l.petArray.filter(f=>f.health>0),u=r.map(f=>f.name);if(new Set(u).size!==u.length){this.hasUsed=!0;const f=2*this.level;this.logService.createLog({message:`${this.owner.name} activated. Opponent has duplicates. Dealing ${f} damage to all enemies.`,type:"ability",player:this.owner.parent,tiger:n,pteranodon:a});for(const D of r)this.owner.dealDamage(D,f)}this.triggerTigerExecution(e)}copy(e){const t=new _(e,this.logService);return t.hasUsed=this.hasUsed,t}}},74891(O,S,i){i.d(S,{s:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Dirty Rat";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},75119(O,S,i){i.d(S,{Zm:()=>gt,me:()=>Ge,Yp:()=>ei,MJ:()=>Cn,JD:()=>mi,gE:()=>Ii,j4:()=>bn,YN:()=>$u,zX:()=>Io,VZ:()=>Kr,BC:()=>vi,cb:()=>Xi,vS:()=>us,xH:()=>Bs,Q0:()=>ue,MR:()=>ca,X1:()=>nc,YS:()=>pr,wz:()=>Wn,k0:()=>ge,qT:()=>La,y7:()=>ur});var P=i(35547),c=i(47868),_=(i(10467),i(15824));function r(U,K){return(0,_.KZ)(U,K?.equal)}Error,Error;var Te=i(17705),ke=i(46494),de=i(84787),Se=i(27389),Be=i(27354),Ne=i(95006),Ue=i(61456);function it(U,K){return new Se.c(N=>{const te=U.length;if(0===te)return void N.complete();const _e=new Array(te);let ft=0,xt=0;for(let oi=0;oi<te;oi++){const ln=(0,de.H)(U[oi]);let Na=!1;N.add(ln.subscribe({next:ua=>{Na||(Na=!0,xt++),_e[oi]=ua},error:ua=>N.error(ua),complete:()=>{ft++,(ft===te||!Na)&&(xt===te&&N.next(K?K.reduce((ua,Gu,Hu)=>(ua[Gu]=_e[Hu],ua),{}):_e),N.complete())}}))}})}var Ke=i(45286);let qe=(()=>{class U{_renderer;_elementRef;onChange=N=>{};onTouched=()=>{};constructor(N,te){this._renderer=N,this._elementRef=te}setProperty(N,te){this._renderer.setProperty(this._elementRef.nativeElement,N,te)}registerOnTouched(N){this.onTouched=N}registerOnChange(N){this.onChange=N}setDisabledState(N){this.setProperty("disabled",N)}static \u0275fac=function(te){return new(te||U)(P.rXU(P.sFG),P.rXU(P.aKT))};static \u0275dir=P.FsC({type:U})}return U})(),_t=(()=>{class U extends qe{static \u0275fac=(()=>{let N;return function(_e){return(N||(N=P.xGo(U)))(_e||U)}})();static \u0275dir=P.FsC({type:U,features:[P.Vt3]})}return U})();const pt=new c.nKC(""),tt={provide:pt,useExisting:(0,c.Rfq)(()=>gt),multi:!0};let gt=(()=>{class U extends _t{writeValue(N){this.setProperty("checked",N)}static \u0275fac=(()=>{let N;return function(_e){return(N||(N=P.xGo(U)))(_e||U)}})();static \u0275dir=P.FsC({type:U,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(te,_e){1&te&&P.bIt("change",function(xt){return _e.onChange(xt.target.checked)})("blur",function(){return _e.onTouched()})},standalone:!1,features:[P.Jv_([tt]),P.Vt3]})}return U})();const at={provide:pt,useExisting:(0,c.Rfq)(()=>Ge),multi:!0},ut=new c.nKC("");let Ge=(()=>{class U extends qe{_compositionMode;_composing=!1;constructor(N,te,_e){super(N,te),this._compositionMode=_e,null==this._compositionMode&&(this._compositionMode=!function wt(){const U=(0,ke.rb)()?(0,ke.rb)().getUserAgent():"";return/android (\d+)/.test(U.toLowerCase())}())}writeValue(N){this.setProperty("value",N??"")}_handleInput(N){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(N)}_compositionStart(){this._composing=!0}_compositionEnd(N){this._composing=!1,this._compositionMode&&this.onChange(N)}static \u0275fac=function(te){return new(te||U)(P.rXU(P.sFG),P.rXU(P.aKT),P.rXU(ut,8))};static \u0275dir=P.FsC({type:U,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(te,_e){1&te&&P.bIt("input",function(xt){return _e._handleInput(xt.target.value)})("blur",function(){return _e.onTouched()})("compositionstart",function(){return _e._compositionStart()})("compositionend",function(xt){return _e._compositionEnd(xt.target.value)})},standalone:!1,features:[P.Jv_([at]),P.Vt3]})}return U})();function Ot(U){return null==U||0===Qt(U)}function Qt(U){return null==U?null:Array.isArray(U)||"string"==typeof U?U.length:U instanceof Set?U.size:null}const mt=new c.nKC(""),Yt=new c.nKC(""),Et=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ge{static min(K){return Le(K)}static max(K){return Ve(K)}static required(K){return Fe(K)}static requiredTrue(K){return function ot(U){return!0===U.value?null:{required:!0}}(K)}static email(K){return function Ut(U){return Ot(U.value)||Et.test(U.value)?null:{email:!0}}(K)}static minLength(K){return function Kt(U){return K=>{const N=K.value?.length??Qt(K.value);return null===N||0===N?null:N<U?{minlength:{requiredLength:U,actualLength:N}}:null}}(K)}static maxLength(K){return function qt(U){return K=>{const N=K.value?.length??Qt(K.value);return null!==N&&N>U?{maxlength:{requiredLength:U,actualLength:N}}:null}}(K)}static pattern(K){return function Vt(U){if(!U)return Gt;let K,N;return"string"==typeof U?(N="","^"!==U.charAt(0)&&(N+="^"),N+=U,"$"!==U.charAt(U.length-1)&&(N+="$"),K=new RegExp(N)):(N=U.toString(),K=U),te=>{if(Ot(te.value))return null;const _e=te.value;return K.test(_e)?null:{pattern:{requiredPattern:N,actualValue:_e}}}}(K)}static nullValidator(K){return null}static compose(K){return Hi(K)}static composeAsync(K){return Ti(K)}}function Le(U){return K=>{if(null==K.value||null==U)return null;const N=parseFloat(K.value);return!isNaN(N)&&N<U?{min:{min:U,actual:K.value}}:null}}function Ve(U){return K=>{if(null==K.value||null==U)return null;const N=parseFloat(K.value);return!isNaN(N)&&N>U?{max:{max:U,actual:K.value}}:null}}function Fe(U){return Ot(U.value)?{required:!0}:null}function Gt(U){return null}function Ui(U){return null!=U}function Bt(U){return(0,P.yLl)(U)?(0,de.H)(U):U}function Yi(U){let K={};return U.forEach(N=>{K=null!=N?{...K,...N}:K}),0===Object.keys(K).length?null:K}function Gi(U,K){return K.map(N=>N(U))}function ki(U){return U.map(K=>function Ci(U){return!U.validate}(K)?K:N=>K.validate(N))}function Hi(U){if(!U)return null;const K=U.filter(Ui);return 0==K.length?null:function(N){return Yi(Gi(N,K))}}function En(U){return null!=U?Hi(ki(U)):null}function Ti(U){if(!U)return null;const K=U.filter(Ui);return 0==K.length?null:function(N){return function lt(...U){if(1===U.length){const K=U[0];if((0,Be.c)(K))return it(K,null);if((0,Ue.G)(K)&&Object.getPrototypeOf(K)===Object.prototype){const N=Object.keys(K);return it(N.map(te=>K[te]),N)}}if("function"==typeof U[U.length-1]){const K=U.pop();return it(U=1===U.length&&(0,Be.c)(U[0])?U[0]:U,null).pipe((0,Ne.T)(N=>K(...N)))}return it(U,null)}(Gi(N,K).map(Bt)).pipe((0,Ne.T)(Yi))}}function _i(U){return null!=U?Ti(ki(U)):null}function Di(U,K){return null===U?[K]:Array.isArray(U)?[...U,K]:[U,K]}function Fn(U){return U._rawValidators}function pn(U){return U._rawAsyncValidators}function tn(U){return U?Array.isArray(U)?U:[U]:[]}function nn(U,K){return Array.isArray(U)?U.includes(K):U===K}function ji(U,K){const N=tn(K);return tn(U).forEach(_e=>{nn(N,_e)||N.push(_e)}),N}function Rn(U,K){return tn(K).filter(N=>!nn(U,N))}class Li{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(K){this._rawValidators=K||[],this._composedValidatorFn=En(this._rawValidators)}_setAsyncValidators(K){this._rawAsyncValidators=K||[],this._composedAsyncValidatorFn=_i(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(K){this._onDestroyCallbacks.push(K)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(K=>K()),this._onDestroyCallbacks=[]}reset(K=void 0){this.control&&this.control.reset(K)}hasError(K,N){return!!this.control&&this.control.hasError(K,N)}getError(K,N){return this.control?this.control.getError(K,N):null}}class ui extends Li{name;get formDirective(){return null}get path(){return null}}class wi extends Li{_parent=null;name=null;valueAccessor=null}class Wi{_cd;constructor(K){this._cd=K}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let vi=(()=>{class U extends Wi{constructor(N){super(N)}static \u0275fac=function(te){return new(te||U)(P.rXU(wi,2))};static \u0275dir=P.FsC({type:U,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(te,_e){2&te&&P.AVh("ng-untouched",_e.isUntouched)("ng-touched",_e.isTouched)("ng-pristine",_e.isPristine)("ng-dirty",_e.isDirty)("ng-valid",_e.isValid)("ng-invalid",_e.isInvalid)("ng-pending",_e.isPending)},standalone:!1,features:[P.Vt3]})}return U})(),Xi=(()=>{class U extends Wi{constructor(N){super(N)}static \u0275fac=function(te){return new(te||U)(P.rXU(ui,10))};static \u0275dir=P.FsC({type:U,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(te,_e){2&te&&P.AVh("ng-untouched",_e.isUntouched)("ng-touched",_e.isTouched)("ng-pristine",_e.isPristine)("ng-dirty",_e.isDirty)("ng-valid",_e.isValid)("ng-invalid",_e.isInvalid)("ng-pending",_e.isPending)("ng-submitted",_e.isSubmitted)},standalone:!1,features:[P.Vt3]})}return U})();const fe="VALID",Re="INVALID",We="PENDING",je="DISABLED";class ze{}class Wt extends ze{value;source;constructor(K,N){super(),this.value=K,this.source=N}}class At extends ze{pristine;source;constructor(K,N){super(),this.pristine=K,this.source=N}}class yi extends ze{touched;source;constructor(K,N){super(),this.touched=K,this.source=N}}class xi extends ze{status;source;constructor(K,N){super(),this.status=K,this.source=N}}class gi extends ze{source;constructor(K){super(),this.source=K}}class pi extends ze{source;constructor(K){super(),this.source=K}}function sn(U){return(zt(U)?U.validators:U)||null}function Oi(U,K){return(zt(K)?K.asyncValidators:U)||null}function zt(U){return null!=U&&!Array.isArray(U)&&"object"==typeof U}function bi(U,K,N){const te=U.controls;if(!(K?Object.keys(te):te).length)throw new c.buA(1e3,"");if(!te[N])throw new c.buA(1001,"")}function Mi(U,K,N){U._forEachChild((te,_e)=>{if(void 0===N[_e])throw new c.buA(1002,"")})}class Xt{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(K,N){this._assignValidators(K),this._assignAsyncValidators(N)}get validator(){return this._composedValidatorFn}set validator(K){this._rawValidators=this._composedValidatorFn=K}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(K){this._rawAsyncValidators=this._composedAsyncValidatorFn=K}get parent(){return this._parent}get status(){return(0,c.O8t)(this.statusReactive)}set status(K){(0,c.O8t)(()=>this.statusReactive.set(K))}_status=r(()=>this.statusReactive());statusReactive=(0,c.vPA)(void 0);get valid(){return this.status===fe}get invalid(){return this.status===Re}get pending(){return this.status==We}get disabled(){return this.status===je}get enabled(){return this.status!==je}errors;get pristine(){return(0,c.O8t)(this.pristineReactive)}set pristine(K){(0,c.O8t)(()=>this.pristineReactive.set(K))}_pristine=r(()=>this.pristineReactive());pristineReactive=(0,c.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,c.O8t)(this.touchedReactive)}set touched(K){(0,c.O8t)(()=>this.touchedReactive.set(K))}_touched=r(()=>this.touchedReactive());touchedReactive=(0,c.vPA)(!1);get untouched(){return!this.touched}_events=new Ke.B7;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(K){this._assignValidators(K)}setAsyncValidators(K){this._assignAsyncValidators(K)}addValidators(K){this.setValidators(ji(K,this._rawValidators))}addAsyncValidators(K){this.setAsyncValidators(ji(K,this._rawAsyncValidators))}removeValidators(K){this.setValidators(Rn(K,this._rawValidators))}removeAsyncValidators(K){this.setAsyncValidators(Rn(K,this._rawAsyncValidators))}hasValidator(K){return nn(this._rawValidators,K)}hasAsyncValidator(K){return nn(this._rawAsyncValidators,K)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(K={}){const N=!1===this.touched;this.touched=!0;const te=K.sourceControl??this;this._parent&&!K.onlySelf&&this._parent.markAsTouched({...K,sourceControl:te}),N&&!1!==K.emitEvent&&this._events.next(new yi(!0,te))}markAllAsDirty(K={}){this.markAsDirty({onlySelf:!0,emitEvent:K.emitEvent,sourceControl:this}),this._forEachChild(N=>N.markAllAsDirty(K))}markAllAsTouched(K={}){this.markAsTouched({onlySelf:!0,emitEvent:K.emitEvent,sourceControl:this}),this._forEachChild(N=>N.markAllAsTouched(K))}markAsUntouched(K={}){const N=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const te=K.sourceControl??this;this._forEachChild(_e=>{_e.markAsUntouched({onlySelf:!0,emitEvent:K.emitEvent,sourceControl:te})}),this._parent&&!K.onlySelf&&this._parent._updateTouched(K,te),N&&!1!==K.emitEvent&&this._events.next(new yi(!1,te))}markAsDirty(K={}){const N=!0===this.pristine;this.pristine=!1;const te=K.sourceControl??this;this._parent&&!K.onlySelf&&this._parent.markAsDirty({...K,sourceControl:te}),N&&!1!==K.emitEvent&&this._events.next(new At(!1,te))}markAsPristine(K={}){const N=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const te=K.sourceControl??this;this._forEachChild(_e=>{_e.markAsPristine({onlySelf:!0,emitEvent:K.emitEvent})}),this._parent&&!K.onlySelf&&this._parent._updatePristine(K,te),N&&!1!==K.emitEvent&&this._events.next(new At(!0,te))}markAsPending(K={}){this.status=We;const N=K.sourceControl??this;!1!==K.emitEvent&&(this._events.next(new xi(this.status,N)),this.statusChanges.emit(this.status)),this._parent&&!K.onlySelf&&this._parent.markAsPending({...K,sourceControl:N})}disable(K={}){const N=this._parentMarkedDirty(K.onlySelf);this.status=je,this.errors=null,this._forEachChild(_e=>{_e.disable({...K,onlySelf:!0})}),this._updateValue();const te=K.sourceControl??this;!1!==K.emitEvent&&(this._events.next(new Wt(this.value,te)),this._events.next(new xi(this.status,te)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...K,skipPristineCheck:N},this),this._onDisabledChange.forEach(_e=>_e(!0))}enable(K={}){const N=this._parentMarkedDirty(K.onlySelf);this.status=fe,this._forEachChild(te=>{te.enable({...K,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent}),this._updateAncestors({...K,skipPristineCheck:N},this),this._onDisabledChange.forEach(te=>te(!1))}_updateAncestors(K,N){this._parent&&!K.onlySelf&&(this._parent.updateValueAndValidity(K),K.skipPristineCheck||this._parent._updatePristine({},N),this._parent._updateTouched({},N))}setParent(K){this._parent=K}getRawValue(){return this.value}updateValueAndValidity(K={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const te=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fe||this.status===We)&&this._runAsyncValidator(te,K.emitEvent)}const N=K.sourceControl??this;!1!==K.emitEvent&&(this._events.next(new Wt(this.value,N)),this._events.next(new xi(this.status,N)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!K.onlySelf&&this._parent.updateValueAndValidity({...K,sourceControl:N})}_updateTreeValidity(K={emitEvent:!0}){this._forEachChild(N=>N._updateTreeValidity(K)),this.updateValueAndValidity({onlySelf:!0,emitEvent:K.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?je:fe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(K,N){if(this.asyncValidator){this.status=We,this._hasOwnPendingAsyncValidator={emitEvent:!1!==N,shouldHaveEmitted:!1!==K};const te=Bt(this.asyncValidator(this));this._asyncValidationSubscription=te.subscribe(_e=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(_e,{emitEvent:N,shouldHaveEmitted:K})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const K=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,K}return!1}setErrors(K,N={}){this.errors=K,this._updateControlsErrors(!1!==N.emitEvent,this,N.shouldHaveEmitted)}get(K){let N=K;return null==N||(Array.isArray(N)||(N=N.split(".")),0===N.length)?null:N.reduce((te,_e)=>te&&te._find(_e),this)}getError(K,N){const te=N?this.get(N):this;return te&&te.errors?te.errors[K]:null}hasError(K,N){return!!this.getError(K,N)}get root(){let K=this;for(;K._parent;)K=K._parent;return K}_updateControlsErrors(K,N,te){this.status=this._calculateStatus(),K&&this.statusChanges.emit(this.status),(K||te)&&this._events.next(new xi(this.status,N)),this._parent&&this._parent._updateControlsErrors(K,N,te)}_initObservables(){this.valueChanges=new c.bkB,this.statusChanges=new c.bkB}_calculateStatus(){return this._allControlsDisabled()?je:this.errors?Re:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(We)?We:this._anyControlsHaveStatus(Re)?Re:fe}_anyControlsHaveStatus(K){return this._anyControls(N=>N.status===K)}_anyControlsDirty(){return this._anyControls(K=>K.dirty)}_anyControlsTouched(){return this._anyControls(K=>K.touched)}_updatePristine(K,N){const te=!this._anyControlsDirty(),_e=this.pristine!==te;this.pristine=te,this._parent&&!K.onlySelf&&this._parent._updatePristine(K,N),_e&&this._events.next(new At(this.pristine,N))}_updateTouched(K={},N){this.touched=this._anyControlsTouched(),this._events.next(new yi(this.touched,N)),this._parent&&!K.onlySelf&&this._parent._updateTouched(K,N)}_onDisabledChange=[];_registerOnCollectionChange(K){this._onCollectionChange=K}_setUpdateStrategy(K){zt(K)&&null!=K.updateOn&&(this._updateOn=K.updateOn)}_parentMarkedDirty(K){return!K&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(K){return null}_assignValidators(K){this._rawValidators=Array.isArray(K)?K.slice():K,this._composedValidatorFn=function ai(U){return Array.isArray(U)?En(U):U||null}(this._rawValidators)}_assignAsyncValidators(K){this._rawAsyncValidators=Array.isArray(K)?K.slice():K,this._composedAsyncValidatorFn=function $t(U){return Array.isArray(U)?_i(U):U||null}(this._rawAsyncValidators)}}class Ii extends Xt{constructor(K,N,te){super(sn(N),Oi(te,N)),this.controls=K,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(K,N){return this.controls[K]?this.controls[K]:(this.controls[K]=N,N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange),N)}addControl(K,N,te={}){this.registerControl(K,N),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}removeControl(K,N={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}setControl(K,N,te={}){this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),delete this.controls[K],N&&this.registerControl(K,N),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}contains(K){return this.controls.hasOwnProperty(K)&&this.controls[K].enabled}setValue(K,N={}){Mi(this,0,K),Object.keys(K).forEach(te=>{bi(this,!0,te),this.controls[te].setValue(K[te],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(K,N={}){null!=K&&(Object.keys(K).forEach(te=>{const _e=this.controls[te];_e&&_e.patchValue(K[te],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(K={},N={}){this._forEachChild((te,_e)=>{te.reset(K?K[_e]:null,{...N,onlySelf:!0})}),this._updatePristine(N,this),this._updateTouched(N,this),this.updateValueAndValidity(N),!1!==N?.emitEvent&&this._events.next(new pi(this))}getRawValue(){return this._reduceChildren({},(K,N,te)=>(K[te]=N.getRawValue(),K))}_syncPendingControls(){let K=this._reduceChildren(!1,(N,te)=>!!te._syncPendingControls()||N);return K&&this.updateValueAndValidity({onlySelf:!0}),K}_forEachChild(K){Object.keys(this.controls).forEach(N=>{const te=this.controls[N];te&&K(te,N)})}_setUpControls(){this._forEachChild(K=>{K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(K){for(const[N,te]of Object.entries(this.controls))if(this.contains(N)&&K(te))return!0;return!1}_reduceValue(){return this._reduceChildren({},(N,te,_e)=>((te.enabled||this.disabled)&&(N[_e]=te.value),N))}_reduceChildren(K,N){let te=K;return this._forEachChild((_e,ft)=>{te=N(te,_e,ft)}),te}_allControlsDisabled(){for(const K of Object.keys(this.controls))if(this.controls[K].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(K){return this.controls.hasOwnProperty(K)?this.controls[K]:null}}const mn=new c.nKC("",{factory:()=>qi}),qi="always";function Zn(U,K){return[...K.path,U]}function jn(U,K,N=qi){Nn(U,K),K.valueAccessor.writeValue(U.value),(U.disabled||"always"===N)&&K.valueAccessor.setDisabledState?.(U.disabled),function za(U,K){K.valueAccessor.registerOnChange(N=>{U._pendingValue=N,U._pendingChange=!0,U._pendingDirty=!0,"change"===U.updateOn&&me(U,K)})}(U,K),function ne(U,K){const N=(te,_e)=>{K.valueAccessor.writeValue(te),_e&&K.viewToModelUpdate(te)};U.registerOnChange(N),K._registerOnDestroy(()=>{U._unregisterOnChange(N)})}(U,K),function Y(U,K){K.valueAccessor.registerOnTouched(()=>{U._pendingTouched=!0,"blur"===U.updateOn&&U._pendingChange&&me(U,K),"submit"!==U.updateOn&&U.markAsTouched()})}(U,K),function Ea(U,K){if(K.valueAccessor.setDisabledState){const N=te=>{K.valueAccessor.setDisabledState(te)};U.registerOnDisabledChange(N),K._registerOnDestroy(()=>{U._unregisterOnDisabledChange(N)})}}(U,K)}function _n(U,K,N=!0){const te=()=>{};K.valueAccessor&&(K.valueAccessor.registerOnChange(te),K.valueAccessor.registerOnTouched(te)),Mn(U,K),U&&(K._invokeOnDestroyCallbacks(),U._registerOnCollectionChange(()=>{}))}function fn(U,K){U.forEach(N=>{N.registerOnValidatorChange&&N.registerOnValidatorChange(K)})}function Nn(U,K){const N=Fn(U);null!==K.validator?U.setValidators(Di(N,K.validator)):"function"==typeof N&&U.setValidators([N]);const te=pn(U);null!==K.asyncValidator?U.setAsyncValidators(Di(te,K.asyncValidator)):"function"==typeof te&&U.setAsyncValidators([te]);const _e=()=>U.updateValueAndValidity();fn(K._rawValidators,_e),fn(K._rawAsyncValidators,_e)}function Mn(U,K){let N=!1;if(null!==U){if(null!==K.validator){const _e=Fn(U);if(Array.isArray(_e)&&_e.length>0){const ft=_e.filter(xt=>xt!==K.validator);ft.length!==_e.length&&(N=!0,U.setValidators(ft))}}if(null!==K.asyncValidator){const _e=pn(U);if(Array.isArray(_e)&&_e.length>0){const ft=_e.filter(xt=>xt!==K.asyncValidator);ft.length!==_e.length&&(N=!0,U.setAsyncValidators(ft))}}}const te=()=>{};return fn(K._rawValidators,te),fn(K._rawAsyncValidators,te),N}function me(U,K){U._pendingDirty&&U.markAsDirty(),U.setValue(U._pendingValue,{emitModelToViewChange:!1}),K.viewToModelUpdate(U._pendingValue),U._pendingChange=!1}function ni(U,K){if(!U.hasOwnProperty("model"))return!1;const N=U.model;return!!N.isFirstChange()||!Object.is(K,N.currentValue)}function si(U,K){if(!K)return null;let N,te,_e;return Array.isArray(K),K.forEach(ft=>{ft.constructor===Ge?N=ft:function Jt(U){return Object.getPrototypeOf(U.constructor)===_t}(ft)?te=ft:_e=ft}),_e||te||N||null}function Bn(U,K){const N=U.indexOf(K);N>-1&&U.splice(N,1)}function ra(U){return"object"==typeof U&&null!==U&&2===Object.keys(U).length&&"value"in U&&"disabled"in U}Promise.resolve();const Cn=class extends Xt{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(K=null,N,te){super(sn(N),Oi(te,N)),this._applyFormState(K),this._setUpdateStrategy(N),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zt(N)&&(N.nonNullable||N.initialValueIsDefault)&&(this.defaultValue=ra(K)?K.value:K)}setValue(K,N={}){this.value=this._pendingValue=K,this._onChange.length&&!1!==N.emitModelToViewChange&&this._onChange.forEach(te=>te(this.value,!1!==N.emitViewToModelChange)),this.updateValueAndValidity(N)}patchValue(K,N={}){this.setValue(K,N)}reset(K=this.defaultValue,N={}){this._applyFormState(K),this.markAsPristine(N),this.markAsUntouched(N),this.setValue(this.value,N),N.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,!1!==N?.emitEvent&&this._events.next(new pi(this))}_updateValue(){}_anyControls(K){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(K){this._onChange.push(K)}_unregisterOnChange(K){Bn(this._onChange,K)}registerOnDisabledChange(K){this._onDisabledChange.push(K)}_unregisterOnDisabledChange(K){Bn(this._onDisabledChange,K)}_forEachChild(K){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(K){ra(K)?(this.value=this._pendingValue=K.value,K.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=K}},Ur={provide:wi,useExisting:(0,c.Rfq)(()=>us)},Xa=Promise.resolve();let us=(()=>{class U extends wi{_changeDetectorRef;callSetDisabledState;control=new Cn;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new c.bkB;constructor(N,te,_e,ft,xt,oi){super(),this._changeDetectorRef=xt,this.callSetDisabledState=oi,this._parent=N,this._setValidators(te),this._setAsyncValidators(_e),this.valueAccessor=si(0,ft)}ngOnChanges(N){if(this._checkForErrors(),!this._registered||"name"in N){if(this._registered&&(this._checkName(),this.formDirective)){const te=N.name.previousValue;this.formDirective.removeControl({name:te,path:this._getPath(te)})}this._setUpControl()}"isDisabled"in N&&this._updateDisabled(N),ni(N,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){jn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(N){Xa.then(()=>{this.control.setValue(N,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(N){const te=N.isDisabled.currentValue,_e=0!==te&&(0,Te.L39)(te);Xa.then(()=>{_e&&!this.control.disabled?this.control.disable():!_e&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(N){return this._parent?Zn(N,this._parent):[N]}static \u0275fac=function(te){return new(te||U)(P.rXU(ui,9),P.rXU(mt,10),P.rXU(Yt,10),P.rXU(pt,10),P.rXU(Te.gRc,8),P.rXU(mn,8))};static \u0275dir=P.FsC({type:U,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[P.Jv_([Ur]),P.Vt3,P.OA$]})}return U})(),La=(()=>{class U{static \u0275fac=function(te){return new(te||U)};static \u0275dir=P.FsC({type:U,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return U})();const Ht={provide:pt,useExisting:(0,c.Rfq)(()=>ue),multi:!0};let ue=(()=>{class U extends _t{writeValue(N){this.setProperty("value",N??"")}registerOnChange(N){this.onChange=te=>{N(""==te?null:parseFloat(te))}}static \u0275fac=(()=>{let N;return function(_e){return(N||(N=P.xGo(U)))(_e||U)}})();static \u0275dir=P.FsC({type:U,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(te,_e){1&te&&P.bIt("input",function(xt){return _e.onChange(xt.target.value)})("blur",function(){return _e.onTouched()})},standalone:!1,features:[P.Jv_([Ht]),P.Vt3]})}return U})();const cr={provide:pt,useExisting:(0,c.Rfq)(()=>ca),multi:!0};let ca=(()=>{class U extends _t{writeValue(N){this.setProperty("value",parseFloat(N))}registerOnChange(N){this.onChange=te=>{N(""==te?null:parseFloat(te))}}static \u0275fac=(()=>{let N;return function(_e){return(N||(N=P.xGo(U)))(_e||U)}})();static \u0275dir=P.FsC({type:U,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(te,_e){1&te&&P.bIt("change",function(xt){return _e.onChange(xt.target.value)})("input",function(xt){return _e.onChange(xt.target.value)})("blur",function(){return _e.onTouched()})},standalone:!1,features:[P.Jv_([cr]),P.Vt3]})}return U})();class ei extends Xt{constructor(K,N,te){super(sn(N),Oi(te,N)),this.controls=K,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(K){return this.controls[this._adjustIndex(K)]}push(K,N={}){Array.isArray(K)?K.forEach(te=>{this.controls.push(te),this._registerControl(te)}):(this.controls.push(K),this._registerControl(K)),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}insert(K,N,te={}){this.controls.splice(K,0,N),this._registerControl(N),this.updateValueAndValidity({emitEvent:te.emitEvent})}removeAt(K,N={}){let te=this._adjustIndex(K);te<0&&(te=0),this.controls[te]&&this.controls[te]._registerOnCollectionChange(()=>{}),this.controls.splice(te,1),this.updateValueAndValidity({emitEvent:N.emitEvent})}setControl(K,N,te={}){let _e=this._adjustIndex(K);_e<0&&(_e=0),this.controls[_e]&&this.controls[_e]._registerOnCollectionChange(()=>{}),this.controls.splice(_e,1),N&&(this.controls.splice(_e,0,N),this._registerControl(N)),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(K,N={}){Mi(this,0,K),K.forEach((te,_e)=>{bi(this,!1,_e),this.at(_e).setValue(te,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(K,N={}){null!=K&&(K.forEach((te,_e)=>{this.at(_e)&&this.at(_e).patchValue(te,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(K=[],N={}){this._forEachChild((te,_e)=>{te.reset(K[_e],{...N,onlySelf:!0})}),this._updatePristine(N,this),this._updateTouched(N,this),this.updateValueAndValidity(N),!1!==N?.emitEvent&&this._events.next(new pi(this))}getRawValue(){return this.controls.map(K=>K.getRawValue())}clear(K={}){this.controls.length<1||(this._forEachChild(N=>N._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:K.emitEvent}))}_adjustIndex(K){return K<0?K+this.length:K}_syncPendingControls(){let K=this.controls.reduce((N,te)=>!!te._syncPendingControls()||N,!1);return K&&this.updateValueAndValidity({onlySelf:!0}),K}_forEachChild(K){this.controls.forEach((N,te)=>{K(N,te)})}_updateValue(){this.value=this.controls.filter(K=>K.enabled||this.disabled).map(K=>K.value)}_anyControls(K){return this.controls.some(N=>N.enabled&&K(N))}_setUpControls(){this._forEachChild(K=>this._registerControl(K))}_allControlsDisabled(){for(const K of this.controls)if(K.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(K){K.setParent(this),K._registerOnCollectionChange(this._onCollectionChange)}_find(K){return this.at(K)??null}}let Z=(()=>{class U extends ui{callSetDisabledState;get submitted(){return(0,c.O8t)(this._submittedReactive)}set submitted(N){this._submittedReactive.set(N)}_submitted=r(()=>this._submittedReactive());_submittedReactive=(0,c.vPA)(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(N,te,_e){super(),this.callSetDisabledState=_e,this._setValidators(N),this._setAsyncValidators(te)}ngOnChanges(N){this.onChanges(N)}ngOnDestroy(){this.onDestroy()}onChanges(N){this._checkFormPresent(),N.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(Mn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(N){const te=this.form.get(N.path);return jn(te,N,this.callSetDisabledState),te.updateValueAndValidity({emitEvent:!1}),this.directives.push(N),te}getControl(N){return this.form.get(N.path)}removeControl(N){_n(N.control||null,N,!1),function fi(U,K){const N=U.indexOf(K);N>-1&&U.splice(N,1)}(this.directives,N)}addFormGroup(N){this._setUpFormContainer(N)}removeFormGroup(N){this._cleanUpFormContainer(N)}getFormGroup(N){return this.form.get(N.path)}getFormArray(N){return this.form.get(N.path)}addFormArray(N){this._setUpFormContainer(N)}removeFormArray(N){this._cleanUpFormContainer(N)}updateModel(N,te){this.form.get(N.path).setValue(te)}onReset(){this.resetForm()}resetForm(N=void 0,te={}){this.form.reset(N,te),this._submittedReactive.set(!1)}onSubmit(N){return this.submitted=!0,function Ei(U,K){U._syncPendingControls(),K.forEach(N=>{const te=N.control;"submit"===te.updateOn&&te._pendingChange&&(N.viewToModelUpdate(te._pendingValue),te._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(N),this.form._events.next(new gi(this.control)),"dialog"===N?.target?.method}_updateDomValue(){this.directives.forEach(N=>{const te=N.control,_e=this.form.get(N.path);te!==_e&&(_n(te||null,N),(U=>U instanceof Cn)(_e)&&(jn(_e,N,this.callSetDisabledState),N.control=_e))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(N){const te=this.form.get(N.path);(function se(U,K){Nn(U,K)})(te,N),te.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(N){if(this.form){const te=this.form.get(N.path);te&&function De(U,K){return Mn(U,K)}(te,N)&&te.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Nn(this.form,this),this._oldForm&&Mn(this._oldForm,this)}_checkFormPresent(){}static \u0275fac=function(te){return new(te||U)(P.rXU(mt,10),P.rXU(Yt,10),P.rXU(mn,8))};static \u0275dir=P.FsC({type:U,features:[P.Vt3,P.OA$]})}return U})();const he=new c.nKC(""),It={provide:wi,useExisting:(0,c.Rfq)(()=>mi)};let mi=(()=>{class U extends wi{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(N){}model;update=new c.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(N,te,_e,ft,xt){super(),this._ngModelWarningConfig=xt,this._parent=N,this._setValidators(te),this._setAsyncValidators(_e),this.valueAccessor=si(0,ft)}ngOnChanges(N){this._added||this._setUpControl(),ni(N,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}get path(){return Zn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(te){return new(te||U)(P.rXU(ui,13),P.rXU(mt,10),P.rXU(Yt,10),P.rXU(pt,10),P.rXU(he,8))};static \u0275dir=P.FsC({type:U,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[P.Jv_([It]),P.Vt3,P.OA$]})}return U})();const yn={provide:ui,useExisting:(0,c.Rfq)(()=>bn)};let bn=(()=>{class U extends Z{form=null;ngSubmit=new c.bkB;get control(){return this.form}static \u0275fac=(()=>{let N;return function(_e){return(N||(N=P.xGo(U)))(_e||U)}})();static \u0275dir=P.FsC({type:U,selectors:[["","formGroup",""]],hostBindings:function(te,_e){1&te&&P.bIt("submit",function(xt){return _e.onSubmit(xt)})("reset",function(){return _e.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[P.Jv_([yn]),P.Vt3]})}return U})();const zi={provide:pt,useExisting:(0,c.Rfq)(()=>Wn),multi:!0};function Ki(U,K){return null==U?`${K}`:(K&&"object"==typeof K&&(K="Object"),`${U}: ${K}`.slice(0,50))}let Wn=(()=>{class U extends _t{value;_optionMap=new Map;_idCounter=0;set compareWith(N){this._compareWith=N}_compareWith=Object.is;appRefInjector=(0,c.WQX)(P.o8S).injector;destroyRef=(0,c.WQX)(c.abz);cdr=(0,c.WQX)(Te.gRc);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,(0,P.mal)({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(N){this.cdr.markForCheck(),this.value=N;const _e=Ki(this._getOptionId(N),N);this.setProperty("value",_e)}registerOnChange(N){this.onChange=te=>{this.value=this._getOptionValue(te),N(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(N){for(const te of this._optionMap.keys())if(this._compareWith(this._optionMap.get(te),N))return te;return null}_getOptionValue(N){const te=function Qa(U){return U.split(":")[0]}(N);return this._optionMap.has(te)?this._optionMap.get(te):N}static \u0275fac=(()=>{let N;return function(_e){return(N||(N=P.xGo(U)))(_e||U)}})();static \u0275dir=P.FsC({type:U,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(te,_e){1&te&&P.bIt("change",function(xt){return _e.onChange(xt.target.value)})("blur",function(){return _e.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[P.Jv_([zi]),P.Vt3]})}return U})(),Bs=(()=>{class U{_element;_renderer;_select;id;constructor(N,te,_e){this._element=N,this._renderer=te,this._select=_e,this._select&&(this.id=this._select._registerOption())}set ngValue(N){null!=this._select&&(this._select._optionMap.set(this.id,N),this._setElementValue(Ki(this.id,N)),this._select._writeValueAfterRender())}set value(N){this._setElementValue(N),this._select&&this._select._writeValueAfterRender()}_setElementValue(N){this._renderer.setProperty(this._element.nativeElement,"value",N)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(te){return new(te||U)(P.rXU(P.aKT),P.rXU(P.sFG),P.rXU(Wn,9))};static \u0275dir=P.FsC({type:U,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return U})();const Ta={provide:pt,useExisting:(0,c.Rfq)(()=>gs),multi:!0};function hs(U,K){return null==U?`${K}`:("string"==typeof K&&(K=`'${K}'`),K&&"object"==typeof K&&(K="Object"),`${U}: ${K}`.slice(0,50))}let gs=(()=>{class U extends _t{value;_optionMap=new Map;_idCounter=0;set compareWith(N){this._compareWith=N}_compareWith=Object.is;writeValue(N){let te;if(this.value=N,Array.isArray(N)){const _e=N.map(ft=>this._getOptionId(ft));te=(ft,xt)=>{ft._setSelected(_e.indexOf(xt.toString())>-1)}}else te=(_e,ft)=>{_e._setSelected(!1)};this._optionMap.forEach(te)}registerOnChange(N){this.onChange=te=>{const _e=[],ft=te.selectedOptions;if(void 0!==ft){const xt=ft;for(let oi=0;oi<xt.length;oi++){const Na=this._getOptionValue(xt[oi].value);_e.push(Na)}}else{const xt=te.options;for(let oi=0;oi<xt.length;oi++){const ln=xt[oi];if(ln.selected){const Na=this._getOptionValue(ln.value);_e.push(Na)}}}this.value=_e,N(_e)}}_registerOption(N){const te=(this._idCounter++).toString();return this._optionMap.set(te,N),te}_getOptionId(N){for(const te of this._optionMap.keys())if(this._compareWith(this._optionMap.get(te)._value,N))return te;return null}_getOptionValue(N){const te=function Fs(U){return U.split(":")[0]}(N);return this._optionMap.has(te)?this._optionMap.get(te)._value:N}static \u0275fac=(()=>{let N;return function(_e){return(N||(N=P.xGo(U)))(_e||U)}})();static \u0275dir=P.FsC({type:U,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(te,_e){1&te&&P.bIt("change",function(xt){return _e.onChange(xt.target)})("blur",function(){return _e.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[P.Jv_([Ta]),P.Vt3]})}return U})(),ur=(()=>{class U{_element;_renderer;_select;id;_value;constructor(N,te,_e){this._element=N,this._renderer=te,this._select=_e,this._select&&(this.id=this._select._registerOption(this))}set ngValue(N){null!=this._select&&(this._value=N,this._setElementValue(hs(this.id,N)),this._select.writeValue(this._select.value))}set value(N){this._select?(this._value=N,this._setElementValue(hs(this.id,N)),this._select.writeValue(this._select.value)):this._setElementValue(N)}_setElementValue(N){this._renderer.setProperty(this._element.nativeElement,"value",N)}_setSelected(N){this._renderer.setProperty(this._element.nativeElement,"selected",N)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(te){return new(te||U)(P.rXU(P.aKT),P.rXU(P.sFG),P.rXU(gs,9))};static \u0275dir=P.FsC({type:U,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return U})();function Wr(U){return"number"==typeof U?U:parseFloat(U)}let qa=(()=>{class U{_validator=Gt;_onChange;_enabled;ngOnChanges(N){if(this.inputName in N){const te=this.normalizeInput(N[this.inputName].currentValue);this._enabled=this.enabled(te),this._validator=this._enabled?this.createValidator(te):Gt,this._onChange&&this._onChange()}}validate(N){return this._validator(N)}registerOnValidatorChange(N){this._onChange=N}enabled(N){return null!=N}static \u0275fac=function(te){return new(te||U)};static \u0275dir=P.FsC({type:U,features:[P.OA$]})}return U})();const dr={provide:mt,useExisting:(0,c.Rfq)(()=>Io),multi:!0};let Io=(()=>{class U extends qa{max;inputName="max";normalizeInput=N=>Wr(N);createValidator=N=>Ve(N);static \u0275fac=(()=>{let N;return function(_e){return(N||(N=P.xGo(U)))(_e||U)}})();static \u0275dir=P.FsC({type:U,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(te,_e){2&te&&P.BMQ("max",_e._enabled?_e.max:null)},inputs:{max:"max"},standalone:!1,features:[P.Jv_([dr]),P.Vt3]})}return U})();const Wu={provide:mt,useExisting:(0,c.Rfq)(()=>Kr),multi:!0};let Kr=(()=>{class U extends qa{min;inputName="min";normalizeInput=N=>Wr(N);createValidator=N=>Le(N);static \u0275fac=(()=>{let N;return function(_e){return(N||(N=P.xGo(U)))(_e||U)}})();static \u0275dir=P.FsC({type:U,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(te,_e){2&te&&P.BMQ("min",_e._enabled?_e.min:null)},inputs:{min:"min"},standalone:!1,features:[P.Jv_([Wu]),P.Vt3]})}return U})();const tc={provide:mt,useExisting:(0,c.Rfq)(()=>pr),multi:!0};let pr=(()=>{class U extends qa{required;inputName="required";normalizeInput=Te.L39;createValidator=N=>Fe;enabled(N){return N}static \u0275fac=(()=>{let N;return function(_e){return(N||(N=P.xGo(U)))(_e||U)}})();static \u0275dir=P.FsC({type:U,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(te,_e){2&te&&P.BMQ("required",_e._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[P.Jv_([tc]),P.Vt3]})}return U})(),Za=(()=>{class U{static \u0275fac=function(te){return new(te||U)};static \u0275mod=P.$C({type:U});static \u0275inj=c.G2t({})}return U})(),$u=(()=>{class U{static withConfig(N){return{ngModule:U,providers:[{provide:mn,useValue:N.callSetDisabledState??qi}]}}static \u0275fac=function(te){return new(te||U)};static \u0275mod=P.$C({type:U});static \u0275inj=c.G2t({imports:[Za]})}return U})(),nc=(()=>{class U{static withConfig(N){return{ngModule:U,providers:[{provide:he,useValue:N.warnOnNgModelWithFormControl??"always"},{provide:mn,useValue:N.callSetDisabledState??qi}]}}static \u0275fac=function(te){return new(te||U)};static \u0275mod=P.$C({type:U});static \u0275inj=c.G2t({imports:[Za]})}return U})()},75152(O,S,i){i.d(S,{A:()=>A});var P=i(26509);const A=function c(_){var v=new _.constructor(_.byteLength);return new P.A(v).set(new P.A(_)),v}},75182(O,S,i){i.d(S,{j:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Dragonfly";tier=4;pack="Custom";attack=4;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DragonflyAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,n=this.level,a=t.parent.petArray.filter(r=>r&&r.alive&&r!==t),l=new Map;for(const r of a)l.has(r.level)||l.set(r.level,r);if(0!==l.size){for(const r of l.values())r.increaseAttack(n),r.increaseHealth(n);this.logService.createLog({message:`${t.name} gave friends +${n}/+${n} based on unique levels.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},75191(O,S,i){i.d(S,{w:()=>e});var P=i(49230),c=i(46200),A=i(5615),_=i(33127),v=i(57235);class e extends c.i{logService;abilityService;name="Patagonian Mara";tier=3;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L){super(a,l,r),this.logService=a,this.abilityService=l,this.initPet(D,u,g,f,k,L)}}class t extends A.T{logService;constructor(a,l){super({name:"Patagonian Mara Ability",owner:a,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=l}executeAbility(a){const{tiger:l,pteranodon:r}=a,u=this.owner,g=u.parent,f=4*this.level;g.gainTrumpets(f,u,r);const D=_.I.getInjector().get(P.K),k=new v.K(this.logService,D,g,this.level,this.level);g.summonPet(k,u.position),this.logService.createLog({message:`${u.name} gained ${f} trumpets and summoned a Golden Retriever.`,type:"ability",player:g,tiger:l,pteranodon:r}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},75263(O,S,i){i.d(S,{B:()=>c});var P=i(22097);class c extends P.${name="Ambrosia";tier=4;equipmentClass="shield";power=8;originalPower=8;uses=1;originalUses=1}},75518(O,S,i){i.d(S,{j:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Saker Falcon";tier=2;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SakerFalconAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;if(r.parent.petArray.length<r.parent.opponent.petArray.length){let f=r.parent.getThis(r),D=f.pet;if(!D)return;let k=2*this.level;D.increaseAttack(k),D.increaseHealth(k),this.logService.createLog({message:`${r.name} gave ${D.name} ${k} attack and ${k} health (outnumbered)`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},75540(O,S,i){i.d(S,{P:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Starfish";tier=5;pack="Star";attack=3;health=7;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"StarfishAbility",owner:e,triggers:["FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=e.triggerPet;if(!n||3!==n.level)return void this.triggerTigerExecution(e);const a=n.attack>=10?3:1,l=this.level*a,r=t.parent.petArray.filter(u=>u.alive);for(const u of r)u.increaseAttack(l),u.increaseHealth(l);this.logService.createLog({message:`${t.name} gave friends +${l}/+${l}${a>1?" (triple bonus)":""}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},75738(O,S,i){i.d(S,{A:()=>v});var P=i(77107),A=Object.prototype.hasOwnProperty;const v=function _(e){var t=this.__data__;return P.A?void 0!==t[e]:A.call(t,e)}},75756(O,S,i){i.d(S,{A:()=>_});var P=i(45525),c=i(1860);const _=(0,P.A)(c.A,"WeakMap")},75818(O,S,i){i.d(S,{V:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Hamster";tier=5;pack="Star";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;usesThisTurn=0;constructor(e,t,n){super({name:"HamsterAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=2*this.level)return void this.triggerTigerExecution(e);this.usesThisTurn++;const n=this.owner;this.logService.createLog({message:`${n.name} gained a free roll.`,type:"ability",player:n.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},75898(O,S,i){i.d(S,{Q:()=>_});var P=i(22097),c=i(5615),A=i(3279);class _ extends P.${logService;name="Egg";tier=1;equipmentClass="beforeAttack";callback=t=>{const n=t.getEquippedEquipmentInstance(this);t.addAbility(new v(t,n))};constructor(t){super(),this.logService=t}}class v extends c.T{equipment;constructor(t,n){super({name:"EggAbility",owner:t,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=n}executeAbility(t){const{triggerPet:n}=t,a=this.owner;let l=this.equipment.multiplier;a instanceof A.D&&(l+=("Tiger"===n?.name?n.level:a.level)-1);for(let r=0;r<l;r++){let u=a.parent.opponent.petArray,g=null;for(let f of u)if(f.alive){g=f;break}null!=g&&a.snipePet(g,2,!1,!1,!1,!0,!1)}a.removePerk()}}},75970(O,S,i){i.d(S,{AT:()=>e,DQ:()=>t,Rd:()=>v,zq:()=>n});var P=i(61850),c=i(33524),A=i(33500),_=i(58857);const v=(a,l,r,u,g,f,D,k)=>{if(g&&(0,c.ku)(g)){const j=0===(0,_.k6)({key:"summon.silly-target-team",label:"Silly summon target team",options:[{id:"player",label:"Player team"},{id:"opponent",label:"Opponent team"}]},()=>(0,P.hw)(0,1)).index?a:a.opponent,J=(0,_.k6)({key:"summon.silly-position",label:"Silly summon position",options:[0,1,2,3,4].map(ie=>({id:`slot-${ie+1}`,label:`Slot ${ie+1}`}))},()=>(0,P.hw)(0,4)).index;return l.parent=j,{success:v(j,l,J,u,void 0,f,D,k).success,randomEvent:!0}}return r<0||r>4?(u||f.createLog({message:`No room to spawn ${l.name}!`,type:"ability",player:a}),{success:!1,randomEvent:!1}):u&&null!=a.getPet(r)?{success:!1,randomEvent:!1}:5===a.petArray.length?(u||f.createLog({message:`No room to spawn ${l.name}!`,type:"ability",player:a}),{success:!1,randomEvent:!1}):(a===k.gameApi.player?k.gameApi.playerSummonedAmount++:k.gameApi.opponentSummonedAmount++,0===r&&(null!=a.pet0&&(0,A.vI)(a,0),a.setPet(0,l)),1===r&&(null!=a.pet1&&(0,A.vI)(a,1),a.setPet(1,l)),2===r&&(null!=a.pet2&&(0,A.vI)(a,2),a.setPet(2,l)),3===r&&(null!=a.pet3&&(0,A.vI)(a,3),a.setPet(3,l)),4===r&&(null!=a.pet4&&(0,A.vI)(a,4),a.setPet(4,l)),D.triggerSummonEvents(l),{success:!0,randomEvent:!1})},e=(a,l,r,u,g)=>{const f=l?.parent??a;r.parent!==f&&(r.parent=f),f.setPet((()=>{for(let F=0;F<=4;F++)if(f.getPet(F)===l)return F;if(l?.transformedInto)for(let F=0;F<=4;F++)if(f.getPet(F)===l.transformedInto)return F;const L=Number(l?.savedPosition);if(Number.isInteger(L)&&L>=0&&L<=4)return L;for(let F=0;F<=4;F++)if(null==f.getPet(F))return F;return 0})(),r),f===g.gameApi.player?g.gameApi.playerTransformationAmount++:g.gameApi.opponentTransformationAmount++,l.transformed=!0,l.transformedInto=r,r.applyEquipment(r.equipment),u.triggerTransformEvents(l)},t=(a,l,r,u,g,f)=>{if(5===a.petArray.length)return u.createLog({message:`No room to spawn ${r.name}!`,type:"ability",player:a}),{success:!1,randomEvent:!1};let D=!1;for(let F=0;F<l.position;F++)if(null==a.getPet(F)){D=!0;break}if(D)return v(a,r,l.position-1,!1,l,u,g,f);const k=l.position,L=Math.min(k+1,4);return l.parent.setPet(k,null),null!=a.getPet(L)&&(0,A.Kw)(a,L),a.setPet(L,l),v(a,r,k,!1,l,u,g,f)},n=(a,l,r,u,g,f)=>{if(5===a.petArray.length)return u.createLog({message:`No room to spawn ${r.name}!`,type:"ability",player:a}),{success:!1,randomEvent:!1};let D=!1;for(let k=0;k<l.position;k++)if(null==a.getPet(k)){D=!0;break}if(D){const k=l.position;l.parent.setPet(k,null);const L=Math.max(k-1,0);return null!=a.getPet(L)&&(0,A.m3)(a,L),a.setPet(L,l),v(a,r,l.position+1,!1,l,u,g,f)}return v(a,r,l.position+1,!1,l,u,g,f)}},75998(O,S,i){i.d(S,{t:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Marmoset";tier=1;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"MarmosetAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} was sold and your ${1===n?"next roll is":`next ${n} rolls are`} free.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},76030(O,S,i){i.d(S,{w:()=>c});var P=i(22097);class c extends P.${equipmentClass="defense";name="Lime";tier=2;power=1;originalPower=1;callback=_=>{}}},76032(O,S,i){i.d(S,{G:()=>v,Y:()=>e});var P=i(57488),c=i(19058),A=i(50873),_=i(5615);class v extends A.L{name="Toilet Paper";tier=4;startOfBattle(n,a){let r=(0,P.a)(n,this.parent).petArray.filter(u=>"Weak"!=u.equipment?.name).slice(0,this.level);for(let u of r)u.givePetEquipment(new c.l),this.logService.createLog({message:`${this.name} gave ${u.name} Weak.`,type:"ability",player:this.parent,puma:a})}}class e extends _.T{logService;constructor(n,a){super({name:"ToiletPaperAbility",owner:n,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=a}executeAbility(n){const{tiger:r}=n,g=this.owner;let f=g.parent.opponent,D=g.parent.getPetsWithEquipmentWithSillyFallback("Weak",g),k=f.getFurthestUpPets(this.level,D,g),L=k.pets;if(0!=L.length){for(let F of L)F.givePetEquipment(new c.l),this.logService.createLog({message:`${g.name} gave ${F.name} Weak.`,type:"ability",player:g.parent,tiger:r,randomEvent:k.random});this.triggerTigerExecution(n)}}copy(n){return new e(n,this.logService)}}},76228(O,S,i){i.d(S,{q:()=>c});let P=(()=>{class A{constructor(v,e=A.now){this.SchedulerAction=v,this.now=e}schedule(v,e=0,t){return new this.SchedulerAction(this,v).schedule(t,e)}}return A.now=()=>Date.now(),A})();class c extends P{constructor(_,v=P.now){super(_,()=>c.delegate&&c.delegate!==this?c.delegate.now():v()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(_,v=0,e){return c.delegate&&c.delegate!==this?c.delegate.schedule(_,v,e):super.schedule(_,v,e)}flush(_){const{actions:v}=this;if(this.active)return void v.push(_);let e;this.active=!0;do{if(e=_.execute(_.state,_.delay))break}while(_=v.shift());if(this.active=!1,e){for(;_=v.shift();)_.unsubscribe();throw e}}}},76282(O,S,i){i.d(S,{a:()=>c});var P=i(22097);class c extends P.${name="Blackberry";tier=3;equipmentClass="shop";constructor(){super()}}},76325(O,S,i){i.d(S,{W:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Drop Bear";tier=2;pack="Unicorn";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DropBearAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>null==this.owner.parent.pet0,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;this.logService.createLog({message:`${r.name} pushed itself to the front.`,type:"ability",player:r.parent,tiger:a,pteranodon:l}),r.parent.pushPetToFront(r,!0);let u=3*this.level,g=r.parent.opponent.getLastPet();null!=g.pet&&(r.snipePet(g.pet,u,g.random,a),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},76350(O,S,i){i.d(S,{$:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Amazon River Dolphin";tier=4;pack="Danger";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AmazonRiverDolphinAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let u=r.parent.getSpecificPet(r,n.currentTarget),g=u.pet;if(g&&g.alive)r.snipePet(g,3*this.level,u.random,a);else{let f=r.parent.getThis(r),D=f.pet;if(!D)return;let k=3*this.level;D.increaseAttack(k),this.logService.createLog({message:`${r.name} gave ${D.name} ${k} attack`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},76351(O,S,i){i.d(S,{ZM:()=>a,eK:()=>n,gq:()=>t,rd:()=>l});var P=i(46200),c=i(57235),A=i(33524),_=i(75970),v=i(58857),e=i(61850);const t=(r,u)=>u&&(0,A.ku)(u)?{player:0===(0,v.k6)({key:"trumpets.silly-target-team",label:"Silly trumpet target team",options:[{id:"player",label:"Player team"},{id:"opponent",label:"Opponent team"}]},()=>(0,e.hw)(0,1)).index?r:r.opponent,random:!0}:{player:r,random:!1},n=(r,u,g,f,D,k,L,F)=>{r.trumpets=Math.min(50,r.trumpets+=u);let ee=g instanceof P.i&&null!=g.parent&&g.parent!==r?`${g.name} gave opponent ${u} trumpets. (${r.trumpets})`:`${g.name} gained ${u} trumpets. (${r.trumpets})`;L&&(ee+=" (Cherry)"),f.createLog({message:ee,type:"trumpets",player:r,pteranodon:D,pantherMultiplier:k,randomEvent:F})},a=(r,u,g,f,D)=>{r.trumpets=Math.max(0,r.trumpets-=u),f.createLog({message:`${g.name} spent ${u} trumpets. (${r.trumpets})`,type:"trumpets",player:r,pteranodon:D})},l=(r,u,g,f)=>{r.spawnedGoldenRetiever||r.petArray.length>1||0===r.trumpets||(u.setgoldenRetrieverSummonsEvent({priority:0,callback:(D,k,L)=>{const F=new c.K(g,u,r,r.trumpets,r.trumpets);g.createLog({message:`${r===k.player?"Player":"Opponent"} spawned Golden Retriever (${F.attack}/${F.health})`,type:"ability",player:r}),(0,_.Rd)(r,F,0,!1,void 0,g,u,f),r.trumpets=0}}),r.spawnedGoldenRetiever=!0)}},76413(O,S,i){i.d(S,{n:()=>Gt});var P=i(25479),c=i(1277),A=i(7390),_=i(92495),v=i(42727),e=i(96849),t=i(68169),n=i(25208),a=i(86610),l=i(87942),r=i(14218),u=i(86589),g=i(44870),f=i(6300),D=i(77262),k=i(97265),L=i(71322),F=i(9292),j=i(86909),ee=i(70458),J=i(95770),V=i(3273),ie=i(34748),oe=i(81740),ce=i(84375),ve=i(36578),Ee=i(87970),Te=i(61245),ke=i(66358),de=i(62023),Se=i(60397),Be=i(30639),Ne=i(67013),Ue=i(81946),lt=i(89579),it=i(49943),Ke=i(60190),qe=i(6425),_t=i(52573),pt=i(97280),tt=i(55541),gt=i(91298),at=i(79720),wt=i(94433),ut=i(36509),Ge=i(2525),Ot=i(86249),Qt=i(6050),mt=i(67319),Yt=i(76638),Et=i(39830),ge=i(65679),Le=i(92244),Ve=i(74384),Fe=i(28805),ot=i(23360),Ut=i(63198),Kt=i(21311),qt=i(18779),Vt=i(67902);const Gt={Ant:P.w,Cricket:c.y,Fish:A.T,Horse:_.W,Mosquito:v.w,Duck:e.e,Beaver:t.E,Otter:n.p,Pig:a.r,Pigeon:l.H,Snail:r.w,Crab:u.B,Swan:g.m,Rat:f.Y,Hedgehog:D.O,Peacock:k.z,Flamingo:L.g,Worm:F.C,Kangaroo:j.$,Spider:ee.c,Dodo:J.F,Badger:V.o,Dolphin:ie.V,Giraffe:oe.P,Elephant:ce.C,Camel:ve.v,Rabbit:Ee.Z,Ox:Te.Ox,Dog:ke.J,Sheep:de.c,Parrot:Se.f,Skunk:Be.b,Hippo:Ne.P,Bison:Ue.q,Blowfish:lt.d,Turtle:it.b,Squirrel:Ke.o,Penguin:qe.K,Deer:_t.N,Whale:pt.Uw,Scorpion:tt.G,Crocodile:gt.J,Rhino:at.M,Monkey:wt.P,Armadillo:ut.y,Cow:Ge._,Seal:Ot.Q,Rooster:Qt.p,Shark:mt.S,Turkey:Yt.z,Leopard:Et.U,Boar:ge.v,Tiger:Le._,Wolverine:Ve.Y,Gorilla:Fe.x,Dragon:ot.A,Mammoth:Ut.G,Cat:Kt.F,Snake:qt.Z,Fly:Vt.S}},76483(O,S,i){i.d(S,{e:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Crow";tier=4;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"CrowAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked one ${1===this.level?"Chocolate":2===this.level?"Better Chocolate":"Best Chocolate"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},76563(O,S,i){i.d(S,{V:()=>v});var P=i(46200),c=i(68169),A=i(96849),_=i(5615);class v extends P.i{logService;abilityService;name="Platypus";tier=4;pack="Star";attack=2;health=2;initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends _.T{logService;abilityService;constructor(n,a,l){super({name:"PlatypusAbility",owner:n,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=a,this.abilityService=l}executeAbility(n){const{tiger:r,pteranodon:u}=n,g=this.owner;let f=3*this.level,D=2*this.level,k=new A.e(this.logService,this.abilityService,g.parent,D,f,0,this.minExpForLevel),L=new c.E(this.logService,this.abilityService,g.parent,D,f,0,this.minExpForLevel),F=g.parent.summonPet(k,g.savedPosition,!1,g);F.success&&this.logService.createLog({message:`${g.name} spawned ${f}/${D} Duck level ${this.level}`,type:"ability",player:g.parent,tiger:r,pteranodon:u,randomEvent:F.randomEvent});let j=g.parent.summonPet(L,g.savedPosition,!1,g);j.success&&this.logService.createLog({message:`${g.name} spawned ${f}/${D} Beaver level ${this.level}`,type:"ability",player:g.parent,tiger:r,pteranodon:u,randomEvent:j.randomEvent}),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},76638(O,S,i){i.d(S,{z:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Turkey";tier=5;pack="Turtle";attack=3;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"TurkeyAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:l,pteranodon:r}=t,u=this.owner,g={attack:3*this.level,health:1*this.level},f=(0,A.Uj)(u,a);if(!f.pet)return;const D=f.pet;D.increaseAttack(g.attack),D.increaseHealth(g.health),(0,A.rv)(this.logService,u,`${u.name} gave ${D.name} ${g.attack} attack and ${g.health} health.`,l,r,{randomEvent:f.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},77107(O,S,i){i.d(S,{A:()=>A});const A=(0,i(45525).A)(Object,"create")},77226(O,S,i){i.d(S,{K:()=>_,w:()=>A});var P=i(50873),c=i(5615);class A extends P.L{name="Oven Mitts";tier=4;onBreak(e){}}class _ extends c.T{logService;constructor(e,t){super({name:"OvenMittsAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){}copy(e){return new _(e,this.logService)}}},77262(O,S,i){i.d(S,{O:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Hedgehog";tier=2;pack="Turtle";attack=4;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"HedgehogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=r.parent.getAll(!0,r),g=u.pets;if(0==g.length)return;let f=2*this.level;for(let D of g)r.snipePet(D,f,u.random,a,l);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},77312(O,S,i){i.d(S,{j:()=>A});var P=i(70762),c=i(31805);function A(e){return t=>t.lift(new _(e))}class _{constructor(t){this.callback=t}call(t,n){return n.subscribe(new v(t,this.callback))}}class v extends P.v{constructor(t,n){super(t),this.add(new c.y(n))}}},77348(O,S,i){i.d(S,{I:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Hermit Crab";tier=1;pack="Custom";attack=1;health=4;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},77392(O,S,i){i.d(S,{_:()=>_});var P=i(46200),c=i(5615),A=i(6550);class _ extends P.i{logService;abilityService;petService;name="Abomination";tier=4;pack="Unicorn";attack=6;health=5;initAbilities(){this.addAbility(new v(this,this.logService,this.petService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D,k,L,F,j,ee,J,V,ie,oe,ce){super(t,n,l),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,u,g,D,k),this.abominationSwallowedPet1=L,this.abominationSwallowedPet2=F,this.abominationSwallowedPet3=j,this.abominationSwallowedPet1Level=ee??1,this.abominationSwallowedPet2Level=J??1,this.abominationSwallowedPet3Level=V??1,this.abominationSwallowedPet1TimesHurt=ie??0,this.abominationSwallowedPet2TimesHurt=oe??0,this.abominationSwallowedPet3TimesHurt=ce??0}}class v extends c.T{logService;petService;constructor(t,n,a){super({name:"AbominationAbility",owner:t,triggers:["EndTurn","SpecialEndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.petService=a}executeAbility(t){const{gameApi:n,triggerPet:a,tiger:l,pteranodon:r}=t,u=this.owner,g=this.level,f=J=>{const V={};for(const ie of A.uF){const oe=J.nested(ie),ce=(0,A.AV)("parrotCopyPetAbominationSwallowedPet",ie);V[ce.base]=(0,A.yo)(u,oe.base,null),V[ce.belugaSwallowedPet]=(0,A.yo)(u,oe.belugaSwallowedPet,null),V[ce.sarcasticFringeheadSwallowedPet]=(0,A.yo)(u,oe.sarcasticFringeheadSwallowedPet,null),V[ce.level]=(0,A.aA)(u,oe.level,1),V[ce.timesHurt]=(0,A.aA)(u,oe.timesHurt,0)}return V},D=J=>{const V={};for(const ie of A.uF){const oe=(0,A.AV)("parrotCopyPetAbominationSwallowedPet",ie);V[oe.base]=J[oe.base]??void 0,V[oe.belugaSwallowedPet]=J[oe.belugaSwallowedPet]??void 0,V[oe.sarcasticFringeheadSwallowedPet]=J[oe.sarcasticFringeheadSwallowedPet]??void 0,V[oe.level]=J[oe.level]??void 0,V[oe.timesHurt]=J[oe.timesHurt]??void 0}return V},L=J=>{(0,A.H6)(u,"parrotCopyPet",J.parrotCopyPet??null),(0,A.H6)(u,"parrotCopyPetBelugaSwallowedPet",J.parrotCopyPetBelugaSwallowedPet??null);for(const V of A.uF){const ie=(0,A.AV)("parrotCopyPetAbominationSwallowedPet",V);(0,A.H6)(u,ie.base,(0,A.yo)(J,ie.base,null)),(0,A.H6)(u,ie.belugaSwallowedPet,(0,A.yo)(J,ie.belugaSwallowedPet,null)),(0,A.H6)(u,ie.sarcasticFringeheadSwallowedPet,(0,A.yo)(J,ie.sarcasticFringeheadSwallowedPet,null)),(0,A.Ls)(u,ie.level,(0,A.aA)(J,ie.level,1)),(0,A.Ls)(u,ie.timesHurt,(0,A.aA)(J,ie.timesHurt,0))}},j=A.uF.map(J=>(J=>{const V=(0,A.AV)("abominationSwallowedPet",J);return{name:(0,A.yo)(u,V.base,null),level:(0,A.aA)(u,V.level,1),timesHurt:(0,A.aA)(u,V.timesHurt,0),belugaSwallowedPet:(0,A.yo)(u,V.belugaSwallowedPet,null),sarcasticFringeheadSwallowedPet:(0,A.yo)(u,V.sarcasticFringeheadSwallowedPet,null),parrotCopyPet:(0,A.yo)(u,V.parrotCopyPet,null),parrotCopyPetBelugaSwallowedPet:(0,A.yo)(u,V.parrotCopyPetBelugaSwallowedPet,null),...f(V)}})(J)).filter(J=>null!=J.name).slice(0,g);let ee=j;l&&j.length>0&&(ee=j.slice(0,1));for(let J of ee){if(!J.name)continue;const V=J.name,ie="Parrot"===V?D(J):{},oe={attack:0,health:0,mana:0,equipment:null,name:V,exp:0,timesHurt:J.timesHurt??0,belugaSwallowedPet:"Beluga Whale"===V?(0,A.yo)(J,"belugaSwallowedPet",null)??void 0:void 0,sarcasticFringeheadSwallowedPet:"Sarcastic Fringehead"===V?(0,A.yo)(J,"sarcasticFringeheadSwallowedPet",null)??void 0:void 0,parrotCopyPet:"Parrot"===V?(0,A.yo)(J,"parrotCopyPet",null)??void 0:void 0,parrotCopyPetBelugaSwallowedPet:"Parrot"===V?(0,A.yo)(J,"parrotCopyPetBelugaSwallowedPet",null)??void 0:void 0};Object.assign(oe,ie);let ce=this.petService.createPet(oe,u.parent);if(!ce)continue;"Beluga Whale"===V&&(u.belugaSwallowedPet=J.belugaSwallowedPet??null),"Sarcastic Fringehead"===V&&(u.sarcasticFringeheadSwallowedPet=J.sarcasticFringeheadSwallowedPet??null),"Parrot"===V&&L(J),u.removeAbility("AbominationAbility");const ve=u.abilityList.length;if(u.gainAbilities(ce,"Pet",J.level??1),"Parrot"===V){const Ee=u.abilityList.slice(ve).filter(Te=>"ParrotAbility"===Te.name);for(const Te of Ee)Te.execute(n,a,l,r)}}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.petService)}}},77437(O,S,i){i.d(S,{A:()=>c});const c=function P(A){var _=this.__data__,v=_.delete(A);return this.size=_.size,v}},77648(O,S,i){i.d(S,{a:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Black Rhino";tier=6;pack="Danger";attack=5;health=9;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BlackRhinoAbility",owner:e,triggers:["EnemyAttacked7"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let g=r.parent.opponent.getHighestHealthPets(r.level,[],r),f=g.pets;for(let D of f)r.snipePet(D,30,g.random,a);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},77856(O,S,i){i.d(S,{BR:()=>g,Ff:()=>r,IR:()=>u,WB:()=>f,dK:()=>a,oc:()=>l});var P=i(42280),c=i(61850),A=i(33524),_=i(58857);function e(D){return D?`${D.parent?.isOpponent?"O":"P"}${Number.isFinite(D.savedPosition)?D.savedPosition+1:0} ${D.name}`:"unknown caller"}function t(D){const k=D.some(F=>!F.parent?.isOpponent),L=D.some(F=>F.parent?.isOpponent);return k&&L?"both teams":L?"opponent team":"player team"}function n(D,k,L,F){if(0===L.length)return{pet:null,random:!1};const j=(0,_.k6)({key:D,label:`${e(F)} -> ${k} (${t(L)}, ${L.length} options)`,options:L.map(ee=>function v(D){const k=D.parent?.isOpponent?"opponent":"player",L=D.parent?.isOpponent?"O":"P",F=Number.isFinite(D.savedPosition)?D.savedPosition+1:0;return{id:`${k}:${F}:${D.name}`,label:`${L}${F} ${D.name}`}}(ee))},()=>(0,c.hw)(0,L.length-1));return{pet:L[j.index]??null,random:j.randomEvent}}const a=(D,k,L,F,j,ee,J)=>{if(ee&&(0,A.ku)(ee)){const ie=k?[...k]:[];return ie.includes(ee)||ie.push(ee),f(D,ie,!0)}let V=J?[...D.opponent.petArray,...D.petArray]:D.petArray;if(L&&F){const ie=(0,A.Rr)(D,"Donut").filter(ce=>!k?.includes(ce)),oe=(0,A.Rr)(D,"Blueberry").filter(ce=>!k?.includes(ce));(ie.length>0||oe.length>0)&&(V=[...ie,...oe])}else if(L){const ie=(0,A.Rr)(D,"Donut").filter(oe=>!k?.includes(oe));ie.length>0&&(V=ie),j&&(V=V.filter(oe=>50!==oe.health||50!==oe.attack||oe.hasTrigger(void 0,"Pet","BehemothAbility")||oe.hasTrigger(void 0,"Pet","GiantTortoiseAbility")),0===V.length&&(V=D.petArray))}else if(F){const ie=(0,A.Rr)(D,"Blueberry").filter(oe=>!k?.includes(oe));ie.length>0&&(V=ie)}if(V=V.filter(ie=>{let oe=!0;return k&&(oe=!k.includes(ie)),oe&&ie.health>0}),j){const ie=(0,P.A)(V);V=V.filter(oe=>50!==oe.health||50!==oe.attack),0===V.length&&(V=ie)}return 0===V.length?{pet:null,random:!1}:n("target.random-pet","Random pet target",V,ee)},l=(D,k,L,F,j,ee,J)=>{if(ee&&(0,A.ku)(ee)){const ce=L?[...L]:[];return ce.includes(ee)||ce.push(ee),g(D,k,!0,ce)}const V=[],ie=L??[];let oe=!0;for(let ce=0;ce<k;ce++){const ve=a(D,ie,F,j,void 0,ee,J);if(oe=ve.random,null==ve.pet)break;ie.push(ve.pet),V.push(ve.pet)}return{pets:V,random:oe}},r=(D,k,L,F,j,ee)=>{if(ee&&(0,A.ku)(ee)){const J=L?[...L]:[];return J.includes(ee)||J.push(ee),l(D,k,J,F,j,void 0,!0)}return l(D.opponent,k,L,F,j,ee)},u=(D,k,L)=>L&&(0,A.ku)(L)?[...(0,A.Rr)(D,k),...(0,A.Rr)(D.opponent,k)]:(0,A.Rr)(D.opponent,k),g=(D,k,L=!1,F)=>{const j=[],ee=F?[...F]:[],V=(ie=>{let oe=[...D.petArray,...D.opponent.petArray];if(!L){const ce=(0,A.Rr)(D,"Donut").filter(ke=>!ie?.includes(ke)),ve=(0,A.Rr)(D,"Blueberry").filter(ke=>!ie?.includes(ke)),Ee=(0,A.Rr)(D.opponent,"Donut").filter(ke=>!ie?.includes(ke)),Te=(0,A.Rr)(D.opponent,"Blueberry").filter(ke=>!ie?.includes(ke));(ce.length>0||ve.length>0||Ee.length>0||Te.length>0)&&(oe=[...ce,...ve,...Ee,...Te])}return oe.filter(ce=>{let ve=!0;return ie&&(ve=!ie.includes(ce)),ve&&ce.health>0})})(ee).length;for(let ie=0;ie<k;ie++){const oe=f(D,ee,L);if(null==oe.pet)break;ee.push(oe.pet),j.push(oe.pet)}return{pets:j,random:V>j.length}},f=(D,k,L=!1)=>{let F=[...D.opponent.petArray,...D.petArray];if(!L){const j=(0,A.Rr)(D,"Donut").filter(ie=>!k?.includes(ie)),ee=(0,A.Rr)(D,"Blueberry").filter(ie=>!k?.includes(ie)),J=(0,A.Rr)(D.opponent,"Donut").filter(ie=>!k?.includes(ie)),V=(0,A.Rr)(D.opponent,"Blueberry").filter(ie=>!k?.includes(ie));(j.length>0||ee.length>0||J.length>0||V.length>0)&&(F=[...J,...V,...j,...ee])}return F=F.filter(j=>{let ee=!0;return k&&(ee=!k.includes(j)),ee&&j.health>0}),0===F.length?{pet:null,random:!1}:n("target.random-living-pet","Random living pet target",F,void 0)}},77901(O,S,i){i.d(S,{A:()=>_});var P=i(30554),c=Object.create;const _=function(){function v(){}return function(e){if(!(0,P.A)(e))return{};if(c)return c(e);v.prototype=e;var t=new v;return v.prototype=void 0,t}}()},78167(O,S,i){i.d(S,{m:()=>A});var P=i(55241);function A(_){return 0===_.length?P.D:1===_.length?_[0]:function(e){return _.reduce((t,n)=>n(t),e)}}},78229(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Goldfish";tier=2;pack="Puppy";attack=1;health=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"GoldfishAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;t.increaseSellValue(this.level),this.logService.createLog({message:`${t.name} increased its sell value by ${this.level}.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},78257(O,S,i){i.d(S,{A:()=>_});var P=i(45525),c=i(1860);const _=(0,P.A)(c.A,"DataView")},78305(O,S,i){i.d(S,{A:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pixiu";tier=5;pack="Unicorn";attack=5;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PixiuAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;r.mana<4||(this.logService.createLog({message:`${r.name} spent 4 mana and gained ${3*this.level} gold for next turn.`,type:"ability",player:r.parent,tiger:a}),r.mana-=4,this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},78311(O,S,i){i.d(S,{n:()=>c});var P=i(62223);function c(_,v,e,t){let n="";_.toy&&(n+=`{{toy:${_.toy.name}}} `),_.hardToy&&(n+=`{{hardtoy:${_.hardToy.name}}} `),n+=A(_.pet4,e,t),n+=A(_.pet3,e,t),n+=A(_.pet2,e,t),n+=A(_.pet1,e,t),n+=A(_.pet0,e,t);let a="";return a+=A(v.pet0,e,t),a+=A(v.pet1,e,t),a+=A(v.pet2,e,t),a+=A(v.pet3,e,t),a+=A(v.pet4,e,t),v.toy&&(a+=`{{toy:${v.toy.name}}} `),v.hardToy&&(a+=`{{hardtoy:${v.hardToy.name}}} `),`${n}| ${a}`}function A(_,v,e){if(null==_)return"___ (-/-) ";const t=v(_),n=null!=t?`${_.parent?.isOpponent?"O":"P"}${t} `:"",a=(0,P.EA)(_.name),l=a?`<img src="${a}" class="log-pet-icon" alt="${_.name}">`:"",r="string"==typeof _.equipment?.name?_.equipment.name:null,u=r?(()=>{const D=e(r),k=(0,P.ht)(r,D)??(0,P.ht)(r,!D);if(!k)return"";const L=(0,P.ht)(r,!D);return`<img src="${k}" class="log-inline-icon" alt="${r}" onerror="if(!this.dataset.step){${L?`this.dataset.step='1';this.src='${L}';`:"this.dataset.step='1';"}return;}this.remove()">`})():"",g=Number.isFinite(_.mana)?Math.max(0,Math.trunc(_.mana)):0;return`${n}${l}${u}(${_.attack}/${_.health}/${_.exp}xp${g>0?`/${g}mana`:""}) `}},78435(O,S,i){i.d(S,{M:()=>A});var P=i(48576),c=i(50873);class A extends c.L{name="Onesie";tier=1;startOfBattle(v,e){const t=[];for(let n=0;n<2;n++){const a=this.parent.getRandomPet(t);if(!a.pet)return;t.push(a.pet),a.pet.givePetEquipment(new P.b),this.logService.createLog({message:`${this.name} gave ${a.pet.name} Cold.`,type:"ability",player:this.parent,puma:e,randomEvent:a.random})}}}},78440(O,S,i){i.d(S,{r:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Cone Snail";tier=1;pack="Golden";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ConeSnailAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.nearestPetsBehind(1,r);if(0===u.pets.length)return;let g=u.pets[0],f=2*this.level;g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},78477(O,S,i){i.d(S,{u:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Adult Flounder";tier=1;pack="Custom";hidden=!0;attack=2;health=4;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},78480(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pengobble";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PengobbleAbility",owner:e,triggers:["ThisGainedMana"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner,u=2*this.level;let g=r.parent.getThis(r),f=g.pet;null!=f&&(this.logService.createLog({message:`${r.name} gave ${f.name} an extra ${u} bonus mana.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),r.mana+=u,this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},78500(O,S,i){i.d(S,{c:()=>v});var P=i(46200),c=i(5615),A=i(56979),_=i(17385);class v extends P.i{logService;abilityService;name="Pangasius";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends c.T{logService;constructor(n,a){super({name:"Pangasius Ability",owner:n,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:l=>this.executeAbility(l)}),this.logService=a}executeAbility(n){const{tiger:a,pteranodon:l}=n,r=this.owner,u=this.getFriendWithAilment(r.parent),g=this.getFirstEnemy(r.parent.opponent);if(!g)return void this.triggerTigerExecution(n);const f=this.level,D=u?.equipment??new A.E,k=(0,_.e)(D);if(!k)return void this.triggerTigerExecution(n);f>1&&(k.multiplier=f,k.multiplierMessage=` x${f} (Pangasius)`),g.givePetEquipment(k);const L=["copied","copied with double effect","copied with triple effect"],F=L[Math.min(f,L.length)-1];this.logService.createLog({message:`${r.name} ${F} ${u?`${u.name}'s ${D?.name}`:D?.name} onto ${g.name}.`,type:"ability",player:r.parent,tiger:a,pteranodon:l}),this.triggerTigerExecution(n)}getFriendWithAilment(n){return n.petArray.filter(l=>l.alive&&l.equipment&&this.isAilmentEquipment(l.equipment)).sort((l,r)=>l.position-r.position)[0]??null}getFirstEnemy(n){return n.petArray.find(a=>a.alive)??null}isAilmentEquipment(n){return"ailment-attack"===n.equipmentClass||"ailment-defense"===n.equipmentClass||"ailment-other"===n.equipmentClass}copy(n){return new e(n,this.logService)}}},78708(O,S,i){i.d(S,{u:()=>A,y:()=>_});var P=i(50873),c=i(5615);class A extends P.L{name="Crystal Ball";tier=1;startOfBattle(e,t){let n=this.parent.petArray[0];null!=n&&(this.logService.createLog({message:`${this.name} gave ${n.name} ${this.level} mana.`,type:"ability",player:this.parent,puma:t,randomEvent:!1}),n.increaseMana(this.level))}}class _ extends c.T{logService;constructor(e,t){super({name:"CrystalBallAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.getFurthestUpPet(r),g=u.pet;if(null==g)return;let f=2*this.level;g.increaseMana(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} mana.`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},78833(O,S,i){i.d(S,{A_:()=>a,JX:()=>t,Kq:()=>e,YW:()=>l});var P=i(6550);const e=(()=>{const r=["parrotCopyPet","parrotCopyPetBelugaSwallowedPet"];for(const u of P.uF){const g=(0,P.AV)("parrotCopyPetAbominationSwallowedPet",u);r.push(g.base,g.belugaSwallowedPet,g.sarcasticFringeheadSwallowedPet,g.level,g.timesHurt,g.parrotCopyPet,g.parrotCopyPetBelugaSwallowedPet);for(const f of P.uF){const D=g.nested(f);r.push(D.base,D.belugaSwallowedPet,D.sarcasticFringeheadSwallowedPet,D.level,D.timesHurt)}}return r})(),t=(()=>{const r=[];for(const u of P.uF){const g=(0,P.AV)("abominationSwallowedPet",u);r.push(g.belugaSwallowedPet,g.sarcasticFringeheadSwallowedPet,g.parrotCopyPet,g.parrotCopyPetBelugaSwallowedPet);for(const f of P.uF){const D=g.nested(f);r.push(D.base,D.belugaSwallowedPet,D.sarcasticFringeheadSwallowedPet,D.level,D.timesHurt)}}return r})(),n=(r,u)=>{if(null==u||"string"==typeof u&&""===u.trim())return!1;const g=String(r);if(g.endsWith("Level")){const f="number"==typeof u?u:Number(u);return!!Number.isFinite(f)&&1!==f}if(g.endsWith("TimesHurt")){const f="number"==typeof u?u:Number(u);return!!Number.isFinite(f)&&0!==f}return!0};function a(r,u){const g=r;for(const f of u){const D=g[String(f)];if(n(f,D))return!0}return!1}function l(r,u,g){const f=u,D=r;for(const k of g){const L=String(k),F=f[L];if(null!=F){D[L]=F;continue}const j=L;D[L]=j.endsWith("Level")?1:j.endsWith("TimesHurt")?0:null}}},78848(O,S,i){i.d(S,{F:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Trout";tier=4;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Trout Ability",owner:e,triggers:["FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=e.triggerPet;if(!n||n.sellValue<3)return void this.triggerTigerExecution(e);const a=Math.max(1,this.level),l=2*a;t.increaseAttack(a),t.increaseHealth(l),this.logService.createLog({message:`${t.name} gained +${a}/+${l} after ${n.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},79099(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Jellyfish";tier=2;pack="Star";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"JellyfishAbility",owner:e,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.getThis(r),g=u.pet;if(null==g)return;let f=this.level;g.increaseAttack(f),g.increaseHealth(f),this.logService.createLog({message:`${r.name} gave ${g.name} attack by ${f} and health by ${f}`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},79222(O,S,i){function P(A,_,v){const e=`${_??""}`.trim()||"Random event",t=Number.isFinite(v)&&Number(v)>0?` ${Math.trunc(Number(v))}`:"";if(!A)return`${e}${t}`;const a=A.savedPosition??A.position??Number.NaN;return`(${A.parent?.isOpponent?"O":"P"}${Number.isFinite(a)?Math.trunc(a)+1:0}) ${e}${t}`}function c(A,_,v,e){const t=`${_??""}`.trim()||"Equipment",n=`${v??""}`.trim()||"random event",a=Number.isFinite(e)&&Number(e)>0?` ${Math.trunc(Number(e))}`:"";if(!A)return`${t} ${n}${a}`;const r=A.savedPosition??A.position??Number.NaN;return`(${A.parent?.isOpponent?"O":"P"}${Number.isFinite(r)?Math.trunc(r)+1:0}) ${t} (${`${A.name??""}`.trim()||"Unknown"}) ${n}${a}`}i.d(S,{I:()=>P,R:()=>c})},79257(O,S,i){i.d(S,{r:()=>_});var P=i(22097),c=i(5615),A=i(7390);class _ extends P.${logService;abilityService;name="Cod Roe";equipmentClass="afterFaint";callback=t=>{const n=t.getEquippedEquipmentInstance(this);t.addAbility(new v(t,n,this.logService,this.abilityService))};constructor(t,n){super(),this.logService=t,this.abilityService=n}}class v extends c.T{equipment;logService;abilityService;constructor(t,n,a,l){super({name:"CodRoeAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=n,this.logService=a,this.abilityService=l}executeAbility(t){const n=this.owner;for(let a=0;a<this.equipment.multiplier;a++){let l=new A.T(this.logService,this.abilityService,n.parent,3,2,0,0);n.parent.summonPet(l,n.savedPosition).success&&this.logService.createLog({message:`${n.name} spawned ${l.name} (Cod Roe)${a>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:n.parent})}}}},79323(O,S,i){i.d(S,{k:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Leafy Sea Dragon";tier=4;pack="Custom";attack=7;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Leafy Sea Dragon Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,l=this.owner,r=this.level,u=(0,A.MZ)(l);u.forEach(f=>{f.increaseExp(r)}),l.health=0,l.parent.handleDeath(l),l.parent.removeDeadPets(),(0,A.rv)(this.logService,l,`${l.name} gave ${u.length} adjacent friend${1===u.length?"":"s"} +${r} experience and removed itself.`,n,a),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},79340(O,S,i){i.d(S,{M:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Yellow Boxfish";tier=6;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"YellowBoxfishAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,l=a.parent.getAll(!0,a).pets.filter(f=>f&&f.alive&&f!==a);if(0===l.length)return void this.triggerTigerExecution(e);const u=[...l].sort((f,D)=>D.attack+D.health-(f.attack+f.health)).slice(0,this.level);if(0===u.length)return void this.triggerTigerExecution(e);for(const f of u)f.attack=20,f.health=20;const g=u.map(f=>f.name).join(", ");this.logService.createLog({message:`${a.name} set ${g} to 20/20 at faint.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},79520(O,S,i){i.d(S,{u:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Clownfish";tier=4;pack="Star";attack=3;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"ClownfishAbility",owner:t,triggers:["FriendlyLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:t.level,precondition:a=>{const{triggerPet:l}=a,g=(0,A.lK)(this.owner,l).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:l}=t,u=this.owner;let g=(0,A.lK)(u,a),f=g.pet;if(null==f)return;let D=2*this.level;f.increaseAttack(D),f.increaseHealth(D),this.logService.createLog({message:`${u.name} gave ${f.name} ${D} attack and ${D} health.`,type:"ability",player:u.parent,tiger:l,randomEvent:g.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},79720(O,S,i){i.d(S,{M:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Rhino";tier=5;pack="Turtle";attack=6;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"RhinoAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.opponent.getFurthestUpPet(r),g=u.pet;if(null==g)return;let f=4*this.level;1==g.tier&&(f*=2),r.snipePet(g,f,u.random,a),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},79770(O,S,i){i.d(S,{u:()=>_});var P=i(46200),c=i(5615),A=i(26624);class _ extends P.i{logService;abilityService;name="Orchid Mantis";tier=5;pack="Puppy";attack=8;health=4;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"OrchidMantisAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l}=t,u=this.owner;let g=Math.min(Math.floor(u.attack*(.4*this.level)),50),f=Math.min(Math.floor(u.health*(.4*this.level)),50),D=new A.L(this.logService,this.abilityService,u.parent,f,g,0,this.minExpForLevel,null),k=u.parent.summonPetInFront(u,D);k.success&&this.logService.createLog({message:`${u.name} spawned Mantis ${D.attack}/${D.health}.`,type:"ability",player:u.parent,tiger:l,randomEvent:k.randomEvent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},79928(O,S,i){i.d(S,{t:()=>A});var P=i(45286),c=i(2145);class A extends P.B7{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const e=super._subscribe(v);return e&&!e.closed&&v.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new c.P;return this._value}next(v){super.next(this._value=v)}}},80128(O,S,i){i.d(S,{w:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Anglerfish";tier=6;pack="Puppy";attack=7;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"AnglerfishAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} stocked a free pet from the last opponent ${1===n?"once":2===n?"twice":"thrice"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},80152(O,S,i){i.d(S,{O:()=>a});var P=i(59374),c=i(607),A=i(18060),_=i(38950),v=i(55786),e=i(92101),t=i(38350),n=i(61850);class a extends t.Z{initAbilities(){this.initAbilityUses(),this.setAbilityEquipments()}abilityValidCheck(){return!(null==this.savedPosition||this.equipment instanceof P.x&&(this.logService.createLog({message:`${this.name}'s ability was not activated because of Dazed.`,type:"ability",player:this.parent}),1))}resetAbilityUses(){this.abilityList.forEach(r=>{r.reset()})}initAbilityUses(){this.abilityList.forEach(r=>{r.initUses()})}attackPet(r,u=!1,g,f=!1){(0,v.uL)(this.asPet(),r,u,g,f)}applyCrisp(){const r=this.parent,u=r?.opponent;if(!r||!u)return;const g=u.getManticoreMult();for(let f of r.petArray)f.equipment instanceof c.Y?_.w.applyDamage({pet:f,baseDamage:6,perkName:"Crisp",manticoreMultipliers:g,logService:this.logService,afterDamage:D=>D.removePerk()}):f.equipment instanceof A.V&&f.equipment.uses>0&&_.w.applyDamage({pet:f,baseDamage:1,perkName:"Toasty",manticoreMultipliers:g,logService:this.logService,afterDamage:D=>{D.equipment.uses--,D.equipment.uses<=0&&D.removePerk()}})}snipePet(r,u,g,f,D,k,L,F,j){return(0,v.hA)(this.asPet(),r,u,g,f,D,k,L,F,j)}calculateDamage(r,u,g,f=!1){return(0,v.ST)(this.asPet(),r,u,g,f)}resetPet(){(0,e.O)(this.asPet())}jumpAttackPrep(r){this.abilityService.triggerBeforeAttackEvent(this),this.abilityService.triggerBeforeAttackEvent(r),this.abilityService.executeBeforeAttackTriggerOnly()}jumpAttack(r,u,g,f=!1){(0,v.jb)(this.asPet(),r,u,g,f)}get alive(){return this.health>0}setFaintEventIfPresent(){if(this.abilityService.triggerFaintEvents(this),this.mana>0){if(this.suppressManaSnipeOnFaint)return;this.abilityService.setManaEvent({priority:this.attack,callback:(r,u,g,f)=>{if(0==this.mana||this.kitsuneCheck())return;const k=this.parent.opponent.getRandomPet([],!1,!0,!1,this.asPet());null!=k.pet&&(this.snipePet(k.pet,this.mana,k.random,!1,!1,!1,!0),this.mana=0)},pet:this,triggerPet:this,tieBreaker:(0,n.Ak)()})}}useDefenseEquipment(r=!1){this.canConsumeDefenseEquipment(r)&&(this.equipment.uses-=1,this.equipment.uses<=0&&this.removePerk())}useAttackDefenseEquipment(){this.canConsumeAttackDefenseEquipment()&&(this.equipment.uses-=1,this.equipment.uses<=0&&this.removePerk())}increaseAttack(r){let u=50;if("Behemoth"==this.name&&(u=100),r>0&&"Sad"===this.equipment?.name||!this.alive)return 0;const g=this.attack;return this.attack=Math.min(Math.max(this.attack+r,1),u),this.attack-g}increaseHealth(r){let u=50;if(("Behemoth"==this.name||"Giant Tortoise"==this.name)&&(u=100),r>0&&"Sad"===this.equipment?.name||!this.alive)return 0;const g=this.health;return this.health=Math.min(Math.max(this.health+r,1),u),this.abilityService.triggerFriendGainsHealthEvents(this),this.health-g}increaseSellValue(r){r<=0||(this.sellValue+=r)}dealDamage(r,u){u>0&&"Kiwano"===this.equipment?.name&&(u+=8,this.logService.createLog({message:`${this.name} added +8 damage. (Kiwano)`,type:"equipment",player:this.parent}),this.removePerk()),(0,v.su)(this.asPet(),r,u)}triggerHurtEventsFor(r,u){this.abilityService.triggerHurtEvents(r,u)}triggerKillEventsFor(r){this.abilityService.triggerKillEvents(this,r)}triggerAttackEventsFor(){this.abilityService.triggerAttacksEvents(this)}executeAfterAttackEvents(){this.abilityService.executeAfterAttackEvents()}triggerJumpEventsFor(){this.abilityService.triggerJumpEvents(this)}createLog(r){this.logService.createLog(r)}increaseExp(r){let u=this.level;this.increaseAttack(r),this.increaseHealth(r),this.exp=Math.min(this.exp+r,5);let g=this.level-u;g>0&&(this.baseSellValue+=g,this.sellValue+=g);for(let f=0;f<g;f++)this.logService.createLog({message:`${this.name} leveled up to level ${this.level}.`,type:"ability",player:this.parent}),this.abilityService.triggerLevelUpEvents(this),this.abilityService.executeFriendlyLevelUpToyEvents(),this.resetAbilityUses();for(let f=0;f<Math.min(r,5);f++)this.abilityService.triggerFriendGainedExperienceEvents(this)}increaseMana(r){this.mana+=r,this.mana=Math.min(this.mana,50),this.abilityService.triggerManaGainedEvents(this)}get level(){return this.exp<2?1:this.exp<5?2:3}get position(){const r=this.parent;return r?this.asPet()==r.pet0?0:this.asPet()==r.pet1?1:this.asPet()==r.pet2?2:this.asPet()==r.pet3?3:this.asPet()==r.pet4?4:this.savedPosition:this.savedPosition}canConsumeDefenseEquipment(r){return!(!this.equipment||"ailment-defense"!=this.equipment.equipmentClass&&"Icky"!=this.equipment.name&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&r&&"shield-snipe"!=this.equipment.equipmentClass||null==this.equipment.uses||"Strawberry"===this.equipment.name&&(this.getSparrowLevel()<=0||this.equipment.uses<=0))}canConsumeAttackDefenseEquipment(){return!(!this.equipment||null==this.equipment.uses||"Strawberry"===this.equipment.name&&(this.getSparrowLevel()<=0||this.equipment.uses<=0)||"attack"!=this.equipment.equipmentClass&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&"snipe"!=this.equipment.equipmentClass&&"ailment-attack"!=this.equipment.equipmentClass&&"ailment-defense"!=this.equipment.equipmentClass&&"Icky"!=this.equipment.name||(isNaN(this.equipment.uses)&&console.warn("uses is NaN",this.equipment),0))}}},80163(O,S,i){i.d(S,{d:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Giant Tortoise";tier=4;pack="Danger";attack=4;health=6;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"GiantTortoiseAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},80249(O,S,i){i.d(S,{B:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Rambutan";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"RambutanAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;let l=3*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${l} mana. (Rambutan)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.increaseMana(l)}}},80337(O,S,i){i.d(S,{M:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Woodpecker";tier=5;pack="Star";attack=6;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"WoodpeckerAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=2*this.level;for(let g=0;g<u;g++){let f=r.parent.nearestPetsAhead(2,r,null,!0),D=f.pets;for(let k of D){let L=1;k.parent!=this.owner.parent&&(L*=2),r.snipePet(k,L,f.random,a)}}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},80355(O,S,i){i.d(S,{A:()=>v});var P=i(50336),A=Array.prototype.splice;const v=function _(e){var t=this.__data__,n=(0,P.A)(t,e);return!(n<0||(n==t.length-1?t.pop():A.call(t,n,1),--this.size,0))}},80517(O,S,i){i.d(S,{A:()=>_});var P=i(46200),c=i(5615),A=i(61850);class _ extends P.i{logService;abilityService;name="Spiny Bush Viper";tier=4;pack="Custom";attack=5;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"Spiny Bush Viper Ability",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner,a=n.parent.opponent.petArray.filter(g=>g&&g.alive);if(0===a.length)return void this.triggerTigerExecution(t);const l=(0,A.k4)([...a]).slice(0,Math.min(2,a.length)),r=n.position??n.savedPosition??0,u=[];for(const g of l){const D=Math.max(1,Math.abs(r-(g.position??g.savedPosition??0))),k=Math.max(1,this.level)*D;n.dealDamage(g,k),u.push(`${k} to ${g.name}`)}u.length>0&&this.logService.createLog({message:`${n.name} dealt ${u.join(" and ")}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},80591(O,S,i){i.d(S,{E:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Yak";tier=2;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Yak Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,l=this.level,r=2*this.level;a.dealDamage(a,l),a.increaseAttack(r),this.logService.createLog({message:`${a.name} took ${l} damage and gained +${r} attack.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},80614(O,S,i){i.d(S,{$:()=>c});let P=!1;const c={Promise:void 0,set useDeprecatedSynchronousErrorHandling(A){if(A){const _=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+_.stack)}else P&&console.log("RxJS: Back to a better error behavior. Thank you. <3");P=A},get useDeprecatedSynchronousErrorHandling(){return P}}},80618(O,S,i){i.d(S,{A:()=>A});var P=i(75152);const A=function c(_,v){var e=v?(0,P.A)(_.buffer):_.buffer;return new _.constructor(e,_.byteOffset,_.byteLength)}},80659(O,S,i){i.d(S,{m:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Onion";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"OnionAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} pushed itself to the back. (Onion)`,type:"equipment",player:t.parent}),t.parent.pushPetToBack(t),t.parent.pushPetsForward(),t.removePerk()}}},80728(O,S,i){i.d(S,{t:()=>c});var P=i(22097);class c extends P.${name="Churros";equipmentClass="shop"}},81106(O,S,i){i.d(S,{_:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;name="Baboon";tier=3;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L){super(a,l,r),this.logService=a,this.abilityService=l,this.initPet(D,u,g,f,k,L)}}class t extends c.T{logService;abilityService;constructor(a,l,r){super({name:"BaboonAbility",owner:a,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:u=>{this.executeAbility(u)}}),this.logService=l,this.abilityService=r}executeAbility(a){const l=this.owner,{gameApi:r}=a,u=Math.max(1,r.previousShopTier??l.tier),g=l.parent.petArray.filter(L=>L.alive&&L.tier>=u);if(0===g.length)return void this.triggerTigerExecution(a);const f=(0,A.k6)({key:"pet.baboon-end-turn-target",label:(0,v.I)(l,"Baboon end turn target"),options:g.map(L=>({id:`${L.savedPosition+1}:${L.name}`,label:`P${L.savedPosition+1} ${L.name}`}))},()=>(0,_.hw)(0,g.length-1)),D=g[f.index],k=this.level;D.increaseAttack(k),D.increaseHealth(k),this.logService.createLog({message:`${l.name} gave ${D.name} +${k}/+${k}.`,type:"ability",player:l.parent,tiger:a.tiger,pteranodon:a.pteranodon,randomEvent:f.randomEvent}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService)}}},81179(O,S,i){i.d(S,{c:()=>c});var P=i(22097);class c extends P.${name="Potato";equipmentClass="shield-snipe";power=10;uses=2;originalUses=2;originalPower=10}},81207(O,S,i){i.d(S,{X:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;name="Sea Anemone";tier=4;pack="Custom";health=4;attack=3;initAbilities(){this.addAbility(new t(this,this.logService)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L){super(a,l,r),this.logService=a,this.abilityService=l,this.initPet(D,u,g,f,k,L)}}class t extends c.T{logService;usesThisTurn=0;maxUsesPerTurn=3;constructor(a,l){super({name:"Sea Anemone Ability",owner:a,triggers:["FriendSold","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=l}executeAbility(a){const l=this.owner;if("StartTurn"===a.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(a);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(a);const r=a.triggerPet;if(!r||!r.isSellPet())return void this.triggerTigerExecution(a);const u=l.parent.petArray.filter(k=>k&&k!==l&&k.alive);if(0===u.length)return void this.triggerTigerExecution(a);const g=(0,A.k6)({key:"pet.sea-anemone-friend-sold-target",label:(0,v.I)(l,"Sea Anemone sold buff target"),options:u.map(k=>({id:`${k.savedPosition+1}:${k.name}`,label:`P${k.savedPosition+1} ${k.name}`}))},()=>(0,_.hw)(0,u.length-1)),f=u[g.index],D=Math.min(Math.max(this.level,1),3);f.increaseAttack(D),f.increaseHealth(D),this.usesThisTurn++,this.logService.createLog({message:`${l.name} gave ${f.name} +${D}/+${D} after ${r.name} was sold.`,type:"ability",player:l.parent,randomEvent:g.randomEvent,tiger:a.tiger,pteranodon:a.pteranodon}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService)}}},81226(O,S,i){i.d(S,{c:()=>_});var P=i(22097),c=i(5615),A=i(98441);class _ extends P.${logService;abilityService;name="Honey";equipmentClass="afterFaint";callback=t=>{const n=t.getEquippedEquipmentInstance(this);t.addAbility(new v(t,n,this.logService,this.abilityService))};constructor(t,n){super(),this.logService=t,this.abilityService=n}}class v extends c.T{equipment;logService;abilityService;constructor(t,n,a,l){super({name:"HoneyAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=n,this.logService=a,this.abilityService=l}executeAbility(t){const n=this.owner;for(let a=0;a<this.equipment.multiplier;a++){let l=new A.V(this.logService,this.abilityService,n.parent,null,null,0);n.parent.summonPet(l,n.savedPosition).success&&this.logService.createLog({message:`${n.name} Spawned Bee (Honey)${a>0?this.equipment.multiplierMessage:""}`,type:"ability",player:n.parent})}}}},81477(O,S,i){i.d(S,{K:()=>a});var P=i(22097),c=i(5615),A=i(56990),_=i(33127),v=i(24111),e=i(58857),t=i(61850),n=i(79222);class a extends P.${name="Confused";equipmentClass="ailment-other";callback=u=>{u.addAbility(new l(u))}}class l extends c.T{petService;logService;constructor(u){super({name:"ConfusedAbility",owner:u,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:g=>this.executeAbility(g)}),this.petService=_.I.getInjector().get(A.T),this.logService=_.I.getInjector().get(v.K)}executeAbility(u){const g=this.owner,f=Math.max(1,(g.tier??1)-1),D=this.petService.allPets.get(f)??[];if(0===D.length)return void g.removePerk();const k=(0,e.k6)({key:"equipment.confused-transform",label:(0,n.R)(g,"Confused","transform"),options:D.map(j=>({id:j,label:j}))},()=>(0,t.hw)(0,D.length-1)),L=D[k.index];g.removePerk();const F=this.petService.createPet({name:L,attack:g.attack,health:g.health,exp:g.exp??0,equipment:null,mana:g.mana},g.parent);this.logService.createLog({message:`${g.name} transformed into a ${L}. (Confused)`,type:"equipment",player:g.parent,randomEvent:k.randomEvent}),g.parent.transformPet(g,F)}}},81537(O,S,i){i.d(S,{T:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Cake";equipmentClass="shop";tier=3;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"CakeAbility",owner:e,triggers:["EndTurn"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner,n=1*(this.equipment.multiplier??1);t.increaseSellValue(n),this.logService.createLog({message:`${t.name} increased its sell value by ${n}. (Cake)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}},81658(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Kiwi";tier=1;pack="Star";attack=1;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"KiwiAbility",owner:e,triggers:["ThisHurt","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.petArray.filter(k=>"Strawberry"!=k.equipment?.name||k==r),g=r.parent.getLastPet(u,r),f=g.pet;if(null==f)return;let D=this.level;f.increaseAttack(D),this.logService.createLog({message:`${r.name} gave ${f.name} +${D} attack`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},81740(O,S,i){i.d(S,{P:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Giraffe";tier=3;pack="Turtle";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GiraffeAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,a=t.parent.nearestPetsAhead(this.level,t);if(0!==a.pets.length){for(const l of a.pets)l.increaseAttack(1),l.increaseHealth(1);this.logService.createLog({message:`${t.name} gave ${a.pets.map(l=>l.name).join(", ")} +1 attack and +1 health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.random}),this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},81946(O,S,i){i.d(S,{q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Bison";tier=4;pack="Turtle";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BisonAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;if(!t.parent.petArray.some(r=>r&&r!==t&&r.level>=3))return;const a=this.level,l=2*this.level;t.increaseAttack(a),t.increaseHealth(l),this.logService.createLog({message:`${t.name} gained +${a} attack and +${l} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},81984(O,S,i){i.d(S,{A:()=>e});var P=i(1827),c=i(61319),_=Object.prototype.hasOwnProperty;const e=function v(t,n,a){var l=t[n];(!_.call(t,n)||!(0,c.A)(l,a)||void 0===a&&!(n in t))&&(0,P.A)(t,n,a)}},82063(O,S,i){i.d(S,{A:()=>_});var P=i(45525),c=i(1860);const _=(0,P.A)(c.A,"Promise")},82144(O,S,i){i.d(S,{k:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Moose";tier=5;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"Moose Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,a=e.gameApi?.playerPetPool?.get(1)?.length??0;if(0===a)return void this.triggerTigerExecution(e);const r=3*this.level*a,u=t.parent.getRandomPets(1,[t],!1,!1,t),g=u.pets[0];g?(g.increaseHealth(r),this.logService.createLog({message:`${t.name} gave ${g.name} +${r} health from ${a} Tier 1 shop pets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:u.random}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},82429(O,S,i){function P(_,v,e,t){if(_.komodoShuffle||_.oldStork||_.playerToy&&t.isToyRandom(_.playerToy)||_.opponentToy&&t.isToyRandom(_.opponentToy))return!1;const n=a=>{if(!a)return!0;for(let l=0;l<a.length;l++){const r=a[l];if(!r||!r.name)continue;if(v.isPetRandom(r.name))return!1;let u=null;if("string"==typeof r.equipment?u=r.equipment:r.equipment&&"object"==typeof r.equipment&&(u=r.equipment.name),u&&e.isEquipmentRandom(u))return!1}return!0};return!(!n(_.playerPets)||!n(_.opponentPets))}function c(_){if(null==_||!Number.isFinite(_))return()=>{};const v=function A(_){let v=_>>>0;return()=>{v=v+1831565813>>>0;let e=Math.imul(v^v>>>15,1|v);return e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296}}(Math.trunc(_)),e=Math,t=e.random;return e.random=v,()=>{e.random=t}}i.d(S,{B:()=>P,c:()=>c})},82491(O,S,i){i.d(S,{D:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Fossa";tier=4;pack="Star";attack=6;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"FossaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:a}=e,r=this.owner,g=r.parent===t.player?t.playerRollAmount:t.opponentRollAmount;if(g<=0)return;const f=this.level*g;let k=r.parent.opponent.getFurthestUpPets(2,void 0,r).pets;if(0!=k.length){for(let L of k)this.logService.createLog({message:`${r.name} removed ${f} health from ${L.name}.`,type:"ability",player:r.parent,tiger:a}),L.increaseHealth(-f);this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},82661(O,S,i){i.d(S,{C:()=>_});var P=i(61850),c=i(46200),A=i(5615);class _ extends c.i{logService;abilityService;name="Komodo";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}endTurn(t){if(!t.komodoShuffle)return;let a=this.position;if(0==a)return;let r=this.shufflePets(0,a).map(u=>u.name).join(", ");this.logService.createLog({message:`${this.name} shuffled positions of pets (${r}).`,type:"ability",player:this.parent,randomEvent:!0})}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}shufflePets(t,n){let a=this.parent.petArray.slice(t,n);(0,P.k4)(a);for(let l=0;l<a.length;l++)this.parent.setPet(l,a[l]);return a}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"KomodoAbility",owner:t,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{gameApi:n,tiger:a,pteranodon:l}=t,r=this.owner;if(0===r.position)return void this.triggerTigerExecution(t);const g=r.parent.nearestPetsAhead(r.position,r).pets;if(0===g.length)return void this.triggerTigerExecution(t);const f=this.level;for(const k of g)k.increaseAttack(f),k.increaseHealth(f);n&&(n.komodoShuffle=!0);const D=g.map(k=>k.name).join(", ");this.logService.createLog({message:`${r.name} gave ${D} +${f}/+${f} at end of turn and shuffled positions.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:!0}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},82967(O,S,i){i.d(S,{b:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Sparrow";tier=4;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"SparrowAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},83028(O,S,i){i.d(S,{L:()=>A,V:()=>c});const P={setEnabled:()=>{},isEnabled:()=>!1,setDeferDecorations:()=>{},isDeferDecorations:()=>!0,setShowTriggerNamesInLogs:()=>{},isShowTriggerNamesInLogs:()=>!1,setDebugSummonBoardStateLogs:()=>{},isDebugSummonBoardStateLogs:()=>!1,decorateLogIfNeeded:()=>{},createLog:()=>{},getLogs:()=>[],reset:()=>{},printState:()=>{}};function c(_){return _??P}function A(_){let e=c(_.logService);Object.defineProperty(_,"logService",{configurable:!0,enumerable:!0,get:()=>e,set:t=>{e=c(t)}})}},83031(O,S,i){i.d(S,{Y:()=>v});var P=i(46200),c=i(5615),A=i(51610),_=i(1152);class v extends P.i{logService;abilityService;name="Frigatebird";tier=2;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new e(this,this.logService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}resetPet(){super.resetPet()}}class e extends c.T{logService;constructor(n,a){super({name:"FrigatebirdAbility",owner:n,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,abilitylevel:n.level,maxUses:n.level,precondition:l=>(0,_.Re)(this.owner,l.triggerPet),abilityFunction:l=>{this.executeAbility(l)}}),this.logService=a}executeAbility(n){const u=this.owner,g=(0,_.lK)(u,n.triggerPet),f=g.pet;if(!f)return;const D=f.equipment;!D||!D.equipmentClass?.startsWith("ailment")||(f.removePerk(),f.givePetEquipment(new A.o),this.logService.createLog({message:`${u.name} removed ${D.name} from ${f.name} and gave ${f.name} Rice.`,type:"ability",player:u.parent,randomEvent:g.random}),this.triggerTigerExecution(n))}reset(){this.maxUses=this.level,super.reset()}copy(n){return new e(n,this.logService)}}},83048(O,S,i){i.d(S,{a:()=>_});var P=i(23828),c=i(50873);i(5615);class _ extends c.L{name="Magic Wand";tier=1;startOfBattle(t,n){let a=this.parent.petArray.filter(u=>u.level<3),l=null,r=!1;if(0==a.length){const u=this.parent.getRandomPet([],!0);l=u.pet,r=u.random}else a=(0,P.A)(a),l=a[0],r=a.length>1;null!=l&&(this.logService.createLog({message:`${this.name} gave ${l.name} ${this.level} exp.`,type:"ability",player:this.parent,puma:n,randomEvent:r}),l.increaseExp(this.level))}}},83134(O,S,i){i.d(S,{j:()=>A});var P=i(22097),c=i(5615);class A extends P.${logService;name="Gingerbread Man";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _(e,t,this.logService))};constructor(e){super(),this.logService=e}}class _ extends c.T{equipment;logService;constructor(e,t,n){super({name:"GingerbreadManAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:a=>{this.executeAbility(a)}}),this.equipment=t,this.logService=n}executeAbility(e){const t=this.owner;let a=1*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${a} experience (Gingerbread Man)${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent}),t.increaseExp(a)}}},83167(O,S,i){i.d(S,{f:()=>Ui});var P=i(30553),c=i(73327),A=i(5762),_=i(61967),v=i(65438),e=i(54073),t=i(78480),n=i(95313),a=i(7059),l=i(68184),r=i(2042),u=i(20858),g=i(47175),f=i(76325),D=i(99771),k=i(25935),L=i(52078),F=i(31671),j=i(19405),ee=i(61502),J=i(62633),V=i(11970),ie=i(34815),oe=i(51665),ce=i(1874),ve=i(19866),Ee=i(56960),Te=i(86900),ke=i(58151),de=i(23623),Se=i(53092),Be=i(97919),Ne=i(17647),Ue=i(53473),lt=i(99352),it=i(27312),Ke=i(38065),qe=i(69385),_t=i(77392),pt=i(4193),tt=i(8362),gt=i(26717),at=i(28266),wt=i(45651),ut=i(91039),Ge=i(78305),Ot=i(59659),Qt=i(42589),mt=i(67174),Yt=i(24277),Et=i(18467),ge=i(66723),Le=i(50048),Ve=i(47256),Fe=i(67138),ot=i(25047),Ut=i(67358),Kt=i(21110),qt=i(68908),Vt=i(65919),Gt=i(3269);const Ui={Baku:P.C,Barghest:A.T,Tsuchinoko:_.m,Murmel:v.B,Alchemedes:e.J,Pengobble:t.Z,Bunyip:n.q,"Sneaky Egg":a.v,"Cuddle Toad":l.k,"???":c.F,"Ghost Kitten":r.z,"Frost Wolf":u.j,Mothman:g.Z,"Drop Bear":f.W,Jackalope:D.l,Ogopogo:k.L,Thunderbird:L.W,Gargoyle:F.N,Bigfoot:j.h,"Lucky Cat":J.T,"Skeleton Dog":V.k,Mandrake:ie.w,"Fur-Bearing Trout":oe.K,"Mana Hound":ce._,Calygreyhound:ve.r,"Brain Cramp":Ee.Y,Minotaur:Se.I,Wyvern:ee.u,Ouroboros:Te.x,Griffin:ke.k,Kraken:Be.H,Visitor:Ne.l,"Vampire Bat":tt.g,"Tiger Bug":Ue.Q,Tatzelwurm:de.W,Cyclops:lt.p,Chimera:it.S,Roc:Ke.f,"Worm of Sand":qe.L,"Red Dragon":gt.L,Unicorn:pt.r,"Loveland Frogman":at.q,"Salmon of Knowledge":wt.K,"Jersey Devil":ut.j,Pixiu:Ge.A,Kitsune:Ot.W,Nessie:Qt.Y,"Bad Dog":mt.a,Werewolf:Yt.a,Amalgamation:Et.P,Manticore:ge.J,Phoenix:Le.EX,Quetzalcoatl:Ve.a,"Team Spirit":Fe.z,Sleipnir:ot.$,"Sea Serpent":Ut.$,Yeti:Kt.w,Cerberus:qt.g,Hydra:Vt.n,Behemoth:Gt.D,Abomination:_t._}},83245(O,S,i){i.d(S,{t:()=>e});var P=i(46200),c=i(5615),A=i(33127),_=i(26886),v=i(1152);class e extends P.i{logService;abilityService;name="Old Mouse";tier=4;pack="Custom";attack=1;health=2;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L){super(a,l,r),this.logService=a,this.abilityService=l,this.initPet(D,u,g,f,k,L)}}class t extends c.T{logService;abilityService;constructor(a,l,r){super({name:"Old Mouse Ability",owner:a,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:u=>{this.executeAbility(u)}}),this.logService=l,this.abilityService=r}executeAbility(a){const{tiger:l,pteranodon:r}=a,u=this.owner,g=A.I.getInjector().get(_.w),f=Math.max(1,Math.min(3,this.level)),D=g.toys.get(f)??[];if(0===D.length)return void this.triggerTigerExecution(a);const k=D[0],L=g.createToy(k,u.parent,f);L?(u.parent.toy=L,u.parent.toy.used=!1,u.parent.toy.triggers=0,(0,v.rv)(this.logService,u,`${u.name} chose a level ${f} ${k} toy.`,l,r),this.triggerTigerExecution(a)):this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService)}}},83355(O,S,i){i.d(S,{b:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Spinosaurus";tier=6;pack="Star";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SpinosaurusAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u={attack:2*this.level,health:3*this.level},g=r.parent.getRandomPet([r],!0,!1,!0,r);null!=g.pet&&(g.pet.increaseAttack(u.attack),g.pet.increaseHealth(u.health),this.logService.createLog({message:`${r.name} gave ${g.pet.name} ${u.attack} attack and ${u.health} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},83398(O,S,i){i.d(S,{m:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Llama";tier=4;pack="Puppy";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"LlamaAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;let n=!1;for(let r=0;r<5;r++)if(null==t.parent.getPetAtPosition(r)){n=!0;break}if(!n)return void this.triggerTigerExecution(e);const a=this.level,l=2*this.level;t.increaseAttack(a),t.increaseHealth(l),this.logService.createLog({message:`${t.name} gained +${a}/+${l} because there was an empty space.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},83699(O,S,i){i.d(S,{M:()=>A});var P=i(50873);i(5615);class A extends P.L{name="Magic Lamp";tier=2;friendlyLevelUp(e,t,n,a){this.logService.createLog({message:`${this.name} gave ${t.name} ${a} attack and ${a} health.`,type:"ability",player:this.parent,puma:n}),t.increaseAttack(+a),t.increaseHealth(+a)}}},83796(O,S,i){i.d(S,{r:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Catfish";tier=6;pack="Golden";attack=4;health=6;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"CatfishAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t.petAhead;if(!n)return void this.triggerTigerExecution(e);const a=this.level;if(n.hasTrigger("ThisBought")){for(let r=0;r<a;r++)n.executeAbilities("ThisBought",e.gameApi,n,void 0,void 0,{trigger:"ThisBought"});this.logService.createLog({message:`${t.name} activated ${n.name}'s buy ability ${a} time${1===a?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})}else{const r=4*this.level;n.increaseHealth(r),this.logService.createLog({message:`${t.name} gave ${n.name} +${r} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},83811(O,S,i){i.d(S,{A:()=>_});var c=Object.prototype.toString;const _=function A(v){return c.call(v)}},83991(O,S,i){i.d(S,{T:()=>c});var P=i(22097);class c extends P.${equipmentClass="defense";name="Garlic";tier=3;power=2;originalPower=2;minimumDamage=2;callback=_=>{}}},84371(O,S,i){i.d(S,{L:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Blue Ringed Octopus";tier=5;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BlueRingedOctopusAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level,a=t.parent.petArray.filter(l=>l.alive&&l!==t);if(0!==a.length){for(const l of a)l.increaseAttack(n),l.increaseHealth(n);this.logService.createLog({message:`${t.name} gave friends +${n}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},84375(O,S,i){i.d(S,{C:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Elephant";tier=3;pack="Turtle";health=7;attack=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ElephantAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;for(let u=0;u<this.level;u++){let g=r.parent.nearestPetsBehind(1,r);g.pets.length>0&&r.snipePet(g.pets[0],1,g.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},84385(O,S,i){i.d(S,{v:()=>P});const P=c=>A=>{for(let _=0,v=c.length;_<v&&!A.closed;_++)A.next(c[_]);A.complete()}},84587(O,S,i){i.d(S,{$:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Termite";tier=1;pack="Custom";health=4;attack=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"TermiteAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,a=Math.max(1,e.gameApi.previousShopTier??1)+this.level;t.attack=Math.max(1,a),this.logService.createLog({message:`${t.name} set its attack to ${t.attack}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},84736(O,S,i){i.d(S,{v:()=>_});var P=i(46200),c=i(5615),A=i(61850);class _ extends P.i{logService;abilityService;name="Blue Jay";tier=5;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;foodsEatenThisTurn=0;seededFromShop=!1;constructor(t,n){super({name:"Blue Jay Ability",owner:t,triggers:["FoodEatenByThis","StartTurn","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const n=this.owner;if("StartTurn"===t.trigger)return this.foodsEatenThisTurn=0,void(this.seededFromShop=!1);if(!this.seededFromShop){const a=n.foodsEaten??0;a>0&&(this.foodsEatenThisTurn=Math.max(this.foodsEatenThisTurn,a)),this.seededFromShop=!0}if("FoodEatenByThis"!==t.trigger){if("PostRemovalFaint"===t.trigger){const l=this.level*this.foodsEatenThisTurn;if(l<=0)return void this.triggerTigerExecution(t);const r=n.parent.petArray.filter(g=>g&&g!==n&&g.alive);if(0===r.length)return void this.triggerTigerExecution(t);(0,A.k4)(r);const u=r.slice(0,3);for(const g of u)g.increaseAttack(l),g.increaseHealth(l);this.logService.createLog({message:`${n.name} gave ${u.map(g=>g.name).join(", ")} +${l}/+${l} after fainting.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon}),this.triggerTigerExecution(t)}}else this.foodsEatenThisTurn++}copy(t){return new v(t,this.logService)}}},84746(O,S,i){i.d(S,{A:()=>A});var P=i(45525);const A=function(){try{var _=(0,P.A)(Object,"defineProperty");return _({},"",{}),_}catch{}}()},84787(O,S,i){i.d(S,{H:()=>D});var P=i(27389),c=i(60135),A=i(31805),_=i(45722),t=i(32496),n=i(37765),r=i(15998),u=i(25253);function D(k,L){return L?function f(k,L){if(null!=k){if(function l(k){return k&&"function"==typeof k[_.s]}(k))return function v(k,L){return new P.c(F=>{const j=new A.y;return j.add(L.schedule(()=>{const ee=k[_.s]();j.add(ee.subscribe({next(J){j.add(L.schedule(()=>F.next(J)))},error(J){j.add(L.schedule(()=>F.error(J)))},complete(){j.add(L.schedule(()=>F.complete()))}}))})),j})}(k,L);if((0,r.y)(k))return function e(k,L){return new P.c(F=>{const j=new A.y;return j.add(L.schedule(()=>k.then(ee=>{j.add(L.schedule(()=>{F.next(ee),j.add(L.schedule(()=>F.complete()))}))},ee=>{j.add(L.schedule(()=>F.error(ee)))}))),j})}(k,L);if((0,u.X)(k))return(0,t.V)(k,L);if(function g(k){return k&&"function"==typeof k[n.lJ]}(k)||"string"==typeof k)return function a(k,L){if(!k)throw new Error("Iterable cannot be null");return new P.c(F=>{const j=new A.y;let ee;return j.add(()=>{ee&&"function"==typeof ee.return&&ee.return()}),j.add(L.schedule(()=>{ee=k[n.lJ](),j.add(L.schedule(function(){if(F.closed)return;let J,V;try{const ie=ee.next();J=ie.value,V=ie.done}catch(ie){return void F.error(ie)}V?F.complete():(F.next(J),this.schedule())}))})),j})}(k,L)}throw new TypeError((null!==k&&typeof k||k)+" is not observable")}(k,L):k instanceof P.c?k:new P.c((0,c.i)(k))}},84797(O,S,i){i.d(S,{S:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Bluebird";tier=1;pack="Puppy";attack=2;health=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BluebirdAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t.parent.getRandomPet([t]),a=n.pet;if(!a)return;const l=this.level;a.increaseAttack(l),this.logService.createLog({message:`${t.name} gave ${a.name} +${l} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},84932(O,S,i){i.d(S,{Z:()=>c});var P=i(22097);class c extends P.${name="Sleepy";equipmentClass="ailment-other"}},84968(O,S,i){i.d(S,{F:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Frog";tier=1;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"FrogAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>1===this.owner.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.nearestPetsAhead(1,r),g=r.parent.nearestPetsBehind(1,r);if(0===u.pets.length||0===g.pets.length)return;let f=u.pets[0],D=g.pets[0],k=f.attack,L=f.health,j=D.health;f.attack=D.attack,f.health=j,D.attack=k,D.health=L,this.logService.createLog({message:`${r.name} swapped the attack and health of ${f.name} and ${D.name}.`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random||g.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},85063(O,S,i){i.d(S,{EA:()=>le,G1:()=>je,Nb:()=>fe,RY:()=>Re,_y:()=>We,xd:()=>Pe});var P=i(83991),c=i(81537),A=i(23865),_=i(72683),v=i(44402),e=i(81226),t=i(21580),n=i(14271),a=i(51838),l=i(13712),r=i(76282),u=i(13651),g=i(51610),f=i(75898),D=i(32334),k=i(76030),L=i(40110),F=i(13115),j=i(72421),ee=i(60826),J=i(12160),V=i(1075),ie=i(17017),oe=i(43592),ce=i(56518),ve=i(23296),Ee=i(67647),Te=i(22410),ke=i(39371),de=i(44519),Se=i(65188),Be=i(40482),Ne=i(3129),Ue=i(1406),lt=i(56613),it=i(40804),Ke=i(6513),qe=i(2730),_t=i(81179),pt=i(19429),tt=i(80659),gt=i(54155),at=i(54190),wt=i(59561),ut=i(53324),Ge=i(3887),Ot=i(47925),Qt=i(79257),mt=i(32238),Yt=i(57598),Et=i(85838),ge=i(60385),Le=i(31546),Ve=i(30254),Fe=i(23770),ot=i(6328),Ut=i(21844),Kt=i(46300),qt=i(71799),Vt=i(6674),Gt=i(242),Ui=i(68478),Bt=i(29886),Yi=i(50885),Gi=i(43783),Ci=i(80728),ki=i(64017),Hi=i(6145),En=i(32232),Ti=i(13997),_i=i(8891),Di=i(37907),Fn=i(3615),pn=i(80249),tn=i(55713),nn=i(1689),ji=i(83134),Rn=i(66139),Li=i(18783),ui=i(70928),wi=i(38148),Wi=i(95244),Sn=i(75263),vi=i(19180),Xi=i(2375),Ji=i(61404),Tn=i(48576),Yn=i(55378),Ai=i(607),Qi=i(59374),Gn=i(56979),Dn=i(19058),Hn=i(61311),an=i(85871),Xn=i(10687),Pa=i(81477),Va=i(61908),hn=i(30357),gn=i(9008),di=i(84932),Jn=i(7199),Qn=i(18060);const le={Garlic:P.T,"Meat Bone":A.i,Steak:_.R,Melon:v.m,Coconut:a.K,Peanut:l.u,"Peanut Butter":Xi._,"Cake Slice":Ji.r,Blackberry:r.a,Croissant:u.J,Rice:g.o,Eucalyptus:D.E,Lime:k.w,Salt:F.B,Lemon:J.C,Cucumber:Ee.T,Cheese:Te.W,Grapes:ke.t,Pepper:de.H,Carrot:Se.E,Cherry:lt.G,"Bok Choy":it.G,Potato:_t.c,Unagi:Ve.d,Corncob:Fe.D,"Fortune Cookie":ot.Y,Blueberry:Ut.z,Donut:Kt.R,Kiwifruit:Gt.T,Pineapple:Ui.N,Guava:Bt.B,"Brussels Sprout":Yi.p,Cauliflower:Gi.s,Churros:Ci.t,Kiwano:ki.W,Macaron:Hi.S,"Melon Slice":En.o,"Oyster Mushroom":Ti.N,"Sardinian Currant":Di.z,Sausage:Fn.w,Walnut:oe.S,"Honeydew Melon":Ge.L,"Maple Syrup":Ot.q,"White Okra":ge.f,Ambrosia:Sn.B,"Magic Beans":ui.$},Pe={Cake:c.T,Egg:f.Q,Squash:L.o,Pie:j.F,Skewer:ee.q,Pancakes:V.V,Strawberry:ce.q,Baguette:ve.m,Eggplant:qe.$,Onion:tt.m,"Pita Bread":gt.j,Tomato:at.U,Durian:wt.Q,"Sudduth Tomato":mt.w,Fig:ut.F,"Cashew Nut":qt.r,Nachos:Vt.h,Caramel:Ue.U,Rambutan:pn.B,"Love Potion":tn.S,"Fairy Dust":nn.S,"Gingerbread Man":ji.j,"Health Potion":Li.S,"Golden Egg":wi.N,"White Truffle":Le.w},fe={Honey:e.c,Chili:t.k,"Chocolate Cake":Ke.L,"Cod Roe":Qt.r,Banana:pt.U,"Gros Michel Banana":Yt.h,"Easter Egg":Rn.u,"Yggdrasil Fruit":Wi.H,"Mild Chili":ie.W},Re={Cold:Tn.b,Crisp:Ai.Y,Dazed:Qi.x,Icky:Yn.z,Inked:hn.w,Toasty:Qn.V,Spooked:Gn.E,Weak:Dn.l,Silly:an.E,Bloated:Xn.e,Confused:Pa.K,Cursed:Va.$,Sad:gn.B,Sleepy:di.Z,Webbed:Jn.o},We={Mushroom:ze=>new n.t(ze.logService,ze.petService),Popcorn:ze=>new Be.m(ze.logService,ze.petService,ze.gameService),Seaweed:ze=>new Ne.X(ze.logService,ze.abilityService,ze.petService),"Cocoa Bean":ze=>new Et.b(ze.logService,ze.petService),"Faint Bread":ze=>new vi.V(ze.logService,ze.petService),Radish:ze=>new _i.w(ze.logService)},je={Tasty:ze=>new Hn.U(ze.logService)}},85078(O,S,i){i.d(S,{j:()=>_});var P=i(46200),c=i(5615),A=i(29088);class _ extends P.i{logService;abilityService;name="Cockatrice";tier=6;pack="Custom";attack=6;health=8;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"CockatriceAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let g=u.parent.opponent.petArray.reverse(),f=null;for(let L of g)if(L.level<=this.level){f=L;break}if(null==f)return;this.logService.createLog({message:`${u.name} transformed ${f.name} into a Rock.`,type:"ability",player:u.parent,tiger:l,pteranodon:r});let D=new A.A(this.logService,this.abilityService,f.parent,f.health,f.attack,f.mana,f.exp,f.equipment);u.parent.opponent.setPet(f.position,D,!1),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},85240(O,S,i){i.d(S,{y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Wasp";tier=3;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Wasp Ability",owner:e,triggers:["ShopUpgrade"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,a=Math.floor(t.attack*(.5*this.level));a>0&&(t.increaseAttack(a),this.logService.createLog({message:`${t.name} gained +${a} attack from Shop Upgrade.`,type:"ability",player:t.parent}))}copy(e){return new _(e,this.logService)}}},85267(O,S,i){i.d(S,{A:()=>v});var P=i(6944),c=P.A?P.A.prototype:void 0,A=c?c.valueOf:void 0;const v=function _(e){return A?Object(A.call(e)):{}}},85554(O,S,i){i.d(S,{A:()=>c});const c=function P(){return!1}},85709(O,S,i){i.d(S,{b:()=>e,t:()=>v});var P=i(57488),c=i(19058),A=i(50873),_=i(5615);class v extends A.L{name="Witch Broom";tier=1;startOfBattle(n,a){let l=(0,P.a)(n,this.parent),r=l.petArray.filter(g=>null!=g.equipment),u=[];for(let g=0;g<this.level;g++){let f=l.getRandomPet(r,!1,!0,!1,null);if(null==f.pet)break;r.push(f.pet),u.push(f.pet)}if(0!==u.length)for(let g of u)this.logService.createLog({message:`${this.name} gave ${g.name} Weak.`,type:"ability",player:this.parent,puma:a,randomEvent:l.petArray.length-r.length>0}),g.givePetEquipment(new c.l);else this.logService.createLog({message:"Player's Witch Broom found no targets",type:"ability",player:this.parent,puma:a,randomEvent:!0})}}class e extends _.T{logService;constructor(n,a){super({name:"WitchBroomAbility",owner:n,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=a}executeAbility(n){const{tiger:r}=n,g=this.owner;let f=g.parent.getPetsWithEquipmentWithSillyFallback("any",g),D=g.parent.getRandomEnemyPetsWithSillyFallback(this.level,f,!1,!0,g),k=D.pets;if(0!=k.length){for(let L of k)L.givePetEquipment(new c.l),this.logService.createLog({message:`${g.name} gave ${L.name} Weak.`,type:"ability",player:g.parent,tiger:r,randomEvent:D.random});this.triggerTigerExecution(n)}}copy(n){return new e(n,this.logService)}}},85838(O,S,i){i.d(S,{b:()=>e});var P=i(22097),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.${logService;petService;name="Cocoa Bean";tier=5;equipmentClass="beforeAttack";power=0;originalPower=0;uses=1;originalUses=1;callback=a=>{const l=a.getEquippedEquipmentInstance(this);a.addAbility(new t(a,l,this.logService,this.petService))};constructor(a,l){super(),this.logService=a,this.petService=l}}class t extends c.T{equipment;logService;petService;constructor(a,l,r,u){super({name:"CocoaBeanAbility",owner:a,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:g=>{this.executeAbility(g)}}),this.equipment=l,this.logService=r,this.petService=u}executeAbility(a){const l=this.owner;for(let r=0;r<this.equipment.multiplier;r++){let u=l.parent.opponent.petArray.filter(L=>L.alive);if(0==u.length)return void l.removePerk();const g=(0,A.k6)({key:"equipment.cocoa-bean-transform",label:(0,v.R)(l,"Cocoa Bean","transform",r+1),options:u.map(L=>({id:`${L.savedPosition+1}:${L.name}`,label:`O${L.savedPosition+1} ${L.name}`}))},()=>(0,_.hw)(0,u.length-1));let f=u[g.index],D=this.petService.createPet({name:f.name,attack:f.attack,health:f.health,mana:l.mana,exp:f.exp,equipment:null},l.parent);if(D.mana=l.mana,f.swallowedPets&&f.swallowedPets.length>0){D.swallowedPets=[];for(let L of f.swallowedPets){let F=this.petService.createPet({name:L.name,attack:L.attack,health:L.health,mana:L.mana,exp:L.exp,equipment:L.equipment},l.parent);D.swallowedPets.push(F)}}D.copyAbilities(f,"Pet"),this.logService.createLog({message:`${l.name} transformed into ${D.name} (Cocoa Bean)${r>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:l.parent,randomEvent:g.randomEvent}),l.parent.transformPet(l,D)}}}},85871(O,S,i){i.d(S,{E:()=>c});var P=i(22097);class c extends P.${name="Silly";equipmentClass="ailment-other"}},86249(O,S,i){i.d(S,{Q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Seal";tier=5;pack="Turtle";attack=3;health=8;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SealAbility",owner:e,triggers:["FoodEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;if(n!=r)return;let u=this.level,g=r.parent.getRandomPets(3,[r],!0,!1,r);for(let f of g.pets)null!=f&&(f.increaseAttack(u),this.logService.createLog({message:`${r.name} gave ${f.name} ${u} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}));this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},86253(O,S,i){i.d(S,{BE:()=>t,Ku:()=>A,Uk:()=>e,bE:()=>v,vD:()=>_,wA:()=>c,yV:()=>P});const P=n=>n.petArray.length>0,c=n=>{n.pet0=n.orignalPet0,n.pet0?.resetPet(),n.pet1=n.orignalPet1,n.pet1?.resetPet(),n.pet2=n.orignalPet2,n.pet2?.resetPet(),n.pet3=n.orignalPet3,n.pet3?.resetPet(),n.pet4=n.orignalPet4,n.pet4?.resetPet(),n.orignalPet0=n.pet0,n.orignalPet1=n.pet1,n.orignalPet2=n.pet2,n.orignalPet3=n.pet3,n.orignalPet4=n.pet4,n.toy=n.originalToy,n.toy&&(n.toy.used=!1,n.toy.triggers=0,n.originalToy&&(n.toy.level=n.originalToy.level)),n.hardToy=n.originalHardToy,n.hardToy&&(n.hardToy.used=!1,n.hardToy.triggers=0,n.originalHardToy&&(n.hardToy.level=n.originalHardToy.level)),n.brokenToy=null,n.brokenHardToy=null,n.trumpets=0,n.spawnedGoldenRetiever=!1,n.summonedBoatThisBattle=!1,n.cannedAilments=[]},A=n=>{for(const a of n.petArray)a&&(a.jumped=!1)},_=(n,a)=>{a.createLog({message:`${n.name} fainted.`,type:"death",player:n.parent,sourcePet:n})},v=(n,a)=>{n.seenDead=!0,n.setFaintEventIfPresent(),_(n,a)},e=(n,a)=>{n.pet0&&!n.pet0.alive&&!n.pet0.seenDead&&v(n.pet0,a),n.pet1&&!n.pet1.alive&&!n.pet1.seenDead&&v(n.pet1,a),n.pet2&&!n.pet2.alive&&!n.pet2.seenDead&&v(n.pet2,a),n.pet3&&!n.pet3.alive&&!n.pet3.seenDead&&v(n.pet3,a),n.pet4&&!n.pet4.alive&&!n.pet4.seenDead&&v(n.pet4,a)},t=(n,a)=>{let l=!1;const r=[{pet:n.pet0,index:0},{pet:n.pet1,index:1},{pet:n.pet2,index:2},{pet:n.pet3,index:3},{pet:n.pet4,index:4}];for(const u of r)if(u.pet&&!u.pet.alive){switch(u.pet.removed=!0,u.index){case 0:n.pet0=void 0;break;case 1:n.pet1=void 0;break;case 2:n.pet2=void 0;break;case 3:n.pet3=void 0;break;case 4:n.pet4=void 0}a.triggerAfterFaintEvents(u.pet),l=!0}return l}},86542(O,S,i){i.d(S,{A:()=>A});var P=i(3746);const A=function c(_){return(0,P.A)(this,_).has(_)}},86568(O,S,i){i.d(S,{A:()=>_});var P=i(45525),c=i(1860);const _=(0,P.A)(c.A,"Map")},86589(O,S,i){i.d(S,{B:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Crab";tier=2;pack="Turtle";health=1;attack=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"CrabAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;if(!r.alive)return;let u=r.parent.getHighestHealthPet(r,r);if(null==u.pet)return;let g=Math.ceil(u.pet.health*(.25*this.level)),f=r.parent.getThis(r);f.pet&&(f.pet.increaseHealth(g),this.logService.createLog({message:`${r.name} gave ${f.pet.name} ${.25*this.level*100}% of ${u.pet.name}'s health (${g})`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},86610(O,S,i){i.d(S,{r:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pig";tier=1;pack="Turtle";health=1;attack=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PigAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},86785(O,S,i){function P(A){return 1===A?0:2===A?2:5}function c(A){return P(A)}i.d(S,{T:()=>c,l:()=>P})},86863(O,S,i){i.d(S,{M:()=>_});var P=i(46200),c=i(5615),A=i(86785);class _ extends P.i{logService;abilityService;petService;name="Tadpole";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.petService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D,k){super(t,n,l),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,u,g,D,k)}}class v extends c.T{logService;petService;constructor(t,n,a){super({name:"Tadpole Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",abilitylevel:t.level,abilityFunction:l=>this.executeAbility(l)}),this.logService=n,this.petService=a}executeAbility(t){const n=this.owner,a=n.level,l=this.petService.createPet({name:"Frog",attack:null,health:null,mana:0,exp:(0,A.l)(a),equipment:null},n.parent);l&&(n.parent.transformPet(n,l),this.logService.createLog({message:`${n.name} transformed into a level ${a} Frog.`,type:"ability",player:n.parent})),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.petService)}}},86900(O,S,i){i.d(S,{x:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Ouroboros";tier=3;pack="Unicorn";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=5;constructor(e,t,n){super({name:"OuroborosAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const t=this.owner,n=this.level;this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave newly rolled shop pets +${n}/+${n} until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},86909(O,S,i){i.d(S,{$:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Kangaroo";tier=2;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"KangarooAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.getThis(r);u.pet&&(u.pet.increaseAttack(this.level),u.pet.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gave ${u.pet.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},86950(O,S,i){i.d(S,{t:()=>t});var P=i(46200),c=i(5615),A=i(33127),_=i(26886),v=i(61850),e=i(1152);class t extends P.i{logService;abilityService;name="Ferret";tier=1;pack="Puppy";attack=1;health=3;initAbilities(){this.addAbility(new n(this,this.logService,this.abilityService)),super.initAbilities()}constructor(l,r,u,g,f,D,k,L,F){super(l,r,u),this.logService=l,this.abilityService=r,this.initPet(k,g,f,D,L,F)}}class n extends c.T{logService;abilityService;constructor(l,r,u){super({name:"FerretAbility",owner:l,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:l.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.abilityService=u}executeAbility(l){const r=this.owner,u=A.I.getInjector().get(_.w),g=Math.max(1,Math.min(3,this.level)),f=u.toys.get(g)??[];if(0===f.length)return void this.triggerTigerExecution(l);const D=f[(0,v.hw)(0,f.length-1)],k=u.createToy(D,r.parent,g);k?(r.parent.toy=k,r.parent.toy.used=!1,r.parent.toy.triggers=0,(0,e.rv)(this.logService,r,`${r.name} chose a level ${g} ${D} toy.`,l.tiger,l.pteranodon),this.triggerTigerExecution(l)):this.triggerTigerExecution(l)}copy(l){return new n(l,this.logService,this.abilityService)}}},87647(O,S,i){function P(_,v,e,t){if(!v||!t.includes(v))return _;let n=_;for(const a of e)n+=a;return n}function c(_,v,e){if("Icky"!==v?.name)return _;let t=2;for(const n of e)t+=n;return t+=(v.multiplier??1)-1,_*t}function A(_,v,e){const t=e?.includeGhostKitten??!1,n=e?.fairyMinimumOne??!1,a=e?.fairyRequiresPositiveDamage??!0,l=e?.nurikabeConsumesOnZeroHit??!1,r=e?.fanMusselConsumesOnZeroHit??!1;let u=v,g=0,f=0,D=0,k=0;const L=!a||u>0;if(_.hasTrigger(void 0,"Pet","FairyAbility")&&L){for(const ee of _.abilityList)if("FairyAbility"==ee.name){const J=2*ee.level;g+=J,u=Math.max(0,u-J)}n&&u<1&&(u=1)}if(_.hasTrigger(void 0,"Pet","NurikabeAbility")&&(u>0||l&&v<=0))for(const ee of _.abilityList)if("NurikabeAbility"==ee.name){const J=4*ee.level;f+=J,u>0&&(u=Math.max(0,u-J)),ee.currentUses++}if(_.hasTrigger(void 0,"Pet","FanMusselAbility")&&(u>0||r&&v<=0))for(const ee of _.abilityList)if("FanMusselAbility"==ee.name){const J=ee.level;D+=J,u>0&&(u=Math.max(0,u-J)),ee.currentUses++}if(t&&_.hasTrigger(void 0,"Pet","GhostKittenAbility")&&u>0)for(const ee of _.abilityList)if("GhostKittenAbility"==ee.name){const J=3*ee.level;k+=J,u=Math.max(0,u-J)}return{damage:u,fairyBallReduction:g,nurikabe:f,fanMusselReduction:D,ghostKittenReduction:k}}i.d(S,{GH:()=>P,W6:()=>c,qw:()=>A})},87750(O,S,i){i.d(S,{q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Poodle Moth";tier=4;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Poodle Moth Ability",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",maxUses:e.level,native:!0,abilitylevel:e.level,precondition:n=>{const{triggerPet:a}=n;return!!a&&a.parent===this.owner.parent},abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:n,pteranodon:a}=e,l=this.owner;t&&(t.increaseExp(3),this.logService.createLog({message:`${l.name} gave ${t.name} +3 experience after transforming.`,type:"ability",player:l.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},87942(O,S,i){i.d(S,{H:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Pigeon";tier=1;pack="Turtle";attack=3;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PigeonAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked ${this.level} free Bread Crumbs.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},87955(O,S,i){i.d(S,{x:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Hatching Chick";tier=3;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;pendingBuffs=new Map;constructor(e,t,n){super({name:"HatchingChickAbility",owner:e,triggers:["EndTurn","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger){for(const[a,l]of this.pendingBuffs)a&&(a.increaseAttack(-l.attack),a.increaseHealth(-l.health));return this.pendingBuffs.clear(),void this.triggerTigerExecution(e)}const n=t.petAhead;if(n)return 1===this.level?(n.increaseAttack(3),n.increaseHealth(3),this.pendingBuffs.set(n,{attack:3,health:3}),this.logService.createLog({message:`${t.name} gave ${n.name} +3/+3 until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e)):2===this.level?(n.increaseAttack(2),n.increaseHealth(2),this.logService.createLog({message:`${t.name} gave ${n.name} +2/+2.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e)):(n.increaseExp(1),this.logService.createLog({message:`${t.name} gave ${n.name} +1 experience.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e));this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},87970(O,S,i){i.d(S,{Z:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Rabbit";tier=3;pack="Turtle";health=2;attack=1;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"RabbitAbility",owner:t,triggers:["FoodEatenByFriendly"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:3,precondition:a=>{const{triggerPet:l}=a,g=(0,A.lK)(this.owner,l).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:l}=t,u=this.owner;let g=this.level,f=(0,A.lK)(u,a),D=f.pet;null!=D&&(D.increaseHealth(g),this.logService.createLog({message:`${u.name} gave ${D.name} ${g} health.`,type:"ability",player:u.parent,tiger:l,randomEvent:f.random}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},88034(O,S,i){i.d(S,{n:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Tuna";tier=3;pack="Star";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f,D){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f),this.timesHurt=D??0,this.originalTimesHurt=this.timesHurt}}class _ extends c.T{logService;timesHurtOverride;constructor(e,t,n){super({name:"TunaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.timesHurtOverride=n??null}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=this.timesHurtOverride??r.timesHurt;for(let g=0;g<u;g++){const f=r.parent.getRandomPet([r],!0,!1,!0,r);if(null==f.pet)continue;const D=this.level;this.logService.createLog({message:`${r.name} gave ${f.pet.name} +${D} attack and +${D} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random}),f.pet.increaseAttack(D),f.pet.increaseHealth(D)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.timesHurtOverride??this.owner.timesHurt)}}},88184(O,S,i){i.d(S,{$:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Shoebill";tier=5;pack="Star";attack=3;health=6;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ShoebillAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;let n=t.petAhead;for(;n;){if("Strawberry"===n.equipment?.name){const a=4*this.level;n.removePerk(),n.increaseAttack(a),n.increaseHealth(a),this.logService.createLog({message:`${t.name} replaced Strawberry on ${n.name} with +${a}/+${a}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon});break}n=n.petAhead}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},88513(O,S,i){i.d(S,{v:()=>v});var P=i(46200),c=i(5615),A=i(3279),_=i(75898);class v extends P.i{logService;abilityService;name="Robin";tier=2;pack="Puppy";attack=2;health=3;initAbilities(){this.addAbility(new e(this,this.logService,this.abilityService)),super.initAbilities()}constructor(n,a,l,r,u,g,f,D,k){super(n,a,l),this.logService=n,this.abilityService=a,this.initPet(f,r,u,g,D,k)}}class e extends c.T{logService;abilityService;constructor(n,a,l){super({name:"RobinAbility",owner:n,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:n.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=a,this.abilityService=l}executeAbility(n){const{tiger:r}=n,g=this.owner;let f=new A.D(this.logService,this.abilityService,g.parent,null,null,this.minExpForLevel,null);this.logService.createLog({message:`${g.name} summoned a Nest (level ${this.level}).`,type:"ability",player:g.parent,randomEvent:!1,tiger:r});let D=g.parent.summonPetInFront(g,f);D.success&&(this.logService.createLog({message:`${g.name} gave Nest an Egg.`,type:"ability",player:g.parent,randomEvent:D.randomEvent,tiger:r}),f.givePetEquipment(new _.Q(this.logService))),this.triggerTigerExecution(n)}copy(n){return new e(n,this.logService,this.abilityService)}}},88988(O,S,i){i.d(S,{P:()=>_});var P=i(46200),c=i(5615),A=i(30357);class _ extends P.i{logService;abilityService;name="Squid";tier=2;pack="Golden";attack=5;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"SquidAbility",owner:t,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:t.level,condition:a=>!(this.owner.parent.trumpets<1),abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner;let g=!1,f=u.parent.getPetsWithEquipmentWithSillyFallback("Inked",u),D=u.parent.opponent.getFurthestUpPets(this.level,f,u),k=D.pets;for(let L of k){if(null==L)break;g=!0,L.givePetEquipment(new A.w),this.logService.createLog({message:`${u.name} gave ${L.name} Inked.`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:D.random})}g&&u.parent.spendTrumpets(1,u,r),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},89043(O,S,i){i.d(S,{B:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Opossum";tier=1;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"OpossumAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=this.level;this.logService.createLog({message:`${t.name} gave a random faint pet in the shop +${n}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},89124(O,S,i){i.d(S,{b:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Fake Nessie";tier=1;pack="Custom";hidden=!0;attack=1;health=2;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},89189(O,S,i){var P;i.d(S,{G:()=>r});var c=i(46200),A=i(5615),_=i(33127),v=i(56990),e=i(38129),t=i(74766);const n={Pack1:"Turtle",Pack2:"Puppy",Pack3:"Star",Pack4:"Golden",Pack5:"Unicorn",Danger:"Danger",Custom:"Custom",MiniPack1:"Custom",MiniPack2:"Custom",MiniPack3:"Custom"},a=new Map,l=t??(P||(P=i.t(t,2)));if(Array.isArray(l))for(const g of l){if(!g||"object"!=typeof g)continue;const f=g;if(!f.Name)continue;const D=new Set;for(const k of f.Packs??[]){const L=n[k];L&&D.add(L)}D.size>0&&a.set(f.Name,D)}class r extends c.i{logService;abilityService;name="Tanystropheus";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new u(this,this.logService)),super.initAbilities()}constructor(f,D,k,L,F,j,ee,J,V){super(f,D,k),this.logService=f,this.abilityService=D,this.initPet(ee,L,F,j,J,V)}}class u extends A.T{logService;constructor(f,D){super({name:"Tanystropheus Ability",owner:f,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:f.level,abilityFunction:k=>this.executeAbility(k)}),this.logService=D}executeAbility(f){const{tiger:D,pteranodon:k}=f,L=this.owner,F=L.parent.pack,j=_.I.getInjector().get(v.T),ee=L.parent.petArray.some(ce=>this.isPetInActivePack(ce,F,j)),J=L.parent.petArray.some(ce=>this.isFoodInActivePack(ce.equipment?.name,F));if(ee||J)return void this.triggerTigerExecution(f);const V=L.parent.getRandomEnemyPetsWithSillyFallback(3,[],!1,!0,L),ie=V.pets;if(!ie.length)return void this.triggerTigerExecution(f);const oe=this.level;for(const ce of ie)ce&&(ce.exp=Math.max(0,(ce.exp??0)-oe));this.logService.createLog({message:`${L.name} removed ${oe} XP from ${ie.map(ce=>ce.name).join(", ")}.`,type:"ability",player:L.parent,tiger:D,pteranodon:k,randomEvent:V.random}),this.triggerTigerExecution(f)}isPetInActivePack(f,D,k){if(!k)return f.pack===D;if(e.$.includes(D))return(k.basePackPetsByName[D]?.get(f.tier)??[]).includes(f.name);const L=k.playerCustomPackPets.get(D);return L?L.get(f.tier)?.includes(f.name)??!1:f.pack===D}isFoodInActivePack(f,D){if(!f)return!1;const k=a.get(f);return!!k&&k.has(D)}copy(f){return new u(f,this.logService)}}},89407(O,S,i){i.d(S,{r:()=>A});var P=i(39156),c=i(76351);class A extends P.E{resolveTrumpetGainTarget(v){return(0,c.gq)(this,v)}gainTrumpets(v,e,t,n,a,l){(0,c.eK)(this,v,e,this.logService,t,n,a,l)}spendTrumpets(v,e,t){(0,c.ZM)(this,v,e,this.logService,t)}checkGoldenSpawn(){(0,c.rd)(this,this.abilityService,this.logService,this.gameService)}}},89443(O,S,i){i.d(S,{L:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;name="Helmeted Hornbill";tier=6;pack="Danger";health=4;attack=5;constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}},89579(O,S,i){i.d(S,{d:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Blowfish";tier=4;pack="Turtle";attack=3;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BlowfishAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=3*this.level,g=r.parent.opponent.getRandomPet([],!1,!0,!1,r);g.pet&&r.snipePet(g.pet,u,g.random,a),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},89732(O,S,i){i.d(S,{K:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Swordfish";tier=5;pack="Star";attack=6;health=9;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"SwordFishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,r=a.parent.opponent.getHighestHealthPet(void 0,a),u=r.pet,g=a.attack*this.level;u?(a.snipePet(u,g,r.random,t,n),this.logService.createLog({message:`${a.name} deals ${g} damage to ${u.name}.`,type:"ability",player:a.parent,sourcePet:a,targetPet:u,tiger:t,pteranodon:n,randomEvent:r.random})):this.logService.createLog({message:`${a.name} could not find an enemy to attack.`,type:"ability",player:a.parent,sourcePet:a,tiger:t,pteranodon:n}),a.snipePet(a,g,!1,t,n),this.logService.createLog({message:`${a.name} deals ${g} damage to itself.`,type:"ability",player:a.parent,sourcePet:a,targetPet:a,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},90021(O,S,i){i.d(S,{A:()=>_});var P=i(46200),c=i(14787),A=i(5615);class _ extends P.i{logService;abilityService;name="Cockroach";tier=1;pack="Star";attack=1;health=1;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends A.T{logService;abilityService;constructor(t,n,a){super({name:"CockroachAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner,g=this.level,f=new c.s(this.logService,this.abilityService,u.parent,1,1,0,0);let D=u.parent.summonPet(f,u.savedPosition,!1,u);if(D.success){this.logService.createLog({message:`${u.name} summoned a 1/1 Cockroach.`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:D.randomEvent});let k=u.parent.getSpecificPet(u,f);k.pet.increaseExp(g),this.logService.createLog({message:`${u.name} gave ${k.pet.name} +${g} exp.`,type:"ability",player:u.parent,tiger:l,randomEvent:k.random})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},90285(O,S,i){i.d(S,{C:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Chipmunk";tier=1;pack="Puppy";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ChipmunkAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t.equipment,a=this.level;if(!n)return this.logService.createLog({message:`${t.name} had no food perk to stock.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e);this.logService.createLog({message:`${t.name} stocked ${a} free ${n.name}${1===a?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},90340(O,S,i){i.d(S,{A:()=>c});const c=function P(A){return this.__data__.get(A)}},90417(O,S,i){i.d(S,{M:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Ili Pika";tier=1;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"IliPikaAbility",owner:t,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:t.level,precondition:a=>{const{triggerPet:l}=a,g=(0,A.lK)(this.owner,l).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:l}=t,u=this.owner;let g=(0,A.lK)(u,a),f=g.pet;if(!f)return;let D=1*this.level;f.attack>f.health?(f.increaseAttack(D),this.logService.createLog({message:`${u.name} give ${D} attack to ${f.name}.`,type:"ability",player:u.parent,tiger:l,randomEvent:g.random})):(f.increaseHealth(D),this.logService.createLog({message:`${u.name} give ${D} health to ${f.name}.`,type:"ability",player:u.parent,tiger:l,randomEvent:g.random})),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},90771(O,S,i){i.d(S,{m:()=>A});var P=i(46200);i(5615);class A extends P.i{logService;abilityService;petService;name="Bonobo";tier=4;pack="Danger";attack=3;health=3;constructor(e,t,n,a,l,r,u,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,l,r,u,f,D)}}},90966(O,S,i){i.d(S,{m:()=>t});var P=i(83028),c=i(47868),A=i(24111),_=i(49230),v=i(1744),e=i(94185);class t{logService;abilityService;gameService;equipmentFactory;cachedEquipment=null;cachedAilments=null;constructor(a,l,r,u){this.logService=a,this.abilityService=l,this.gameService=r,this.equipmentFactory=u,this.logService=(0,P.V)(this.logService)}getInstanceOfAllEquipment(){return this.cachedEquipment||(this.cachedEquipment=this.equipmentFactory.getAllEquipment()),this.cachedEquipment}getInstanceOfAllAilments(){return this.cachedAilments||(this.cachedAilments=this.equipmentFactory.getAllAilments()),this.cachedAilments}isEquipmentRandom(a){const l=this.getInstanceOfAllEquipment(),r=this.getInstanceOfAllAilments();return(l.get(a)?.hasRandomEvents??!1)||(r.get(a)?.hasRandomEvents??!1)}static USEFUL_PERKS=new Map([["Honey",1],["Strawberry",1],["Egg",1],["Cake Slice",1],["Cashew Nut",1],["Nachos",1],["Lime",2],["Meat Bone",2],["Cherry",2],["Bok Choy",2],["Kiwifruit",2],["Fairy Dust",2],["Garlic",3],["Gingerbread Man",3],["Fig",3],["Cucumber",3],["Croissant",3],["Squash",3],["Banana",4],["Love Potion",4],["Pie",4],["Grapes",4],["Cheese",4],["Cod Roe",4],["Salt",4],["Fortune Cookie",4],["Easter Egg",5],["Magic Beans",5],["Chili",5],["Lemon",5],["Durian",5],["Honeydew Melon",5],["Maple Syrup",4],["Cocoa Bean",5],["White Okra",5],["Popcorn",6],["Steak",6],["Pancakes",6],["Yggdrasil Fruit",6],["Melon",6],["Tomato",6],["Sudduth Tomato",6],["Pita Bread",6],["Seaweed",5],["Caramel",4],["Baguette",4]]);isUsefulPerk(a){return t.USEFUL_PERKS.has(a)}getUsefulPerksByTier(a){const l=this.getInstanceOfAllEquipment(),r=[];for(const[u,g]of t.USEFUL_PERKS.entries())g===a&&l.has(u)&&r.push(l.get(u));return r}getUsefulPerks(){const a=this.getInstanceOfAllEquipment(),l=[];for(const r of t.USEFUL_PERKS.keys())a.has(r)&&l.push(a.get(r));return l}static \u0275fac=function(l){return new(l||t)(c.KVO(A.K),c.KVO(_.K),c.KVO(v.w),c.KVO(e.c))};static \u0275prov=c.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}},91039(O,S,i){i.d(S,{j:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Jersey Devil";tier=5;pack="Unicorn";attack=3;health=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;pendingBuffs=new Map;constructor(t,n){super({name:"JerseyDevilAbility",owner:t,triggers:["FriendSummoned","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{gameApi:n,triggerPet:a,tiger:l,pteranodon:r}=t,u=this.owner;if("EndTurn"===t.trigger)return this.resetBuffs(),void this.triggerTigerExecution(t);if(!a)return;let f=u.parent===n.player?n.playerLevel3Sold:n.opponentLevel3Sold;f=Math.min(f??0,5);const D=this.level*f,k=(0,A.Uj)(u,a,(j,ee)=>j.parent.getSpecificPet(j,ee));if(!k.pet||D<=0)return;const L=k.pet;L.increaseAttack(D),L.increaseHealth(D);const F=this.pendingBuffs.get(L)??{attack:0,health:0};this.pendingBuffs.set(L,{attack:F.attack+D,health:F.health+D}),(0,A.rv)(this.logService,u,`${u.name} gave ${L.name} ${D} attack and ${D} health until next turn.`,l,r,{randomEvent:k.random}),this.triggerTigerExecution(t)}resetBuffs(){for(const[t,n]of this.pendingBuffs)t&&(n.attack&&t.increaseAttack(-n.attack),n.health&&t.increaseHealth(-n.health));this.pendingBuffs.clear()}copy(t){return new v(t,this.logService)}}},91066(O,S,i){i.d(S,{e:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Black Bear";tier=6;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;foodsEatenThisTurn=0;seededFromShop=!1;constructor(e,t){super({name:"Black Bear Ability",owner:e,triggers:["StartTurn","FoodEatenByThis","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.foodsEatenThisTurn=0,void(this.seededFromShop=!1);if(!this.seededFromShop){const n=t.foodsEaten??0;n>0&&(this.foodsEatenThisTurn=Math.max(this.foodsEatenThisTurn,n)),this.seededFromShop=!0}if("FoodEatenByThis"!==e.trigger){if("PostRemovalFaint"===e.trigger){const a=4*this.level*this.foodsEatenThisTurn;if(a<=0)return void this.triggerTigerExecution(e);const l=t.parent.getRandomEnemyPetsWithSillyFallback(1,[],!1,!0,t),r=l.pets[0];if(!r)return void this.triggerTigerExecution(e);t.dealDamage(r,a),this.logService.createLog({message:`${t.name} dealt ${a} damage to ${r.name} after eating ${this.foodsEatenThisTurn} food item${1===this.foodsEatenThisTurn?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:l.random}),this.triggerTigerExecution(e)}}else this.foodsEatenThisTurn++}copy(e){return new _(e,this.logService)}}},91298(O,S,i){i.d(S,{J:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Crocodile";tier=5;pack="Turtle";attack=8;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"CrocodileAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;for(let u=0;u<this.level;u++){let g=r.parent.opponent.getLastPet(void 0,r),f=g.pet;f&&r.snipePet(f,8,g.random,a)}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},91442(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Gazelle";tier=3;pack="Custom";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;pendingAttackBuff=0;pendingHealthBuff=0;constructor(e,t){super({name:"Gazelle Ability",owner:e,triggers:["StartTurn","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{trigger:t,gameApi:n,tiger:a,pteranodon:l}=e,r=this.owner;"StartTurn"===t?this.applyBonus(n,r,a,l):"EndTurn"===t&&this.removeBonus(r)}applyBonus(e,t,n,a){const r=Math.max(0,((t.parent===e?.player?e.playerGoldSpent:e?.opponentGoldSpent)??0)-10);if(r<=0)return this.pendingAttackBuff=0,void(this.pendingHealthBuff=0);const f=r*[2,4,6][Math.min(this.level-1,2)],D=r*[1,2,3][Math.min(this.level-1,2)];t.increaseAttack(f),t.increaseHealth(D),this.pendingAttackBuff=f,this.pendingHealthBuff=D,this.logService.createLog({message:`${t.name} gained +${f}/+${D} (per gold over 10) from ${r} gold.`,type:"ability",player:t.parent,tiger:n,pteranodon:a})}removeBonus(e){(0!==this.pendingAttackBuff||0!==this.pendingHealthBuff)&&(e.increaseAttack(-this.pendingAttackBuff),e.increaseHealth(-this.pendingHealthBuff),this.pendingAttackBuff=0,this.pendingHealthBuff=0)}copy(e){return new _(e,this.logService)}}},91543(O,S,i){i.d(S,{Q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Banggai Cardinalfish";tier=5;pack="Danger";attack=4;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BanggaiCardinalfishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=6*this.level,f=r.parent.getAll(!0,r,!0);for(let D of f.pets){let k=Math.max(D.attack-u,4);D.attack=k,this.logService.createLog({message:`${r.name} reduced ${D.name} attack by ${u} to ${k}.`,type:"ability",player:r.parent,tiger:a,randomEvent:f.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},91576(O,S,i){i.d(S,{k:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="California Condor";tier=6;pack="Danger";attack=10;health=6;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,l,r,u,f,D)}}class _ extends c.T{logService;constructor(e,t){super({name:"CaliforniaCondorAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let u=n;!u||"California Condor"===u.baseName||"California Condor"===u.name||(this.logService.createLog({message:`California Condor copied ${u.name}'s level ${r.level} ability`,type:"ability",player:r.parent,tiger:a}),r.gainAbilities(u,"Pet"),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},91589(O,S,i){i.d(S,{B:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;name="Elk";tier=4;pack="Star";attack=2;health=6;initAbilities(){this.addAbility(new t(this,this.logService,this.abilityService)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L){super(a,l,r),this.logService=a,this.abilityService=l,this.initPet(D,u,g,f,k,L)}}class t extends c.T{logService;abilityService;constructor(a,l,r){super({name:"ElkAbility",owner:a,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:a.level,abilityFunction:u=>{this.executeAbility(u)}}),this.logService=l,this.abilityService=r}executeAbility(a){const l=this.owner,r=l.parent.petArray.filter(D=>D.alive&&D.isSellPet());if(0===r.length)return void this.triggerTigerExecution(a);const u=(0,A.k6)({key:"pet.elk-end-turn-target",label:(0,v.I)(l,"Elk end turn sell target"),options:r.map(D=>({id:`${D.savedPosition+1}:${D.name}`,label:`P${D.savedPosition+1} ${D.name}`}))},()=>(0,_.hw)(0,r.length-1)),g=r[u.index],f=2*this.level;g.increaseSellValue(f),this.logService.createLog({message:`${l.name} increased ${g.name}'s sell value by ${f}.`,type:"ability",player:l.parent,tiger:a.tiger,pteranodon:a.pteranodon,randomEvent:u.randomEvent}),this.triggerTigerExecution(a)}copy(a){return new t(a,this.logService,this.abilityService)}}},91679(O,S,i){let P;function c(){return P}function A(n){const a=P;return P=n,a}i.d(S,{Af:()=>c,c4:()=>t,mu:()=>A});const v=Symbol("NotFound");function t(n){return n===v||"\u0275NotFound"===n?.name}Error},91946(O,S,i){i.d(S,{X:()=>A,j:()=>_});var P=i(50873),c=i(5615);class A extends P.L{name="Cash Register";tier=4;onBreak(e){}}class _ extends c.T{constructor(e,t){super({name:"CashRegisterAbility",triggers:[],owner:e,abilityType:"Pet",abilityFunction:n=>{}})}}},91982(O,S,i){i.d(S,{y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Hawk";tier=4;pack="Star";attack=5;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"HawkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.getOppositeEnemyPet(r),g=u.pet;g&&r.snipePet(g,7*this.level,u.random,a),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},92060(O,S,i){i.d(S,{y:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Sea Turtle";tier=2;pack="Golden";attack=1;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"SeaTurtleAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:l,pteranodon:r}=t,u=this.owner,g=2*this.level,f=(0,A.Uj)(u,a);if(!f.pet)return;const D=f.pet;D.increaseHealth(g),(0,A.rv)(this.logService,u,`${u.name} gave ${D.name} ${g} health.`,l,r,{randomEvent:f.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},92083(O,S,i){i.d(S,{Y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Lioness";tier=6;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;usesThisTurn=0;constructor(e,t){super({name:"LionessAbility",owner:e,triggers:["StartTurn","FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,{trigger:n,triggerPet:a,tiger:l,pteranodon:r}=e;if("StartTurn"===n)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if("FriendSold"!==n)return void this.triggerTigerExecution(e);if(this.usesThisTurn>=2)return void this.triggerTigerExecution(e);this.usesThisTurn++;const u=a?.tier??t.tier,g=t.parent.futureShopBuffs??new Map,f=g.get(u)??{attack:0,health:0};f.attack+=this.level,f.health+=this.level,g.set(u,f),t.parent.futureShopBuffs=g,this.logService.createLog({message:`${t.name} gave future tier ${u} shop pets +${this.level}/+${this.level} (uses ${this.usesThisTurn}/2 this turn).`,type:"ability",player:t.parent,tiger:l,pteranodon:r}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},92101(O,S,i){function P(c){c.health=c.originalHealth,c.attack=c.originalAttack,c.equipment=c.originalEquipment,c.lastLostEquipment=null,c.mana=c.originalMana,c.triggersConsumed=c.originalTriggersConsumed,c.foodsEaten=c.originalFoodsEaten,c.exp=c.originalExp,c.timesHurt=c.originalTimesHurt,c.timesAttacked=0,c.abilityCounter=0,c.transformed=!1,c.transformedInto=null,c.currentTarget=null,c.lastAttacker=null,c.killedBy=null,c.swallowedPets=[],c.targettedFriends.clear(),c.savedPosition=c.originalSavedPosition,c.abilityList=[...c.originalAbilityList],c.initAbilityUses(),c.done=!1,c.seenDead=!1,c.removed=!1,c.jumped=!1,c.clearFrontTriggered=!1;try{c.equipment?.reset()}catch(A){console.warn("equipment reset failed",c.equipment),console.error(A)}c.equipment&&(c.equipment.multiplier=c.equipment.baseMultiplier??1,c.equipment.multiplierMessage="")}i.d(S,{O:()=>P})},92244(O,S,i){i.d(S,{_:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Tiger";tier=6;pack="Turtle";attack=6;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"TigerAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){}copy(e){return new _(e,this.logService,this.abilityService)}}},92248(O,S,i){i.d(S,{X:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Panther";tier=5;pack="Puppy";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"PantherAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},92495(O,S,i){i.d(S,{W:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Horse";tier=1;pack="Turtle";health=1;attack=2;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"HorseAbility",owner:t,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:l,pteranodon:r}=t,u=this.owner,g=(0,A.Uj)(u,a);if(!g.pet)return;const f=g.pet;f.increaseAttack(this.level),(0,A.rv)(this.logService,u,`${u.name} gave ${f.name} ${this.level} attack`,l,r,{randomEvent:g.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},92661(O,S,i){i.d(S,{A:()=>v});var P=i(63080),c=i(42661);const v=function _(e){return(0,c.A)(e)&&"[object Set]"==(0,P.A)(e)}},92943(O,S,i){i.d(S,{A:()=>v});var P=i(59320),c=i(73180),A=i(86568);const v=function _(){this.size=0,this.__data__={hash:new P.A,map:new(A.A||c.A),string:new P.A}}},92952(O,S,i){i.d(S,{J:()=>c});var P=i(46200);class c extends P.i{logService;abilityService;name="Cooked Roach";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(_,v,e,t,n,a,l,r,u){super(_,v,e),this.logService=_,this.abilityService=v,this.initPet(l,t,n,a,r,u)}}},92990(O,S,i){i.d(S,{_:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Dimetrodon";tier=3;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class _ extends P.i{logService;abilityService;name="Dimetrodon";tier=3;pack="Custom";hidden=!0;constructor(t,n,a,l,r,u,g,f){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,null,f)}initAbilities(){}}class v extends c.T{logService;constructor(t,n){super({name:"Dimetrodon Ability",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>this.executeAbility(a)}),this.logService=n}executeAbility(t){const{tiger:n,pteranodon:a}=t,l=this.owner,r=this.level,u=5*r,f=new _(this.logService,l.abilityService,l.parent,u,u);if(l.parent.summonPet(f,l.position).success)this.logService.createLog({message:`${l.name} summoned a ${u}/${u} Dimetrodon.`,type:"ability",player:l.parent,tiger:n,pteranodon:a});else{const k=r,L=l.parent.petArray.filter(F=>F&&F!==l);for(const F of L)F.increaseAttack(k),F.increaseHealth(k);L.length>0&&this.logService.createLog({message:`${l.name} gave friends +${k}/+${k}.`,type:"ability",player:l.parent,tiger:n,pteranodon:a})}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},93012(O,S,i){i.d(S,{A:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Amsterdam Albatross";tier=6;pack="Danger";attack=3;health=6;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"AmsterdamAlbatrossAbility",owner:t,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:t.level,maxUses:2,precondition:a=>{const{triggerPet:l}=a,g=(0,A.lK)(this.owner,l).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:l}=t,u=this.owner;let g=2*u.level,f=2*u.level,k=(0,A.lK)(u,a).pet;null!=k&&(k.increaseAttack(g),k.increaseHealth(f),this.logService.createLog({message:`${u.name} gave ${k.name} +${g} attack and +${f} health.`,type:"ability",player:u.parent,tiger:l}),this.triggerTigerExecution(t))}copy(t){return new v(t,this.logService)}}},93311(O,S,i){i.d(S,{T:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Eagle Owl";tier=6;pack="Custom";attack=8;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Eagle Owl Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const t=this.owner,n=Math.max(0,t.battlesFought??0);if(n<=0)return void this.triggerTigerExecution(e);const l=n*this.level,r=t.parent.getRandomPets(3,[t],!0,!1,t),u=r.pets;if(0!==u.length){for(const g of u)g.increaseAttack(l),g.increaseHealth(l);this.logService.createLog({message:`${t.name} gave ${u.map(g=>g.name).join(", ")} +${l}/+${l} after fighting ${n} battle${1===n?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:r.random}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},93348(O,S,i){i.d(S,{w:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Guineafowl";tier=3;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"GuineafowlAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{pteranodon:l}=e,r=this.owner;let u=2*this.level;const g=r.parent.resolveTrumpetGainTarget(r);g.player.gainTrumpets(u,r,l,void 0,void 0,g.random),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},93365(O,S,i){i.d(S,{p:()=>e});var P=i(46200),c=i(5615),A=i(58857),_=i(61850),v=i(79222);class e extends P.i{logService;abilityService;name="Spotted Handfish";tier=2;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new t(this)),super.initAbilities()}constructor(a,l,r,u,g,f,D,k,L){super(a,l,r),this.logService=a,this.abilityService=l,this.initPet(D,u,g,f,k,L)}}class t extends c.T{constructor(a){super({name:"Spotted Handfish Ability",owner:a,triggers:["StartTurn"],abilityType:"Pet",abilitylevel:a.level,abilityFunction:l=>this.executeAbility(l)})}executeAbility(a){const{gameApi:l}=a,r=this.owner,u=this.level,g=["Cold","Crisp","Dazed","Icky","Inked","Spooked","Weak","Silly","Bloated","Confused","Cursed","Sad","Sleepy","Webbed"];for(let f=0;f<u;f++){const D=(0,A.k6)({key:"pet.spotted-handfish-ailment",label:(0,v.I)(r,"Spotted Handfish canned ailment",f+1),options:g.map(L=>({id:L,label:L}))},()=>(0,_.hw)(0,g.length-1)),k=g[D.index];r.parent.cannedAilments.push(k),l?.logService?.createLog({message:`${r.name} stocked a canned ${k}.`,type:"ability",player:r.parent,randomEvent:D.randomEvent})}this.triggerTigerExecution(a)}copy(a){return new t(a)}}},93525(O,S,i){i.d(S,{B:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Hawaiian Monk Seal";tier=5;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"HawaiianMonkSealAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let u=r.parent.getSpecificPet(r,n),g=u.pet;if(g&&!r.targettedFriends.has(g)){if(r.targettedFriends.size<3&&g.alive){let f=2*r.level;g.increaseHealth(f),r.targettedFriends.add(g),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} health`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random})}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},93533(O,S,i){i.d(S,{G:()=>v,q:()=>_});var P=i(40482),c=i(50873),A=i(5615);class _ extends c.L{logService;toyService;petService;gameService;name="Microwave Oven";tier=2;startOfBattle(t,n){let a=this.parent.getPetsWithEquipment("perk"),r=this.parent.getFurthestUpPets(this.level,a).pets;if(0!=r.length)for(let u of r)this.logService.createLog({message:`${this.name} gave ${u.name} Popcorn.`,type:"ability",player:this.parent,puma:n}),u.givePetEquipment(new P.m(this.logService,this.petService,this.gameService))}constructor(t,n,a,l,r,u){super(t,n,a,l),this.logService=t,this.toyService=n,this.petService=r,this.gameService=u}}class v extends A.T{constructor(t,n,a){super({name:"MicrowaveOvenAbility",triggers:["StartBattle"],owner:t,abilityType:"Pet",abilityFunction:l=>{const{puma:r}=l;let u=t.parent.getPetsWithEquipment("perk"),f=t.parent.getFurthestUpPets(this.abilityLevel,u,t).pets;if(0!=f.length)for(let D of f){n.createLog({message:`${t.name} gave ${D.name} Popcorn (Microwave Oven).`,type:"ability",player:t.parent,puma:r});const k=a.getInstanceOfAllEquipment().get("Popcorn");D.givePetEquipment(k)}}})}}},93584(O,S,i){i.d(S,{h:()=>A});var P=i(46200),c=i(5615);class A extends P.i{constructor(e,t,n){super(e,t,n),this.name="Brazillian Treehopper",this.tier=3,this.pack="Custom",this.attack=2,this.health=3}initAbilities(){this.abilityList=[new _(this,this.logService)],super.initAbilities()}}class _ extends c.T{logService;constructor(e,t){super({name:"Brazillian Treehopper Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,u=a.parent.getRandomEnemyPetsWithSillyFallback(2*this.level,[],!1,!1,a).pets;if(u.length>1){let g=0,f=0;for(const L of u)g+=L.attack,f+=L.health;const D=Math.floor(g/u.length),k=Math.floor(f/u.length);for(const L of u)L.attack=Math.max(1,D),L.health=Math.max(1,k);this.logService.createLog({message:`${a.name} averaged stats of ${u.length} enemies to ${D}/${k}.`,type:"ability",player:a.parent,tiger:t,pteranodon:n})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},93614(O,S,i){i.d(S,{l:()=>A,v:()=>_});var P=i(50873),c=i(5615);class A extends P.L{name="Flashlight";tier=5;onBreak(e,t){let n=5*this.level,a=this.parent.furthestUpPet;null!=a&&(a.increaseAttack(n),a.increaseHealth(n),this.logService.createLog({message:`${this.name} gave ${a.name} ${n} attack and ${n} health.`,type:"ability",player:this.parent,puma:t}))}}class _ extends c.T{logService;constructor(e,t){super({name:"FlashlightAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=5*this.level,g=r.parent.getFurthestUpPet(r),f=g.pet;null!=f&&(f.increaseAttack(u),f.increaseHealth(u),this.logService.createLog({message:`Flashlight Ability gave ${f.name} ${u} attack and ${u} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},93699(O,S,i){i.d(S,{k:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Taita Thrush";tier=5;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TaitaThrushAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=this.level,g=r.parent.getAll(!1,r,!0);for(let f of g.pets)f.increaseAttack(u),f.increaseHealth(u),this.logService.createLog({message:`${r.name} gave ${f.name} +${u} attack and +${u} health`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random});this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},94185(O,S,i){var P,c;i.d(S,{c:()=>F});var A=i(56990),_=i(33127),v=i(85063),e=i(74766),t=i(98935),n=i(83028),a=i(47868),l=i(24111),r=i(49230),u=i(1744);const g=new Map([["Blueberry",1],["Golden Egg",1],["Gros Michel Banana",1],["Health Potion",1],["Honey",1],["Macaron",1],["Unagi",1],["Caramel",2],["Cherry",2],["Chocolate Cake",2],["Churros",2],["Cod Roe",2],["Eucalyptus",2],["Faint Bread",2],["Fairy Dust",2],["Meat Bone",2],["Radish",2],["Sudduth Tomato",2],["Brussels Sprout",3],["Cucumber",3],["Fig",3],["Gingerbread Man",3],["Pineapple",3],["Rambutan",3],["Sausage",3],["Seaweed",3],["White Truffle",3],["Baguette",4],["Banana",4],["Cauliflower",4],["Cheese",4],["Donut",4],["Fortune Cookie",4],["Grapes",4],["Melon Slice",4],["Oyster Mushroom",4],["Potato",4],["Carrot",5],["Chili",5],["Durian",5],["Easter Egg",5],["Eggplant",5],["Kiwano",5],["Magic Beans",5],["Onion",4],["Pepper",5],["Mild Chili",4],["Popcorn",6],["Sardinian Currant",6],["Yggdrasil Fruit",6]]),f=[{pattern:/^Start of turn:/i,trigger:"StartTurn"},{pattern:/^End turn:/i,trigger:"EndTurn"},{pattern:/^Before battle:/i,trigger:"BeforeStartBattle"},{pattern:/^Start of battle:/i,trigger:"StartBattle"},{pattern:/^Before attack:/i,trigger:"BeforeThisAttacks"},{pattern:/^Faint:/i,trigger:"Faint"},{pattern:/^Hurt:/i,trigger:"ThisHurt"},{pattern:/^Anyone attacks:/i,trigger:"AnyoneAttack"},{pattern:/^Empty front space:/i,trigger:"EmptyFrontSpace"},{pattern:/^Knock out:/i,trigger:"KnockOut"}],D=t??(c||(c=i.t(t,2))),k=new Map((D??[]).filter(j=>j?.Name).map(j=>{const J=[],V=(j.Ability??"").trim();for(const{pattern:ie,trigger:oe}of f)ie.test(V)&&!J.includes(oe)&&J.push(oe);return[j.Name,J]}));function L(j,ee){if(!j)return;const J=k.get(ee);J&&J.length&&(j.triggers=[...J])}let F=(()=>{class j{logService;abilityService;gameService;randomEquipmentSet=new Set;constructor(J,V,ie){this.logService=J,this.abilityService=V,this.gameService=ie,this.logService=(0,n.V)(this.logService),this.initRandomEquipment()}initRandomEquipment(){const J=e??(P||(P=i.t(e,2)));if(Array.isArray(J))for(const V of J)V&&"object"==typeof V&&!0===V.Random&&"string"==typeof V.Name&&this.randomEquipmentSet.add(V.Name)}getAllEquipment(){const J=_.I.getInjector().get(A.T),V=new Map,ie={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService,petService:J};for(const[oe,ce]of Object.entries(v.EA)){const ve=new ce;this.randomEquipmentSet.has(oe)&&(ve.hasRandomEvents=!0),L(ve,oe),V.set(oe,ve)}for(const[oe,ce]of Object.entries(v.xd)){const ve=new ce(this.logService);this.randomEquipmentSet.has(oe)&&(ve.hasRandomEvents=!0),L(ve,oe),V.set(oe,ve)}for(const[oe,ce]of Object.entries(v.Nb)){const ve=new ce(this.logService,this.abilityService);this.randomEquipmentSet.has(oe)&&(ve.hasRandomEvents=!0),L(ve,oe),V.set(oe,ve)}for(const[oe,ce]of Object.entries(v._y)){const ve=ce(ie);this.randomEquipmentSet.has(oe)&&(ve.hasRandomEvents=!0),L(ve,oe),V.set(oe,ve)}for(const[oe,ce]of V.entries())if(null==ce?.tier){const ve=g.get(oe);null!=ve&&(ce.tier=ve)}return V}getAllAilments(){const J=new Map,V={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService,petService:null};for(const[ie,oe]of Object.entries(v.RY)){const ce=new oe;this.randomEquipmentSet.has(ie)&&(ce.hasRandomEvents=!0),L(ce,ie),J.set(ie,ce)}for(const[ie,oe]of Object.entries(v.G1)){const ce=oe(V);this.randomEquipmentSet.has(ie)&&(ce.hasRandomEvents=!0),L(ce,ie),J.set(ie,ce)}return J}static \u0275fac=function(V){return new(V||j)(a.KVO(l.K),a.KVO(r.K),a.KVO(u.w))};static \u0275prov=a.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})()},94225(O,S,i){i.d(S,{w:()=>A});var P=i(30357),c=i(50873);class A extends c.L{name="Pen";tier=1;startOfBattle(v,e){const t=this.parent.getFurthestUpPets(2);for(const n of t.pets)n.givePetEquipment(new P.w),this.logService.createLog({message:`${this.name} gave ${n.name} Inked.`,type:"ability",player:this.parent,puma:e,randomEvent:t.random})}}},94226(O,S,i){i.d(S,{A:()=>_});var P=i(45525),c=i(1860);const _=(0,P.A)(c.A,"Set")},94402(O,S,i){i.d(S,{A:()=>A});var P=i(50336);const A=function c(_){var v=this.__data__,e=(0,P.A)(v,_);return e<0?void 0:v[e][1]}},94433(O,S,i){i.d(S,{P:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Monkey";tier=5;pack="Turtle";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MonkeyAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner,n=t.parent.getFurthestUpPet(t),a=n.pet;if(!a)return void this.triggerTigerExecution(e);const l=2*this.level;a.increaseAttack(l),a.increaseHealth(l),this.logService.createLog({message:`${t.name} gave ${a.name} +${l} attack and +${l} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},94528(O,S,i){i.d(S,{A:()=>c});const c=function P(A,_){var v=-1,e=A.length;for(_||(_=Array(e));++v<e;)_[v]=A[v];return _}},94640(O,S,i){i.d(S,{F:()=>c});var P=i(50873);class c extends P.L{name="Scale";tier=1;abominationHasBehemoth(_){return"Abomination"===_?.name&&[1,2,3].some(v=>"Behemoth"===_[`abominationSwallowedPet${v}`])}getAttackCap(_){return"Behemoth"===_?.name||this.abominationHasBehemoth(_)?100:50}getHealthCap(_){return"Behemoth"===_?.name||"Giant Tortoise"===_?.name||this.abominationHasBehemoth(_)?100:50}startOfBattle(_,v){const e=_?.turnNumber??1;for(const t of this.parent.petArray){const n=Math.min(e,this.getAttackCap(t)),a=Math.min(e,this.getHealthCap(t)),l=n-t.attack,r=a-t.health;0!==l&&t.increaseAttack(l),0!==r&&t.increaseHealth(r),this.logService.createLog({message:`${this.name} set ${t.name} to ${n}/${a}.`,type:"ability",player:this.parent,puma:v})}}}},94798(O,S,i){i.d(S,{s:()=>P});const P={iriomoteCat:{1:["Ant","Mosquito","Cricket","Moth","Beetle","Chihuahua","Cockroach","Hummingbird","Frilled Dragon","Farmer Mouse","Budgie","Groundhog","Cone Snail","Goose","Barghest","Tsuchinoko","Alchemedes","Bunyip","Sneaky Egg","Ethiopian Wolf","African Wild Dog","Volcano Snail","Pygmy Seahorse","Nudibranch"],2:["Crab","Hedgehog","Flamingo","Spider","Robin","Beluga Sturgeon","Stork","Bass","Panda","Seahorse","Roadrunner","Mink","Meerkat","Black Necked Stilt","Sea Urchin","Honduran White Bat","Frost Wolf","Ogopogo","Thunderbird","Bigfoot","Takhi","White-Bellied Heron","Taita Shrew","Nightcrawler","Pink Robin","Fruit Fly","Olm","Tadpole","Thorny Dragon"],3:["Dodo","Dolphin","Sheep","Hoopoe Bird","Pug","Anteater","Eel","Bear","Farmer Pig","Brazillian Treehopper","Flea","Weasel","Osprey","Blue Dragon","Betta Fish","Skeleton Dog","Mandrake","Fur-Bearing Trout","Mana Hound","Roloway Monkey","Amami Rabbit","Hirola","Tucuxi","Tree Kangaroo","Slime","Dimetrodon","Gerenuk","Pangasius","Vampire Parrot"]},radish:{1:["Walnut","Honey","Egg","Strawberry"],2:["Meat Bone","Lime","Caramel","Bok Choy","Fairy Dust","Faint Bread","Cod Roe"],3:["Garlic","Squash","Seaweed","Fig","Brussels Sprout"],4:["Fortune Cookie","Salt","Baguette","Cheese","Banana","Ambrosia"],5:["Chili","Lemon","Pepper","Durian","Honeydew Melon","Easter Egg"],6:["Steak","Melon","Pita Bread","Tomato","Yggdrasil Fruit","Popcorn","White Okra"]},rolowayMonkey:["Peacock","Camel","Porcupine","Lizard","Guineafowl"],goldenTamarin:["Crocodile","Tarantula Hawk","Red Dragon","Werewolf","Snow Leopard","Sea Cucumber"],bayCat:["Skunk","Fossa","Hawk","Lynx","Platybelodon","Kraken","Tasmanian Devil","Humphead Wrasse"]}},95006(O,S,i){i.d(S,{T:()=>c});var P=i(70762);function c(v,e){return function(n){if("function"!=typeof v)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new A(v,e))}}class A{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new _(e,this.project,this.thisArg))}}class _ extends P.v{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},95015(O,S,i){i.d(S,{Y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Manatee";tier=4;pack="Golden";attack=2;health=11;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"ManateeAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner,n=t.petAhead,a=2*this.level,l=this.level;t.dealDamage(t,5),n?(n.increaseAttack(a),n.increaseHealth(l),this.logService.createLog({message:`${t.name} took 5 damage and gave ${n.name} +${a}/+${l}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})):this.logService.createLog({message:`${t.name} took 5 damage.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},95033(O,S,i){i.d(S,{Y:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Togian Babirusa";tier=1;pack="Danger";attack=3;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"TogianBabirusaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=r.parent.opponent.getRandomPet([],!1,!1,!1,r);u.pet&&(u.pet.increaseHealth(1),this.logService.createLog({message:`${r.name} gave ${u.pet.name} +1 health.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:u.random})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},95244(O,S,i){i.d(S,{H:()=>v});var P=i(22097),c=i(64888),A=i(72560),_=i(5615);class v extends P.${logService;abilityService;name="Yggdrasil Fruit";equipmentClass="afterFaint";callback=n=>{n.addAbility(new e(n,this,this.logService,this.abilityService))};constructor(n,a){super(),this.logService=n,this.abilityService=a}}class e extends _.T{equipment;logService;abilityService;constructor(n,a,l,r){super({name:"YggdrasilFruitAbility",owner:n,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:u=>{this.executeAbility(u)}}),this.equipment=a,this.logService=l,this.abilityService=r}executeAbility(n){const a=this.owner;for(let l=0;l<this.equipment.multiplier;l++){let r=new c.l(this.logService,this.abilityService,a.parent,5,5,0),u=new A.c(this.logService,this.abilityService,a.parent,5,5,0),g=l>0?this.equipment.multiplierMessage:"";a.parent.summonPet(r,a.savedPosition).success&&this.logService.createLog({message:`${a.name} Spawned Tandgnost (Yggdrasil Fruit)${g}`,type:"ability",player:a.parent}),a.parent.summonPet(u,a.savedPosition).success&&this.logService.createLog({message:`${a.name} Spawned Tandgrisner (Yggdrasil Fruit)${g}`,type:"ability",player:a.parent})}}}},95313(O,S,i){i.d(S,{q:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Bunyip";tier=1;pack="Unicorn";attack=3;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"BunyipAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:a}=e,r=this.owner;let g;g=r.parent==t.player?t.playerRollAmount:t.opponentRollAmount,g=Math.min(2,g)*this.level;let D=r.parent.getThis(r).pet;null!=D&&(D.increaseHealth(g),this.logService.createLog({message:`${r.name} gave ${D.name} ${g} health.`,type:"ability",player:r.parent,tiger:a}),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},95365(O,S,i){i.d(S,{s:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Meerkat";tier=2;pack="Golden";attack=1;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MeerkatAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:a,pteranodon:l}=e,r=this.owner;let u;u=r.parent==t.player?t.playerGoldSpent:t.opponentGoldSpent;let g=Math.floor(u/4)*this.level,f=r.parent.nearestPetsBehind(1,r),D=r.parent.nearestPetsAhead(1,r);if(D.pets.length>0){let k=D.pets[0];k.increaseAttack(g),this.logService.createLog({message:`${r.name} gave ${k.name} ${g} attack.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:D.random})}if(f.pets.length>0){let k=f.pets[0];k.increaseAttack(g),this.logService.createLog({message:`${r.name} gave ${k.name} ${g} attack.`,type:"ability",player:r.parent,tiger:a,pteranodon:l,randomEvent:f.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},95395(O,S,i){i.d(S,{n:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Golden Beetle";tier=2;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"GoldenBeetleAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${this.level*(t.attack>=10?3:1)} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},95573(O,S,i){i.d(S,{w:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Ram";tier=1;pack="Turtle";hidden=!0;health=2;attack=2;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"RamAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},95621(O,S,i){i.d(S,{x:()=>c});var P=i(50873);class c extends P.L{name="Soccer Ball";tier=1;startOfBattle(_,v){const e=_?.turnNumber??1;let t=1;e>2&&(t=2),e>4&&(t=3),e>6&&(t=4),e>8&&(t=5),e>10&&(t=6);for(const n of this.parent.petArray)n.tier===t&&(n.health=0,this.logService.createLog({message:`${this.name} knocked out ${n.name}.`,type:"ability",player:this.parent,puma:v}))}}},95624(O,S,i){i.d(S,{S:()=>A});var P=i(57488),c=i(50873);class A extends c.L{name="Pill Bottle";tier=1;startOfBattle(v,e){const t=this.parent.getFurthestUpPets(2);for(const l of t.pets)l.health=0,this.logService.createLog({message:`${this.name} knocked out ${l.name}.`,type:"ability",player:this.parent,puma:e});const a=(0,P.a)(v,this.parent).getFurthestUpPets(1).pets[0];a&&(a.health=0,this.logService.createLog({message:`${this.name} knocked out ${a.name}.`,type:"ability",player:this.parent,puma:e}))}}},95626(O,S,i){i.d(S,{V:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Chupacabra";tier=2;pack="Custom";attack=4;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"ChupacabraAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;for(let u=0;u<2*this.level;u++){let g=r.parent.getRandomPet([r],!0,!1,!0,r);if(null==g.pet)return;g.pet.increaseHealth(1),this.logService.createLog({message:`${r.name} gave ${g.pet.name} 1 health.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random})}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},95695(O,S,i){i.d(S,{d:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Atlantic Puffin";tier=2;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"AtlanticPuffinAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>{const{triggerPet:a}=n;return!(!a||"Strawberry"!=a.equipment?.name)},abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;this.logService.createLog({message:`${r.name} removed ${n.name}'s ${n.equipment.name}.`,type:"ability",player:r.parent,tiger:a}),n.removePerk();let u=2*r.level,g=r.parent.opponent.getLastPet(),f=g.pet;null!=f&&(r.snipePet(f,u,g.random,a),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},95768(O,S,i){i.d(S,{Z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Mimic Octopus";tier=6;pack="Star";attack=4;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"MimicOctopusAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.opponent.getLowestHealthPets(r.level,void 0,r);for(let g of u.pets)r.snipePet(g,4,u.random,a);this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},95770(O,S,i){i.d(S,{F:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Dodo";tier=3;pack="Turtle";health=2;attack=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DodoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.nearestPetsAhead(1,r);if(0===u.pets.length)return;let g=u.pets[0],f=Math.floor(r.attack*(.5*this.level));g.increaseAttack(f),this.logService.createLog({message:`${r.name} gave ${g.name} ${f} attack.`,player:r.parent,type:"ability",tiger:a,randomEvent:u.random}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},95892(O,S,i){i.d(S,{a:()=>t});var P=i(57488),c=i(86253),A=i(33500),_=i(75970),v=i(1029),e=i(83028);class t extends v.d{logService;abilityService;gameService;pet0;pet1;pet2;pet3;pet4;orignalPet0;orignalPet1;orignalPet2;orignalPet3;orignalPet4;pack="Turtle";toy=null;hardToy=null;brokenToy=null;brokenHardToy=null;originalToy=null;originalHardToy=null;trumpets=0;spawnedGoldenRetiever=!1;summonedBoatThisBattle=!1;isOpponent=!1;allPets=!1;tokenPets=!1;gold=0;pendingGoldFromMimic=0;futureShopBuffs=new Map;cannedAilments=[];constructor(a,l,r){super(),this.logService=a,this.abilityService=l,this.gameService=r,(0,e.L)(this)}alive(){return(0,c.yV)(this)}resetPets(){(0,c.wA)(this)}resetJumpedFlags(){(0,c.Ku)(this)}setPet(a,l,r=!1){this.getPet(a),0==a&&(this.pet0=l,null!=l&&(this.pet0.savedPosition=0),r&&(this.orignalPet0=l)),1==a&&(this.pet1=l,null!=l&&(this.pet1.savedPosition=1),r&&(this.orignalPet1=l)),2==a&&(this.pet2=l,null!=l&&(this.pet2.savedPosition=2),r&&(this.orignalPet2=l)),3==a&&(this.pet3=l,null!=l&&(this.pet3.savedPosition=3),r&&(this.orignalPet3=l)),4==a&&(this.pet4=l,null!=l&&(this.pet4.savedPosition=4),r&&(this.orignalPet4=l)),r&&null!=l&&(l.originalSavedPosition=l.savedPosition)}getPet(a){switch(a){case 0:return this.pet0;case 1:return this.pet1;case 2:return this.pet2;case 3:return this.pet3;case 4:return this.pet4;default:return}}pushPetsForward(){(0,A.yY)(this)}onionCheck(){(0,A.EE)(this)}summonPet(a,l,r=!1,u){return(0,_.Rd)(this,a,l,r,u,this.logService,this.abilityService,this.gameService)}transformPet(a,l){(0,_.AT)(this,a,l,this.abilityService,this.gameService)}pushForwardFromSlot(a){return(0,A.m3)(this,a)}pushBackwardFromSlot(a){return(0,A.Kw)(this,a)}makeRoomForSlot(a){(0,A.vI)(this,a)}get petArray(){let a=[];return null!=this.pet0&&a.push(this.pet0),null!=this.pet1&&a.push(this.pet1),null!=this.pet2&&a.push(this.pet2),null!=this.pet3&&a.push(this.pet3),null!=this.pet4&&a.push(this.pet4),a}handleDeath(a){(0,c.bE)(a,this.logService)}checkPetsAlive(){(0,c.Uk)(this,this.logService)}removeDeadPets(){return(0,c.BE)(this,this.abilityService)}createDeathLog(a){(0,c.vD)(a,this.logService)}get opponent(){return(0,P.a)(this.gameService.gameApi,this)}}},95957(O,S,i){i.d(S,{N:()=>A});var P=i(57488),c=i(50873);class A extends c.L{name="Remote Car";tier=1;startOfBattle(v,e){const t=(0,P.a)(v,this.parent);for(const n of t.petArray){const a=Math.floor(.2*n.attack),l=Math.floor(.2*n.health);a>0&&n.increaseAttack(a),l>0&&n.increaseHealth(l),this.logService.createLog({message:`${this.name} gave ${n.name} +${a}/+${l}.`,type:"ability",player:this.parent,puma:e})}}}},95966(O,S,i){i.d(S,{i:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Iguana";tier=2;pack="Star";attack=2;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"IguanaAbility",owner:e,triggers:["EnemyPushed","EnemySummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{triggerPet:n,tiger:a}=e,r=this.owner;let u=r.parent.getSpecificPet(r,n),g=u.pet;null!=g&&g.alive&&(r.snipePet(g,2*this.level,u.random,a),this.triggerTigerExecution(e))}copy(e){return new _(e,this.logService)}}},96034(O,S,i){i.d(S,{d:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Vampire Parrot";tier=3;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Vampire Parrot Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,l=a.parent.petArray.filter(L=>L.alive&&L.equipment),r=new Set;for(const L of l){const F=L.equipment.equipmentClass;("ailment-attack"===F||"ailment-defense"===F||"ailment-other"===F)&&r.add(L.equipment.name)}const u=r.size;if(0===u)return void this.triggerTigerExecution(e);const g=this.level,f=2*this.level,D=u*g,k=u*f;a.increaseAttack(D),a.increaseHealth(k),this.logService.createLog({message:`${a.name} gained +${D}/+${k} (+${g}/+${f} per unique ailment) from ${u} friendly pets with different ailments.`,type:"ability",player:a.parent,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},96396(O,S,i){i.d(S,{A:()=>_});var P=i(54841),c=i(40555);const _=function A(v){return(0,P.A)((0,c.A)(v))}},96756(O,S,i){i.d(S,{A:()=>t});var P=i(6944),c=Object.prototype,A=c.hasOwnProperty,_=c.toString,v=P.A?P.A.toStringTag:void 0;const t=function e(n){var a=A.call(n,v),l=n[v];try{n[v]=void 0;var r=!0}catch{}var u=_.call(n);return r&&(a?n[v]=l:delete n[v]),u}},96767(O,S,i){i.d(S,{H:()=>c,g:()=>A});const c={playerPack:"pP",opponentPack:"oP",playerToy:"pT",playerToyLevel:"pTL",playerHardToy:"pHT",playerHardToyLevel:"pHTL",opponentToy:"oT",opponentToyLevel:"oTL",opponentHardToy:"oHT",opponentHardToyLevel:"oHTL",turn:"t",playerGoldSpent:"pGS",opponentGoldSpent:"oGS",playerRollAmount:"pRA",opponentRollAmount:"oRA",playerSummonedAmount:"pSA",opponentSummonedAmount:"oSA",playerLevel3Sold:"pL3",opponentLevel3Sold:"oL3",playerTransformationAmount:"pTA",opponentTransformationAmount:"oTA",playerPets:"p",opponentPets:"o",allPets:"ap",logFilter:"lf",customPacks:"cp",oldStork:"os",tokenPets:"tp",komodoShuffle:"ks",mana:"m",seed:"sd",triggersConsumed:"tc",showAdvanced:"sa",showTriggerNamesInLogs:"stn",showPositionalArgsInLogs:"spa",ailmentEquipment:"ae",changeEquipmentUses:"cEU",logsEnabled:"lE",simulations:"sim",name:"n",attack:"a",health:"h",exp:"e",equipment:"eq",equipmentUses:"eU",belugaSwallowedPet:"bSP",sarcasticFringeheadSwallowedPet:"sFSP",parrotCopyPet:"pCP",parrotCopyPetBelugaSwallowedPet:"pCPB",abomParrotSwallowed:"aPS",abominationSwallowedPet1:"aSP1",abominationSwallowedPet2:"aSP2",abominationSwallowedPet3:"aSP3",abominationSwallowedPet1BelugaSwallowedPet:"aSP1B",abominationSwallowedPet2BelugaSwallowedPet:"aSP2B",abominationSwallowedPet3BelugaSwallowedPet:"aSP3B",abominationSwallowedPet1SarcasticFringeheadSwallowedPet:"aSP1SFS",abominationSwallowedPet2SarcasticFringeheadSwallowedPet:"aSP2SFS",abominationSwallowedPet3SarcasticFringeheadSwallowedPet:"aSP3SFS",abominationSwallowedPet1Level:"aSP1L",abominationSwallowedPet2Level:"aSP2L",abominationSwallowedPet3Level:"aSP3L",abominationSwallowedPet1TimesHurt:"aSP1T",abominationSwallowedPet2TimesHurt:"aSP2T",abominationSwallowedPet3TimesHurt:"aSP3T",battlesFought:"bF",friendsDiedBeforeBattle:"fDBB",foodsEaten:"fE",...(()=>{const _={};for(let v=1;v<=3;v++){const e=`parrotCopyPetAbominationSwallowedPet${v}`,t=`pCPAS${v}`;_[e]=t,_[`${e}BelugaSwallowedPet`]=`${t}B`,_[`${e}Level`]=`${t}L`,_[`${e}TimesHurt`]=`${t}T`,_[`${e}ParrotCopyPet`]=`${t}PCP`,_[`${e}ParrotCopyPetBelugaSwallowedPet`]=`${t}PCPB`;for(let n=1;n<=3;n++){const a=`${e}ParrotCopyPetAbominationSwallowedPet${n}`,l=`${t}PCPAS${n}`;_[a]=l,_[`${a}BelugaSwallowedPet`]=`${l}B`,_[`${a}Level`]=`${l}L`,_[`${a}TimesHurt`]=`${l}T`}}return _})(),abominationSwallowedPet1ParrotCopyPet:"aSP1PCP",abominationSwallowedPet2ParrotCopyPet:"aSP2PCP",abominationSwallowedPet3ParrotCopyPet:"aSP3PCP",abominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet:"aSP1PCPB",abominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet:"aSP2PCPB",abominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet:"aSP3PCPB",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1:"aSP1PCPAS1",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2:"aSP1PCPAS2",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3:"aSP1PCPAS3",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1:"aSP2PCPAS1",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2:"aSP2PCPAS2",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3:"aSP2PCPAS3",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1:"aSP3PCPAS1",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2:"aSP3PCPAS2",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3:"aSP3PCPAS3",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:"aSP1PCPAS1B",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:"aSP1PCPAS2B",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:"aSP1PCPAS3B",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:"aSP2PCPAS1B",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:"aSP2PCPAS2B",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:"aSP2PCPAS3B",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:"aSP3PCPAS1B",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:"aSP3PCPAS2B",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:"aSP3PCPAS3B",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level:"aSP1PCPAS1L",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level:"aSP1PCPAS2L",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level:"aSP1PCPAS3L",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level:"aSP2PCPAS1L",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level:"aSP2PCPAS2L",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level:"aSP2PCPAS3L",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level:"aSP3PCPAS1L",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level:"aSP3PCPAS2L",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level:"aSP3PCPAS3L",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt:"aSP1PCPAS1T",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt:"aSP1PCPAS2T",abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt:"aSP1PCPAS3T",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt:"aSP2PCPAS1T",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt:"aSP2PCPAS2T",abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt:"aSP2PCPAS3T",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt:"aSP3PCPAS1T",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt:"aSP3PCPAS2T",abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt:"aSP3PCPAS3T",timesHurt:"tH"},A=Object.entries(c).reduce((_,[v,e])=>(_[e]=v,_),{})},96849(O,S,i){i.d(S,{e:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Duck";tier=1;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DuckAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gave shop pets +${this.level} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},96889(O,S,i){i.d(S,{Z:()=>_});var P=i(46200),c=i(5615),A=i(61850);class _ extends P.i{logService;abilityService;name="Hercules Beetle";tier=2;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;constructor(t,n,a){super({name:"HerculesBeetleAbility",owner:t,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner,a=Math.max(0,n.battlesFought??0),l=a*this.level,r=n.parent.petArray.filter(f=>f.alive);if(l<=0||0===r.length)return void this.triggerTigerExecution(t);const u=Math.floor(l/r.length);let g=l%r.length;for(const f of r)u>0&&f.increaseAttack(u);if(g>0){const f=(0,A.k4)([...r]);for(let D=0;D<g&&D<f.length;D++)f[D].increaseAttack(1)}this.logService.createLog({message:`${n.name} gave friends +${l} attack split evenly after ${a} battle${1===a?"":"s"}.`,type:"ability",player:n.parent,tiger:t.tiger,pteranodon:t.pteranodon,randomEvent:r.length>1}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},97061(O,S,i){i.d(S,{A:()=>t});var P=i(50253),c=i(42661),A=Object.prototype,_=A.hasOwnProperty,v=A.propertyIsEnumerable,e=(0,P.A)(function(){return arguments}())?P.A:function(n){return(0,c.A)(n)&&_.call(n,"callee")&&!v.call(n,"callee")};const t=e},97244(O,S,i){i.d(S,{e:()=>_,s:()=>A});var P=i(50873),c=i(5615);class A extends P.L{name="Radio";tier=2;onBreak(e,t){let n=this.parent.petArray;for(let a of n)a.alive&&(a.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${a.name} ${this.level} health.`,type:"ability",player:this.parent,puma:t}))}}class _ extends c.T{logService;constructor(e,t){super({name:"RadioAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.getAll(!1,r,!0),g=u.pets;if(0!=g.length){for(let f of g)f.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gave ${f.name} ${this.level} health.`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random});this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},97265(O,S,i){i.d(S,{z:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Peacock";tier=2;pack="Turtle";health=5;attack=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"PeacockAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=3*this.level,g=r.parent.getThis(r);g.pet&&(g.pet.increaseAttack(u),this.logService.createLog({message:`${r.name} gave ${g.pet.name} ${u} attack.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random})),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},97280(O,S,i){i.d(S,{Uw:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Whale";tier=4;pack="Turtle";attack=3;health=7;initAbilities(){this.addAbility(new v(this,this.logService,this.petService)),this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D,k){super(t,n,l),this.logService=t,this.abilityService=n,this.petService=a,this.initPet(f,r,u,g,D,k)}}class _ extends c.T{logService;abilityService;constructor(t,n,a){super({name:"WhaleSummonAbility",owner:t,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:t.level,ignoreRepeats:!0,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const{tiger:l,pteranodon:r}=t,u=this.owner,g=u.swallowedPets??[];for(;g.length>0;){const f=g.shift();if(!f)continue;let D=u.parent.summonPet(f,u.savedPosition,!1,u);D.success&&this.logService.createLog({message:`${u.name} summoned ${f.name} (level ${f.level}).`,type:"ability",player:u.parent,tiger:l,pteranodon:r,randomEvent:D.randomEvent})}this.triggerTigerExecution(t)}copy(t){return new _(t,this.logService,this.abilityService)}}class v extends c.T{logService;petService;constructor(t,n,a){super({name:"WhaleSwallowAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.petService=a}executeAbility(t){const{tiger:l}=t,u=this.owner;let g=u.parent.nearestPetsAhead(1,u);if(0===g.pets.length)return;let f=g.pets[0],D=this.petService.createPet({name:f.name,attack:f.attack,health:f.health,exp:u.exp,equipment:null,mana:0},u.parent);u.swallowedPets||(u.swallowedPets=[]),u.swallowedPets.push(D),f.health=0,this.logService.createLog({message:`${u.name} swallowed ${f.name}`,type:"ability",player:u.parent,tiger:l,randomEvent:g.random}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.petService)}}},97588(O,S,i){i.d(S,{P:()=>_,r:()=>v});var P=i(57488),c=i(50873),A=i(5615);class _ extends c.L{name="Foam Sword";tier=3;startOfBattle(t,n){let a=(0,P.a)(t,this.parent);for(let l=0;l<this.level;l++){let r=a.getLowestHealthPet();if(null==r.pet)return;this.toyService.snipePet(r.pet,5,this.parent,this.name,r.random,n)}}}class v extends A.T{logService;constructor(t,n){super({name:"FoamSwordAbility",owner:t,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{tiger:l}=t,u=this.owner;let g=u.parent.opponent;for(let f=0;f<this.level;f++){let D=g.getLowestHealthPet();u.snipePet(D.pet,5,D.random,l)}this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},97641(O,S,i){var P={};i.r(P),i.d(P,{afterMain:()=>$y,afterRead:()=>Uy,afterWrite:()=>jy,applyStyles:()=>fm,arrow:()=>ou,auto:()=>au,basePlacements:()=>su,beforeMain:()=>Wy,beforeRead:()=>Fy,beforeWrite:()=>Gy,bottom:()=>ka,clippingParents:()=>xy,computeStyles:()=>xl,createPopper:()=>Om,createPopperBase:()=>Pp,createPopperLite:()=>sb,detectOverflow:()=>Bl,end:()=>yo,eventListeners:()=>cu,flip:()=>tb,hide:()=>nb,left:()=>na,main:()=>Ky,modifierPhases:()=>Vy,offset:()=>Cm,placements:()=>gm,popper:()=>wl,popperGenerator:()=>Fl,popperOffsets:()=>km,preventOverflow:()=>wm,read:()=>Ny,reference:()=>By,right:()=>wa,start:()=>kr,top:()=>ia,variationPlacements:()=>hm,viewport:()=>pm,write:()=>Hy});var c=i(10467),A=i(46494),_=i(73117),v=i(47868),e=i(35547),t=i(17705);const l="browser",ve=d=>d.src,Ee=new v.nKC("",{factory:()=>ve}),Hi=/^((\s*\d+w\s*(,|$)){1,})$/,Di=[1,2];let vi=(()=>{class d{imageLoader=(0,v.WQX)(Ee);config=function Xi(d){let h={};return d.breakpoints&&(h.breakpoints=d.breakpoints.sort((o,y)=>o-y)),Object.assign({},e.mY,d,h)}((0,v.WQX)(e.VeQ));renderer=(0,v.WQX)(e.sFG);imgElement=(0,v.WQX)(e.aKT).nativeElement;injector=(0,v.WQX)(v.zZn);destroyRef=(0,v.WQX)(v.abz);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;decoding;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){(0,e._jY)("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("decoding",this.getDecoding()),this.setHostAttribute("ng-img","true"),this.updateSrcAndSrcset(),this.sizes?"lazy"===this.getLoadingBehavior()?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&Hi.test(this.ngSrcset)&&"lazy"===this.getLoadingBehavior()&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(o){o.ngSrc&&!o.ngSrc.isFirstChange()&&this.updateSrcAndSrcset(!0)}callImageLoader(o){let y=o;return this.loaderParams&&(y.loaderParams=this.loaderParams),this.imageLoader(y)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getDecoding(){return this.priority?"sync":this.decoding??"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const o=Hi.test(this.ngSrcset);return this.ngSrcset.split(",").filter(E=>""!==E).map(E=>{E=E.trim();const C=o?parseFloat(E):parseFloat(E)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:C})} ${E}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:o}=this.config;let y=o;return"100vw"===this.sizes?.trim()&&(y=o.filter(C=>C>=640)),y.map(C=>`${this.callImageLoader({src:this.ngSrc,width:C})} ${C}w`).join(", ")}updateSrcAndSrcset(o=!1){o&&(this._renderedSrc=null);const y=this.getRewrittenSrc();let E;return this.setHostAttribute("src",y),this.ngSrcset?E=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(E=this.getAutomaticSrcset()),E&&this.setHostAttribute("srcset",E),E}getFixedSrcset(){return Di.map(y=>`${this.callImageLoader({src:this.ngSrc,width:this.width*y})} ${y}x`).join(", ")}shouldGenerateAutomaticSrcset(){let o=!1;return this.sizes||(o=this.width>1920||this.height>1080),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==ve&&!o}generatePlaceholder(o){const{placeholderResolution:y}=this.config;return!0===o?`url(${this.callImageLoader({src:this.ngSrc,width:y,isPlaceholder:!0})})`:"string"==typeof o?`url(${o})`:null}shouldBlurPlaceholder(o){return!o||!o.hasOwnProperty("blur")||!!o.blur}removePlaceholderOnLoad(o){const y=()=>{const I=this.injector.get(t.gRc);E(),C(),this.placeholder=!1,I.markForCheck()},E=this.renderer.listen(o,"load",y),C=this.renderer.listen(o,"error",y);this.destroyRef.onDestroy(()=>{E(),C()}),function xi(d,h){d.complete&&d.naturalWidth&&h()}(o,y)}setHostAttribute(o,y){this.renderer.setAttribute(this.imgElement,o,y)}static \u0275fac=function(y){return new(y||d)};static \u0275dir=e.FsC({type:d,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(y,E){2&y&&e.xc7("position",E.fill?"absolute":null)("width",E.fill?"100%":null)("height",E.fill?"100%":null)("inset",E.fill?"0":null)("background-size",E.placeholder?"cover":null)("background-position",E.placeholder?"50% 50%":null)("background-repeat",E.placeholder?"no-repeat":null)("background-image",E.placeholder?E.generatePlaceholder(E.placeholder):null)("filter",E.placeholder&&E.shouldBlurPlaceholder(E.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",pi],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",t.Udg],height:[2,"height","height",t.Udg],decoding:"decoding",loading:"loading",priority:[2,"priority","priority",t.L39],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",t.L39],fill:[2,"fill","fill",t.L39],placeholder:[2,"placeholder","placeholder",sn],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[e.OA$]})}return d})();function pi(d){return"string"==typeof d?d:(0,e.aCM)(d)}function sn(d){return"string"==typeof d&&"true"!==d&&"false"!==d&&""!==d?d:(0,t.L39)(d)}class ai{_doc;constructor(h){this._doc=h}manager}let Oi=(()=>{class d extends ai{constructor(o){super(o)}supports(o){return!0}addEventListener(o,y,E,C){return o.addEventListener(y,E,C),()=>this.removeEventListener(o,y,E,C)}removeEventListener(o,y,E,C){return o.removeEventListener(y,E,C)}static \u0275fac=function(y){return new(y||d)(v.KVO(v.qQL))};static \u0275prov=v.jDH({token:d,factory:d.\u0275fac})}return d})();const $t=new v.nKC("");let zt=(()=>{class d{_zone;_plugins;_eventNameToPlugin=new Map;constructor(o,y){this._zone=y,o.forEach(I=>{I.manager=this});const E=o.filter(I=>!(I instanceof Oi));this._plugins=E.slice().reverse();const C=o.find(I=>I instanceof Oi);C&&this._plugins.push(C)}addEventListener(o,y,E,C){return this._findPluginFor(y).addEventListener(o,y,E,C)}getZone(){return this._zone}_findPluginFor(o){let y=this._eventNameToPlugin.get(o);if(y)return y;if(y=this._plugins.find(C=>C.supports(o)),!y)throw new v.buA(5101,!1);return this._eventNameToPlugin.set(o,y),y}static \u0275fac=function(y){return new(y||d)(v.KVO($t),v.KVO(v.SKi))};static \u0275prov=v.jDH({token:d,factory:d.\u0275fac})}return d})();const bi="ng-app-id";function Mi(d){for(const h of d)h.remove()}function Xt(d,h){const o=h.createElement("style");return o.textContent=d,o}function rn(d,h){const o=h.createElement("link");return o.setAttribute("rel","stylesheet"),o.setAttribute("href",d),o}let Fi=(()=>{class d{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(o,y,E,C={}){this.doc=o,this.appId=y,this.nonce=E,function Ii(d,h,o,y){const E=d.head?.querySelectorAll(`style[${bi}="${h}"],link[${bi}="${h}"]`);if(E)for(const C of E)C.removeAttribute(bi),C instanceof HTMLLinkElement?y.set(C.href.slice(C.href.lastIndexOf("/")+1),{usage:0,elements:[C]}):C.textContent&&o.set(C.textContent,{usage:0,elements:[C]})}(o,y,this.inline,this.external),this.hosts.add(o.head)}addStyles(o,y){for(const E of o)this.addUsage(E,this.inline,Xt);y?.forEach(E=>this.addUsage(E,this.external,rn))}removeStyles(o,y){for(const E of o)this.removeUsage(E,this.inline);y?.forEach(E=>this.removeUsage(E,this.external))}addUsage(o,y,E){const C=y.get(o);C?C.usage++:y.set(o,{usage:1,elements:[...this.hosts].map(I=>this.addElement(I,E(o,this.doc)))})}removeUsage(o,y){const E=y.get(o);E&&(E.usage--,E.usage<=0&&(Mi(E.elements),y.delete(o)))}ngOnDestroy(){for(const[,{elements:o}]of[...this.inline,...this.external])Mi(o);this.hosts.clear()}addHost(o){this.hosts.add(o);for(const[y,{elements:E}]of this.inline)E.push(this.addElement(o,Xt(y,this.doc)));for(const[y,{elements:E}]of this.external)E.push(this.addElement(o,rn(y,this.doc)))}removeHost(o){this.hosts.delete(o)}addElement(o,y){return this.nonce&&y.setAttribute("nonce",this.nonce),o.appendChild(y)}static \u0275fac=function(y){return new(y||d)(v.KVO(v.qQL),v.KVO(e.sZ2),v.KVO(e.BIS,8),v.KVO(e.Agw))};static \u0275prov=v.jDH({token:d,factory:d.\u0275fac})}return d})();const Aa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ln=/%COMP%/g,fn=new v.nKC("",{factory:()=>!0});function Mn(d,h){return h.map(o=>o.replace(Ln,d))}let Y=(()=>{class d{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(o,y,E,C,I,W,X=null,z=null){this.eventManager=o,this.sharedStylesHost=y,this.appId=E,this.removeStylesOnCompDestroy=C,this.doc=I,this.ngZone=W,this.nonce=X,this.tracingService=z,this.defaultRenderer=new me(o,I,W,this.tracingService)}createRenderer(o,y){if(!o||!y)return this.defaultRenderer;const E=this.getOrCreateRenderer(o,y);return E instanceof st?E.applyToHost(o):E instanceof Ze&&E.applyStyles(),E}getOrCreateRenderer(o,y){const E=this.rendererByCompId;let C=E.get(y.id);if(!C){const I=this.doc,W=this.ngZone,X=this.eventManager,z=this.sharedStylesHost,pe=this.removeStylesOnCompDestroy,Me=this.tracingService;switch(y.encapsulation){case e.gXe.Emulated:C=new st(X,z,y,this.appId,pe,I,W,Me);break;case e.gXe.ShadowDom:return new He(X,o,y,I,W,this.nonce,Me,z);case e.gXe.ExperimentalIsolatedShadowDom:return new He(X,o,y,I,W,this.nonce,Me);default:C=new Ze(X,z,y,pe,I,W,Me)}E.set(y.id,C)}return C}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(o){this.rendererByCompId.delete(o)}static \u0275fac=function(y){return new(y||d)(v.KVO(zt),v.KVO(Fi),v.KVO(e.sZ2),v.KVO(fn),v.KVO(v.qQL),v.KVO(v.SKi),v.KVO(e.BIS),v.KVO(e.a8H,8))};static \u0275prov=v.jDH({token:d,factory:d.\u0275fac})}return d})();class me{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(h,o,y,E){this.eventManager=h,this.doc=o,this.ngZone=y,this.tracingService=E}destroy(){}destroyNode=null;createElement(h,o){return o?this.doc.createElementNS(Aa[o]||o,h):this.doc.createElement(h)}createComment(h){return this.doc.createComment(h)}createText(h){return this.doc.createTextNode(h)}appendChild(h,o){(De(h)?h.content:h).appendChild(o)}insertBefore(h,o,y){h&&(De(h)?h.content:h).insertBefore(o,y)}removeChild(h,o){o.remove()}selectRootElement(h,o){let y="string"==typeof h?this.doc.querySelector(h):h;if(!y)throw new v.buA(-5104,!1);return o||(y.textContent=""),y}parentNode(h){return h.parentNode}nextSibling(h){return h.nextSibling}setAttribute(h,o,y,E){if(E){o=E+":"+o;const C=Aa[E];C?h.setAttributeNS(C,o,y):h.setAttribute(o,y)}else h.setAttribute(o,y)}removeAttribute(h,o,y){if(y){const E=Aa[y];E?h.removeAttributeNS(E,o):h.removeAttribute(`${y}:${o}`)}else h.removeAttribute(o)}addClass(h,o){h.classList.add(o)}removeClass(h,o){h.classList.remove(o)}setStyle(h,o,y,E){E&(e.czy.DashCase|e.czy.Important)?h.style.setProperty(o,y,E&e.czy.Important?"important":""):h.style[o]=y}removeStyle(h,o,y){y&e.czy.DashCase?h.style.removeProperty(o):h.style[o]=""}setProperty(h,o,y){null!=h&&(h[o]=y)}setValue(h,o){h.nodeValue=o}listen(h,o,y,E){if("string"==typeof h&&!(h=(0,A.rb)().getGlobalEventTarget(this.doc,h)))throw new v.buA(5102,!1);let C=this.decoratePreventDefault(y);return this.tracingService?.wrapEventListener&&(C=this.tracingService.wrapEventListener(h,o,C)),this.eventManager.addEventListener(h,o,C,E)}decoratePreventDefault(h){return o=>{if("__ngUnwrap__"===o)return h;!1===h(o)&&o.preventDefault()}}}function De(d){return"TEMPLATE"===d.tagName&&void 0!==d.content}class He extends me{hostEl;sharedStylesHost;shadowRoot;constructor(h,o,y,E,C,I,W,X){super(h,E,C,W),this.hostEl=o,this.sharedStylesHost=X,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let z=y.styles;z=Mn(y.id,z);for(const Me of z){const Ie=document.createElement("style");I&&Ie.setAttribute("nonce",I),Ie.textContent=Me,this.shadowRoot.appendChild(Ie)}const pe=y.getExternalStyles?.();if(pe)for(const Me of pe){const Ie=rn(Me,E);I&&Ie.setAttribute("nonce",I),this.shadowRoot.appendChild(Ie)}}nodeOrShadowRoot(h){return h===this.hostEl?this.shadowRoot:h}appendChild(h,o){return super.appendChild(this.nodeOrShadowRoot(h),o)}insertBefore(h,o,y){return super.insertBefore(this.nodeOrShadowRoot(h),o,y)}removeChild(h,o){return super.removeChild(null,o)}parentNode(h){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(h)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ze extends me{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(h,o,y,E,C,I,W,X){super(h,C,I,W),this.sharedStylesHost=o,this.removeStylesOnCompDestroy=E;let z=y.styles;this.styles=X?Mn(X,z):z,this.styleUrls=y.getExternalStyles?.(X)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&0===e.DUP.size&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class st extends Ze{contentAttr;hostAttr;constructor(h,o,y,E,C,I,W,X){const z=E+"-"+y.id;super(h,o,y,C,I,W,X,z),this.contentAttr=function Ea(d){return"_ngcontent-%COMP%".replace(Ln,d)}(z),this.hostAttr=function Nn(d){return"_nghost-%COMP%".replace(Ln,d)}(z)}applyToHost(h){this.applyStyles(),this.setAttribute(h,this.hostAttr,"")}createElement(h,o){const y=super.createElement(h,o);return super.setAttribute(y,this.contentAttr,""),y}}class ii extends A.qj{supportsDOMEvents=!0;static makeCurrent(){(0,A.ig)(new ii)}onAndCancel(h,o,y,E){return h.addEventListener(o,y,E),()=>{h.removeEventListener(o,y,E)}}dispatchEvent(h,o){h.dispatchEvent(o)}remove(h){h.remove()}createElement(h,o){return(o=o||this.getDefaultDocument()).createElement(h)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(h){return h.nodeType===Node.ELEMENT_NODE}isShadowRoot(h){return h instanceof DocumentFragment}getGlobalEventTarget(h,o){return"window"===o?window:"document"===o?h:"body"===o?h.body:null}getBaseHref(h){const o=function ni(){return Zt=Zt||document.head.querySelector("base"),Zt?Zt.getAttribute("href"):null}();return null==o?null:function Jt(d){return new URL(d,document.baseURI).pathname}(o)}resetBaseElement(){Zt=null}getUserAgent(){return window.navigator.userAgent}getCookie(h){return(0,_.b)(document.cookie,h)}}let Zt=null,si=(()=>{class d{build(){return new XMLHttpRequest}static \u0275fac=function(y){return new(y||d)};static \u0275prov=v.jDH({token:d,factory:d.\u0275fac})}return d})();const fi=["alt","control","meta","shift"],Un={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xn={alt:d=>d.altKey,control:d=>d.ctrlKey,meta:d=>d.metaKey,shift:d=>d.shiftKey};let vn=(()=>{class d extends ai{constructor(o){super(o)}supports(o){return null!=d.parseEventName(o)}addEventListener(o,y,E,C){const I=d.parseEventName(y),W=d.eventCallback(I.fullKey,E,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,A.rb)().onAndCancel(o,I.domEventName,W,C))}static parseEventName(o){const y=o.toLowerCase().split("."),E=y.shift();if(0===y.length||"keydown"!==E&&"keyup"!==E)return null;const C=d._normalizeKey(y.pop());let I="",W=y.indexOf("code");if(W>-1&&(y.splice(W,1),I="code."),fi.forEach(z=>{const pe=y.indexOf(z);pe>-1&&(y.splice(pe,1),I+=z+".")}),I+=C,0!=y.length||0===C.length)return null;const X={};return X.domEventName=E,X.fullKey=I,X}static matchEventFullKeyCode(o,y){let E=Un[o.key]||o.key,C="";return y.indexOf("code.")>-1&&(E=o.code,C="code."),!(null==E||!E)&&(E=E.toLowerCase()," "===E?E="space":"."===E&&(E="dot"),fi.forEach(I=>{I!==E&&(0,xn[I])(o)&&(C+=I+".")}),C+=E,C===y)}static eventCallback(o,y,E){return C=>{d.matchEventFullKeyCode(C,o)&&E.runGuarded(()=>y(C))}}static _normalizeKey(o){return"esc"===o?"escape":o}static \u0275fac=function(y){return new(y||d)(v.KVO(v.qQL))};static \u0275prov=v.jDH({token:d,factory:d.\u0275fac})}return d})();function Bn(){return(Bn=(0,c.A)(function*(d,h,o){const y={rootComponent:d,...Ya(h,o)};return(0,t.TL3)(y)})).apply(this,arguments)}function Ya(d,h){return{platformRef:h?.platformRef,appProviders:[...us,...d?.providers??[]],platformProviders:xs}}const xs=[{provide:e.Agw,useValue:l},{provide:e.PLl,useValue:function ls(){ii.makeCurrent()},multi:!0},{provide:v.qQL,useFactory:function Sa(){return(0,e._9u)(document),document}}],us=[{provide:v.GBX,useValue:"root"},{provide:v.zcH,useFactory:function Ra(){return new v.zcH}},{provide:$t,useClass:Oi,multi:!0},{provide:$t,useClass:vn,multi:!0},Y,Fi,zt,{provide:e._9s,useExisting:Y},{provide:_.N,useClass:si},[]];var La=i(26980),Ht=i(49769),ue=i(75119),Vi=i(70762),oa=i(41080);function ea(d,h=oa.b){return o=>o.lift(new la(d,h))}class la{constructor(h,o){this.dueTime=h,this.scheduler=o}call(h,o){return o.subscribe(new cr(h,this.dueTime,this.scheduler))}}class cr extends Vi.v{constructor(h,o,y){super(h),this.dueTime=o,this.scheduler=y,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(h){this.clearDebounce(),this.lastValue=h,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ca,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:h}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(h)}}clearDebounce(){const h=this.debouncedSubscription;null!==h&&(this.remove(h),h.unsubscribe(),this.debouncedSubscription=null)}}function ca(d){d.debouncedNext()}var ei=i(45286),ds=i(27389),ps=i(32234),Z=i(18456),G=i(55241);function q(d=Number.POSITIVE_INFINITY){return(0,Z.ZZ)(G.D,d)}var he=i(44279);function Ce(...d){let h=Number.POSITIVE_INFINITY,o=null,y=d[d.length-1];return(0,ps.m)(y)?(o=d.pop(),d.length>1&&"number"==typeof d[d.length-1]&&(h=d.pop())):"number"==typeof y&&(h=d.pop()),null===o&&1===d.length&&d[0]instanceof ds.c?d[0]:q(h)((0,he.c)(d,o))}var xe=i(31805),Ye=i(27354);function nt(d){return!(0,Ye.c)(d)&&d-parseFloat(d)+1>=0}function Rt(d){const{subscriber:h,counter:o,period:y}=d;h.next(o),this.schedule({subscriber:h,counter:o+1,period:y},y)}var jt=i(68189),mi=i(76228);const yn=new class Ni extends mi.q{flush(h){this.active=!0,this.scheduled=void 0;const{actions:o}=this;let y,E=-1,C=o.length;h=h||o.shift();do{if(y=h.execute(h.state,h.delay))break}while(++E<C&&(h=o.shift()));if(this.active=!1,y){for(;++E<C&&(h=o.shift());)h.unsubscribe();throw y}}}(class It extends jt.R{constructor(h,o){super(h,o),this.scheduler=h,this.work=o}requestAsyncId(h,o,y=0){return null!==y&&y>0?super.requestAsyncId(h,o,y):(h.actions.push(this),h.scheduled||(h.scheduled=requestAnimationFrame(()=>h.flush(null))))}recycleAsyncId(h,o,y=0){if(null!==y&&y>0||null===y&&this.delay>0)return super.recycleAsyncId(h,o,y);0===h.actions.length&&(cancelAnimationFrame(o),h.scheduled=void 0)}});var zi=i(79928);let Ki;function Wn(d){if(function Qa(){if(null==Ki){const d=typeof document<"u"?document.head:null;Ki=!(!d||!d.createShadowRoot&&!d.attachShadow)}return Ki}()){const h=d.getRootNode?d.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&h instanceof ShadowRoot)return h}return null}function Ta(d){return d.composedPath?d.composedPath()[0]:d.target}const hs=new WeakMap;let Fs=(()=>{class d{_appRef;_injector=(0,v.WQX)(v.zZn);_environmentInjector=(0,v.WQX)(v.uvJ);load(o){const y=this._appRef=this._appRef||this._injector.get(e.o8S);let E=hs.get(y);E||(E={loaders:new Set,refs:[]},hs.set(y,E),y.onDestroy(()=>{hs.get(y)?.refs.forEach(C=>C.destroy()),hs.delete(y)})),E.loaders.has(o)||(E.loaders.add(o),E.refs.push((0,t.a0P)(o,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(y){return new(y||d)};static \u0275prov=v.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();var Oo=i(14421);let Wr=1;const qa=Promise.resolve(),dr={};function Io(d){return d in dr&&(delete dr[d],!0)}const Wu={setImmediate(d){const h=Wr++;return dr[h]=!0,qa.then(()=>Io(h)&&d()),h},clearImmediate(d){Io(d)}};new class ic extends mi.q{flush(h){this.active=!0,this.scheduled=void 0;const{actions:o}=this;let y,E=-1,C=o.length;h=h||o.shift();do{if(y=h.execute(h.state,h.delay))break}while(++E<C&&(h=o.shift()));if(this.active=!1,y){for(;++E<C&&(h=o.shift());)h.unsubscribe();throw y}}}(class tc extends jt.R{constructor(h,o){super(h,o),this.scheduler=h,this.work=o}requestAsyncId(h,o,y=0){return null!==y&&y>0?super.requestAsyncId(h,o,y):(h.actions.push(this),h.scheduled||(h.scheduled=Wu.setImmediate(h.flush.bind(h,null))))}recycleAsyncId(h,o,y=0){if(null!==y&&y>0||null===y&&this.delay>0)return super.recycleAsyncId(h,o,y);0===h.actions.length&&(Wu.clearImmediate(o),h.scheduled=void 0)}});var xa=i(13004);class Ba{constructor(h){this.durationSelector=h}call(h,o){return o.subscribe(new Us(h,this.durationSelector))}}class Us extends xa.gn{constructor(h,o){super(h),this.durationSelector=o,this.hasValue=!1}_next(h){if(this.value=h,this.hasValue=!0,!this.throttled){let o;try{const{durationSelector:E}=this;o=E(h)}catch(E){return this.destination.error(E)}const y=(0,xa.tS)(o,new xa.zA(this));!y||y.closed?this.clearThrottle():this.add(this.throttled=y)}}clearThrottle(){const{value:h,hasValue:o,throttled:y}=this;y&&(this.remove(y),this.throttled=void 0,y.unsubscribe()),o&&(this.value=void 0,this.hasValue=!1,this.destination.next(h))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function mr(d){const{index:h,period:o,subscriber:y}=d;if(y.next(h),!y.closed){if(-1===o)return y.complete();d.index=h+1,this.schedule(d,o)}}function _r(d,h=oa.b){return function hr(d){return function(o){return o.lift(new Ba(d))}}(()=>function gr(d=0,h,o){let y=-1;return nt(h)?y=Number(h)<1?1:Number(h):(0,ps.m)(h)&&(o=h),(0,ps.m)(o)||(o=oa.b),new ds.c(E=>{const C=nt(d)?d:+d-o.now();return o.schedule(mr,C,{index:0,period:y,subscriber:E})})}(d,h))}var $r=i(58728);function Ro(d,h=0){return function Ku(d){return!isNaN(parseFloat(d))&&!isNaN(Number(d))}(d)?Number(d):2===arguments.length?h:0}function Fa(d){return d instanceof e.aKT?d.nativeElement:d}let Za;try{Za=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Za=!1}let fr=(()=>{class d{_platformId=(0,v.WQX)(e.Agw);isBrowser=this._platformId?function u(d){return d===l}(this._platformId):"object"==typeof document&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!(!window.chrome&&!Za)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(y){return new(y||d)};static \u0275prov=v.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),N=(()=>{class d{_ngZone=(0,v.WQX)(v.SKi);_platform=(0,v.WQX)(fr);_renderer=(0,v.WQX)(e._9s).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new ei.B7;_scrolledCount=0;scrollContainers=new Map;register(o){this.scrollContainers.has(o)||this.scrollContainers.set(o,o.elementScrolled().subscribe(()=>this._scrolled.next(o)))}deregister(o){const y=this.scrollContainers.get(o);y&&(y.unsubscribe(),this.scrollContainers.delete(o))}scrolled(o=20){return this._platform.isBrowser?new ds.c(y=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));const E=o>0?this._scrolled.pipe(_r(o)).subscribe(y):this._scrolled.subscribe(y);return this._scrolledCount++,()=>{E.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):(0,Oo.of)()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((o,y)=>this.deregister(y)),this._scrolled.complete()}ancestorScrolled(o,y){const E=this.getAncestorScrollContainers(o);return this.scrolled(y).pipe((0,$r.p)(C=>!C||E.indexOf(C)>-1))}getAncestorScrollContainers(o){const y=[];return this.scrollContainers.forEach((E,C)=>{this._scrollableContainsElement(C,o)&&y.push(C)}),y}_scrollableContainsElement(o,y){let E=Fa(y),C=o.getElementRef().nativeElement;do{if(E==C)return!0}while(E=E.parentElement);return!1}static \u0275fac=function(y){return new(y||d)};static \u0275prov=v.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),ft=(()=>{class d{_platform=(0,v.WQX)(fr);_listeners;_viewportSize=null;_change=new ei.B7;_document=(0,v.WQX)(v.qQL);constructor(){const o=(0,v.WQX)(v.SKi),y=(0,v.WQX)(e._9s).createRenderer(null,null);o.runOutsideAngular(()=>{if(this._platform.isBrowser){const E=C=>this._change.next(C);this._listeners=[y.listen("window","resize",E),y.listen("window","orientationchange",E)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(o=>o()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const o={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),o}getViewportRect(){const o=this.getViewportScrollPosition(),{width:y,height:E}=this.getViewportSize();return{top:o.top,left:o.left,bottom:o.top+E,right:o.left+y,height:E,width:y}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const o=this._document,y=this._getWindow(),E=o.documentElement,C=E.getBoundingClientRect();return{top:-C.top||o.body?.scrollTop||y.scrollY||E.scrollTop||0,left:-C.left||o.body?.scrollLeft||y.scrollX||E.scrollLeft||0}}change(o=20){return o>0?this._change.pipe(_r(o)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const o=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:o.innerWidth,height:o.innerHeight}:{width:0,height:0}}static \u0275fac=function(y){return new(y||d)};static \u0275prov=v.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),Lo=(()=>{class d{static \u0275fac=function(y){return new(y||d)};static \u0275mod=e.$C({type:d});static \u0275inj=v.G2t({})}return d})();function kn(d){return h=>h.lift(new ju(d))}class ju{constructor(h){this.notifier=h}call(h,o){const y=new eh(h),E=(0,xa.tS)(this.notifier,new xa.zA(y));return E&&!y.seenValue?(y.add(E),o.subscribe(y)):y}}class eh extends xa.gn{constructor(h){super(h),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var xo=i(95006);const Vu=(()=>{function d(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return d.prototype=Object.create(Error.prototype),d})();var ih=i(51235);class Gr{constructor(h){if(this.total=h,this.total<0)throw new Vu}call(h,o){return o.subscribe(new Hr(h,this.total))}}class Hr extends Vi.v{constructor(h,o){super(h),this.total=o,this.count=0}_next(h){const o=this.total,y=++this.count;y<=o&&(this.destination.next(h),y===o&&(this.destination.complete(),this.unsubscribe()))}}var sc=i(15539),L_=i(49090);function nh(...d){return function x_(){return q(1)}()((0,Oo.of)(...d))}function vr(...d){const h=d[d.length-1];return(0,ps.m)(h)?(d.pop(),o=>nh(d,o,h)):o=>nh(d,o)}const ah=new v.nKC("cdk-dir-doc",{providedIn:"root",factory:()=>(0,v.WQX)(v.qQL)}),Bo=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let zu=(()=>{class d{get value(){return this.valueSignal()}valueSignal=(0,v.vPA)("ltr");change=new v.bkB;constructor(){const o=(0,v.WQX)(ah,{optional:!0});o&&this.valueSignal.set(function rc(d){const h=d?.toLowerCase()||"";return"auto"===h&&typeof navigator<"u"&&navigator?.language?Bo.test(navigator.language)?"rtl":"ltr":"rtl"===h?"rtl":"ltr"}((o.body?o.body.dir:null)||(o.documentElement?o.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static \u0275fac=function(y){return new(y||d)};static \u0275prov=v.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();const jr={};class Vr{_appId=(0,v.WQX)(e.sZ2);static _infix=`a${Math.floor(1e5*Math.random()).toString()}`;getId(h,o=!1){return"ng"!==this._appId&&(h+=this._appId),jr.hasOwnProperty(h)||(jr[h]=0),`${h}${o?Vr._infix+"-":""}${jr[h]++}`}static \u0275fac=function(o){return new(o||Vr)};static \u0275prov=v.jDH({token:Vr,factory:Vr.\u0275fac,providedIn:"root"})}function Xu(d){const h=d.cloneNode(!0),o=h.querySelectorAll("[id]"),y=d.nodeName.toLowerCase();h.removeAttribute("id");for(let E=0;E<o.length;E++)o[E].removeAttribute("id");return"canvas"===y?zr(d,h):("input"===y||"select"===y||"textarea"===y)&&Fo(d,h),oc("canvas",d,h,zr),oc("input, textarea, select",d,h,Fo),h}function oc(d,h,o,y){const E=h.querySelectorAll(d);if(E.length){const C=o.querySelectorAll(d);for(let I=0;I<E.length;I++)y(E[I],C[I])}}let sh=0;function Fo(d,h){"file"!==h.type&&(h.value=d.value),"radio"===h.type&&h.name&&(h.name=`mat-clone-${h.name}-${sh++}`)}function zr(d,h){const o=h.getContext("2d");if(o)try{o.drawImage(d,0,0)}catch{}}function No(d){const h=d.getBoundingClientRect();return{top:h.top,right:h.right,bottom:h.bottom,left:h.left,width:h.width,height:h.height,x:h.x,y:h.y}}function yr(d,h,o){const{top:y,bottom:E,left:C,right:I}=d;return o>=y&&o<=E&&h>=C&&h<=I}function Yr(d,h,o){d.top+=h,d.bottom=d.top+d.height,d.left+=o,d.right=d.left+d.width}function rh(d,h,o,y){const{top:E,right:C,bottom:I,left:W,width:X,height:z}=d,pe=X*h,Me=z*h;return y>E-Me&&y<I+Me&&o>W-pe&&o<C+pe}class Ju{_document;positions=new Map;constructor(h){this._document=h}clear(){this.positions.clear()}cache(h){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),h.forEach(o=>{this.positions.set(o,{scrollPosition:{top:o.scrollTop,left:o.scrollLeft},clientRect:No(o)})})}handleScroll(h){const o=Ta(h),y=this.positions.get(o);if(!y)return null;const E=y.scrollPosition;let C,I;if(o===this._document){const z=this.getViewportScrollPosition();C=z.top,I=z.left}else C=o.scrollTop,I=o.scrollLeft;const W=E.top-C,X=E.left-I;return this.positions.forEach((z,pe)=>{z.clientRect&&o!==pe&&o.contains(pe)&&Yr(z.clientRect,W,X)}),E.top=C,E.left=I,{top:W,left:X}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Qu(d,h){const o=d.rootNodes;if(1===o.length&&o[0].nodeType===h.ELEMENT_NODE)return o[0];const y=h.createElement("div");return o.forEach(E=>y.appendChild(E)),y}function qu(d,h,o){for(let y in h)if(h.hasOwnProperty(y)){const E=h[y];E?d.setProperty(y,E,o?.has(y)?"important":""):d.removeProperty(y)}return d}function Ws(d,h){const o=h?"":"none";qu(d.style,{"touch-action":h?"":"none","-webkit-user-drag":h?"":"none","-webkit-tap-highlight-color":h?"":"transparent","user-select":o,"-ms-user-select":o,"-webkit-user-select":o,"-moz-user-select":o})}function Wo(d,h,o){qu(d.style,{position:h?"":"fixed",top:h?"":"0",opacity:h?"":"0",left:h?"":"-999em"},o)}function lc(d,h){return h&&"none"!=h?d+" "+h:d}function Zu(d,h){d.style.width=`${h.width}px`,d.style.height=`${h.height}px`,d.style.transform=Xr(h.left,h.top)}function Xr(d,h){return`translate3d(${Math.round(d)}px, ${Math.round(h)}px, 0)`}const Jr={capture:!0},cc={passive:!1,capture:!0};let ed=(()=>{class d{static \u0275fac=function(y){return new(y||d)};static \u0275cmp=e.VBU({type:d,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(y,E){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}\n"],encapsulation:2,changeDetection:0})}return d})(),Ko=(()=>{class d{_ngZone=(0,v.WQX)(v.SKi);_document=(0,v.WQX)(v.qQL);_styleLoader=(0,v.WQX)(Fs);_renderer=(0,v.WQX)(e._9s).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new ei.B7;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=(0,v.vPA)([]);_globalListeners;_draggingPredicate=o=>o.isDragging();_domNodesToDirectives=null;pointerMove=new ei.B7;pointerUp=new ei.B7;constructor(){}registerDropContainer(o){this._dropInstances.has(o)||this._dropInstances.add(o)}registerDragItem(o){this._dragInstances.add(o),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,cc)})}removeDropContainer(o){this._dropInstances.delete(o)}removeDragItem(o){this._dragInstances.delete(o),this.stopDragging(o),0===this._dragInstances.size&&this._cleanupDocumentTouchmove?.()}startDragging(o,y){if(!(this._activeDragInstances().indexOf(o)>-1)&&(this._styleLoader.load(ed),this._activeDragInstances.update(E=>[...E,o]),1===this._activeDragInstances().length)){const E=y.type.startsWith("touch"),C=W=>this.pointerUp.next(W),I=[["scroll",W=>this._scroll.next(W),Jr],["selectstart",this._preventDefaultWhileDragging,cc]];E?I.push(["touchend",C,Jr],["touchcancel",C,Jr]):I.push(["mouseup",C,Jr]),E||I.push(["mousemove",W=>this.pointerMove.next(W),cc]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=I.map(([W,X,z])=>this._renderer.listen(this._document,W,X,z))})}}stopDragging(o){this._activeDragInstances.update(y=>{const E=y.indexOf(o);return E>-1?(y.splice(E,1),[...y]):y}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(o){return this._activeDragInstances().indexOf(o)>-1}scrolled(o){const y=[this._scroll];return o&&o!==this._document&&y.push(new ds.c(E=>this._ngZone.runOutsideAngular(()=>{const C=this._renderer.listen(o,"scroll",I=>{this._activeDragInstances().length&&E.next(I)},Jr);return()=>{C()}}))),Ce(...y)}registerDirectiveNode(o,y){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(o,y)}removeDirectiveNode(o){this._domNodesToDirectives?.delete(o)}getDragDirectiveForNode(o){return this._domNodesToDirectives?.get(o)||null}ngOnDestroy(){this._dragInstances.forEach(o=>this.removeDragItem(o)),this._dropInstances.forEach(o=>this.removeDropContainer(o)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=o=>{this._activeDragInstances().length>0&&o.preventDefault()};_persistentTouchmoveListener=o=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))};_clearGlobalListeners(){this._globalListeners?.forEach(o=>o()),this._globalListeners=void 0}static \u0275fac=function(y){return new(y||d)};static \u0275prov=v.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();function oh(d){const h=d.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(d)*h}function Qr(d,h){return d.getPropertyValue(h).split(",").map(y=>y.trim())}const B_=new Set(["position"]);class td{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView=null;_preview;get element(){return this._preview}constructor(h,o,y,E,C,I,W,X,z,pe){this._document=h,this._rootElement=o,this._direction=y,this._initialDomRect=E,this._previewTemplate=C,this._previewClass=I,this._pickupPositionOnPage=W,this._initialTransform=X,this._zIndex=z,this._renderer=pe}attach(h){this._preview=this._createPreview(),h.appendChild(this._preview),$o(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(h){this._preview.style.transform=h}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(h){this._preview.classList.add(h)}getTransitionDuration(){return function uc(d){const h=getComputedStyle(d),o=Qr(h,"transition-property"),y=o.find(W=>"transform"===W||"all"===W);if(!y)return 0;const E=o.indexOf(y),C=Qr(h,"transition-duration"),I=Qr(h,"transition-delay");return oh(C[E])+oh(I[E])}(this._preview)}addEventListener(h,o){return this._renderer.listen(this._preview,h,o)}_createPreview(){const h=this._previewTemplate,o=this._previewClass,y=h?h.template:null;let E;if(y&&h){const C=h.matchSize?this._initialDomRect:null,I=h.viewContainer.createEmbeddedView(y,h.context);I.detectChanges(),E=Qu(I,this._document),this._previewEmbeddedView=I,h.matchSize?Zu(E,C):E.style.transform=Xr(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else E=Xu(this._rootElement),Zu(E,this._initialDomRect),this._initialTransform&&(E.style.transform=this._initialTransform);return qu(E.style,{"pointer-events":"none",margin:$o(E)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},B_),Ws(E,!1),E.classList.add("cdk-drag-preview"),E.setAttribute("popover","manual"),E.setAttribute("dir",this._direction),o&&(Array.isArray(o)?o.forEach(C=>E.classList.add(C)):E.classList.add(o)),E}}function $o(d){return"showPopover"in d}const dc={passive:!0},Da={passive:!1},lh={passive:!1,capture:!0},qr="cdk-drag-placeholder",nd=new Set(["position"]);function ch(d,h,o={dragStartThreshold:5,pointerDirectionChangeThreshold:5}){const y=d.get(e.sFG,null,{optional:!0})||d.get(e._9s).createRenderer(null,null);return new pc(h,o,d.get(v.qQL),d.get(v.SKi),d.get(ft),d.get(Ko),y)}class pc{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview=null;_previewContainer;_placeholderRef=null;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=(0,v.vPA)(!1);_hasMoved=!1;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new ei.B7;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement=null;_rootElementTapHighlight;_pointerMoveSubscription=xe.y.EMPTY;_pointerUpSubscription=xe.y.EMPTY;_scrollSubscription=xe.y.EMPTY;_resizeSubscription=xe.y.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef=null;_cachedShadowRoot;lockAxis=null;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(h){h!==this._disabled&&(this._disabled=h,this._toggleNativeDragInteractions(),this._handles.forEach(o=>Ws(o,h)))}_disabled=!1;beforeStarted=new ei.B7;started=new ei.B7;released=new ei.B7;ended=new ei.B7;entered=new ei.B7;exited=new ei.B7;dropped=new ei.B7;moved=this._moveEvents;data;constrainPosition;constructor(h,o,y,E,C,I,W){this._config=o,this._document=y,this._ngZone=E,this._viewportRuler=C,this._dragDropRegistry=I,this._renderer=W,this.withRootElement(h).withParent(o.parentDragRef||null),this._parentPositions=new Ju(y),I.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(h){this._handles=h.map(y=>Fa(y)),this._handles.forEach(y=>Ws(y,this.disabled)),this._toggleNativeDragInteractions();const o=new Set;return this._disabledHandles.forEach(y=>{this._handles.indexOf(y)>-1&&o.add(y)}),this._disabledHandles=o,this}withPreviewTemplate(h){return this._previewTemplate=h,this}withPlaceholderTemplate(h){return this._placeholderTemplate=h,this}withRootElement(h){const o=Fa(h);if(o!==this._rootElement){this._removeRootElementListeners();const y=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[y.listen(o,"mousedown",this._pointerDown,Da),y.listen(o,"touchstart",this._pointerDown,dc),y.listen(o,"dragstart",this._nativeDragStart,Da)]),this._initialTransform=void 0,this._rootElement=o}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(h){return this._boundaryElement=h?Fa(h):null,this._resizeSubscription.unsubscribe(),h&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(h){return this._parentDragRef=h,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&function Uo(d,h){return h.left<d.left||h.left+h.width>d.right||h.top<d.top||h.top+h.height>d.bottom}(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){const h=this._boundaryElement.getBoundingClientRect(),o=this._rootElement.getBoundingClientRect();let y=0,E=0;o.left<h.left?y=h.left-o.left:o.right>h.right&&(y=h.right-o.right),o.top<h.top?E=h.top-o.top:o.bottom>h.bottom&&(E=h.bottom-o.bottom);let W=this._activeTransform.x+y,X=this._activeTransform.y+E;this._rootElement.style.transform=Xr(W,X),this._activeTransform={x:W,y:X},this._passiveTransform={x:W,y:X}}}disableHandle(h){!this._disabledHandles.has(h)&&this._handles.indexOf(h)>-1&&(this._disabledHandles.add(h),Ws(h,!0))}enableHandle(h){this._disabledHandles.has(h)&&(this._disabledHandles.delete(h),Ws(h,this.disabled))}withDirection(h){return this._direction=h,this}_withDropContainer(h){this._dropContainer=h}getFreeDragPosition(){const h=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:h.x,y:h.y}}setFreeDragPosition(h){return this._activeTransform={x:0,y:0},this._passiveTransform.x=h.x,this._passiveTransform.y=h.y,this._dropContainer||this._applyRootElementTransform(h.x,h.y),this}withPreviewContainer(h){return this._previewContainer=h,this}_sortFromLastPointerPosition(){const h=this._lastKnownPointerPosition;h&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(h),h)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=h=>{if(this.beforeStarted.next(),this._handles.length){const o=this._getTargetHandle(h);o&&!this._disabledHandles.has(o)&&!this.disabled&&this._initializeDragSequence(o,h)}else this.disabled||this._initializeDragSequence(this._rootElement,h)};_pointerMove=h=>{const o=this._getPointerPositionOnPage(h);if(!this._hasStartedDragging()){if(Math.abs(o.x-this._pickupPositionOnPage.x)+Math.abs(o.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const W=Date.now()>=this._dragStartTime+this._getDragStartDelay(h),X=this._dropContainer;if(!W)return void this._endDragSequence(h);(!X||!X.isDragging()&&!X.isReceiving())&&(h.cancelable&&h.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(h)))}return}h.cancelable&&h.preventDefault();const y=this._getConstrainedPointerPosition(o);if(this._hasMoved=!0,this._lastKnownPointerPosition=o,this._updatePointerDirectionDelta(y),this._dropContainer)this._updateActiveDropContainer(y,o);else{const E=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,C=this._activeTransform;C.x=y.x-E.x+this._passiveTransform.x,C.y=y.y-E.y+this._passiveTransform.y,this._applyRootElementTransform(C.x,C.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:y,event:h,distance:this._getDragDistance(y),delta:this._pointerDirectionDelta})})};_pointerUp=h=>{this._endDragSequence(h)};_endDragSequence(h){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:h}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(h),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const o=this._getPointerPositionOnPage(h);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(o),dropPoint:o,event:h})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(h){Go(h)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const o=this._getShadowRoot(),y=this._dropContainer;if(o&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(o,"selectstart",F_,lh)}),y){const E=this._rootElement,C=E.parentNode,I=this._placeholder=this._createPlaceholderElement(),W=this._marker=this._marker||this._document.createComment("");C.insertBefore(W,E),this._initialTransform=E.style.transform||"",this._preview=new td(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(C,o)),Wo(E,!1,nd),this._document.body.appendChild(C.replaceChild(I,E)),this.started.next({source:this,event:h}),y.start(),this._initialContainer=y,this._initialIndex=y.getItemIndex(this)}else this.started.next({source:this,event:h}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(y?y.getScrollableParents():[])}_initializeDragSequence(h,o){this._parentDragRef&&o.stopPropagation();const y=this.isDragging(),E=Go(o),C=!E&&0!==o.button,I=this._rootElement,W=Ta(o),X=!E&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),z=E?function ur(d){const h=d.touches&&d.touches[0]||d.changedTouches&&d.changedTouches[0];return!(!h||-1!==h.identifier||null!=h.radiusX&&1!==h.radiusX||null!=h.radiusY&&1!==h.radiusY)}(o):function gs(d){return 0===d.buttons||0===d.detail}(o);if(W&&W.draggable&&"mousedown"===o.type&&o.preventDefault(),y||C||X||z)return;if(this._handles.length){const Ie=I.style;this._rootElementTapHighlight=Ie.webkitTapHighlightColor||"",Ie.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Ie=>this._updateOnScroll(Ie)),this._boundaryElement&&(this._boundaryRect=No(this._boundaryElement));const pe=this._previewTemplate;this._pickupPositionInElement=pe&&pe.template&&!pe.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,h,o);const Me=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(o);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:Me.x,y:Me.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,o)}_cleanupDragArtifacts(h){Wo(this._rootElement,!0,nd),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const o=this._dropContainer,y=o.getItemIndex(this),E=this._getPointerPositionOnPage(h),C=this._getDragDistance(E),I=o._isOverContainer(E.x,E.y);this.ended.next({source:this,distance:C,dropPoint:E,event:h}),this.dropped.next({item:this,currentIndex:y,previousIndex:this._initialIndex,container:o,previousContainer:this._initialContainer,isPointerOverContainer:I,distance:C,dropPoint:E,event:h}),o.drop(this,y,this._initialIndex,this._initialContainer,I,C,E,h),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:h,y:o},{x:y,y:E}){let C=this._initialContainer._getSiblingContainerFromPosition(this,h,o);!C&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(h,o)&&(C=this._initialContainer),C&&C!==this._dropContainer&&this._ngZone.run(()=>{const I=this._dropContainer.getItemIndex(this),W=this._dropContainer.getItemAtIndex(I+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(C,this._dropContainer,W),this._dropContainer=C,this._dropContainer.enter(this,h,o,C===this._initialContainer&&C.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:C,currentIndex:C.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(y,E),this._dropContainer._sortItem(this,h,o,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(h,o):this._applyPreviewTransform(h-this._pickupPositionInElement.x,o-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const h=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(h.left,h.top);const o=this._preview.getTransitionDuration();return 0===o?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(y=>{const E=W=>{(!W||this._preview&&Ta(W)===this._preview.element&&"transform"===W.propertyName)&&(I(),y(),clearTimeout(C))},C=setTimeout(E,1.5*o),I=this._preview.addEventListener("transitionend",E)}))}_createPlaceholderElement(){const h=this._placeholderTemplate,o=h?h.template:null;let y;return o?(this._placeholderRef=h.viewContainer.createEmbeddedView(o,h.context),this._placeholderRef.detectChanges(),y=Qu(this._placeholderRef,this._document)):y=Xu(this._rootElement),y.style.pointerEvents="none",y.classList.add(qr),y}_getPointerPositionInElement(h,o,y){const E=o===this._rootElement?null:o,C=E?E.getBoundingClientRect():h,I=Go(y)?y.targetTouches[0]:y,W=this._getViewportScrollPosition();return{x:C.left-h.left+(I.pageX-C.left-W.left),y:C.top-h.top+(I.pageY-C.top-W.top)}}_getPointerPositionOnPage(h){const o=this._getViewportScrollPosition(),y=Go(h)?h.touches[0]||h.changedTouches[0]||{pageX:0,pageY:0}:h,E=y.pageX-o.left,C=y.pageY-o.top;if(this._ownerSVGElement){const I=this._ownerSVGElement.getScreenCTM();if(I){const W=this._ownerSVGElement.createSVGPoint();return W.x=E,W.y=C,W.matrixTransform(I.inverse())}}return{x:E,y:C}}_getConstrainedPointerPosition(h){const o=this._dropContainer?this._dropContainer.lockAxis:null;let{x:y,y:E}=this.constrainPosition?this.constrainPosition(h,this,this._initialDomRect,this._pickupPositionInElement):h;if("x"===this.lockAxis||"x"===o?E=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===o)&&(y=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:C,y:I}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,W=this._boundaryRect,{width:X,height:z}=this._getPreviewRect(),pe=W.top+I,Me=W.bottom-(z-I);y=uh(y,W.left+C,W.right-(X-C)),E=uh(E,pe,Me)}return{x:y,y:E}}_updatePointerDirectionDelta(h){const{x:o,y}=h,E=this._pointerDirectionDelta,C=this._pointerPositionAtLastDirectionChange,I=Math.abs(o-C.x),W=Math.abs(y-C.y);return I>this._config.pointerDirectionChangeThreshold&&(E.x=o>C.x?1:-1,C.x=o),W>this._config.pointerDirectionChangeThreshold&&(E.y=y>C.y?1:-1,C.y=y),E}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const h=this._handles.length>0||!this.isDragging();h!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=h,Ws(this._rootElement,h))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(h=>h()),this._rootElementCleanups=void 0}_applyRootElementTransform(h,o){const y=1/this.scale,E=Xr(h*y,o*y),C=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=C.transform&&"none"!=C.transform?C.transform:""),C.transform=lc(E,this._initialTransform)}_applyPreviewTransform(h,o){const y=this._previewTemplate?.template?void 0:this._initialTransform,E=Xr(h,o);this._preview.setTransform(lc(E,y))}_getDragDistance(h){const o=this._pickupPositionOnPage;return o?{x:h.x-o.x,y:h.y-o.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:h,y:o}=this._passiveTransform;if(0===h&&0===o||this.isDragging()||!this._boundaryElement)return;const y=this._rootElement.getBoundingClientRect(),E=this._boundaryElement.getBoundingClientRect();if(0===E.width&&0===E.height||0===y.width&&0===y.height)return;const C=E.left-y.left,I=y.right-E.right,W=E.top-y.top,X=y.bottom-E.bottom;E.width>y.width?(C>0&&(h+=C),I>0&&(h-=I)):h=0,E.height>y.height?(W>0&&(o+=W),X>0&&(o-=X)):o=0,(h!==this._passiveTransform.x||o!==this._passiveTransform.y)&&this.setFreeDragPosition({y:o,x:h})}_getDragStartDelay(h){const o=this.dragStartDelay;return"number"==typeof o?o:Go(h)?o.touch:o?o.mouse:0}_updateOnScroll(h){const o=this._parentPositions.handleScroll(h);if(o){const y=Ta(h);this._boundaryRect&&y!==this._boundaryElement&&y.contains(this._boundaryElement)&&Yr(this._boundaryRect,o.top,o.left),this._pickupPositionOnPage.x+=o.left,this._pickupPositionOnPage.y+=o.top,this._dropContainer||(this._activeTransform.x-=o.left,this._activeTransform.y-=o.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Wn(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(h,o){const y=this._previewContainer||"global";if("parent"===y)return h;if("global"===y){const E=this._document;return o||E.fullscreenElement||E.webkitFullscreenElement||E.mozFullScreenElement||E.msFullscreenElement||E.body}return Fa(y)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=h=>{if(this._handles.length){const o=this._getTargetHandle(h);o&&!this._disabledHandles.has(o)&&!this.disabled&&h.preventDefault()}else this.disabled||h.preventDefault()};_getTargetHandle(h){return this._handles.find(o=>h.target&&(h.target===o||o.contains(h.target)))}_conditionallyInsertAnchor(h,o,y){if(h===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(o===this._initialContainer&&o.hasAnchor){const E=this._anchor??=Xu(this._placeholder);E.classList.remove(qr),E.classList.add("cdk-drag-anchor"),E.style.transform="",y?y.before(E):Fa(o.element).appendChild(E)}}}function uh(d,h,o){return Math.max(h,Math.min(o,d))}function Go(d){return"t"===d.type[0]}function F_(d){d.preventDefault()}function ad(d,h,o){const y=ms(h,d.length-1),E=ms(o,d.length-1);if(y===E)return;const C=d[y],I=E<y?-1:1;for(let W=y;W!==E;W+=I)d[W]=d[W+I];d[E]=C}function ms(d,h){return Math.max(0,Math.min(h,d))}class Zr{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction="ltr";constructor(h){this._dragDropRegistry=h}_previousSwap={drag:null,delta:0,overlaps:!1};start(h){this.withItems(h)}sort(h,o,y,E){const C=this._itemPositions,I=this._getItemIndexFromPointerPosition(h,o,y,E);if(-1===I&&C.length>0)return null;const W="horizontal"===this.orientation,X=C.findIndex(rt=>rt.drag===h),z=C[I],Me=z.clientRect,Ie=X>I?1:-1,$e=this._getItemOffsetPx(C[X].clientRect,Me,Ie),vt=this._getSiblingOffsetPx(X,C,Ie),ht=C.slice();return ad(C,X,I),C.forEach((rt,Mt)=>{if(ht[Mt]===rt)return;const ct=rt.drag===h,bt=ct?$e:vt,Pt=ct?h.getPlaceholderElement():rt.drag.getRootElement();rt.offset+=bt;const Lt=Math.round(rt.offset*(1/rt.drag.scale));W?(Pt.style.transform=lc(`translate3d(${Lt}px, 0, 0)`,rt.initialTransform),Yr(rt.clientRect,0,bt)):(Pt.style.transform=lc(`translate3d(0, ${Lt}px, 0)`,rt.initialTransform),Yr(rt.clientRect,bt,0))}),this._previousSwap.overlaps=yr(Me,o,y),this._previousSwap.drag=z.drag,this._previousSwap.delta=W?E.x:E.y,{previousIndex:X,currentIndex:I}}enter(h,o,y,E){const C=null==E||E<0?this._getItemIndexFromPointerPosition(h,o,y):E,I=this._activeDraggables,W=I.indexOf(h),X=h.getPlaceholderElement();let z=I[C];if(z===h&&(z=I[C+1]),!z&&(null==C||-1===C||C<I.length-1)&&this._shouldEnterAsFirstChild(o,y)&&(z=I[0]),W>-1&&I.splice(W,1),z&&!this._dragDropRegistry.isDragging(z)){const pe=z.getRootElement();pe.parentElement.insertBefore(X,pe),I.splice(C,0,h)}else this._element.appendChild(X),I.push(h);X.style.transform="",this._cacheItemPositions()}withItems(h){this._activeDraggables=h.slice(),this._cacheItemPositions()}withSortPredicate(h){this._sortPredicate=h}reset(){this._activeDraggables?.forEach(h=>{const o=h.getRootElement();if(o){const y=this._itemPositions.find(E=>E.drag===h)?.initialTransform;o.style.transform=y||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(h){return this._getVisualItemPositions().findIndex(o=>o.drag===h)}getItemAtIndex(h){return this._getVisualItemPositions()[h]?.drag||null}updateOnScroll(h,o){this._itemPositions.forEach(({clientRect:y})=>{Yr(y,h,o)}),this._itemPositions.forEach(({drag:y})=>{this._dragDropRegistry.isDragging(y)&&y._sortFromLastPointerPosition()})}withElementContainer(h){this._element=h}_cacheItemPositions(){const h="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(o=>{const y=o.getVisibleElement();return{drag:o,offset:0,initialTransform:y.style.transform||"",clientRect:No(y)}}).sort((o,y)=>h?o.clientRect.left-y.clientRect.left:o.clientRect.top-y.clientRect.top)}_getVisualItemPositions(){return"horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(h,o,y){const E="horizontal"===this.orientation;let C=E?o.left-h.left:o.top-h.top;return-1===y&&(C+=E?o.width-h.width:o.height-h.height),C}_getSiblingOffsetPx(h,o,y){const E="horizontal"===this.orientation,C=o[h].clientRect,I=o[h+-1*y];let W=C[E?"width":"height"]*y;if(I){const X=E?"left":"top",z=E?"right":"bottom";-1===y?W-=I.clientRect[X]-C[z]:W+=C[X]-I.clientRect[z]}return W}_shouldEnterAsFirstChild(h,o){if(!this._activeDraggables.length)return!1;const y=this._itemPositions,E="horizontal"===this.orientation;if(y[0].drag!==this._activeDraggables[0]){const I=y[y.length-1].clientRect;return E?h>=I.right:o>=I.bottom}{const I=y[0].clientRect;return E?h<=I.left:o<=I.top}}_getItemIndexFromPointerPosition(h,o,y,E){const C="horizontal"===this.orientation,I=this._itemPositions.findIndex(({drag:W,clientRect:X})=>W!==h&&((!E||W!==this._previousSwap.drag||!this._previousSwap.overlaps||(C?E.x:E.y)!==this._previousSwap.delta)&&(C?o>=Math.floor(X.left)&&o<Math.floor(X.right):y>=Math.floor(X.top)&&y<Math.floor(X.bottom))));return-1!==I&&this._sortPredicate(I,h)?I:-1}}class sd{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(h,o){this._document=h,this._dragDropRegistry=o}start(h){const o=this._element.childNodes;this._relatedNodes=[];for(let y=0;y<o.length;y++){const E=o[y];this._relatedNodes.push([E,E.nextSibling])}this.withItems(h)}sort(h,o,y,E){const C=this._getItemIndexFromPointerPosition(h,o,y),I=this._previousSwap;if(-1===C||this._activeItems[C]===h)return null;const W=this._activeItems[C];if(I.drag===W&&I.overlaps&&I.deltaX===E.x&&I.deltaY===E.y)return null;const X=this.getItemIndex(h),z=h.getPlaceholderElement(),pe=W.getRootElement();C>X?pe.after(z):pe.before(z),ad(this._activeItems,X,C);const Me=this._getRootNode().elementFromPoint(o,y);return I.deltaX=E.x,I.deltaY=E.y,I.drag=W,I.overlaps=pe===Me||pe.contains(Me),{previousIndex:X,currentIndex:C}}enter(h,o,y,E){const C=this._activeItems.indexOf(h);C>-1&&this._activeItems.splice(C,1);let I=null==E||E<0?this._getItemIndexFromPointerPosition(h,o,y):E;-1===I&&(I=this._getClosestItemIndexToPointer(h,o,y));const W=this._activeItems[I];W&&!this._dragDropRegistry.isDragging(W)?(this._activeItems.splice(I,0,h),W.getRootElement().before(h.getPlaceholderElement())):(this._activeItems.push(h),this._element.appendChild(h.getPlaceholderElement()))}withItems(h){this._activeItems=h.slice()}withSortPredicate(h){this._sortPredicate=h}reset(){const h=this._element,o=this._previousSwap;for(let y=this._relatedNodes.length-1;y>-1;y--){const[E,C]=this._relatedNodes[y];E.parentNode===h&&E.nextSibling!==C&&(null===C?h.appendChild(E):C.parentNode===h&&h.insertBefore(E,C))}this._relatedNodes=[],this._activeItems=[],o.drag=null,o.deltaX=o.deltaY=0,o.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(h){return this._activeItems.indexOf(h)}getItemAtIndex(h){return this._activeItems[h]||null}updateOnScroll(){this._activeItems.forEach(h=>{this._dragDropRegistry.isDragging(h)&&h._sortFromLastPointerPosition()})}withElementContainer(h){h!==this._element&&(this._element=h,this._rootNode=void 0)}_getItemIndexFromPointerPosition(h,o,y){const E=this._getRootNode().elementFromPoint(Math.floor(o),Math.floor(y)),C=E?this._activeItems.findIndex(I=>{const W=I.getRootElement();return E===W||W.contains(E)}):-1;return-1!==C&&this._sortPredicate(C,h)?C:-1}_getRootNode(){return this._rootNode||(this._rootNode=Wn(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(h,o,y){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;let E=1/0,C=-1;for(let I=0;I<this._activeItems.length;I++){const W=this._activeItems[I];if(W!==h){const{x:X,y:z}=W.getRootElement().getBoundingClientRect(),pe=Math.hypot(o-X,y-z);pe<E&&(E=pe,C=I)}}return C}}var Kn=function(d){return d[d.NONE=0]="NONE",d[d.UP=1]="UP",d[d.DOWN=2]="DOWN",d}(Kn||{}),wn=function(d){return d[d.NONE=0]="NONE",d[d.LEFT=1]="LEFT",d[d.RIGHT=2]="RIGHT",d}(wn||{});function _s(d,h){return new jo(h,d.get(Ko),d.get(v.qQL),d.get(v.SKi),d.get(ft))}class jo{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis=null;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new ei.B7;entered=new ei.B7;exited=new ei.B7;dropped=new ei.B7;sorted=new ei.B7;receivingStarted=new ei.B7;receivingStopped=new ei.B7;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=xe.y.EMPTY;_verticalScrollDirection=Kn.NONE;_horizontalScrollDirection=wn.NONE;_scrollNode;_stopScrollTimers=new ei.B7;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(h,o,y,E,C){this._dragDropRegistry=o,this._ngZone=E,this._viewportRuler=C;const I=this.element=Fa(h);this._document=y,this.withOrientation("vertical").withElementContainer(I),o.registerDropContainer(this),this._parentPositions=new Ju(y)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(h,o,y,E){this._draggingStarted(),null==E&&this.sortingDisabled&&(E=this._draggables.indexOf(h)),this._sortStrategy.enter(h,o,y,E),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:h,container:this,currentIndex:this.getItemIndex(h)})}exit(h){this._reset(),this.exited.next({item:h,container:this})}drop(h,o,y,E,C,I,W,X={}){this._reset(),this.dropped.next({item:h,currentIndex:o,previousIndex:y,container:this,previousContainer:E,isPointerOverContainer:C,distance:I,dropPoint:W,event:X})}withItems(h){const o=this._draggables;return this._draggables=h,h.forEach(y=>y._withDropContainer(this)),this.isDragging()&&(o.filter(E=>E.isDragging()).every(E=>-1===h.indexOf(E))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(h){return this._direction=h,this._sortStrategy instanceof Zr&&(this._sortStrategy.direction=h),this}connectedTo(h){return this._siblings=h.slice(),this}withOrientation(h){if("mixed"===h)this._sortStrategy=new sd(this._document,this._dragDropRegistry);else{const o=new Zr(this._dragDropRegistry);o.direction=this._direction,o.orientation=h,this._sortStrategy=o}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((o,y)=>this.sortPredicate(o,y,this)),this}withScrollableParents(h){const o=this._container;return this._scrollableElements=-1===h.indexOf(o)?[o,...h]:h.slice(),this}withElementContainer(h){if(h===this._container)return this;Fa(this.element);const y=this._scrollableElements.indexOf(this._container),E=this._scrollableElements.indexOf(h);return y>-1&&this._scrollableElements.splice(y,1),E>-1&&this._scrollableElements.splice(E,1),this._sortStrategy&&this._sortStrategy.withElementContainer(h),this._cachedShadowRoot=null,this._scrollableElements.unshift(h),this._container=h,this}getScrollableParents(){return this._scrollableElements}getItemIndex(h){return this._isDragging?this._sortStrategy.getItemIndex(h):this._draggables.indexOf(h)}getItemAtIndex(h){return this._isDragging?this._sortStrategy.getItemAtIndex(h):this._draggables[h]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(h,o,y,E){if(this.sortingDisabled||!this._domRect||!rh(this._domRect,.05,o,y))return;const C=this._sortStrategy.sort(h,o,y,E);C&&this.sorted.next({previousIndex:C.previousIndex,currentIndex:C.currentIndex,container:this,item:h})}_startScrollingIfNecessary(h,o){if(this.autoScrollDisabled)return;let y,E=Kn.NONE,C=wn.NONE;if(this._parentPositions.positions.forEach((I,W)=>{W===this._document||!I.clientRect||y||rh(I.clientRect,.05,h,o)&&([E,C]=function gc(d,h,o,y,E){const C=br(h,E),I=fs(h,y);let W=Kn.NONE,X=wn.NONE;if(C){const z=d.scrollTop;C===Kn.UP?z>0&&(W=Kn.UP):d.scrollHeight-z>d.clientHeight&&(W=Kn.DOWN)}if(I){const z=d.scrollLeft;"rtl"===o?I===wn.RIGHT?z<0&&(X=wn.RIGHT):d.scrollWidth+z>d.clientWidth&&(X=wn.LEFT):I===wn.LEFT?z>0&&(X=wn.LEFT):d.scrollWidth-z>d.clientWidth&&(X=wn.RIGHT)}return[W,X]}(W,I.clientRect,this._direction,h,o),(E||C)&&(y=W))}),!E&&!C){const{width:I,height:W}=this._viewportRuler.getViewportSize(),X={width:I,height:W,top:0,right:I,bottom:W,left:0};E=br(X,o),C=fs(X,h),y=window}y&&(E!==this._verticalScrollDirection||C!==this._horizontalScrollDirection||y!==this._scrollNode)&&(this._verticalScrollDirection=E,this._horizontalScrollDirection=C,this._scrollNode=y,(E||C)&&y?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const h=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=h.msScrollSnapType||h.scrollSnapType||"",h.scrollSnapType=h.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;const h=this._container.style;h.scrollSnapType=h.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(o=>o._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),function Dt(d=0,h=oa.b){return(!nt(d)||d<0)&&(d=0),(!h||"function"!=typeof h.schedule)&&(h=oa.b),new ds.c(o=>(o.add(h.schedule(Rt,d,{subscriber:o,counter:0,period:d})),o))}(0,yn).pipe(kn(this._stopScrollTimers)).subscribe(()=>{const h=this._scrollNode,o=this.autoScrollStep;this._verticalScrollDirection===Kn.UP?h.scrollBy(0,-o):this._verticalScrollDirection===Kn.DOWN&&h.scrollBy(0,o),this._horizontalScrollDirection===wn.LEFT?h.scrollBy(-o,0):this._horizontalScrollDirection===wn.RIGHT&&h.scrollBy(o,0)})};_isOverContainer(h,o){return null!=this._domRect&&yr(this._domRect,h,o)}_getSiblingContainerFromPosition(h,o,y){return this._siblings.find(E=>E._canReceive(h,o,y))}_canReceive(h,o,y){if(!this._domRect||!yr(this._domRect,o,y)||!this.enterPredicate(h,this))return!1;const E=this._getShadowRoot().elementFromPoint(o,y);return!!E&&(E===this._container||this._container.contains(E))}_startReceiving(h,o){const y=this._activeSiblings;!y.has(h)&&o.every(E=>this.enterPredicate(E,this)||this._draggables.indexOf(E)>-1)&&(y.add(h),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:h,receiver:this,items:o}))}_stopReceiving(h){this._activeSiblings.delete(h),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:h,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>{if(this.isDragging()){const o=this._parentPositions.handleScroll(h);o&&this._sortStrategy.updateOnScroll(o.top,o.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const h=Wn(this._container);this._cachedShadowRoot=h||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const h=this._sortStrategy.getActiveItemsSnapshot().filter(o=>o.isDragging());this._siblings.forEach(o=>o._startReceiving(this,h))}}function br(d,h){const{top:o,bottom:y,height:E}=d,C=.05*E;return h>=o-C&&h<=o+C?Kn.UP:h>=y-C&&h<=y+C?Kn.DOWN:Kn.NONE}function fs(d,h){const{left:o,right:y,width:E}=d,C=.05*E;return h>=o-C&&h<=o+C?wn.LEFT:h>=y-C&&h<=y+C?wn.RIGHT:wn.NONE}let rd=(()=>{class d{_injector=(0,v.WQX)(v.zZn);constructor(){}createDrag(o,y){return ch(this._injector,o,y)}createDropList(o){return _s(this._injector,o)}static \u0275fac=function(y){return new(y||d)};static \u0275prov=v.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();const Pr=new v.nKC("CDK_DRAG_PARENT"),Vo=new v.nKC("CdkDragHandle"),Ua=new v.nKC("CDK_DRAG_CONFIG"),eo=new v.nKC("CdkDropList");let mc=(()=>{class d{element=(0,v.WQX)(e.aKT);dropContainer=(0,v.WQX)(eo,{optional:!0,skipSelf:!0});_ngZone=(0,v.WQX)(v.SKi);_viewContainerRef=(0,v.WQX)(e.c1b);_dir=(0,v.WQX)(zu,{optional:!0});_changeDetectorRef=(0,v.WQX)(t.gRc);_selfHandle=(0,v.WQX)(Vo,{optional:!0,self:!0});_parentDrag=(0,v.WQX)(Pr,{optional:!0,skipSelf:!0});_dragDropRegistry=(0,v.WQX)(Ko);_destroyed=new ei.B7;_handles=new zi.t([]);_previewTemplate=null;_placeholderTemplate=null;_dragRef;data;lockAxis=null;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!(!this.dropContainer||!this.dropContainer.disabled)}set disabled(o){this._disabled=o,this._dragRef.disabled=this._disabled}_disabled=!1;constrainPosition;previewClass;previewContainer;scale=1;started=new v.bkB;released=new v.bkB;ended=new v.bkB;entered=new v.bkB;exited=new v.bkB;dropped=new v.bkB;moved=new ds.c(o=>{const y=this._dragRef.moved.pipe((0,xo.T)(E=>({source:this,pointerPosition:E.pointerPosition,event:E.event,delta:E.delta,distance:E.distance}))).subscribe(o);return()=>{y.unsubscribe()}});_injector=(0,v.WQX)(v.zZn);constructor(){const o=this.dropContainer,y=(0,v.WQX)(Ua,{optional:!0});this._dragRef=ch(this._injector,this.element,{dragStartThreshold:y&&null!=y.dragStartThreshold?y.dragStartThreshold:5,pointerDirectionChangeThreshold:y&&null!=y.pointerDirectionChangeThreshold?y.pointerDirectionChangeThreshold:5,zIndex:y?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),y&&this._assignDefaults(y),o&&(o.addItem(this),o._dropListRef.beforeStarted.pipe(kn(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(o){this._dragRef.setFreeDragPosition(o)}ngAfterViewInit(){(0,e.mal)(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(o){const y=o.rootElementSelector,E=o.freeDragPosition;y&&!y.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,E&&!E.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(o){const y=this._handles.getValue();y.push(o),this._handles.next(y)}_removeHandle(o){const y=this._handles.getValue(),E=y.indexOf(o);E>-1&&(y.splice(E,1),this._handles.next(y))}_setPreviewTemplate(o){this._previewTemplate=o}_resetPreviewTemplate(o){o===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(o){this._placeholderTemplate=o}_resetPlaceholderTemplate(o){o===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const o=this.element.nativeElement;let y=o;this.rootElementSelector&&(y=void 0!==o.closest?o.closest(this.rootElementSelector):o.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(y||o)}_getBoundaryElement(){const o=this.boundaryElement;return o?"string"==typeof o?this.element.nativeElement.closest(o):Fa(o):null}_syncInputs(o){o.beforeStarted.subscribe(()=>{if(!o.isDragging()){const y=this._dir,E=this.dragStartDelay,C=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,I=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;o.disabled=this.disabled,o.lockAxis=this.lockAxis,o.scale=this.scale,o.dragStartDelay="object"==typeof E&&E?E:Ro(E),o.constrainPosition=this.constrainPosition,o.previewClass=this.previewClass,o.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(C).withPreviewTemplate(I).withPreviewContainer(this.previewContainer||"global"),y&&o.withDirection(y.value)}}),o.beforeStarted.pipe(function Ft(d){return h=>0===d?(0,ih.I)():h.lift(new Gr(d))}(1)).subscribe(()=>{if(this._parentDrag)return void o.withParent(this._parentDrag._dragRef);let y=this.element.nativeElement.parentElement;for(;y;){const E=this._dragDropRegistry.getDragDirectiveForNode(y);if(E){o.withParent(E._dragRef);break}y=y.parentElement}})}_handleEvents(o){o.started.subscribe(y=>{this.started.emit({source:this,event:y.event}),this._changeDetectorRef.markForCheck()}),o.released.subscribe(y=>{this.released.emit({source:this,event:y.event})}),o.ended.subscribe(y=>{this.ended.emit({source:this,distance:y.distance,dropPoint:y.dropPoint,event:y.event}),this._changeDetectorRef.markForCheck()}),o.entered.subscribe(y=>{this.entered.emit({container:y.container.data,item:this,currentIndex:y.currentIndex})}),o.exited.subscribe(y=>{this.exited.emit({container:y.container.data,item:this})}),o.dropped.subscribe(y=>{this.dropped.emit({previousIndex:y.previousIndex,currentIndex:y.currentIndex,previousContainer:y.previousContainer.data,container:y.container.data,isPointerOverContainer:y.isPointerOverContainer,item:this,distance:y.distance,dropPoint:y.dropPoint,event:y.event})})}_assignDefaults(o){const{lockAxis:y,dragStartDelay:E,constrainPosition:C,previewClass:I,boundaryElement:W,draggingDisabled:X,rootElementSelector:z,previewContainer:pe}=o;this.disabled=X??!1,this.dragStartDelay=E||0,this.lockAxis=y||null,C&&(this.constrainPosition=C),I&&(this.previewClass=I),W&&(this.boundaryElement=W),z&&(this.rootElementSelector=z),pe&&(this.previewContainer=pe)}_setupHandlesListener(){this._handles.pipe((0,sc.M)(o=>{const y=o.map(E=>E.element);this._selfHandle&&this.rootElementSelector&&y.push(this.element),this._dragRef.withHandles(y)}),(0,L_.n)(o=>Ce(...o.map(y=>y._stateChanges.pipe(vr(y))))),kn(this._destroyed)).subscribe(o=>{const y=this._dragRef,E=o.element.nativeElement;o.disabled?y.disableHandle(E):y.enableHandle(E)})}static \u0275fac=function(y){return new(y||d)};static \u0275dir=e.FsC({type:d,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(y,E){2&y&&e.AVh("cdk-drag-disabled",E.disabled)("cdk-drag-dragging",E._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",t.L39],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",t.Udg]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[e.Jv_([{provide:Pr,useExisting:d}]),e.OA$]})}return d})();const Ma=new v.nKC("CdkDropListGroup");let Yo=(()=>{class d{element=(0,v.WQX)(e.aKT);_changeDetectorRef=(0,v.WQX)(t.gRc);_scrollDispatcher=(0,v.WQX)(N);_dir=(0,v.WQX)(zu,{optional:!0});_group=(0,v.WQX)(Ma,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new ei.B7;_scrollableParentsResolved=!1;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation="vertical";id=(0,v.WQX)(Vr).getId("cdk-drop-list-");lockAxis=null;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(o){this._dropListRef.disabled=this._disabled=o}_disabled=!1;sortingDisabled=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled=!1;autoScrollStep;elementContainerSelector=null;hasAnchor=!1;dropped=new v.bkB;entered=new v.bkB;exited=new v.bkB;sorted=new v.bkB;_unsortedItems=new Set;constructor(){const o=(0,v.WQX)(Ua,{optional:!0}),y=(0,v.WQX)(v.zZn);this._dropListRef=_s(y,this.element),this._dropListRef.data=this,o&&this._assignDefaults(o),this._dropListRef.enterPredicate=(E,C)=>this.enterPredicate(E.data,C.data),this._dropListRef.sortPredicate=(E,C,I)=>this.sortPredicate(E,C.data,I.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),d._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(o){this._unsortedItems.add(o),o._dragRef._withDropContainer(this._dropListRef),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(y=>y._dragRef))}removeItem(o){if(this._unsortedItems.delete(o),this._latestSortedRefs){const y=this._latestSortedRefs.indexOf(o._dragRef);y>-1&&(this._latestSortedRefs.splice(y,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((o,y)=>o._dragRef.getVisibleElement().compareDocumentPosition(y._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const o=d._dropLists.indexOf(this);o>-1&&d._dropLists.splice(o,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(o){this._dir&&this._dir.change.pipe(vr(this._dir.value),kn(this._destroyed)).subscribe(y=>o.withDirection(y)),o.beforeStarted.subscribe(()=>{const y=function Yu(d){return Array.isArray(d)?d:[d]}(this.connectedTo).map(E=>"string"==typeof E?d._dropLists.find(I=>I.id===E):E);if(this._group&&this._group._items.forEach(E=>{-1===y.indexOf(E)&&y.push(E)}),!this._scrollableParentsResolved){const E=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(C=>C.getElementRef().nativeElement);this._dropListRef.withScrollableParents(E),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){const E=this.element.nativeElement.querySelector(this.elementContainerSelector);o.withElementContainer(E)}o.disabled=this.disabled,o.lockAxis=this.lockAxis,o.sortingDisabled=this.sortingDisabled,o.autoScrollDisabled=this.autoScrollDisabled,o.autoScrollStep=Ro(this.autoScrollStep,2),o.hasAnchor=this.hasAnchor,o.connectedTo(y.filter(E=>E&&E!==this).map(E=>E._dropListRef)).withOrientation(this.orientation)})}_handleEvents(o){o.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(y=>y._dragRef)),this._changeDetectorRef.markForCheck()}),o.entered.subscribe(y=>{this.entered.emit({container:this,item:y.item.data,currentIndex:y.currentIndex})}),o.exited.subscribe(y=>{this.exited.emit({container:this,item:y.item.data}),this._changeDetectorRef.markForCheck()}),o.sorted.subscribe(y=>{this.sorted.emit({previousIndex:y.previousIndex,currentIndex:y.currentIndex,container:this,item:y.item.data})}),o.dropped.subscribe(y=>{this.dropped.emit({previousIndex:y.previousIndex,currentIndex:y.currentIndex,previousContainer:y.previousContainer.data,container:y.container.data,item:y.item.data,isPointerOverContainer:y.isPointerOverContainer,distance:y.distance,dropPoint:y.dropPoint,event:y.event}),this._changeDetectorRef.markForCheck()}),Ce(o.receivingStarted,o.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(o){const{lockAxis:y,draggingDisabled:E,sortingDisabled:C,listAutoScrollDisabled:I,listOrientation:W}=o;this.disabled=E??!1,this.sortingDisabled=C??!1,this.autoScrollDisabled=I??!1,this.orientation=W||"vertical",this.lockAxis=y||null}_syncItemsWithRef(o){this._latestSortedRefs=o,this._dropListRef.withItems(o)}static \u0275fac=function(y){return new(y||d)};static \u0275dir=e.FsC({type:d,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(y,E){2&y&&(e.BMQ("id",E.id),e.AVh("cdk-drop-list-disabled",E.disabled)("cdk-drop-list-dragging",E._dropListRef.isDragging())("cdk-drop-list-receiving",E._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",t.L39],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",t.L39],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",t.L39],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"],hasAnchor:[2,"cdkDropListHasAnchor","hasAnchor",t.L39]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[e.Jv_([{provide:Ma,useValue:void 0},{provide:eo,useExisting:d}])]})}return d})(),ld=(()=>{class d{static \u0275fac=function(y){return new(y||d)};static \u0275mod=e.$C({type:d});static \u0275inj=v.G2t({providers:[rd],imports:[Lo]})}return d})();var cd=i(95892),kt=i(62223),da=i(38129);let ud=(()=>{class d{el;renderer;tooltipText=null;tooltipElement=null;currentTooltipText=null;constructor(o,y){this.el=o,this.renderer=y}onShow(){const o=this.formatTooltipText(this.tooltipText);o?(this.currentTooltipText=o,this.ensureTooltipElements(),this.tooltipElement&&(this.tooltipElement.textContent=o,this.renderer.setAttribute(this.tooltipElement,"role","tooltip"),this.updatePosition(o))):this.removeTooltip()}onHide(){this.removeTooltip()}onViewportChange(){!this.currentTooltipText||!this.tooltipElement||this.updatePosition(this.currentTooltipText)}ngOnDestroy(){this.removeTooltip()}updatePosition(o){if(!this.tooltipElement)return;const y=this.el.nativeElement.getBoundingClientRect(),E=window.innerWidth,C=window.innerHeight,I=12,X=12,z=Math.min(420,E-24),pe=Math.min(360,C-24),{width:Me,height:Ie}=this.measureTooltip(o,z,pe),vt=this.clamp(y.left+y.width/2-Me/2,I,E-Me-I),ht=y.top,rt=C-y.bottom,bt=Ie+X+0;let Pt="top";const Lt=E-y.right>=Me+X+0;Lt||y.left>=Me+X+0?Pt=Lt?"right":"left":ht<bt&&rt>=bt?Pt="bottom":ht<bt&&rt<bt&&(Pt=ht>=rt?"top":"bottom");let Ct=y.top-Ie-X-0,li=vt;"bottom"===Pt&&(Ct=y.bottom+X+0),"right"===Pt&&(li=this.clamp(y.right+X+0,I,E-Me-I),Ct=this.clamp(y.top+y.height/2-Ie/2,I,C-Ie-I)),"left"===Pt&&(li=this.clamp(y.left-Me-X-0,I,E-Me-I),Ct=this.clamp(y.top+y.height/2-Ie/2,I,C-Ie-I)),this.renderer.setStyle(this.tooltipElement,"left",`${li}px`),this.renderer.setStyle(this.tooltipElement,"top",`${Ct}px`),this.renderer.setStyle(this.tooltipElement,"max-width",`${z}px`),this.renderer.setStyle(this.tooltipElement,"max-height",`${pe}px`),this.renderer.setAttribute(this.tooltipElement,"data-placement",Pt)}measureTooltip(o,y,E){const C=document.createElement("div");C.textContent=o,C.style.position="fixed",C.style.visibility="hidden",C.style.pointerEvents="none",C.style.fontSize="0.72rem",C.style.lineHeight="1.2",C.style.padding="0.45rem 0.6rem",C.style.borderRadius="8px",C.style.maxWidth=`${y}px`,C.style.maxHeight=`${E}px`,C.style.whiteSpace="pre-wrap",C.style.overflow="visible",C.style.boxSizing="border-box",C.style.width="max-content",document.body.appendChild(C);let I=C.getBoundingClientRect();return I.width>y&&(C.style.width=`${y}px`,I=C.getBoundingClientRect()),document.body.removeChild(C),{width:I.width,height:I.height}}ensureTooltipElements(){this.tooltipElement||(this.tooltipElement=this.renderer.createElement("div"),this.renderer.addClass(this.tooltipElement,"sap-floating-tooltip"),this.renderer.appendChild(document.body,this.tooltipElement))}removeTooltip(){this.currentTooltipText=null,this.tooltipElement&&(this.renderer.removeChild(document.body,this.tooltipElement),this.tooltipElement=null)}formatTooltipText(o){return o?o.trim().replace(/\s*(Level\s+\d+\s*[:-])/gi,"\n$1").replace(/^\n+/,"").replace(/\n{3,}/g,"\n\n"):""}clamp(o,y,E){return Math.min(Math.max(o,y),E)}static \u0275fac=function(y){return new(y||d)(e.rXU(e.aKT),e.rXU(e.sFG))};static \u0275dir=e.FsC({type:d,selectors:[["","appTooltip",""]],hostBindings:function(y,E){1&y&&e.bIt("mouseenter",function(){return E.onShow()})("focus",function(){return E.onShow()})("mouseleave",function(){return E.onHide()})("blur",function(){return E.onHide()})("resize",function(){return E.onViewportChange()},e.tSv)("scroll",function(){return E.onViewportChange()},e.tSv)},inputs:{tooltipText:[0,"appTooltip","tooltipText"]}})}return d})();var vs=i(56990),ta=i(90966),Ks=i(26886);const _c=["searchInput"];function Jo(d,h){if(1&d&&e.nrm(0,"img",21),2&d){const o=h.ngIf,y=e.XpG().$implicit;e.Y8G("ngSrc",o)("alt",y)}}function Qo(d,h){if(1&d){const o=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){const E=v.eBV(o).$implicit,C=e.XpG(2);return v.Njj(C.selectPack(E))}),e.j41(1,"span",19),e.DNE(2,Jo,1,2,"img",20),e.j41(3,"span"),e.EFF(4),e.k0s()()()}if(2&d){const o=h.$implicit,y=e.XpG(2);e.AVh("btn-primary",y.selectedPack===o)("btn-outline-primary",y.selectedPack!==o),e.R7$(2),e.Y8G("ngIf",y.getPackFilterIcon(o)),e.R7$(2),e.JRh(o)}}function W_(d,h){if(1&d&&(e.j41(0,"div",16),e.DNE(1,Qo,5,6,"button",17),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.availablePacks)("ngForTrackBy",o.trackByPack)}}function K_(d,h){if(1&d&&e.nrm(0,"img",21),2&d){const o=h.ngIf,y=e.XpG().$implicit;e.Y8G("ngSrc",o)("alt",y)}}function rA(d,h){if(1&d){const o=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){const E=v.eBV(o).$implicit,C=e.XpG(2);return v.Njj(C.selectPack(E))}),e.j41(1,"span",19),e.DNE(2,K_,1,2,"img",20),e.j41(3,"span"),e.EFF(4),e.k0s()()()}if(2&d){const o=h.$implicit,y=e.XpG(2);e.AVh("btn-primary",y.selectedPack===o)("btn-outline-primary",y.selectedPack!==o),e.R7$(2),e.Y8G("ngIf",y.getPackFilterIcon(o)),e.R7$(2),e.JRh(o)}}function dd(d,h){if(1&d&&(e.j41(0,"div",16),e.DNE(1,rA,5,6,"button",17),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.abilityPackFilters)("ngForTrackBy",o.trackByPack)}}function fc(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",22)(1,"div",23)(2,"input",24),e.bIt("change",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.selectedLevel=1)}),e.k0s(),e.j41(3,"label",25),e.EFF(4,"Lv. 1"),e.k0s(),e.j41(5,"input",26),e.bIt("change",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.selectedLevel=2)}),e.k0s(),e.j41(6,"label",27),e.EFF(7,"Lv. 2"),e.k0s(),e.j41(8,"input",28),e.bIt("change",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.selectedLevel=3)}),e.k0s(),e.j41(9,"label",29),e.EFF(10,"Lv. 3"),e.k0s()()()}if(2&d){const o=e.XpG();e.R7$(2),e.Y8G("checked",1===o.selectedLevel),e.R7$(3),e.Y8G("checked",2===o.selectedLevel),e.R7$(3),e.Y8G("checked",3===o.selectedLevel)}}function gh(d,h){if(1&d){const o=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){const E=v.eBV(o).$implicit,C=e.XpG(2);return v.Njj(C.selectItemCategory(E))}),e.EFF(1),e.k0s()}if(2&d){const o=h.$implicit,y=e.XpG(2);e.AVh("btn-primary",y.selectedItemCategory===o)("btn-outline-primary",y.selectedItemCategory!==o),e.R7$(),e.SpI(" ",o," ")}}function $_(d,h){if(1&d&&(e.j41(0,"div",16),e.DNE(1,gh,2,5,"button",17),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.availableItemCategories)("ngForTrackBy",o.trackByCategory)}}function qo(d,h){1&d&&(e.j41(0,"div",30)(1,"span",31),e.EFF(2,"\u26a0"),e.k0s(),e.j41(3,"span"),e.EFF(4,"Equipment & Toys are "),e.j41(5,"strong"),e.EFF(6,"non-vanilla"),e.k0s(),e.EFF(7," features and are indicated by a yellow border."),e.k0s()())}function mh(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",32),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.onItemClick(null))}),e.j41(1,"div",33)(2,"span",34),e.EFF(3,"None"),e.k0s()(),e.j41(4,"div",35),e.EFF(5,"None"),e.k0s()()}}function vc(d,h){if(1&d&&(e.j41(0,"div",39),e.EFF(1),e.k0s()),2&d){const o=e.XpG().$implicit;e.R7$(),e.SpI(" ",o.category," ")}}function _h(d,h){if(1&d&&e.nrm(0,"img",42),2&d){const o=e.XpG(2).$implicit;e.Y8G("ngSrc",o.icon)("alt",o.name)}}function fh(d,h){if(1&d&&(e.j41(0,"div",43),e.EFF(1),e.k0s()),2&d){const o=e.XpG(2).$implicit;e.Y8G("ngClass","tier-badge-tier-"+o.tier),e.R7$(),e.SpI(" ",o.tier," ")}}function vh(d,h){if(1&d&&(e.qex(0),e.DNE(1,_h,1,2,"img",40)(2,fh,2,2,"div",41),e.bVm()),2&d){const o=e.XpG().$implicit,y=e.XpG();e.R7$(),e.Y8G("ngIf",o.icon),e.R7$(),e.Y8G("ngIf",o.tier>0&&"hard-toy"!==y.type)}}function pd(d,h){if(1&d&&e.nrm(0,"img",46),2&d){const o=h.$implicit,y=e.XpG(2).$implicit;e.Y8G("ngSrc",o)("alt",y.name)}}function yc(d,h){if(1&d&&(e.j41(0,"div",44),e.DNE(1,pd,1,2,"img",45),e.k0s()),2&d){const o=e.XpG().$implicit,y=e.XpG();e.R7$(),e.Y8G("ngForOf",o.icons)("ngForTrackBy",y.trackByIndex)}}function yh(d,h){if(1&d){const o=e.RV6();e.qex(0),e.DNE(1,vc,2,1,"div",36),e.j41(2,"div",37),e.bIt("click",function(){const E=v.eBV(o).$implicit,C=e.XpG();return v.Njj(C.onItemClick(E))}),e.j41(3,"div",33),e.DNE(4,vh,3,2,"ng-container",38)(5,yc,2,2,"ng-template",null,1,e.C5r),e.k0s(),e.j41(7,"div",35),e.EFF(8),e.k0s()(),e.bVm()}if(2&d){const o=h.$implicit,y=h.index,E=e.sdS(6),C=e.XpG();e.R7$(),e.Y8G("ngIf",0===y||C.filteredItems[y-1].category!==o.category),e.R7$(),e.AVh("item-card-disabled",o.isDisabled)("team-card","team"===C.type),e.Y8G("appTooltip",o.tooltip||o.displayName||o.name),e.R7$(),e.AVh("team-container","team"===C.type),e.R7$(),e.Y8G("ngIf","team"!==C.type)("ngIfElse",E),e.R7$(4),e.JRh(o.displayName||o.name)}}function hd(d,h){if(1&d&&(e.j41(0,"div",47),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.SpI(' No items found matching "',o.searchQuery,'" ')}}let bc=(()=>{class d{petService;equipmentService;toyService;type="pet";currentPack="Turtle";showTokenPets=!1;showAllPets=!1;customPacks=null;savedTeams=[];lockAbilityLevel=!1;initialLevel=1;select=new v.bkB;close=new v.bkB;searchInput;searchQuery="";selectedPack="All";availablePacks=["All",...da.d,"Tokens"];selectedItemCategory="All";availableItemCategories=["All"];selectedLevel=1;items=[];filteredItems=[];customPacksSubscription=null;basePetItems=null;tokenItems=[];equipmentItems=null;toyItems=null;hardToyItems=null;searchDebounceHandle=null;trackByPack(o,y){return y??String(o)}trackByCategory(o,y){return y??String(o)}trackByItem(o,y){return y?.id??y?.name??o}trackByIndex(o){return o}get shouldShowNoneCard(){return"swallowed-pet"!==this.type&&"ability"!==this.type&&"pack"!==this.type&&"team"!==this.type&&0===this.searchQuery.trim().length}constructor(o,y,E){this.petService=o,this.equipmentService=y,this.toyService=E}ngOnInit(){this.selectedLevel=this.clampLevel(this.initialLevel),this.updateAvailablePacks(),this.customPacks&&this.customPacks instanceof ue.Yp&&(this.customPacksSubscription=this.customPacks.valueChanges.subscribe(()=>{this.updateAvailablePacks(),this.loadItems()})),this.showAllPets?this.selectedPack="All":this.currentPack&&"custom"!==this.currentPack&&(this.selectedPack=this.currentPack),this.availablePacks.includes(this.selectedPack)||(this.selectedPack="All"),this.loadItems()}ngAfterViewInit(){setTimeout(()=>{this.searchInput?.nativeElement?.focus(),this.searchInput?.nativeElement?.select()})}ngOnDestroy(){this.customPacksSubscription&&this.customPacksSubscription.unsubscribe(),this.searchDebounceHandle&&(clearTimeout(this.searchDebounceHandle),this.searchDebounceHandle=null)}updateAvailablePacks(){if(this.availablePacks=["All",...da.d,"Tokens"],this.customPacks&&this.customPacks instanceof ue.Yp){const o=this.customPacks;for(const y of o.controls){const E=y.get("name")?.value;E&&y.valid&&this.availablePacks.push(E)}}this.availablePacks.includes(this.selectedPack)||(this.selectedPack="All")}loadItems(){"pet"===this.type||"swallowed-pet"===this.type?this.loadPets():"equipment"===this.type?this.loadEquipment():"toy"===this.type?this.loadToys(!1):"hard-toy"===this.type?this.loadToys(!0):"pack"===this.type?this.loadPacks():"team"===this.type?this.loadTeams():"ability"===this.type&&this.loadAbilities(),this.updateAvailableItemCategories(),this.filterItems()}loadPets(){const o=[];if(!this.basePetItems){const E=[];for(const C of da.d){const I=this.petService.basePackPetsByName[C];if(I)for(const[W,X]of I)X.forEach(z=>{E.push({name:z,displayName:z,tier:W,pack:C,icon:(0,kt.EA)(z),tooltip:(0,kt.XR)(z),type:"pet",category:`Tier ${W}`})})}this.basePetItems=E}if(o.push(...this.basePetItems),this.customPacks&&this.customPacks instanceof ue.Yp){const E=this.customPacks;for(const C of E.controls){const I=C.get("name")?.value;if(!I||!C.valid)continue;const W=this.petService.playerCustomPackPets.get(I);if(W)for(const[X,z]of W)z.forEach(pe=>{o.push({name:pe,displayName:pe,tier:X,pack:I,icon:(0,kt.EA)(pe),tooltip:(0,kt.XR)(pe),type:"pet",category:`Tier ${X}`})})}}this.tokenItems=this.buildTokenItems(),o.push(...this.tokenItems);const y=new Map;o.forEach(E=>{const C=y.get(E.name);C?"Tokens"===C.pack&&"Tokens"!==E.pack&&y.set(E.name,E):y.set(E.name,E)}),this.items=Array.from(y.values())}loadEquipment(){if(!this.equipmentItems){const o=[],y=this.equipmentService.getInstanceOfAllEquipment(),E=this.equipmentService.getInstanceOfAllAilments();y.forEach((C,I)=>{"Corncob"===C?.name||"Mana Potion"===C?.name||o.push({name:I,displayName:C.name,tier:C.tier||0,icon:(0,kt.ht)(C.name),tooltip:(0,kt.yx)(C.name),type:"equipment",category:C.tier?`Tier ${C.tier}`:"Perks",item:C})}),E.forEach((C,I)=>{o.push({name:I,displayName:C.name,tier:0,icon:(0,kt.ht)(C.name,!0),tooltip:(0,kt.yx)(C.name),type:"ailment",category:"Ailments",item:C})}),this.equipmentItems=o}this.items=this.equipmentItems}loadTeams(){const o=Array.isArray(this.savedTeams)?this.savedTeams:[];this.items=o.map(y=>{const E=(y.pets||[]).map(I=>I?.name).filter(Boolean).slice(0,5),C=E.map(I=>(0,kt.EA)(I));return{id:y.id,name:y.name,displayName:y.name,tier:0,icon:null,icons:C,tooltip:E.join(", "),type:"team",category:"Saved Teams"}})}loadToys(o){if(!(o?this.hardToyItems:this.toyItems)){const E=[];this.toyService.getToysByType(o?1:0).forEach((I,W)=>{I.forEach(X=>{E.push({name:X,displayName:X,tier:W,icon:(0,kt.bG)(X),tooltip:(0,kt.Mw)(X),type:o?"hard-toy":"toy",category:`Tier ${W}`,item:X})})}),o?this.hardToyItems=E:this.toyItems=E}this.items=o?this.hardToyItems:this.toyItems}loadPacks(){const o=[];for(const y of da.d)"Custom"!==y&&o.push({name:y,displayName:y,tier:0,icon:(0,kt.qK)(y),type:"pack",category:"Packs"});if(this.customPacks&&this.customPacks instanceof ue.Yp){const y=this.customPacks;for(const E of y.controls){const C=E.get("name")?.value;if(C&&E.valid){const I=this.getFirstCustomPackPet(E);o.push({name:C,displayName:C,tier:0,icon:I?(0,kt.EA)(I):(0,kt.qK)(C),type:"pack",category:"Custom Packs"})}}}o.push({name:"Add Custom Pack",displayName:"+ Add Custom Pack",tier:0,icon:(0,kt.EA)("White Tiger"),type:"pack",category:"Custom Packs"}),this.items=o}filterItems(){let o=this.items;if(("pet"===this.type||"swallowed-pet"===this.type)&&("Tokens"===this.selectedPack?o=this.tokenItems:"All"!==this.selectedPack&&(o=o.filter(y=>y.pack===this.selectedPack||"swallowed-pet"===this.type&&"Tokens"===y.pack))),"ability"===this.type&&"All"!==this.selectedPack&&(o=o.filter("Tokens"===this.selectedPack?y=>"Tokens"===y.pack:"Equipment"===this.selectedPack?y=>"equipment"===y.type||"ailment"===y.type:"Toys"===this.selectedPack?y=>"toy"===y.type||"hard-toy"===y.type:y=>y.pack===this.selectedPack||y.isDisabled)),("equipment"===this.type||"toy"===this.type||"hard-toy"===this.type)&&"All"!==this.selectedItemCategory&&(o=o.filter(y=>y.category===this.selectedItemCategory)),this.searchQuery){const y=this.searchQuery.toLowerCase();o=o.filter(E=>E.name.toLowerCase().includes(y)||E.displayName&&E.displayName.toLowerCase().includes(y))}this.filteredItems=[...o].sort((y,E)=>{if("ability"===this.type){const C=W=>"pet"===W.type?0:"equipment"===W.type||"ailment"===W.type?1:2,I=C(y)-C(E);if(0!==I)return I}return"Ailments"===y.category&&"Ailments"!==E.category?1:"Ailments"!==y.category&&"Ailments"===E.category?-1:y.category!==E.category?y.category.localeCompare(E.category):y.tier!==E.tier?y.tier-E.tier:y.name.localeCompare(E.name)})}onSearchChange(){this.searchDebounceHandle&&clearTimeout(this.searchDebounceHandle),this.searchDebounceHandle=setTimeout(()=>{this.searchDebounceHandle=null,this.filterItems()},50)}selectPack(o){this.selectedPack=o,this.filterItems()}selectItemCategory(o){this.selectedItemCategory=o,this.filterItems()}getPackFilterIcon(o){if(!o||"All"===o)return null;if("Tokens"===o)return(0,kt.EA)("Bee");if(da.d.includes(o))return(0,kt.qK)(o);if(this.customPacks&&this.customPacks instanceof ue.Yp){const E=this.customPacks.controls.find(C=>C.get("name")?.value===o&&C.valid);if(E){const C=this.getFirstCustomPackPet(E);if(C)return(0,kt.EA)(C)}}return(0,kt.qK)(o)}onItemClick(o){this.select.emit(o?"team"!==this.type?"pet"===this.type||"swallowed-pet"===this.type||"pack"===this.type?"swallowed-pet"===this.type?{name:o.name,level:this.selectedLevel}:o.name:"ability"===this.type?{name:o.name,level:this.selectedLevel}:o.item:o.id||o.name:null)}onCancel(){this.close.emit()}getFirstCustomPackPet(o){for(let y=1;y<=6;y++){const E=o.get(`tier${y}Pets`)?.value;if(Array.isArray(E)){const C=E.find(I=>!!I);if(C)return C}}return null}buildTokenItems(){const o=[];for(const[y,E]of this.petService.tokenPetsMap)E.forEach(C=>{o.push({name:C,displayName:C,tier:y,pack:"Tokens",icon:(0,kt.EA)(C),tooltip:(0,kt.XR)(C),type:"pet",category:"Tokens"})});return o}loadAbilities(){const o=[];if(!this.basePetItems){const W=[];for(const X of da.d){const z=this.petService.basePackPetsByName[X];if(z)for(const[pe,Me]of z)Me.forEach(Ie=>{W.push({name:Ie,displayName:Ie,tier:pe,pack:X,icon:(0,kt.EA)(Ie),tooltip:(0,kt.XR)(Ie),type:"pet",category:`Tier ${pe}`})})}this.basePetItems=W}const y=[];y.push(...this.basePetItems),y.push(...this.buildTokenItems());const E=new Map;y.forEach(W=>{const X=E.get(W.name);X?"Tokens"===X.pack&&"Tokens"!==W.pack&&E.set(W.name,W):E.set(W.name,W)}),o.push(...Array.from(E.values())),this.equipmentItems||this.loadEquipment();const C=(this.equipmentItems??[]).map(W=>({...W,isDisabled:!0,category:"ailment"===W.type?"Ailments":W.category??"Equipment"}));this.toyItems||this.loadToys(!1),this.hardToyItems||this.loadToys(!0);const I=[...this.toyItems??[],...this.hardToyItems??[]].map(W=>({...W,isDisabled:!0,category:"hard-toy"===W.type?`Hard Toy Tier ${W.tier}`:`Toy Tier ${W.tier}`}));this.items=[...o,...C,...I]}updateAvailableItemCategories(){if("equipment"!==this.type&&"toy"!==this.type&&"hard-toy"!==this.type)return this.availableItemCategories=["All"],void(this.selectedItemCategory="All");const o=Array.from(new Set(this.items.map(y=>y.category).filter(Boolean)));o.sort((y,E)=>{const C=this.extractTierNumber(y),I=this.extractTierNumber(E);return null!=C&&null!=I?C-I:null!=C?-1:null!=I?1:y.localeCompare(E)}),this.availableItemCategories=["All",...o],this.availableItemCategories.includes(this.selectedItemCategory)||(this.selectedItemCategory="All")}get abilityPackFilters(){return"ability"!==this.type?[]:["All",...da.d,"Tokens","Equipment","Toys"]}extractTierNumber(o){const y=/^Tier\s+(\d+)$/i.exec(o);return y?Number(y[1]):null}clampLevel(o){const y=Number(o);return Number.isFinite(y)?Math.max(1,Math.min(3,Math.trunc(y))):1}static \u0275fac=function(y){return new(y||d)(e.rXU(vs.T),e.rXU(ta.m),e.rXU(Ks.w))};static \u0275cmp=e.VBU({type:d,selectors:[["app-item-selection-dialog"]],viewQuery:function(y,E){if(1&y&&e.GBs(_c,5),2&y){let C;e.mGM(C=e.lsd())&&(E.searchInput=C.first)}},inputs:{type:"type",currentPack:"currentPack",showTokenPets:"showTokenPets",showAllPets:"showAllPets",customPacks:"customPacks",savedTeams:"savedTeams",lockAbilityLevel:"lockAbilityLevel",initialLevel:"initialLevel"},outputs:{select:"select",close:"close"},decls:19,vars:13,consts:[["searchInput",""],["teamIcons",""],[1,"selection-overlay",3,"click"],[1,"selection-dialog","card","shadow-lg",3,"click"],[1,"dialog-header"],[1,"btn-close",3,"click"],[1,"dialog-body"],[1,"search-container"],["type","text","placeholder","Search...",1,"form-control","search-input",3,"ngModelChange","ngModel"],["class","pack-filters",4,"ngIf"],["class","ability-level-selector mt-2 text-center",4,"ngIf"],["class","ability-mode-notice",4,"ngIf"],[1,"items-grid","scroll"],["class","item-card none-card",3,"click",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","no-results",4,"ngIf"],[1,"pack-filters"],["class","btn btn-sm",3,"btn-primary","btn-outline-primary","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-sm",3,"click"],[1,"pack-filter-content"],["width","18","height","18","loading","lazy","decoding","async","class","pack-filter-icon",3,"ngSrc","alt",4,"ngIf"],["width","18","height","18","loading","lazy","decoding","async",1,"pack-filter-icon",3,"ngSrc","alt"],[1,"ability-level-selector","mt-2","text-center"],["role","group","aria-label","Ability Level Selector",1,"btn-group","btn-group-sm"],["type","radio","name","abilityLevel","id","abilityLevel1",1,"btn-check",3,"change","checked"],["for","abilityLevel1",1,"btn","btn-outline-primary"],["type","radio","name","abilityLevel","id","abilityLevel2",1,"btn-check",3,"change","checked"],["for","abilityLevel2",1,"btn","btn-outline-primary"],["type","radio","name","abilityLevel","id","abilityLevel3",1,"btn-check",3,"change","checked"],["for","abilityLevel3",1,"btn","btn-outline-primary"],[1,"ability-mode-notice"],[1,"notice-icon"],[1,"item-card","none-card",3,"click"],[1,"item-icon-container"],[1,"none-icon"],[1,"item-name"],["class","category-header",4,"ngIf"],[1,"item-card",3,"click","appTooltip"],[4,"ngIf","ngIfElse"],[1,"category-header"],["width","48","height","48","loading","lazy","decoding","async","class","item-icon",3,"ngSrc","alt",4,"ngIf"],["class","tier-badge",3,"ngClass",4,"ngIf"],["width","48","height","48","loading","lazy","decoding","async",1,"item-icon",3,"ngSrc","alt"],[1,"tier-badge",3,"ngClass"],[1,"team-icon-strip"],["width","32","height","32","loading","lazy","decoding","async","class","team-icon",3,"ngSrc","alt",4,"ngFor","ngForOf","ngForTrackBy"],["width","32","height","32","loading","lazy","decoding","async",1,"team-icon",3,"ngSrc","alt"],[1,"no-results"]],template:function(y,E){if(1&y){const C=e.RV6();e.j41(0,"div",2),e.bIt("click",function(){return v.eBV(C),v.Njj(E.onCancel())}),e.j41(1,"div",3),e.bIt("click",function(W){return v.eBV(C),v.Njj(W.stopPropagation())}),e.j41(2,"div",4)(3,"h3"),e.EFF(4),e.k0s(),e.j41(5,"button",5),e.bIt("click",function(){return v.eBV(C),v.Njj(E.onCancel())}),e.k0s()(),e.j41(6,"div",6)(7,"div",7)(8,"input",8,0),e.mxI("ngModelChange",function(W){return v.eBV(C),e.DH7(E.searchQuery,W)||(E.searchQuery=W),v.Njj(W)}),e.bIt("ngModelChange",function(){return v.eBV(C),v.Njj(E.onSearchChange())}),e.k0s()(),e.DNE(10,W_,2,2,"div",9)(11,dd,2,2,"div",9)(12,fc,11,3,"div",10)(13,$_,2,2,"div",9)(14,qo,8,0,"div",11),e.j41(15,"div",12),e.DNE(16,mh,6,0,"div",13)(17,yh,9,11,"ng-container",14)(18,hd,2,1,"div",15),e.k0s()()()()}2&y&&(e.R7$(4),e.SpI(" Select ","pet"===E.type?"Pet":"swallowed-pet"===E.type?"Swallowed Pet":"equipment"===E.type?"Equipment":"toy"===E.type?"Toy":"hard-toy"===E.type?"Hard Toy":"team"===E.type?"Team":"ability"===E.type?"Ability":"Pack"," "),e.R7$(4),e.R50("ngModel",E.searchQuery),e.R7$(2),e.Y8G("ngIf","pet"===E.type||"swallowed-pet"===E.type),e.R7$(),e.Y8G("ngIf","ability"===E.type),e.R7$(),e.Y8G("ngIf","ability"===E.type&&!E.lockAbilityLevel),e.R7$(),e.Y8G("ngIf","equipment"===E.type||"toy"===E.type||"hard-toy"===E.type),e.R7$(),e.Y8G("ngIf","ability"===E.type),e.R7$(),e.AVh("team-grid","team"===E.type),e.R7$(),e.Y8G("ngIf",E.shouldShowNoneCard),e.R7$(),e.Y8G("ngForOf",E.filteredItems)("ngForTrackBy",E.trackByItem),e.R7$(),e.Y8G("ngIf",0===E.filteredItems.length))},dependencies:[Ht.MD,Ht.YU,Ht.Sq,Ht.bT,vi,ue.YN,ue.me,ue.BC,ue.vS,ud],styles:[".selection-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;backdrop-filter:blur(4px);z-index:1000;display:flex;align-items:center;justify-content:center}.selection-dialog[_ngcontent-%COMP%]{width:90%;max-width:600px;height:80vh;background:#fff;border-radius:12px;display:flex;flex-direction:column;overflow:hidden;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.lapsus-stage-1[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%], .lapsus-stage-1[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .lapsus-stage-1[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .lapsus-stage-1[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .lapsus-stage-1[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%], .lapsus-stage-2[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%], .lapsus-stage-2[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .lapsus-stage-2[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .lapsus-stage-2[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .lapsus-stage-2[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%], .lapsus-stage-3[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%], .lapsus-stage-3[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .lapsus-stage-3[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .lapsus-stage-3[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .lapsus-stage-3[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.dialog-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center;background:#f8f9fa}.dialog-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600}.dialog-body[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column;gap:1rem;flex:1;overflow:hidden}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{border-radius:8px;padding:.6rem 1rem;background:#f1f3f5;border:2px solid transparent;transition:all .2s}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{background:#fff;border-color:#33377a;box-shadow:0 0 0 4px #33377a1a}.pack-filters[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.4rem;padding-bottom:.5rem;border-bottom:1px solid #eee}.pack-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px;padding:.2rem .8rem;font-size:.8rem;text-transform:capitalize}.pack-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .pack-filter-content[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.35rem}.pack-filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .pack-filter-icon[_ngcontent-%COMP%]{width:18px;height:18px;object-fit:contain;flex-shrink:0}.items-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:.75rem;padding:.5rem .5rem .75rem;overflow-y:auto;flex:1;align-content:start;align-items:start}.items-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.items-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.items-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ccc;border-radius:3px}.items-grid.team-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(160px,1fr));justify-content:stretch;gap:.6rem}.category-header[_ngcontent-%COMP%]{grid-column:1/-1;padding:.25rem .5rem .2rem;font-size:.85rem;font-weight:700;color:#33377a;text-transform:uppercase;letter-spacing:.05em;border-bottom:1px solid rgba(51,55,122,.1);margin-top:.15rem}.item-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:.5rem;border-radius:8px;cursor:pointer;transition:all .2s;text-align:center;position:relative;z-index:1}.item-card[_ngcontent-%COMP%]:hover{background:#f1f3f5;transform:translateY(-2px)}.item-card.none-card[_ngcontent-%COMP%]   .none-icon[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#868e96;text-transform:uppercase}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]{position:relative;width:48px;height:48px;display:flex;align-items:center;justify-content:center;margin-bottom:.4rem}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#e67e22;color:#fff;font-size:.75rem;width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;box-shadow:0 2px 4px #0003;border:1.5px solid white}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-1[_ngcontent-%COMP%]{background:#6c757d}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-2[_ngcontent-%COMP%]{background:#198754}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-3[_ngcontent-%COMP%]{background:#0d6efd}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-4[_ngcontent-%COMP%]{background:#6f42c1}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-5[_ngcontent-%COMP%]{background:#fd7e14}.item-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]   .tier-badge-tier-6[_ngcontent-%COMP%]{background:#dc3545}.item-card[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-size:.75rem;color:#495057;word-break:break-word;line-height:1.1}.item-card.item-card-disabled[_ngcontent-%COMP%]{opacity:.65;cursor:pointer;border:1.5px solid #f0a500;background:#f0a5000d}.item-card.item-card-disabled[_ngcontent-%COMP%]:hover{background:#f0a5001f;transform:translateY(-1px)}.item-card.item-card-disabled[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#7a6200}.night[_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%]{border-color:#c98f00;background:#c8960014}.night[_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%]:hover, .night   [_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%]:hover{background:#c8960029}.night[_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .item-card.item-card-disabled[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#d4aa30}.ability-mode-notice[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.4rem .75rem;background:#f0a5001a;border:1px solid rgba(240,165,0,.4);border-radius:6px;font-size:.8rem;color:#7a5e00}.ability-mode-notice[_ngcontent-%COMP%]   .notice-icon[_ngcontent-%COMP%]{font-size:1rem;flex-shrink:0}.night[_nghost-%COMP%]   .ability-mode-notice[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .ability-mode-notice[_ngcontent-%COMP%]{background:#c896001f;border-color:#c8960066;color:#d4aa30}.item-card.team-card[_ngcontent-%COMP%]{align-items:stretch;width:100%;padding:.45rem}.item-card.team-card[_ngcontent-%COMP%]   .item-icon-container[_ngcontent-%COMP%]{width:100%;height:auto;margin-bottom:.35rem}.item-card.team-card[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{text-align:center}.no-results[_ngcontent-%COMP%]{grid-column:1/-1;padding:2rem;text-align:center;color:#868e96;font-style:italic}.night[_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .selection-dialog[_ngcontent-%COMP%]{background:#2d2d2d;color:#eee}.night[_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .dialog-header[_ngcontent-%COMP%]{background:#1a1a1a;border-bottom-color:#444}.night[_nghost-%COMP%]   .item-name[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#ccc}.night[_nghost-%COMP%]   .item-card[_ngcontent-%COMP%]:hover, .night   [_nghost-%COMP%]   .item-card[_ngcontent-%COMP%]:hover{background:#3d3d3d}.night[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]{background:#3d3d3d;color:#eee}.night[_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]:focus, .night   [_nghost-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{background:#444}.night[_nghost-%COMP%]   .pack-filters[_ngcontent-%COMP%], .night   [_nghost-%COMP%]   .pack-filters[_ngcontent-%COMP%]{border-bottom-color:#444}.team-icon-strip[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:3px;width:100%;justify-items:center}.team-icon[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain;background:#f5f6f8;border-radius:6px;border:1px solid rgba(0,0,0,.08)}"],changeDetection:0})}return d})(),to=(()=>{class d{formGroup;setExp(o){this.formGroup.get("exp")?.setValue(o)}getIsSelected(o){return(this.formGroup.get("exp")?.value??0)>=o}showRemoveExp(){return(this.formGroup.get("exp")?.value??0)>0}static \u0275fac=function(y){return new(y||d)};static \u0275cmp=e.VBU({type:d,selectors:[["app-pet-level-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup"},decls:20,vars:15,consts:[[3,"formGroup"],[1,"col-12","d-flex","level-bar-numbers","mb-1"],[1,"remove-exp","spacer"],[1,"level-slots-labels","d-flex","flex-grow-1"],[1,"level-icon"],["ngSrc","assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/l1.png","width","18","height","18","loading","lazy","decoding","async","alt","Level 1"],["ngSrc","assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/l2.png","width","18","height","18","loading","lazy","decoding","async","alt","Level 2"],[1,"level-icon","level-3"],["ngSrc","assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/l3.png","width","18","height","18","loading","lazy","decoding","async","alt","Level 3"],[1,"col-12","d-flex","level-bar","mb-2"],[1,"remove-exp",3,"click"],[3,"click"]],template:function(y,E){1&y&&(e.qex(0,0),e.j41(1,"div",1),e.nrm(2,"span",2),e.j41(3,"div",3)(4,"span",4),e.nrm(5,"img",5),e.k0s(),e.nrm(6,"span"),e.j41(7,"span",4),e.nrm(8,"img",6),e.k0s(),e.nrm(9,"span"),e.j41(10,"span",7),e.nrm(11,"img",8),e.k0s()()(),e.j41(12,"div",9)(13,"span",10),e.bIt("click",function(){return E.setExp(0)}),e.EFF(14,"x"),e.k0s(),e.j41(15,"span",11),e.bIt("click",function(){return E.setExp(1)}),e.k0s(),e.j41(16,"span",11),e.bIt("click",function(){return E.setExp(2)}),e.k0s(),e.j41(17,"span",11),e.bIt("click",function(){return E.setExp(3)}),e.k0s(),e.j41(18,"span",11),e.bIt("click",function(){return E.setExp(4)}),e.k0s(),e.j41(19,"span",11),e.bIt("click",function(){return E.setExp(5)}),e.k0s()(),e.bVm()),2&y&&(e.Y8G("formGroup",E.formGroup),e.R7$(2),e.xc7("visibility",E.showRemoveExp()?"visible":"hidden"),e.R7$(11),e.xc7("visibility",E.showRemoveExp()?"visible":"hidden"),e.R7$(2),e.AVh("selected",E.getIsSelected(1)),e.R7$(),e.AVh("selected",E.getIsSelected(1)&&E.getIsSelected(2)),e.R7$(),e.AVh("selected",E.getIsSelected(1)&&E.getIsSelected(3)),e.R7$(),e.AVh("selected",E.getIsSelected(1)&&E.getIsSelected(4)),e.R7$(),e.AVh("selected",E.getIsSelected(1)&&E.getIsSelected(5)))},dependencies:[Ht.MD,vi,ue.X1,ue.cb,ue.j4],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-stack-item[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center}.swallowed-beluga-nested[_ngcontent-%COMP%]{width:16px!important;height:16px!important;margin-left:-4px;margin-top:2px;z-index:1}.swallowed-label[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:500;text-transform:uppercase;letter-spacing:.03em;text-shadow:0 1px 2px rgba(0,0,0,.75)}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.selection-icon-wrap[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;margin-right:.4rem}.selection-level-badge[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-6px;min-width:14px;height:14px;padding:0 3px;border-radius:999px;background:#000000d1;border:1px solid rgba(255,255,255,.45);color:#fff;font-size:.56rem;line-height:12px;text-align:center;font-weight:700;text-shadow:none}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;text-shadow:0 1px 2px rgba(0,0,0,.75);padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:500;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;color:#fff!important;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:focus-visible, .selection-btn[_ngcontent-%COMP%]:active{color:#fff!important;transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .selection-text[_ngcontent-%COMP%], .selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.15;letter-spacing:.025em;color:#fff;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:500;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return d})();const bh=new Set(["parrot","parrot-beluga","parrot-abomination","parrot-abomination-beluga","abomination-parrot","abomination-parrot-beluga","abomination-parrot-abomination","abomination-parrot-abomination-beluga","parrot-abomination-parrot","parrot-abomination-parrot-beluga","parrot-abomination-parrot-abomination","parrot-abomination-parrot-abomination-beluga"]),Pc=new Set(["sabertooth tiger","tuna"]);function Ar(d){const h=function Ph(d){if("string"==typeof d){const h=d.trim().toLowerCase();return h.length>0?h:null}if(d&&"object"==typeof d&&"string"==typeof d.name){const h=d.name.trim().toLowerCase();return h.length>0?h:null}return null}(d);return!!h&&(!!Pc.has(h)||h.includes("sabertooth"))}const gd=["Adult Flounder","Angry Pygmy Hog","Baby Urchin","Bee","Bus","Butterfly","Chick","Chimera Goat","Chimera Lion","Chimera Snake","Cooked Roach","Cracked Egg","Cuckoo Chick","Daycrawler","Dirty Rat","Fairy Ball","Fake Nessie","Fire Pup","Giant Eyes Dog","Golden Retriever","Good Dog","Great One","Head","Lizard Tail","Loyal Chinchilla","Mimic Octopus","Moby Dick","Monty","Nessie?","Nest","Quail","Ram","Rock","Salmon","Sleeping Gelada","Smaller Slime","Smaller Slug","Smallest Slug","Tand and Tand","Young Phoenix","Zombie Cricket","Zombie Fly"],md=(()=>{const d=[];for(let h=1;h<=3;h++){const o=`parrotCopyPetAbominationSwallowedPet${h}`;d.push(o),d.push(`${o}BelugaSwallowedPet`),d.push(`${o}Level`),d.push(`${o}TimesHurt`)}return d})(),x=(()=>{const d=[];for(let h=1;h<=3;h++){const o=`parrotCopyPetAbominationSwallowedPet${h}`;d.push(`${o}ParrotCopyPet`),d.push(`${o}ParrotCopyPetBelugaSwallowedPet`);for(let y=1;y<=3;y++){const E=`${o}ParrotCopyPetAbominationSwallowedPet${y}`;d.push(E),d.push(`${E}BelugaSwallowedPet`),d.push(`${E}Level`),d.push(`${E}TimesHurt`)}}return d})();function H(d,h){1&d&&(e.j41(0,"div",8)(1,"label",9),e.EFF(2,"Times Hurt"),e.k0s(),e.nrm(3,"input",10),e.k0s())}function ae(d,h){1&d&&(e.j41(0,"div",8)(1,"label",11),e.EFF(2,"Friends Fainted in Shop"),e.k0s(),e.nrm(3,"input",12),e.k0s())}function Ae(d,h){1&d&&(e.j41(0,"div",8)(1,"label",13),e.EFF(2,"Battles Fought"),e.k0s(),e.nrm(3,"input",14),e.k0s())}function Oe(d,h){1&d&&(e.j41(0,"div",16)(1,"div",17),e.nrm(2,"input",18),e.k0s()())}function Je(d,h){1&d&&(e.j41(0,"div",16),e.nrm(1,"input",19),e.k0s())}function yt(d,h){1&d&&(e.qex(0),e.j41(1,"div",3)(2,"div",17),e.nrm(3,"input",18),e.k0s()(),e.j41(4,"div",3),e.nrm(5,"input",20),e.k0s(),e.bVm())}function Si(d,h){if(1&d&&(e.qex(0),e.DNE(1,Oe,3,0,"div",15)(2,Je,2,0,"div",15)(3,yt,6,0,"ng-container",2),e.bVm()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.mana&&!o.triggersConsumed),e.R7$(),e.Y8G("ngIf",!o.mana&&o.triggersConsumed),e.R7$(),e.Y8G("ngIf",o.mana&&o.triggersConsumed)}}function ti(d,h){1&d&&(e.j41(0,"div",8)(1,"label",21),e.EFF(2,"Foods Eaten"),e.k0s(),e.nrm(3,"input",22),e.k0s())}let Ri=(()=>{class d{formGroup;petName=null;mana=!1;triggersConsumed=!1;attackHealthMax=100;friendsDiedCaps=new Map([["Vulture",1],["Saiga Antelope",1],["Secretary Bird",1],["Mimic",2]]);foodsEatenPets=new Set(["Black Bear","Blue Jay","Dung Beetle","Locust"]);battlesFoughtPets=new Set(["Slime"]);shouldShowFriendsDiedInput(){return!!this.petName&&this.friendsDiedCaps.has(this.petName)}shouldShowFoodsEatenInput(){return!!this.petName&&this.foodsEatenPets.has(this.petName)}shouldShowBattlesFoughtInput(){return!!this.petName&&this.battlesFoughtPets.has(this.petName)}shouldShowTimesHurtInput(){return Ar(this.petName??this.formGroup?.get("name")?.value)}getFriendsDiedMax(){return this.petName?this.friendsDiedCaps.get(this.petName)??5:5}static \u0275fac=function(y){return new(y||d)};static \u0275cmp=e.VBU({type:d,selectors:[["app-pet-stats-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup",petName:"petName",mana:"mana",triggersConsumed:"triggersConsumed",attackHealthMax:"attackHealthMax"},decls:12,vars:8,consts:[[3,"formGroup"],["class","col-12 mb-2",4,"ngIf"],[4,"ngIf"],[1,"col-6"],[1,"stat-tile","stat-attack"],["formControlName","attack","type","number","min","1",1,"form-control","stat-input","select-attack",3,"max"],[1,"stat-tile","stat-health"],["formControlName","health","type","number","min","1",1,"form-control","stat-input","select-health",3,"max"],[1,"col-12","mb-2"],["for","timesHurt"],["formControlName","timesHurt","type","number","min","0","max","99",1,"form-control"],["for","friendsDiedBeforeBattle",1,"swallowed-label"],["type","number","min","0","max","5","formControlName","friendsDiedBeforeBattle",1,"form-control"],["for","battlesFought"],["formControlName","battlesFought","type","number","min","0","max","99",1,"form-control"],["class","col-12",4,"ngIf"],[1,"col-12"],[1,"stat-tile","stat-mana"],["formControlName","mana","type","number","min","0","max","50","placeholder","Mana",1,"form-control","stat-input","select-mana"],["formControlName","triggersConsumed","type","number","min","0","max","10","placeholder","Triggers Consumed",1,"form-control","select-triggers-consumed","single-stat-input"],["formControlName","triggersConsumed","type","number","min","0","max","10","placeholder","Triggers Consumed",1,"form-control","select-triggers-consumed"],["for","foodsEaten",1,"swallowed-label"],["formControlName","foodsEaten","type","number","min","0","max","99",1,"form-control","select-foods-eaten"]],template:function(y,E){1&y&&(e.qex(0,0),e.DNE(1,H,4,0,"div",1)(2,ae,4,0,"div",1)(3,Ae,4,0,"div",1)(4,Si,4,3,"ng-container",2)(5,ti,4,0,"div",1),e.j41(6,"div",3)(7,"div",4),e.nrm(8,"input",5),e.k0s()(),e.j41(9,"div",3)(10,"div",6),e.nrm(11,"input",7),e.k0s()(),e.bVm()),2&y&&(e.Y8G("formGroup",E.formGroup),e.R7$(),e.Y8G("ngIf",E.shouldShowTimesHurtInput()),e.R7$(),e.Y8G("ngIf",E.shouldShowFriendsDiedInput()),e.R7$(),e.Y8G("ngIf",E.shouldShowBattlesFoughtInput()),e.R7$(),e.Y8G("ngIf",E.mana||E.triggersConsumed),e.R7$(),e.Y8G("ngIf",E.shouldShowFoodsEatenInput()),e.R7$(3),e.Y8G("max",E.attackHealthMax),e.R7$(3),e.Y8G("max",E.attackHealthMax))},dependencies:[Ht.MD,Ht.bT,ue.X1,ue.me,ue.Q0,ue.BC,ue.cb,ue.VZ,ue.zX,ue.j4,ue.JD],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-stack-item[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center}.swallowed-beluga-nested[_ngcontent-%COMP%]{width:16px!important;height:16px!important;margin-left:-4px;margin-top:2px;z-index:1}.swallowed-label[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:500;text-transform:uppercase;letter-spacing:.03em;text-shadow:0 1px 2px rgba(0,0,0,.75)}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.selection-icon-wrap[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;margin-right:.4rem}.selection-level-badge[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-6px;min-width:14px;height:14px;padding:0 3px;border-radius:999px;background:#000000d1;border:1px solid rgba(255,255,255,.45);color:#fff;font-size:.56rem;line-height:12px;text-align:center;font-weight:700;text-shadow:none}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;text-shadow:0 1px 2px rgba(0,0,0,.75);padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:500;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;color:#fff!important;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:focus-visible, .selection-btn[_ngcontent-%COMP%]:active{color:#fff!important;transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .selection-text[_ngcontent-%COMP%], .selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.15;letter-spacing:.025em;color:#fff;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:500;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return d})();function $s(d,h){if(1&d&&e.nrm(0,"img",7),2&d){const o=e.XpG();e.Y8G("ngSrc",o.equipmentImageSrc)}}function oA(d,h){if(1&d&&e.nrm(0,"img",7),2&d){const o=e.XpG();e.Y8G("ngSrc",o.ailmentImageSrc)}}function G_(d,h){if(1&d&&(e.j41(0,"div",8)(1,"label",9),e.EFF(2,"Uses"),e.k0s(),e.nrm(3,"input",10),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("for",o.equipmentUsesInputId),e.R7$(2),e.Y8G("id",o.equipmentUsesInputId)}}let lA=(()=>{class d{formGroup;equipmentImageSrc=null;ailmentImageSrc=null;allowEquipmentUseOverrides=!1;equipmentUsesAvailable=!1;equipmentUsesInputId="";openSelection=new v.bkB;static \u0275fac=function(y){return new(y||d)};static \u0275cmp=e.VBU({type:d,selectors:[["app-pet-equipment-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup",equipmentImageSrc:"equipmentImageSrc",ailmentImageSrc:"ailmentImageSrc",allowEquipmentUseOverrides:"allowEquipmentUseOverrides",equipmentUsesAvailable:"equipmentUsesAvailable",equipmentUsesInputId:"equipmentUsesInputId"},outputs:{openSelection:"openSelection"},decls:9,vars:5,consts:[[3,"formGroup"],[1,"col-12","mb-2"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center",3,"click"],["class","btn-icon me-2","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc",4,"ngIf"],[1,"btn-text"],[1,"bi","bi-chevron-down","ms-auto"],["class","col-6 mb-2",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async",1,"btn-icon","me-2",3,"ngSrc"],[1,"col-6","mb-2"],[3,"for"],["type","number","min","1","max","99","formControlName","equipmentUses",1,"form-control",3,"id"]],template:function(y,E){if(1&y&&(e.qex(0,0),e.j41(1,"div",1)(2,"button",2),e.bIt("click",function(){return E.openSelection.emit()}),e.DNE(3,$s,1,1,"img",3)(4,oA,1,1,"img",3),e.j41(5,"span",4),e.EFF(6),e.k0s(),e.nrm(7,"i",5),e.k0s()(),e.DNE(8,G_,4,2,"div",6),e.bVm()),2&y){let C;e.Y8G("formGroup",E.formGroup),e.R7$(3),e.Y8G("ngIf",E.equipmentImageSrc),e.R7$(),e.Y8G("ngIf",!E.equipmentImageSrc&&E.ailmentImageSrc),e.R7$(2),e.JRh((null==(C=E.formGroup.get("equipment"))?null:C.value)||"Select Equipment"),e.R7$(2),e.Y8G("ngIf",E.allowEquipmentUseOverrides&&E.equipmentUsesAvailable)}},dependencies:[Ht.MD,Ht.bT,vi,ue.X1,ue.me,ue.Q0,ue.BC,ue.cb,ue.VZ,ue.zX,ue.j4,ue.JD],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-stack-item[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center}.swallowed-beluga-nested[_ngcontent-%COMP%]{width:16px!important;height:16px!important;margin-left:-4px;margin-top:2px;z-index:1}.swallowed-label[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:500;text-transform:uppercase;letter-spacing:.03em;text-shadow:0 1px 2px rgba(0,0,0,.75)}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.selection-icon-wrap[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;margin-right:.4rem}.selection-level-badge[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-6px;min-width:14px;height:14px;padding:0 3px;border-radius:999px;background:#000000d1;border:1px solid rgba(255,255,255,.45);color:#fff;font-size:.56rem;line-height:12px;text-align:center;font-weight:700;text-shadow:none}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;text-shadow:0 1px 2px rgba(0,0,0,.75);padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:500;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;color:#fff!important;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:focus-visible, .selection-btn[_ngcontent-%COMP%]:active{color:#fff!important;transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .selection-text[_ngcontent-%COMP%], .selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.15;letter-spacing:.025em;color:#fff;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:500;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return d})();var Wa=i(58212);const Ah=()=>[];function cA(d,h){if(1&d&&(e.j41(0,"span",13),e.nrm(1,"img",14),e.j41(2,"span",15),e.EFF(3),e.k0s()()),2&d){const o=h.ngIf,y=e.XpG().index,E=e.XpG(2);e.R7$(),e.Y8G("ngSrc",o),e.R7$(2),e.JRh(E.getAbominationAbilityLevel(y))}}function Eh(d,h){if(1&d&&(e.j41(0,"div",20)(1,"label",21),e.EFF(2,"Times Hurt"),e.k0s(),e.nrm(3,"input",22),e.k0s()),2&d){const o=e.XpG(2).index;e.R7$(3),e.Y8G("formControlName","abominationSwallowedPet"+(o+1)+"TimesHurt")}}function H_(d,h){if(1&d&&e.nrm(0,"img",26),2&d){let o;const y=e.XpG(3).index,E=e.XpG(2);e.Y8G("ngSrc",E.getAbilityImagePath(null==(o=E.formGroup.get("abominationSwallowedPet"+(y+1)+"BelugaSwallowedPet"))?null:o.value))}}function uA(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",23)(1,"label",21),e.EFF(2,"Swallowed by Beluga"),e.k0s(),e.j41(3,"button",24),e.bIt("click",function(){v.eBV(o);const E=e.XpG(2).index,C=e.XpG(2);return v.Njj(C.openSelectionDialog("swallowed-pet",E+1,"abomination-beluga"))}),e.DNE(4,H_,1,1,"img",25),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s()()}if(2&d){let o,y;const E=e.XpG(2).index,C=e.XpG(2);e.R7$(4),e.Y8G("ngIf",C.getAbilityImagePath(null==(o=C.formGroup.get("abominationSwallowedPet"+(E+1)+"BelugaSwallowedPet"))?null:o.value)),e.R7$(2),e.JRh((null==(y=C.formGroup.get("abominationSwallowedPet"+(E+1)+"BelugaSwallowedPet"))?null:y.value)||"None")}}function dA(d,h){if(1&d&&e.nrm(0,"img",28),2&d){let o;const y=e.XpG(3).index,E=e.XpG(2);e.Y8G("ngSrc",E.getAbilityImagePath(null==(o=E.formGroup.get("abominationSwallowedPet"+(y+1)+"SarcasticFringeheadSwallowedPet"))?null:o.value))}}function pA(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",23)(1,"label",21),e.EFF(2,"Swallowed by Fringehead"),e.k0s(),e.j41(3,"button",24),e.bIt("click",function(){v.eBV(o);const E=e.XpG(2).index,C=e.XpG(2);return v.Njj(C.openSelectionDialog("swallowed-pet",E+1,"abomination-sarcastic"))}),e.DNE(4,dA,1,1,"img",27),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s()()}if(2&d){let o,y;const E=e.XpG(2).index,C=e.XpG(2);e.R7$(4),e.Y8G("ngIf",C.getAbilityImagePath(null==(o=C.formGroup.get("abominationSwallowedPet"+(E+1)+"SarcasticFringeheadSwallowedPet"))?null:o.value)),e.R7$(2),e.JRh((null==(y=C.formGroup.get("abominationSwallowedPet"+(E+1)+"SarcasticFringeheadSwallowedPet"))?null:y.value)||"None")}}function hA(d,h){if(1&d&&e.nrm(0,"img",32),2&d){let o;const y=e.XpG(3).index,E=e.XpG(2);e.Y8G("ngSrc",E.getAbilityImagePath(null==(o=E.formGroup.get("abominationSwallowedPet"+(y+1)+"ParrotCopyPet"))?null:o.value))}}function gA(d,h){if(1&d&&e.nrm(0,"img",35),2&d){let o;const y=e.XpG(4).index,E=e.XpG(2);e.Y8G("ngSrc",E.getAbilityImagePath(null==(o=E.formGroup.get("abominationSwallowedPet"+(y+1)+"ParrotCopyPetBelugaSwallowedPet"))?null:o.value))}}function mA(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",33)(1,"label",21),e.EFF(2,"Then Beluga Swallow"),e.k0s(),e.j41(3,"button",24),e.bIt("click",function(){v.eBV(o);const E=e.XpG(3).index,C=e.XpG(2);return v.Njj(C.openSelectionDialog("swallowed-pet",E+1,"abomination-parrot-beluga"))}),e.DNE(4,gA,1,1,"img",34),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s()()}if(2&d){let o,y;const E=e.XpG(3).index,C=e.XpG(2);e.R7$(4),e.Y8G("ngIf",C.getAbilityImagePath(null==(o=C.formGroup.get("abominationSwallowedPet"+(E+1)+"ParrotCopyPetBelugaSwallowedPet"))?null:o.value)),e.R7$(2),e.JRh((null==(y=C.formGroup.get("abominationSwallowedPet"+(E+1)+"ParrotCopyPetBelugaSwallowedPet"))?null:y.value)||"None")}}function _A(d,h){if(1&d&&(e.j41(0,"span",13),e.nrm(1,"img",38),e.j41(2,"span",15),e.EFF(3),e.k0s()()),2&d){const o=h.ngIf,y=e.XpG().index,E=e.XpG(4).index,C=e.XpG(2);e.R7$(),e.Y8G("ngSrc",o),e.R7$(2),e.JRh(C.getNestedAbominationAbilityLevel(E,y))}}function fD(d,h){if(1&d&&(e.j41(0,"div",39)(1,"label",40),e.EFF(2,"Times Hurt"),e.k0s(),e.nrm(3,"input",22),e.k0s()),2&d){const o=e.XpG().index,y=e.XpG(4).index;e.R7$(3),e.Y8G("formControlName","abominationSwallowedPet"+(y+1)+"ParrotCopyPetAbominationSwallowedPet"+(o+1)+"TimesHurt")}}function vD(d,h){if(1&d){const o=e.RV6();e.j41(0,"div")(1,"label",21),e.EFF(2),e.k0s(),e.j41(3,"button",36),e.bIt("click",function(){const E=v.eBV(o).index,C=e.XpG(4).index,I=e.XpG(2);return v.Njj(I.openSelectionDialog("ability",C+1,"abomination-parrot-abomination",E+1))}),e.DNE(4,_A,4,2,"span",9),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s(),e.DNE(8,fD,4,1,"div",37),e.k0s()}if(2&d){let o,y;const E=h.index,C=e.XpG(4).index,I=e.XpG(2);e.R7$(2),e.JRh(I.getNestedAbominationAbilityTitle(C,E)),e.R7$(2),e.Y8G("ngIf",I.getAbilityImagePath(null==(o=I.formGroup.get("abominationSwallowedPet"+(C+1)+"ParrotCopyPetAbominationSwallowedPet"+(E+1)))?null:o.value)),e.R7$(2),e.JRh((null==(y=I.formGroup.get("abominationSwallowedPet"+(C+1)+"ParrotCopyPetAbominationSwallowedPet"+(E+1)))?null:y.value)||"None"),e.R7$(2),e.Y8G("ngIf",I.shouldShowAbominationParrotCopyAbominationTimesHurt(C+1,E+1))}}function Ac(d,h){if(1&d&&(e.j41(0,"div",33),e.DNE(1,vD,9,4,"div",4),e.k0s()),2&d){const o=e.XpG(5);e.R7$(),e.Y8G("ngForOf",e.lJ4(2,Ah).constructor(3))("ngForTrackBy",o.trackByIndex)}}function _d(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",29)(1,"label",21),e.EFF(2,"Parrot Copy"),e.k0s(),e.j41(3,"button",24),e.bIt("click",function(){v.eBV(o);const E=e.XpG(2).index,C=e.XpG(2);return v.Njj(C.openSelectionDialog("ability",E+1,"abomination-parrot"))}),e.DNE(4,hA,1,1,"img",30),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s(),e.DNE(8,mA,8,2,"div",31)(9,Ac,2,3,"div",31),e.k0s()}if(2&d){let o,y,E,C;const I=e.XpG(2).index,W=e.XpG(2);e.R7$(4),e.Y8G("ngIf",W.getAbilityImagePath(null==(o=W.formGroup.get("abominationSwallowedPet"+(I+1)+"ParrotCopyPet"))?null:o.value)),e.R7$(2),e.JRh((null==(y=W.formGroup.get("abominationSwallowedPet"+(I+1)+"ParrotCopyPet"))?null:y.value)||"None"),e.R7$(2),e.Y8G("ngIf","Beluga Whale"===(null==(E=W.formGroup.get("abominationSwallowedPet"+(I+1)+"ParrotCopyPet"))?null:E.value)),e.R7$(),e.Y8G("ngIf","Abomination"===(null==(C=W.formGroup.get("abominationSwallowedPet"+(I+1)+"ParrotCopyPet"))?null:C.value))}}function fA(d,h){if(1&d&&(e.j41(0,"div",16),e.DNE(1,Eh,4,1,"div",17)(2,uA,8,2,"div",18)(3,pA,8,2,"div",18)(4,_d,10,4,"div",19),e.k0s()),2&d){let o,y,E;const C=e.XpG().index,I=e.XpG(2);e.R7$(),e.Y8G("ngIf",I.shouldShowAbominationSwallowTimesHurt(C)),e.R7$(),e.Y8G("ngIf","Beluga Whale"===(null==(o=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:o.value)),e.R7$(),e.Y8G("ngIf","Sarcastic Fringehead"===(null==(y=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:y.value)),e.R7$(),e.Y8G("ngIf","Parrot"===(null==(E=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:E.value))}}function vA(d,h){if(1&d){const o=e.RV6();e.j41(0,"div")(1,"div",5)(2,"label",6),e.EFF(3),e.k0s(),e.j41(4,"div",7)(5,"button",8),e.bIt("click",function(){const E=v.eBV(o).index,C=e.XpG(2);return v.Njj(C.openSelectionDialog("ability",E+1,"abomination"))}),e.DNE(6,cA,4,2,"span",9),e.j41(7,"span",10),e.EFF(8),e.k0s(),e.nrm(9,"i",11),e.k0s()(),e.DNE(10,fA,5,4,"div",12),e.k0s()()}if(2&d){let o,y,E;const C=h.index,I=e.XpG(2);e.R7$(3),e.JRh(I.getAbilityTitle(C)),e.R7$(3),e.Y8G("ngIf",I.getAbilityImagePath(null==(o=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:o.value)),e.R7$(2),e.JRh((null==(y=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:y.value)||"None"),e.R7$(2),e.Y8G("ngIf",(null==(E=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:E.value)&&(I.shouldShowAbominationSwallowTimesHurt(C)||"Beluga Whale"===(null==(E=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:E.value)||"Sarcastic Fringehead"===(null==(E=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:E.value)||"Parrot"===(null==(E=I.formGroup.get("abominationSwallowedPet"+(C+1)))?null:E.value)))}}function yA(d,h){if(1&d&&(e.j41(0,"div",2),e.DNE(1,vA,11,4,"div",4),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",e.lJ4(2,Ah).constructor(o.pet.level))("ngForTrackBy",o.trackByIndex)}}function yD(d,h){if(1&d&&e.nrm(0,"img",43),2&d){let o;const y=e.XpG(2);e.Y8G("ngSrc",y.getAbilityImagePath(null==(o=y.formGroup.get("belugaSwallowedPet"))?null:o.value))}}function bD(d,h){if(1&d){const o=e.RV6();e.j41(0,"div")(1,"label",6),e.EFF(2,"Swallowed by Beluga"),e.k0s(),e.j41(3,"button",41),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.openSelectionDialog("swallowed-pet",void 0,"pet"))}),e.DNE(4,yD,1,1,"img",42),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s()()}if(2&d){let o,y;const E=e.XpG();e.R7$(4),e.Y8G("ngIf",E.getAbilityImagePath(null==(o=E.formGroup.get("belugaSwallowedPet"))?null:o.value)),e.R7$(2),e.JRh((null==(y=E.formGroup.get("belugaSwallowedPet"))?null:y.value)||"Select Pet")}}function bA(d,h){if(1&d&&e.nrm(0,"img",46),2&d){let o;const y=e.XpG(2);e.Y8G("ngSrc",y.getAbilityImagePath(null==(o=y.formGroup.get("parrotCopyPet"))?null:o.value))}}function PA(d,h){if(1&d&&e.nrm(0,"img",49),2&d){let o;const y=e.XpG(3);e.Y8G("ngSrc",y.getAbilityImagePath(null==(o=y.formGroup.get("parrotCopyPetBelugaSwallowedPet"))?null:o.value))}}function AA(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",47)(1,"label",6),e.EFF(2,"Then Beluga Swallow"),e.k0s(),e.j41(3,"button",41),e.bIt("click",function(){v.eBV(o);const E=e.XpG(2);return v.Njj(E.openSelectionDialog("swallowed-pet",void 0,"parrot-beluga"))}),e.DNE(4,PA,1,1,"img",48),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s()()}if(2&d){let o,y;const E=e.XpG(2);e.R7$(4),e.Y8G("ngIf",E.getAbilityImagePath(null==(o=E.formGroup.get("parrotCopyPetBelugaSwallowedPet"))?null:o.value)),e.R7$(2),e.JRh((null==(y=E.formGroup.get("parrotCopyPetBelugaSwallowedPet"))?null:y.value)||"Select Pet")}}function EA(d,h){if(1&d&&(e.j41(0,"span",13),e.nrm(1,"img",52),e.j41(2,"span",15),e.EFF(3),e.k0s()()),2&d){const o=h.ngIf,y=e.XpG().index,E=e.XpG(3);e.R7$(),e.Y8G("ngSrc",o),e.R7$(2),e.JRh(E.getParrotAbominationAbilityLevel(y))}}function j_(d,h){if(1&d&&(e.j41(0,"div",53)(1,"label",21),e.EFF(2,"Times Hurt"),e.k0s(),e.nrm(3,"input",22),e.k0s()),2&d){const o=e.XpG().index;e.R7$(3),e.Y8G("formControlName","parrotCopyPetAbominationSwallowedPet"+(o+1)+"TimesHurt")}}function V_(d,h){if(1&d){const o=e.RV6();e.j41(0,"div")(1,"label",6),e.EFF(2),e.k0s(),e.j41(3,"button",50),e.bIt("click",function(){const E=v.eBV(o).index,C=e.XpG(3);return v.Njj(C.openSelectionDialog("ability",E+1,"parrot-abomination"))}),e.DNE(4,EA,4,2,"span",9),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s(),e.DNE(8,j_,4,1,"div",51),e.k0s()}if(2&d){let o,y;const E=h.index,C=e.XpG(3);e.R7$(2),e.JRh(C.getParrotAbominationAbilityTitle(E)),e.R7$(2),e.Y8G("ngIf",C.getAbilityImagePath(null==(o=C.formGroup.get("parrotCopyPetAbominationSwallowedPet"+(E+1)))?null:o.value)),e.R7$(2),e.JRh((null==(y=C.formGroup.get("parrotCopyPetAbominationSwallowedPet"+(E+1)))?null:y.value)||"None"),e.R7$(2),e.Y8G("ngIf",C.shouldShowParrotCopyPetAbominationTimesHurt(E+1))}}function z_(d,h){if(1&d&&(e.j41(0,"div",47),e.DNE(1,V_,9,4,"div",4),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.lJ4(2,Ah).constructor(o.getParrotCopyAbominationSlotCount()))("ngForTrackBy",o.trackByIndex)}}function Zo(d,h){if(1&d){const o=e.RV6();e.j41(0,"div")(1,"label",6),e.EFF(2,"Parrot Copy"),e.k0s(),e.j41(3,"button",41),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.openSelectionDialog("ability",void 0,"parrot"))}),e.DNE(4,bA,1,1,"img",44),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s(),e.DNE(8,AA,8,2,"div",45)(9,z_,2,3,"div",45),e.k0s()}if(2&d){let o,y,E,C;const I=e.XpG();e.R7$(4),e.Y8G("ngIf",I.getAbilityImagePath(null==(o=I.formGroup.get("parrotCopyPet"))?null:o.value)),e.R7$(2),e.JRh((null==(y=I.formGroup.get("parrotCopyPet"))?null:y.value)||"Select Pet"),e.R7$(2),e.Y8G("ngIf","Beluga Whale"===(null==(E=I.formGroup.get("parrotCopyPet"))?null:E.value)),e.R7$(),e.Y8G("ngIf","Abomination"===(null==(C=I.formGroup.get("parrotCopyPet"))?null:C.value))}}function ys(d,h){if(1&d&&e.nrm(0,"img",55),2&d){let o;const y=e.XpG(2);e.Y8G("ngSrc",y.getAbilityImagePath(null==(o=y.formGroup.get("sarcasticFringeheadSwallowedPet"))?null:o.value))}}function Y_(d,h){if(1&d){const o=e.RV6();e.j41(0,"div")(1,"label",6),e.EFF(2,"Swallowed by Fringehead"),e.k0s(),e.j41(3,"button",41),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.openSelectionDialog("swallowed-pet",void 0,"pet"))}),e.DNE(4,ys,1,1,"img",54),e.j41(5,"span",10),e.EFF(6),e.k0s(),e.nrm(7,"i",11),e.k0s()()}if(2&d){let o,y;const E=e.XpG();e.R7$(4),e.Y8G("ngIf",E.getAbilityImagePath(null==(o=E.formGroup.get("sarcasticFringeheadSwallowedPet"))?null:o.value)),e.R7$(2),e.JRh((null==(y=E.formGroup.get("sarcasticFringeheadSwallowedPet"))?null:y.value)||"Select Pet")}}const SA=new Map((0,kt.bf)().map(d=>[d.toLowerCase(),d])),X_=new Map((0,kt.Eo)().map(d=>[d.toLowerCase(),d])),PD=new Map((0,kt.oI)().map(d=>[d.toLowerCase(),d])),AD=new Set(Object.values(Wa.U).flat().map(d=>`${d}`.toLowerCase()));let J_=(()=>{class d{formGroup;pet=null;openSelection=new v.bkB;getPetImagePath(o){return(0,kt.EA)(o)}getAbilityImagePath(o){if(!o)return null;const y=o.trim().toLowerCase(),E=SA.get(y);if(E)return(0,kt.EA)(E);const C=X_.get(y);if(C)return(0,kt.bG)(C);const I=PD.get(y);return I?(0,kt.ht)(I,AD.has(y)):null}trackByIndex(o){return o}getParrotCopyAbominationSlotCount(){return 3}getAbominationAbilityLevel(o){return this.getLevelValue(`abominationSwallowedPet${o+1}Level`)}getNestedAbominationAbilityLevel(o,y){return this.getLevelValue(`abominationSwallowedPet${o+1}ParrotCopyPetAbominationSwallowedPet${y+1}Level`)}getParrotAbominationAbilityLevel(o){return this.getLevelValue(`parrotCopyPetAbominationSwallowedPet${o+1}Level`)}getAbilityTitle(o){const y=o+1;return`Ability ${y} - Level ${this.getLevelValue(`abominationSwallowedPet${y}Level`)}`}getNestedAbominationAbilityTitle(o,y){const C=y+1;return`Nested Slot ${C} - Level ${this.getLevelValue(`abominationSwallowedPet${o+1}ParrotCopyPetAbominationSwallowedPet${C}Level`)}`}getParrotAbominationAbilityTitle(o){const y=o+1;return`Ability ${y} - Level ${this.getLevelValue(`parrotCopyPetAbominationSwallowedPet${y}Level`)}`}supportsTimesHurt(o){return Ar(o)}shouldShowParrotCopyPetAbominationParrotAbominationTimesHurt(o,y){const E=this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${o}ParrotCopyPetAbominationSwallowedPet${y}`)?.value;return this.supportsTimesHurt(E)}shouldShowParrotCopyPetAbominationTimesHurt(o){const y=this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${o}`)?.value;return this.supportsTimesHurt(y)}shouldShowAbominationParrotCopyAbominationTimesHurt(o,y){const E=this.formGroup.get(`abominationSwallowedPet${o}ParrotCopyPetAbominationSwallowedPet${y}`)?.value;return this.supportsTimesHurt(E)}shouldShowAbominationSwallowTimesHurt(o){const y=this.formGroup.get(`abominationSwallowedPet${o+1}`)?.value;return this.supportsTimesHurt(y)}getLevelValue(o){const y=this.formGroup.get(o)?.value,E=Number(y);return!Number.isFinite(E)||E<1||E>3?1:E}openSelectionDialog(o,y,E="pet",C){this.openSelection.emit({type:o,index:y,target:E,parentIndex:C})}static \u0275fac=function(y){return new(y||d)};static \u0275cmp=e.VBU({type:d,selectors:[["app-swallowed-pet-selector"]],hostAttrs:[2,"display","contents"],inputs:{formGroup:"formGroup",pet:"pet"},outputs:{openSelection:"openSelection"},decls:6,vars:5,consts:[[3,"formGroup"],["class","col-12 mb-2",4,"ngIf"],[1,"col-12","mb-2"],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"swallowed-slot","mb-2"],[1,"swallowed-label"],[1,"d-flex","align-items-center","gap-2"],["type","button",1,"btn","selection-btn","flex-grow-1","d-flex","align-items-center",3,"click"],["class","selection-icon-wrap",4,"ngIf"],[1,"selection-text"],[1,"fas","fa-chevron-down","ms-auto"],["class","swallowed-nested mt-2 ps-3 border-start",4,"ngIf"],[1,"selection-icon-wrap"],["width","24","height","24","loading","lazy","decoding","async","alt","Ability",1,"selection-icon",3,"ngSrc"],[1,"selection-level-badge"],[1,"swallowed-nested","mt-2","ps-3","border-start"],["class","form-group small-w-input mb-2",4,"ngIf"],["class","nested-selection mb-2",4,"ngIf"],["class","nested-selection",4,"ngIf"],[1,"form-group","small-w-input","mb-2"],[1,"swallowed-label-small"],["type","number","min","0","max","99",1,"form-control","form-control-sm",3,"formControlName"],[1,"nested-selection","mb-2"],["type","button",1,"btn","selection-btn","btn-sm","w-100","d-flex","align-items-center",3,"click"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Beluga Swallowed Pet",3,"ngSrc",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Beluga Swallowed Pet",1,"selection-icon",3,"ngSrc"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Fringehead Swallowed Pet",3,"ngSrc",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Fringehead Swallowed Pet",1,"selection-icon",3,"ngSrc"],[1,"nested-selection"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Parrot Copy Pet",3,"ngSrc",4,"ngIf"],["class","mt-2 ps-2 border-start",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Parrot Copy Pet",1,"selection-icon",3,"ngSrc"],[1,"mt-2","ps-2","border-start"],["class","selection-icon","width","20","height","20","loading","lazy","decoding","async","alt","Nested Beluga",3,"ngSrc",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Nested Beluga",1,"selection-icon",3,"ngSrc"],["type","button",1,"btn","selection-btn","btn-sm","w-100","d-flex","align-items-center","mb-1",3,"click"],["class","form-group small-w-input mb-1 ms-2",4,"ngIf"],["width","20","height","20","loading","lazy","decoding","async","alt","Nested Abom Slot",1,"selection-icon",3,"ngSrc"],[1,"form-group","small-w-input","mb-1","ms-2"],[1,"swallowed-label-tiny"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center",3,"click"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Beluga Swallowed",3,"ngSrc",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Beluga Swallowed",1,"selection-icon",3,"ngSrc"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Parrot Copy",3,"ngSrc",4,"ngIf"],["class","mt-2 ps-3 border-start",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Parrot Copy",1,"selection-icon",3,"ngSrc"],[1,"mt-2","ps-3","border-start"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Nested Beluga",3,"ngSrc",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Nested Beluga",1,"selection-icon",3,"ngSrc"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center","mb-2",3,"click"],["class","form-group small-w-input mb-2 ms-3",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Nested Abom Slot",1,"selection-icon",3,"ngSrc"],[1,"form-group","small-w-input","mb-2","ms-3"],["class","selection-icon","width","24","height","24","loading","lazy","decoding","async","alt","Fringehead Swallowed",3,"ngSrc",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async","alt","Fringehead Swallowed",1,"selection-icon",3,"ngSrc"]],template:function(y,E){1&y&&(e.qex(0,0),e.DNE(1,yA,2,3,"div",1),e.j41(2,"div",2),e.DNE(3,bD,8,2,"div",3)(4,Zo,10,4,"div",3)(5,Y_,8,2,"div",3),e.k0s(),e.bVm()),2&y&&(e.Y8G("formGroup",E.formGroup),e.R7$(),e.Y8G("ngIf","Abomination"===(null==E.pet?null:E.pet.name)),e.R7$(2),e.Y8G("ngIf","Beluga Whale"===(null==E.pet?null:E.pet.name)),e.R7$(),e.Y8G("ngIf","Parrot"===(null==E.pet?null:E.pet.name)),e.R7$(),e.Y8G("ngIf","Sarcastic Fringehead"===(null==E.pet?null:E.pet.name)))},dependencies:[Ht.MD,Ht.Sq,Ht.bT,vi,ue.X1,ue.me,ue.Q0,ue.BC,ue.cb,ue.VZ,ue.zX,ue.j4,ue.JD],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-stack-item[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center}.swallowed-beluga-nested[_ngcontent-%COMP%]{width:16px!important;height:16px!important;margin-left:-4px;margin-top:2px;z-index:1}.swallowed-label[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:500;text-transform:uppercase;letter-spacing:.03em;text-shadow:0 1px 2px rgba(0,0,0,.75)}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.selection-icon-wrap[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;margin-right:.4rem}.selection-level-badge[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-6px;min-width:14px;height:14px;padding:0 3px;border-radius:999px;background:#000000d1;border:1px solid rgba(255,255,255,.45);color:#fff;font-size:.56rem;line-height:12px;text-align:center;font-weight:700;text-shadow:none}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;text-shadow:0 1px 2px rgba(0,0,0,.75);padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:500;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;color:#fff!important;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:focus-visible, .selection-btn[_ngcontent-%COMP%]:active{color:#fff!important;transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .selection-text[_ngcontent-%COMP%], .selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.15;letter-spacing:.025em;color:#fff;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:500;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"]})}return d})();const Sh="sapSoundMuted",TA="sapSoundVolume";function Sc(){return typeof window<"u"&&typeof window.localStorage<"u"}function Th(){if(!Sc())return!1;try{return"true"===window.localStorage.getItem(Sh)}catch{return!1}}function Tc(d){if(Sc())try{window.localStorage.setItem(Sh,d?"true":"false")}catch{}}function Dh(){if(!Sc())return 1;try{const d=window.localStorage.getItem(TA);if(null==d||""===d)return 1;const h=Number(d);return Number.isFinite(h)?Math.min(1,Math.max(0,h)):1}catch{return 1}}function Q_(d){if(!Sc())return;const h=Number.isFinite(d)?Math.min(1,Math.max(0,d)):1;try{window.localStorage.setItem(TA,String(h))}catch{}}function Gs(d,h){return null==d?null:h(d)}function Dc(d,h,o){return null==d||null==h?null:o(d,h)}function io(d,h){return o=>o.lift(new MA(d,h))}class MA{constructor(h,o){this.compare=h,this.keySelector=o}call(h,o){return o.subscribe(new CA(h,this.compare,this.keySelector))}}class CA extends Vi.v{constructor(h,o,y){super(h),this.keySelector=y,this.hasKey=!1,"function"==typeof o&&(this.compare=o)}compare(h,o){return h===o}_next(h){let o;try{const{keySelector:E}=this;o=E?E(h):h}catch(E){return this.destination.error(E)}let y=!1;if(this.hasKey)try{const{compare:E}=this;y=E(this.key,o)}catch(E){return this.destination.error(E)}else this.hasKey=!0;y||(this.key=o,this.destination.next(h))}}let q_=(()=>{class d{petService;equipmentService;cdr;pet;player;opponent;index;ailments;allPets;mana;triggersConsumed;formGroup;customPacks;flipImage=!1;allowEquipmentUseOverrides;equipment;ailmentEquipment;equipmentCategoryGroups=[];ailmentCategoryGroups=[];turtlePackPets;pets;startOfBattlePets;attackHealthMax=100;petImageBroken=!1;equipmentImageBroken=!1;compareEquipment=(o,y)=>o?.name===y?.name;basePackSets=new Map;friendsDiedCaps=new Map([["Vulture",1],["Saiga Antelope",1],["Secretary Bird",1],["Mimic",2]]);customPackPetsCache=new Map;cachedPlayerPack=null;cachedOpponentPack=null;cachedPlayerPackSet=null;cachedOpponentPackSet=null;customPackSubscription=null;destroy$=new ei.B7;showTokenPets=!1;showSelectionDialog=!1;selectionType="pet";swallowedPetIndex;swallowedPetParentIndex;swallowedPetTarget="pet";forceShowAllPets=!1;lockSelectionLevel=!1;lockedSelectionLevel=1;tokenPets=gd;constructor(o,y,E){this.petService=o,this.equipmentService=y,this.cdr=E}optionHidden(o){return!(this.allPets||this.getPlayerPackSet().has(o)||this.player.getPet(this.index)?.name==o)}initPackSets(){for(const o of da.$)this.basePackSets.set(o,this.buildPackSetFromMap(this.petService.basePackPetsByName[o]))}buildPackSetFromMap(o){const y=new Set;for(const E of o.values())for(const C of E)y.add(C);return y}invalidatePackCaches(){this.customPackPetsCache.clear(),this.cachedPlayerPack=null,this.cachedOpponentPack=null,this.cachedPlayerPackSet=null,this.cachedOpponentPackSet=null}getPlayerPackSet(){const o=this.player?.pack||"Turtle";return(this.cachedPlayerPack!==o||!this.cachedPlayerPackSet)&&(this.cachedPlayerPack=o,this.cachedPlayerPackSet=this.getPackSetForName(o)),this.cachedPlayerPackSet}getOpponentPackSet(){const o=this.opponent?.pack||"Turtle";return(this.cachedOpponentPack!==o||!this.cachedOpponentPackSet)&&(this.cachedOpponentPack=o,this.cachedOpponentPackSet=this.getPackSetForName(o)),this.cachedOpponentPackSet}getPackSetForName(o){const y=this.basePackSets.get(o);if(y)return y;const E=this.customPackPetsCache.get(o);if(E)return E;const C=this.buildCustomPackSet(o);return this.customPackPetsCache.set(o,C),C}buildCustomPackSet(o){const y=this.basePackSets.get("Turtle")??new Set,E=this.customPacks;if(!E?.controls?.length)return y;const C=E.controls.find(W=>W.get("name").value===o);if(!C)return y;const I=new Set;for(let W=1;W<=6;W++){const X=C.get(`tier${W}Pets`).value||[];for(const z of X)z&&I.add(z)}return I}fixLoadEquipment(){const o=this.formGroup.get("equipment").value,y=this.normalizeEquipmentValue(o);y!==o&&setTimeout(()=>{this.formGroup.get("equipment").setValue(y,{emitEvent:!1}),this.formGroup.get("equipment").updateValueAndValidity({emitEvent:!1})})}normalizeEquipmentValue(o){return o?"string"==typeof o?o:"object"==typeof o&&null!==o&&"string"==typeof o.name?o.name:null:null}getSelectedEquipmentName(){return this.normalizeEquipmentValue(this.formGroup?.get("equipment")?.value)}getSelectedEquipment(){const o=this.getSelectedEquipmentName();return o?this.equipment.get(o)??this.ailmentEquipment.get(o)??null:null}static \u0275fac=function(y){return new(y||d)(e.rXU(vs.T),e.rXU(ta.m),e.rXU(t.gRc))};static \u0275dir=e.FsC({type:d,inputs:{pet:"pet",player:"player",opponent:"opponent",index:"index",ailments:"ailments",allPets:"allPets",mana:"mana",triggersConsumed:"triggersConsumed",formGroup:"formGroup",customPacks:"customPacks",flipImage:"flipImage",allowEquipmentUseOverrides:"allowEquipmentUseOverrides",showTokenPets:"showTokenPets"}})}return d})(),kA=(()=>{class d extends q_{substitutePet(o=!1){}setAbominationParrotCopySettings(o){let y=this.player.getPet(this.index);if(null==y)return;const E=[1,2,3];for(const C of E){const I=`abominationSwallowedPet${C}`;if("Parrot"!==this.formGroup.get(I)?.value){this.clearAbominationParrotCopySettings(y,C);continue}const X=this.formGroup.get(`${I}ParrotCopyPet`)?.value??null,z=this.formGroup.get(`${I}ParrotCopyPetBelugaSwallowedPet`)?.value??null;if(this.setPetField(y,`${I}ParrotCopyPet`,X),this.setPetField(y,`${I}ParrotCopyPetBelugaSwallowedPet`,"Beluga Whale"===X?z:null),"Beluga Whale"!==X&&this.formGroup.get(`${I}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),"Abomination"===X)for(let pe=1;pe<=3;pe++){const Me=`${I}ParrotCopyPetAbominationSwallowedPet${pe}`,Ie=this.formGroup.get(Me)?.value??null,$e=this.formGroup.get(`${Me}BelugaSwallowedPet`)?.value??null,vt=Number(this.formGroup.get(`${Me}Level`)?.value??1);this.setPetField(y,Me,Ie),this.setPetField(y,`${Me}BelugaSwallowedPet`,"Beluga Whale"===Ie?$e:null),this.setPetField(y,`${Me}Level`,vt||1),this.setPetField(y,`${Me}TimesHurt`,this.getAbominationParrotCopyAbominationTimesHurtValue(`${Me}TimesHurt`)),"Beluga Whale"!==Ie&&this.formGroup.get(`${Me}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1})}else this.clearAbominationParrotCopyAbominationSettings(y,C)}}shouldShowAbominationParrotCopyAbominationTimesHurt(o,y){const E=this.formGroup.get(`abominationSwallowedPet${o}ParrotCopyPetAbominationSwallowedPet${y}`);return Ar(E?.value)}setParrotCopyPetAbominationSwallowedPets(o){let y=this.player.getPet(this.index);if(null==y)return;const E=this.formGroup.get("parrotCopyPetAbominationSwallowedPet1")?.value,C=this.formGroup.get("parrotCopyPetAbominationSwallowedPet2")?.value,I=this.formGroup.get("parrotCopyPetAbominationSwallowedPet3")?.value,W=this.formGroup.get("parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet")?.value??null,X=this.formGroup.get("parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet")?.value??null,z=this.formGroup.get("parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet")?.value??null,pe=Number(this.formGroup.get("parrotCopyPetAbominationSwallowedPet1Level")?.value??1),Me=Number(this.formGroup.get("parrotCopyPetAbominationSwallowedPet2Level")?.value??1),Ie=Number(this.formGroup.get("parrotCopyPetAbominationSwallowedPet3Level")?.value??1);y.parrotCopyPetAbominationSwallowedPet1=E??null,y.parrotCopyPetAbominationSwallowedPet2=C??null,y.parrotCopyPetAbominationSwallowedPet3=I??null,y.parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet="Beluga Whale"===E?W:null,y.parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet="Beluga Whale"===C?X:null,y.parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet="Beluga Whale"===I?z:null,"Beluga Whale"!==E&&this.formGroup.get("parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet")?.setValue(null,{emitEvent:!1}),"Beluga Whale"!==C&&this.formGroup.get("parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet")?.setValue(null,{emitEvent:!1}),"Beluga Whale"!==I&&this.formGroup.get("parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet")?.setValue(null,{emitEvent:!1}),y.parrotCopyPetAbominationSwallowedPet1Level=pe||1,y.parrotCopyPetAbominationSwallowedPet2Level=Me||1,y.parrotCopyPetAbominationSwallowedPet3Level=Ie||1,y.parrotCopyPetAbominationSwallowedPet1TimesHurt=this.getParrotAbominationTimesHurtValue("parrotCopyPetAbominationSwallowedPet1TimesHurt"),y.parrotCopyPetAbominationSwallowedPet2TimesHurt=this.getParrotAbominationTimesHurtValue("parrotCopyPetAbominationSwallowedPet2TimesHurt"),y.parrotCopyPetAbominationSwallowedPet3TimesHurt=this.getParrotAbominationTimesHurtValue("parrotCopyPetAbominationSwallowedPet3TimesHurt"),this.setParrotCopyPetAbominationParrotSettings(null)}setParrotCopyPetAbominationParrotSettings(o){let y=this.player.getPet(this.index);if(null!=y)for(let E=1;E<=3;E++){const C=`parrotCopyPetAbominationSwallowedPet${E}`;if("Parrot"!==this.formGroup.get(C)?.value){this.clearParrotCopyPetAbominationParrotSettings(y,E);continue}const W=this.formGroup.get(`${C}ParrotCopyPet`)?.value??null,X=this.formGroup.get(`${C}ParrotCopyPetBelugaSwallowedPet`)?.value??null;if(this.setPetField(y,`${C}ParrotCopyPet`,W),this.setPetField(y,`${C}ParrotCopyPetBelugaSwallowedPet`,"Beluga Whale"===W?X:null),"Beluga Whale"!==W&&this.formGroup.get(`${C}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),"Abomination"===W)for(let z=1;z<=3;z++){const pe=`${C}ParrotCopyPetAbominationSwallowedPet${z}`,Me=this.formGroup.get(pe)?.value??null,Ie=this.formGroup.get(`${pe}BelugaSwallowedPet`)?.value??null,$e=Number(this.formGroup.get(`${pe}Level`)?.value??1);this.setPetField(y,pe,Me),this.setPetField(y,`${pe}BelugaSwallowedPet`,"Beluga Whale"===Me?Ie:null),this.setPetField(y,`${pe}Level`,$e||1),this.setPetField(y,`${pe}TimesHurt`,this.getParrotCopyPetAbominationParrotAbominationTimesHurtValue(`${pe}TimesHurt`)),"Beluga Whale"!==Me&&this.formGroup.get(`${pe}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1})}else this.clearParrotCopyPetAbominationParrotAbominationSettings(y,E)}}shouldShowParrotCopyPetAbominationParrotAbominationTimesHurt(o,y){const E=this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${o}ParrotCopyPetAbominationSwallowedPet${y}`);return Ar(E?.value)}shouldShowParrotCopyPetAbominationTimesHurt(o){const y=this.formGroup.get(`parrotCopyPetAbominationSwallowedPet${o+1}`);return Ar(y?.value)}setSarcasticFringeheadSwallowedPet(o){let y=this.player.getPet(this.index);null!=y&&(y.sarcasticFringeheadSwallowedPet=o)}setSwallowedPets(o){const y=this.player.getPet(this.index);if(null==y)return;const E=this.normalizeAbominationSwallowedSlots(y);y.abominationSwallowedPet1=E[0].name,y.abominationSwallowedPet2=E[1].name,y.abominationSwallowedPet3=E[2].name,y.abominationSwallowedPet1BelugaSwallowedPet=E[0].beluga,y.abominationSwallowedPet2BelugaSwallowedPet=E[1].beluga,y.abominationSwallowedPet3BelugaSwallowedPet=E[2].beluga,y.abominationSwallowedPet1SarcasticFringeheadSwallowedPet=E[0].sarcastic,y.abominationSwallowedPet2SarcasticFringeheadSwallowedPet=E[1].sarcastic,y.abominationSwallowedPet3SarcasticFringeheadSwallowedPet=E[2].sarcastic,y.abominationSwallowedPet1Level=E[0].level,y.abominationSwallowedPet2Level=E[1].level,y.abominationSwallowedPet3Level=E[2].level,y.abominationSwallowedPet1TimesHurt=this.getAbominationTimesHurtValue("abominationSwallowedPet1TimesHurt"),y.abominationSwallowedPet2TimesHurt=this.getAbominationTimesHurtValue("abominationSwallowedPet2TimesHurt"),y.abominationSwallowedPet3TimesHurt=this.getAbominationTimesHurtValue("abominationSwallowedPet3TimesHurt"),this.setAbominationParrotCopySettings(null),this.substitutePet(!1)}shouldShowAbominationSwallowTimesHurt(o){const y=this.formGroup.get(`abominationSwallowedPet${o+1}`);return Ar(y?.value)}setBattlesFought(o){let y=this.player.getPet(this.index);null!=y&&(y.battlesFought=o)}setTimesHurt(o){let y=this.player.getPet(this.index);null!=y&&(y.timesHurt=o,this.substitutePet(!1))}getAbominationParrotCopyAbominationTimesHurtValue(o){const y=this.formGroup.get(o);if(!y)return 0;const E=Number(y.value);return Number.isNaN(E)?0:Math.max(0,Math.min(99,E))}clearAbominationParrotCopySettings(o,y){const E=`abominationSwallowedPet${y}`;this.setPetField(o,`${E}ParrotCopyPet`,null),this.setPetField(o,`${E}ParrotCopyPetBelugaSwallowedPet`,null),this.formGroup.get(`${E}ParrotCopyPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${E}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.clearAbominationParrotCopyAbominationSettings(o,y)}clearAbominationParrotCopyAbominationSettings(o,y){for(let E=1;E<=3;E++){const C=`abominationSwallowedPet${y}ParrotCopyPetAbominationSwallowedPet${E}`;this.setPetField(o,C,null),this.setPetField(o,`${C}BelugaSwallowedPet`,null),this.setPetField(o,`${C}Level`,1),this.setPetField(o,`${C}TimesHurt`,0),this.formGroup.get(C)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${C}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${C}Level`)?.setValue(1,{emitEvent:!1}),this.formGroup.get(`${C}TimesHurt`)?.setValue(0,{emitEvent:!1})}}getParrotCopyPetAbominationParrotAbominationTimesHurtValue(o){const y=this.formGroup.get(o);if(!y)return 0;const E=Number(y.value);return Number.isNaN(E)?0:Math.max(0,Math.min(99,E))}clearParrotCopyPetAbominationParrotSettings(o,y){const E=`parrotCopyPetAbominationSwallowedPet${y}`;this.setPetField(o,`${E}ParrotCopyPet`,null),this.setPetField(o,`${E}ParrotCopyPetBelugaSwallowedPet`,null),this.formGroup.get(`${E}ParrotCopyPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${E}ParrotCopyPetBelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.clearParrotCopyPetAbominationParrotAbominationSettings(o,y)}clearParrotCopyPetAbominationParrotAbominationSettings(o,y){for(let E=1;E<=3;E++){const C=`parrotCopyPetAbominationSwallowedPet${y}ParrotCopyPetAbominationSwallowedPet${E}`;this.setPetField(o,C,null),this.setPetField(o,`${C}BelugaSwallowedPet`,null),this.setPetField(o,`${C}Level`,1),this.setPetField(o,`${C}TimesHurt`,0),this.formGroup.get(C)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${C}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`${C}Level`)?.setValue(1,{emitEvent:!1}),this.formGroup.get(`${C}TimesHurt`)?.setValue(0,{emitEvent:!1})}}getParrotAbominationTimesHurtValue(o){const y=this.formGroup.get(o);if(!y)return 0;const E=Number(y.value);return Number.isNaN(E)?0:Math.max(0,Math.min(99,E))}clearParrotCopyPetAbominationSettings(o){for(const y of md){const E=y.endsWith("Level")?1:y.endsWith("TimesHurt")?0:null;this.setPetField(o,y,E),this.formGroup.get(y)?.setValue(E,{emitEvent:!1})}for(let y=1;y<=3;y++)this.clearParrotCopyPetAbominationParrotSettings(o,y)}getAbominationTimesHurtValue(o){const y=this.formGroup.get(o);if(!y)return 0;const E=Number(y.value);return Number.isNaN(E)?0:Math.max(0,Math.min(99,E))}normalizeAbominationSwallowedSlots(o){const y=[{index:1,name:this.formGroup.get("abominationSwallowedPet1")?.value??null,beluga:this.formGroup.get("abominationSwallowedPet1BelugaSwallowedPet")?.value??null,sarcastic:this.formGroup.get("abominationSwallowedPet1SarcasticFringeheadSwallowedPet")?.value??null,level:Number(this.formGroup.get("abominationSwallowedPet1Level")?.value??1)||1},{index:2,name:this.formGroup.get("abominationSwallowedPet2")?.value??null,beluga:this.formGroup.get("abominationSwallowedPet2BelugaSwallowedPet")?.value??null,sarcastic:this.formGroup.get("abominationSwallowedPet2SarcasticFringeheadSwallowedPet")?.value??null,level:Number(this.formGroup.get("abominationSwallowedPet2Level")?.value??1)||1},{index:3,name:this.formGroup.get("abominationSwallowedPet3")?.value??null,beluga:this.formGroup.get("abominationSwallowedPet3BelugaSwallowedPet")?.value??null,sarcastic:this.formGroup.get("abominationSwallowedPet3SarcasticFringeheadSwallowedPet")?.value??null,level:Number(this.formGroup.get("abominationSwallowedPet3Level")?.value??1)||1}];for(const E of y){const C="string"==typeof E.name&&E.name.trim().length>0?E.name:null;E.name=C,C?("Beluga Whale"!==C&&(E.beluga=null,this.formGroup.get(`abominationSwallowedPet${E.index}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1})),"Sarcastic Fringehead"!==C&&(E.sarcastic=null,this.formGroup.get(`abominationSwallowedPet${E.index}SarcasticFringeheadSwallowedPet`)?.setValue(null,{emitEvent:!1})),"Parrot"!==C&&this.clearAbominationParrotCopySettings(o,E.index)):(E.beluga=null,E.sarcastic=null,this.formGroup.get(`abominationSwallowedPet${E.index}BelugaSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.formGroup.get(`abominationSwallowedPet${E.index}SarcasticFringeheadSwallowedPet`)?.setValue(null,{emitEvent:!1}),this.clearAbominationParrotCopySettings(o,E.index))}return y}setPetField(o,y,E){o[y]=E}static \u0275fac=(()=>{let o;return function(E){return(o||(o=e.xGo(d)))(E||d)}})();static \u0275dir=e.FsC({type:d,features:[e.Vt3]})}return d})(),wA=(()=>{class d extends kA{setBelugaSwallow(o){let y=this.player.getPet(this.index);null!=y&&(y.belugaSwallowedPet=o)}setParrotCopyPet(o){let y=this.player.getPet(this.index);null!=y&&(y.parrotCopyPet=o,"Beluga Whale"!==o&&(y.parrotCopyPetBelugaSwallowedPet=null,this.formGroup.get("parrotCopyPetBelugaSwallowedPet")?.setValue(null,{emitEvent:!1})),"Abomination"!==o&&this.clearParrotCopyPetAbominationSettings(y))}setParrotCopyPetBelugaSwallowedPet(o){let y=this.player.getPet(this.index);null!=y&&(y.parrotCopyPetBelugaSwallowedPet=o)}getParrotCopyAbominationSlotCount(){const o=Number(this.formGroup.get("exp")?.value??0);return o<2?1:o<5?2:3}getAbominationSwallowedSlotCount(){const o=Number(this.formGroup.get("exp")?.value??0);return o<2?1:o<5?2:3}static \u0275fac=(()=>{let o;return function(E){return(o||(o=e.xGo(d)))(E||d)}})();static \u0275dir=e.FsC({type:d,features:[e.Vt3]})}return d})();const Pi=function OA(){const d=[];for(let h=1;h<=3;h++){const o=`abominationSwallowedPet${h}`;d.push(`${o}ParrotCopyPet`,`${o}ParrotCopyPetBelugaSwallowedPet`);for(let y=1;y<=3;y++){const E=`${o}ParrotCopyPetAbominationSwallowedPet${y}`;d.push(E,`${E}BelugaSwallowedPet`,`${E}Level`,`${E}TimesHurt`)}}return d}();let Mh=(()=>{class d extends wA{initForm(){this.formGroup.get("name").valueChanges.pipe(kn(this.destroy$),io()).subscribe(E=>{this.petImageBroken=!1,null!=E?this.substitutePet(!0):this.removePet()}),this.subscribeDebouncedStat("attack",0,100),this.subscribeDebouncedStat("health",0,100),this.formGroup.get("exp").valueChanges.pipe(kn(this.destroy$),io()).subscribe(()=>{this.substitutePet(!1)});const y=this.formGroup.get("equipmentUses");this.formGroup.get("equipment").valueChanges.pipe(kn(this.destroy$)).subscribe(E=>{this.equipmentImageBroken=!1;const C=this.normalizeEquipmentValue(E);C!==E&&this.formGroup.get("equipment").setValue(C,{emitEvent:!1}),C||y?.setValue(null,{emitEvent:!1}),this.substitutePet(!1)}),this.formGroup.get("equipmentUses")?.valueChanges.pipe(kn(this.destroy$),ea(0),io()).subscribe(()=>this.substitutePet(!1)),this.subscribeControl("belugaSwallowedPet",E=>this.setBelugaSwallow(E)),this.subscribeControl("parrotCopyPet",E=>this.setParrotCopyPet(E)),this.subscribeControl("parrotCopyPetBelugaSwallowedPet",E=>this.setParrotCopyPetBelugaSwallowedPet(E)),this.subscribeControls(md,E=>this.setParrotCopyPetAbominationSwallowedPets(E)),this.subscribeControls(x,E=>this.setParrotCopyPetAbominationParrotSettings(E)),this.subscribeControl("sarcasticFringeheadSwallowedPet",E=>this.setSarcasticFringeheadSwallowedPet(E)),this.subscribeControls(["abominationSwallowedPet1","abominationSwallowedPet2","abominationSwallowedPet3","abominationSwallowedPet1BelugaSwallowedPet","abominationSwallowedPet2BelugaSwallowedPet","abominationSwallowedPet3BelugaSwallowedPet","abominationSwallowedPet1SarcasticFringeheadSwallowedPet","abominationSwallowedPet2SarcasticFringeheadSwallowedPet","abominationSwallowedPet3SarcasticFringeheadSwallowedPet","abominationSwallowedPet1Level","abominationSwallowedPet2Level","abominationSwallowedPet3Level","abominationSwallowedPet1TimesHurt","abominationSwallowedPet2TimesHurt","abominationSwallowedPet3TimesHurt"],E=>this.setSwallowedPets(E)),this.subscribeControls(Pi,E=>this.setAbominationParrotCopySettings(E)),this.subscribeDebouncedStat("mana",0,50),this.subscribeDebouncedStat("triggersConsumed",0,10),this.subscribeDebouncedStat("foodsEaten",0,99),this.formGroup.get("friendsDiedBeforeBattle")?.valueChanges.pipe(kn(this.destroy$),ea(0),io()).subscribe(()=>{this.clampFriendsDiedBeforeBattle(),this.substitutePet(!1)}),this.formGroup.get("battlesFought").valueChanges.pipe(kn(this.destroy$),ea(0),io()).subscribe(E=>{this.setBattlesFought(E)}),this.formGroup.get("timesHurt").valueChanges.pipe(kn(this.destroy$),ea(0),io()).subscribe(E=>{this.setTimesHurt(E)})}subscribeDebouncedStat(o,y,E){this.formGroup.get(o)?.valueChanges.pipe(kn(this.destroy$),ea(0),io()).subscribe(()=>{this.clampControl(o,y,E),this.substitutePet(!1)})}subscribeControl(o,y){this.formGroup.get(o)?.valueChanges.pipe(kn(this.destroy$)).subscribe(E=>y(E??null))}subscribeControls(o,y){for(const E of o)this.subscribeControl(E,y)}substitutePet(o=!1){setTimeout(()=>{let y=this.formGroup.getRawValue();o&&(this.formGroup.get("attack").setValue(null,{emitEvent:!1}),this.formGroup.get("health").setValue(null,{emitEvent:!1}),this.formGroup.get("mana").setValue(null,{emitEvent:!1}),this.formGroup.get("triggersConsumed").setValue(null,{emitEvent:!1}),this.formGroup.get("foodsEaten").setValue(null,{emitEvent:!1}),y=this.formGroup.getRawValue()),this.applyStatCaps(y),y.equipment=this.normalizeEquipmentValue(y.equipment);let E=this.petService.createPet(y,this.player);this.player.setPet(this.index,E,!0),this.pet=E,this.cdr.markForCheck(),o&&(this.formGroup.get("attack").setValue(E.attack,{emitEvent:!1}),this.formGroup.get("health").setValue(E.health,{emitEvent:!1}),this.formGroup.get("mana").setValue(E.mana,{emitEvent:!1}),this.formGroup.get("triggersConsumed").setValue(E.triggersConsumed,{emitEvent:!1}),this.formGroup.get("foodsEaten").setValue(E.foodsEaten??0,{emitEvent:!1}),this.cdr.markForCheck())})}applyStatCaps(o){const y=this.getAttackHealthMax(o);this.attackHealthMax!==y&&(this.attackHealthMax=y,this.cdr.markForCheck());const E=this.clampValue(o.attack,0,y),C=this.clampValue(o.health,0,y),I=this.clampValue(o.mana,0,50),W=this.clampValue(o.triggersConsumed,0,10),X=this.clampValue(o.foodsEaten,0,99);E!==o.attack&&null!=o.attack&&(this.formGroup.get("attack").setValue(E,{emitEvent:!1}),o.attack=E),C!==o.health&&null!=o.health&&(this.formGroup.get("health").setValue(C,{emitEvent:!1}),o.health=C),I!==o.mana&&null!=o.mana&&(this.formGroup.get("mana").setValue(I,{emitEvent:!1}),o.mana=I),W!==o.triggersConsumed&&null!=o.triggersConsumed&&(this.formGroup.get("triggersConsumed").setValue(W,{emitEvent:!1}),o.triggersConsumed=W),X!==o.foodsEaten&&null!=o.foodsEaten&&(this.formGroup.get("foodsEaten").setValue(X,{emitEvent:!1}),o.foodsEaten=X)}getAttackHealthMax(o){return"Abomination"!==o.name||[this.formGroup.get("abominationSwallowedPet1")?.value,this.formGroup.get("abominationSwallowedPet2")?.value,this.formGroup.get("abominationSwallowedPet3")?.value].some(C=>"Behemoth"===C)?100:50}clampControl(o,y,E){const C=this.formGroup.get(o);if(!C)return;const I=C.value,W=this.clampValue(I,y,E);W!==I&&null!=I&&""!==I&&C.setValue(W,{emitEvent:!1})}clampValue(o,y,E){if(null==o||""===o)return o;const C=Number(o);return Number.isNaN(C)?o:Math.min(E,Math.max(y,C))}removePet(){this.player.setPet(this.index,null,!0),this.formGroup.get("name").setValue(null,{emitEvent:!1}),this.formGroup.get("attack").setValue(0,{emitEvent:!1}),this.formGroup.get("health").setValue(0,{emitEvent:!1}),this.formGroup.get("exp").setValue(0,{emitEvent:!1}),this.formGroup.get("equipment").setValue(null,{emitEvent:!1}),this.formGroup.get("equipmentUses").setValue(null,{emitEvent:!1}),this.formGroup.get("mana").setValue(0,{emitEvent:!1}),this.formGroup.get("triggersConsumed").setValue(0,{emitEvent:!1}),this.formGroup.get("foodsEaten").setValue(0,{emitEvent:!1})}clampFriendsDiedBeforeBattle(){const o=this.getFriendsDiedMax();this.clampControl("friendsDiedBeforeBattle",0,o)}getFriendsDiedMax(){const o=this.formGroup.get("name").value;return this.friendsDiedCaps.get(o)??5}static \u0275fac=(()=>{let o;return function(E){return(o||(o=e.xGo(d)))(E||d)}})();static \u0275dir=e.FsC({type:d,features:[e.Vt3]})}return d})();const IA=new Map((0,kt.bf)().map(d=>[d.toLowerCase(),d])),Z_=new Map((0,kt.Eo)().map(d=>[d.toLowerCase(),d])),fd=new Map((0,kt.oI)().map(d=>[d.toLowerCase(),d])),RA=new Set(Object.values(Wa.U).flat().map(d=>`${d}`.toLowerCase()));let Ch=(()=>{class d extends Mh{get abominationSwallowedPetArt(){if("Abomination"!==this.formGroup?.get("name")?.value)return[];const y=[{name:this.formGroup.get("abominationSwallowedPet1")?.value,belugaSwallowed:this.formGroup.get("abominationSwallowedPet1BelugaSwallowedPet")?.value},{name:this.formGroup.get("abominationSwallowedPet2")?.value,belugaSwallowed:this.formGroup.get("abominationSwallowedPet2BelugaSwallowedPet")?.value},{name:this.formGroup.get("abominationSwallowedPet3")?.value,belugaSwallowed:this.formGroup.get("abominationSwallowedPet3BelugaSwallowedPet")?.value}],E=[];for(const C of y){if(!C.name)continue;const I=this.getSelectionImagePath(C.name);if(!I)continue;const W="Beluga Whale"===C.name&&C.belugaSwallowed?this.getSelectionImagePath(C.belugaSwallowed):null;E.push({image:I,belugaSwallowedImage:W})}return E}trackByIndex(o){return o}ngOnInit(){this.initPackSets()}ngOnChanges(o){(o.formGroup||o.pet||o.index||o.player)&&this.initSelector()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.customPackSubscription&&this.customPackSubscription.unsubscribe()}initSelector(){this.destroy$.next(),this.initPets(),this.initEquipment(),this.initForm(),this.customPackSubscription?.unsubscribe(),this.customPackSubscription=this.customPacks?.valueChanges?.subscribe(()=>{this.invalidatePackCaches()})??null,this.fixLoadEquipment()}openSelectionDialog(o,y,E="pet",C){this.selectionType=o,this.swallowedPetIndex=y,this.swallowedPetTarget=E,this.swallowedPetParentIndex=C;const I=this.isParrotCopyTarget(E);this.forceShowAllPets=("swallowed-pet"===o||"ability"===o)&&I,this.lockSelectionLevel="ability"===o&&I,this.lockedSelectionLevel=this.lockSelectionLevel?this.getCurrentPetLevel():1,this.showSelectionDialog=!0}onItemSelected(o){if(o instanceof Event)this.closeSelectionDialog();else{if("pet"===this.selectionType)"string"==typeof o&&this.playSelectedPetSound(o),this.formGroup.get("name").setValue(o);else if("equipment"===this.selectionType){const y="string"==typeof o?o:o&&"object"==typeof o&&"string"==typeof o.name?o.name:null;this.formGroup.get("equipment").setValue(y)}else if("swallowed-pet"===this.selectionType||"ability"===this.selectionType){const y="object"==typeof o&&null!==o&&"name"in o&&"level"in o,E=y?o.name:o,C=y?o.level:void 0,I=function es({target:d,swallowedPetIndex:h,swallowedPetParentIndex:o,petName:y}){switch(d){case"abomination-beluga":return Gs(h,E=>`abominationSwallowedPet${E}BelugaSwallowedPet`);case"abomination-sarcastic":return Gs(h,E=>`abominationSwallowedPet${E}SarcasticFringeheadSwallowedPet`);case"parrot":return"parrotCopyPet";case"parrot-beluga":return"parrotCopyPetBelugaSwallowedPet";case"parrot-abomination":return Gs(h,E=>`parrotCopyPetAbominationSwallowedPet${E}`);case"parrot-abomination-beluga":return Gs(h,E=>`parrotCopyPetAbominationSwallowedPet${E}BelugaSwallowedPet`);case"abomination-parrot":return Gs(h,E=>`abominationSwallowedPet${E}ParrotCopyPet`);case"abomination-parrot-beluga":return Gs(h,E=>`abominationSwallowedPet${E}ParrotCopyPetBelugaSwallowedPet`);case"abomination-parrot-abomination":return Dc(o,h,(E,C)=>`abominationSwallowedPet${E}ParrotCopyPetAbominationSwallowedPet${C}`);case"abomination-parrot-abomination-beluga":return Dc(o,h,(E,C)=>`abominationSwallowedPet${E}ParrotCopyPetAbominationSwallowedPet${C}BelugaSwallowedPet`);case"parrot-abomination-parrot":return Gs(h,E=>`parrotCopyPetAbominationSwallowedPet${E}ParrotCopyPet`);case"parrot-abomination-parrot-beluga":return Gs(h,E=>`parrotCopyPetAbominationSwallowedPet${E}ParrotCopyPetBelugaSwallowedPet`);case"parrot-abomination-parrot-abomination":return Dc(o,h,(E,C)=>`parrotCopyPetAbominationSwallowedPet${E}ParrotCopyPetAbominationSwallowedPet${C}`);case"parrot-abomination-parrot-abomination-beluga":return Dc(o,h,(E,C)=>`parrotCopyPetAbominationSwallowedPet${E}ParrotCopyPetAbominationSwallowedPet${C}BelugaSwallowedPet`);default:return function DA(d,h,o){return"Beluga Whale"===o?"belugaSwallowedPet":"abomination"===d||"Abomination"===o?Gs(h,y=>`abominationSwallowedPet${y}`):"Sarcastic Fringehead"===o?"sarcasticFringeheadSwallowedPet":null}(d,h,y)}}({target:this.swallowedPetTarget,swallowedPetIndex:this.swallowedPetIndex,swallowedPetParentIndex:this.swallowedPetParentIndex,petName:this.pet?.name});if(!I)return void this.closeSelectionDialog();if(this.formGroup.get(I)?.setValue(E),void 0!==C){const X=this.formGroup.get(`${I}Level`);X&&X.setValue(C)}}this.closeSelectionDialog()}}closeSelectionDialog(){this.showSelectionDialog=!1,this.forceShowAllPets=!1,this.lockSelectionLevel=!1,this.lockedSelectionLevel=1}setExp(o){this.formGroup.get("exp").setValue(o)}getIsSelected(o){return this.formGroup.get("exp").value>=o}showRemoveExp(){return this.formGroup.get("exp").value>0}get petImageSrc(){const o=this.formGroup?.get("name")?.value;if(!o)return null;const y=(0,kt._s)(o);return y?`assets/art/Public/Public/Pets/${y}.png`:null}get swallowedPetImageSrc(){const o=this.formGroup?.get("name")?.value;if("Beluga Whale"===o)return this.getSelectionImagePath(this.formGroup.get("belugaSwallowedPet")?.value);if("Sarcastic Fringehead"===o)return this.getSelectionImagePath(this.formGroup.get("sarcasticFringeheadSwallowedPet")?.value);if("Parrot"===o){const y=this.formGroup.get("parrotCopyPetBelugaSwallowedPet")?.value;return this.getSelectionImagePath(y||this.formGroup.get("parrotCopyPet")?.value)}return null}get equipmentImageSrc(){const o=this.getSelectedEquipmentName();return!o||this.ailmentEquipment?.has(o)?null:(0,kt.ht)(o,!1)}get ailmentImageSrc(){const o=this.getSelectedEquipmentName();return o&&this.ailmentEquipment?.has(o)?(0,kt.ht)(o,!0):null}get equipmentSelected(){return!!this.getSelectedEquipmentName()}get equipmentHasUses(){return null!=this.getSelectedEquipment()?.uses}get equipmentUsesToggleId(){return`equipmentUsesToggle-${this.index??"none"}`}get equipmentUsesInputId(){return`equipmentUsesInput-${this.index??"none"}`}get equipmentUsesAvailable(){return this.equipmentSelected&&this.equipmentHasUses}getPetOptionStyle(o){const y=(0,kt.EA)(o);return this.buildOptionStyle(y)}getEquipmentOptionStyle(o,y=!1){const E=(0,kt.ht)(o?.name,y);return this.buildOptionStyle(E)}shouldShowFriendsDiedInput(){return this.friendsDiedCaps.has(this.formGroup.get("name").value)}getPetImagePath(o){if(!o)return null;const y=(0,kt._s)(o);return y?`assets/art/Public/Public/Pets/${y}.png`:null}getSelectionImagePath(o){if(!o)return null;const y=o.trim().toLowerCase(),E=IA.get(y);if(E)return this.getPetImagePath(E);const C=Z_.get(y);if(C)return(0,kt.bG)(C);const I=fd.get(y);return I?(0,kt.ht)(I,RA.has(y)):null}isParrotCopyTarget(o){return bh.has(o)}getCurrentPetLevel(){const o=Number(this.formGroup?.get("exp")?.value??0);return Number.isFinite(o)?o>=5?3:o>=2?2:1:1}initPets(){this.pets=new Map;for(let o=1;o<=6;o++)this.pets.set(o,[]);for(const o of da.d){const y=this.petService.basePackPetsByName[o];for(let[E,C]of y)this.pets.get(E).push(...C)}for(let[o,y]of this.pets)this.pets.set(o,[...new Set(y)]);this.initStartOfBattlePets()}initStartOfBattlePets(){this.startOfBattlePets=new Map;for(let o=1;o<=6;o++){let y=[];for(let E of this.pets.get(o))this.petService.startOfBattlePets.includes(E)&&y.push(E);this.startOfBattlePets.set(o,y)}}initEquipment(){this.equipment=this.equipmentService.getInstanceOfAllEquipment(),this.ailmentEquipment=this.equipmentService.getInstanceOfAllAilments(),this.equipmentCategoryGroups=this.buildCategoryGroups(Wa.M,this.equipment),this.ailmentCategoryGroups=this.buildCategoryGroups(Wa.U,this.ailmentEquipment)}buildCategoryGroups(o,y){return Object.entries(o).map(([E,C])=>{const I=[];for(const W of C){const X=y.get(W);X&&I.push(X)}return{label:E,items:I}}).filter(E=>E.items.length>0)}buildOptionStyle(o){return o?{"background-image":`url(${o})`,"background-repeat":"no-repeat","background-position":"left center","background-size":"24px 24px","padding-left":"2.5rem"}:{}}playSelectedPetSound(o){if(Th())return;const y=Dh();if(y<=0)return;const E=(0,kt.KK)(o);if(E&&!(typeof Audio>"u"))try{const C=new Audio(E);C.volume=y;const I=C.play();I&&"function"==typeof I.catch&&I.catch(()=>{})}catch{}}static \u0275fac=(()=>{let o;return function(E){return(o||(o=e.xGo(d)))(E||d)}})();static \u0275dir=e.FsC({type:d,features:[e.Vt3,e.OA$]})}return d})(),Mc=(()=>{class d extends Ch{static \u0275fac=(()=>{let o;return function(E){return(o||(o=e.xGo(d)))(E||d)}})();static \u0275dir=e.FsC({type:d,features:[e.Vt3]})}return d})(),kh=(()=>{class d extends Mc{static \u0275fac=(()=>{let o;return function(E){return(o||(o=e.xGo(d)))(E||d)}})();static \u0275dir=e.FsC({type:d,features:[e.Vt3]})}return d})(),ef=(()=>{class d extends kh{static \u0275fac=(()=>{let o;return function(E){return(o||(o=e.xGo(d)))(E||d)}})();static \u0275dir=e.FsC({type:d,features:[e.Vt3]})}return d})();function tf(d,h){if(1&d&&e.nrm(0,"img",13),2&d){const o=e.XpG();e.Y8G("ngSrc",o.petImageSrc)}}function vd(d,h){if(1&d){const o=e.RV6();e.j41(0,"img",21),e.bIt("error",function(){v.eBV(o);const E=e.XpG(3);return v.Njj(E.equipmentImageBroken=!0)}),e.k0s()}if(2&d){const o=e.XpG(3);e.Y8G("ngSrc",o.equipmentImageSrc)("alt",o.formGroup.get("equipment").value||"Equipment")}}function no(d,h){if(1&d){const o=e.RV6();e.j41(0,"img",21),e.bIt("error",function(){v.eBV(o);const E=e.XpG(3);return v.Njj(E.equipmentImageBroken=!0)}),e.k0s()}if(2&d){const o=e.XpG(3);e.Y8G("ngSrc",o.ailmentImageSrc)("alt",o.formGroup.get("equipment").value||"Ailment")}}function yd(d,h){if(1&d&&(e.j41(0,"div",19),e.DNE(1,vd,1,2,"img",20)(2,no,1,2,"img",20),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("ngIf",o.equipmentImageSrc),e.R7$(),e.Y8G("ngIf",!o.equipmentImageSrc&&o.ailmentImageSrc)}}function wh(d,h){if(1&d&&(e.j41(0,"div",22),e.nrm(1,"img",23),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("ngSrc",o.swallowedPetImageSrc)}}function Oh(d,h){if(1&d&&e.nrm(0,"img",28),2&d){const o=e.XpG().$implicit;e.Y8G("ngSrc",o.belugaSwallowedImage)}}function LA(d,h){if(1&d&&(e.j41(0,"div",26),e.nrm(1,"img",23),e.DNE(2,Oh,1,1,"img",27),e.k0s()),2&d){const o=h.$implicit;e.R7$(),e.Y8G("ngSrc",o.image),e.R7$(),e.Y8G("ngIf",o.belugaSwallowedImage)}}function bd(d,h){if(1&d&&(e.j41(0,"div",24),e.DNE(1,LA,3,2,"div",25),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("ngForOf",o.abominationSwallowedPetArt)("ngForTrackBy",o.trackByIndex)}}function el(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",14)(1,"img",15),e.bIt("error",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.petImageBroken=!0)}),e.k0s(),e.DNE(2,yd,3,2,"div",16)(3,wh,2,1,"div",17)(4,bd,2,2,"div",18),e.k0s()}if(2&d){const o=e.XpG();e.AVh("equipment-left",!o.flipImage)("equipment-right",o.flipImage),e.R7$(),e.AVh("flipped",o.flipImage),e.Y8G("ngSrc",o.petImageSrc)("alt",o.formGroup.get("name").value||"Pet"),e.R7$(),e.Y8G("ngIf",(o.equipmentImageSrc||o.ailmentImageSrc)&&!o.equipmentImageBroken),e.R7$(),e.Y8G("ngIf",o.swallowedPetImageSrc),e.R7$(),e.Y8G("ngIf",o.abominationSwallowedPetArt.length)}}function xA(d,h){if(1&d){const o=e.RV6();e.j41(0,"app-item-selection-dialog",29),e.bIt("select",function(E){v.eBV(o);const C=e.XpG();return v.Njj(C.onItemSelected(E))})("close",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.closeSelectionDialog())}),e.k0s()}if(2&d){const o=e.XpG();e.Y8G("type",o.selectionType)("showAllPets",o.allPets||o.forceShowAllPets)("currentPack",null==o.player?null:o.player.pack)("lockAbilityLevel",o.lockSelectionLevel)("initialLevel",o.lockedSelectionLevel)}}let nf=(()=>{class d extends ef{constructor(o,y,E){super(o,y,E)}static \u0275fac=function(y){return new(y||d)(e.rXU(vs.T),e.rXU(ta.m),e.rXU(t.gRc))};static \u0275cmp=e.VBU({type:d,selectors:[["app-pet-selector"]],features:[e.Vt3],decls:14,vars:19,consts:[[1,"card","p-2"],[1,"row","form-group","g-0",3,"formGroup"],[3,"formGroup"],[1,"col-12","mb-2"],["type","button",1,"btn","selection-btn","w-100","d-flex","align-items-center",3,"click"],["class","btn-icon me-2","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc",4,"ngIf"],[1,"btn-text"],[1,"fas","fa-chevron-down","ms-auto"],[3,"openSelection","formGroup","pet"],[3,"openSelection","formGroup","equipmentImageSrc","ailmentImageSrc","allowEquipmentUseOverrides","equipmentUsesAvailable","equipmentUsesInputId"],["class","col-12 pet-art mb-2",3,"equipment-left","equipment-right",4,"ngIf"],[3,"formGroup","petName","mana","triggersConsumed","attackHealthMax"],[3,"type","showAllPets","currentPack","lockAbilityLevel","initialLevel","select","close",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async",1,"btn-icon","me-2",3,"ngSrc"],[1,"col-12","pet-art","mb-2"],["width","72","height","72","loading","lazy","decoding","async",3,"error","ngSrc","alt"],["class","equipment-art",4,"ngIf"],["class","swallowed-art",4,"ngIf"],["class","swallowed-art swallowed-stack",4,"ngIf"],[1,"equipment-art"],["width","32","height","32","loading","lazy","decoding","async",3,"ngSrc","alt","error",4,"ngIf"],["width","32","height","32","loading","lazy","decoding","async",3,"error","ngSrc","alt"],[1,"swallowed-art"],["width","32","height","32","loading","lazy","decoding","async","alt","Swallowed Pet",3,"ngSrc"],[1,"swallowed-art","swallowed-stack"],["class","swallowed-stack-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"swallowed-stack-item"],["class","swallowed-beluga-nested","width","16","height","16","loading","lazy","decoding","async","alt","Beluga Swallowed Pet",3,"ngSrc",4,"ngIf"],["width","16","height","16","loading","lazy","decoding","async","alt","Beluga Swallowed Pet",1,"swallowed-beluga-nested",3,"ngSrc"],[3,"select","close","type","showAllPets","currentPack","lockAbilityLevel","initialLevel"]],template:function(y,E){if(1&y&&(e.j41(0,"div",0)(1,"form",1),e.nrm(2,"app-pet-level-selector",2),e.j41(3,"div",3)(4,"button",4),e.bIt("click",function(){return E.openSelectionDialog("pet")}),e.DNE(5,tf,1,1,"img",5),e.j41(6,"span",6),e.EFF(7),e.k0s(),e.nrm(8,"i",7),e.k0s()(),e.j41(9,"app-swallowed-pet-selector",8),e.bIt("openSelection",function(I){return E.openSelectionDialog(I.type,I.index,I.target,I.parentIndex)}),e.k0s(),e.j41(10,"app-pet-equipment-selector",9),e.bIt("openSelection",function(){return E.openSelectionDialog("equipment")}),e.k0s(),e.DNE(11,el,5,11,"div",10),e.nrm(12,"app-pet-stats-selector",11),e.k0s()(),e.DNE(13,xA,1,5,"app-item-selection-dialog",12)),2&y){let C;e.R7$(),e.Y8G("formGroup",E.formGroup),e.R7$(),e.Y8G("formGroup",E.formGroup),e.R7$(3),e.Y8G("ngIf",E.petImageSrc),e.R7$(2),e.JRh(E.formGroup.get("name").value||"Select Pet"),e.R7$(2),e.Y8G("formGroup",E.formGroup)("pet",E.pet),e.R7$(),e.Y8G("formGroup",E.formGroup)("equipmentImageSrc",E.equipmentImageSrc)("ailmentImageSrc",E.ailmentImageSrc)("allowEquipmentUseOverrides",E.allowEquipmentUseOverrides)("equipmentUsesAvailable",E.equipmentUsesAvailable)("equipmentUsesInputId",E.equipmentUsesInputId),e.R7$(),e.Y8G("ngIf",E.petImageSrc&&!E.petImageBroken),e.R7$(),e.Y8G("formGroup",E.formGroup)("petName",null==(C=E.formGroup.get("name"))?null:C.value)("mana",E.mana)("triggersConsumed",E.triggersConsumed)("attackHealthMax",E.attackHealthMax),e.R7$(),e.Y8G("ngIf",E.showSelectionDialog)}},dependencies:[Ht.MD,Ht.Sq,Ht.bT,vi,ue.X1,ue.qT,ue.cb,ue.j4,ue.YN,bc,to,Ri,lA,J_],styles:[".stat-tile[_ngcontent-%COMP%]{position:relative;width:52px;height:52px;margin:0 auto;background-repeat:no-repeat;background-position:center;background-size:contain}.stat-attack[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/fist-from-textmap.png)}.stat-health[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/heart-from-textmap.png)}.stat-mana[_ngcontent-%COMP%]{background-image:url(/assets/art/Public/Public/Icons/mana-from-textmap.png)}.stat-input[_ngcontent-%COMP%]{width:100%;height:100%;padding:0;border:none!important;background:transparent!important;backdrop-filter:none!important;text-align:center;color:#fff;font-size:1.25em;line-height:52px;box-shadow:none!important;text-shadow:0 2px 2px rgba(0,0,0,.75);outline:none}.select-triggers-consumed[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:1.5em;padding-right:0}.single-stat-input[_ngcontent-%COMP%]{width:calc(50% - 7.5px);margin:0 auto}.pet-art[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;margin-bottom:.35rem}.pet-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:72px;height:72px;object-fit:contain}.pet-art[_ngcontent-%COMP%]   img.flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}.equipment-art[_ngcontent-%COMP%]{position:absolute;top:-4px}.pet-art.equipment-right[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{right:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .equipment-art[_ngcontent-%COMP%]{left:-6px}.equipment-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}.pet-art.equipment-right[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{left:-6px}.pet-art.equipment-left[_ngcontent-%COMP%]   .swallowed-art[_ngcontent-%COMP%]{right:-6px}.swallowed-art[_ngcontent-%COMP%]{position:absolute;bottom:-4px}.swallowed-art[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}.swallowed-stack[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.swallowed-stack-item[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center}.swallowed-beluga-nested[_ngcontent-%COMP%]{width:16px!important;height:16px!important;margin-left:-4px;margin-top:2px;z-index:1}.swallowed-label[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:#f8f9fa;text-shadow:0 0 6px rgba(0,0,0,.85);font-size:.7rem}.swallowed-label-small[_ngcontent-%COMP%], .swallowed-label-tiny[_ngcontent-%COMP%]{color:#ffffffe6;font-weight:500;text-transform:uppercase;letter-spacing:.03em;text-shadow:0 1px 2px rgba(0,0,0,.75)}.swallowed-label-small[_ngcontent-%COMP%]{font-size:.68rem}.swallowed-label-tiny[_ngcontent-%COMP%]{font-size:.62rem}.selection-icon-wrap[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;justify-content:center;margin-right:.4rem}.selection-level-badge[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-6px;min-width:14px;height:14px;padding:0 3px;border-radius:999px;background:#000000d1;border:1px solid rgba(255,255,255,.45);color:#fff;font-size:.56rem;line-height:12px;text-align:center;font-weight:700;text-shadow:none}.swallowed-nested[_ngcontent-%COMP%]{background:#00000047;border-radius:10px;padding:.5rem .6rem;box-shadow:0 8px 20px #0006}.swallowed-nested[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%], .swallowed-slot[_ngcontent-%COMP%]   .border-start[_ngcontent-%COMP%]{border-left-color:#fff3!important}input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{appearance:textfield}.level-bar[_ngcontent-%COMP%], .level-bar-numbers[_ngcontent-%COMP%]{height:1em}.level-slots-labels[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .level-bar-slots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18px;width:auto;display:block}.form-control[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff!important;text-shadow:0 1px 2px rgba(0,0,0,.75);padding:8px 12px;transition:all .2s ease}.form-control[_ngcontent-%COMP%]:focus{background:#0000004d;border-color:#ffffff59;box-shadow:0 0 0 .25rem #ffffff0d;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.form-control[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#2c3e50;color:#fff}label[_ngcontent-%COMP%]:not(.swallowed-label){color:#fffc;font-size:.8rem;font-weight:500;text-transform:uppercase;margin-bottom:4px;display:block}.selection-btn[_ngcontent-%COMP%]{background:#00000040;backdrop-filter:blur(4px);border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 12px;color:#fff!important;transition:all .2s ease;text-align:left;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;width:100%;margin-bottom:.5rem}.selection-btn[_ngcontent-%COMP%]:hover{background:#00000052;border-color:#ffffff73;color:#fff!important;transform:translateY(-1px)}.selection-btn[_ngcontent-%COMP%]:focus-visible, .selection-btn[_ngcontent-%COMP%]:active{color:#fff!important;transform:translateY(0)}.selection-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.selection-btn[_ngcontent-%COMP%]   .selection-text[_ngcontent-%COMP%], .selection-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.15;letter-spacing:.025em;color:#fff;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.selection-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.level-slots-labels[_ngcontent-%COMP%]{display:flex;height:100%}.level-slots-labels[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center}.level-bar[_ngcontent-%COMP%]{position:relative;height:1em;display:flex}.level-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.remove-exp){width:20%;height:100%;cursor:pointer;border:2px solid black;background-color:#9c5900;border-radius:20%;box-shadow:0 2px 4px #00000080}.level-bar[_ngcontent-%COMP%]   .remove-exp[_ngcontent-%COMP%]{border:initial;background-color:transparent;border-radius:initial;width:initial;padding:0 8px;color:#fff;text-shadow:0 0 4px rgba(0,0,0,.8);cursor:pointer;font-weight:500;height:auto;display:flex;align-items:center}.level-bar[_ngcontent-%COMP%]   span.selected[_ngcontent-%COMP%]{background-color:#feb900}.card[_ngcontent-%COMP%]{position:relative;background:#ffffff0d;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 32px #0000005e}"],changeDetection:0})}return d})();var Ih=i(13276),af=i.t(Ih,2),Pd=i(37302),Ad=i(68308);function Pn(d){var h=-1,o=null==d?0:d.length;for(this.__data__=new Ad.A;++h<o;)this.add(d[h])}Pn.prototype.add=Pn.prototype.push=function ao(d){return this.__data__.set(d,"__lodash_hash_undefined__"),this},Pn.prototype.has=function Cc(d){return this.__data__.has(d)};const rf=Pn,FA=function lf(d,h){for(var o=-1,y=null==d?0:d.length;++o<y;)if(h(d[o],o,d))return!0;return!1},NA=function cf(d,h){return d.has(h)},WA=function uf(d,h,o,y,E,C){var I=1&o,W=d.length,X=h.length;if(W!=X&&!(I&&X>W))return!1;var z=C.get(d),pe=C.get(h);if(z&&pe)return z==h&&pe==d;var Me=-1,Ie=!0,$e=2&o?new rf:void 0;for(C.set(d,h),C.set(h,d);++Me<W;){var vt=d[Me],ht=h[Me];if(y)var rt=I?y(ht,vt,Me,h,d,C):y(vt,ht,Me,d,h,C);if(void 0!==rt){if(rt)continue;Ie=!1;break}if($e){if(!FA(h,function(Mt,ct){if(!NA($e,ct)&&(vt===Mt||E(vt,Mt,o,y,C)))return $e.push(ct)})){Ie=!1;break}}else if(vt!==ht&&!E(vt,ht,o,y,C)){Ie=!1;break}}return C.delete(d),C.delete(h),Ie};var so=i(6944),xh=i(26509),KA=i(61319);const Ed=function $A(d){var h=-1,o=Array(d.size);return d.forEach(function(y,E){o[++h]=[E,y]}),o},df=function Bh(d){var h=-1,o=Array(d.size);return d.forEach(function(y){o[++h]=y}),o};var Wh=so.A?so.A.prototype:void 0,Sd=Wh?Wh.valueOf:void 0;var Td=i(67895),ro=Object.prototype.hasOwnProperty;var Md=i(63080),bs=i(43744),yf=i(10259),bf=i(54608),Pf="[object Arguments]",$h="[object Array]",oo="[object Object]",Af=Object.prototype.hasOwnProperty;const Ef=function XA(d,h,o,y,E,C){var I=(0,bs.A)(d),W=(0,bs.A)(h),X=I?$h:(0,Md.A)(d),z=W?$h:(0,Md.A)(h),pe=(X=X==Pf?oo:X)==oo,Me=(z=z==Pf?oo:z)==oo,Ie=X==z;if(Ie&&(0,yf.A)(d)){if(!(0,yf.A)(h))return!1;I=!0,pe=!1}if(Ie&&!pe)return C||(C=new Pd.A),I||(0,bf.A)(d)?WA(d,h,o,y,E,C):function mf(d,h,o,y,E,C,I){switch(o){case"[object DataView]":if(d.byteLength!=h.byteLength||d.byteOffset!=h.byteOffset)return!1;d=d.buffer,h=h.buffer;case"[object ArrayBuffer]":return!(d.byteLength!=h.byteLength||!C(new xh.A(d),new xh.A(h)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,KA.A)(+d,+h);case"[object Error]":return d.name==h.name&&d.message==h.message;case"[object RegExp]":case"[object String]":return d==h+"";case"[object Map]":var W=Ed;case"[object Set]":if(W||(W=df),d.size!=h.size&&!(1&y))return!1;var z=I.get(d);if(z)return z==h;y|=2,I.set(d,h);var pe=WA(W(d),W(h),y,E,C,I);return I.delete(d),pe;case"[object Symbol]":if(Sd)return Sd.call(d)==Sd.call(h)}return!1}(d,h,X,o,y,E,C);if(!(1&o)){var $e=pe&&Af.call(d,"__wrapped__"),vt=Me&&Af.call(h,"__wrapped__");if($e||vt){var ht=$e?d.value():d,rt=vt?h.value():h;return C||(C=new Pd.A),E(ht,rt,o,y,C)}}return!!Ie&&(C||(C=new Pd.A),function vf(d,h,o,y,E,C){var I=1&o,W=(0,Td.A)(d),X=W.length;if(X!=(0,Td.A)(h).length&&!I)return!1;for(var Me=X;Me--;){var Ie=W[Me];if(!(I?Ie in h:ro.call(h,Ie)))return!1}var $e=C.get(d),vt=C.get(h);if($e&&vt)return $e==h&&vt==d;var ht=!0;C.set(d,h),C.set(h,d);for(var rt=I;++Me<X;){var Mt=d[Ie=W[Me]],ct=h[Ie];if(y)var bt=I?y(ct,Mt,Ie,h,d,C):y(Mt,ct,Ie,d,h,C);if(!(void 0===bt?Mt===ct||E(Mt,ct,o,y,C):bt)){ht=!1;break}rt||(rt="constructor"==Ie)}if(ht&&!rt){var Pt=d.constructor,Lt=h.constructor;Pt!=Lt&&"constructor"in d&&"constructor"in h&&!("function"==typeof Pt&&Pt instanceof Pt&&"function"==typeof Lt&&Lt instanceof Lt)&&(ht=!1)}return C.delete(d),C.delete(h),ht}(d,h,o,y,E,C))};var Gh=i(42661);const Sf=function JA(d,h,o,y,E){return d===h||(null==d||null==h||!(0,Gh.A)(d)&&!(0,Gh.A)(h)?d!=d&&h!=h:Ef(d,h,o,y,JA,E))};var ED=i(30554);const Mf=function QA(d){return d==d&&!(0,ED.A)(d)};var qA=i(14429);const Cf=function kd(d,h){return function(o){return null!=o&&o[d]===h&&(void 0!==h||d in Object(o))}},Od=function wd(d){var h=function jh(d){for(var h=(0,qA.A)(d),o=h.length;o--;){var y=h[o],E=d[y];h[o]=[y,E,Mf(E)]}return h}(d);return 1==h.length&&h[0][2]?Cf(h[0][0],h[0][1]):function(o){return o===d||function Tf(d,h,o,y){var E=o.length,C=E,I=!y;if(null==d)return!C;for(d=Object(d);E--;){var W=o[E];if(I&&W[2]?W[1]!==d[W[0]]:!(W[0]in d))return!1}for(;++E<C;){var X=(W=o[E])[0],z=d[X],pe=W[1];if(I&&W[2]){if(void 0===z&&!(X in d))return!1}else{var Me=new Pd.A;if(y)var Ie=y(z,pe,X,d,h,Me);if(!(void 0===Ie?Sf(pe,z,3,y,Me):Ie))return!1}}return!0}(o,d,h)}};var SD=i(31685);const nl=function Vh(d){return"symbol"==typeof d||(0,Gh.A)(d)&&"[object Symbol]"==(0,SD.A)(d)};var eE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tE=/^\w*$/;const al=function iE(d,h){if((0,bs.A)(d))return!1;var o=typeof d;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=d&&!nl(d))||tE.test(d)||!eE.test(d)||null!=h&&d in Object(h)};function Er(d,h){if("function"!=typeof d||null!=h&&"function"!=typeof h)throw new TypeError("Expected a function");var o=function(){var y=arguments,E=h?h.apply(this,y):y[0],C=o.cache;if(C.has(E))return C.get(E);var I=d.apply(this,y);return o.cache=C.set(E,I)||C,I};return o.cache=new(Er.Cache||Ad.A),o}Er.Cache=Ad.A;const lo=Er;var aE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wf=/\\(\\)?/g;const sE=function DD(d){var h=lo(d,function(y){return 500===o.size&&o.clear(),y}),o=h.cache;return h}(function(d){var h=[];return 46===d.charCodeAt(0)&&h.push(""),d.replace(aE,function(o,y,E,C){h.push(E?C.replace(wf,"$1"):y||o)}),h});var rE=i(56689),If=so.A?so.A.prototype:void 0,Rf=If?If.toString:void 0;const xf=function Lf(d){if("string"==typeof d)return d;if((0,bs.A)(d))return(0,rE.A)(d,Lf)+"";if(nl(d))return Rf?Rf.call(d):"";var h=d+"";return"0"==h&&1/d==-1/0?"-0":h},Bf=function MD(d){return null==d?"":xf(d)},sl=function lE(d,h){return(0,bs.A)(d)?d:al(d,h)?[d]:sE(Bf(d))},rl=function CD(d){if("string"==typeof d||nl(d))return d;var h=d+"";return"0"==h&&1/d==-1/0?"-0":h},zh=function Ff(d,h){for(var o=0,y=(h=sl(h,d)).length;null!=d&&o<y;)d=d[rl(h[o++])];return o&&o==y?d:void 0},Uf=function Yh(d,h){return null!=d&&h in Object(d)};var dE=i(97061),co=i(28606),Wf=i(15481);const Oc=function Xh(d,h){return null!=d&&function Kf(d,h,o){for(var y=-1,E=(h=sl(h,d)).length,C=!1;++y<E;){var I=rl(h[y]);if(!(C=null!=d&&o(d,I)))break;d=d[I]}return C||++y!=E?C:!!(E=null==d?0:d.length)&&(0,Wf.A)(E)&&(0,co.A)(I,E)&&((0,bs.A)(d)||(0,dE.A)(d))}(d,h,Uf)},kD=function Id(d,h){return al(d)&&Mf(h)?Cf(rl(d),h):function(o){var y=function uE(d,h,o){var y=null==d?void 0:zh(d,h);return void 0===y?o:y}(o,d);return void 0===y&&y===h?Oc(o,d):Sf(h,y,3)}},Ic=function wD(d){return d},ID=function OD(d){return al(d)?function hE(d){return function(h){return h?.[d]}}(rl(d)):function Jh(d){return function(h){return zh(h,d)}}(d)},yE=function vE(d,h){return h.length<2?d:zh(d,function xD(d,h,o){var y=-1,E=d.length;h<0&&(h=-h>E?0:E+h),(o=o>E?E:o)<0&&(o+=E),E=h>o?0:o-h>>>0,h>>>=0;for(var C=Array(E);++y<E;)C[y]=d[y+h];return C}(h,0,-1))};var Rc=Object.prototype.hasOwnProperty;const Ld=function qh(d,h){var o=-1,y=(h=sl(h,d)).length;if(!y)return!0;for(var E=null==d||"object"!=typeof d&&"function"!=typeof d;++o<y;){var C=h[o];if("string"==typeof C){if("__proto__"===C&&!Rc.call(d,"__proto__"))return!1;if("constructor"===C&&o+1<y&&"string"==typeof h[o+1]&&"prototype"===h[o+1]){if(E&&0===o)continue;return!1}}}var I=yE(d,h);return null==I||delete I[rl(function RD(d){var h=null==d?0:d.length;return h?d[h-1]:void 0}(h))]};var Lc=Array.prototype.splice;const jf=function xc(d,h){var o=[];if(!d||!d.length)return o;var y=-1,E=[],C=d.length;for(h=function mE(d){return"function"==typeof d?d:null==d?Ic:"object"==typeof d?(0,bs.A)(d)?kD(d[0],d[1]):Od(d):ID(d)}(h);++y<C;){var I=d[y];h(I,y,d)&&(o.push(I),E.push(y))}return function Hf(d,h){for(var o=d?h.length:0,y=o-1;o--;){var E=h[o];if(o==y||E!==C){var C=E;(0,co.A)(E)?Lc.call(d,E,1):Ld(d,E)}}}(d,E),o};function Vf(d,h){1&d&&(e.j41(0,"div",12),e.EFF(1," That name is not allowed. "),e.k0s())}function uo(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",13),e.nrm(1,"input",14),e.j41(2,"label",15)(3,"img",16),e.bIt("error",function(E){v.eBV(o);const C=e.XpG();return v.Njj(C.handlePetIconError(E))}),e.k0s(),e.EFF(4),e.k0s()()}if(2&d){const o=h.$implicit,y=e.XpG();e.R7$(),e.Y8G("id",o)("formControlName",o),e.R7$(),e.Y8G("for",o),e.R7$(),e.Y8G("src",y.getPetIcon(o),e.B4B)("alt",o+" icon"),e.R7$(),e.SpI(" ",o," ")}}function Zh(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",13),e.nrm(1,"input",14),e.j41(2,"label",15)(3,"img",16),e.bIt("error",function(E){v.eBV(o);const C=e.XpG();return v.Njj(C.handlePetIconError(E))}),e.k0s(),e.EFF(4),e.k0s()()}if(2&d){const o=h.$implicit,y=e.XpG();e.R7$(),e.Y8G("id",o)("formControlName",o),e.R7$(),e.Y8G("for",o),e.R7$(),e.Y8G("src",y.getPetIcon(o),e.B4B)("alt",o+" icon"),e.R7$(),e.SpI(" ",o," ")}}function PE(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",13),e.nrm(1,"input",14),e.j41(2,"label",15)(3,"img",16),e.bIt("error",function(E){v.eBV(o);const C=e.XpG();return v.Njj(C.handlePetIconError(E))}),e.k0s(),e.EFF(4),e.k0s()()}if(2&d){const o=h.$implicit,y=e.XpG();e.R7$(),e.Y8G("id",o)("formControlName",o),e.R7$(),e.Y8G("for",o),e.R7$(),e.Y8G("src",y.getPetIcon(o),e.B4B)("alt",o+" icon"),e.R7$(),e.SpI(" ",o," ")}}function AE(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",13),e.nrm(1,"input",14),e.j41(2,"label",15)(3,"img",16),e.bIt("error",function(E){v.eBV(o);const C=e.XpG();return v.Njj(C.handlePetIconError(E))}),e.k0s(),e.EFF(4),e.k0s()()}if(2&d){const o=h.$implicit,y=e.XpG();e.R7$(),e.Y8G("id",o)("formControlName",o),e.R7$(),e.Y8G("for",o),e.R7$(),e.Y8G("src",y.getPetIcon(o),e.B4B)("alt",o+" icon"),e.R7$(),e.SpI(" ",o," ")}}function zf(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",13),e.nrm(1,"input",14),e.j41(2,"label",15)(3,"img",16),e.bIt("error",function(E){v.eBV(o);const C=e.XpG();return v.Njj(C.handlePetIconError(E))}),e.k0s(),e.EFF(4),e.k0s()()}if(2&d){const o=h.$implicit,y=e.XpG();e.R7$(),e.Y8G("id",o)("formControlName",o),e.R7$(),e.Y8G("for",o),e.R7$(),e.Y8G("src",y.getPetIcon(o),e.B4B)("alt",o+" icon"),e.R7$(),e.SpI(" ",o," ")}}function Yf(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",13),e.nrm(1,"input",14),e.j41(2,"label",15)(3,"img",16),e.bIt("error",function(E){v.eBV(o);const C=e.XpG();return v.Njj(C.handlePetIconError(E))}),e.k0s(),e.EFF(4),e.k0s()()}if(2&d){const o=h.$implicit,y=e.XpG();e.R7$(),e.Y8G("id",o)("formControlName",o),e.R7$(),e.Y8G("for",o),e.R7$(),e.Y8G("src",y.getPetIcon(o),e.B4B)("alt",o+" icon"),e.R7$(),e.SpI(" ",o," ")}}function EE(d,h){1&d&&(e.j41(0,"div",12),e.EFF(1,"Name is required."),e.k0s())}let SE=(()=>{class d{formGroup;petPackMap;submitEvent=new v.bkB;cancelEvent=new v.bkB;checkboxFormGroup;loaded=!1;fallbackIcon="assets/art/Public/Public/Icons/Level_L1.png";constructor(){}ngOnInit(){this.initCheckboxFormGroup(),this.formGroup.updateValueAndValidity()}initCheckboxFormGroup(){let o=new ue.gE({}),y=new ue.gE({}),E=new ue.gE({}),C=new ue.gE({}),I=new ue.gE({}),W=new ue.gE({});for(let X of this.getPets(1)){let z=new ue.MJ(this.formGroup.get("tier1Pets").value.includes(X));z.valueChanges.subscribe(pe=>{this.processCheckboxChange(1,X,pe)}),o.addControl(X,z)}for(let X of this.getPets(2)){let z=new ue.MJ(this.formGroup.get("tier2Pets").value.includes(X));z.valueChanges.subscribe(pe=>{this.processCheckboxChange(2,X,pe)}),y.addControl(X,z)}for(let X of this.getPets(3)){let z=new ue.MJ(this.formGroup.get("tier3Pets").value.includes(X));z.valueChanges.subscribe(pe=>{this.processCheckboxChange(3,X,pe)}),E.addControl(X,z)}for(let X of this.getPets(4)){let z=new ue.MJ(this.formGroup.get("tier4Pets").value.includes(X));z.valueChanges.subscribe(pe=>{this.processCheckboxChange(4,X,pe)}),C.addControl(X,z)}for(let X of this.getPets(5)){let z=new ue.MJ(this.formGroup.get("tier5Pets").value.includes(X));z.valueChanges.subscribe(pe=>{this.processCheckboxChange(5,X,pe)}),I.addControl(X,z)}for(let X of this.getPets(6)){let z=new ue.MJ(this.formGroup.get("tier6Pets").value.includes(X));z.valueChanges.subscribe(pe=>{this.processCheckboxChange(6,X,pe)}),W.addControl(X,z)}this.checkboxFormGroup=new ue.gE({tier1Pets:o,tier2Pets:y,tier3Pets:E,tier4Pets:C,tier5Pets:I,tier6Pets:W})}getCheckboxFormGroup(o){return this.checkboxFormGroup.get(`tier${o}Pets`)}getPets(o){let y=[];for(let[E,C]of this.petPackMap.get(o))y.push(...C);return y=[...new Set(y)],y}getCount(o){return this.formGroup.get(`tier${o}Pets`).value.length}processCheckboxChange(o,y,E){let C=this.formGroup.get(`tier${o}Pets`).value;E?C.push(y):jf(C,I=>I===y),this.formGroup.get(`tier${o}Pets`).updateValueAndValidity()}getPetIcon(o){return(0,kt.EA)(o)??this.fallbackIcon}handlePetIconError(o){const y=o.target;y?.dataset?.fallback||(y.dataset.fallback="true",y.src=this.fallbackIcon)}trackByPetName(o,y){return y??String(o)}submit(){this.submitEvent.emit(this.formGroup)}cancel(){confirm("Are you sure you want to cancel?")&&this.cancelEvent.emit(this.formGroup)}submitDisabled(){return this.formGroup.get("name").invalid}static \u0275fac=function(y){return new(y||d)};static \u0275cmp=e.VBU({type:d,selectors:[["app-custom-pack-form"]],inputs:{formGroup:"formGroup",petPackMap:"petPackMap"},outputs:{submitEvent:"submitEvent",cancelEvent:"cancelEvent"},decls:68,vars:40,consts:[[3,"formGroup"],[1,"row","mb-4"],[1,"col-12"],["for","name",1,"form-label"],["id","name","formControlName","name",1,"form-control"],["class","invalid",4,"ngIf"],[1,"row","mb-4",3,"formGroup"],[1,"row"],[1,"col-12","editor-grid"],["class","form-check",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"btn","btn-danger",3,"click"],[1,"invalid"],[1,"form-check"],["type","checkbox","value","",1,"form-check-input",3,"id","formControlName"],[1,"form-check-label","pet-label",3,"for"],[1,"pet-icon",3,"error","src","alt"]],template:function(y,E){if(1&y&&(e.j41(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),e.EFF(4,"Pack Name"),e.k0s(),e.nrm(5,"input",4),e.DNE(6,Vf,2,0,"div",5),e.k0s()(),e.j41(7,"div",6)(8,"div",2)(9,"h3"),e.EFF(10," Tier 1 Pets "),e.j41(11,"span"),e.EFF(12),e.k0s()(),e.j41(13,"div",7)(14,"div",8),e.DNE(15,uo,5,6,"div",9),e.k0s()()()(),e.j41(16,"div",6)(17,"div",2)(18,"h3"),e.EFF(19," Tier 2 Pets "),e.j41(20,"span"),e.EFF(21),e.k0s()(),e.j41(22,"div",7)(23,"div",8),e.DNE(24,Zh,5,6,"div",9),e.k0s()()()(),e.j41(25,"div",6)(26,"div",2)(27,"h3"),e.EFF(28," Tier 3 Pets "),e.j41(29,"span"),e.EFF(30),e.k0s()(),e.j41(31,"div",7)(32,"div",8),e.DNE(33,PE,5,6,"div",9),e.k0s()()()(),e.j41(34,"div",6)(35,"div",2)(36,"h3"),e.EFF(37," Tier 4 Pets "),e.j41(38,"span"),e.EFF(39),e.k0s()(),e.j41(40,"div",7)(41,"div",8),e.DNE(42,AE,5,6,"div",9),e.k0s()()()(),e.j41(43,"div",6)(44,"div",2)(45,"h3"),e.EFF(46," Tier 5 Pets "),e.j41(47,"span"),e.EFF(48),e.k0s()(),e.j41(49,"div",7)(50,"div",8),e.DNE(51,zf,5,6,"div",9),e.k0s()()()(),e.j41(52,"div",6)(53,"div",2)(54,"h3"),e.EFF(55," Tier 6 Pets "),e.j41(56,"span"),e.EFF(57),e.k0s()(),e.j41(58,"div",7)(59,"div",8),e.DNE(60,Yf,5,6,"div",9),e.k0s()()()(),e.j41(61,"div",7)(62,"div",2)(63,"button",10),e.bIt("click",function(){return E.submit()}),e.EFF(64," Submit Pack "),e.k0s(),e.j41(65,"button",11),e.bIt("click",function(){return E.cancel()}),e.EFF(66,"Cancel"),e.k0s(),e.DNE(67,EE,2,0,"div",5),e.k0s()()()),2&y){let C;e.Y8G("formGroup",E.formGroup),e.R7$(6),e.Y8G("ngIf",null==(C=E.formGroup.get("name").errors)?null:C.forbiddenName),e.R7$(),e.Y8G("formGroup",E.getCheckboxFormGroup(1)),e.R7$(4),e.HbH(10==E.getCount(1)?"valid":"invalid"),e.R7$(),e.SpI("",E.getCount(1),"/10"),e.R7$(3),e.Y8G("ngForOf",E.getPets(1))("ngForTrackBy",E.trackByPetName),e.R7$(),e.Y8G("formGroup",E.getCheckboxFormGroup(2)),e.R7$(4),e.HbH(10==E.getCount(2)?"valid":"invalid"),e.R7$(),e.SpI("",E.getCount(2),"/10"),e.R7$(3),e.Y8G("ngForOf",E.getPets(2))("ngForTrackBy",E.trackByPetName),e.R7$(),e.Y8G("formGroup",E.getCheckboxFormGroup(3)),e.R7$(4),e.HbH(10==E.getCount(3)?"valid":"invalid"),e.R7$(),e.SpI("",E.getCount(3),"/10"),e.R7$(3),e.Y8G("ngForOf",E.getPets(3))("ngForTrackBy",E.trackByPetName),e.R7$(),e.Y8G("formGroup",E.getCheckboxFormGroup(4)),e.R7$(4),e.HbH(10==E.getCount(4)?"valid":"invalid"),e.R7$(),e.SpI("",E.getCount(4),"/10"),e.R7$(3),e.Y8G("ngForOf",E.getPets(4))("ngForTrackBy",E.trackByPetName),e.R7$(),e.Y8G("formGroup",E.getCheckboxFormGroup(5)),e.R7$(4),e.HbH(10==E.getCount(5)?"valid":"invalid"),e.R7$(),e.SpI("",E.getCount(5),"/10"),e.R7$(3),e.Y8G("ngForOf",E.getPets(5))("ngForTrackBy",E.trackByPetName),e.R7$(),e.Y8G("formGroup",E.getCheckboxFormGroup(6)),e.R7$(4),e.HbH(10==E.getCount(6)?"valid":"invalid"),e.R7$(),e.SpI("",E.getCount(6),"/10"),e.R7$(3),e.Y8G("ngForOf",E.getPets(6))("ngForTrackBy",E.trackByPetName),e.R7$(3),e.Y8G("disabled",E.submitDisabled()),e.R7$(4),e.Y8G("ngIf",E.submitDisabled())}},dependencies:[Ht.MD,Ht.Sq,Ht.bT,ue.X1,ue.qT,ue.me,ue.Zm,ue.BC,ue.cb,ue.j4,ue.JD],styles:[".editor-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));grid-gap:1rem}.invalid[_ngcontent-%COMP%]{color:red}.valid[_ngcontent-%COMP%]{color:#0ab40a}.form-check[_ngcontent-%COMP%]{min-height:2.5rem}.pet-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.35rem;line-height:1.2;flex-wrap:wrap;white-space:normal}.pet-icon[_ngcontent-%COMP%]{width:26px;height:26px;object-fit:contain}"]})}return d})();var Xf=i(44937);function Bc(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"app-custom-pack-form",4),e.bIt("submitEvent",function(E){v.eBV(o);const C=e.XpG();return v.Njj(C.submitEvent(E))})("cancelEvent",function(E){v.eBV(o);const C=e.XpG();return v.Njj(C.cancelEvent(E))}),e.k0s()()()}if(2&d){const o=e.XpG();e.R7$(2),e.Y8G("formGroup",o.makeFormGroup(o.focusedGroup))("petPackMap",o.petPackMap)}}function TE(d,h){1&d&&(e.j41(0,"span",17),e.EFF(1,"Valid"),e.k0s())}function DE(d,h){1&d&&(e.j41(0,"span",18),e.EFF(1,"Invalid"),e.k0s())}function ME(d,h){if(1&d){const o=e.RV6();e.j41(0,"tr")(1,"td",12),e.EFF(2),e.k0s(),e.j41(3,"td",12),e.DNE(4,TE,2,0,"span",13)(5,DE,2,0,"span",14),e.k0s(),e.j41(6,"td")(7,"button",8),e.bIt("click",function(){const E=v.eBV(o).$implicit,C=e.XpG(2);return v.Njj(C.editPack(E))}),e.EFF(8," Edit "),e.k0s()(),e.j41(9,"td")(10,"button",15),e.bIt("click",function(){const E=v.eBV(o).$implicit,C=e.XpG(2);return v.Njj(C.exportCustomPack(E))}),e.EFF(11," Export "),e.k0s()(),e.j41(12,"td")(13,"button",16),e.bIt("click",function(){const E=v.eBV(o).$implicit,C=e.XpG(2);return v.Njj(C.deletePack(E))}),e.EFF(14," Delete "),e.k0s()()()}if(2&d){const o=h.$implicit;e.R7$(2),e.JRh(o.get("name").value),e.R7$(2),e.Y8G("ngIf",o.valid),e.R7$(),e.Y8G("ngIf",!o.valid)}}function xd(d,h){if(1&d&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&d){const o=e.XpG(2);e.Y8G("ngClass","success"===o.statusTone?"text-success":"text-danger"),e.R7$(),e.SpI(" ",o.statusMessage," ")}}function Jf(d,h){if(1&d){const o=e.RV6();e.j41(0,"div")(1,"div",5)(2,"div",3)(3,"h3"),e.EFF(4,"Custom Packs"),e.k0s(),e.j41(5,"table"),e.DNE(6,ME,15,3,"tr",6),e.k0s()()(),e.j41(7,"div",7)(8,"div",3)(9,"button",8),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.createNewPack())}),e.EFF(10," Create New Pack "),e.k0s()()(),e.j41(11,"div",5)(12,"div",3)(13,"h3"),e.EFF(14,"Import Custom Pack"),e.k0s(),e.j41(15,"div",9),e.nrm(16,"textarea",10),e.k0s()()(),e.j41(17,"div",2)(18,"div",3)(19,"button",8),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.importCustomPack())}),e.EFF(20," Import "),e.k0s()()(),e.DNE(21,xd,2,2,"div",11),e.k0s()}if(2&d){const o=e.XpG();e.R7$(6),e.Y8G("ngForOf",o.customPacks.controls)("ngForTrackBy",o.trackByPackName),e.R7$(9),e.Y8G("formGroup",o.importFormGroup),e.R7$(6),e.Y8G("ngIf",o.statusMessage)}}let Qf=(()=>{class d{petService;localStorageService;formGroup;customPacks;petPackMap;petIdLookup=new Map;petNameToId=new Map;petNameToTier=new Map;focusedGroup=null;importFormGroup=new ue.gE({code:new ue.MJ(null)});statusMessage="";statusTone="success";statusTimer=null;constructor(o,y){this.petService=o,this.localStorageService=y}ngOnInit(){this.customPacks=this.formGroup.get("customPacks"),this.buildPetPackMap(),this.buildPetNameToTierMap(),this.buildPetIdLookup()}buildPetPackMap(){this.petPackMap=new Map;for(let o=1;o<=6;o++){let y=new Map;for(const E of da.d)y.set(E,[]);this.petPackMap.set(o,y)}for(const o of da.d){const y=this.petService.basePackPetsByName[o];for(let[E,C]of y)this.petPackMap.get(E).get(o).push(...C)}}createNewPack(){let o=this.createPack();this.focusedGroup=o}createPack(){return new ue.gE({name:new ue.MJ(null,[ue.k0.required,this.forbiddenNameValidator()]),tier1Pets:new ue.MJ([],this.controlArrayLengthOf10()),tier2Pets:new ue.MJ([],this.controlArrayLengthOf10()),tier3Pets:new ue.MJ([],this.controlArrayLengthOf10()),tier4Pets:new ue.MJ([],this.controlArrayLengthOf10()),tier5Pets:new ue.MJ([],this.controlArrayLengthOf10()),tier6Pets:new ue.MJ([],this.controlArrayLengthOf10()),spells:new ue.MJ([])})}makeFormGroup(o){return o}controlArrayLengthOf10(){return o=>10!==o.value.length?{length:!0}:null}submitEvent(o){this.customPacks.controls.includes(o)||this.customPacks.push(o),this.petService.buildCustomPackPets(this.customPacks),this.focusedGroup=null,this.localStorageService.setFormStorage(this.formGroup)}cancelEvent(o){this.focusedGroup=null}editPack(o){this.focusedGroup=o}deletePack(o){if(confirm("Are you sure you want to delete this pack?")){let y=this.customPacks.controls.indexOf(o);this.customPacks.removeAt(y),this.focusedGroup=null,this.localStorageService.setFormStorage(this.formGroup)}}trackByPackName(o,y){return y?.get("name")?.value??String(o)}forbiddenNameValidator(){return o=>{let y=["custom"];for(let E of this.customPacks.controls)o!=E.get("name")&&y.push(E.get("name").value?.toLowerCase());return y.includes(o.value?.toLowerCase())?{forbiddenName:!0}:null}}importCustomPack(){let o=this.importFormGroup.get("code").value;this.clearStatus();try{let y=o;const E=o.indexOf("{"),C=o.lastIndexOf("}");-1!==E&&C>E&&(y=o.substring(E,C+1));const I=JSON.parse(y);let W=this.parseMinions(I.Minions,I.MinionMap);const X=Array.isArray(I.Spells)?I.Spells:[];let z={name:I.Title,tier1Pets:W.tierMinions.get(1),tier2Pets:W.tierMinions.get(2),tier3Pets:W.tierMinions.get(3),tier4Pets:W.tierMinions.get(4),tier5Pets:W.tierMinions.get(5),tier6Pets:W.tierMinions.get(6),spells:X};this.createNewPack(),this.focusedGroup.patchValue(z),W.missingMinions.length>0?this.setStatus(`Some minion IDs were not recognized and were skipped: ${W.missingMinions.join(", ")}`,"error"):this.setStatus("Custom pack imported.","success")}catch(y){this.setStatus("Invalid code.","error"),console.error(y)}}buildPetIdLookup(){this.petIdLookup=new Map,this.petNameToId=new Map;const o=Ih??af;for(let y of o){let E=Number(y.Tier),C=String(y.Id);this.petIdLookup.has(C)||this.petIdLookup.set(C,{name:y.Name,tier:E}),this.petNameToId.has(y.Name)||this.petNameToId.set(y.Name,C)}}exportCustomPack(o){const y=this.buildExportPayload(o),E=JSON.stringify(y);this.importFormGroup.get("code")?.setValue(E),this.copyToClipboard(E)}buildExportPayload(o){const y=X=>{const z=o.get(`tier${X}Pets`);return(Array.isArray(z?.value)?z.value:[]).filter(Me=>!!Me)},E=[];for(let X=1;X<=6;X++){const z=y(X);for(const pe of z){const Me=this.petNameToId.get(pe);E.push(Me??pe)}}const C=o.get("spells"),W=(Array.isArray(C?.value)?C.value:Array.isArray(o?.value?.spells)?o.value.spells:[]).filter(X=>!!X);return{Title:o.get("name")?.value||"Custom Pack",Minions:E,...W.length?{Spells:W}:{}}}copyToClipboard(o){this.clearStatus(),navigator?.clipboard?.writeText?navigator.clipboard.writeText(o).then(()=>{this.setStatus("Custom pack copied to clipboard.","success")}).catch(()=>{this.setStatus("Failed to copy custom pack.","error")}):this.setStatus("Clipboard not available.","error")}buildPetNameToTierMap(){this.petNameToTier=new Map;for(let[o,y]of this.petPackMap)for(let E of y.values())for(let C of E)this.petNameToTier.has(C)||this.petNameToTier.set(C,o)}parseMinions(o,y={}){let E=new Map;for(let I=1;I<=6;I++)E.set(I,[]);let C=[];if(!Array.isArray(o))return{tierMinions:E,missingMinions:C};for(let I of o){let W=null,X=null;if("number"==typeof I)X=String(I);else if("string"==typeof I){let pe=I.trim();pe&&pe.match(/^\d+$/)?X=pe:W=I}if(X){let pe=this.petIdLookup.get(X);pe?W=pe.name:y&&y[X]&&(W=y[X])}if(!W){C.push(I);continue}let z=this.petNameToTier.get(W);z?E.get(z).push(W):C.push(I)}return{tierMinions:E,missingMinions:C}}clearStatus(){this.statusTimer&&(clearTimeout(this.statusTimer),this.statusTimer=null),this.statusMessage=""}setStatus(o,y){this.statusMessage=o,this.statusTone=y,this.statusTimer&&clearTimeout(this.statusTimer),this.statusTimer=setTimeout(()=>{this.statusMessage="",this.statusTimer=null},4e3)}static \u0275fac=function(y){return new(y||d)(e.rXU(vs.T),e.rXU(Xf.s))};static \u0275cmp=e.VBU({type:d,selectors:[["app-custom-pack-editor"]],inputs:{formGroup:"formGroup"},decls:2,vars:2,consts:[["class","row",4,"ngIf"],[4,"ngIf"],[1,"row"],[1,"col-12"],[3,"submitEvent","cancelEvent","formGroup","petPackMap"],[1,"row","mb-3"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"row","mb-4"],[1,"btn","btn-primary",3,"click"],[1,"form-group",3,"formGroup"],["id","code","rows","3","formControlName","code",1,"form-control"],["class","mt-2",3,"ngClass",4,"ngIf"],[1,"text"],["class","valid",4,"ngIf"],["class","invalid",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"valid"],[1,"invalid"],[1,"mt-2",3,"ngClass"]],template:function(y,E){1&y&&e.DNE(0,Bc,3,2,"div",0)(1,Jf,22,4,"div",1),2&y&&(e.Y8G("ngIf",null!=E.focusedGroup),e.R7$(),e.Y8G("ngIf",null==E.focusedGroup))},dependencies:[Ht.MD,Ht.YU,Ht.Sq,Ht.bT,ue.X1,ue.me,ue.BC,ue.cb,ue.j4,ue.JD,SE],styles:[".valid[_ngcontent-%COMP%]{color:#4caf50}.invalid[_ngcontent-%COMP%]{color:#f44336}.text[_ngcontent-%COMP%]{font-size:1.5em}td[_ngcontent-%COMP%]{padding:.25em .5em}"]})}return d})();const qf=["soundMenuRoot"],ll=()=>({standalone:!0});function Zf(d,h){if(1&d){const o=e.RV6();e.j41(0,"button",46),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.app.cancelSimulation())}),e.EFF(1," Cancel "),e.k0s()}}function eg(d,h){if(1&d){const o=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.app.undoRandomize())}),e.EFF(1," Undo Randomize "),e.k0s()}}function Bd(d,h){if(1&d&&(e.j41(0,"div",61)(1,"span",62),e.EFF(2),e.k0s(),e.j41(3,"span",63),e.EFF(4),e.k0s(),e.j41(5,"span",64),e.EFF(6,"\xb7"),e.k0s(),e.j41(7,"span",65),e.EFF(8),e.k0s(),e.j41(9,"span",64),e.EFF(10,"\xb7"),e.k0s(),e.j41(11,"span",66),e.EFF(12),e.k0s()()),2&d){const o=e.XpG(2);e.R7$(2),e.SpI("",o.app.positioningDeltaSideLabel," optimize delta:"),e.R7$(2),e.SpI("Win ",o.app.formatSignedPercentDelta(o.app.positioningDeltaSummary.winDeltaPercent),"pp"),e.R7$(4),e.SpI("Draw ",o.app.formatSignedPercentDelta(o.app.positioningDeltaSummary.drawDeltaPercent),"pp"),e.R7$(4),e.SpI("Loss ",o.app.formatSignedPercentDelta(o.app.positioningDeltaSummary.lossDeltaPercent),"pp")}}function CE(d,h){if(1&d&&(e.qex(0),e.j41(1,"div",47)(2,"div",48)(3,"span",49)(4,"span",50),e.EFF(5,"Player"),e.k0s(),e.j41(6,"span",51),e.EFF(7),e.k0s()(),e.j41(8,"span",52)(9,"span",53),e.EFF(10,"Draw"),e.k0s(),e.j41(11,"span",51),e.EFF(12),e.k0s()(),e.j41(13,"span",54)(14,"span",55),e.EFF(15,"Opponent"),e.k0s(),e.j41(16,"span",51),e.EFF(17),e.k0s()()(),e.j41(18,"div",56),e.nrm(19,"span",57)(20,"span",58)(21,"span",59),e.k0s(),e.DNE(22,Bd,13,4,"div",60),e.k0s(),e.bVm()),2&d){const o=e.XpG();e.R7$(7),e.Lme("",o.app.playerWinner," - ",o.app.winPercent,"%"),e.R7$(5),e.Lme("",o.app.draw," - ",o.app.drawPercent,"%"),e.R7$(5),e.Lme("",o.app.opponentWinner," - ",o.app.losePercent,"%"),e.R7$(2),e.xc7("width",o.app.winPercent,"%"),e.R7$(),e.xc7("width",o.app.drawPercent,"%"),e.R7$(),e.xc7("width",o.app.losePercent,"%"),e.R7$(),e.Y8G("ngIf",o.app.positioningDeltaSummary)}}function kE(d,h){1&d&&(e.j41(0,"div",67),e.nrm(1,"span",68),e.k0s())}function wE(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",69)(1,"div",70),e.EFF(2),e.k0s(),e.j41(3,"input",71),e.bIt("ngModelChange",function(E){v.eBV(o);const C=e.XpG();return v.Njj(C.app.setSoundVolume(E))}),e.k0s(),e.j41(4,"button",72),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.app.toggleSoundMuted())}),e.EFF(5),e.k0s()()}if(2&d){const o=e.XpG();e.R7$(2),e.SpI("Volume: ",o.app.soundVolumePercent,"%"),e.R7$(),e.Y8G("ngModel",o.app.soundVolume)("ngModelOptions",e.lJ4(4,ll)),e.R7$(2),e.SpI(" ",o.app.soundMuted?"Unmute":"Mute"," ")}}function OE(d,h){if(1&d&&(e.j41(0,"div",73),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.Y8G("ngClass","success"===o.app.statusTone?"text-success":"text-danger"),e.R7$(),e.SpI(" ",o.app.statusMessage," ")}}function IE(d,h){if(1&d&&(e.j41(0,"div",74),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.SpI(" ",o.app.autoSaveLabel," ")}}function RE(d,h){if(1&d&&(e.j41(0,"div",75)(1,"div",76),e.nrm(2,"div",77),e.k0s(),e.j41(3,"div",78),e.EFF(4),e.k0s()()),2&d){const o=e.XpG();e.R7$(2),e.xc7("width",o.app.simulationProgress+"%"),e.R7$(2),e.SpI(" ",o.app.simulationCancelRequested?"Cancelling...":o.app.simulationProgressLabel," ")}}function tg(d,h){if(1&d&&(e.j41(0,"span",79),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.SpI(" ",o.activeAdvancedOverridesCount," active ")}}function LE(d,h){if(1&d&&(e.j41(0,"div",80),e.EFF(1),e.k0s()),2&d){const o=e.XpG();e.R7$(),e.SpI(" ",o.unifiedAdvancedSummary," ")}}function ev(d,h){if(1&d){const o=e.RV6();e.j41(0,"img",169),e.bIt("error",function(){v.eBV(o);const E=e.XpG(2);return v.Njj(E.app.onPackImageError("player"))}),e.k0s()}if(2&d){const o=e.XpG(2);e.Y8G("ngSrc",o.app.getPackIconPath(o.app.formGroup.get("playerPack").value))}}function tv(d,h){if(1&d){const o=e.RV6();e.j41(0,"img",169),e.bIt("error",function(){v.eBV(o);const E=e.XpG(2);return v.Njj(E.app.onPackImageError("opponent"))}),e.k0s()}if(2&d){const o=e.XpG(2);e.Y8G("ngSrc",o.app.getPackIconPath(o.app.formGroup.get("opponentPack").value))}}function xE(d,h){if(1&d&&e.nrm(0,"img",172),2&d){const o=h.$implicit,y=e.XpG(3);e.Y8G("ngSrc",o)("alt",y.app.selectedTeamName)}}function Fc(d,h){if(1&d&&(e.j41(0,"div",170),e.DNE(1,xE,1,2,"img",171),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("ngForOf",o.app.selectedTeamPreviewIcons)}}function Fd(d,h){1&d&&(e.j41(0,"span",173),e.EFF(1,"Saved teams"),e.k0s())}function BD(d,h){1&d&&(e.j41(0,"div",137)(1,"label",174),e.nrm(2,"span",175),e.j41(3,"span",85),e.EFF(4,"Player"),e.k0s(),e.EFF(5," Roll Amount "),e.k0s(),e.nrm(6,"input",176),e.k0s())}function BE(d,h){1&d&&(e.j41(0,"div",137)(1,"label",177),e.nrm(2,"span",175),e.j41(3,"span",90),e.EFF(4,"Opponent"),e.k0s(),e.EFF(5," Roll Amount "),e.k0s(),e.nrm(6,"input",178),e.k0s())}function iv(d,h){if(1&d&&(e.j41(0,"span",179),e.EFF(1),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.SpI(" ",o.app.randomDecisions.length," events ")}}function ig(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",180)(1,"button",181),e.bIt("click",function(){v.eBV(o);const E=e.XpG(2);return v.Njj(E.app.captureRandomEvents())}),e.EFF(2," Capture Random Events "),e.k0s(),e.j41(3,"button",182),e.bIt("click",function(){v.eBV(o);const E=e.XpG(2);return v.Njj(E.app.runForcedRandomSimulation())}),e.EFF(4," Run Forced Simulation "),e.k0s(),e.j41(5,"button",183),e.bIt("click",function(){v.eBV(o);const E=e.XpG(2);return v.Njj(E.app.clearRandomOverrides())}),e.EFF(6," Clear "),e.k0s()()}if(2&d){const o=e.XpG(2);e.R7$(),e.Y8G("disabled",o.app.simulationInProgress),e.R7$(2),e.Y8G("disabled",o.app.simulationInProgress||!o.app.randomDecisions.length),e.R7$(2),e.Y8G("disabled",!o.app.randomDecisions.length)}}function FE(d,h){if(1&d&&(e.j41(0,"div",184),e.EFF(1),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.SpI(" ",o.app.randomDecisions.length?"Overrides captured. Expand to inspect or force outcomes.":"Capture random events when needed."," ")}}function nv(d,h){1&d&&(e.j41(0,"div",189),e.EFF(1," Capture random events to populate override selectors. "),e.k0s())}function FD(d,h){if(1&d&&(e.j41(0,"div",190),e.EFF(1),e.k0s()),2&d){const o=e.XpG(3);e.R7$(),e.SpI(" ",o.app.randomOverrideError," ")}}function ND(d,h){if(1&d&&e.nrm(0,"img",203),2&d){const o=e.XpG().$implicit;e.Y8G("ngSrc",o.src)("alt",o.alt)}}function NE(d,h){if(1&d&&(e.j41(0,"span",204),e.EFF(1),e.k0s()),2&d){const o=e.XpG().$implicit;e.Y8G("ngClass",o.className),e.R7$(),e.JRh(o.text)}}function av(d,h){1&d&&e.nrm(0,"br")}function sv(d,h){if(1&d&&(e.qex(0),e.DNE(1,ND,1,2,"img",200)(2,NE,2,2,"span",201)(3,av,1,0,"br",202),e.bVm()),2&d){const o=h.$implicit;e.R7$(),e.Y8G("ngIf","img"===o.type),e.R7$(),e.Y8G("ngIf","text"===o.type),e.R7$(),e.Y8G("ngIf","br"===o.type)}}function UD(d,h){if(1&d&&e.nrm(0,"img",203),2&d){const o=e.XpG().$implicit;e.Y8G("ngSrc",o.src)("alt",o.alt)}}function rv(d,h){if(1&d&&(e.j41(0,"span",204),e.EFF(1),e.k0s()),2&d){const o=e.XpG().$implicit;e.Y8G("ngClass",o.className),e.R7$(),e.JRh(o.text)}}function UE(d,h){1&d&&e.nrm(0,"br")}function WD(d,h){if(1&d&&(e.qex(0),e.DNE(1,UD,1,2,"img",200)(2,rv,2,2,"span",201)(3,UE,1,0,"br",202),e.bVm()),2&d){const o=h.$implicit;e.R7$(),e.Y8G("ngIf","img"===o.type),e.R7$(),e.Y8G("ngIf","text"===o.type),e.R7$(),e.Y8G("ngIf","br"===o.type)}}function KD(d,h){if(1&d&&(e.j41(0,"option",205),e.EFF(1),e.k0s()),2&d){const o=h.$implicit;e.Y8G("ngValue",o.id),e.R7$(),e.SpI(" ",o.label," ")}}function $D(d,h){if(1&d){const o=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"div",195),e.DNE(5,sv,4,3,"ng-container",194),e.k0s(),e.j41(6,"div",196),e.EFF(7),e.k0s()(),e.j41(8,"td")(9,"div",197),e.DNE(10,WD,4,3,"ng-container",194),e.k0s(),e.j41(11,"select",198),e.bIt("ngModelChange",function(E){const C=v.eBV(o).$implicit,I=e.XpG(4);return v.Njj(I.app.onRandomDecisionChoiceChanged(C,E))}),e.DNE(12,KD,2,2,"option",199),e.k0s()()()}if(2&d){const o=h.$implicit,y=e.XpG(4);e.R7$(2),e.JRh(o.index+1),e.R7$(3),e.Y8G("ngForOf",y.app.getRandomDecisionLabelParts(o))("ngForTrackBy",y.app.trackByIndex),e.R7$(2),e.JRh(o.key),e.R7$(3),e.Y8G("ngForOf",y.app.getRandomDecisionSelectedOptionParts(o))("ngForTrackBy",y.app.trackByIndex),e.R7$(),e.Y8G("ngModel",y.app.getSelectedRandomDecisionOptionId(o))("ngModelOptions",e.lJ4(10,ll)),e.R7$(),e.Y8G("ngForOf",o.options)("ngForTrackBy",y.app.trackByIndex)}}function WE(d,h){if(1&d&&(e.j41(0,"div",191)(1,"table",192)(2,"thead")(3,"tr")(4,"th",193),e.EFF(5,"Step"),e.k0s(),e.j41(6,"th",193),e.EFF(7,"Event"),e.k0s(),e.j41(8,"th",193),e.EFF(9,"Forced Choice"),e.k0s()()(),e.j41(10,"tbody"),e.DNE(11,$D,13,11,"tr",194),e.k0s()()()),2&d){const o=e.XpG(3);e.R7$(11),e.Y8G("ngForOf",o.app.randomDecisions)("ngForTrackBy",o.app.trackByIndex)}}function GD(d,h){if(1&d&&(e.j41(0,"div",185),e.DNE(1,nv,2,0,"div",186)(2,FD,2,1,"div",187)(3,WE,12,2,"div",188),e.k0s()),2&d){const o=e.XpG(2);e.R7$(),e.Y8G("ngIf",!o.app.randomDecisions.length),e.R7$(),e.Y8G("ngIf",o.app.randomOverrideError),e.R7$(),e.Y8G("ngIf",o.app.randomDecisions.length)}}function ng(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",81)(1,"div",82)(2,"div",83),e.EFF(3,"Pack Selection"),e.k0s(),e.j41(4,"div",84)(5,"label")(6,"span",85),e.EFF(7,"Player"),e.k0s(),e.EFF(8," Pack"),e.k0s(),e.j41(9,"button",86),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.app.openSelectionDialog("pack","player"))}),e.DNE(10,ev,1,1,"img",87),e.j41(11,"span",88),e.EFF(12),e.k0s(),e.nrm(13,"i",89),e.k0s()(),e.j41(14,"div",84)(15,"label")(16,"span",90),e.EFF(17,"Opponent"),e.k0s(),e.EFF(18," Pack"),e.k0s(),e.j41(19,"button",86),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.app.openSelectionDialog("pack","opponent"))}),e.DNE(20,tv,1,1,"img",87),e.j41(21,"span",88),e.EFF(22),e.k0s(),e.nrm(23,"i",89),e.k0s()(),e.j41(24,"div",91),e.nrm(25,"input",92),e.j41(26,"label",93),e.EFF(27,"All Pets"),e.k0s()()(),e.j41(28,"div",94)(29,"div",83),e.EFF(30,"Save / Load Teams"),e.k0s(),e.j41(31,"div",95)(32,"input",96),e.mxI("ngModelChange",function(E){v.eBV(o);const C=e.XpG();return e.DH7(C.app.teamName,E)||(C.app.teamName=E),v.Njj(E)}),e.k0s(),e.j41(33,"div",97)(34,"button",98),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.app.saveTeam(E.saveSide))}),e.EFF(35," Save "),e.k0s(),e.j41(36,"select",99),e.mxI("ngModelChange",function(E){v.eBV(o);const C=e.XpG();return e.DH7(C.saveSide,E)||(C.saveSide=E),v.Njj(E)}),e.j41(37,"option",15),e.EFF(38,"Player"),e.k0s(),e.j41(39,"option",16),e.EFF(40,"Opponent"),e.k0s()()()(),e.j41(41,"div",95)(42,"button",100),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.app.openSelectionDialog("team","none"))}),e.DNE(43,Fc,2,1,"div",101)(44,Fd,2,0,"ng-template",null,2,e.C5r),e.j41(46,"span",88),e.EFF(47),e.k0s(),e.nrm(48,"i",89),e.k0s(),e.j41(49,"div",102)(50,"button",98),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.app.loadTeam(E.loadSide))}),e.EFF(51," Load "),e.k0s(),e.j41(52,"select",99),e.mxI("ngModelChange",function(E){v.eBV(o);const C=e.XpG();return e.DH7(C.loadSide,E)||(C.loadSide=E),v.Njj(E)}),e.j41(53,"option",15),e.EFF(54,"Player"),e.k0s(),e.j41(55,"option",16),e.EFF(56,"Opponent"),e.k0s()()()()(),e.j41(57,"div",103)(58,"div",104)(59,"div",105),e.EFF(60,"Scenario Settings"),e.k0s(),e.j41(61,"button",106),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.resetScenarioSettings())}),e.EFF(62," Reset Scenario Settings "),e.k0s()(),e.j41(63,"div",107)(64,"div",108),e.nrm(65,"input",109),e.j41(66,"label",110),e.nrm(67,"span",111),e.EFF(68," Komodo Shuffle "),e.k0s()(),e.j41(69,"div",112),e.nrm(70,"input",113),e.j41(71,"label",114),e.nrm(72,"span",115),e.EFF(73," Change equipment uses "),e.k0s()(),e.j41(74,"div",116),e.nrm(75,"input",117),e.j41(76,"label",118),e.nrm(77,"span",119),e.EFF(78," Mana "),e.k0s()(),e.j41(79,"div",120),e.nrm(80,"input",121),e.j41(81,"label",122),e.EFF(82," Enable logs "),e.k0s()(),e.j41(83,"div",123),e.nrm(84,"input",124),e.j41(85,"label",125),e.nrm(86,"span",126),e.EFF(87," Triggers Consumed "),e.k0s()(),e.j41(88,"div",127)(89,"input",128),e.bIt("change",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.app.refreshDebugLogPresentation())}),e.k0s(),e.j41(90,"label",129),e.EFF(91," Debug Info "),e.k0s()(),e.j41(92,"div",130)(93,"input",131),e.bIt("change",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.app.refreshDebugLogPresentation())}),e.k0s(),e.j41(94,"label",132),e.EFF(95," Positional Args "),e.k0s()()(),e.j41(96,"div",133)(97,"div",134)(98,"label",135),e.EFF(99,"Turn Number"),e.k0s(),e.nrm(100,"input",136),e.k0s(),e.j41(101,"div",137)(102,"label",138),e.EFF(103," Seed "),e.k0s(),e.nrm(104,"input",139),e.k0s(),e.j41(105,"div",137)(106,"label",140),e.nrm(107,"span",141),e.j41(108,"span",85),e.EFF(109,"Player"),e.k0s(),e.EFF(110," Gold Spent "),e.k0s(),e.nrm(111,"input",142),e.k0s(),e.j41(112,"div",137)(113,"label",143),e.nrm(114,"span",141),e.j41(115,"span",90),e.EFF(116,"Opponent"),e.k0s(),e.EFF(117," Gold Spent "),e.k0s(),e.nrm(118,"input",144),e.k0s(),e.DNE(119,BD,7,0,"div",145)(120,BE,7,0,"div",145),e.j41(121,"div",137)(122,"label",146),e.nrm(123,"span",147),e.j41(124,"span",85),e.EFF(125,"Player"),e.k0s(),e.EFF(126," Level 3 Sold "),e.k0s(),e.nrm(127,"input",148),e.k0s(),e.j41(128,"div",137)(129,"label",149),e.nrm(130,"span",147),e.j41(131,"span",90),e.EFF(132,"Opponent"),e.k0s(),e.EFF(133," Level 3 Sold "),e.k0s(),e.nrm(134,"input",150),e.k0s(),e.j41(135,"div",137)(136,"label",151),e.nrm(137,"span",152),e.j41(138,"span",85),e.EFF(139,"Player"),e.k0s(),e.EFF(140," Summoned Amount "),e.k0s(),e.nrm(141,"input",153),e.k0s(),e.j41(142,"div",137)(143,"label",154),e.nrm(144,"span",152),e.j41(145,"span",90),e.EFF(146,"Opponent"),e.k0s(),e.EFF(147," Summoned Amount "),e.k0s(),e.nrm(148,"input",155),e.k0s(),e.j41(149,"div",137)(150,"label",156),e.nrm(151,"span",157),e.j41(152,"span",85),e.EFF(153,"Player"),e.k0s(),e.EFF(154," Transformation Amount "),e.k0s(),e.nrm(155,"input",158),e.k0s(),e.j41(156,"div",137)(157,"label",159),e.nrm(158,"span",157),e.j41(159,"span",90),e.EFF(160,"Opponent"),e.k0s(),e.EFF(161," Transformation Amount "),e.k0s(),e.nrm(162,"input",160),e.k0s()()(),e.j41(163,"div",161)(164,"div",162)(165,"button",163),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.app.toggleRandomOverrides())}),e.j41(166,"span",41),e.EFF(167,"Random Overrides"),e.k0s(),e.DNE(168,iv,2,1,"span",164),e.j41(169,"span",165),e.EFF(170,"\u25be"),e.k0s()(),e.DNE(171,ig,7,3,"div",166),e.k0s(),e.DNE(172,FE,2,1,"div",167)(173,GD,4,3,"div",168),e.k0s()()}if(2&d){const o=e.sdS(45),y=e.XpG();e.R7$(10),e.Y8G("ngIf",y.app.getPackIconPath(y.app.formGroup.get("playerPack").value)&&!y.app.playerPackImageBroken),e.R7$(2),e.JRh(y.app.formGroup.get("playerPack").value||"Select Pack"),e.R7$(8),e.Y8G("ngIf",y.app.getPackIconPath(y.app.formGroup.get("opponentPack").value)&&!y.app.opponentPackImageBroken),e.R7$(2),e.JRh(y.app.formGroup.get("opponentPack").value||"Select Pack"),e.R7$(10),e.R50("ngModel",y.app.teamName),e.Y8G("ngModelOptions",e.lJ4(25,ll)),e.R7$(4),e.R50("ngModel",y.saveSide),e.Y8G("ngClass","player"===y.saveSide?"side-select-player":"side-select-opponent")("ngModelOptions",e.lJ4(26,ll)),e.R7$(7),e.Y8G("ngIf",y.app.selectedTeamPreviewIcons.length)("ngIfElse",o),e.R7$(4),e.JRh(y.app.selectedTeamName),e.R7$(5),e.R50("ngModel",y.loadSide),e.Y8G("ngClass","player"===y.loadSide?"side-select-player":"side-select-opponent")("ngModelOptions",e.lJ4(27,ll)),e.R7$(9),e.Y8G("disabled",!(null!=y.app&&y.app.formGroup)),e.R7$(58),e.Y8G("ngIf",y.app.rollInputVisible),e.R7$(),e.Y8G("ngIf",y.app.rollInputVisible),e.R7$(45),e.BMQ("aria-expanded",y.app.showRandomOverrides),e.R7$(3),e.Y8G("ngIf",y.app.randomDecisions.length),e.R7$(),e.AVh("expanded",y.app.showRandomOverrides),e.R7$(2),e.Y8G("ngIf",y.app.showRandomOverrides),e.R7$(),e.Y8G("ngIf",!y.app.showRandomOverrides),e.R7$(),e.Y8G("ngIf",y.app.showRandomOverrides)}}const KE={komodoShuffle:!1,changeEquipmentUses:!1,mana:!1,logsEnabled:!0,triggersConsumed:!1,showTriggerNamesInLogs:!1,showPositionalArgsInLogs:!0,turn:11,seed:null,playerGoldSpent:10,opponentGoldSpent:10,playerRollAmount:4,opponentRollAmount:4,playerLevel3Sold:0,opponentLevel3Sold:0,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0},$E={komodoShuffle:!1,changeEquipmentUses:!1,mana:!1,logsEnabled:!0,triggersConsumed:!1,showTriggerNamesInLogs:!1,showPositionalArgsInLogs:!0,turn:1,seed:null,playerGoldSpent:0,opponentGoldSpent:0,playerRollAmount:0,opponentRollAmount:0,playerLevel3Sold:0,opponentLevel3Sold:0,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0};let GE=(()=>{class d{app;soundMenuRoot;optimizeSide="player";saveSide="player";loadSide="player";get isUnifiedAdvancedExpanded(){return!!this.app?.formGroup?.get("showAdvanced")?.value}get activeAdvancedSettingsCount(){return this.app?.formGroup?Object.entries(KE).reduce((o,[y,E])=>{const C=this.app.formGroup.get(y)?.value;return o+(C!==E?1:0)},0):0}get activeAdvancedOverridesCount(){return this.activeAdvancedSettingsCount+this.randomOverrideCount}get unifiedAdvancedSummary(){const o=this.activeAdvancedSettingsCount,y=this.randomOverrideCount,E=`Packs: ${this.getControlDisplayValue("playerPack","None")} vs ${this.getControlDisplayValue("opponentPack","None")}.`;return o||y?o&&y?`${E} ${o} advanced setting${1===o?"":"s"} and ${y} random override${1===y?"":"s"} active.`:o?`${E} ${o} advanced setting${1===o?"":"s"} active.`:`${E} ${y} random override${1===y?"":"s"} captured.`:`${E} No scenario tweaks active.`}get randomOverrideCount(){return this.app?.randomDecisions?.length??0}onDocumentClick(o){if(!this.app?.soundMenuOpen)return;const y=o.target,E=this.soundMenuRoot?.nativeElement;if(!y||!E)return this.app.soundMenuOpen=!1,void this.app.markForCheck();E.contains(y)||(this.app.soundMenuOpen=!1,this.app.markForCheck())}resetScenarioSettings(){this.app?.formGroup&&(this.app.formGroup.patchValue($E),this.app.refreshDebugLogPresentation())}getControlDisplayValue(o,y){const E=this.app?.formGroup?.get(o)?.value;return null==E||""===E?y:String(E)}static \u0275fac=function(y){return new(y||d)};static \u0275cmp=e.VBU({type:d,selectors:[["app-shell-controls"]],viewQuery:function(y,E){if(1&y&&e.GBs(qf,5),2&y){let C;e.mGM(C=e.lsd())&&(E.soundMenuRoot=C.first)}},hostBindings:function(y,E){1&y&&e.bIt("click",function(I){return E.onDocumentClick(I)},e.EBC)},inputs:{app:"app"},decls:67,vars:25,consts:[["resultsPlaceholder",""],["soundMenuRoot",""],["teamPlaceholder",""],[1,"top-controls","card","mb-3",3,"formGroup"],[1,"top-controls-header"],[1,"top-toolbar-zone","top-toolbar-zone-run"],[1,"zone-label"],[1,"simulate-controls"],[1,"simulate-input-group"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-outline-danger",3,"click",4,"ngIf"],["type","number","formControlName","simulations","min","1","max","10000",1,"form-control","simulate-input"],[1,"optimize-control-group"],[1,"btn","btn-outline-primary",3,"click","disabled"],[1,"form-select","form-select-sm",3,"ngModelChange","ngModel","ngClass","ngModelOptions","disabled"],["value","player",1,"player-side-text"],["value","opponent",1,"opponent-side-text"],[1,"randomize-control-group"],[1,"btn","btn-secondary",3,"click"],["class","btn btn-secondary",3,"click",4,"ngIf"],[1,"top-toolbar-zone","top-toolbar-zone-results"],[4,"ngIf","ngIfElse"],[1,"top-toolbar-zone","top-toolbar-zone-actions"],[1,"zone-label","zone-label-right"],[1,"external-buttons"],[1,"sound-menu"],["class","sound-menu-panel",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#info","aria-label","Open guide",1,"btn","btn-secondary",3,"click"],["data-bs-toggle","modal","data-bs-target","#reportABug",1,"btn","btn-secondary",3,"click"],["data-bs-toggle","modal","data-bs-target","#export",1,"btn","btn-secondary",3,"click"],["data-bs-toggle","modal","data-bs-target","#import",1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"external-meta","top-controls-meta-text"],["class","px-3 pb-2",3,"ngClass",4,"ngIf"],["class","px-3 pb-2 text-muted small top-controls-meta-text",4,"ngIf"],["class","simulation-progress px-3 pb-2",4,"ngIf"],[1,"top-controls-body"],[1,"controls-grid"],[1,"controls-section","unified-advanced-section"],[1,"unified-advanced-header"],["type","button","aria-controls","advanced-overrides-panel",1,"btn-link","unified-advanced-toggle-btn",3,"click"],[1,"section-title"],["class","unified-advanced-count",4,"ngIf"],["aria-hidden","true",1,"unified-advanced-chevron"],["class","unified-advanced-summary",4,"ngIf"],["id","advanced-overrides-panel","class","unified-advanced-body",4,"ngIf"],[1,"btn","btn-outline-danger",3,"click"],[1,"results-row"],[1,"stats"],[1,"stat-block","player-stat"],[1,"stat-label","player-side-text"],[1,"stat-value"],[1,"stat-block","draw-stat"],[1,"stat-label"],[1,"stat-block","opponent-stat"],[1,"stat-label","opponent-side-text"],["aria-hidden","true",1,"results-bar","modern-results-bar"],[1,"results-segment","results-segment-player"],[1,"results-segment","results-segment-draw"],[1,"results-segment","results-segment-opponent"],["class","optimization-delta",4,"ngIf"],[1,"optimization-delta"],[1,"optimization-delta-label"],[1,"optimization-delta-value","optimization-delta-value-win"],[1,"optimization-delta-separator"],[1,"optimization-delta-value"],[1,"optimization-delta-value","optimization-delta-value-loss"],[1,"results-placeholder"],["aria-hidden","true",1,"results-bar","modern-results-bar","placeholder-bar"],[1,"sound-menu-panel"],[1,"sound-menu-title"],["type","range","min","0","max","1","step","0.05",1,"form-range","sound-menu-slider",3,"ngModelChange","ngModel","ngModelOptions"],[1,"btn","btn-secondary","btn-sm","sound-menu-mute-btn",3,"click"],[1,"px-3","pb-2",3,"ngClass"],[1,"px-3","pb-2","text-muted","small","top-controls-meta-text"],[1,"simulation-progress","px-3","pb-2"],[1,"progress","flex-1"],["role","progressbar",1,"progress-bar"],[1,"progress-text"],[1,"unified-advanced-count"],[1,"unified-advanced-summary"],["id","advanced-overrides-panel",1,"unified-advanced-body"],[1,"controls-section","nested-section","packs-section"],[1,"section-title","subsection-title"],[1,"form-group","min-w-input"],[1,"player-side-text"],[1,"selection-btn",3,"click"],["class","btn-icon","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc","error",4,"ngIf"],[1,"btn-text"],[1,"fas","fa-chevron-down","ms-auto"],[1,"opponent-side-text"],["title","All pets are included in the pet pool.",1,"form-check"],["type","checkbox","value","","id","allPets","formControlName","allPets",1,"form-check-input"],["for","allPets",1,"form-check-label"],[1,"controls-section","nested-section","teams-section"],[1,"team-column"],["placeholder","Team name",1,"form-control","team-name-input",3,"ngModelChange","ngModel","ngModelOptions"],[1,"team-name-actions"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"form-select","form-select-sm",3,"ngModelChange","ngModel","ngClass","ngModelOptions"],[1,"selection-btn","team-selection-btn",3,"click"],["class","team-preview",4,"ngIf","ngIfElse"],[1,"team-name-actions","load-actions"],[1,"advanced-panel-body"],[1,"d-flex","align-items-center","justify-content-between","flex-wrap","gap-2","mb-2"],[1,"section-title","mb-0"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],[1,"advanced-grid"],["title","Shuffle pets in front of Komodo if present.",1,"form-check"],["type","checkbox","value","","id","komodoShuffle","formControlName","komodoShuffle",1,"form-check-input"],["for","komodoShuffle",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","komodo-icon"],["title","Enable changing equipment uses globally.",1,"form-check"],["type","checkbox","value","","id","changeEquipmentUses","formControlName","changeEquipmentUses",1,"form-check-input"],["for","changeEquipmentUses",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","perk-icon"],["title","Include Mana.",1,"form-check"],["type","checkbox","value","","id","mana","formControlName","mana",1,"form-check-input"],["for","mana",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","mana-icon"],["title","Disable battle logs for faster simulations.",1,"form-check"],["type","checkbox","value","","id","logsEnabled","formControlName","logsEnabled",1,"form-check-input"],["for","logsEnabled",1,"form-check-label"],["title","Include Triggers Consumed.",1,"form-check"],["type","checkbox","value","","id","triggersConsumed","formControlName","triggersConsumed",1,"form-check-input"],["for","triggersConsumed",1,"form-check-label","advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","pheasant-icon"],["title","Show debug details: trigger names and random reason labels.",1,"form-check"],["type","checkbox","value","","id","showTriggerNamesInLogs","formControlName","showTriggerNamesInLogs",1,"form-check-input",3,"change"],["for","showTriggerNamesInLogs",1,"form-check-label"],["title","Show [P#/O#] positional prefixes in logs and animation.",1,"form-check"],["type","checkbox","value","","id","showPositionalArgsInLogs","formControlName","showPositionalArgsInLogs",1,"form-check-input",3,"change"],["for","showPositionalArgsInLogs",1,"form-check-label"],[1,"advanced-number-grid","mt-2"],[1,"form-group","small-w-input"],["for","turn"],["id","turn","type","number","formControlName","turn","max","99",1,"form-control"],[1,"form-group","advanced-input"],["for","seed","title","Simulation Seed"],["id","seed","type","number","formControlName","seed",1,"form-control"],["for","playerGoldSpent","title","Player Gold Spent",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","gold-icon"],["id","playerGoldSpent","type","number","formControlName","playerGoldSpent","max","99",1,"form-control"],["for","opponentGoldSpent","title","Opponent Gold Spent",1,"advanced-label-with-icon"],["id","opponentGoldSpent","type","number","formControlName","opponentGoldSpent","max","99",1,"form-control"],["class","form-group advanced-input",4,"ngIf"],["for","playerLevel3Sold","title","Player Level 3 Sold",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","cycle-icon"],["id","playerLevel3Sold","type","number","formControlName","playerLevel3Sold","max","99",1,"form-control"],["for","opponentLevel3Sold","title","Opponent Level 3 Sold",1,"advanced-label-with-icon"],["id","opponentLevel3Sold","type","number","formControlName","opponentLevel3Sold","max","99",1,"form-control"],["for","playerSummonedAmount","title","Player Summoned Amount",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","summon-icon"],["id","playerSummonedAmount","type","number","formControlName","playerSummonedAmount","max","99",1,"form-control"],["for","opponentSummonedAmount","title","Opponent Summoned Amount",1,"advanced-label-with-icon"],["id","opponentSummonedAmount","type","number","formControlName","opponentSummonedAmount","max","99",1,"form-control"],["for","playerTransformationAmount","title","Player Transformation Amount",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","transform-icon"],["id","playerTransformationAmount","type","number","formControlName","playerTransformationAmount","max","99",1,"form-control"],["for","opponentTransformationAmount","title","Opponent Transformation Amount",1,"advanced-label-with-icon"],["id","opponentTransformationAmount","type","number","formControlName","opponentTransformationAmount","max","99",1,"form-control"],[1,"random-overrides-panel"],[1,"random-overrides-header"],["type","button","aria-controls","random-overrides-panel",1,"btn-link","random-overrides-toggle",3,"click"],["class","random-overrides-count",4,"ngIf"],["aria-hidden","true",1,"random-overrides-chevron"],["class","random-overrides-actions",4,"ngIf"],["class","random-overrides-summary",4,"ngIf"],["id","random-overrides-panel","class","random-overrides-body",4,"ngIf"],["width","24","height","24","loading","lazy","decoding","async",1,"btn-icon",3,"error","ngSrc"],[1,"team-preview"],["width","28","height","28","loading","lazy","decoding","async","class","team-preview-icon",3,"ngSrc","alt",4,"ngFor","ngForOf"],["width","28","height","28","loading","lazy","decoding","async",1,"team-preview-icon",3,"ngSrc","alt"],[1,"btn-placeholder"],["for","playerRollAmount","title","Player Roll Amount",1,"advanced-label-with-icon"],["aria-hidden","true",1,"advanced-icon","roll-icon"],["id","playerRollAmount","type","number","formControlName","playerRollAmount","max","99",1,"form-control"],["for","opponentRollAmount","title","Opponent Roll Amount",1,"advanced-label-with-icon"],["id","opponentRollAmount","type","number","formControlName","opponentRollAmount","max","99",1,"form-control"],[1,"random-overrides-count"],[1,"random-overrides-actions"],["title","Runs one logged battle and captures random decision points.",1,"btn","btn-secondary","btn-sm",3,"click","disabled"],["title","Runs one logged battle while forcing selected random options.",1,"btn","btn-primary","btn-sm",3,"click","disabled"],[1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"],[1,"random-overrides-summary"],["id","random-overrides-panel",1,"random-overrides-body"],["class","random-overrides-empty",4,"ngIf"],["class","random-overrides-error",4,"ngIf"],["class","random-overrides-table-wrap",4,"ngIf"],[1,"random-overrides-empty"],[1,"random-overrides-error"],[1,"random-overrides-table-wrap"],[1,"table","table-sm","random-overrides-table"],["scope","col"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"decision-label"],[1,"decision-key"],[1,"decision-choice-preview"],[1,"form-select","form-select-sm",3,"ngModelChange","ngModel","ngModelOptions"],[3,"ngValue",4,"ngFor","ngForOf","ngForTrackBy"],["class","log-inline-icon","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],[3,"ngClass",4,"ngIf"],[4,"ngIf"],["width","16","height","16","loading","lazy","decoding","async",1,"log-inline-icon",3,"ngSrc","alt"],[3,"ngClass"],[3,"ngValue"]],template:function(y,E){if(1&y){const C=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),e.EFF(4,"Run"),e.k0s(),e.j41(5,"div",7)(6,"div",8)(7,"button",9),e.bIt("click",function(){return v.eBV(C),v.Njj(E.app.simulate(E.app.formGroup.get("simulations").value))}),e.EFF(8),e.k0s(),e.DNE(9,Zf,2,0,"button",10),e.nrm(10,"input",11),e.k0s(),e.j41(11,"div",12)(12,"button",13),e.bIt("click",function(){return v.eBV(C),v.Njj(E.app.optimizePositioning(E.optimizeSide))}),e.EFF(13," Optimize "),e.k0s(),e.j41(14,"select",14),e.mxI("ngModelChange",function(W){return v.eBV(C),e.DH7(E.optimizeSide,W)||(E.optimizeSide=W),v.Njj(W)}),e.j41(15,"option",15),e.EFF(16,"Player"),e.k0s(),e.j41(17,"option",16),e.EFF(18,"Opponent"),e.k0s()()(),e.j41(19,"div",17)(20,"button",18),e.bIt("click",function(){return v.eBV(C),v.Njj(E.app.randomize())}),e.EFF(21," Randomize "),e.k0s(),e.DNE(22,eg,2,0,"button",19),e.k0s()()(),e.j41(23,"div",20)(24,"div",6),e.EFF(25),e.k0s(),e.DNE(26,CE,23,13,"ng-container",21)(27,kE,2,0,"ng-template",null,0,e.C5r),e.k0s(),e.j41(29,"div",22)(30,"div",23),e.EFF(31,"Actions"),e.k0s(),e.j41(32,"div",24)(33,"button",18),e.bIt("click",function(){return v.eBV(C),v.Njj(E.app.toggleTheme())}),e.EFF(34),e.k0s(),e.j41(35,"div",25,1)(37,"button",18),e.bIt("click",function(){return v.eBV(C),v.Njj(E.app.toggleSoundMenu())}),e.EFF(38," Sound "),e.k0s(),e.DNE(39,wE,6,5,"div",26),e.k0s(),e.j41(40,"button",27),e.bIt("click",function(){return v.eBV(C),v.Njj(E.app.showInfo=!0)}),e.EFF(41," Guide "),e.k0s(),e.j41(42,"button",28),e.bIt("click",function(){return v.eBV(C),v.Njj(E.app.showReportABug=!0)}),e.EFF(43," Report A Bug "),e.k0s(),e.j41(44,"button",29),e.bIt("click",function(){return v.eBV(C),v.Njj(E.app.showExport=!0)}),e.EFF(45," Export "),e.k0s(),e.j41(46,"button",30),e.bIt("click",function(){return v.eBV(C),v.Njj(E.app.showImport=!0)}),e.EFF(47," Import "),e.k0s(),e.j41(48,"button",31),e.bIt("click",function(){return v.eBV(C),v.Njj(E.app.generateShareLink())}),e.EFF(49," Generate Link "),e.k0s()(),e.j41(50,"div",32),e.EFF(51," Shortcuts: Alt+S simulate, Alt+R randomize, Alt+P/O optimize, Alt+A controls, Alt+T theme "),e.k0s()()(),e.DNE(52,OE,2,2,"div",33)(53,IE,2,1,"div",34)(54,RE,5,3,"div",35),e.j41(55,"div",36)(56,"div",37)(57,"div",38)(58,"div",39)(59,"button",40),e.bIt("click",function(){return v.eBV(C),v.Njj(E.app.toggleAdvanced())}),e.j41(60,"span",41),e.EFF(61,"Scenario Controls"),e.k0s(),e.DNE(62,tg,2,1,"span",42),e.j41(63,"span",43),e.EFF(64,"\u25be"),e.k0s()()(),e.DNE(65,LE,2,1,"div",44)(66,ng,174,28,"div",45),e.k0s()()()()}if(2&y){const C=e.sdS(28);e.Y8G("formGroup",E.app.formGroup),e.R7$(7),e.Y8G("disabled",E.app.simulationInProgress),e.R7$(),e.SpI(" ",E.app.simulationInProgress?"Simulating...":"Simulate"," "),e.R7$(),e.Y8G("ngIf",E.app.simulationInProgress),e.R7$(3),e.Y8G("disabled",E.app.simulationInProgress),e.R7$(2),e.R50("ngModel",E.optimizeSide),e.Y8G("ngClass","player"===E.optimizeSide?"side-select-player":"side-select-opponent")("ngModelOptions",e.lJ4(24,ll))("disabled",E.app.simulationInProgress),e.R7$(8),e.Y8G("ngIf",E.app.undoState),e.R7$(3),e.JRh(E.app.simulated?"Results":"Simulate to see results"),e.R7$(),e.Y8G("ngIf",E.app.simulated)("ngIfElse",C),e.R7$(8),e.SpI(" ","dark"===E.app.theme?"Light Theme":"Dark Theme"," "),e.R7$(5),e.Y8G("ngIf",E.app.soundMenuOpen),e.R7$(13),e.Y8G("ngIf",E.app.statusMessage),e.R7$(),e.Y8G("ngIf",E.app.autoSaveLabel),e.R7$(),e.Y8G("ngIf",E.app.simulationInProgress),e.R7$(5),e.BMQ("aria-expanded",E.isUnifiedAdvancedExpanded),e.R7$(3),e.Y8G("ngIf",E.activeAdvancedOverridesCount),e.R7$(),e.AVh("expanded",E.isUnifiedAdvancedExpanded),e.R7$(2),e.Y8G("ngIf",!E.isUnifiedAdvancedExpanded),e.R7$(),e.Y8G("ngIf",E.isUnifiedAdvancedExpanded)}},dependencies:[Ht.MD,Ht.YU,Ht.Sq,Ht.bT,ue.YN,ue.xH,ue.y7,ue.me,ue.Q0,ue.MR,ue.Zm,ue.wz,ue.BC,ue.cb,ue.VZ,ue.zX,ue.vS,ue.X1,ue.j4,ue.JD,vi],encapsulation:2})}return d})();const po=["battleSplitContainer"],Nc=["animationSplitContainer"],ag=["logsAnalysisSplitContainer"],sg=["analysisSplitContainer"],HE=(d,h)=>({"player-side-text":d,"opponent-side-text":h}),cl=(d,h,o)=>({"battle-winner-player":d,"battle-winner-opponent":h,"battle-winner-draw":o}),rg=()=>[],Nd=()=>({standalone:!0}),HD=(d,h,o,y,E)=>[d,h,o,y,E],jE=(d,h,o,y)=>({"diff-same":d,"diff-changed":h,"diff-left-only":o,"diff-right-only":y});function VE(d,h){1&d&&(e.j41(0,"div",43),e.EFF(1," Swipe or shift-scroll to view logs -> "),e.k0s())}function zE(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",44)(1,"button",45),e.bIt("click",function(){v.eBV(o);const E=e.XpG(2);return v.Njj(E.setTabletActivePane("battle"))}),e.EFF(2," Battles "),e.k0s(),e.j41(3,"button",45),e.bIt("click",function(){v.eBV(o);const E=e.XpG(2);return v.Njj(E.setTabletActivePane("logs"))}),e.EFF(4," Logs "),e.k0s()()}if(2&d){const o=e.XpG(2);e.R7$(),e.AVh("active","battle"===o.activeTabletPane),e.BMQ("aria-selected","battle"===o.activeTabletPane),e.R7$(2),e.AVh("active","logs"===o.activeTabletPane),e.BMQ("aria-selected","logs"===o.activeTabletPane)}}function Ud(d,h){if(1&d){const o=e.RV6();e.j41(0,"button",46),e.bIt("click",function(){const E=v.eBV(o).$implicit,C=e.XpG(2);return v.Njj(C.app.formGroup.get("logFilter").setValue(E.value))}),e.EFF(1),e.k0s()}if(2&d){const o=h.$implicit,y=e.XpG(2);e.AVh("active",y.app.formGroup.get("logFilter").value===o.value),e.Y8G("ngClass",e.l_i(4,HE,"player"===o.value,"opponent"===o.value)),e.R7$(),e.SpI(" ",o.label," ")}}function YE(d,h){if(1&d&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&d){const o=h.ngIf,y=e.XpG(2);e.R7$(),e.SpI("Viewing #",y.app.battles.indexOf(o))}}function ov(d,h){if(1&d&&e.nrm(0,"img",53),2&d){const o=e.XpG().$implicit;e.Y8G("ngSrc",o.src)("alt",o.alt)}}function Wd(d,h){if(1&d&&(e.j41(0,"span",54),e.EFF(1),e.k0s()),2&d){const o=e.XpG().$implicit;e.Y8G("ngClass",o.className),e.R7$(),e.JRh(o.text)}}function Kd(d,h){1&d&&e.nrm(0,"br")}function XE(d,h){if(1&d&&(e.qex(0),e.DNE(1,ov,1,2,"img",51)(2,Wd,2,2,"span",52)(3,Kd,1,0,"br",25),e.bVm()),2&d){const o=h.$implicit;e.R7$(),e.Y8G("ngIf","img"===o.type),e.R7$(),e.Y8G("ngIf","text"===o.type),e.R7$(),e.Y8G("ngIf","br"===o.type)}}function JE(d,h){if(1&d&&(e.qex(0),e.DNE(1,XE,4,3,"ng-container",50),e.bVm()),2&d){const o=e.XpG().$implicit,y=e.XpG(2);e.R7$(),e.Y8G("ngForOf",y.app.battleRandomEventsByBattle.get(o)||e.lJ4(2,rg))("ngForTrackBy",y.app.trackByIndex)}}function QE(d,h){1&d&&(e.j41(0,"span",55),e.EFF(1,"None"),e.k0s())}function lv(d,h){if(1&d){const o=e.RV6();e.j41(0,"tr",47),e.bIt("click",function(){const E=v.eBV(o).$implicit,C=e.XpG(2);return v.Njj(C.app.setViewBattle(E))}),e.j41(1,"td")(2,"span",48),e.EFF(3),e.k0s()(),e.j41(4,"td",49),e.DNE(5,JE,2,3,"ng-container",39)(6,QE,2,0,"ng-template",null,6,e.C5r),e.k0s()()}if(2&d){const o=h.$implicit,y=e.sdS(7),E=e.XpG(2);e.AVh("selected-battle",o===E.app.viewBattle),e.Y8G("ngClass","player"===o.winner?"battle-win":"opponent"===o.winner?"battle-loss":"battle-draw"),e.R7$(2),e.Y8G("ngClass",e.sMw(7,cl,"player"===o.winner,"opponent"===o.winner,"draw"===o.winner)),e.R7$(),e.SpI(" ",o.winner," "),e.R7$(2),e.Y8G("ngIf",(E.app.battleRandomEventsByBattle.get(o)||e.lJ4(11,rg)).length>0)("ngIfElse",y)}}function cv(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",56),e.bIt("pointerdown",function(E){v.eBV(o);const C=e.XpG(2);return v.Njj(C.onDividerPointerDown(E))})("pointermove",function(E){v.eBV(o);const C=e.XpG(2);return v.Njj(C.onDividerPointerMove(E))})("pointerup",function(E){v.eBV(o);const C=e.XpG(2);return v.Njj(C.onDividerPointerUp(E))})("pointercancel",function(E){v.eBV(o);const C=e.XpG(2);return v.Njj(C.onDividerPointerUp(E))})("keydown",function(E){v.eBV(o);const C=e.XpG(2);return v.Njj(C.onPaneDividerKeyDown(E))}),e.k0s()}}function jD(d,h){if(1&d){const o=e.RV6();e.j41(0,"button",57),e.bIt("click",function(){const E=v.eBV(o).$implicit,C=e.XpG(2);return v.Njj(C.app.setViewBattleLogFilter(E.value))}),e.EFF(1),e.k0s()}if(2&d){const o=h.$implicit,y=e.XpG(2);e.AVh("active",y.app.logEventFilter===o.value),e.R7$(),e.SpI(" ",o.label," ")}}function qE(d,h){if(1&d&&e.nrm(0,"img",77),2&d){const o=e.XpG().ngIf,y=e.XpG(2);e.Y8G("ngSrc",y.app.getToyIconPath(o.frame.opponentToyName))("alt",o.frame.opponentToyName+" toy")}}function Uc(d,h){if(1&d&&e.nrm(0,"img",78),2&d){const o=e.XpG().ngIf,y=e.XpG(2);e.Y8G("ngSrc",y.app.getToyIconPath(o.frame.opponentHardToyName))("alt",o.frame.opponentHardToyName+" hard toy")}}function ZE(d,h){if(1&d&&e.nrm(0,"img",91),2&d){const o=e.XpG().$implicit;e.Y8G("ngSrc",o.slot.petIconSrc)("alt",o.slot.petName||"Opponent pet")}}function uv(d,h){if(1&d&&e.nrm(0,"img",92),2&d){const o=e.XpG().$implicit;e.Y8G("ngSrc",o.slot.petCompanionIconSrc)("alt",o.slot.petCompanionName||"Companion pet")}}function eS(d,h){1&d&&(e.j41(0,"span",93),e.EFF(1,"___"),e.k0s())}function dv(d,h){if(1&d&&e.nrm(0,"img",94),2&d){const o=e.XpG().$implicit;e.Y8G("ngSrc",o.slot.equipmentIconSrc)("alt",o.slot.equipmentName||"Equipment")}}function pv(d,h){if(1&d&&e.nrm(0,"img",97),2&d){const o=e.XpG().ngIf;e.Y8G("ngSrc",o.equipmentIconSrc)("alt",(o.equipmentName||"Equipment")+" removed")}}function tS(d,h){if(1&d&&(e.j41(0,"div",95),e.DNE(1,pv,1,2,"img",96),e.k0s()),2&d){const o=h.ngIf;e.R7$(),e.Y8G("ngIf",o.equipmentIconSrc)}}function hv(d,h){if(1&d&&e.nrm(0,"img",100),2&d){const o=e.XpG().ngIf;e.Y8G("ngSrc",o.equipmentIconSrc)("alt",(o.equipmentName||"Equipment")+" added")}}function iS(d,h){if(1&d&&(e.j41(0,"div",98),e.DNE(1,hv,1,2,"img",99),e.k0s()),2&d){const o=h.ngIf;e.R7$(),e.Y8G("ngIf",o.equipmentIconSrc)}}function $d(d,h){if(1&d&&(e.j41(0,"div",101),e.nrm(1,"img",102),e.k0s()),2&d){const o=e.XpG(4);e.R7$(),e.Y8G("ngSrc",o.app.fightSnipeIconSrc)}}function og(d,h){if(1&d&&e.nrm(0,"img",106),2&d){const o=e.XpG().$implicit,y=e.XpG(4);e.Y8G("ngSrc","attack"===o.type?y.app.fightAttackIconSrc:"health"===o.type?y.app.fightHealthIconSrc:"exp"===o.type?y.app.fightExpIconSrc:"mana"===o.type?y.app.fightManaIconSrc:y.app.fightTrumpetIconSrc)}}function nS(d,h){if(1&d&&(e.qex(0),e.j41(1,"span",103),e.DNE(2,og,1,1,"img",104),e.j41(3,"span",105),e.EFF(4),e.k0s()(),e.bVm()),2&d){const o=h.$implicit,y=h.index;e.R7$(),e.xc7("--fight-popup-index",y),e.AVh("fight-value-popup-damage","damage"===o.type)("fight-value-popup-trumpets","trumpets"===o.type)("fight-value-popup-buff","damage"!==o.type&&o.delta>0)("fight-value-popup-debuff","damage"!==o.type&&o.delta<0),e.R7$(),e.Y8G("ngIf","attack"===o.type||"health"===o.type||"exp"===o.type||"mana"===o.type||"trumpets"===o.type),e.R7$(2),e.JRh((o.delta>0?"+":"-")+(o.delta>0?o.delta:-o.delta))}}function aS(d,h){if(1&d&&e.nrm(0,"img",110),2&d){const o=e.XpG().ngIf;e.Y8G("ngSrc",o.petIconSrc)("alt",o.petName||"Fainted pet")}}function sS(d,h){if(1&d&&e.nrm(0,"img",111),2&d){const o=e.XpG().ngIf;e.Y8G("ngSrc",o.petCompanionIconSrc)("alt",o.petCompanionName||"Fainted companion")}}function lg(d,h){if(1&d&&(e.j41(0,"div",107),e.DNE(1,aS,1,2,"img",108)(2,sS,1,2,"img",109),e.k0s()),2&d){const o=h.ngIf;e.R7$(),e.Y8G("ngIf",o.petIconSrc),e.R7$(),e.Y8G("ngIf",o.petCompanionIconSrc)}}function ul(d,h){if(1&d&&(e.j41(0,"span",115),e.nrm(1,"img",116),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&d){const o=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightAttackIconSrc),e.R7$(2),e.JRh(o.slot.attack)}}function Gd(d,h){if(1&d&&(e.j41(0,"span",115),e.nrm(1,"img",116),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&d){const o=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightHealthIconSrc),e.R7$(2),e.JRh(o.slot.health)}}function gv(d,h){if(1&d&&(e.j41(0,"span",115),e.nrm(1,"img",116),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&d){const o=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightManaIconSrc),e.R7$(2),e.JRh(o.slot.mana)}}function Wc(d,h){if(1&d&&(e.j41(0,"span",117),e.nrm(1,"img",116),e.j41(2,"span",118)(3,"span",119)(4,"span",120),e.EFF(5,"L1"),e.k0s(),e.nrm(6,"span"),e.j41(7,"span",120),e.EFF(8,"L2"),e.k0s(),e.nrm(9,"span"),e.j41(10,"span",120),e.EFF(11,"L3"),e.k0s()(),e.j41(12,"span",121),e.nrm(13,"span",122)(14,"span",122)(15,"span",122)(16,"span",122)(17,"span",122),e.k0s()()()),2&d){const o=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightExpIconSrc),e.R7$(11),e.BMQ("aria-label","XP: "+o.slot.exp+" out of 5"),e.R7$(),e.AVh("selected",(o.slot.exp??0)>=1),e.R7$(),e.AVh("selected",(o.slot.exp??0)>=2),e.R7$(),e.AVh("selected",(o.slot.exp??0)>=3),e.R7$(),e.AVh("selected",(o.slot.exp??0)>=4),e.R7$(),e.AVh("selected",(o.slot.exp??0)>=5)}}function rS(d,h){if(1&d&&(e.j41(0,"div",112),e.DNE(1,ul,4,2,"span",113)(2,Gd,4,2,"span",113)(3,gv,4,2,"span",113)(4,Wc,18,12,"span",114),e.k0s()),2&d){const o=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",null!=o.slot.attack),e.R7$(),e.Y8G("ngIf",null!=o.slot.health),e.R7$(),e.Y8G("ngIf",null!=o.slot.mana),e.R7$(),e.Y8G("ngIf",null!=o.slot.exp)}}function oS(d,h){if(1&d&&(e.j41(0,"div",79)(1,"div",80),e.EFF(2),e.k0s(),e.j41(3,"div",81),e.DNE(4,ZE,1,2,"img",82)(5,uv,1,2,"img",83)(6,eS,2,0,"span",84)(7,dv,1,2,"img",85)(8,tS,2,1,"div",86)(9,iS,2,1,"div",87)(10,$d,2,1,"div",88)(11,nS,5,12,"ng-container",50)(12,lg,3,2,"div",89),e.k0s(),e.DNE(13,rS,5,4,"div",90),e.k0s()),2&d){const o=h.$implicit,y=e.XpG(3);e.xc7("--fight-shift-steps",o.shiftSteps),e.Y8G("ngClass",o.classMap),e.R7$(2),e.JRh(o.slot.label||"O"+(o.slot.slot+1)),e.R7$(2),e.Y8G("ngIf",o.slot.petIconSrc),e.R7$(),e.Y8G("ngIf",o.slot.petCompanionIconSrc),e.R7$(),e.Y8G("ngIf",!o.slot.petIconSrc),e.R7$(),e.Y8G("ngIf",o.slot.equipmentIconSrc),e.R7$(),e.Y8G("ngIf",o.removedEquipment),e.R7$(),e.Y8G("ngIf",o.addedEquipment),e.R7$(),e.Y8G("ngIf",o.showSnipeImpact),e.R7$(),e.Y8G("ngForOf",o.popups)("ngForTrackBy",y.app.trackByIndex),e.R7$(),e.Y8G("ngIf",o.death),e.R7$(),e.Y8G("ngIf",null!=o.slot.attack||null!=o.slot.health||null!=o.slot.exp||null!=o.slot.mana)}}function lS(d,h){if(1&d&&e.nrm(0,"img",124),2&d){const o=e.XpG().$implicit;e.Y8G("ngSrc",o.src)("alt",o.alt)}}function Sr(d,h){if(1&d&&(e.j41(0,"span",54),e.EFF(1),e.k0s()),2&d){const o=e.XpG().$implicit;e.Y8G("ngClass",o.className),e.R7$(),e.JRh(o.text)}}function Kc(d,h){1&d&&e.nrm(0,"br")}function cg(d,h){if(1&d&&(e.qex(0),e.DNE(1,lS,1,2,"img",123)(2,Sr,2,2,"span",52)(3,Kc,1,0,"br",25),e.bVm()),2&d){const o=h.$implicit;e.R7$(),e.Y8G("ngIf","img"===o.type),e.R7$(),e.Y8G("ngIf","text"===o.type),e.R7$(),e.Y8G("ngIf","br"===o.type)}}function dl(d,h){if(1&d&&(e.qex(0),e.j41(1,"span",54),e.DNE(2,cg,4,3,"ng-container",50),e.k0s(),e.bVm()),2&d){const o=h.ngIf,y=e.XpG(3);e.R7$(),e.Y8G("ngClass",o.classes),e.R7$(),e.Y8G("ngForOf",o.parts)("ngForTrackBy",y.app.trackByIndex)}}function Hd(d,h){if(1&d&&e.EFF(0),2&d){const o=e.XpG().ngIf;e.SpI(" ",o.frame.text," ")}}function pl(d,h){if(1&d&&e.nrm(0,"img",77),2&d){const o=e.XpG().ngIf,y=e.XpG(2);e.Y8G("ngSrc",y.app.getToyIconPath(o.frame.playerToyName))("alt",o.frame.playerToyName+" toy")}}function cS(d,h){if(1&d&&e.nrm(0,"img",78),2&d){const o=e.XpG().ngIf,y=e.XpG(2);e.Y8G("ngSrc",y.app.getToyIconPath(o.frame.playerHardToyName))("alt",o.frame.playerHardToyName+" hard toy")}}function mv(d,h){if(1&d&&e.nrm(0,"img",91),2&d){const o=e.XpG().$implicit;e.Y8G("ngSrc",o.slot.petIconSrc)("alt",o.slot.petName||"Player pet")}}function uS(d,h){if(1&d&&e.nrm(0,"img",92),2&d){const o=e.XpG().$implicit;e.Y8G("ngSrc",o.slot.petCompanionIconSrc)("alt",o.slot.petCompanionName||"Companion pet")}}function dS(d,h){1&d&&(e.j41(0,"span",93),e.EFF(1,"___"),e.k0s())}function pS(d,h){if(1&d&&e.nrm(0,"img",94),2&d){const o=e.XpG().$implicit;e.Y8G("ngSrc",o.slot.equipmentIconSrc)("alt",o.slot.equipmentName||"Equipment")}}function hS(d,h){if(1&d&&e.nrm(0,"img",97),2&d){const o=e.XpG().ngIf;e.Y8G("ngSrc",o.equipmentIconSrc)("alt",(o.equipmentName||"Equipment")+" removed")}}function _v(d,h){if(1&d&&(e.j41(0,"div",95),e.DNE(1,hS,1,2,"img",96),e.k0s()),2&d){const o=h.ngIf;e.R7$(),e.Y8G("ngIf",o.equipmentIconSrc)}}function fv(d,h){if(1&d&&e.nrm(0,"img",100),2&d){const o=e.XpG().ngIf;e.Y8G("ngSrc",o.equipmentIconSrc)("alt",(o.equipmentName||"Equipment")+" added")}}function vv(d,h){if(1&d&&(e.j41(0,"div",98),e.DNE(1,fv,1,2,"img",99),e.k0s()),2&d){const o=h.ngIf;e.R7$(),e.Y8G("ngIf",o.equipmentIconSrc)}}function yv(d,h){if(1&d&&(e.j41(0,"div",101),e.nrm(1,"img",102),e.k0s()),2&d){const o=e.XpG(4);e.R7$(),e.Y8G("ngSrc",o.app.fightSnipeIconSrc)}}function gS(d,h){if(1&d&&e.nrm(0,"img",106),2&d){const o=e.XpG().$implicit,y=e.XpG(4);e.Y8G("ngSrc","attack"===o.type?y.app.fightAttackIconSrc:"health"===o.type?y.app.fightHealthIconSrc:"exp"===o.type?y.app.fightExpIconSrc:"mana"===o.type?y.app.fightManaIconSrc:y.app.fightTrumpetIconSrc)}}function mS(d,h){if(1&d&&(e.qex(0),e.j41(1,"span",103),e.DNE(2,gS,1,1,"img",104),e.j41(3,"span",105),e.EFF(4),e.k0s()(),e.bVm()),2&d){const o=h.$implicit,y=h.index;e.R7$(),e.xc7("--fight-popup-index",y),e.AVh("fight-value-popup-damage","damage"===o.type)("fight-value-popup-trumpets","trumpets"===o.type)("fight-value-popup-buff","damage"!==o.type&&o.delta>0)("fight-value-popup-debuff","damage"!==o.type&&o.delta<0),e.R7$(),e.Y8G("ngIf","attack"===o.type||"health"===o.type||"exp"===o.type||"mana"===o.type||"trumpets"===o.type),e.R7$(2),e.JRh((o.delta>0?"+":"-")+(o.delta>0?o.delta:-o.delta))}}function _S(d,h){if(1&d&&e.nrm(0,"img",110),2&d){const o=e.XpG().ngIf;e.Y8G("ngSrc",o.petIconSrc)("alt",o.petName||"Fainted pet")}}function fS(d,h){if(1&d&&e.nrm(0,"img",111),2&d){const o=e.XpG().ngIf;e.Y8G("ngSrc",o.petCompanionIconSrc)("alt",o.petCompanionName||"Fainted companion")}}function vS(d,h){if(1&d&&(e.j41(0,"div",107),e.DNE(1,_S,1,2,"img",108)(2,fS,1,2,"img",109),e.k0s()),2&d){const o=h.ngIf;e.R7$(),e.Y8G("ngIf",o.petIconSrc),e.R7$(),e.Y8G("ngIf",o.petCompanionIconSrc)}}function VD(d,h){if(1&d&&(e.j41(0,"span",115),e.nrm(1,"img",116),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&d){const o=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightAttackIconSrc),e.R7$(2),e.JRh(o.slot.attack)}}function ug(d,h){if(1&d&&(e.j41(0,"span",115),e.nrm(1,"img",116),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&d){const o=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightHealthIconSrc),e.R7$(2),e.JRh(o.slot.health)}}function dg(d,h){if(1&d&&(e.j41(0,"span",115),e.nrm(1,"img",116),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&d){const o=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightManaIconSrc),e.R7$(2),e.JRh(o.slot.mana)}}function bv(d,h){if(1&d&&(e.j41(0,"span",117),e.nrm(1,"img",116),e.j41(2,"span",118)(3,"span",119)(4,"span",120),e.EFF(5,"L1"),e.k0s(),e.nrm(6,"span"),e.j41(7,"span",120),e.EFF(8,"L2"),e.k0s(),e.nrm(9,"span"),e.j41(10,"span",120),e.EFF(11,"L3"),e.k0s()(),e.j41(12,"span",121),e.nrm(13,"span",122)(14,"span",122)(15,"span",122)(16,"span",122)(17,"span",122),e.k0s()()()),2&d){const o=e.XpG(2).$implicit,y=e.XpG(3);e.R7$(),e.Y8G("ngSrc",y.app.fightExpIconSrc),e.R7$(11),e.BMQ("aria-label","XP: "+o.slot.exp+" out of 5"),e.R7$(),e.AVh("selected",(o.slot.exp??0)>=1),e.R7$(),e.AVh("selected",(o.slot.exp??0)>=2),e.R7$(),e.AVh("selected",(o.slot.exp??0)>=3),e.R7$(),e.AVh("selected",(o.slot.exp??0)>=4),e.R7$(),e.AVh("selected",(o.slot.exp??0)>=5)}}function pg(d,h){if(1&d&&(e.j41(0,"div",112),e.DNE(1,VD,4,2,"span",113)(2,ug,4,2,"span",113)(3,dg,4,2,"span",113)(4,bv,18,12,"span",114),e.k0s()),2&d){const o=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",null!=o.slot.attack),e.R7$(),e.Y8G("ngIf",null!=o.slot.health),e.R7$(),e.Y8G("ngIf",null!=o.slot.mana),e.R7$(),e.Y8G("ngIf",null!=o.slot.exp)}}function yS(d,h){if(1&d&&(e.j41(0,"div",79)(1,"div",80),e.EFF(2),e.k0s(),e.j41(3,"div",81),e.DNE(4,mv,1,2,"img",82)(5,uS,1,2,"img",83)(6,dS,2,0,"span",84)(7,pS,1,2,"img",85)(8,_v,2,1,"div",86)(9,vv,2,1,"div",87)(10,yv,2,1,"div",88)(11,mS,5,12,"ng-container",50)(12,vS,3,2,"div",89),e.k0s(),e.DNE(13,pg,5,4,"div",90),e.k0s()),2&d){const o=h.$implicit,y=e.XpG(3);e.xc7("--fight-shift-steps",o.shiftSteps),e.Y8G("ngClass",o.classMap),e.R7$(2),e.JRh(o.slot.label||"P"+(o.slot.slot+1)),e.R7$(2),e.Y8G("ngIf",o.slot.petIconSrc),e.R7$(),e.Y8G("ngIf",o.slot.petCompanionIconSrc),e.R7$(),e.Y8G("ngIf",!o.slot.petIconSrc),e.R7$(),e.Y8G("ngIf",o.slot.equipmentIconSrc),e.R7$(),e.Y8G("ngIf",o.removedEquipment),e.R7$(),e.Y8G("ngIf",o.addedEquipment),e.R7$(),e.Y8G("ngIf",o.showSnipeImpact),e.R7$(),e.Y8G("ngForOf",o.popups)("ngForTrackBy",y.app.trackByIndex),e.R7$(),e.Y8G("ngIf",o.death),e.R7$(),e.Y8G("ngIf",null!=o.slot.attack||null!=o.slot.health||null!=o.slot.exp||null!=o.slot.mana)}}function bS(d,h){if(1&d){const o=e.RV6();e.j41(0,"button",125),e.bIt("click",function(){const E=v.eBV(o).$implicit,C=e.XpG(3);return v.Njj(C.app.setFightAnimationSpeed(E))}),e.EFF(1),e.k0s()}if(2&d){const o=h.$implicit,y=e.XpG(3);e.AVh("active",y.app.fightAnimationSpeed===o),e.R7$(),e.SpI(" ",o,"x ")}}function Pv(d,h){if(1&d){const o=e.RV6();e.qex(0),e.j41(1,"div",58)(2,"div",59)(3,"div",60),e.DNE(4,qE,1,2,"img",61)(5,Uc,1,2,"img",62),e.k0s(),e.DNE(6,oS,14,15,"div",63),e.k0s(),e.j41(7,"div",64)(8,"div",65),e.EFF(9),e.k0s(),e.j41(10,"div",66),e.DNE(11,dl,3,3,"ng-container",39)(12,Hd,1,1,"ng-template",null,7,e.C5r),e.k0s(),e.j41(14,"div",67),e.EFF(15),e.k0s()(),e.j41(16,"div",68)(17,"div",60),e.DNE(18,pl,1,2,"img",61)(19,cS,1,2,"img",62),e.k0s(),e.DNE(20,yS,14,15,"div",63),e.k0s()(),e.j41(21,"div",69)(22,"div",70)(23,"button",71),e.bIt("click",function(){v.eBV(o);const E=e.XpG(2);return v.Njj(E.app.resetFightAnimation())}),e.EFF(24," Reset "),e.k0s(),e.j41(25,"button",71),e.bIt("click",function(){v.eBV(o);const E=e.XpG(2);return v.Njj(E.app.stepFightAnimation(-1))}),e.EFF(26," Prev "),e.k0s(),e.j41(27,"button",72),e.bIt("click",function(){v.eBV(o);const E=e.XpG(2);return v.Njj(E.app.toggleFightAnimationPlayback())}),e.EFF(28),e.k0s(),e.j41(29,"button",71),e.bIt("click",function(){v.eBV(o);const E=e.XpG(2);return v.Njj(E.app.stepFightAnimation(1))}),e.EFF(30," Next "),e.k0s()(),e.j41(31,"div",73),e.DNE(32,bS,2,3,"button",74),e.k0s()(),e.j41(33,"div",75)(34,"input",76),e.bIt("input",function(E){v.eBV(o);const C=e.XpG(2);return v.Njj(C.app.onFightAnimationScrub(E.target.value))}),e.k0s()(),e.bVm()}if(2&d){const o=h.ngIf,y=e.sdS(13),E=e.XpG(2);e.R7$(),e.AVh("fight-phase-a","a"===o.phase)("fight-phase-b","b"===o.phase),e.R7$(3),e.Y8G("ngIf",o.frame.opponentToyName),e.R7$(),e.Y8G("ngIf",o.frame.opponentHardToyName),e.R7$(),e.Y8G("ngForOf",o.opponentSlots)("ngForTrackBy",E.app.trackByIndex),e.R7$(),e.AVh("fight-event-random",o.frame.randomEvent),e.R7$(2),e.JRh(o.frame.type),e.R7$(2),e.Y8G("ngIf",E.app.currentFightAnimationLogRow)("ngIfElse",y),e.R7$(4),e.Lme(" Step ",E.app.fightAnimationFrameIndex+1," / ",E.app.fightAnimationFrames.length," "),e.R7$(3),e.Y8G("ngIf",o.frame.playerToyName),e.R7$(),e.Y8G("ngIf",o.frame.playerHardToyName),e.R7$(),e.Y8G("ngForOf",o.playerSlots)("ngForTrackBy",E.app.trackByIndex),e.R7$(3),e.Y8G("disabled",0===E.app.fightAnimationFrames.length),e.R7$(2),e.Y8G("disabled",E.app.fightAnimationFrameIndex<=0),e.R7$(2),e.Y8G("disabled",0===E.app.fightAnimationFrames.length),e.R7$(),e.SpI(" ",E.app.fightAnimationPlaying?"Pause":"Play"," "),e.R7$(),e.Y8G("disabled",E.app.fightAnimationFrameIndex>=E.app.fightAnimationFrames.length-1),e.R7$(3),e.Y8G("ngForOf",E.app.fightAnimationSpeedOptions)("ngForTrackBy",E.app.trackByIndex),e.R7$(2),e.Y8G("min",0)("max",E.app.fightAnimationFrames.length-1)("value",E.app.fightAnimationFrameIndex)}}function PS(d,h){1&d&&e.eu8(0)}function Ps(d,h){1&d&&(e.j41(0,"div",126),e.EFF(1," No animation frames found for this battle. Enable logs and run at least one simulation. "),e.k0s())}function $c(d,h){1&d&&e.eu8(0)}function Bi(d,h){if(1&d&&(e.j41(0,"tr",54)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s()()),2&d){const o=h.$implicit;e.Y8G("ngClass",e.s1E(6,HD,"player"===o.side?"timeline-player":"","opponent"===o.side?"timeline-opponent":"","true random"===o.reason?"timeline-random":"","tie-broken"===o.reason?"timeline-tie":"","deterministic"===o.reason?"timeline-deterministic":"")),e.R7$(2),e.JRh(o.step),e.R7$(2),e.JRh(o.source),e.R7$(2),e.JRh(o.target),e.R7$(2),e.JRh(o.reason),e.R7$(2),e.JRh(o.text)}}function ho(d,h){if(1&d&&(e.j41(0,"option",144),e.EFF(1),e.k0s()),2&d){const o=h.$implicit,y=h.index;e.Y8G("ngValue",y),e.R7$(),e.Lme(" ",y," (",o.winner,") ")}}function jd(d,h){if(1&d&&(e.j41(0,"option",144),e.EFF(1),e.k0s()),2&d){const o=h.$implicit,y=h.index;e.Y8G("ngValue",y),e.R7$(),e.Lme(" ",y," (",o.winner,") ")}}function Ka(d,h){if(1&d&&(e.j41(0,"tr",54)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s()()),2&d){const o=h.$implicit;e.Y8G("ngClass",e.ziG(4,jE,"same"===o.kind,"changed"===o.kind,"left-only"===o.kind,"right-only"===o.kind)),e.R7$(2),e.JRh(o.step),e.R7$(2),e.JRh(o.left),e.R7$(2),e.JRh(o.right)}}function Av(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",128,9)(2,"div",129),e.DNE(3,$c,1,0,"ng-container",42),e.k0s(),e.j41(4,"div",130),e.bIt("pointerdown",function(E){v.eBV(o);const C=e.XpG(3);return v.Njj(C.onLogsAnalysisDividerPointerDown(E))})("pointermove",function(E){v.eBV(o);const C=e.XpG(3);return v.Njj(C.onLogsAnalysisDividerPointerMove(E))})("pointerup",function(E){v.eBV(o);const C=e.XpG(3);return v.Njj(C.onLogsAnalysisDividerPointerUp(E))})("pointercancel",function(E){v.eBV(o);const C=e.XpG(3);return v.Njj(C.onLogsAnalysisDividerPointerUp(E))})("keydown",function(E){v.eBV(o);const C=e.XpG(3);return v.Njj(C.onLogsAnalysisDividerKeyDown(E))}),e.k0s(),e.j41(5,"div",131)(6,"div",132,10)(8,"div",133)(9,"h4",134),e.EFF(10,"Trigger Timeline"),e.k0s(),e.j41(11,"div",135)(12,"table",136)(13,"thead")(14,"tr")(15,"th"),e.EFF(16,"#"),e.k0s(),e.j41(17,"th"),e.EFF(18,"Source"),e.k0s(),e.j41(19,"th"),e.EFF(20,"Target"),e.k0s(),e.j41(21,"th"),e.EFF(22,"Reason"),e.k0s(),e.j41(23,"th"),e.EFF(24,"Event"),e.k0s()()(),e.j41(25,"tbody"),e.DNE(26,Bi,11,12,"tr",137),e.k0s()()()(),e.j41(27,"div",138),e.bIt("pointerdown",function(E){v.eBV(o);const C=e.XpG(3);return v.Njj(C.onAnalysisDividerPointerDown(E))})("pointermove",function(E){v.eBV(o);const C=e.XpG(3);return v.Njj(C.onAnalysisDividerPointerMove(E))})("pointerup",function(E){v.eBV(o);const C=e.XpG(3);return v.Njj(C.onAnalysisDividerPointerUp(E))})("pointercancel",function(E){v.eBV(o);const C=e.XpG(3);return v.Njj(C.onAnalysisDividerPointerUp(E))})("keydown",function(E){v.eBV(o);const C=e.XpG(3);return v.Njj(C.onAnalysisDividerKeyDown(E))}),e.k0s(),e.j41(28,"div",139)(29,"h4",134),e.EFF(30,"Battle Diff"),e.k0s(),e.j41(31,"div",140)(32,"label",141),e.EFF(33," Left "),e.j41(34,"select",142),e.bIt("ngModelChange",function(E){v.eBV(o);const C=e.XpG(3);return v.Njj(C.app.setBattleDiffLeft(E))}),e.DNE(35,ho,2,3,"option",143),e.k0s()(),e.j41(36,"label",141),e.EFF(37," Left Scope "),e.j41(38,"select",142),e.bIt("ngModelChange",function(E){v.eBV(o);const C=e.XpG(3);return v.Njj(C.app.setBattleDiffLeftScope(E))}),e.j41(39,"option",144),e.EFF(40,"All"),e.k0s(),e.j41(41,"option",145),e.EFF(42,"Player"),e.k0s(),e.j41(43,"option",146),e.EFF(44,"Opponent"),e.k0s()()(),e.j41(45,"label",141),e.EFF(46," Right "),e.j41(47,"select",142),e.bIt("ngModelChange",function(E){v.eBV(o);const C=e.XpG(3);return v.Njj(C.app.setBattleDiffRight(E))}),e.DNE(48,jd,2,3,"option",143),e.k0s()(),e.j41(49,"label",141),e.EFF(50," Right Scope "),e.j41(51,"select",142),e.bIt("ngModelChange",function(E){v.eBV(o);const C=e.XpG(3);return v.Njj(C.app.setBattleDiffRightScope(E))}),e.j41(52,"option",144),e.EFF(53,"All"),e.k0s(),e.j41(54,"option",145),e.EFF(55,"Player"),e.k0s(),e.j41(56,"option",146),e.EFF(57,"Opponent"),e.k0s()()()(),e.j41(58,"div",147),e.EFF(59),e.k0s(),e.j41(60,"div",135)(61,"table",136)(62,"thead")(63,"tr")(64,"th"),e.EFF(65,"#"),e.k0s(),e.j41(66,"th"),e.EFF(67,"Left"),e.k0s(),e.j41(68,"th"),e.EFF(69,"Right"),e.k0s()()(),e.j41(70,"tbody"),e.DNE(71,Ka,7,9,"tr",137),e.k0s()()()()()()()}if(2&d){e.XpG(2);const o=e.sdS(53),y=e.XpG();e.R7$(2),e.xc7("flex-basis",y.logsTopHeightPx,"px")("max-height",y.logsTopHeightPx,"px")("height",y.logsTopHeightPx,"px"),e.AVh("log-container-with-analysis",y.app.showBattleAnalysis),e.R7$(),e.Y8G("ngTemplateOutlet",o),e.R7$(5),e.xc7("flex-basis",y.timelineTopHeightPx,"px")("max-height",y.timelineTopHeightPx,"px")("height",y.timelineTopHeightPx,"px"),e.R7$(18),e.Y8G("ngForOf",y.app.viewBattleTimelineRows)("ngForTrackBy",y.app.trackByIndex),e.R7$(8),e.Y8G("ngModel",y.app.diffBattleLeftIndex)("ngModelOptions",e.lJ4(41,Nd)),e.R7$(),e.Y8G("ngForOf",y.app.battles)("ngForTrackBy",y.app.trackByIndex),e.R7$(3),e.Y8G("ngModel",y.app.diffBattleLeftScope)("ngModelOptions",e.lJ4(42,Nd)),e.R7$(),e.Y8G("ngValue","all"),e.R7$(2),e.Y8G("ngValue","player"),e.R7$(2),e.Y8G("ngValue","opponent"),e.R7$(4),e.Y8G("ngModel",y.app.diffBattleRightIndex)("ngModelOptions",e.lJ4(43,Nd)),e.R7$(),e.Y8G("ngForOf",y.app.battles)("ngForTrackBy",y.app.trackByIndex),e.R7$(3),e.Y8G("ngModel",y.app.diffBattleRightScope)("ngModelOptions",e.lJ4(44,Nd)),e.R7$(),e.Y8G("ngValue","all"),e.R7$(2),e.Y8G("ngValue","player"),e.R7$(2),e.Y8G("ngValue","opponent"),e.R7$(3),e.LHq(" Equal: ",y.app.battleDiffSummary.equalSteps," | Changed: ",y.app.battleDiffSummary.changedSteps," | Left Only: ",y.app.battleDiffSummary.leftOnly," | Right Only: ",y.app.battleDiffSummary.rightOnly," "),e.R7$(12),e.Y8G("ngForOf",y.app.battleDiffRows)("ngForTrackBy",y.app.trackByIndex)}}function Hs(d,h){1&d&&e.eu8(0)}function Ev(d,h){if(1&d&&(e.j41(0,"div",148),e.DNE(1,Hs,1,0,"ng-container",42),e.k0s()),2&d){e.XpG(2);const o=e.sdS(53);e.R7$(),e.Y8G("ngTemplateOutlet",o)}}function Vd(d,h){if(1&d&&e.DNE(0,Av,72,45,"div",127)(1,Ev,2,1,"ng-template",null,8,e.C5r),2&d){const o=e.sdS(2),y=e.XpG(2);e.Y8G("ngIf",y.app.showBattleAnalysis)("ngIfElse",o)}}function AS(d,h){if(1&d&&(e.j41(0,"span",165),e.EFF(1),e.k0s()),2&d){const o=h.$implicit;e.Y8G("ngClass",o.className),e.R7$(),e.SpI(" ",o.text," ")}}function ES(d,h){if(1&d&&e.nrm(0,"img",124),2&d){const o=e.XpG().$implicit;e.Y8G("ngSrc",o.src)("alt",o.alt)}}function Sv(d,h){if(1&d&&(e.j41(0,"span",54),e.EFF(1),e.k0s()),2&d){const o=e.XpG().$implicit;e.Y8G("ngClass",o.className),e.R7$(),e.JRh(o.text)}}function SS(d,h){1&d&&e.nrm(0,"br")}function TS(d,h){if(1&d&&(e.qex(0),e.DNE(1,ES,1,2,"img",123)(2,Sv,2,2,"span",52)(3,SS,1,0,"br",25),e.bVm()),2&d){const o=h.$implicit;e.R7$(),e.Y8G("ngIf","img"===o.type),e.R7$(),e.Y8G("ngIf","text"===o.type),e.R7$(),e.Y8G("ngIf","br"===o.type)}}function hl(d,h){if(1&d&&(e.j41(0,"div",161)(1,"div",162),e.DNE(2,AS,2,2,"span",163),e.k0s(),e.j41(3,"div",164),e.DNE(4,TS,4,3,"ng-container",50),e.k0s()()),2&d){const o=h.$implicit,y=e.XpG(6);e.Y8G("ngClass",o.classes),e.R7$(2),e.Y8G("ngForOf",o.badges)("ngForTrackBy",y.app.trackByIndex),e.R7$(2),e.Y8G("ngForOf",o.parts)("ngForTrackBy",y.app.trackByIndex)}}function zD(d,h){if(1&d&&(e.j41(0,"div",159),e.DNE(1,hl,5,5,"div",160),e.k0s()),2&d){const o=e.XpG().$implicit,y=e.XpG(4);e.R7$(),e.Y8G("ngForOf",o.rows)("ngForTrackBy",y.app.trackByIndex)}}function js(d,h){if(1&d){const o=e.RV6();e.j41(0,"section",152)(1,"button",153),e.bIt("click",function(){const E=v.eBV(o).$implicit,C=e.XpG(4);return v.Njj(C.app.toggleViewBattleLogGroup(E.id))}),e.j41(2,"span",154),e.EFF(3),e.k0s(),e.j41(4,"span",155)(5,"span",156),e.EFF(6),e.k0s(),e.j41(7,"span",157),e.EFF(8," \u25be "),e.k0s()()(),e.DNE(9,zD,2,2,"div",158),e.k0s()}if(2&d){const o=h.$implicit;e.R7$(),e.BMQ("aria-expanded",!o.collapsed),e.R7$(2),e.JRh(o.title),e.R7$(3),e.SpI("",o.rows.length," rows"),e.R7$(),e.AVh("log-group-chevron-collapsed",o.collapsed),e.R7$(2),e.Y8G("ngIf",!o.collapsed)}}function DS(d,h){if(1&d&&(e.j41(0,"div",150),e.DNE(1,js,10,6,"section",151),e.k0s()),2&d){const o=e.XpG(3);e.R7$(),e.Y8G("ngForOf",o.app.viewBattleLogGroups)("ngForTrackBy",o.app.trackByIndex)}}function MS(d,h){if(1&d&&e.DNE(0,DS,2,2,"div",149),2&d){e.XpG();const o=e.sdS(55),y=e.XpG();e.Y8G("ngIf",y.app.viewBattleLogGroups.length)("ngIfElse",o)}}function CS(d,h){1&d&&(e.j41(0,"div",166),e.EFF(1," No log rows match this filter. "),e.k0s())}function Tv(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",12),e.DNE(1,VE,2,0,"div",13)(2,zE,5,6,"div",14),e.j41(3,"div",15,0)(5,"div",16)(6,"div",17)(7,"h3",18),e.EFF(8,"Battles"),e.k0s(),e.j41(9,"label",19),e.EFF(10,"Filter battles by winner"),e.k0s(),e.j41(11,"div",20),e.DNE(12,Ud,2,7,"button",21),e.k0s()(),e.j41(13,"div",22)(14,"div",23)(15,"div",24)(16,"span"),e.EFF(17),e.k0s(),e.DNE(18,YE,2,1,"span",25),e.k0s(),e.j41(19,"table",26)(20,"thead")(21,"tr")(22,"th"),e.EFF(23,"Winner"),e.k0s(),e.j41(24,"th"),e.EFF(25,"Random Events"),e.k0s()()(),e.j41(26,"tbody"),e.DNE(27,lv,8,12,"tr",27),e.k0s()()()()(),e.DNE(28,cv,1,0,"div",28),e.j41(29,"div",29)(30,"div",30)(31,"div",31)(32,"h3",18),e.EFF(33,"Fight Animation + Logs"),e.k0s(),e.j41(34,"div",32)(35,"button",33),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.app.toggleBattleAnalysis())}),e.EFF(36),e.k0s()()(),e.j41(37,"div",34)(38,"span",35),e.EFF(39,"Event filter"),e.k0s(),e.DNE(40,jD,2,3,"button",36),e.k0s()(),e.j41(41,"div",37,1)(43,"div",38),e.DNE(44,Pv,35,29,"ng-container",39),e.k0s(),e.j41(45,"div",40),e.bIt("pointerdown",function(E){v.eBV(o);const C=e.XpG();return v.Njj(C.onAnimationDividerPointerDown(E))})("pointermove",function(E){v.eBV(o);const C=e.XpG();return v.Njj(C.onAnimationDividerPointerMove(E))})("pointerup",function(E){v.eBV(o);const C=e.XpG();return v.Njj(C.onAnimationDividerPointerUp(E))})("pointercancel",function(E){v.eBV(o);const C=e.XpG();return v.Njj(C.onAnimationDividerPointerUp(E))})("keydown",function(E){v.eBV(o);const C=e.XpG();return v.Njj(C.onAnimationDividerKeyDown(E))}),e.k0s(),e.j41(46,"div",41),e.DNE(47,PS,1,0,"ng-container",42),e.k0s()(),e.DNE(48,Ps,2,0,"ng-template",null,2,e.C5r)(50,Vd,3,2,"ng-template",null,3,e.C5r)(52,MS,1,2,"ng-template",null,4,e.C5r)(54,CS,2,0,"ng-template",null,5,e.C5r),e.k0s()()()}if(2&d){const o=e.sdS(49),y=e.sdS(51),E=e.XpG();e.R7$(),e.Y8G("ngIf",!E.isTabletTabsLayout),e.R7$(),e.Y8G("ngIf",E.isTabletTabsLayout),e.R7$(),e.AVh("bottom-container-single-column",E.isTabletTabsLayout),e.R7$(2),e.xc7("flex-basis",E.isTabletTabsLayout?null:E.leftPaneWidthPx,"px")("max-width",E.isTabletTabsLayout?null:E.leftPaneWidthPx,"px")("width",E.isTabletTabsLayout?null:E.leftPaneWidthPx,"px"),e.AVh("pane-hidden-single-column",E.isTabletTabsLayout&&"battle"!==E.activeTabletPane),e.R7$(7),e.Y8G("ngForOf",E.app.logFilterTabs)("ngForTrackBy",E.app.trackByLogTab),e.R7$(5),e.SpI("",E.app.filteredBattlesCache.length," battles"),e.R7$(),e.Y8G("ngIf",E.app.viewBattle),e.R7$(9),e.Y8G("ngForOf",E.app.filteredBattlesCache)("ngForTrackBy",E.app.trackByIndex),e.R7$(),e.Y8G("ngIf",!E.isTabletTabsLayout),e.R7$(),e.AVh("pane-hidden-single-column",E.isTabletTabsLayout&&"logs"!==E.activeTabletPane),e.R7$(7),e.SpI(" ",E.app.showBattleAnalysis?"Hide":"Show"," Analysis "),e.R7$(4),e.Y8G("ngForOf",E.app.logEventFilterOptions)("ngForTrackBy",E.app.trackByIndex),e.R7$(),e.xc7("--fight-motion-scale",E.app.fightAnimationMotionScale),e.R7$(2),e.xc7("flex-basis",E.animationTopHeightPx,"px")("max-height",E.animationTopHeightPx,"px")("height",E.animationTopHeightPx,"px"),e.R7$(),e.Y8G("ngIf",E.app.currentFightAnimationRenderFrame)("ngIfElse",o),e.R7$(3),e.Y8G("ngTemplateOutlet",y)}}let Dv=(()=>{class d{app;battleSplitContainer;animationSplitContainer;logsAnalysisSplitContainer;analysisSplitContainer;leftPaneWidthPx=null;animationTopHeightPx=null;logsTopHeightPx=null;timelineTopHeightPx=null;isTabletTabsLayout=!1;activeTabletPane="battle";dividerStorageKey="sap.battleLogs.leftPaneWidthPx";tabletMediaQuery="(min-width: 768px) and (max-width: 991.98px)";minPaneWidthPx=320;minSectionHeightPx=160;resizeStartX=0;resizeStartY=0;resizeStartWidth=0;resizeContainerWidth=0;resizing=!1;animationResizing=!1;logsAnalysisResizing=!1;analysisResizing=!1;ngOnInit(){this.updateTabletTabsLayoutState()}ngAfterViewInit(){if(this.updateTabletTabsLayoutState(),typeof window>"u")return;const o=window.localStorage.getItem(this.dividerStorageKey);if(!o)return;const y=Number(o);!Number.isFinite(y)||y<=0||(this.leftPaneWidthPx=this.clampPaneWidth(y,this.getSplitContainerWidth()))}onWindowResize(){this.updateTabletTabsLayoutState(),null!=this.leftPaneWidthPx&&(this.leftPaneWidthPx=this.clampPaneWidth(this.leftPaneWidthPx,this.getSplitContainerWidth())),null!=this.animationTopHeightPx&&(this.animationTopHeightPx=this.clampSectionHeight(this.animationTopHeightPx,this.getAnimationSplitHeight())),null!=this.logsTopHeightPx&&(this.logsTopHeightPx=this.clampSectionHeight(this.logsTopHeightPx,this.getLogsAnalysisSplitHeight())),null!=this.timelineTopHeightPx&&(this.timelineTopHeightPx=this.clampSectionHeight(this.timelineTopHeightPx,this.getAnalysisSplitHeight()))}setTabletActivePane(o){this.activeTabletPane=o}onDividerPointerDown(o){if(this.isTabletTabsLayout)return;const y=o.target,E=y?.closest(".bottom-container"),C=E?.querySelector(".battle-pane");!E||!C||(this.resizing=!0,this.resizeStartX=o.clientX,this.resizeStartWidth=C.getBoundingClientRect().width,this.resizeContainerWidth=this.getSplitContainerWidth(),y.setPointerCapture?.(o.pointerId),o.preventDefault())}onDividerPointerMove(o){this.resizing&&(this.leftPaneWidthPx=this.clampPaneWidth(this.resizeStartWidth+(o.clientX-this.resizeStartX),this.resizeContainerWidth))}onDividerPointerUp(o){this.resizing&&(this.resizing=!1,o.target?.releasePointerCapture?.(o.pointerId),null!=this.leftPaneWidthPx&&typeof window<"u"&&window.localStorage.setItem(this.dividerStorageKey,`${Math.round(this.leftPaneWidthPx)}`))}onPaneDividerKeyDown(o){if(this.isTabletTabsLayout)return;const y=this.getNextSizeFromKeyboard(o,this.leftPaneWidthPx,this.getSplitContainerWidth(),this.minPaneWidthPx,this.clampPaneWidth.bind(this));null!=y&&(this.leftPaneWidthPx=y,typeof window<"u"&&window.localStorage.setItem(this.dividerStorageKey,`${Math.round(this.leftPaneWidthPx)}`))}onAnimationDividerPointerDown(o){const y=o.target,E=y?.closest(".vertical-resizable-stack"),C=E?.querySelector(".animation-top-pane");!E||!C||(this.animationResizing=!0,this.resizeStartX=o.clientX,this.resizeStartY=o.clientY,this.resizeStartWidth=C.getBoundingClientRect().height,this.resizeContainerWidth=this.getAnimationSplitHeight(),y.setPointerCapture?.(o.pointerId),o.preventDefault())}onAnimationDividerPointerMove(o){this.animationResizing&&(this.animationTopHeightPx=this.clampSectionHeight(this.resizeStartWidth+(o.clientY-this.resizeStartY),this.resizeContainerWidth))}onAnimationDividerPointerUp(o){this.animationResizing&&(this.animationResizing=!1,o.target?.releasePointerCapture?.(o.pointerId))}onAnimationDividerKeyDown(o){const y=this.getNextSizeFromKeyboard(o,this.animationTopHeightPx,this.getAnimationSplitHeight(),this.minSectionHeightPx,this.clampSectionHeight.bind(this),!0);null!=y&&(this.animationTopHeightPx=y)}onLogsAnalysisDividerPointerDown(o){const y=o.target,E=y?.closest(".vertical-resizable-stack"),C=E?.querySelector(".logs-top-pane");!E||!C||(this.logsAnalysisResizing=!0,this.resizeStartX=o.clientX,this.resizeStartY=o.clientY,this.resizeStartWidth=C.getBoundingClientRect().height,this.resizeContainerWidth=this.getLogsAnalysisSplitHeight(),y.setPointerCapture?.(o.pointerId),o.preventDefault())}onLogsAnalysisDividerPointerMove(o){this.logsAnalysisResizing&&(this.logsTopHeightPx=this.clampSectionHeight(this.resizeStartWidth+(o.clientY-this.resizeStartY),this.resizeContainerWidth))}onLogsAnalysisDividerPointerUp(o){this.logsAnalysisResizing&&(this.logsAnalysisResizing=!1,o.target?.releasePointerCapture?.(o.pointerId))}onLogsAnalysisDividerKeyDown(o){const y=this.getNextSizeFromKeyboard(o,this.logsTopHeightPx,this.getLogsAnalysisSplitHeight(),this.minSectionHeightPx,this.clampSectionHeight.bind(this),!0);null!=y&&(this.logsTopHeightPx=y)}onAnalysisDividerPointerDown(o){const y=o.target,E=y?.closest(".vertical-resizable-stack"),C=E?.querySelector(".timeline-top-pane");!E||!C||(this.analysisResizing=!0,this.resizeStartX=o.clientX,this.resizeStartY=o.clientY,this.resizeStartWidth=C.getBoundingClientRect().height,this.resizeContainerWidth=this.getAnalysisSplitHeight(),y.setPointerCapture?.(o.pointerId),o.preventDefault())}onAnalysisDividerPointerMove(o){this.analysisResizing&&(this.timelineTopHeightPx=this.clampSectionHeight(this.resizeStartWidth+(o.clientY-this.resizeStartY),this.resizeContainerWidth))}onAnalysisDividerPointerUp(o){this.analysisResizing&&(this.analysisResizing=!1,o.target?.releasePointerCapture?.(o.pointerId))}onAnalysisDividerKeyDown(o){const y=this.getNextSizeFromKeyboard(o,this.timelineTopHeightPx,this.getAnalysisSplitHeight(),this.minSectionHeightPx,this.clampSectionHeight.bind(this),!0);null!=y&&(this.timelineTopHeightPx=y)}getSplitContainerWidth(){return this.battleSplitContainer?.nativeElement.getBoundingClientRect().width??0}getAnimationSplitHeight(){return this.animationSplitContainer?.nativeElement.getBoundingClientRect().height??0}getLogsAnalysisSplitHeight(){return this.logsAnalysisSplitContainer?.nativeElement.getBoundingClientRect().height??0}getAnalysisSplitHeight(){return this.analysisSplitContainer?.nativeElement.getBoundingClientRect().height??0}updateTabletTabsLayoutState(){this.isTabletTabsLayout=this.isTabletViewport()}isTabletViewport(){return!(typeof window>"u"||"function"!=typeof window.matchMedia)&&window.matchMedia(this.tabletMediaQuery).matches}clampPaneWidth(o,y){if(!Number.isFinite(y)||y<=0)return Math.max(this.minPaneWidthPx,o);const E=Math.max(this.minPaneWidthPx,y-this.minPaneWidthPx);return Math.min(E,Math.max(this.minPaneWidthPx,o))}clampSectionHeight(o,y){if(!Number.isFinite(y)||y<=0)return Math.max(this.minSectionHeightPx,o);const E=Math.max(this.minSectionHeightPx,y-this.minSectionHeightPx);return Math.min(E,Math.max(this.minSectionHeightPx,o))}getNextSizeFromKeyboard(o,y,E,C,I,W=!1){const X=o.shiftKey?48:24,z=C,pe=Math.max(C,E-C),Me=y??I(E/2,E);let Ie=null;return o.key===(W?"ArrowUp":"ArrowLeft")?Ie=Me-X:o.key===(W?"ArrowDown":"ArrowRight")?Ie=Me+X:"Home"===o.key?Ie=z:"End"===o.key&&(Ie=pe),null==Ie?null:(o.preventDefault(),I(Ie,E))}static \u0275fac=function(y){return new(y||d)};static \u0275cmp=e.VBU({type:d,selectors:[["app-shell-battle-results"]],viewQuery:function(y,E){if(1&y&&e.GBs(po,5)(Nc,5)(ag,5)(sg,5),2&y){let C;e.mGM(C=e.lsd())&&(E.battleSplitContainer=C.first),e.mGM(C=e.lsd())&&(E.animationSplitContainer=C.first),e.mGM(C=e.lsd())&&(E.logsAnalysisSplitContainer=C.first),e.mGM(C=e.lsd())&&(E.analysisSplitContainer=C.first)}},hostBindings:function(y,E){1&y&&e.bIt("resize",function(){return E.onWindowResize()},e.tSv)},inputs:{app:"app"},decls:1,vars:1,consts:[["battleSplitContainer",""],["animationSplitContainer",""],["noAnimationFrames",""],["logsView",""],["groupedLogsTemplate",""],["noFilteredLogs",""],["noRandomEvents",""],["fallbackFightEventText",""],["logsOnlyView",""],["logsAnalysisSplitContainer",""],["analysisSplitContainer",""],["class","bottom-container-scroll",4,"ngIf"],[1,"bottom-container-scroll"],["class","bottom-container-scroll-hint","aria-hidden","true",4,"ngIf"],["class","pane-switch-tabs","role","tablist","aria-label","Battle results sections",4,"ngIf"],[1,"row","flex-1","bottom-container","g-0"],[1,"col-12","col-md-6","h-100","flex-col","pe-0","battle-pane"],[1,"pane-top-shell","battle-top-shell"],[1,"pane-title"],["for","logFilter",1,"pane-subtitle"],["id","logFilter",1,"log-filter-tabs"],["type","button","class","log-filter-tab",3,"active","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"battle-container","flex-1"],[1,"battle-table-shell"],[1,"battle-table-meta"],[4,"ngIf"],[1,"table","battle-table","mb-0"],["class","table-battle-row",3,"ngClass","selected-battle","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","battle-log-divider","role","separator","aria-label","Resize battle and logs panes","aria-orientation","vertical","tabindex","0",3,"pointerdown","pointermove","pointerup","pointercancel","keydown",4,"ngIf"],[1,"col-12","col-md-6","h-100","flex-col","logs-pane"],[1,"pane-top-shell","logs-top-shell"],[1,"d-flex","align-items-center","justify-content-between","battle-view-header"],[1,"d-flex","align-items-center","gap-2"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"log-event-filters"],[1,"log-event-filter-label"],["type","button","class","log-event-filter-btn",3,"active","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"vertical-resizable-stack"],[1,"animation-top-pane"],[4,"ngIf","ngIfElse"],["role","separator","aria-label","Resize animation and logs","aria-orientation","horizontal","tabindex","0",1,"horizontal-resize-divider",3,"pointerdown","pointermove","pointerup","pointercancel","keydown"],[1,"animation-bottom-pane"],[4,"ngTemplateOutlet"],["aria-hidden","true",1,"bottom-container-scroll-hint"],["role","tablist","aria-label","Battle results sections",1,"pane-switch-tabs"],["type","button","role","tab",1,"pane-switch-tab",3,"click"],["type","button",1,"log-filter-tab",3,"click","ngClass"],[1,"table-battle-row",3,"click","ngClass"],[1,"battle-winner-chip",3,"ngClass"],[1,"battle-random-cell"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","log-inline-icon","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],[3,"ngClass",4,"ngIf"],["width","16","height","16","loading","lazy","decoding","async",1,"log-inline-icon",3,"ngSrc","alt"],[3,"ngClass"],[1,"battle-no-random"],["role","separator","aria-label","Resize battle and logs panes","aria-orientation","vertical","tabindex","0",1,"battle-log-divider",3,"pointerdown","pointermove","pointerup","pointercancel","keydown"],["type","button",1,"log-event-filter-btn",3,"click"],[1,"fight-stage"],[1,"fight-team","fight-team-opponent"],[1,"fight-team-toy-wrap"],["class","fight-team-toy","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-team-toy fight-team-toy-hard","width","24","height","24","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-slot",3,"ngClass","--fight-shift-steps",4,"ngFor","ngForOf","ngForTrackBy"],[1,"fight-event"],[1,"fight-event-type"],[1,"fight-event-text"],[1,"fight-event-step"],[1,"fight-team","fight-team-player","fight-team-player-head-to-head"],[1,"fight-controls"],["role","group","aria-label","Animation controls",1,"btn-group","btn-group-sm"],["type","button",1,"btn","btn-outline-secondary",3,"click","disabled"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],["role","group","aria-label","Animation speed",1,"btn-group","btn-group-sm","fight-speed-controls"],["class","btn btn-outline-secondary","type","button",3,"active","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"fight-scrubber"],["type","range",1,"form-range",3,"input","min","max","value"],["width","24","height","24","loading","lazy","decoding","async",1,"fight-team-toy",3,"ngSrc","alt"],["width","24","height","24","loading","lazy","decoding","async",1,"fight-team-toy","fight-team-toy-hard",3,"ngSrc","alt"],[1,"fight-slot",3,"ngClass"],[1,"fight-slot-label"],[1,"fight-slot-art"],["class","fight-slot-icon","width","42","height","42","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-slot-companion","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-slot-empty",4,"ngIf"],["class","fight-slot-equipment","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-equipment-ghost",4,"ngIf"],["class","fight-equipment-gain-ghost",4,"ngIf"],["class","fight-snipe-impact",4,"ngIf"],["class","fight-faint-ghost",4,"ngIf"],["class","fight-slot-stats",4,"ngIf"],["width","42","height","42","loading","lazy","decoding","async",1,"fight-slot-icon",3,"ngSrc","alt"],["width","16","height","16","loading","lazy","decoding","async",1,"fight-slot-companion",3,"ngSrc","alt"],[1,"fight-slot-empty"],["width","16","height","16","loading","lazy","decoding","async",1,"fight-slot-equipment",3,"ngSrc","alt"],[1,"fight-equipment-ghost"],["class","fight-equipment-ghost-icon","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["width","16","height","16","loading","lazy","decoding","async",1,"fight-equipment-ghost-icon",3,"ngSrc","alt"],[1,"fight-equipment-gain-ghost"],["class","fight-equipment-gain-icon","width","16","height","16","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["width","16","height","16","loading","lazy","decoding","async",1,"fight-equipment-gain-icon",3,"ngSrc","alt"],[1,"fight-snipe-impact"],["alt","","aria-hidden","true","width","20","height","20","loading","lazy","decoding","async",1,"fight-snipe-impact-icon",3,"ngSrc"],[1,"fight-value-popup"],["class","fight-value-popup-icon","alt","","aria-hidden","true","width","14","height","14","loading","lazy","decoding","async",3,"ngSrc",4,"ngIf"],[1,"fight-value-popup-number"],["alt","","aria-hidden","true","width","14","height","14","loading","lazy","decoding","async",1,"fight-value-popup-icon",3,"ngSrc"],[1,"fight-faint-ghost"],["class","fight-faint-icon","width","40","height","40","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["class","fight-faint-companion","width","14","height","14","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["width","40","height","40","loading","lazy","decoding","async",1,"fight-faint-icon",3,"ngSrc","alt"],["width","14","height","14","loading","lazy","decoding","async",1,"fight-faint-companion",3,"ngSrc","alt"],[1,"fight-slot-stats"],["class","fight-slot-stat",4,"ngIf"],["class","fight-slot-stat fight-slot-exp",4,"ngIf"],[1,"fight-slot-stat"],["alt","","aria-hidden","true","width","14","height","14","loading","lazy","decoding","async",1,"fight-slot-stat-icon",3,"ngSrc"],[1,"fight-slot-stat","fight-slot-exp"],[1,"fight-slot-exp-group"],["aria-hidden","true",1,"fight-slot-exp-levels"],[1,"fight-slot-exp-level"],["role","img",1,"fight-slot-exp-bar"],[1,"fight-slot-exp-segment"],["class","log-pet-icon","width","18","height","18","loading","lazy","decoding","async",3,"ngSrc","alt",4,"ngIf"],["width","18","height","18","loading","lazy","decoding","async",1,"log-pet-icon",3,"ngSrc","alt"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fight-empty-state"],["class","vertical-resizable-stack logs-analysis-stack",4,"ngIf","ngIfElse"],[1,"vertical-resizable-stack","logs-analysis-stack"],[1,"log-container","scroll","logs-top-pane"],["role","separator","aria-label","Resize logs and analysis","aria-orientation","horizontal","tabindex","0",1,"horizontal-resize-divider",3,"pointerdown","pointermove","pointerup","pointercancel","keydown"],[1,"analysis-bottom-pane"],[1,"vertical-resizable-stack","analysis-sections-stack"],[1,"analysis-section","mt-2","timeline-top-pane"],[1,"analysis-title"],[1,"analysis-table-wrap","scroll"],[1,"table","table-sm","analysis-table","mb-0"],[3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["role","separator","aria-label","Resize trigger timeline and battle diff","aria-orientation","horizontal","tabindex","0",1,"horizontal-resize-divider",3,"pointerdown","pointermove","pointerup","pointercancel","keydown"],[1,"analysis-section","mt-2","diff-bottom-pane","scroll"],[1,"diff-controls"],[1,"diff-label"],[1,"form-select","form-select-sm","diff-select",3,"ngModelChange","ngModel","ngModelOptions"],[3,"ngValue",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngValue"],[1,"player-side-text",3,"ngValue"],[1,"opponent-side-text",3,"ngValue"],[1,"diff-summary"],[1,"log-container","flex-1","scroll"],["class","log-groups",4,"ngIf","ngIfElse"],[1,"log-groups"],["class","log-group",4,"ngFor","ngForOf","ngForTrackBy"],[1,"log-group"],["type","button",1,"log-group-header",3,"click"],[1,"log-group-title"],[1,"log-group-meta"],[1,"log-group-count"],["aria-hidden","true",1,"log-group-chevron"],["class","log-group-body",4,"ngIf"],[1,"log-group-body"],["class","log-row",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"log-row",3,"ngClass"],[1,"log-row-meta"],["class","log-badge",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"log-row-text"],[1,"log-badge",3,"ngClass"],[1,"log-empty-state"]],template:function(y,E){1&y&&e.DNE(0,Tv,56,35,"div",11),2&y&&e.Y8G("ngIf",E.app.simulated)},dependencies:[Ht.MD,Ht.YU,Ht.Sq,Ht.bT,Ht.T3,ue.YN,ue.xH,ue.y7,ue.wz,ue.BC,ue.vS,vi],encapsulation:2})}return d})();const hg="assets/art/Public/Public/Toys/",Mv=["DungeonBattle.png","ScaryForestBattle.png"],wS=["AboveCloudsBattle.png","ArcticBattle.png","AutumnForestBattle.png","BeachBattle.png","BridgeBattle.png","CastleWallBattle.png","CaveBattle.png","ColosseumBattle.png","CornFieldBattle.png","DesertBattle.png","DungeonBattle.png","FarmBattle.png","FieldBattle.png","FoodLandBattle.png","FrontYardBattle.png","HalloweenStreetBattle.png","JungleBattle.png","LavaCaveBattle.png","LavaMountainBattle.png","MoneyBinBattle.png","MoonBattle.png","PagodaBattle.png","PlaygroundBattle.png","SavannaBattle.png","ScaryForestBattle.png","SnowBattle.png","SpaceStationBattle.png","UnderwaterBattle.png","UrbanCityBattle.png","WildWestTownBattle.png","WinterPineForestBattle.png","WizardSchoolBattle.png"].filter(d=>!Mv.includes(d)),OS=[{label:"None",value:null},{label:"Player",value:"player"},{label:"Opponent",value:"opponent"},{label:"Draw",value:"draw"}];var IS=i(17385);function gg(...d){for(const h of d){const o=FS(h.name);if(o)return{name:o,level:NS(h.level)}}return{name:null,level:1}}function FS(d){return"string"!=typeof d?null:d.trim().length>0?d:null}function NS(d){const h=Number(d);return Number.isFinite(h)?Math.max(1,Math.min(3,Math.trunc(h))):1}var Yd=i(33127),Gc=i(57033);function mg(d){return Math.ceil(100*d)/100}function Hc(d){return`${(d.rawMessage??d.message??"").replace(/<[^>]+>/g,"")}${d.count&&d.count>1?` (x${d.count})`:""}`.trim()}function gl(d,h){const o="source"===h?d.sourceIndex:d.targetIndex,y="source"===h?d.sourcePet:d.targetPet;return null!=o?`${y?.parent?.isOpponent??("source"===h?d.player?.isOpponent:d.targetPet?.parent?.isOpponent)?"O":"P"}${o}${y?.name?` ${y.name}`:""}`:y?.name?y.name:"source"===h&&d.player?d.player.isOpponent?"Opponent":"Player":"-"}function _g(d){return!0===d.randomEvent?function Cv(d){return"tie-broken"===d.randomEventReason?"tie-broken":"deterministic"===d.randomEventReason?"deterministic":"true random"}(d):"deterministic"}function kv(d,h){return(d?.logs??[]).filter(y=>"all"===h||fg(y)===h).map(y=>{const E=gl(y,"source"),C=gl(y,"target"),I=_g(y);return`${y.type} | ${E} -> ${C} | ${I} | ${Hc(y)}`})}function fg(d){return d.player?d.player.isOpponent?"opponent":"player":!0===d.playerIsOpponent?"opponent":!1===d.playerIsOpponent?"player":"unknown"}function ml(d){return"player"===d||"opponent"===d?d:"all"}function Iv(d){const h=d.playerWinner+d.opponentWinner+d.draw;return 0===h?0:mg(d.draw/h*100)}function vg(d){const h=d.playerWinner+d.opponentWinner+d.draw;return 0===h?0:mg(d.opponentWinner/h*100)}const bg={equalSteps:0,changedSteps:0,leftOnly:0,rightOnly:0};function Pg(d){const h=[],o=/<img\b[^>]*>/gi;let E,y=0;const C=function Sg(d){return d.split(/(<[^>]+>)/g).map(h=>h.startsWith("<")?h:h.replace(Rv,(y,E)=>{const C=h.slice(0,E);return/\bjump[-\s]?$/i.test(C)?y:`${KS} ${y}`}).replace(Eg,`${$S} $&`)).join("")}(d);for(;E=o.exec(C);){Xd(h,C.slice(y,E.index));const W=E[0],X=/src=["']([^"']+)["']/i.exec(W),z=/alt=["']([^"']*)["']/i.exec(W);h.push({type:"img",src:X?.[1]??"",alt:z?.[1]??""}),y=E.index+W.length}return Xd(h,C.slice(y)),h}function Xd(d,h){if(!h)return;const E=h.replace(/<br\s*\/?>/gi,"\n").replace(/<[^>]+>/g,"").split("\n");E.forEach((C,I)=>{C&&function Ag(d,h){const o=/^(\[(?:[PO][1-5](?:->[PO][1-5])?|->[PO][1-5])\]\s*)([\s\S]*)$/.exec(h);if(!o)return void d.push({type:"text",text:h});const y=o[1]??"",E=o[2]??"";y&&d.push({type:"text",text:y,className:"log-position-prefix"}),E&&d.push({type:"text",text:E})}(d,C),I<E.length-1&&d.push({type:"br"})})}const KS='<img src="assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/fist.png" alt="Attack" />',$S='<img src="assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/heart.png" alt="Health" />',Rv=/\battack(?:s|ed|ing)?\b/gi,Eg=/\bhealth\b/gi,Jd=new WeakMap,_l=new Map,Tg=new WeakMap,Dg={attack:"Attack",move:"Move",board:"Board",death:"Death",ability:"Ability",equipment:"Equipment",trumpets:"Trumpets"};function Lv(d){return"board"===d||"attack"===d||"ability"===d||"equipment"===d||"death"===d||"random"===d?d:"all"}function jc(d){const h=d.formGroup.get("showPositionalArgsInLogs");return!h||!1!==h.value}function Mg(d){return d.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"unknown"}function ZD(d,h,o,y){const C=[{text:h,className:"log-badge-side "+("P"===h?"log-badge-side-player":"O"===h?"log-badge-side-opponent":"log-badge-side-unknown")},{text:Dg[d]??d,className:`log-badge-type log-badge-type-${Mg(d)}`}];return o&&C.push({text:"Random",className:"log-badge-random"}),y&&C.push({text:"Phase",className:"log-badge-phase"}),C}function eM(d,h){return"all"===h||("random"===h?d.randomEvent:d.type===h)}function Bv(d,h,o){d.simulationInProgress=!0,d.simulationCancelRequested=!1,d.simulationProgress=0,d.simulationProgressLabel=h;const y=(d.simulationRunId??0)+1;return d.simulationRunId=y,d.setStatus?.(o,"success"),d.markForCheck?.(),y}function pa(d,h){return d.simulationRunId===h}function Vs(d,h,o){d.simulationInProgress=!1,d.simulationCancelRequested=!1,d.setStatus?.(h,o),d.markForCheck?.()}function HS(d,h){return d===h?"same":d&&h?"changed":d?"left-only":"right-only"}function kg(d,h){"same"===h?d.equalSteps+=1:"changed"===h?d.changedSteps+=1:"left-only"===h?d.leftOnly+=1:"right-only"===h&&(d.rightOnly+=1)}function wg(d,h){return null!=d&&null!=h&&Number.isFinite(h)?`${d?"O":"P"}${Math.min(Math.max(1,Math.trunc(h)),5)}`:null}function Fv(d,h,o){h&&h.decorateLogIfNeeded(d);const y=function jS(d,h){if(!h)return"";const o=`${d.rawMessage??d.message??""}`.replace(/<[^>]+>/g,"");if(/\b[PO][1-5]\b/.test(o))return"";const y=wg(function iM(d){const h=d.sourcePet?.parent?.isOpponent;return!0===h||!1!==h&&(!0===d.player?.isOpponent||!1!==d.player?.isOpponent&&(!0===d.playerIsOpponent||!1!==d.playerIsOpponent&&null))}(d),d.sourceIndex),E=wg(function nM(d){const h=d.targetPet?.parent?.isOpponent;return!0===h||!1!==h&&(!0===d.targetIsOpponent||!1!==d.targetIsOpponent&&null)}(d),d.targetIndex);return y&&E?`[${y}->${E}] `:y?`[${y}] `:E?`[->${E}] `:""}(d,o),E=function tM(d){return d.replace(/\[([^\]]+)\]/g,(h,o)=>{const y=`${o??""}`.replace(/&[a-z0-9#]+;/gi,"").replace(/[\s\u200b-\u200d\u2060\ufeff]+/gi,"").toUpperCase();if(!y)return h;const E=/^([PO][1-5])->([PO][1-5])$/.exec(y);if(E)return`[${E[1]}->${E[2]}]`;const C=/^([PO][1-5])$/.exec(y);if(C)return`[${C[1]}]`;const I=/^->([PO][1-5])$/.exec(y);return I?`[->${I[1]}]`:h})}(`${y}${d.message}`+(d.count>1?` (x${d.count})`:"")),C=Jd.get(d);if(C&&C.message===E)return C.parts;const I=_l.get(E);if(I)return Jd.set(d,{message:E,parts:I}),I;const W=Pg(E);return Jd.set(d,{message:E,parts:W}),function xv(d,h){if(_l.set(d,h),_l.size<=1e3)return;const o=_l.keys().next().value;o&&_l.delete(o)}(E,W),W}function fl(d){d.logEventFilter=Lv(d.logEventFilter),d.collapsedLogGroupIds||(d.collapsedLogGroupIds=new Set);const h=d.logEventFilter,o=d.collapsedLogGroupIds,y=[],E=new Map;for(const C of d.viewBattleLogRows){if(!eM(C,h))continue;let I=E.get(C.groupId);I||(I={id:C.groupId,title:C.groupTitle,rows:[],collapsed:o.has(C.groupId)},E.set(C.groupId,I),y.push(I)),I.rows.push(C)}d.viewBattleLogGroups=y}function YS(d,h=1e3,o){d.pendingPositioningOptimizationBaseline=null,d.positioningDeltaSummary=null,d.simulationBattleAmt=h,d.localStorageService.setFormStorage(d.formGroup);const y=d.simulationService.runSimulation(d.formGroup,h,d.player,d.opponent,o);qd(d,y)}function XS(d,h=1e3){if(d.simulationInProgress)return;d.simulationBattleAmt=h,d.localStorageService.setFormStorage(d.formGroup);const o=Bv(d,`0 / ${h}`,"Simulation started..."),y=d.simulationService.runSimulationInWorker(d.formGroup,h,d.player,d.opponent,{onProgress:E=>{if(!pa(d,o))return;const C=E.total?Math.floor(E.completed/E.total*100):0;d.simulationProgress=C,d.simulationProgressLabel=`${E.completed} / ${E.total}`,d.playerWinner=E.playerWins,d.opponentWinner=E.opponentWins,d.draw=E.draws,d.markForCheck?.()},onResult:E=>{pa(d,o)&&(mo(d),qd(d,E),d.simulationProgress=100,d.simulationProgressLabel=`${h} / ${h}`,Vs(d,"Simulation finished.","success"))},onAborted:E=>{pa(d,o)&&(mo(d),qd(d,E),Vs(d,"Simulation cancelled.","error"))},onError:E=>{pa(d,o)&&(mo(d),Vs(d,E||"Simulation failed.","error"))}},{progressInterval:50});d.simulationWorker=y}function mo(d){d.simulationWorker&&d.simulationWorker.terminate(),d.simulationWorker=null}function QS(d,h){const y=d.formGroup.get("player"===h.side?"playerPets":"opponentPets");!y||!h.bestPermutation||(function Ig(d,h){const o=d.controls.slice(),y=o.map(C=>C.value),E=new Set;for(let C=0;C<o.length;C+=1){const W=Wv(y,h[C]??null,E);-1!==W&&(E.add(W),d.setControl(C,o[W]))}d.updateValueAndValidity()}(y,h.bestPermutation.lineup),d.afterPositioningApplied?.())}function Wv(d,h,o){const y=Kv(h);for(let E=0;E<d.length;E+=1)if(!o.has(E)&&Kv(d[E]??null)===y)return E;return-1}function Kv(d){if(!d||"object"!=typeof d)return"empty";if("string"!=typeof d.name||!d.name)return"empty";const o=d.equipment;return JSON.stringify({name:d.name??null,attack:d.attack??null,health:d.health??null,exp:d.exp??null,equipment:(o&&"object"==typeof o?"string"==typeof o.name?o.name:null:o??null)??null,equipmentUses:d.equipmentUses??null,belugaSwallowedPet:d.belugaSwallowedPet??null,parrotCopyPet:d.parrotCopyPet??null,mana:d.mana??null,triggersConsumed:d.triggersConsumed??null,foodsEaten:d.foodsEaten??null,battlesFought:d.battlesFought??null,timesHurt:d.timesHurt??null})}function Rg(d,h,o){return d+h+o}function vl(d,h){return h<=0?0:d/h*100}function Qd(d){return Math.round(100*d)/100}function qd(d,h){const o=d.pendingPositioningOptimizationBaseline??null;d.pendingPositioningOptimizationBaseline=null,d.positioningDeltaSummary=o?function ZS(d,h){const o=Rg(h.playerWins,h.opponentWins,h.draws);if(o<=0||d.totalBattles<=0)return null;const y="player"===d.side?d.playerWins:d.opponentWins,C="player"===d.side?d.opponentWins:d.playerWins,I="player"===d.side?h.opponentWins:h.playerWins,W=Qd(vl("player"===d.side?h.playerWins:h.opponentWins,o)-vl(y,d.totalBattles)),X=Qd(vl(h.draws,o)-vl(d.draws,d.totalBattles)),z=Qd(vl(I,o)-vl(C,d.totalBattles));return{side:d.side,winDeltaPercent:W,drawDeltaPercent:X,lossDeltaPercent:z}}(o,h):null,d.playerWinner=h.playerWins,d.opponentWinner=h.opponentWins,d.draw=h.draws,d.battles=h.battles||[];const y=jc(d),E=new Map;d.battleRandomEvents=d.battles.map(C=>{const I=xg(C,d.logService,y);return E.set(C,I),I}),d.battleRandomEventsByBattle=E,Lg(d),d.viewBattle=h.battles?.[0]||null,d.viewBattleLogs=d.viewBattle?.logs??[],d.collapsedLogGroupIds=new Set,Vc(d),Zd(d),d.refreshFightAnimationFromViewBattle?.(),d.diffBattleLeftIndex=0,d.diffBattleRightIndex=d.battles.length>1?1:0,yl(d),d.simulated=!0,d.randomDecisions=(h.randomDecisions??[]).filter(C=>Array.isArray(C.options)&&C.options.length>1),d.randomOverrideError=h.randomOverrideError??null,d.showRandomOverrides=d.randomDecisions.length>0}function Vc(d){const h=jc(d);if(d.viewBattle){const y=Tg.get(d.viewBattle);if(y&&y.logs===d.viewBattleLogs&&y.includePositionPrefix===h)return d.viewBattleLogRows=y.rows,void fl(d)}const o=function VS(d,h){let o="phase-0",y="Battle",E=0;return d.viewBattleLogs.map((C,I)=>{const W=Hc(C),X=function qD(d){const h=`${d??""}`.trim();return/^Phase\s+\d+\s*:/i.test(h)?h:null}(W);X&&(E+=1,o=`phase-${E}`,y=X);const z=function wv(d){return null==d.player?!0===d.playerIsOpponent?"log-opponent":!1===d.playerIsOpponent?"log-player":"log":d.player.isOpponent?"log-opponent":"log-player"}(C),pe=function Cg(d){return"log-player"===d?"P":"log-opponent"===d?"O":"-"}(z),Me=!0===C.randomEvent,Ie="board"===C.type,$e=!!X,ht=["log-entry",z,`log-type-${Mg(C.type)}`,Me?"random-event":"",Ie?"log-row-board":"",$e?"log-phase-marker":""].filter(Boolean);return{parts:Fv(C,d.logService,h),classes:ht,logIndex:I,type:C.type,typeLabel:Dg[C.type]??C.type,sideLabel:pe,rawText:W,randomEvent:Me,isBoard:Ie,isPhaseMarker:$e,phaseTitle:X,groupId:o,groupTitle:y,badges:ZD(C.type,pe,Me,$e)}})}(d,h);d.viewBattleLogRows=o,fl(d),d.viewBattle&&Tg.set(d.viewBattle,{logs:d.viewBattleLogs,rows:o,includePositionPrefix:h})}function Zd(d){const h=d.viewBattle?.logs??[],o=h.filter(E=>"ability"===E.type||"equipment"===E.type||"attack"===E.type);d.viewBattleTimelineRows=(o.length>0?o:h).map((E,C)=>({step:C+1,source:gl(E,"source"),target:gl(E,"target"),reason:_g(E),text:Hc(E),side:fg(E)}))}function yl(d){const h=zc(d,d.diffBattleLeftIndex),o=zc(d,d.diffBattleRightIndex);d.diffBattleLeftIndex=h,d.diffBattleRightIndex=o;const E=d.battles[o],C=kv(d.battles[h],ml(d.diffBattleLeftScope)),I=kv(E,ml(d.diffBattleRightScope)),W=Math.max(C.length,I.length),X=[],z={...bg};for(let pe=0;pe<W;pe++){const Me=C[pe]??"",Ie=I[pe]??"",$e=HS(Me,Ie);X.push({step:pe+1,left:Me,right:Ie,same:"same"===$e,kind:$e}),kg(z,$e)}d.battleDiffRows=X,d.battleDiffSummary=z}function Lg(d){const h=d.formGroup.get("logFilter")?.value??null;d.filteredBattlesCache=null==h?d.battles:d.battles.filter(o=>o.winner===h)}function xg(d,h,o=!1){const y=d.logs.filter(I=>!0===I.randomEvent),E=[],C=h?.isShowTriggerNamesInLogs()??!1;return y.forEach((I,W)=>{C&&E.push({type:"text",text:`[${"tie-broken"===I.randomEventReason?"tie-broken":"deterministic"===I.randomEventReason?"deterministic":"true random"}] `}),E.push(...Fv(I,h,o)),W<y.length-1&&E.push({type:"br"})}),E}function zc(d,h){return Array.isArray(d.battles)&&0!==d.battles.length&&Number.isFinite(h)?Math.min(Math.max(0,Math.trunc(h)),d.battles.length-1):0}function Vv(d){const h=new Map,o=[];return d.filter(y=>!!y).sort((y,E)=>E.length-y.length).forEach(y=>{h.set(y.toLowerCase(),y),o.push(function zv(d){return d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(y))}),0===o.length?{regex:null,canonicalByLower:h}:{regex:new RegExp(`(?<![A-Za-z0-9])(${o.join("|")})(?![A-Za-z0-9])`,"gi"),canonicalByLower:h}}function zs(d,h){if(!d||!h.regex)return[];const o=new RegExp(h.regex.source,h.regex.flags),y=[];let E;for(;E=o.exec(d);){const C=E[1];if(!C)continue;const I=h.canonicalByLower.get(C.toLowerCase())??C;y.push(I)}return y}const n1=new Set(Object.values(Wa.U).flat().filter(Boolean)),_o=Vv((0,kt.bf)()),Yc=Vv((0,kt.oI)());function ha(d){return Number.isFinite(d)?Math.min(Math.max(0,Math.trunc(d)),4):0}function bl(d,h){return`${"player"===d?"P":"O"}${h+1}`}function cn(d){return`${d??""}`.trim().toLowerCase()}function ts(d){return d&&d.replace(/^[PO]\d+\s+/i,"").trim().replace(/^[Aa]n?\s+/,"").replace(/[.!,:;]+$/,"").trim()||null}function Fg(d,h){const o=new RegExp(`${h}="([^"]*)"`,"i").exec(d);if(o)return o[1];const y=new RegExp(`${h}='([^']*)'`,"i").exec(d);return y?y[1]:null}function As(d,h){return"player"===h?d.playerSlots:d.opponentSlots}function Ng(d,h,o){return As(d,h)[ha(o)]}function is(d,h){const o=cn(h??null);if(!o)return-1;for(let y=0;y<d.length;y+=1)if(cn(d[y].petName)===o)return y;return-1}function Pl(d,h){return cn(d.petName)===h}function Es(d){if(!d)return null;const h=n1.has(d);return(0,kt.ht)(d,h)}function Ug(d,h=null){const o=`${d??""}`.trim();if(!o)return{petIconSrc:h,petCompanionIconSrc:null,petCompanionName:null};const y=(0,kt.EA)(o);if(y)return{petIconSrc:y,petCompanionIconSrc:null,petCompanionName:null};const E=function Yv(d){if(!d.includes("'")&&!d.includes("\u2019"))return[d];return d.split(/\s*(?:'|\u2019)s\s+/i).map(o=>o.trim()).filter(o=>!!o)}(o);if(E.length<2)return{petIconSrc:h,petCompanionIconSrc:null,petCompanionName:null};const C=E.map(pe=>ts(pe)).filter(pe=>!!pe);if(C.length<2)return{petIconSrc:h,petCompanionIconSrc:null,petCompanionName:null};let I=null,W=null;for(const pe of C){const Me=(0,kt.EA)(pe);if(Me){I=pe,W=Me;break}}let X=null,z=null;for(let pe=C.length-1;pe>=0;pe-=1){const Me=C[pe];if(I&&cn(Me)===cn(I))continue;const Ie=(0,kt.EA)(Me);if(Ie){X=Me,z=Ie;break}}return{petIconSrc:W??h,petCompanionIconSrc:z,petCompanionName:z?X:null}}function Xv(d){const h=[];for(let o=0;o<5;o+=1)h.push({side:d,slot:o,isEmpty:!0,pendingRemoval:!1,attack:null,health:null,exp:null,mana:null,petIconSrc:null,petName:null,petCompanionIconSrc:null,petCompanionName:null,equipmentIconSrc:null,equipmentName:null,label:null});return h}function a1(d){return d.map(h=>({...h}))}function Wg(d,h){As(d,h).forEach(y=>{y.pendingRemoval&&function un(d){d.isEmpty=!0,d.pendingRemoval=!1,d.attack=null,d.health=null,d.exp=null,d.mana=null,d.petIconSrc=null,d.petName=null,d.petCompanionIconSrc=null,d.petCompanionName=null,d.equipmentIconSrc=null,d.equipmentName=null,d.label=null}(y)})}function hi(d,h){d.isEmpty=!1,d.petName=h;const o=Ug(h);d.petIconSrc=o.petIconSrc,d.petCompanionIconSrc=o.petCompanionIconSrc,d.petCompanionName=o.petCompanionName,d.label=bl(d.side,d.slot)}function Ss(d,h){d.isEmpty=!1,d.equipmentName=h,d.equipmentIconSrc=Es(h),d.label=bl(d.side,d.slot)}function Ts(d){d.equipmentName=null,d.equipmentIconSrc=null}function Tr(d,h){const o=As(d,h),y=o.map((I,W)=>({slot:I,index:W})).filter(I=>!I.slot.isEmpty).map(I=>({value:{...I.slot},fromSlot:I.index})),E=Xv(h),C=[];y.forEach((I,W)=>{const X=ha(W);I.fromSlot!==X&&C.push({side:h,slot:X,fromSlot:I.fromSlot}),E[X]={...I.value,side:h,slot:X,label:bl(h,X),isEmpty:!1}});for(let I=0;I<o.length;I+=1)o[I]=E[I];return C}function ga(d){return Al(d.sourcePet?.parent?.isOpponent)??Al(d.player?.isOpponent)??Al(d.playerIsOpponent)??"player"}function Xc(d){return Al(d.targetPet?.parent?.isOpponent)??Al(d.targetIsOpponent)}function Al(d){return!0===d?"opponent":!1===d?"player":null}function Ys(d,h,o,y,E,C){const I="player"===y?"opponent":"player",W=Xc(h);if(W)return W;const X=function r1(d,h){if(null==h||!Number.isFinite(h))return null;const o=Math.min(Math.max(1,Math.trunc(h)),5),y=new RegExp(`\\b([PO])${o}\\b`,"i").exec(d);return y?function fo(d){return d.startsWith("P")?"player":d.startsWith("O")?"opponent":null}(y[1].toUpperCase()):null}(o,h.targetIndex??null);if(X)return X;if(/\benemy|opponent\b/i.test(o))return I;if(/\bfriend|friendly|self|itself|ally\b/i.test(o))return y;if(null!=h.targetIndex){const z=ha(h.targetIndex-1),pe=Ng(d,y,z),Me=Ng(d,I,z),Ie=cn(E);if(Ie){const $e=Pl(pe,Ie);if($e!==Pl(Me,Ie))return $e?y:I}if(pe.isEmpty&&!Me.isEmpty)return I;if(!pe.isEmpty&&Me.isEmpty)return y}if(E){const z=is(As(d,y),E),pe=is(As(d,I),E);if(-1!==z&&-1===pe)return y;if(-1!==pe&&-1===z)return I}return"opposite"===C?I:y}function ma(d,h){const o=h.preferredSide,y="player"===o?"opponent":"player",E=As(d,o),C=As(d,y),I=cn(h.expectedName??null);if(null!=h.explicitIndex){const W=ha(h.explicitIndex-1),X=E[W],z=C[W];if(I){const pe=Pl(X,I),Me=Pl(z,I);if(pe&&!Me)return{side:o,slot:W,value:X};if(Me&&!pe)return{side:y,slot:W,value:z}}if(h.preferNonEmpty){if(X.isEmpty&&!z.isEmpty)return{side:y,slot:W,value:z};if(!X.isEmpty&&z.isEmpty)return{side:o,slot:W,value:X}}return{side:o,slot:W,value:X}}if(I){const W=is(E,h.expectedName??null);if(-1!==W)return{side:o,slot:W,value:E[W]};const X=is(C,h.expectedName??null);if(-1!==X)return{side:y,slot:X,value:C[X]}}if(h.preferNonEmpty){const W=E.findIndex(z=>!z.isEmpty);if(-1!==W)return{side:o,slot:W,value:E[W]};const X=C.findIndex(z=>!z.isEmpty);if(-1!==X)return{side:y,slot:X,value:C[X]}}return null}function Qc(d){return d.replace(/\[([^\]]+)\]/g,(h,o)=>{const y=`${o??""}`.replace(/&[a-z0-9#]+;/gi,"").replace(/[\s\u200b-\u200d\u2060\ufeff]+/gi,"").toUpperCase();if(!y)return h;const E=/^([PO][1-5])->([PO][1-5])$/.exec(y);if(E)return`[${E[1]}->${E[2]}]`;const C=/^([PO][1-5])$/.exec(y);if(C)return`[${C[1]}]`;const I=/^->([PO][1-5])$/.exec(y);return I?`[->${I[1]}]`:h})}function Kg(d,h){return null!=d&&null!=h&&Number.isFinite(h)?`${"player"===d?"P":"O"}${Math.min(Math.max(1,Math.trunc(h)),5)}`:null}const qc=/___ \(-\/-\)|(?:[PO]\d+\s+)?(?:<img\b[^>]*>\s*)*\(\d+\/\d+(?:\/\d+(?:\s*xp)?)?(?:\/\d+(?:\s*mana)?)?\)/gi,_a=/<img\b[^>]*>/gi,o1=[4,3,2,1,0],$n=[0,1,2,3,4],l1=/^(.+?)\s+(?:jump-)?attacks?\s+(.+?)\s+for\s+(\d+)/i,c1=/^(.+?)\s+sniped\s+(.+?)\s+for\s+(\d+)/i,$g=/^(.+?)\s+fainted\./i,qv=/^(.+?)\s+(?:attacks?|sniped|fainted|gave|gained|lost|removed|transformed|destroyed|consumed|moved)\b/i,Zv=/\bto\s+(.+?)(?:\.|$)/i,u1=/\btransformed\s+(.+?)\s+into\b/i,aM=/\binto\b([\s\S]*)$/i,Gg=/(\d+)\s*\/\s*(\d+)(?:\s*\/\s*(\d+)(?:\s*xp)?)?(?:\s*\/\s*(\d+)(?:\s*mana)?)?/i;function d1(d,h){const o=d.match(qc);if(!o||0===o.length)return null;const y=Xv(h),E="player"===h?o1:$n;o.forEach((W,X)=>{const z=function Hg(d){const h=d.trim();if("___ (-/-)"===h)return{slot:null,isEmpty:!0,attack:null,health:null,exp:null,mana:null,petIconSrc:null,petName:null,equipmentIconSrc:null,equipmentName:null,label:null};const o=/\b([PO])([1-5])\b/.exec(h),y=o?`${o[1]}${o[2]}`:null,E=o&&Number.isFinite(Number(o[2]))?Number(o[2])-1:null,C=/\((\d+)\/(\d+)(?:\/(\d+)(?:\s*xp)?)?(?:\/(\d+)(?:\s*mana)?)?\)/i.exec(h),I=C?Number(C[1]):null,W=C?Number(C[2]):null,X=null!=C?.[3]?Number(C[3]):null,z=null!=C?.[4]?Number(C[4]):null;let pe=null,Me=null,Ie=null,$e=null;return(h.match(_a)??[]).forEach(ht=>{const rt=Fg(ht,"src"),Mt=Fg(ht,"alt"),bt=(Fg(ht,"class")??"").split(/\s+/g);return bt.includes("log-pet-icon")?(pe=rt??pe,void(Me=Mt??Me)):bt.includes("log-inline-icon")?(Ie=rt??Ie,void($e=Mt??$e)):pe?void(Ie||(Ie=rt??null,$e=Mt??null)):(pe=rt??null,void(Me=Mt??null))}),{slot:null!=E?ha(E):null,isEmpty:!1,attack:I,health:W,exp:X,mana:z,petIconSrc:pe,petName:Me,equipmentIconSrc:Ie,equipmentName:$e,label:y}}(W),Me=ha(z.slot??E[X]??E[0]),Ie=Ug(z.petName,z.petIconSrc);y[Me]={side:h,slot:Me,isEmpty:z.isEmpty,pendingRemoval:!1,attack:z.attack,health:z.health,exp:z.exp,mana:z.mana,petIconSrc:Ie.petIconSrc,petName:z.petName,petCompanionIconSrc:Ie.petCompanionIconSrc,petCompanionName:Ie.petCompanionName,equipmentIconSrc:z.equipmentIconSrc,equipmentName:z.equipmentName,label:z.label??bl(h,Me)}});const C=d.match(/\{\{toy:([^}]+)\}\}/),I=d.match(/\{\{hardtoy:([^}]+)\}\}/);return{slots:y,toyName:C?C[1]:null,hardToyName:I?I[1]:null}}function Xs(d){const h=qv.exec(d);return h?ts(h[1]):zs(d,_o)[0]??null}function ey(d,h){const y=zs(Zv.exec(d)?.[1]??"",_o);if(y.length>0)return y[0];const E=zs(d,_o);if(0===E.length)return null;const C=cn(h);return E.find(W=>cn(W)!==C)??E[0]??null}function ty(d){const h=Xs(d),o=u1.exec(d)?.[1]??null,y=o?ts(o):null,E=aM.exec(d)?.[1]??"",C=zs(E,_o)[0]??null,I=Gg.exec(E);return{sourceName:h,targetName:y,transformedName:C,attack:I?Number(I[1]):null,health:I?Number(I[2]):null,exp:null!=I?.[3]?Number(I[3]):null,mana:null!=I?.[4]?Number(I[4]):null,equipmentName:zs(E,Yc)[0]??null}}function jg(d,h,o){if(!o)return!1;if(/\bgave\b/i.test(d))return!0;const y=cn(h),E=cn(o);return(!y||!E||y!==E)&&(/\bincreased\b/i.test(d)||/\b(?:attack|health)\s+of\b/i.test(d)||/\b(?:attack|health)\s+by\b/i.test(d))}function iy(d,h,o){const y=new RegExp(`([+-]?\\d+)\\s+${h}\\b`,"i"),E=new RegExp(`${h}\\b(?:\\s+of\\s+[^.]+?)?\\s+by\\s+([+-]?\\d+)`,"i"),C=y.exec(d)??E.exec(d);if(!C)return null;const I=C[1],W=Number(I);return Number.isFinite(W)?I.startsWith("+")||I.startsWith("-")?W:W*o:null}function Zc(d){if(!d)return null;const h=Number(d);return Number.isFinite(h)?h:null}function f1(d){const h=/\bfor\s+(\d+)\b/i.exec(d);if(!h)return null;const o=Number(h[1]);return Number.isFinite(o)?o:null}function Vg(d,h){return function Dr(d){return d?zs(d,Yc)[0]??null:null}(new RegExp(`\\b${h}\\b([\\s\\S]*)$`,"i").exec(d)?.[1]??"")}function ry(d,h,o){const y={impact:null,popups:[],death:null,shifts:[],equipmentChanges:[],toyChanges:[]};return"attack"===h.type?(y.impact=function zg(d,h,o,y){const E=function h1(d){const h=c1.exec(d);if(h)return{attackerName:ts(h[1]),targetName:ts(h[2]),damage:Number(h[3]),isSnipe:!0};const o=l1.exec(d);return o?{attackerName:ts(o[1]),targetName:ts(o[2]),damage:Number(o[3]),isSnipe:!1}:{attackerName:null,targetName:null,damage:f1(d),isSnipe:!1}}(o),C=ga(h),I=ma(d,{preferredSide:C,explicitIndex:h.sourceIndex,expectedName:E.attackerName,preferNonEmpty:!0});I&&E.attackerName&&hi(I.value,E.attackerName),I&&null==I.value.attack&&null!=E.damage&&E.damage>0&&(I.value.attack=E.damage);const W=I?.side??C,X=Ys(d,h,o,W,E.targetName,"opposite"),z=ma(d,{preferredSide:X,explicitIndex:h.targetIndex,expectedName:E.targetName,preferNonEmpty:!0});return z?(E.targetName&&hi(z.value,E.targetName),null!=E.damage&&null!=z.value.health&&(z.value.health=Math.max(0,z.value.health-E.damage)),null!=E.damage&&E.damage>0&&y.push({side:z.side,slot:z.slot,type:"damage",delta:-E.damage}),{attackerSide:I?.side??W,attackerSlot:I?.slot??ha((h.sourceIndex??1)-1),targetSide:z.side,targetSlot:z.slot,damage:E.damage,isSnipe:E.isSnipe}):(null!=E.damage&&E.damage>0&&y.push({side:X,slot:ha((h.targetIndex??1)-1),type:"damage",delta:-E.damage}),{attackerSide:W,attackerSlot:I?.slot??ha((h.sourceIndex??1)-1),targetSide:X,targetSlot:ha((h.targetIndex??1)-1),damage:E.damage,isSnipe:E.isSnipe})}(d,h,o,y.popups),y):"death"===h.type?(y.death=function y1(d,h,o){const y=function El(d){const h=$g.exec(d);return h?ts(h[1]):null}(o),C=ma(d,{preferredSide:ga(h),explicitIndex:h.sourceIndex,expectedName:y,preferNonEmpty:!0});if(!C)return null;const I={side:C.side,slot:C.slot,petIconSrc:C.value.petIconSrc,petName:C.value.petName,petCompanionIconSrc:C.value.petCompanionIconSrc,petCompanionName:C.value.petCompanionName};return C.value.pendingRemoval=!0,null!=C.value.health&&(C.value.health=0),I}(d,h,o),y):"ability"===h.type||"equipment"===h.type?(function np(d,h,o,y){if(!/\btransform(?:ed|ing)?\b/i.test(o))return;const E=ty(o);if(!E.transformedName&&null==E.attack&&null==E.health&&null==E.exp&&null==E.mana&&!E.equipmentName)return;const C=ga(h),I=E.sourceName??Xs(o),W=E.targetName??E.sourceName??I,X=h.targetIndex??h.sourceIndex,pe=ma(d,{preferredSide:Ys(d,h,o,C,W,"same"),explicitIndex:X,expectedName:W,preferNonEmpty:!1});pe&&(E.transformedName&&hi(pe.value,E.transformedName),ap(pe.value,y,pe.side,pe.slot,"attack",E.attack),ap(pe.value,y,pe.side,pe.slot,"health",E.health),ap(pe.value,y,pe.side,pe.slot,"exp",E.exp),ap(pe.value,y,pe.side,pe.slot,"mana",E.mana),E.equipmentName&&Ss(pe.value,E.equipmentName))}(d,h,o,y.popups),function rM(d,h,o,y){const E=function g1(d){const h=/\battack\b/i.test(d),o=/\bhealth\b/i.test(d),y=/\b(?:xp|exp|experience)\b/i.test(d),E=/\bmana\b/i.test(d);if(!(h||o||y||E))return null;const C=/\b(?:lost|spent|took|drain(?:ed)?)\b/i.test(d)?-1:1,I=iy(d,"attack",C),W=iy(d,"health",C),X=function sM(d,h){const y=/([+-]?\d+)\s+(?:xp|exp(?:erience)?)\b/i.exec(d);if(!y)return null;const E=y[1],C=Number(E);return Number.isFinite(C)?E.startsWith("+")||E.startsWith("-")?C:C*h:null}(d,C),z=function _1(d,h){const E=/([+-]?\d+)\s+(?:bonus\s+)?mana\b/i.exec(d)??/\bmana\b(?:\s+of\s+[^.]+?)?\s+by\s+([+-]?\d+)/i.exec(d);if(!E)return null;const C=E[1],I=Number(C);return Number.isFinite(I)?C.startsWith("+")||C.startsWith("-")?I:I*h:null}(d,C);return null==I&&null==W&&null==X&&null==z?null:{attackDelta:I??0,healthDelta:W??0,expDelta:X??0,manaDelta:z??0}}(o);if(!E||0===E.attackDelta&&0===E.healthDelta&&0===E.expDelta&&0===E.manaDelta)return;const C=ga(h),I=Xs(o),W=ey(o,I),X=/\btransform(?:ed|ing)?\b/i.test(o)?ty(o):null,z=jg(o,I,W),pe=!z&&!(!X||/\bgave\b/i.test(o)||!X.transformedName&&!X.targetName),Me=Ys(d,h,o,C,W,"same"),Ie=ts(h.sourcePet?.name),$e=ts(h.targetPet?.name),vt=X?.transformedName??null;if(0!==E.attackDelta||0!==E.healthDelta||0!==E.expDelta){const rt=ma(d,{preferredSide:z||pe?Me:C,explicitIndex:z||pe?h.targetIndex:h.sourceIndex,expectedName:z?W:pe?vt??X?.targetName??W:I,preferNonEmpty:!0});if(rt){const Mt=z?$e??W??Ie??I:pe?vt??$e??X?.targetName??W??Ie??I:vt??Ie??I;Mt&&hi(rt.value,Mt),eu(rt.value,y,rt.side,rt.slot,"attack",E.attackDelta),eu(rt.value,y,rt.side,rt.slot,"health",E.healthDelta),eu(rt.value,y,rt.side,rt.slot,"exp",E.expDelta)}}if(0!==E.manaDelta){const rt=function m1(d,h,o){if(!o||!/\bmana\b/i.test(d))return!1;const y=cn(h),E=cn(o);return(!y||!E||y!==E)&&(!(!/\btook\b/i.test(d)||!/\bfrom\b/i.test(d))||(/\bspent\b/i.test(d)?/\bfrom\b/i.test(d):!!(/\bgave\b/i.test(d)||/\breplaced\b/i.test(d)&&/\bon\b/i.test(d)&&/\bwith\b/i.test(d))||jg(d,h,o)))}(o,I,W),Mt=!rt&&!(!X||/\b(?:spent|took)\b/i.test(o)||!X.transformedName&&!X.targetName),ct=ma(d,{preferredSide:rt||Mt?Me:C,explicitIndex:rt||Mt?h.targetIndex:h.sourceIndex,expectedName:rt?W:Mt?vt??X?.targetName??W:I,preferNonEmpty:!0});if(!ct)return;const bt=rt?$e??W??Ie??I:Mt?vt??$e??X?.targetName??W??Ie??I:Ie??I??vt;bt&&hi(ct.value,bt),eu(ct.value,y,ct.side,ct.slot,"mana",E.manaDelta)}}(d,h,o,y.popups),function Sl(d,h,o,y){const C=zs(o,Yc)[0]??null,I=function b1(d,h,o){return Tl(new RegExp(`\\b${h}\\b([\\s\\S]*?)\\b${o}\\b`,"i").exec(d)?.[1]??"")}(o,"removed","from"),W=function P1(d){return Tl(/\bgave\b([\s\S]*)$/i.exec(d)?.[1]??"")}(o),X=function ny(d,h){const o=new RegExp(`\\b${h}\\b([\\s\\S]*)$`,"i").exec(d)?.[1]??"",y=/\b([PO])([1-5])\b/i.exec(o);return y?{side:"O"===y[1].toUpperCase()?"opponent":"player",index:Number(y[2])}:null}(o,"gave"),z=Vg(o,"gained"),pe=Vg(o,"with"),Me=ga(h),Ie=Xs(o),$e=ey(o,Ie),vt=ts(h.sourcePet?.name),ht=""!==cn($e)&&cn($e)===cn(vt),rt=""!==cn(Ie)&&cn(Ie)===cn(vt),Mt=Ys(d,h,o,Me,$e,"same");if(/\blost\b/i.test(o)&&/\bequipment|perk|ailment\b/i.test(o)){const ct=ma(d,{preferredSide:Me,explicitIndex:h.sourceIndex,expectedName:Ie,preferNonEmpty:!0});if(ct){const bt=ct.value.equipmentName,Pt=ct.value.equipmentIconSrc??Es(bt);Ts(ct.value),y.push({side:ct.side,slot:ct.slot,action:"removed",equipmentName:bt,equipmentIconSrc:Pt})}return}if(/\bdestroyed\b/i.test(o)&&/\bequipment|perk|ailment\b/i.test(o)){const ct=ma(d,{preferredSide:Mt,explicitIndex:h.targetIndex,expectedName:$e,preferNonEmpty:!0});if(ct){const bt=ct.value.equipmentName,Pt=ct.value.equipmentIconSrc??Es(bt);Ts(ct.value),y.push({side:ct.side,slot:ct.slot,action:"removed",equipmentName:bt,equipmentIconSrc:Pt})}return}if(/\bremoved\b/i.test(o)&&/\bfrom\b/i.test(o)&&(null!=I||/\bequipment|perk|ailment\b/i.test(o))){const ct=ma(d,{preferredSide:Mt,explicitIndex:h.targetIndex,expectedName:$e,preferNonEmpty:!0});if(ct){const bt=ct.value.equipmentName??I,Pt=ct.value.equipmentIconSrc??Es(bt);Ts(ct.value),y.push({side:ct.side,slot:ct.slot,action:"removed",equipmentName:bt,equipmentIconSrc:Pt})}}if(/\bstole\b/i.test(o)&&/\bequipment\b/i.test(o)){const ct=ma(d,{preferredSide:Me,explicitIndex:h.sourceIndex,expectedName:Ie,preferNonEmpty:!0}),bt=ma(d,{preferredSide:Mt,explicitIndex:h.targetIndex,expectedName:$e,preferNonEmpty:!0});if(!bt)return;const Pt=bt.value.equipmentName??C,Lt=bt.value.equipmentIconSrc??Es(Pt);return void(Pt&&(Ts(bt.value),y.push({side:bt.side,slot:bt.slot,action:"removed",equipmentName:Pt,equipmentIconSrc:Lt}),ct&&(Ss(ct.value,Pt),y.push({side:ct.side,slot:ct.slot,action:"added",equipmentName:Pt,equipmentIconSrc:ct.value.equipmentIconSrc??Es(Pt)}))))}if(/\bgave\b/i.test(o)){const ct=W??C;if(!ct)return;const bt=h.targetIndex??X?.index??(ht&&!rt?h.sourceIndex:void 0),Lt=ma(d,{preferredSide:X?.side??(ht&&!rt?Al(h.sourcePet?.parent?.isOpponent):null)??Mt,explicitIndex:bt,expectedName:$e,preferNonEmpty:!0});return void(Lt&&(Ss(Lt.value,ct),y.push({side:Lt.side,slot:Lt.slot,action:"added",equipmentName:ct,equipmentIconSrc:Lt.value.equipmentIconSrc??Es(ct)})))}if(/\bgained\b/i.test(o)||/\bwith\b/i.test(o)){const ct=z??pe??C;if(!ct)return;const bt=ma(d,{preferredSide:Me,explicitIndex:h.sourceIndex??h.targetIndex,expectedName:Ie,preferNonEmpty:!0});bt&&(Ss(bt.value,ct),y.push({side:bt.side,slot:bt.slot,action:"added",equipmentName:ct,equipmentIconSrc:bt.value.equipmentIconSrc??Es(ct)}))}}(d,h,o,y.equipmentChanges),function ly(d,h,o){if(!/\b(?:summoned|spawned)\b/i.test(o))return;const y=ga(h),E=Xs(o),C=function v1(d){return/\b(?:summoned|spawned)\b([\s\S]*)$/i.exec(d)?.[1]??""}(o),I=function ay(d,h){const o=zs(d,_o);if(o.length>0){const y=cn(h);return o.find(C=>cn(C)!==y)??o[0]??null}return null}(C,E);if(!I)return;const W=function sy(d,h){return/\b(?:for|on)\s+(?:the\s+)?(?:enemy|opponent)\b/i.test(d)?"player"===h?"opponent":"player":/\bfor\s+(?:the\s+)?player\b/i.test(d)?"player":h}(o,y),X=function Jv(d,h){const o=As(d,h.side);if(null!=h.targetIndex)return ha(h.targetIndex-1);if(h.side===h.sourceSide&&null!=h.sourceIndex){const C=ha(h.sourceIndex-1);if(o[C]?.isEmpty)return C}const y=is(o,h.summonedPetName);if(-1!==y)return y;const E=o.findIndex(C=>C.isEmpty);return-1!==E?E:null}(d,{side:W,sourceSide:y,sourceIndex:h.sourceIndex,targetIndex:h.targetIndex,summonedPetName:I});if(null==X)return;const z=Ng(d,W,X);hi(z,I),z.pendingRemoval=!1,z.attack=null,z.health=null,z.exp=null,z.mana=null,Ts(z);const pe=function p1(d){const h=Gg.exec(d);return{attack:null!=h?.[1]?Number(h[1]):null,health:null!=h?.[2]?Number(h[2]):null,exp:null!=h?.[3]?Number(h[3]):null,mana:null!=h?.[4]?Number(h[4]):null}}(C);null!=pe.attack&&(z.attack=pe.attack),null!=pe.health&&(z.health=pe.health),null!=pe.exp&&(z.exp=pe.exp),null!=pe.mana&&(z.mana=pe.mana);const Me=Vg(C,"with")??zs(C,Yc)[0]??null;Me&&Ss(z,Me)}(d,h,o),function A1(d,h,o,y){const E=/(.+?)\s+broke!/i.exec(o);if(!E)return;const C=E[1],I=ga(h),W=d.playerToyName&&C.toLowerCase().includes(d.playerToyName.toLowerCase()),X=d.playerHardToyName&&C.toLowerCase().includes(d.playerHardToyName.toLowerCase()),z=d.opponentToyName&&C.toLowerCase().includes(d.opponentToyName.toLowerCase()),pe=d.opponentHardToyName&&C.toLowerCase().includes(d.opponentHardToyName.toLowerCase());"player"===I?W?(y.push({side:"player",action:"removed",toyName:d.playerToyName,isHardToy:!1}),d.playerToyName=null):X?(y.push({side:"player",action:"removed",toyName:d.playerHardToyName,isHardToy:!0}),d.playerHardToyName=null):z?(y.push({side:"opponent",action:"removed",toyName:d.opponentToyName,isHardToy:!1}),d.opponentToyName=null):pe&&(y.push({side:"opponent",action:"removed",toyName:d.opponentHardToyName,isHardToy:!0}),d.opponentHardToyName=null):z?(y.push({side:"opponent",action:"removed",toyName:d.opponentToyName,isHardToy:!1}),d.opponentToyName=null):pe?(y.push({side:"opponent",action:"removed",toyName:d.opponentHardToyName,isHardToy:!0}),d.opponentHardToyName=null):W?(y.push({side:"player",action:"removed",toyName:d.playerToyName,isHardToy:!1}),d.playerToyName=null):X&&(y.push({side:"player",action:"removed",toyName:d.playerHardToyName,isHardToy:!0}),d.playerHardToyName=null)}(d,h,o,y.toyChanges),y):"trumpets"===h.type?(function oM(d,h,o,y){const E=function ip(d){const h=/\bgave\s+opponent\s+([+-]?\d+)\s+trumpets?\b/i.exec(d);if(h){const E=Zc(h[1]);return null==E||0===E?null:{delta:Math.abs(E),appliesToOpponent:!0}}const o=/\bgained\s+([+-]?\d+)\s+trumpets?\b/i.exec(d);if(o){const E=Zc(o[1]);return null==E||0===E?null:{delta:E,appliesToOpponent:!1}}const y=/\bspent\s+([+-]?\d+)\s+trumpets?\b/i.exec(d);if(y){const E=Zc(y[1]);return null==E||0===E?null:{delta:-Math.abs(E),appliesToOpponent:!1}}return null}(o);if(!E)return;const C=ga(h),I=Xs(o),W=ma(d,{preferredSide:C,explicitIndex:h.sourceIndex,expectedName:I,preferNonEmpty:!0});W&&I&&hi(W.value,I);const X=E.appliesToOpponent?function s1(d){return"player"===d?"opponent":"player"}(W?.side??C):W?.side??C,z=function Jc(d,h,o,y){if(null!=o)return ha(o);if(null!=y&&Number.isFinite(y))return ha(y-1);const C=As(d,h).findIndex(I=>!I.isEmpty);return-1===C?0:C}(d,X,E.appliesToOpponent?null:W?.slot??null,E.appliesToOpponent?h.targetIndex:h.sourceIndex);y.push({side:X,slot:z,type:"trumpets",delta:E.delta})}(d,h,o,y.popups),y):("move"===h.type&&/\bmoved\b/i.test(o)&&(function tp(d){Wg(d,"player"),Wg(d,"opponent")}(d),y.shifts.push(...Tr(d,"player")),y.shifts.push(...Tr(d,"opponent"))),y)}function ap(d,h,o,y,E,C){if(null==C)return;const I="attack"===E?d.attack:"health"===E?d.health:"exp"===E?d.exp:d.mana;"attack"===E?d.attack=C:"health"===E?d.health=C:"exp"===E?d.exp=C:d.mana=C,oy(h,o,y,E,null!=I?C-I:0)}function eu(d,h,o,y,E,C){if(0===C)return;const I="attack"===E?d.attack??0:"health"===E?d.health??0:"exp"===E?d.exp??0:d.mana??0,W=Math.max(0,I+C);"attack"===E?d.attack=W:"health"===E?d.health=W:"exp"===E?d.exp=W:d.mana=W,oy(h,o,y,E,W-I)}function oy(d,h,o,y,E){!Number.isFinite(E)||0===E||d.push({side:h,slot:o,type:y,delta:E})}function Tl(d){return d?zs(d,Yc)[0]??null:null}const D1=[],k1=new Set(Object.values(Wa.U).flat().filter(Boolean).map(d=>Js(d)));function tu(d){d.fightAnimationTimer&&(clearTimeout(d.fightAnimationTimer),d.fightAnimationTimer=null)}function Mr(d,h=!0){d.fightAnimationPlaying=!1,tu(d),h&&d.markForCheck()}function Jg(d){if(tu(d),!d.fightAnimationPlaying)return;const h=function _y(d){const h=Ds(d),o=qg(d.fightAnimationSpeed),y=function fy(d){if(!d)return 680;let h=480;return"board"===d.type?h=240:"attack"===d.type?h=760:"death"===d.type?h=680:"ability"===d.type||"equipment"===d.type?h=620:"move"===d.type&&(h=560),d.randomEvent&&(h+=90),(d.impact||d.death||d.popups.length>0)&&(h=Math.max(h,720)),h}(h);return Math.max(120,Math.round(y/o))}(d);d.fightAnimationTimer=setTimeout(()=>{d.fightAnimationTimer=null,function x1(d){if(!d.fightAnimationPlaying||0===d.fightAnimationFrames.length)return void Mr(d,!1);const h=d.fightAnimationFrames.length-1;if(d.fightAnimationFrameIndex>=h)Mr(d);else{if(d.fightAnimationFrameIndex+=1,Ds(d),d.fightAnimationFrameIndex>=h)return function fa(d){const h=d.viewBattle?.winner;"player"!==h?"opponent"!==h?"draw"===h&&Zg("assets/sounds/pets/TallyDraw-sharedassets1.assets-3577.ogg"):Zg("assets/sounds/pets/TallyDefeat-sharedassets1.assets-3836.ogg"):Zg("assets/sounds/pets/TallyVictory-sharedassets1.assets-3517.ogg")}(d),void Mr(d);d.markForCheck(),Jg(d)}}(d)},h)}function Ds(d){return d.fightAnimationFrameIndex<0||d.fightAnimationFrameIndex>=d.fightAnimationFrames.length?null:d.fightAnimationFrames[d.fightAnimationFrameIndex]??null}function B1(d){return{equipmentName:d.equipmentName,equipmentIconSrc:d.equipmentIconSrc}}function Ms(d,h){return`${d}:${h}`}function Qg(d){return!!d&&k1.has(Js(d))}function hy(d){const h=Js(d.equipmentName);if(h)return`name:${h}`;const o=Js(d.equipmentIconSrc);return o?`icon:${o}`:null}function rp(d,h,o,y){const E=Math.min(h.length,o.length);for(let C=0;C<E;C+=1){const I=h[C],W=o[C];!I||!W||y(I,W)&&d.add(Ms(I.side,I.slot))}}function my(d,h){const o=Js(d.petName),y=Js(h.petName);return o||y?o!==y:Js(d.petIconSrc)!==Js(h.petIconSrc)}function Js(d){return(d??"").trim().toLowerCase()}function qg(d){return.5===d||1===d||1.5===d||2===d?d:1}function Zg(d){if(Th()||typeof Audio>"u")return;const h=Dh();if(!(h<=0))try{const o=new Audio(d);o.volume=h;const y=o.play();y&&"function"==typeof y.catch&&y.catch(()=>{})}catch{}}var vy=i(15082);const em=(0,kt.bf)(),tm=(0,kt.Eo)(),yy=(0,kt.oI)(),N1=(0,vy.Fq)(em,tm,yy),by=(0,vy.IF)(em,tm,yy),U1=new Set(Object.values(Wa.U).flat().filter(Boolean));function im(d){return Pg((0,vy.N7)(d??"",by,N1,U1))}function nm(d,h){const o=iu(h),y=d.randomDecisionSelectionByFingerprint[o]??h.selectedOptionId??h.options[0]?.id??"";return h.options.some(E=>E.id===y)?y:h.selectedOptionId??h.options[0]?.id??""}function am(d,h,o){d.runSimulation(1,{logsEnabled:!0,simulationCount:1,maxLoggedBattles:1,captureRandomDecisions:!0,randomDecisionOverrides:h,strictRandomOverrideValidation:o})}function op(d){const h=[];for(const o of d.randomDecisions){const y=nm(d,o);y&&h.push({index:o.index,optionId:y,key:o.key,label:o.label})}return h}function iu(d){return`${d.key}::${d.label}`}function lp(d,h,o){const y=new Map(Object.entries(d.randomDecisionSelectionByFingerprint));for(const C of o){const I=iu(C),W=y.get(I)??C.selectedOptionId??null;W&&y.set(I,W)}const E={};for(const C of h){const I=iu(C),W=y.get(I),X=C.selectedOptionId??C.options[0]?.id??"",z=W??X;C.options.some(pe=>pe.id===z)?E[I]=z:X&&(E[I]=X)}d.randomDecisionSelectionByFingerprint=E}function sm(d,h,o){const y=[0,1,2,3,4],E=z=>new ue.gE({name:new ue.MJ(z?.name),attack:new ue.MJ(z?.attack??0),health:new ue.MJ(z?.health??0),exp:new ue.MJ(z?.exp??0),equipment:new ue.MJ(z?.equipment?.name??null),equipmentUses:new ue.MJ(z?.equipment?.uses??null),belugaSwallowedPet:new ue.MJ(z?.belugaSwallowedPet),parrotCopyPet:new ue.MJ(z?.parrotCopyPet??null),parrotCopyPetBelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet2:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet3:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet2Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet3Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet1TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet2TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet3TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3TimesHurt??0),parrotCopyPetAbominationSwallowedPet1ParrotCopyPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level??1),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level??1),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level??1),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt:new ue.MJ(z?.parrotCopyPetAbominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),sarcasticFringeheadSwallowedPet:new ue.MJ,mana:new ue.MJ(z?.mana??0),triggersConsumed:new ue.MJ(z?.triggersConsumed??0),foodsEaten:new ue.MJ(z?.foodsEaten??0),abominationSwallowedPet1:new ue.MJ(z?.abominationSwallowedPet1),abominationSwallowedPet2:new ue.MJ(z?.abominationSwallowedPet2),abominationSwallowedPet3:new ue.MJ(z?.abominationSwallowedPet3),abominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet1SarcasticFringeheadSwallowedPet:new ue.MJ(z?.abominationSwallowedPet1SarcasticFringeheadSwallowedPet??null),abominationSwallowedPet2SarcasticFringeheadSwallowedPet:new ue.MJ(z?.abominationSwallowedPet2SarcasticFringeheadSwallowedPet??null),abominationSwallowedPet3SarcasticFringeheadSwallowedPet:new ue.MJ(z?.abominationSwallowedPet3SarcasticFringeheadSwallowedPet??null),abominationSwallowedPet1ParrotCopyPet:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPet??null),abominationSwallowedPet2ParrotCopyPet:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPet??null),abominationSwallowedPet3ParrotCopyPet:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPet??null),abominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetBelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetBelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetBelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1BelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2BelugaSwallowedPet??null),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3BelugaSwallowedPet??null),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1Level??1),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2Level??1),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3Level??1),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1Level??1),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2Level??1),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3Level??1),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1Level??1),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2Level??1),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3Level??1),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt:new ue.MJ(z?.abominationSwallowedPet1ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt:new ue.MJ(z?.abominationSwallowedPet2ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet1TimesHurt??0),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet2TimesHurt??0),abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt:new ue.MJ(z?.abominationSwallowedPet3ParrotCopyPetAbominationSwallowedPet3TimesHurt??0),abominationSwallowedPet1Level:new ue.MJ(z?.abominationSwallowedPet1Level??1),abominationSwallowedPet2Level:new ue.MJ(z?.abominationSwallowedPet2Level??1),abominationSwallowedPet3Level:new ue.MJ(z?.abominationSwallowedPet3Level??1),abominationSwallowedPet1TimesHurt:new ue.MJ(z?.abominationSwallowedPet1TimesHurt??0),abominationSwallowedPet2TimesHurt:new ue.MJ(z?.abominationSwallowedPet2TimesHurt??0),abominationSwallowedPet3TimesHurt:new ue.MJ(z?.abominationSwallowedPet3TimesHurt??0),friendsDiedBeforeBattle:new ue.MJ(z?.friendsDiedBeforeBattle??0),battlesFought:new ue.MJ(z?.battlesFought??0),timesHurt:new ue.MJ(z?.timesHurt??0)}),C=y.map(z=>E(h.getPet(z))),I=d.get("playerPets");I.clear();for(const z of C)I.push(z);const W=y.map(z=>E(o.getPet(z))),X=d.get("opponentPets");X.clear();for(const z of W)X.push(z)}const Ca=["Nessie","Bunyip","Mana Hound","Ammonite","Fossa","Hippocampus","Platybelodon","Barnacle","Olm"];var Sy=i(74766),G1=i.t(Sy,2);const H1={Pack1:"Turtle",Pack2:"Puppy",Pack3:"Star",Pack4:"Golden",Pack5:"Unicorn",Danger:"Danger",Custom:"Custom",MiniPack1:"Custom",MiniPack2:"Custom",MiniPack3:"Custom"};let rm=null;function bM(d){return d}function cp(d,h){return h?.id??String(d)}function lm(d,h){return h?.value??String(d)}function Dl(d){d.formGroup.get("playerPack").setValue(d.formGroup.get("playerPack").value,{emitEvent:!1}),d.formGroup.get("opponentPack").setValue(d.formGroup.get("opponentPack").value,{emitEvent:!1})}function cm(d){return d}function Cs(d,h){for(let o=0;o<5;o++){const y=d.petService.getRandomPet(h);y.equipment=Iy(d,h),h.setPet(o,y,!0)}}function Qs(d,h){const o=function dm(d){const h=d.toyService.getToysByType(0),o=[];if(h.forEach(E=>{E.forEach(C=>{C&&o.push(C)})}),o.push(null),!o.length)return null;const y=Math.floor(Math.random()*o.length);return o[y]}(d),E=h===d.player?"playerToy":"opponentToy";if(!o)return d.formGroup.get(E).setValue(null),h.toy=null,h.originalToy=null,void nu(d,h,null);d.formGroup.get(E).setValue(o),Cl(d,h,o)}function Ml(d,h,o,y=!0){h.pack=o;const E=d.formGroup.get("allPets").value;let C;switch(y&&!E&&kl(d,h),o){case"Turtle":C=d.petService.turtlePackPets;break;case"Puppy":C=d.petService.puppyPackPets;break;case"Star":C=d.petService.starPackPets;break;case"Golden":C=d.petService.goldenPackPets;break;case"Unicorn":C=d.petService.unicornPackPets;break;case"Danger":C=d.petService.dangerPackPets;break;default:C=d.petService.playerCustomPackPets.get(o),C||(d.formGroup.get("allPets").setValue(!0,{emitEvent:!1}),C=d.petService.allPets)}h==d.player?d.gameService.setTierGroupPets(C,null):d.gameService.setTierGroupPets(null,C),d.formGroup.get("allPets")}function Cl(d,h,o){if(!o)return h.toy=null,h.originalToy=null,void nu(d,h,null);let y;h==d.player&&(y="playerToyLevel"),h==d.opponent&&(y="opponentToyLevel");const E=Number(d.formGroup.get(y).value);h.toy=d.toyService.createToy(o,h,E),h.originalToy=h.toy,nu(d,h,o)}function kl(d,h){d.formGroup.get(h===d.player?"playerToy":"opponentToy").setValue(null),h.toy=null,h.originalToy=null,nu(d,h,null)}function nu(d,h,o){const y=d.toyService.getToyNameId(o),E=y?`${hg}${y}.png`:"";h==d.player?d.playerToyImageUrl=E:h==d.opponent&&(d.opponentToyImageUrl=E)}function up(d,h,o){const y=d.toyService.getToyNameId(o),E=y?`${hg}${y}.png`:"";h==d.player?d.playerHardToyImageUrl=E:h==d.opponent&&(d.opponentHardToyImageUrl=E)}function um(d,h){let o=1;h>2&&(o=2),h>4&&(o=3),h>6&&(o=4),h>8&&(o=5),h>10&&(o=6),d.gameService.setPreviousShopTier(o),d.gameService.setTurnNumber(h)}function wy(d,h,o){d.gameService.setGoldSpent(h,o)}function Oy(d,h,o){h.toy&&(h.toy.level=o)}function Iy(d,h){const o=Array.from(d.equipmentService.getInstanceOfAllEquipment().values()).filter(z=>"Corncob"!==z?.name),y=d.formGroup?.get("allPets")?.value;let E=o;if(!y){const pe=function om(d){return d?(rm||(rm=function Ty(){const d=new Map,h=Sy??G1??[];for(const o of h){const y=o?.Name;if(!y)continue;const E=new Set,C=o?.Packs??[];for(const W of C)W&&E.add(String(W).trim());if(!(E.has("Custom")||E.has("MiniPack1")||E.has("MiniPack2")||E.has("MiniPack3")))for(const W of o?.PacksRequired??[])W&&E.add(String(W).trim());for(const W of E){const X=H1[W];X&&(d.has(X)||d.set(X,new Set),d.get(X)?.add(y))}}return d}()),rm.get(d)??null):null}(h?.pack??d.player?.pack??null);pe&&pe.size>0&&(E=o.filter(Me=>pe.has(Me?.name)))}const I=d.formGroup?.get("ailmentEquipment")?.value?Array.from(d.equipmentService.getInstanceOfAllAilments().values()):[],W=E.concat(I);return 0===W.length?null:W[Math.floor(Math.random()*W.length)]}function Zi(d){return(0,kt.bG)(d)??""}function Ry(d){return d.savedTeams.find(h=>h.id===d.selectedTeamId)}function PM(d){return d?{"background-image":`url(${(0,kt.bG)(d)})`,"background-repeat":"no-repeat","background-size":"20px 20px","background-position":"left center","padding-left":"2rem"}:{}}var ia="top",ka="bottom",wa="right",na="left",au="auto",su=[ia,ka,wa,na],kr="start",yo="end",xy="clippingParents",pm="viewport",wl="popper",By="reference",hm=su.reduce(function(d,h){return d.concat([h+"-"+kr,h+"-"+yo])},[]),gm=[].concat(su,[au]).reduce(function(d,h){return d.concat([h,h+"-"+kr,h+"-"+yo])},[]),Fy="beforeRead",Ny="read",Uy="afterRead",Wy="beforeMain",Ky="main",$y="afterMain",Gy="beforeWrite",Hy="write",jy="afterWrite",Vy=[Fy,Ny,Uy,Wy,Ky,$y,Gy,Hy,jy];function ks(d){return d?(d.nodeName||"").toLowerCase():null}function Oa(d){if(null==d)return window;if("[object Window]"!==d.toString()){var h=d.ownerDocument;return h&&h.defaultView||window}return d}function bo(d){return d instanceof Oa(d).Element||d instanceof Element}function $a(d){return d instanceof Oa(d).HTMLElement||d instanceof HTMLElement}function mm(d){return!(typeof ShadowRoot>"u")&&(d instanceof Oa(d).ShadowRoot||d instanceof ShadowRoot)}const fm={name:"applyStyles",enabled:!0,phase:"write",fn:function zy(d){var h=d.state;Object.keys(h.elements).forEach(function(o){var y=h.styles[o]||{},E=h.attributes[o]||{},C=h.elements[o];!$a(C)||!ks(C)||(Object.assign(C.style,y),Object.keys(E).forEach(function(I){var W=E[I];!1===W?C.removeAttribute(I):C.setAttribute(I,!0===W?"":W)}))})},effect:function _m(d){var h=d.state,o={popper:{position:h.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(h.elements.popper.style,o.popper),h.styles=o,h.elements.arrow&&Object.assign(h.elements.arrow.style,o.arrow),function(){Object.keys(h.elements).forEach(function(y){var E=h.elements[y],C=h.attributes[y]||{},W=Object.keys(h.styles.hasOwnProperty(y)?h.styles[y]:o[y]).reduce(function(X,z){return X[z]="",X},{});!$a(E)||!ks(E)||(Object.assign(E.style,W),Object.keys(C).forEach(function(X){E.removeAttribute(X)}))})}},requires:["computeStyles"]};function ws(d){return d.split("-")[0]}var Po=Math.max,dp=Math.min,Ga=Math.round;function Ol(){var d=navigator.userAgentData;return null!=d&&d.brands&&Array.isArray(d.brands)?d.brands.map(function(h){return h.brand+"/"+h.version}).join(" "):navigator.userAgent}function V1(){return!/^((?!chrome|android).)*safari/i.test(Ol())}function ru(d,h,o){void 0===h&&(h=!1),void 0===o&&(o=!1);var y=d.getBoundingClientRect(),E=1,C=1;h&&$a(d)&&(E=d.offsetWidth>0&&Ga(y.width)/d.offsetWidth||1,C=d.offsetHeight>0&&Ga(y.height)/d.offsetHeight||1);var W=(bo(d)?Oa(d):window).visualViewport,X=!V1()&&o,z=(y.left+(X&&W?W.offsetLeft:0))/E,pe=(y.top+(X&&W?W.offsetTop:0))/C,Me=y.width/E,Ie=y.height/C;return{width:Me,height:Ie,top:pe,right:z+Me,bottom:pe+Ie,left:z,x:z,y:pe}}function vm(d){var h=ru(d),o=d.offsetWidth,y=d.offsetHeight;return Math.abs(h.width-o)<=1&&(o=h.width),Math.abs(h.height-y)<=1&&(y=h.height),{x:d.offsetLeft,y:d.offsetTop,width:o,height:y}}function pp(d,h){var o=h.getRootNode&&h.getRootNode();if(d.contains(h))return!0;if(o&&mm(o)){var y=h;do{if(y&&d.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function qs(d){return Oa(d).getComputedStyle(d)}function Il(d){return["table","td","th"].indexOf(ks(d))>=0}function va(d){return((bo(d)?d.ownerDocument:d.document)||window.document).documentElement}function Zs(d){return"html"===ks(d)?d:d.assignedSlot||d.parentNode||(mm(d)?d.host:null)||va(d)}function hp(d){return $a(d)&&"fixed"!==qs(d).position?d.offsetParent:null}function Rl(d){for(var h=Oa(d),o=hp(d);o&&Il(o)&&"static"===qs(o).position;)o=hp(o);return o&&("html"===ks(o)||"body"===ks(o)&&"static"===qs(o).position)?h:o||function gp(d){var h=/firefox/i.test(Ol());if(/Trident/i.test(Ol())&&$a(d)&&"fixed"===qs(d).position)return null;var E=Zs(d);for(mm(E)&&(E=E.host);$a(E)&&["html","body"].indexOf(ks(E))<0;){var C=qs(E);if("none"!==C.transform||"none"!==C.perspective||"paint"===C.contain||-1!==["transform","perspective"].indexOf(C.willChange)||h&&"filter"===C.willChange||h&&C.filter&&"none"!==C.filter)return E;E=E.parentNode}return null}(d)||h}function Ll(d){return["top","bottom"].indexOf(d)>=0?"x":"y"}function ns(d,h,o){return Po(d,dp(h,o))}function Jy(d){return Object.assign({},{top:0,right:0,bottom:0,left:0},d)}function ym(d,h){return h.reduce(function(o,y){return o[y]=d,o},{})}const ou={name:"arrow",enabled:!0,phase:"main",fn:function bm(d){var h,o=d.state,y=d.name,E=d.options,C=o.elements.arrow,I=o.modifiersData.popperOffsets,W=ws(o.placement),X=Ll(W),pe=[na,wa].indexOf(W)>=0?"height":"width";if(C&&I){var Me=function(h,o){return Jy("number"!=typeof(h="function"==typeof h?h(Object.assign({},o.rects,{placement:o.placement})):h)?h:ym(h,su))}(E.padding,o),Ie=vm(C),$e="y"===X?ia:na,vt="y"===X?ka:wa,ht=o.rects.reference[pe]+o.rects.reference[X]-I[X]-o.rects.popper[pe],rt=I[X]-o.rects.reference[X],Mt=Rl(C),ct=Mt?"y"===X?Mt.clientHeight||0:Mt.clientWidth||0:0,Tt=ct/2-Ie[pe]/2+(ht/2-rt/2),Ct=ns(Me[$e],Tt,ct-Ie[pe]-Me[vt]);o.modifiersData[y]=((h={})[X]=Ct,h.centerOffset=Ct-Tt,h)}},effect:function Pm(d){var h=d.state,y=d.options.element,E=void 0===y?"[data-popper-arrow]":y;null!=E&&("string"==typeof E&&!(E=h.elements.popper.querySelector(E))||pp(h.elements.popper,E)&&(h.elements.arrow=E))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function er(d){return d.split("-")[1]}var z1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lu(d){var h,o=d.popper,y=d.popperRect,E=d.placement,C=d.variation,I=d.offsets,W=d.position,X=d.gpuAcceleration,z=d.adaptive,pe=d.roundOffsets,Me=d.isFixed,Ie=I.x,$e=void 0===Ie?0:Ie,vt=I.y,ht=void 0===vt?0:vt,rt="function"==typeof pe?pe({x:$e,y:ht}):{x:$e,y:ht};$e=rt.x,ht=rt.y;var Mt=I.hasOwnProperty("x"),ct=I.hasOwnProperty("y"),bt=na,Pt=ia,Lt=window;if(z){var Tt=Rl(o),Ct="clientHeight",li="clientWidth";Tt===Oa(o)&&"static"!==qs(Tt=va(o)).position&&"absolute"===W&&(Ct="scrollHeight",li="scrollWidth"),(E===ia||(E===na||E===wa)&&C===yo)&&(Pt=ka,ht-=(Me&&Tt===Lt&&Lt.visualViewport?Lt.visualViewport.height:Tt[Ct])-y.height,ht*=X?1:-1),E!==na&&(E!==ia&&E!==ka||C!==yo)||(bt=wa,$e-=(Me&&Tt===Lt&&Lt.visualViewport?Lt.visualViewport.width:Tt[li])-y.width,$e*=X?1:-1)}var zn,An=Object.assign({position:W},z&&z1),ja=!0===pe?function Y1(d,h){var y=d.y,E=h.devicePixelRatio||1;return{x:Ga(d.x*E)/E||0,y:Ga(y*E)/E||0}}({x:$e,y:ht},Oa(o)):{x:$e,y:ht};return $e=ja.x,ht=ja.y,Object.assign({},An,X?((zn={})[Pt]=ct?"0":"",zn[bt]=Mt?"0":"",zn.transform=(Lt.devicePixelRatio||1)<=1?"translate("+$e+"px, "+ht+"px)":"translate3d("+$e+"px, "+ht+"px, 0)",zn):((h={})[Pt]=ct?ht+"px":"",h[bt]=Mt?$e+"px":"",h.transform="",h))}const xl={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function X1(d){var h=d.state,o=d.options,y=o.gpuAcceleration,E=void 0===y||y,C=o.adaptive,I=void 0===C||C,W=o.roundOffsets,X=void 0===W||W,z={placement:ws(h.placement),variation:er(h.placement),popper:h.elements.popper,popperRect:h.rects.popper,gpuAcceleration:E,isFixed:"fixed"===h.options.strategy};null!=h.modifiersData.popperOffsets&&(h.styles.popper=Object.assign({},h.styles.popper,lu(Object.assign({},z,{offsets:h.modifiersData.popperOffsets,position:h.options.strategy,adaptive:I,roundOffsets:X})))),null!=h.modifiersData.arrow&&(h.styles.arrow=Object.assign({},h.styles.arrow,lu(Object.assign({},z,{offsets:h.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:X})))),h.attributes.popper=Object.assign({},h.attributes.popper,{"data-popper-placement":h.placement})},data:{}};var _p={passive:!0};const cu={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function J1(d){var h=d.state,o=d.instance,y=d.options,E=y.scroll,C=void 0===E||E,I=y.resize,W=void 0===I||I,X=Oa(h.elements.popper),z=[].concat(h.scrollParents.reference,h.scrollParents.popper);return C&&z.forEach(function(pe){pe.addEventListener("scroll",o.update,_p)}),W&&X.addEventListener("resize",o.update,_p),function(){C&&z.forEach(function(pe){pe.removeEventListener("scroll",o.update,_p)}),W&&X.removeEventListener("resize",o.update,_p)}},data:{}};var Q1={left:"right",right:"left",bottom:"top",top:"bottom"};function fp(d){return d.replace(/left|right|bottom|top/g,function(h){return Q1[h]})}var q1={start:"end",end:"start"};function Qy(d){return d.replace(/start|end/g,function(h){return q1[h]})}function qy(d){var h=Oa(d);return{scrollLeft:h.pageXOffset,scrollTop:h.pageYOffset}}function vp(d){return ru(va(d)).left+qy(d).scrollLeft}function Am(d){var h=qs(d);return/auto|scroll|overlay|hidden/.test(h.overflow+h.overflowY+h.overflowX)}function Zy(d){return["html","body","#document"].indexOf(ks(d))>=0?d.ownerDocument.body:$a(d)&&Am(d)?d:Zy(Zs(d))}function uu(d,h){var o;void 0===h&&(h=[]);var y=Zy(d),E=y===(null==(o=d.ownerDocument)?void 0:o.body),C=Oa(y),I=E?[C].concat(C.visualViewport||[],Am(y)?y:[]):y,W=h.concat(I);return E?W:W.concat(uu(Zs(I)))}function yp(d){return Object.assign({},d,{left:d.x,top:d.y,right:d.x+d.width,bottom:d.y+d.height})}function Em(d,h,o){return h===pm?yp(function Z1(d,h){var o=Oa(d),y=va(d),E=o.visualViewport,C=y.clientWidth,I=y.clientHeight,W=0,X=0;if(E){C=E.width,I=E.height;var z=V1();(z||!z&&"fixed"===h)&&(W=E.offsetLeft,X=E.offsetTop)}return{width:C,height:I,x:W+vp(d),y:X}}(d,o)):bo(h)?function eT(d,h){var o=ru(d,!1,"fixed"===h);return o.top=o.top+d.clientTop,o.left=o.left+d.clientLeft,o.bottom=o.top+d.clientHeight,o.right=o.left+d.clientWidth,o.width=d.clientWidth,o.height=d.clientHeight,o.x=o.left,o.y=o.top,o}(h,o):yp(function AM(d){var h,o=va(d),y=qy(d),E=null==(h=d.ownerDocument)?void 0:h.body,C=Po(o.scrollWidth,o.clientWidth,E?E.scrollWidth:0,E?E.clientWidth:0),I=Po(o.scrollHeight,o.clientHeight,E?E.scrollHeight:0,E?E.clientHeight:0),W=-y.scrollLeft+vp(d),X=-y.scrollTop;return"rtl"===qs(E||o).direction&&(W+=Po(o.clientWidth,E?E.clientWidth:0)-C),{width:C,height:I,x:W,y:X}}(va(d)))}function Sm(d){var X,h=d.reference,o=d.element,y=d.placement,E=y?ws(y):null,C=y?er(y):null,I=h.x+h.width/2-o.width/2,W=h.y+h.height/2-o.height/2;switch(E){case ia:X={x:I,y:h.y-o.height};break;case ka:X={x:I,y:h.y+h.height};break;case wa:X={x:h.x+h.width,y:W};break;case na:X={x:h.x-o.width,y:W};break;default:X={x:h.x,y:h.y}}var z=E?Ll(E):null;if(null!=z){var pe="y"===z?"height":"width";switch(C){case kr:X[z]=X[z]-(h[pe]/2-o[pe]/2);break;case yo:X[z]=X[z]+(h[pe]/2-o[pe]/2)}}return X}function Bl(d,h){void 0===h&&(h={});var y=h.placement,E=void 0===y?d.placement:y,C=h.strategy,I=void 0===C?d.strategy:C,W=h.boundary,X=void 0===W?xy:W,z=h.rootBoundary,pe=void 0===z?pm:z,Me=h.elementContext,Ie=void 0===Me?wl:Me,$e=h.altBoundary,vt=void 0!==$e&&$e,ht=h.padding,rt=void 0===ht?0:ht,Mt=Jy("number"!=typeof rt?rt:ym(rt,su)),bt=d.rects.popper,Pt=d.elements[vt?Ie===wl?By:wl:Ie],Lt=function eb(d,h,o,y){var E="clippingParents"===h?function tT(d){var h=uu(Zs(d)),y=["absolute","fixed"].indexOf(qs(d).position)>=0&&$a(d)?Rl(d):d;return bo(y)?h.filter(function(E){return bo(E)&&pp(E,y)&&"body"!==ks(E)}):[]}(d):[].concat(h),C=[].concat(E,[o]),W=C.reduce(function(X,z){var pe=Em(d,z,y);return X.top=Po(pe.top,X.top),X.right=dp(pe.right,X.right),X.bottom=dp(pe.bottom,X.bottom),X.left=Po(pe.left,X.left),X},Em(d,C[0],y));return W.width=W.right-W.left,W.height=W.bottom-W.top,W.x=W.left,W.y=W.top,W}(bo(Pt)?Pt:Pt.contextElement||va(d.elements.popper),X,pe,I),Tt=ru(d.elements.reference),Ct=Sm({reference:Tt,element:bt,strategy:"absolute",placement:E}),li=yp(Object.assign({},bt,Ct)),dn=Ie===wl?li:Tt,en={top:Lt.top-dn.top+Mt.top,bottom:dn.bottom-Lt.bottom+Mt.bottom,left:Lt.left-dn.left+Mt.left,right:dn.right-Lt.right+Mt.right},An=d.modifiersData.offset;if(Ie===wl&&An){var ja=An[E];Object.keys(en).forEach(function(zn){var ci=[wa,ka].indexOf(zn)>=0?1:-1,Ls=[ia,ka].indexOf(zn)>=0?"y":"x";en[zn]+=ja[Ls]*ci})}return en}const tb={name:"flip",enabled:!0,phase:"main",fn:function aT(d){var h=d.state,o=d.options,y=d.name;if(!h.modifiersData[y]._skip){for(var E=o.mainAxis,C=void 0===E||E,I=o.altAxis,W=void 0===I||I,X=o.fallbackPlacements,z=o.padding,pe=o.boundary,Me=o.rootBoundary,Ie=o.altBoundary,$e=o.flipVariations,vt=void 0===$e||$e,ht=o.allowedAutoPlacements,rt=h.options.placement,Mt=ws(rt),bt=X||(Mt!==rt&&vt?function nT(d){if(ws(d)===au)return[];var h=fp(d);return[Qy(d),h,Qy(h)]}(rt):[fp(rt)]),Pt=[rt].concat(bt).reduce(function(Jp,ec){return Jp.concat(ws(ec)===au?function iT(d,h){void 0===h&&(h={});var E=h.boundary,C=h.rootBoundary,I=h.padding,W=h.flipVariations,X=h.allowedAutoPlacements,z=void 0===X?gm:X,pe=er(h.placement),Me=pe?W?hm:hm.filter(function(vt){return er(vt)===pe}):su,Ie=Me.filter(function(vt){return z.indexOf(vt)>=0});0===Ie.length&&(Ie=Me);var $e=Ie.reduce(function(vt,ht){return vt[ht]=Bl(d,{placement:ht,boundary:E,rootBoundary:C,padding:I})[ws(ht)],vt},{});return Object.keys($e).sort(function(vt,ht){return $e[vt]-$e[ht]})}(h,{placement:ec,boundary:pe,rootBoundary:Me,padding:z,flipVariations:vt,allowedAutoPlacements:ht}):ec)},[]),Lt=h.rects.reference,Tt=h.rects.popper,Ct=new Map,li=!0,dn=Pt[0],en=0;en<Pt.length;en++){var An=Pt[en],ja=ws(An),zn=er(An)===kr,ci=[ia,ka].indexOf(ja)>=0,Ls=ci?"width":"height",rs=Bl(h,{placement:An,boundary:pe,rootBoundary:Me,altBoundary:Ie,padding:z}),or=ci?zn?wa:na:zn?ka:ia;Lt[Ls]>Tt[Ls]&&(or=fp(or));var ZP=fp(or),Fu=[];if(C&&Fu.push(rs[ja]<=0),W&&Fu.push(rs[or]<=0,rs[ZP]<=0),Fu.every(function(Jp){return Jp})){dn=An,li=!1;break}Ct.set(An,Fu)}if(li)for(var hD=function(ec){var w_=Pt.find(function(iA){var Nu=Ct.get(iA);if(Nu)return Nu.slice(0,ec).every(function(gD){return gD})});if(w_)return dn=w_,"break"},k_=vt?3:1;k_>0&&"break"!==hD(k_);k_--);h.placement!==dn&&(h.modifiersData[y]._skip=!0,h.placement=dn,h.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ib(d,h,o){return void 0===o&&(o={x:0,y:0}),{top:d.top-h.height-o.y,right:d.right-h.width+o.x,bottom:d.bottom-h.height+o.y,left:d.left-h.width-o.x}}function Tm(d){return[ia,wa,ka,na].some(function(h){return d[h]>=0})}const nb={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function sT(d){var h=d.state,o=d.name,y=h.rects.reference,E=h.rects.popper,C=h.modifiersData.preventOverflow,I=Bl(h,{elementContext:"reference"}),W=Bl(h,{altBoundary:!0}),X=ib(I,y),z=ib(W,E,C),pe=Tm(X),Me=Tm(z);h.modifiersData[o]={referenceClippingOffsets:X,popperEscapeOffsets:z,isReferenceHidden:pe,hasPopperEscaped:Me},h.attributes.popper=Object.assign({},h.attributes.popper,{"data-popper-reference-hidden":pe,"data-popper-escaped":Me})}},Cm={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Mm(d){var h=d.state,y=d.name,E=d.options.offset,C=void 0===E?[0,0]:E,I=gm.reduce(function(pe,Me){return pe[Me]=function Dm(d,h,o){var y=ws(d),E=[na,ia].indexOf(y)>=0?-1:1,C="function"==typeof o?o(Object.assign({},h,{placement:d})):o,I=C[0],W=C[1];return I=I||0,W=(W||0)*E,[na,wa].indexOf(y)>=0?{x:W,y:I}:{x:I,y:W}}(Me,h.rects,C),pe},{}),W=I[h.placement],z=W.y;null!=h.modifiersData.popperOffsets&&(h.modifiersData.popperOffsets.x+=W.x,h.modifiersData.popperOffsets.y+=z),h.modifiersData[y]=I}},km={name:"popperOffsets",enabled:!0,phase:"read",fn:function rT(d){var h=d.state;h.modifiersData[d.name]=Sm({reference:h.rects.reference,element:h.rects.popper,strategy:"absolute",placement:h.placement})},data:{}},wm={name:"preventOverflow",enabled:!0,phase:"main",fn:function lT(d){var h=d.state,o=d.options,y=d.name,E=o.mainAxis,C=void 0===E||E,I=o.altAxis,W=void 0!==I&&I,Ie=o.tether,$e=void 0===Ie||Ie,vt=o.tetherOffset,ht=void 0===vt?0:vt,rt=Bl(h,{boundary:o.boundary,rootBoundary:o.rootBoundary,padding:o.padding,altBoundary:o.altBoundary}),Mt=ws(h.placement),ct=er(h.placement),bt=!ct,Pt=Ll(Mt),Lt=function oT(d){return"x"===d?"y":"x"}(Pt),Tt=h.modifiersData.popperOffsets,Ct=h.rects.reference,li=h.rects.popper,dn="function"==typeof ht?ht(Object.assign({},h.rects,{placement:h.placement})):ht,en="number"==typeof dn?{mainAxis:dn,altAxis:dn}:Object.assign({mainAxis:0,altAxis:0},dn),An=h.modifiersData.offset?h.modifiersData.offset[h.placement]:null,ja={x:0,y:0};if(Tt){if(C){var zn,ci="y"===Pt?ia:na,Ls="y"===Pt?ka:wa,rs="y"===Pt?"height":"width",or=Tt[Pt],ZP=or+rt[ci],Fu=or-rt[Ls],eA=$e?-li[rs]/2:0,hD=ct===kr?Ct[rs]:li[rs],k_=ct===kr?-li[rs]:-Ct[rs],tA=h.elements.arrow,Jp=$e&&tA?vm(tA):{width:0,height:0},ec=h.modifiersData["arrow#persistent"]?h.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},w_=ec[ci],iA=ec[Ls],Nu=ns(0,Ct[rs],Jp[rs]),gD=bt?Ct[rs]/2-eA-Nu-w_-en.mainAxis:hD-Nu-w_-en.mainAxis,HC=bt?-Ct[rs]/2+eA+Nu+iA+en.mainAxis:k_+Nu+iA+en.mainAxis,mD=h.elements.arrow&&Rl(h.elements.arrow),jC=mD?"y"===Pt?mD.clientTop||0:mD.clientLeft||0:0,nC=null!=(zn=An?.[Pt])?zn:0,zC=or+HC-nC,aC=ns($e?dp(ZP,or+gD-nC-jC):ZP,or,$e?Po(Fu,zC):Fu);Tt[Pt]=aC,ja[Pt]=aC-or}if(W){var sC,Uu=Tt[Lt],nA="y"===Lt?"height":"width",rC=Uu+rt["x"===Pt?ia:na],oC=Uu-rt["x"===Pt?ka:wa],_D=-1!==[ia,na].indexOf(Mt),lC=null!=(sC=An?.[Lt])?sC:0,cC=_D?rC:Uu-Ct[nA]-li[nA]-lC+en.altAxis,uC=_D?Uu+Ct[nA]+li[nA]-lC-en.altAxis:oC,dC=$e&&_D?function Yy(d,h,o){var y=ns(d,h,o);return y>o?o:y}(cC,Uu,uC):ns($e?cC:rC,Uu,$e?uC:oC);Tt[Lt]=dC,ja[Lt]=dC-Uu}h.modifiersData[y]=ja}},requiresIfExists:["offset"]};function dT(d,h,o){void 0===o&&(o=!1);var y=$a(h),E=$a(h)&&function uT(d){var h=d.getBoundingClientRect(),o=Ga(h.width)/d.offsetWidth||1,y=Ga(h.height)/d.offsetHeight||1;return 1!==o||1!==y}(h),C=va(h),I=ru(d,E,o),W={scrollLeft:0,scrollTop:0},X={x:0,y:0};return(y||!y&&!o)&&(("body"!==ks(h)||Am(C))&&(W=function cT(d){return d!==Oa(d)&&$a(d)?function ab(d){return{scrollLeft:d.scrollLeft,scrollTop:d.scrollTop}}(d):qy(d)}(h)),$a(h)?((X=ru(h,!0)).x+=h.clientLeft,X.y+=h.clientTop):C&&(X.x=vp(C))),{x:I.left+W.scrollLeft-X.x,y:I.top+W.scrollTop-X.y,width:I.width,height:I.height}}function pT(d){var h=new Map,o=new Set,y=[];function E(C){o.add(C.name),[].concat(C.requires||[],C.requiresIfExists||[]).forEach(function(W){if(!o.has(W)){var X=h.get(W);X&&E(X)}}),y.push(C)}return d.forEach(function(C){h.set(C.name,C)}),d.forEach(function(C){o.has(C.name)||E(C)}),y}function gT(d){var h;return function(){return h||(h=new Promise(function(o){Promise.resolve().then(function(){h=void 0,o(d())})})),h}}var bp={placement:"bottom",modifiers:[],strategy:"absolute"};function du(){for(var d=arguments.length,h=new Array(d),o=0;o<d;o++)h[o]=arguments[o];return!h.some(function(y){return!(y&&"function"==typeof y.getBoundingClientRect)})}function Fl(d){void 0===d&&(d={});var o=d.defaultModifiers,y=void 0===o?[]:o,E=d.defaultOptions,C=void 0===E?bp:E;return function(W,X,z){void 0===z&&(z=C);var pe={placement:"bottom",orderedModifiers:[],options:Object.assign({},bp,C),modifiersData:{},elements:{reference:W,popper:X},attributes:{},styles:{}},Me=[],Ie=!1,$e={state:pe,setOptions:function(Mt){var ct="function"==typeof Mt?Mt(pe.options):Mt;ht(),pe.options=Object.assign({},C,pe.options,ct),pe.scrollParents={reference:bo(W)?uu(W):W.contextElement?uu(W.contextElement):[],popper:uu(X)};var bt=function hT(d){var h=pT(d);return Vy.reduce(function(o,y){return o.concat(h.filter(function(E){return E.phase===y}))},[])}(function mT(d){var h=d.reduce(function(o,y){var E=o[y.name];return o[y.name]=E?Object.assign({},E,y,{options:Object.assign({},E.options,y.options),data:Object.assign({},E.data,y.data)}):y,o},{});return Object.keys(h).map(function(o){return h[o]})}([].concat(y,pe.options.modifiers)));return pe.orderedModifiers=bt.filter(function(Pt){return Pt.enabled}),function vt(){pe.orderedModifiers.forEach(function(rt){var ct=rt.options,Pt=rt.effect;if("function"==typeof Pt){var Lt=Pt({state:pe,name:rt.name,instance:$e,options:void 0===ct?{}:ct});Me.push(Lt||function(){})}})}(),$e.update()},forceUpdate:function(){if(!Ie){var Mt=pe.elements,ct=Mt.reference,bt=Mt.popper;if(du(ct,bt)){pe.rects={reference:dT(ct,Rl(bt),"fixed"===pe.options.strategy),popper:vm(bt)},pe.reset=!1,pe.placement=pe.options.placement,pe.orderedModifiers.forEach(function(en){return pe.modifiersData[en.name]=Object.assign({},en.data)});for(var Pt=0;Pt<pe.orderedModifiers.length;Pt++)if(!0!==pe.reset){var Lt=pe.orderedModifiers[Pt],Tt=Lt.fn,Ct=Lt.options;"function"==typeof Tt&&(pe=Tt({state:pe,options:void 0===Ct?{}:Ct,name:Lt.name,instance:$e})||pe)}else pe.reset=!1,Pt=-1}}},update:gT(function(){return new Promise(function(rt){$e.forceUpdate(),rt(pe)})}),destroy:function(){ht(),Ie=!0}};if(!du(W,X))return $e;function ht(){Me.forEach(function(rt){return rt()}),Me=[]}return $e.setOptions(z).then(function(rt){!Ie&&z.onFirstUpdate&&z.onFirstUpdate(rt)}),$e}}var Pp=Fl(),Om=Fl({defaultModifiers:[cu,km,xl,fm,Cm,tb,wm,ou,nb]}),sb=Fl({defaultModifiers:[cu,km,xl,fm]});const wr=new Map,pu={set(d,h,o){wr.has(d)||wr.set(d,new Map);const y=wr.get(d);y.has(h)||0===y.size?y.set(h,o):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`)},get:(d,h)=>wr.has(d)&&wr.get(d).get(h)||null,remove(d,h){if(!wr.has(d))return;const o=wr.get(d);o.delete(h),0===o.size&&wr.delete(d)}},hu="transitionend",Im=d=>(d&&window.CSS&&window.CSS.escape&&(d=d.replace(/#([^\s"#']+)/g,(h,o)=>`#${CSS.escape(o)}`)),d),rb=d=>null==d?`${d}`:Object.prototype.toString.call(d).match(/\s([a-z]+)/i)[1].toLowerCase(),Ap=d=>{d.dispatchEvent(new Event(hu))},tr=d=>!(!d||"object"!=typeof d)&&(typeof d.jquery<"u"&&(d=d[0]),typeof d.nodeType<"u"),Or=d=>tr(d)?d.jquery?d[0]:d:"string"==typeof d&&d.length>0?document.querySelector(Im(d)):null,Ul=d=>{if(!tr(d)||0===d.getClientRects().length)return!1;const h="visible"===getComputedStyle(d).getPropertyValue("visibility"),o=d.closest("details:not([open])");if(!o)return h;if(o!==d){const y=d.closest("summary");if(y&&y.parentNode!==o||null===y)return!1}return h},Ir=d=>!(d&&d.nodeType===Node.ELEMENT_NODE&&!d.classList.contains("disabled"))||(typeof d.disabled<"u"?d.disabled:d.hasAttribute("disabled")&&"false"!==d.getAttribute("disabled")),lb=d=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof d.getRootNode){const h=d.getRootNode();return h instanceof ShadowRoot?h:null}return d instanceof ShadowRoot?d:d.parentNode?lb(d.parentNode):null},Ep=()=>{},yT=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Rm=[],aa=()=>"rtl"===document.documentElement.dir,Ha=d=>{(d=>{"loading"===document.readyState?(Rm.length||document.addEventListener("DOMContentLoaded",()=>{for(const h of Rm)h()}),Rm.push(d)):d()})(()=>{const h=yT();if(h){const o=d.NAME,y=h.fn[o];h.fn[o]=d.jQueryInterface,h.fn[o].Constructor=d,h.fn[o].noConflict=()=>(h.fn[o]=y,d.jQueryInterface)}})},ya=(d,h=[],o=d)=>"function"==typeof d?d.call(...h):o,cb=(d,h,o=!0)=>{if(!o)return void ya(d);const E=(d=>{if(!d)return 0;let{transitionDuration:h,transitionDelay:o}=window.getComputedStyle(d);const y=Number.parseFloat(h),E=Number.parseFloat(o);return y||E?(h=h.split(",")[0],o=o.split(",")[0],1e3*(Number.parseFloat(h)+Number.parseFloat(o))):0})(h)+5;let C=!1;const I=({target:W})=>{W===h&&(C=!0,h.removeEventListener(hu,I),ya(d))};h.addEventListener(hu,I),setTimeout(()=>{C||Ap(h)},E)},Lm=(d,h,o,y)=>{const E=d.length;let C=d.indexOf(h);return-1===C?!o&&y?d[E-1]:d[0]:(C+=o?1:-1,y&&(C=(C+E)%E),d[Math.max(0,Math.min(C,E-1))])},xm=/[^.]*(?=\..*)\.|.*/,Bm=/\..*/,Fm=/::\d+$/,Wl={};let gu=1;const Tp={mouseenter:"mouseover",mouseleave:"mouseout"},Dp=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function mu(d,h){return h&&`${h}::${gu++}`||d.uidEvent||gu++}function Mp(d){const h=mu(d);return d.uidEvent=h,Wl[h]=Wl[h]||{},Wl[h]}function AT(d,h,o=null){return Object.values(d).find(y=>y.callable===h&&y.delegationSelector===o)}function _u(d,h,o){const y="string"==typeof h,E=y?o:h||o;let C=Wm(d);return Dp.has(C)||(C=d),[y,E,C]}function Kl(d,h,o,y,E){if("string"!=typeof h||!d)return;let[C,I,W]=_u(h,o,y);var vt;h in Tp&&(vt=I,I=function(ht){if(!ht.relatedTarget||ht.relatedTarget!==ht.delegateTarget&&!ht.delegateTarget.contains(ht.relatedTarget))return vt.call(this,ht)});const X=Mp(d),z=X[W]||(X[W]={}),pe=AT(z,I,C?o:null);if(pe)return void(pe.oneOff=pe.oneOff&&E);const Me=mu(I,h.replace(xm,"")),Ie=C?function PT(d,h,o){return function y(E){const C=d.querySelectorAll(h);for(let{target:I}=E;I&&I!==this;I=I.parentNode)for(const W of C)if(W===I)return vu(E,{delegateTarget:I}),y.oneOff&&Qe.off(d,E.type,h,o),o.apply(I,[E])}}(d,o,I):function Nm(d,h){return function o(y){return vu(y,{delegateTarget:d}),o.oneOff&&Qe.off(d,y.type,h),h.apply(d,[y])}}(d,I);Ie.delegationSelector=C?o:null,Ie.callable=I,Ie.oneOff=E,Ie.uidEvent=Me,z[Me]=Ie,d.addEventListener(W,Ie,C)}function fu(d,h,o,y,E){const C=AT(h[o],y,E);C&&(d.removeEventListener(o,C,!!E),delete h[o][C.uidEvent])}function Um(d,h,o,y){const E=h[o]||{};for(const[C,I]of Object.entries(E))C.includes(y)&&fu(d,h,o,I.callable,I.delegationSelector)}function Wm(d){return d=d.replace(Bm,""),Tp[d]||d}const Qe={on(d,h,o,y){Kl(d,h,o,y,!1)},one(d,h,o,y){Kl(d,h,o,y,!0)},off(d,h,o,y){if("string"!=typeof h||!d)return;const[E,C,I]=_u(h,o,y),W=I!==h,X=Mp(d),z=X[I]||{},pe=h.startsWith(".");if(typeof C<"u"){if(!Object.keys(z).length)return;fu(d,X,I,C,E?o:null)}else{if(pe)for(const Me of Object.keys(X))Um(d,X,Me,h.slice(1));for(const[Me,Ie]of Object.entries(z)){const $e=Me.replace(Fm,"");(!W||h.includes($e))&&fu(d,X,I,Ie.callable,Ie.delegationSelector)}}},trigger(d,h,o){if("string"!=typeof h||!d)return null;const y=yT();let I=null,W=!0,X=!0,z=!1;h!==Wm(h)&&y&&(I=y.Event(h,o),y(d).trigger(I),W=!I.isPropagationStopped(),X=!I.isImmediatePropagationStopped(),z=I.isDefaultPrevented());const pe=vu(new Event(h,{bubbles:W,cancelable:!0}),o);return z&&pe.preventDefault(),X&&d.dispatchEvent(pe),pe.defaultPrevented&&I&&I.preventDefault(),pe}};function vu(d,h={}){for(const[o,y]of Object.entries(h))try{d[o]=y}catch{Object.defineProperty(d,o,{configurable:!0,get:()=>y})}return d}function ub(d){if("true"===d)return!0;if("false"===d)return!1;if(d===Number(d).toString())return Number(d);if(""===d||"null"===d)return null;if("string"!=typeof d)return d;try{return JSON.parse(decodeURIComponent(d))}catch{return d}}function db(d){return d.replace(/[A-Z]/g,h=>`-${h.toLowerCase()}`)}const Os={setDataAttribute(d,h,o){d.setAttribute(`data-bs-${db(h)}`,o)},removeDataAttribute(d,h){d.removeAttribute(`data-bs-${db(h)}`)},getDataAttributes(d){if(!d)return{};const h={},o=Object.keys(d.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of o){let E=y.replace(/^bs/,"");E=E.charAt(0).toLowerCase()+E.slice(1),h[E]=ub(d.dataset[y])}return h},getDataAttribute:(d,h)=>ub(d.getAttribute(`data-bs-${db(h)}`))};class $l{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(h){return h=this._mergeConfigObj(h),h=this._configAfterMerge(h),this._typeCheckConfig(h),h}_configAfterMerge(h){return h}_mergeConfigObj(h,o){const y=tr(o)?Os.getDataAttribute(o,"config"):{};return{...this.constructor.Default,..."object"==typeof y?y:{},...tr(o)?Os.getDataAttributes(o):{},..."object"==typeof h?h:{}}}_typeCheckConfig(h,o=this.constructor.DefaultType){for(const[y,E]of Object.entries(o)){const C=h[y],I=tr(C)?"element":rb(C);if(!new RegExp(E).test(I))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${y}" provided type "${I}" but expected type "${E}".`)}}}class sa extends $l{constructor(h,o){super(),(h=Or(h))&&(this._element=h,this._config=this._getConfig(o),pu.set(this._element,this.constructor.DATA_KEY,this))}dispose(){pu.remove(this._element,this.constructor.DATA_KEY),Qe.off(this._element,this.constructor.EVENT_KEY);for(const h of Object.getOwnPropertyNames(this))this[h]=null}_queueCallback(h,o,y=!0){cb(h,o,y)}_getConfig(h){return h=this._mergeConfigObj(h,this._element),h=this._configAfterMerge(h),this._typeCheckConfig(h),h}static getInstance(h){return pu.get(Or(h),this.DATA_KEY)}static getOrCreateInstance(h,o={}){return this.getInstance(h)||new this(h,"object"==typeof o?o:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(h){return`${h}${this.EVENT_KEY}`}}const Km=d=>{let h=d.getAttribute("data-bs-target");if(!h||"#"===h){let o=d.getAttribute("href");if(!o||!o.includes("#")&&!o.startsWith("."))return null;o.includes("#")&&!o.startsWith("#")&&(o=`#${o.split("#")[1]}`),h=o&&"#"!==o?o.trim():null}return h?h.split(",").map(o=>Im(o)).join(","):null},Nt={find:(d,h=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(h,d)),findOne:(d,h=document.documentElement)=>Element.prototype.querySelector.call(h,d),children:(d,h)=>[].concat(...d.children).filter(o=>o.matches(h)),parents(d,h){const o=[];let y=d.parentNode.closest(h);for(;y;)o.push(y),y=y.parentNode.closest(h);return o},prev(d,h){let o=d.previousElementSibling;for(;o;){if(o.matches(h))return[o];o=o.previousElementSibling}return[]},next(d,h){let o=d.nextElementSibling;for(;o;){if(o.matches(h))return[o];o=o.nextElementSibling}return[]},focusableChildren(d){const h=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(o=>`${o}:not([tabindex^="-"])`).join(",");return this.find(h,d).filter(o=>!Ir(o)&&Ul(o))},getSelectorFromElement(d){const h=Km(d);return h&&Nt.findOne(h)?h:null},getElementFromSelector(d){const h=Km(d);return h?Nt.findOne(h):null},getMultipleElementsFromSelector(d){const h=Km(d);return h?Nt.find(h):[]}},ir=(d,h="hide")=>{const y=d.NAME;Qe.on(document,`click.dismiss${d.EVENT_KEY}`,`[data-bs-dismiss="${y}"]`,function(E){if(["A","AREA"].includes(this.tagName)&&E.preventDefault(),Ir(this))return;const C=Nt.getElementFromSelector(this)||this.closest(`.${y}`);d.getOrCreateInstance(C)[h]()})},ET=".bs.alert",gb=`close${ET}`,mb=`closed${ET}`;class Cp extends sa{static get NAME(){return"alert"}close(){if(Qe.trigger(this._element,gb).defaultPrevented)return;this._element.classList.remove("show");const o=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,o)}_destroyElement(){this._element.remove(),Qe.trigger(this._element,mb),this.dispose()}static jQueryInterface(h){return this.each(function(){const o=Cp.getOrCreateInstance(this);if("string"==typeof h){if(void 0===o[h]||h.startsWith("_")||"constructor"===h)throw new TypeError(`No method named "${h}"`);o[h](this)}})}}ir(Cp,"close"),Ha(Cp);const yu='[data-bs-toggle="button"]';class bu extends sa{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(h){return this.each(function(){const o=bu.getOrCreateInstance(this);"toggle"===h&&o[h]()})}}Qe.on(document,"click.bs.button.data-api",yu,d=>{d.preventDefault();const h=d.target.closest(yu);bu.getOrCreateInstance(h).toggle()}),Ha(bu);const Hl=".bs.swipe",Pu=`touchstart${Hl}`,Au=`touchmove${Hl}`,MT=`touchend${Hl}`,CT=`pointerdown${Hl}`,_b=`pointerup${Hl}`,fb={endCallback:null,leftCallback:null,rightCallback:null},vb={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Su extends $l{constructor(h,o){super(),this._element=h,h&&Su.isSupported()&&(this._config=this._getConfig(o),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return fb}static get DefaultType(){return vb}static get NAME(){return"swipe"}dispose(){Qe.off(this._element,Hl)}_start(h){this._supportPointerEvents?this._eventIsPointerPenTouch(h)&&(this._deltaX=h.clientX):this._deltaX=h.touches[0].clientX}_end(h){this._eventIsPointerPenTouch(h)&&(this._deltaX=h.clientX-this._deltaX),this._handleSwipe(),ya(this._config.endCallback)}_move(h){this._deltaX=h.touches&&h.touches.length>1?0:h.touches[0].clientX-this._deltaX}_handleSwipe(){const h=Math.abs(this._deltaX);if(h<=40)return;const o=h/this._deltaX;this._deltaX=0,o&&ya(o>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Qe.on(this._element,CT,h=>this._start(h)),Qe.on(this._element,_b,h=>this._end(h)),this._element.classList.add("pointer-event")):(Qe.on(this._element,Pu,h=>this._start(h)),Qe.on(this._element,Au,h=>this._move(h)),Qe.on(this._element,MT,h=>this._end(h)))}_eventIsPointerPenTouch(h){return this._supportPointerEvents&&("pen"===h.pointerType||"touch"===h.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Rr=".bs.carousel",RT=".data-api",CM="ArrowLeft",kM="ArrowRight",jl="next",nr="prev",Vl="left",wp="right",yb=`slide${Rr}`,Ao=`slid${Rr}`,LT=`keydown${Rr}`,xT=`mouseenter${Rr}`,BT=`mouseleave${Rr}`,FT=`dragstart${Rr}`,OM=`load${Rr}${RT}`,NT=`click${Rr}${RT}`,Gm="carousel",Op="active",Ab=".active",Hm=".carousel-item",KT=Ab+Hm,GT={[CM]:wp,[kM]:Vl},HT={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},jT={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Eo extends sa{constructor(h,o){super(h,o),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Nt.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Gm&&this.cycle()}static get Default(){return HT}static get DefaultType(){return jT}static get NAME(){return"carousel"}next(){this._slide(jl)}nextWhenVisible(){!document.hidden&&Ul(this._element)&&this.next()}prev(){this._slide(nr)}pause(){this._isSliding&&Ap(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void Qe.one(this._element,Ao,()=>this.cycle());this.cycle()}}to(h){const o=this._getItems();if(h>o.length-1||h<0)return;if(this._isSliding)return void Qe.one(this._element,Ao,()=>this.to(h));const y=this._getItemIndex(this._getActive());y!==h&&this._slide(h>y?jl:nr,o[h])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(h){return h.defaultInterval=h.interval,h}_addEventListeners(){this._config.keyboard&&Qe.on(this._element,LT,h=>this._keydown(h)),"hover"===this._config.pause&&(Qe.on(this._element,xT,()=>this.pause()),Qe.on(this._element,BT,()=>this._maybeEnableCycle())),this._config.touch&&Su.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const y of Nt.find(".carousel-item img",this._element))Qe.on(y,FT,E=>E.preventDefault());this._swipeHelper=new Su(this._element,{leftCallback:()=>this._slide(this._directionToOrder(Vl)),rightCallback:()=>this._slide(this._directionToOrder(wp)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(h){if(/input|textarea/i.test(h.target.tagName))return;const o=GT[h.key];o&&(h.preventDefault(),this._slide(this._directionToOrder(o)))}_getItemIndex(h){return this._getItems().indexOf(h)}_setActiveIndicatorElement(h){if(!this._indicatorsElement)return;const o=Nt.findOne(Ab,this._indicatorsElement);o.classList.remove(Op),o.removeAttribute("aria-current");const y=Nt.findOne(`[data-bs-slide-to="${h}"]`,this._indicatorsElement);y&&(y.classList.add(Op),y.setAttribute("aria-current","true"))}_updateInterval(){const h=this._activeElement||this._getActive();if(!h)return;const o=Number.parseInt(h.getAttribute("data-bs-interval"),10);this._config.interval=o||this._config.defaultInterval}_slide(h,o=null){if(this._isSliding)return;const y=this._getActive(),E=h===jl,C=o||Lm(this._getItems(),y,E,this._config.wrap);if(C===y)return;const I=this._getItemIndex(C),W=$e=>Qe.trigger(this._element,$e,{relatedTarget:C,direction:this._orderToDirection(h),from:this._getItemIndex(y),to:I});if(W(yb).defaultPrevented||!y||!C)return;const z=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(I),this._activeElement=C;const pe=E?"carousel-item-start":"carousel-item-end",Me=E?"carousel-item-next":"carousel-item-prev";C.classList.add(Me),y.classList.add(pe),C.classList.add(pe),this._queueCallback(()=>{C.classList.remove(pe,Me),C.classList.add(Op),y.classList.remove(Op,Me,pe),this._isSliding=!1,W(Ao)},y,this._isAnimated()),z&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Nt.findOne(KT,this._element)}_getItems(){return Nt.find(Hm,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(h){return aa()?h===Vl?nr:jl:h===Vl?jl:nr}_orderToDirection(h){return aa()?h===nr?Vl:wp:h===nr?wp:Vl}static jQueryInterface(h){return this.each(function(){const o=Eo.getOrCreateInstance(this,h);if("number"!=typeof h){if("string"==typeof h){if(void 0===o[h]||h.startsWith("_")||"constructor"===h)throw new TypeError(`No method named "${h}"`);o[h]()}}else o.to(h)})}}Qe.on(document,NT,"[data-bs-slide], [data-bs-slide-to]",function(d){const h=Nt.getElementFromSelector(this);if(!h||!h.classList.contains(Gm))return;d.preventDefault();const o=Eo.getOrCreateInstance(h),y=this.getAttribute("data-bs-slide-to");return y?(o.to(y),void o._maybeEnableCycle()):"next"===Os.getDataAttribute(this,"slide")?(o.next(),void o._maybeEnableCycle()):(o.prev(),void o._maybeEnableCycle())}),Qe.on(window,OM,()=>{const d=Nt.find('[data-bs-ride="carousel"]');for(const h of d)Eo.getOrCreateInstance(h)}),Ha(Eo);const Du=".bs.collapse",XT=`show${Du}`,JT=`shown${Du}`,QT=`hide${Du}`,qT=`hidden${Du}`,ZT=`click${Du}.data-api`,Vm="show",So="collapse",Mu="collapsing",t0=`:scope .${So} .${So}`,Ip='[data-bs-toggle="collapse"]',Db={parent:null,toggle:!0},Ym={parent:"(null|element)",toggle:"boolean"};class zl extends sa{constructor(h,o){super(h,o),this._isTransitioning=!1,this._triggerArray=[];const y=Nt.find(Ip);for(const E of y){const C=Nt.getSelectorFromElement(E),I=Nt.find(C).filter(W=>W===this._element);null!==C&&I.length&&this._triggerArray.push(E)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Db}static get DefaultType(){return Ym}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let h=[];if(this._config.parent&&(h=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(W=>W!==this._element).map(W=>zl.getOrCreateInstance(W,{toggle:!1}))),h.length&&h[0]._isTransitioning||Qe.trigger(this._element,XT).defaultPrevented)return;for(const W of h)W.hide();const y=this._getDimension();this._element.classList.remove(So),this._element.classList.add(Mu),this._element.style[y]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const I=`scroll${y[0].toUpperCase()+y.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Mu),this._element.classList.add(So,Vm),this._element.style[y]="",Qe.trigger(this._element,JT)},this._element,!0),this._element.style[y]=`${this._element[I]}px`}hide(){if(this._isTransitioning||!this._isShown()||Qe.trigger(this._element,QT).defaultPrevented)return;const o=this._getDimension();this._element.style[o]=`${this._element.getBoundingClientRect()[o]}px`,this._element.classList.add(Mu),this._element.classList.remove(So,Vm);for(const E of this._triggerArray){const C=Nt.getElementFromSelector(E);C&&!this._isShown(C)&&this._addAriaAndCollapsedClass([E],!1)}this._isTransitioning=!0,this._element.style[o]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Mu),this._element.classList.add(So),Qe.trigger(this._element,qT)},this._element,!0)}_isShown(h=this._element){return h.classList.contains(Vm)}_configAfterMerge(h){return h.toggle=!!h.toggle,h.parent=Or(h.parent),h}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const h=this._getFirstLevelChildren(Ip);for(const o of h){const y=Nt.getElementFromSelector(o);y&&this._addAriaAndCollapsedClass([o],this._isShown(y))}}_getFirstLevelChildren(h){const o=Nt.find(t0,this._config.parent);return Nt.find(h,this._config.parent).filter(y=>!o.includes(y))}_addAriaAndCollapsedClass(h,o){if(h.length)for(const y of h)y.classList.toggle("collapsed",!o),y.setAttribute("aria-expanded",o)}static jQueryInterface(h){const o={};return"string"==typeof h&&/show|hide/.test(h)&&(o.toggle=!1),this.each(function(){const y=zl.getOrCreateInstance(this,o);if("string"==typeof h){if(typeof y[h]>"u")throw new TypeError(`No method named "${h}"`);y[h]()}})}}Qe.on(document,ZT,Ip,function(d){("A"===d.target.tagName||d.delegateTarget&&"A"===d.delegateTarget.tagName)&&d.preventDefault();for(const h of Nt.getMultipleElementsFromSelector(this))zl.getOrCreateInstance(h,{toggle:!1}).toggle()}),Ha(zl);const Mb="dropdown",To=".bs.dropdown",Xm=".data-api",kb="ArrowUp",Jm="ArrowDown",Ob=`hide${To}`,s0=`hidden${To}`,Ib=`show${To}`,Lp=`shown${To}`,Lr=`click${To}${Xm}`,Rb=`keydown${To}${Xm}`,r0=`keyup${To}${Xm}`,xr="show",Do='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Lb=`${Do}.${xr}`,xp=".dropdown-menu",u0=aa()?"top-end":"top-start",Bb=aa()?"top-start":"top-end",d0=aa()?"bottom-end":"bottom-start",Fb=aa()?"bottom-start":"bottom-end",Nb=aa()?"left-start":"right-start",Xl=aa()?"right-start":"left-start",Ub={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},g0={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class as extends sa{constructor(h,o){super(h,o),this._popper=null,this._parent=this._element.parentNode,this._menu=Nt.next(this._element,xp)[0]||Nt.prev(this._element,xp)[0]||Nt.findOne(xp,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Ub}static get DefaultType(){return g0}static get NAME(){return Mb}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ir(this._element)||this._isShown())return;const h={relatedTarget:this._element};if(!Qe.trigger(this._element,Ib,h).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const y of[].concat(...document.body.children))Qe.on(y,"mouseover",Ep);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(xr),this._element.classList.add(xr),Qe.trigger(this._element,Lp,h)}}hide(){!Ir(this._element)&&this._isShown()&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(h){if(!Qe.trigger(this._element,Ob,h).defaultPrevented){if("ontouchstart"in document.documentElement)for(const y of[].concat(...document.body.children))Qe.off(y,"mouseover",Ep);this._popper&&this._popper.destroy(),this._menu.classList.remove(xr),this._element.classList.remove(xr),this._element.setAttribute("aria-expanded","false"),Os.removeDataAttribute(this._menu,"popper"),Qe.trigger(this._element,s0,h)}}_getConfig(h){if("object"==typeof(h=super._getConfig(h)).reference&&!tr(h.reference)&&"function"!=typeof h.reference.getBoundingClientRect)throw new TypeError(`${Mb.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return h}_createPopper(){let h=this._element;"parent"===this._config.reference?h=this._parent:tr(this._config.reference)?h=Or(this._config.reference):"object"==typeof this._config.reference&&(h=this._config.reference);const o=this._getPopperConfig();this._popper=Om(h,this._menu,o)}_isShown(){return this._menu.classList.contains(xr)}_getPlacement(){const h=this._parent;if(h.classList.contains("dropend"))return Nb;if(h.classList.contains("dropstart"))return Xl;if(h.classList.contains("dropup-center"))return"top";if(h.classList.contains("dropdown-center"))return"bottom";const o="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return h.classList.contains("dropup")?o?Bb:u0:o?Fb:d0}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:h}=this._config;return"string"==typeof h?h.split(",").map(o=>Number.parseInt(o,10)):"function"==typeof h?o=>h(o,this._element):h}_getPopperConfig(){const h={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Os.setDataAttribute(this._menu,"popper","static"),h.modifiers=[{name:"applyStyles",enabled:!1}]),{...h,...ya(this._config.popperConfig,[void 0,h])}}_selectMenuItem({key:h,target:o}){const y=Nt.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(E=>Ul(E));y.length&&Lm(y,o,h===Jm,!y.includes(o)).focus()}static jQueryInterface(h){return this.each(function(){const o=as.getOrCreateInstance(this,h);if("string"==typeof h){if(typeof o[h]>"u")throw new TypeError(`No method named "${h}"`);o[h]()}})}static clearMenus(h){if(2===h.button||"keyup"===h.type&&"Tab"!==h.key)return;const o=Nt.find(Lb);for(const y of o){const E=as.getInstance(y);if(!E||!1===E._config.autoClose)continue;const C=h.composedPath(),I=C.includes(E._menu);if(C.includes(E._element)||"inside"===E._config.autoClose&&!I||"outside"===E._config.autoClose&&I||E._menu.contains(h.target)&&("keyup"===h.type&&"Tab"===h.key||/input|select|option|textarea|form/i.test(h.target.tagName)))continue;const W={relatedTarget:E._element};"click"===h.type&&(W.clickEvent=h),E._completeHide(W)}}static dataApiKeydownHandler(h){const o=/input|textarea/i.test(h.target.tagName),y="Escape"===h.key,E=[kb,Jm].includes(h.key);if(!E&&!y||o&&!y)return;h.preventDefault();const C=this.matches(Do)?this:Nt.prev(this,Do)[0]||Nt.next(this,Do)[0]||Nt.findOne(Do,h.delegateTarget.parentNode),I=as.getOrCreateInstance(C);if(E)return h.stopPropagation(),I.show(),void I._selectMenuItem(h);I._isShown()&&(h.stopPropagation(),I.hide(),C.focus())}}Qe.on(document,Rb,Do,as.dataApiKeydownHandler),Qe.on(document,Rb,xp,as.dataApiKeydownHandler),Qe.on(document,Lr,as.clearMenus),Qe.on(document,r0,as.clearMenus),Qe.on(document,Lr,Do,function(d){d.preventDefault(),as.getOrCreateInstance(this).toggle()}),Ha(as);const m0="backdrop",Wb=`mousedown.bs.${m0}`,_0={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Kb={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class $b extends $l{constructor(h){super(),this._config=this._getConfig(h),this._isAppended=!1,this._element=null}static get Default(){return _0}static get DefaultType(){return Kb}static get NAME(){return m0}show(h){if(!this._config.isVisible)return void ya(h);this._append();this._getElement().classList.add("show"),this._emulateAnimation(()=>{ya(h)})}hide(h){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),ya(h)})):ya(h)}dispose(){this._isAppended&&(Qe.off(this._element,Wb),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const h=document.createElement("div");h.className=this._config.className,this._config.isAnimated&&h.classList.add("fade"),this._element=h}return this._element}_configAfterMerge(h){return h.rootElement=Or(h.rootElement),h}_append(){if(this._isAppended)return;const h=this._getElement();this._config.rootElement.append(h),Qe.on(h,Wb,()=>{ya(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(h){cb(h,this._getElement(),this._config.isAnimated)}}const Cu=".bs.focustrap",Hb=`focusin${Cu}`,v0=`keydown.tab${Cu}`,jb="backward",e_={autofocus:!0,trapElement:null},ku={autofocus:"boolean",trapElement:"element"};class Vb extends $l{constructor(h){super(),this._config=this._getConfig(h),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return e_}static get DefaultType(){return ku}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Qe.off(document,Cu),Qe.on(document,Hb,h=>this._handleFocusin(h)),Qe.on(document,v0,h=>this._handleKeydown(h)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Qe.off(document,Cu))}_handleFocusin(h){const{trapElement:o}=this._config;if(h.target===document||h.target===o||o.contains(h.target))return;const y=Nt.focusableChildren(o);0===y.length?o.focus():this._lastTabNavDirection===jb?y[y.length-1].focus():y[0].focus()}_handleKeydown(h){"Tab"===h.key&&(this._lastTabNavDirection=h.shiftKey?jb:"forward")}}const t_=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",zb=".sticky-top",Fp="padding-right",i_="margin-right";class Np{constructor(){this._element=document.body}getWidth(){const h=document.documentElement.clientWidth;return Math.abs(window.innerWidth-h)}hide(){const h=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Fp,o=>o+h),this._setElementAttributes(t_,Fp,o=>o+h),this._setElementAttributes(zb,i_,o=>o-h)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Fp),this._resetElementAttributes(t_,Fp),this._resetElementAttributes(zb,i_)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(h,o,y){const E=this.getWidth();this._applyManipulationCallback(h,I=>{if(I!==this._element&&window.innerWidth>I.clientWidth+E)return;this._saveInitialAttribute(I,o);const W=window.getComputedStyle(I).getPropertyValue(o);I.style.setProperty(o,`${y(Number.parseFloat(W))}px`)})}_saveInitialAttribute(h,o){const y=h.style.getPropertyValue(o);y&&Os.setDataAttribute(h,o,y)}_resetElementAttributes(h,o){this._applyManipulationCallback(h,E=>{const C=Os.getDataAttribute(E,o);null!==C?(Os.removeDataAttribute(E,o),E.style.setProperty(o,C)):E.style.removeProperty(o)})}_applyManipulationCallback(h,o){if(tr(h))o(h);else for(const y of Nt.find(h,this._element))o(y)}}const Ia=".bs.modal",P0=`hide${Ia}`,LM=`hidePrevented${Ia}`,n_=`hidden${Ia}`,a_=`show${Ia}`,Jb=`shown${Ia}`,Qb=`resize${Ia}`,qb=`click.dismiss${Ia}`,Zb=`mousedown.dismiss${Ia}`,eP=`keydown.dismiss${Ia}`,tP=`click${Ia}.data-api`,s_="modal-open",Ou="modal-static",sP={backdrop:!0,focus:!0,keyboard:!0},rP={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Br extends sa{constructor(h,o){super(h,o),this._dialog=Nt.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Np,this._addEventListeners()}static get Default(){return sP}static get DefaultType(){return rP}static get NAME(){return"modal"}toggle(h){return this._isShown?this.hide():this.show(h)}show(h){this._isShown||this._isTransitioning||Qe.trigger(this._element,a_,{relatedTarget:h}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(s_),this._adjustDialog(),this._backdrop.show(()=>this._showElement(h)))}hide(){!this._isShown||this._isTransitioning||Qe.trigger(this._element,P0).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove("show"),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Qe.off(window,Ia),Qe.off(this._dialog,Ia),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new $b({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Vb({trapElement:this._element})}_showElement(h){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const o=Nt.findOne(".modal-body",this._dialog);o&&(o.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Qe.trigger(this._element,Jb,{relatedTarget:h})},this._dialog,this._isAnimated())}_addEventListeners(){Qe.on(this._element,eP,h=>{if("Escape"===h.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),Qe.on(window,Qb,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Qe.on(this._element,Zb,h=>{Qe.one(this._element,qb,o=>{if(this._element===h.target&&this._element===o.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(s_),this._resetAdjustments(),this._scrollBar.reset(),Qe.trigger(this._element,n_)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Qe.trigger(this._element,LM).defaultPrevented)return;const o=this._element.scrollHeight>document.documentElement.clientHeight,y=this._element.style.overflowY;"hidden"===y||this._element.classList.contains(Ou)||(o||(this._element.style.overflowY="hidden"),this._element.classList.add(Ou),this._queueCallback(()=>{this._element.classList.remove(Ou),this._queueCallback(()=>{this._element.style.overflowY=y},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const h=this._element.scrollHeight>document.documentElement.clientHeight,o=this._scrollBar.getWidth(),y=o>0;if(y&&!h){const E=aa()?"paddingLeft":"paddingRight";this._element.style[E]=`${o}px`}if(!y&&h){const E=aa()?"paddingRight":"paddingLeft";this._element.style[E]=`${o}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(h,o){return this.each(function(){const y=Br.getOrCreateInstance(this,h);if("string"==typeof h){if(typeof y[h]>"u")throw new TypeError(`No method named "${h}"`);y[h](o)}})}}Qe.on(document,tP,'[data-bs-toggle="modal"]',function(d){const h=Nt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&d.preventDefault(),Qe.one(h,a_,E=>{E.defaultPrevented||Qe.one(h,n_,()=>{Ul(this)&&this.focus()})});const o=Nt.findOne(".modal.show");o&&Br.getInstance(o).hide(),Br.getOrCreateInstance(h).toggle(this)}),ir(Br),Ha(Br);const Is=".bs.offcanvas",Wp=".data-api",lP=`load${Is}${Wp}`,dP="showing",hP=".offcanvas.show",E0=`show${Is}`,S0=`shown${Is}`,T0=`hide${Is}`,gP=`hidePrevented${Is}`,mP=`hidden${Is}`,D0=`resize${Is}`,M0=`click${Is}${Wp}`,C0=`keydown.dismiss${Is}`,fP={backdrop:!0,keyboard:!0,scroll:!1},l_={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class sr extends sa{constructor(h,o){super(h,o),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return fP}static get DefaultType(){return l_}static get NAME(){return"offcanvas"}toggle(h){return this._isShown?this.hide():this.show(h)}show(h){this._isShown||Qe.trigger(this._element,E0,{relatedTarget:h}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Np).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(dP),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add("show"),this._element.classList.remove(dP),Qe.trigger(this._element,S0,{relatedTarget:h})},this._element,!0))}hide(){this._isShown&&!Qe.trigger(this._element,T0).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add("hiding"),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove("show","hiding"),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Np).reset(),Qe.trigger(this._element,mP)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const o=!!this._config.backdrop;return new $b({className:"offcanvas-backdrop",isVisible:o,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:o?()=>{"static"!==this._config.backdrop?this.hide():Qe.trigger(this._element,gP)}:null})}_initializeFocusTrap(){return new Vb({trapElement:this._element})}_addEventListeners(){Qe.on(this._element,C0,h=>{if("Escape"===h.key){if(this._config.keyboard)return void this.hide();Qe.trigger(this._element,gP)}})}static jQueryInterface(h){return this.each(function(){const o=sr.getOrCreateInstance(this,h);if("string"==typeof h){if(void 0===o[h]||h.startsWith("_")||"constructor"===h)throw new TypeError(`No method named "${h}"`);o[h](this)}})}}Qe.on(document,M0,'[data-bs-toggle="offcanvas"]',function(d){const h=Nt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&d.preventDefault(),Ir(this))return;Qe.one(h,mP,()=>{Ul(this)&&this.focus()});const o=Nt.findOne(hP);o&&o!==h&&sr.getInstance(o).hide(),sr.getOrCreateInstance(h).toggle(this)}),Qe.on(window,lP,()=>{for(const d of Nt.find(hP))sr.getOrCreateInstance(d).show()}),Qe.on(window,D0,()=>{for(const d of Nt.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(d).position&&sr.getOrCreateInstance(d).hide()}),ir(sr),Ha(sr);const yP={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},k0=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),c_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,w0=(d,h)=>{const o=d.nodeName.toLowerCase();return h.includes(o)?!k0.has(o)||!!c_.test(d.nodeValue):h.filter(y=>y instanceof RegExp).some(y=>y.test(o))},O0={allowList:yP,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},I0={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},R0={entry:"(string|element|function|null)",selector:"(string|element)"};class Kp extends $l{constructor(h){super(),this._config=this._getConfig(h)}static get Default(){return O0}static get DefaultType(){return I0}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(h=>this._resolvePossibleFunction(h)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(h){return this._checkContent(h),this._config.content={...this._config.content,...h},this}toHtml(){const h=document.createElement("div");h.innerHTML=this._maybeSanitize(this._config.template);for(const[E,C]of Object.entries(this._config.content))this._setContent(h,C,E);const o=h.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&o.classList.add(...y.split(" ")),o}_typeCheckConfig(h){super._typeCheckConfig(h),this._checkContent(h.content)}_checkContent(h){for(const[o,y]of Object.entries(h))super._typeCheckConfig({selector:o,entry:y},R0)}_setContent(h,o,y){const E=Nt.findOne(y,h);if(E){if(!(o=this._resolvePossibleFunction(o)))return void E.remove();if(tr(o))return void this._putElementInTemplate(Or(o),E);if(this._config.html)return void(E.innerHTML=this._maybeSanitize(o));E.textContent=o}}_maybeSanitize(h){return this._config.sanitize?function xM(d,h,o){if(!d.length)return d;if(o&&"function"==typeof o)return o(d);const E=(new window.DOMParser).parseFromString(d,"text/html"),C=[].concat(...E.body.querySelectorAll("*"));for(const I of C){const W=I.nodeName.toLowerCase();if(!Object.keys(h).includes(W)){I.remove();continue}const X=[].concat(...I.attributes),z=[].concat(h["*"]||[],h[W]||[]);for(const pe of X)w0(pe,z)||I.removeAttribute(pe.nodeName)}return E.body.innerHTML}(h,this._config.allowList,this._config.sanitizeFn):h}_resolvePossibleFunction(h){return ya(h,[void 0,this])}_putElementInTemplate(h,o){if(this._config.html)return o.innerHTML="",void o.append(h);o.textContent=h.textContent}}const AP=new Set(["sanitize","allowList","sanitizeFn"]),$p="fade",Iu="show",SP=".tooltip-inner",TP="hide.bs.modal",Ru="hover",d_="focus",p_="click",F0={AUTO:"auto",TOP:"top",RIGHT:aa()?"left":"right",BOTTOM:"bottom",LEFT:aa()?"right":"left"},N0={allowList:yP,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},U0={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Jl extends sa{constructor(h,o){super(h,o),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return N0}static get DefaultType(){return U0}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),Qe.off(this._element.closest(".modal"),TP,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const h=Qe.trigger(this._element,this.constructor.eventName("show")),y=(lb(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(h.defaultPrevented||!y)return;this._disposePopper();const E=this._getTipElement();this._element.setAttribute("aria-describedby",E.getAttribute("id"));const{container:C}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(C.append(E),Qe.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(E),E.classList.add(Iu),"ontouchstart"in document.documentElement)for(const W of[].concat(...document.body.children))Qe.on(W,"mouseover",Ep);this._queueCallback(()=>{Qe.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Qe.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Iu),"ontouchstart"in document.documentElement)for(const E of[].concat(...document.body.children))Qe.off(E,"mouseover",Ep);this._activeTrigger[p_]=!1,this._activeTrigger[d_]=!1,this._activeTrigger[Ru]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Qe.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(h){const o=this._getTemplateFactory(h).toHtml();if(!o)return null;o.classList.remove($p,Iu),o.classList.add(`bs-${this.constructor.NAME}-auto`);const y=(d=>{do{d+=Math.floor(1e6*Math.random())}while(document.getElementById(d));return d})(this.constructor.NAME).toString();return o.setAttribute("id",y),this._isAnimated()&&o.classList.add($p),o}setContent(h){this._newContent=h,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(h){return this._templateFactory?this._templateFactory.changeContent(h):this._templateFactory=new Kp({...this._config,content:h,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[SP]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(h){return this.constructor.getOrCreateInstance(h.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains($p)}_isShown(){return this.tip&&this.tip.classList.contains(Iu)}_createPopper(h){const o=ya(this._config.placement,[this,h,this._element]),y=F0[o.toUpperCase()];return Om(this._element,h,this._getPopperConfig(y))}_getOffset(){const{offset:h}=this._config;return"string"==typeof h?h.split(",").map(o=>Number.parseInt(o,10)):"function"==typeof h?o=>h(o,this._element):h}_resolvePossibleFunction(h){return ya(h,[this._element,this._element])}_getPopperConfig(h){const o={placement:h,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...o,...ya(this._config.popperConfig,[void 0,o])}}_setListeners(){const h=this._config.trigger.split(" ");for(const o of h)if("click"===o)Qe.on(this._element,this.constructor.eventName("click"),this._config.selector,y=>{const E=this._initializeOnDelegatedTarget(y);E._activeTrigger[p_]=!(E._isShown()&&E._activeTrigger[p_]),E.toggle()});else if("manual"!==o){const y=this.constructor.eventName(o===Ru?"mouseenter":"focusin"),E=this.constructor.eventName(o===Ru?"mouseleave":"focusout");Qe.on(this._element,y,this._config.selector,C=>{const I=this._initializeOnDelegatedTarget(C);I._activeTrigger["focusin"===C.type?d_:Ru]=!0,I._enter()}),Qe.on(this._element,E,this._config.selector,C=>{const I=this._initializeOnDelegatedTarget(C);I._activeTrigger["focusout"===C.type?d_:Ru]=I._element.contains(C.relatedTarget),I._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Qe.on(this._element.closest(".modal"),TP,this._hideModalHandler)}_fixTitle(){const h=this._element.getAttribute("title");h&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",h),this._element.setAttribute("data-bs-original-title",h),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(h,o){clearTimeout(this._timeout),this._timeout=setTimeout(h,o)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(h){const o=Os.getDataAttributes(this._element);for(const y of Object.keys(o))AP.has(y)&&delete o[y];return h={...o,..."object"==typeof h&&h?h:{}},h=this._mergeConfigObj(h),h=this._configAfterMerge(h),this._typeCheckConfig(h),h}_configAfterMerge(h){return h.container=!1===h.container?document.body:Or(h.container),"number"==typeof h.delay&&(h.delay={show:h.delay,hide:h.delay}),"number"==typeof h.title&&(h.title=h.title.toString()),"number"==typeof h.content&&(h.content=h.content.toString()),h}_getDelegateConfig(){const h={};for(const[o,y]of Object.entries(this._config))this.constructor.Default[o]!==y&&(h[o]=y);return h.selector=!1,h.trigger="manual",h}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(h){return this.each(function(){const o=Jl.getOrCreateInstance(this,h);if("string"==typeof h){if(typeof o[h]>"u")throw new TypeError(`No method named "${h}"`);o[h]()}})}}Ha(Jl);const OP=".popover-header",W0=".popover-body",K0={...Jl.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},$0={...Jl.DefaultType,content:"(null|string|element|function)"};class h_ extends Jl{static get Default(){return K0}static get DefaultType(){return $0}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[OP]:this._getTitle(),[W0]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(h){return this.each(function(){const o=h_.getOrCreateInstance(this,h);if("string"==typeof h){if(typeof o[h]>"u")throw new TypeError(`No method named "${h}"`);o[h]()}})}}Ha(h_);const m_=".bs.scrollspy",IP=`activate${m_}`,RP=`click${m_}`,j0=`load${m_}.data-api`,ss="active",__="[href]",Ql=".nav-link",z0=`${Ql}, .nav-item > ${Ql}, .list-group-item`,X0={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},J0={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ql extends sa{constructor(h,o){super(h,o),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return X0}static get DefaultType(){return J0}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const h of this._observableSections.values())this._observer.observe(h)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(h){return h.target=Or(h.target)||document.body,h.rootMargin=h.offset?`${h.offset}px 0px -30%`:h.rootMargin,"string"==typeof h.threshold&&(h.threshold=h.threshold.split(",").map(o=>Number.parseFloat(o))),h}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Qe.off(this._config.target,RP),Qe.on(this._config.target,RP,__,h=>{const o=this._observableSections.get(h.target.hash);if(o){h.preventDefault();const y=this._rootElement||window,E=o.offsetTop-this._element.offsetTop;if(y.scrollTo)return void y.scrollTo({top:E,behavior:"smooth"});y.scrollTop=E}}))}_getNewObserver(){return new IntersectionObserver(o=>this._observerCallback(o),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(h){const o=I=>this._targetLinks.get(`#${I.target.id}`),y=I=>{this._previousScrollData.visibleEntryTop=I.target.offsetTop,this._process(o(I))},E=(this._rootElement||document.documentElement).scrollTop,C=E>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=E;for(const I of h){if(!I.isIntersecting){this._activeTarget=null,this._clearActiveClass(o(I));continue}const W=I.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(C&&W){if(y(I),!E)return}else!C&&!W&&y(I)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const h=Nt.find(__,this._config.target);for(const o of h){if(!o.hash||Ir(o))continue;const y=Nt.findOne(decodeURI(o.hash),this._element);Ul(y)&&(this._targetLinks.set(decodeURI(o.hash),o),this._observableSections.set(o.hash,y))}}_process(h){this._activeTarget!==h&&(this._clearActiveClass(this._config.target),this._activeTarget=h,h.classList.add(ss),this._activateParents(h),Qe.trigger(this._element,IP,{relatedTarget:h}))}_activateParents(h){if(h.classList.contains("dropdown-item"))Nt.findOne(".dropdown-toggle",h.closest(".dropdown")).classList.add(ss);else for(const o of Nt.parents(h,".nav, .list-group"))for(const y of Nt.prev(o,z0))y.classList.add(ss)}_clearActiveClass(h){h.classList.remove(ss);const o=Nt.find(`${__}.${ss}`,h);for(const y of o)y.classList.remove(ss)}static jQueryInterface(h){return this.each(function(){const o=ql.getOrCreateInstance(this,h);if("string"==typeof h){if(void 0===o[h]||h.startsWith("_")||"constructor"===h)throw new TypeError(`No method named "${h}"`);o[h]()}})}}Qe.on(window,j0,()=>{for(const d of Nt.find('[data-bs-spy="scroll"]'))ql.getOrCreateInstance(d)}),Ha(ql);const Rs=".bs.tab",f_=`hide${Rs}`,KM=`hidden${Rs}`,FP=`show${Rs}`,Q0=`shown${Rs}`,NP=`click${Rs}`,UP=`keydown${Rs}`,WP=`load${Rs}`,v_="ArrowLeft",q0="ArrowRight",Z0="ArrowUp",KP="ArrowDown",y_="Home",b_="End",Nr="active",Gp="show",HP=".dropdown-toggle",Hp=`:not(${HP})`,P_='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',jp=`.nav-link${Hp}, .list-group-item${Hp}, [role="tab"]${Hp}, ${P_}`,iD=`.${Nr}[data-bs-toggle="tab"], .${Nr}[data-bs-toggle="pill"], .${Nr}[data-bs-toggle="list"]`;class Zl extends sa{constructor(h){super(h),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Qe.on(this._element,UP,o=>this._keydown(o)))}static get NAME(){return"tab"}show(){const h=this._element;if(this._elemIsActive(h))return;const o=this._getActiveElem(),y=o?Qe.trigger(o,f_,{relatedTarget:h}):null;Qe.trigger(h,FP,{relatedTarget:o}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(o,h),this._activate(h,o))}_activate(h,o){h&&(h.classList.add(Nr),this._activate(Nt.getElementFromSelector(h)),this._queueCallback(()=>{"tab"===h.getAttribute("role")?(h.removeAttribute("tabindex"),h.setAttribute("aria-selected",!0),this._toggleDropDown(h,!0),Qe.trigger(h,Q0,{relatedTarget:o})):h.classList.add(Gp)},h,h.classList.contains("fade")))}_deactivate(h,o){h&&(h.classList.remove(Nr),h.blur(),this._deactivate(Nt.getElementFromSelector(h)),this._queueCallback(()=>{"tab"===h.getAttribute("role")?(h.setAttribute("aria-selected",!1),h.setAttribute("tabindex","-1"),this._toggleDropDown(h,!1),Qe.trigger(h,KM,{relatedTarget:o})):h.classList.remove(Gp)},h,h.classList.contains("fade")))}_keydown(h){if(![v_,q0,Z0,KP,y_,b_].includes(h.key))return;h.stopPropagation(),h.preventDefault();const o=this._getChildren().filter(E=>!Ir(E));let y;if([y_,b_].includes(h.key))y=o[h.key===y_?0:o.length-1];else{const E=[q0,KP].includes(h.key);y=Lm(o,h.target,E,!0)}y&&(y.focus({preventScroll:!0}),Zl.getOrCreateInstance(y).show())}_getChildren(){return Nt.find(jp,this._parent)}_getActiveElem(){return this._getChildren().find(h=>this._elemIsActive(h))||null}_setInitialAttributes(h,o){this._setAttributeIfNotExists(h,"role","tablist");for(const y of o)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(h){h=this._getInnerElement(h);const o=this._elemIsActive(h),y=this._getOuterElement(h);h.setAttribute("aria-selected",o),y!==h&&this._setAttributeIfNotExists(y,"role","presentation"),o||h.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(h,"role","tab"),this._setInitialAttributesOnTargetPanel(h)}_setInitialAttributesOnTargetPanel(h){const o=Nt.getElementFromSelector(h);o&&(this._setAttributeIfNotExists(o,"role","tabpanel"),h.id&&this._setAttributeIfNotExists(o,"aria-labelledby",`${h.id}`))}_toggleDropDown(h,o){const y=this._getOuterElement(h);if(!y.classList.contains("dropdown"))return;const E=(C,I)=>{const W=Nt.findOne(C,y);W&&W.classList.toggle(I,o)};E(HP,Nr),E(".dropdown-menu",Gp),y.setAttribute("aria-expanded",o)}_setAttributeIfNotExists(h,o,y){h.hasAttribute(o)||h.setAttribute(o,y)}_elemIsActive(h){return h.classList.contains(Nr)}_getInnerElement(h){return h.matches(jp)?h:Nt.findOne(jp,h)}_getOuterElement(h){return h.closest(".nav-item, .list-group-item")||h}static jQueryInterface(h){return this.each(function(){const o=Zl.getOrCreateInstance(this);if("string"==typeof h){if(void 0===o[h]||h.startsWith("_")||"constructor"===h)throw new TypeError(`No method named "${h}"`);o[h]()}})}}Qe.on(document,NP,P_,function(d){["A","AREA"].includes(this.tagName)&&d.preventDefault(),!Ir(this)&&Zl.getOrCreateInstance(this).show()}),Qe.on(window,WP,()=>{for(const d of Nt.find(iD))Zl.getOrCreateInstance(d)}),Ha(Zl);const Mo=".bs.toast",GM=`mouseover${Mo}`,HM=`mouseout${Mo}`,jM=`focusin${Mo}`,VM=`focusout${Mo}`,zM=`hide${Mo}`,YM=`hidden${Mo}`,aD=`show${Mo}`,sD=`shown${Mo}`,A_="show",Bu="showing",E_={animation:"boolean",autohide:"boolean",delay:"number"},YP={animation:!0,autohide:!0,delay:5e3};class S_ extends sa{constructor(h,o){super(h,o),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return YP}static get DefaultType(){return E_}static get NAME(){return"toast"}show(){Qe.trigger(this._element,aD).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(A_,Bu),this._queueCallback(()=>{this._element.classList.remove(Bu),Qe.trigger(this._element,sD),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!Qe.trigger(this._element,zM).defaultPrevented&&(this._element.classList.add(Bu),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Bu,A_),Qe.trigger(this._element,YM)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(A_),super.dispose()}isShown(){return this._element.classList.contains(A_)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(h,o){switch(h.type){case"mouseover":case"mouseout":this._hasMouseInteraction=o;break;case"focusin":case"focusout":this._hasKeyboardInteraction=o}if(o)return void this._clearTimeout();const y=h.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){Qe.on(this._element,GM,h=>this._onInteraction(h,!0)),Qe.on(this._element,HM,h=>this._onInteraction(h,!1)),Qe.on(this._element,jM,h=>this._onInteraction(h,!0)),Qe.on(this._element,VM,h=>this._onInteraction(h,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(h){return this.each(function(){const o=S_.getOrCreateInstance(this,h);if("string"==typeof h){if(typeof o[h]>"u")throw new TypeError(`No method named "${h}"`);o[h](this)}})}}function XP(d){return(0,kt.qK)(d)}function T_(d,h,o){"player"===h?d.playerPackImageBroken=!1:d.opponentPackImageBroken=!1}function cD(d){return(0,kt.bG)(d)}function QP(d){d.customPackEditorModal.show(),d.formGroup.get("playerPack").setValue(d.previousPackPlayer,{emitEvent:!1}),d.formGroup.get("opponentPack").setValue(d.previousPackOpponent,{emitEvent:!1})}function zp(d,h){const o=d.petSelectors.toArray().slice("player"==h?0:5,"player"==h?5:10);for(const y of o)y.removePet();"player"===h?(d.formGroup.get("playerToy").setValue(null),d.formGroup.get("playerToyLevel").setValue(1),d.formGroup.get("playerHardToy").setValue(null),d.formGroup.get("playerHardToyLevel").setValue(1)):(d.formGroup.get("opponentToy").setValue(null),d.formGroup.get("opponentToyLevel").setValue(1),d.formGroup.get("opponentHardToy").setValue(null),d.formGroup.get("opponentHardToyLevel").setValue(1))}function Yp(d,h,o=!1,y){let E=!1;try{const C=(0,Gc.$K)((0,Gc.d4)(h));y?.resetBattle&&function D_(d){d.simulated=!1,d.battles=[],d.battleRandomEvents=[],d.battleRandomEventsByBattle=new Map,d.filteredBattlesCache=[],d.viewBattle=null,d.viewBattleLogs=[],d.viewBattleLogRows=[],d.playerWinner=0,d.opponentWinner=0,d.draw=0,d.pendingPositioningOptimizationBaseline=null,d.positioningDeltaSummary=null,d.apiResponse=null,d.battleStarted=!1,d.currBattle=null}(d),d.petSelectors?.length&&(zp(d,"player"),zp(d,"opponent")),ko(d,C),T(d),o||setTimeout(()=>{d.petSelectors&&d.petSelectors.forEach(I=>{I.fixLoadEquipment()})},0),E=!0}catch(C){console.error(C)}return E}function ko(d,h){d.calculatorStateService.applyCalculatorState(d.formGroup,h,d.dayNight,()=>Dl(d)),d.logService.setShowTriggerNamesInLogs(d.formGroup.get("showTriggerNamesInLogs")?.value)}function s(d){const o=d.formGroup.get("turn").value%2==1;d.dayNight=o,d.gameService.gameApi.day=o}function m(d){sm(d.formGroup,d.player,d.opponent),b(d)}function b(d){d.playerPetsControls=Array.from(d.formGroup.get("playerPets").controls).reverse(),d.opponentPetsControls=Array.from(d.formGroup.get("opponentPets").controls)}function T(d){d.petService.buildCustomPackPets(d.formGroup.get("customPacks")),w(d),Ml(d,d.player,d.formGroup.get("playerPack").value,!1),Ml(d,d.opponent,d.formGroup.get("opponentPack").value,!1),Cl(d,d.player,d.formGroup.get("playerToy").value),Cl(d,d.opponent,d.formGroup.get("opponentToy").value),d.gameService.gameApi.playerHardToy=d.formGroup.get("playerHardToy").value,d.gameService.gameApi.playerHardToyLevel=d.formGroup.get("playerHardToyLevel").value,d.gameService.gameApi.opponentHardToy=d.formGroup.get("opponentHardToy").value,d.gameService.gameApi.opponentHardToyLevel=d.formGroup.get("opponentHardToyLevel").value,up(d,d.player,d.formGroup.get("playerHardToy").value),up(d,d.opponent,d.formGroup.get("opponentHardToy").value),d.previousPackOpponent=d.opponent.pack,d.previousPackPlayer=d.player.pack}function w(d){for(let h=0;h<5;h++){const o=d.formGroup.get("playerPets").controls[h];if(null==o.get("name").value)continue;const y=d.petService.createPet(o.value,d.player);d.player.setPet(h,y,!0)}for(let h=0;h<5;h++){const o=d.formGroup.get("opponentPets").controls[h];if(null==o.get("name").value)continue;const y=d.petService.createPet(o.value,d.opponent);d.opponent.setPet(h,y,!0)}}function B(d,h){if(!d.activePetSlot)return d.setStatus("Select a pet slot first.","error"),!1;const o=Q(d,d.activePetSlot.side,d.activePetSlot.index);if(!o)return d.setStatus("Could not access selected pet slot.","error"),!1;const y=o.formGroup?.getRawValue?.();return y?.name?(d.petClipboard=re(y),h?(o.removePet(),d.setStatus("Pet cut.","success")):d.setStatus("Pet copied.","success"),!0):(d.setStatus("Selected slot is empty.","error"),!1)}function Q(d,h,o){const y="player"===h?d.player:d.opponent;return d.petSelectors?.toArray?.()?.find(E=>E.player===y&&E.index===o)??null}function re(d){return JSON.parse(JSON.stringify(d))}ir(S_),Ha(S_);var Xe=i(24111),dt=i(49230),St=i(1744),et=i(96767);function ri(d){return null!==d&&"object"==typeof d&&!Array.isArray(d)}function In(d){if(Array.isArray(d))return d.map(h=>In(h));if(ri(d)){const h={};for(const o of Object.keys(d))h[et.g[o]||o]=In(d[o]);return h}return d}let qP=(()=>{class d{parseCalculatorStateFromUrl(){const o=new URLSearchParams(window.location.search),y=window.location.hash.startsWith("#")?window.location.hash.slice(1):window.location.hash,E=new URLSearchParams(y.startsWith("?")?y.slice(1):y),C=o.get("c")||E.get("c");if(!C)return{state:null};try{const I=decodeURIComponent(C),W=I.trim().startsWith("{")||I.trim().startsWith("[")?JSON.parse(I):function wo(d){try{return JSON.parse(d)}catch{return JSON.parse(decodeURIComponent(d))}}(function rr(d){const h=atob(function $i(d){const h=d.replace(/\s/g,"+").replace(/-/g,"+").replace(/_/g,"/");return`${h}${"=".repeat((4-h.length%4)%4)}`}(d)),o=Uint8Array.from(h,y=>y.charCodeAt(0));return(new TextDecoder).decode(o)}(C)),X=In(W);return ri(X)?{state:X}:{state:null}}catch{return{state:null,error:"Failed to parse calculator state from URL."}}}parseApiStateFromUrl(){const y=new URLSearchParams(window.location.search).get("code");if(!y)return{state:null};try{const E=JSON.parse(decodeURIComponent(y));return ri(E)?{state:E}:{state:null}}catch{return{state:null,error:"Error parsing API data from URL."}}}static \u0275fac=function(y){return new(y||d)};static \u0275prov=v.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();function tC(d){return new ue.gE({name:new ue.MJ(d?.name??null,ue.k0.required),tier1Pets:new ue.MJ(d?.tier1Pets??[],d=>d.value&&10!==d.value.length?{length:!0}:null),tier2Pets:new ue.MJ(d?.tier2Pets??[],d=>d.value&&10!==d.value.length?{length:!0}:null),tier3Pets:new ue.MJ(d?.tier3Pets??[],d=>d.value&&10!==d.value.length?{length:!0}:null),tier4Pets:new ue.MJ(d?.tier4Pets??[],d=>d.value&&10!==d.value.length?{length:!0}:null),tier5Pets:new ue.MJ(d?.tier5Pets??[],d=>d.value&&10!==d.value.length?{length:!0}:null),tier6Pets:new ue.MJ(d?.tier6Pets??[],d=>d.value&&10!==d.value.length?{length:!0}:null),spells:new ue.MJ(d?.spells??[])})}let hC=(()=>{class d{gameService;constructor(o){this.gameService=o}applyCalculatorState(o,y,E,C){const I=this.getDefaultState(),W=this.asRecord(y),X={...I,...W};o.patchValue(X,{emitEvent:!1});const z=W?.customPacks,pe=W?{...W,customPacks:[]}:{};this.loadCustomPacks(o,z),o.patchValue(pe,{emitEvent:!1}),o.get("tokenPets")?.setValue(!0,{emitEvent:!1}),this.normalizeEquipmentControls(o.get("playerPets")),this.normalizeEquipmentControls(o.get("opponentPets")),C&&setTimeout(()=>C()),this.gameService.gameApi.oldStork=o.get("oldStork").value,this.gameService.gameApi.komodoShuffle=o.get("komodoShuffle").value,this.gameService.gameApi.mana=o.get("mana").value,this.gameService.gameApi.playerRollAmount=o.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=o.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=o.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=o.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=o.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=o.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=o.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=o.get("opponentTransformationAmount").value,this.gameService.gameApi.day=E,this.gameService.gameApi.turnNumber=o.get("turn").value}loadCustomPacks(o,y){const E=o.get("customPacks");E.clear();const C=Array.isArray(y)?y:[];for(const I of C){const W=tC(I);E.push(W)}}getDefaultState(){return{playerPack:"Turtle",opponentPack:"Turtle",playerToy:null,playerToyLevel:"1",playerHardToy:null,playerHardToyLevel:"1",opponentToy:null,opponentToyLevel:"1",opponentHardToy:null,opponentHardToyLevel:"1",turn:11,playerGoldSpent:10,opponentGoldSpent:10,playerRollAmount:4,opponentRollAmount:4,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:0,opponentTransformationAmount:0,playerLevel3Sold:0,opponentLevel3Sold:0,playerPets:Array(5).fill(null),opponentPets:Array(5).fill(null),allPets:!1,logFilter:null,customPacks:[],oldStork:!1,tokenPets:!0,komodoShuffle:!1,mana:!1,seed:null,showAdvanced:!1,showTriggerNamesInLogs:!1,showPositionalArgsInLogs:!0,ailmentEquipment:!1}}normalizeEquipmentControls(o){if(o?.controls?.length)for(const y of o.controls){const C=y.get("equipment");if(!C)continue;const I=C.value,W=this.getEquipmentName(I);W!==I&&C.setValue(W,{emitEvent:!1})}}getEquipmentName(o){return o?"string"==typeof o?o:null!==o&&"object"==typeof o&&"name"in o&&"string"==typeof o.name?o.name:null:null}asRecord(o){return null===o||"object"!=typeof o||Array.isArray(o)?null:o}static \u0275fac=function(y){return new(y||d)(v.KVO(St.w))};static \u0275prov=v.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();var iC=i(46791),mC=i(19661);let _C=(()=>{class d{logService;gameService;abilityService;petService;equipmentService;toyService;constructor(o,y,E,C,I,W){this.logService=o,this.gameService=y,this.abilityService=E,this.petService=C,this.equipmentService=I,this.toyService=W}runSimulationInWorker(o,y,E,C,I,W,X){if(typeof Worker>"u"){const $e=this.runSimulation(o,y,E,C);return I.onResult?.($e),null}const z=this.buildConfig(o,y,X),pe=o.get("showTriggerNamesInLogs")?.value??!1,Me=W?.progressInterval??50,Ie=new Worker(i.tu(new URL(i.p+i.u(63),i.b)),{type:void 0});return Ie.onmessage=({data:$e})=>{!$e||!$e.type||("progress"===$e.type?I.onProgress?.($e):"result"===$e.type?I.onResult?.($e.result):"aborted"===$e.type?I.onAborted?.($e.result):"error"===$e.type&&I.onError?.($e.message||"Worker simulation failed."))},Ie.onerror=$e=>{I.onError?.($e.message||"Worker simulation failed.")},Ie.postMessage({type:"start",config:z,progressInterval:Me,showTriggerNamesInLogs:pe}),Ie}runPositioningOptimizationInWorker(o,y,E,C,I,W,X){if(typeof Worker>"u"){const Me=this.runPositioningOptimization(o,y,E,C,W,X);return I.onResult?.(Me),null}const z=this.buildConfig(o,y,X),pe=new Worker(i.tu(new URL(i.p+i.u(301),i.b)),{type:void 0});return pe.onmessage=({data:Me})=>{!Me||!Me.type||("positioning-progress"===Me.type?I.onProgress?.(Me.progress):"positioning-result"===Me.type?I.onResult?.(Me.result):"positioning-aborted"===Me.type?I.onAborted?.(Me.result):"error"===Me.type&&I.onError?.(Me.message||"Worker optimization failed."))},pe.onerror=Me=>{I.onError?.(Me.message||"Worker optimization failed.")},pe.postMessage({type:"optimize-positioning-start",config:z,options:W}),pe}requestWorkerCancel(o){if(o)try{o.postMessage({type:"cancel"})}catch{}}runSimulation(o,y,E,C,I){const W=this.buildConfig(o,y,I),X=this.logService.isEnabled(),z=this.logService.isDeferDecorations();this.logService.setEnabled(!1!==W.logsEnabled),this.logService.setDeferDecorations(!0);const Me=new iC.O(this.logService,this.gameService,this.abilityService,this.petService,this.equipmentService,this.toyService).run(W);return this.gameService.init(E,C),this.syncGameApiFromForm(o),this.logService.setEnabled(X),this.logService.setDeferDecorations(z),Me}runPositioningOptimization(o,y,E,C,I,W){const X=this.buildConfig(o,y,W),z=this.logService.isEnabled(),pe=this.logService.isDeferDecorations();this.logService.setEnabled(!1),this.logService.setDeferDecorations(!0);const Me=new iC.O(this.logService,this.gameService,this.abilityService,this.petService,this.equipmentService,this.toyService),Ie=(0,mC.i)({baseConfig:X,options:{side:I.side,batchSize:I.batchSize,maxSimulationsPerPermutation:I.maxSimulationsPerPermutation,confidenceZ:I.confidenceZ,minSamplesBeforeElimination:I.minSamplesBeforeElimination},simulateBatch:$e=>Me.run($e)});return this.gameService.init(E,C),this.syncGameApiFromForm(o),this.logService.setEnabled(z),this.logService.setDeferDecorations(pe),Ie}syncGameApiFromForm(o){this.gameService.gameApi.oldStork=o.get("oldStork").value,this.gameService.gameApi.komodoShuffle=o.get("komodoShuffle").value,this.gameService.gameApi.mana=o.get("mana").value,this.gameService.gameApi.playerRollAmount=o.get("playerRollAmount").value,this.gameService.gameApi.opponentRollAmount=o.get("opponentRollAmount").value,this.gameService.gameApi.playerLevel3Sold=o.get("playerLevel3Sold").value,this.gameService.gameApi.opponentLevel3Sold=o.get("opponentLevel3Sold").value,this.gameService.gameApi.playerSummonedAmount=o.get("playerSummonedAmount").value,this.gameService.gameApi.opponentSummonedAmount=o.get("opponentSummonedAmount").value,this.gameService.gameApi.playerTransformationAmount=o.get("playerTransformationAmount").value,this.gameService.gameApi.opponentTransformationAmount=o.get("opponentTransformationAmount").value,this.gameService.setGoldSpent(o.get("playerGoldSpent").value,o.get("opponentGoldSpent").value),this.gameService.setTurnNumber(o.get("turn").value)}buildConfig(o,y,E){const C=o.get("logsEnabled")?.value??!0,I=o.get("seed")?.value,W=Number(I),X=""!==I&&null!=I&&Number.isFinite(W)?Math.trunc(W):null;return{playerPack:o.get("playerPack").value,opponentPack:o.get("opponentPack").value,playerToy:o.get("playerToy").value,playerToyLevel:o.get("playerToyLevel").value,playerHardToy:o.get("playerHardToy").value,playerHardToyLevel:o.get("playerHardToyLevel").value,opponentToy:o.get("opponentToy").value,opponentToyLevel:o.get("opponentToyLevel").value,opponentHardToy:o.get("opponentHardToy").value,opponentHardToyLevel:o.get("opponentHardToyLevel").value,turn:o.get("turn").value,playerGoldSpent:o.get("playerGoldSpent").value,opponentGoldSpent:o.get("opponentGoldSpent").value,playerRollAmount:o.get("playerRollAmount").value,opponentRollAmount:o.get("opponentRollAmount").value,playerSummonedAmount:o.get("playerSummonedAmount").value,opponentSummonedAmount:o.get("opponentSummonedAmount").value,playerLevel3Sold:o.get("playerLevel3Sold").value,opponentLevel3Sold:o.get("opponentLevel3Sold").value,playerTransformationAmount:o.get("playerTransformationAmount").value,opponentTransformationAmount:o.get("opponentTransformationAmount").value,playerPets:this.normalizePetList(o.get("playerPets").value),opponentPets:this.normalizePetList(o.get("opponentPets").value),customPacks:this.normalizeCustomPacks(o.get("customPacks")?.value),allPets:o.get("allPets").value,oldStork:o.get("oldStork").value,tokenPets:o.get("tokenPets").value,komodoShuffle:o.get("komodoShuffle").value,mana:o.get("mana").value,seed:X,simulationCount:y,logsEnabled:C,maxLoggedBattles:100,...E}}normalizeCustomPacks(o){return Array.isArray(o)?o.map(y=>this.normalizeCustomPack(y)).filter(y=>null!==y):[]}isRecord(o){return"object"==typeof o&&null!==o}normalizeCustomPack(o){if(!this.isRecord(o))return null;const y=`${o.name??""}`.trim();if(!y)return null;const E=C=>Array.isArray(C)?C.filter(I=>"string"==typeof I).map(I=>I.trim()).filter(I=>I.length>0):[];return{name:y,tier1Pets:E(o.tier1Pets),tier2Pets:E(o.tier2Pets),tier3Pets:E(o.tier3Pets),tier4Pets:E(o.tier4Pets),tier5Pets:E(o.tier5Pets),tier6Pets:E(o.tier6Pets),spells:E(o.spells)}}normalizePetList(o){return Array.isArray(o)?o.map(y=>this.normalizePetEntry(y)):[]}normalizePetEntry(o){if(!this.isRecord(o)||"string"!=typeof o.name||!o.name)return null;const y={...o},E=y.equipment;let C=null,I="number"==typeof y.equipmentUses?y.equipmentUses:null;if(this.isRecord(E)){if(C="string"==typeof E.name?E.name:null,null==I&&null!=E.uses){const W=Number(E.uses);I=Number.isFinite(W)?W:null}}else"string"==typeof E&&(C=E);return y.equipment=C?{name:C}:null,y.equipmentUses=I??null,delete y.parent,delete y.logService,delete y.abilityService,delete y.gameService,delete y.petService,delete y.abilityList,delete y.originalAbilityList,delete y.originalEquipment,y}static \u0275fac=function(y){return new(y||d)(v.KVO(Xe.K),v.KVO(St.w),v.KVO(dt.K),v.KVO(vs.T),v.KVO(ta.m),v.KVO(Ks.w))};static \u0275prov=v.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();function pD(){return[{id:"default-max-damage",name:"1000 Mana",createdAt:Date.now(),toyName:"Nutcracker",toyLevel:3,pets:Array.from({length:5},()=>({name:"Sea Serpent",attack:50,health:50,exp:5,equipment:{name:"Coconut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}))},{id:"default-great-six",name:"The Great Six",createdAt:Date.now(),toyName:"Evil Book",toyLevel:3,pets:Array.from({length:5},()=>({name:"Beluga Whale",attack:50,health:50,exp:5,equipment:{name:"White Okra"},belugaSwallowedPet:"Great One",sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}))},{id:"default-ability-removal",name:"Orca Scam",createdAt:Date.now(),playerToyName:"Pandoras Box",playerToyLevel:1,opponentToyName:null,opponentToyLevel:1,playerHardToy:null,playerHardToyLevel:1,opponentHardToy:null,opponentHardToyLevel:1,turn:11,playerGoldSpent:10,opponentGoldSpent:10,allPets:!0,tokenPets:!0,komodoShuffle:!1,mana:!0,triggersConsumed:!1,changeEquipmentUses:!1,playerRollAmount:3,opponentRollAmount:1,playerLevel3Sold:0,opponentLevel3Sold:0,playerSummonedAmount:0,opponentSummonedAmount:0,playerTransformationAmount:100,opponentTransformationAmount:100,pets:[{name:"Giant Pangasius",attack:49,health:1,exp:1,equipment:null,belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1Level:1,abominationSwallowedPet2Level:1,abominationSwallowedPet3Level:1,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:1,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Orca",abominationSwallowedPet2:"Behemoth",abominationSwallowedPet3:"Rat",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:50,health:1,exp:5,equipment:{name:"Silly"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Rat",abominationSwallowedPet2:"Phoenix",abominationSwallowedPet3:"Giant Pangasius",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:1,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:1,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Rat",abominationSwallowedPet3:"Albatross",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Cashew Nut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Panther",abominationSwallowedPet3:"Guineafowl",abominationSwallowedPet1Level:1,abominationSwallowedPet2Level:1,abominationSwallowedPet3Level:1,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}]},{id:"default-sob-snipes",name:"SoB Snipes",createdAt:Date.now(),toyName:"Nutcracker",toyLevel:3,pets:Array.from({length:5},()=>({name:"Leopard",attack:50,health:50,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,battlesFought:0,timesHurt:0,equipmentUses:null}))},{id:"default-infinite-damage",name:"Infinite Damage",createdAt:Date.now(),toyName:"Nutcracker",toyLevel:1,rollAmount:47,transformationAmount:200,pets:[{name:"Giant Pangasius",attack:50,health:1,exp:5,equipment:{name:"Mushroom"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Beluga Whale",abominationSwallowedPet3Level:1,abominationSwallowedPet3BelugaSwallowedPet:"Giant Pangasius",abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Cashew Nut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Beluga Whale",abominationSwallowedPet3Level:1,abominationSwallowedPet3BelugaSwallowedPet:"Nessie",abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Sabertooth Tiger",abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:25,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet1Level:3,abominationSwallowedPet2:"Leopard",abominationSwallowedPet2Level:3,abominationSwallowedPet3:"Beluga Whale",abominationSwallowedPet3Level:1,abominationSwallowedPet3BelugaSwallowedPet:"Slug",abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null}]},{id:"default-layers",name:"Layers",createdAt:Date.now(),playerToyName:"Nutcracker",playerToyLevel:3,opponentToyName:"Nutcracker",opponentToyLevel:3,playerHardToy:null,playerHardToyLevel:1,opponentHardToy:null,opponentHardToyLevel:1,turn:13,playerGoldSpent:13,opponentGoldSpent:13,allPets:!0,tokenPets:!0,komodoShuffle:!1,mana:!0,triggersConsumed:!1,changeEquipmentUses:!1,playerRollAmount:1e3,opponentRollAmount:1e3,playerLevel3Sold:1e3,opponentLevel3Sold:1e3,playerSummonedAmount:1e3,opponentSummonedAmount:1e3,playerTransformationAmount:1e3,opponentTransformationAmount:1e3,pets:[{name:"Giant Pangasius",attack:50,health:1,exp:5,equipment:{name:"Mushroom"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:null,abominationSwallowedPet2:null,abominationSwallowedPet3:null,abominationSwallowedPet1Level:1,abominationSwallowedPet2Level:1,abominationSwallowedPet3Level:1,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:0,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Rat",abominationSwallowedPet3:"Sabertooth Tiger",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:50,battlesFought:0,timesHurt:0,equipmentUses:null},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Cashew Nut"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Guineafowl",abominationSwallowedPet3:"Vaquita",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:1,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:50,battlesFought:0,timesHurt:0,equipmentUses:1},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Rat",abominationSwallowedPet3:"Vaquita",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:50,battlesFought:0,timesHurt:0,equipmentUses:1},{name:"Abomination",attack:100,health:100,exp:5,equipment:{name:"Churros"},belugaSwallowedPet:null,sarcasticFringeheadSwallowedPet:null,mana:50,triggersConsumed:0,abominationSwallowedPet1:"Behemoth",abominationSwallowedPet2:"Rat",abominationSwallowedPet3:"Sabertooth Tiger",abominationSwallowedPet1Level:3,abominationSwallowedPet2Level:3,abominationSwallowedPet3Level:3,abominationSwallowedPet1TimesHurt:0,abominationSwallowedPet2TimesHurt:0,abominationSwallowedPet3TimesHurt:50,battlesFought:0,timesHurt:0,equipmentUses:null}]}]}let fC=(()=>{class d{storageKey="sap-team-presets";removedPresetIds=new Set(["default-shoggoth","default-shoggoths-return","default-sloths"]);loadTeams(){const o=window.localStorage.getItem(this.storageKey);if(!o)return pD();try{const y=JSON.parse(o),E=Array.isArray(y)?y:[],C=this.migrateTeams(E);return C.changed&&this.persistTeams(C.teams),this.mergeDefaultTeams(C.teams)}catch{return pD()}}persistTeams(o){window.localStorage.setItem(this.storageKey,JSON.stringify(o))}mergeDefaultTeams(o){const y=pD(),E=new Set(o.map(I=>I.id)),C=[...o];for(const I of y)E.has(I.id)||C.push(I);return C}migrateTeams(o){let y=!1;return{teams:o.map(I=>I).filter(I=>!this.removedPresetIds.has(I.id)||(y=!0,!1)),changed:y}}static \u0275fac=function(y){return new(y||d)};static \u0275prov=v.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();const vC=["customPackEditor"],yC=()=>[i.e(142).then(i.bind(i,7142)).then(d=>d.InfoComponent)],bC=()=>[i.e(81).then(i.bind(i,41081)).then(d=>d.ImportCalculatorComponent)],PC=()=>[ue.cb,ue.j4,i.e(56).then(i.bind(i,10056)).then(d=>d.ExportCalculatorComponent)],AC=()=>[i.e(80).then(i.bind(i,71318)).then(d=>d.ReportABugComponent)];function EC(d,h){if(1&d&&(e.qex(0),e.j41(1,"div",6),e.EFF(2),e.k0s(),e.bVm()),2&d){const o=e.XpG();e.R7$(2),e.JRh(o.apiResponse)}}function SC(d,h){if(1&d&&e.nrm(0,"img",51),2&d){const o=e.XpG(2);e.Y8G("ngSrc",o.playerToyImageUrl)}}function TC(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",52)(1,"button",53),e.bIt("click",function(){v.eBV(o);const E=e.XpG(2);return v.Njj(E.decrementToyLevel("player"))}),e.nrm(2,"i",54),e.k0s(),e.j41(3,"span",55),e.EFF(4),e.k0s(),e.j41(5,"button",56),e.bIt("click",function(){v.eBV(o);const E=e.XpG(2);return v.Njj(E.incrementToyLevel("player"))}),e.nrm(6,"i",57),e.k0s()()}if(2&d){const o=e.XpG(2);e.R7$(4),e.SpI("Lv",o.formGroup.get("playerToyLevel").value)}}function DC(d,h){if(1&d&&e.nrm(0,"img",58),2&d){const o=e.XpG(2);e.Y8G("ngSrc",o.playerHardToyImageUrl)}}function MC(d,h){if(1&d){const o=e.RV6();e.j41(0,"button",59),e.bIt("click",function(){v.eBV(o);const E=e.XpG(2);return v.Njj(E.removeHardToy("player"))}),e.nrm(1,"i",60),e.k0s()}}function CC(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",61),e.bIt("mousedown",function(){const E=v.eBV(o).index,C=e.XpG(2);return v.Njj(C.setActivePetSlot("player",4-E))})("focusin",function(){const E=v.eBV(o).index,C=e.XpG(2);return v.Njj(C.setActivePetSlot("player",4-E))}),e.j41(1,"div",62)(2,"button",63),e.bIt("click",function(E){return v.eBV(o),e.sdS(5).removePet(),v.Njj(E.stopPropagation())}),e.EFF(3," X "),e.k0s()(),e.nrm(4,"app-pet-selector",64,2),e.k0s()}if(2&d){const o=h.$implicit,y=h.index,E=e.XpG(2);e.AVh("pet-slot-active","player"===(null==E.activePetSlot?null:E.activePetSlot.side)&&(null==E.activePetSlot?null:E.activePetSlot.index)===4-y),e.Y8G("cdkDragStartDelay",E.petSlotDragStartDelay),e.R7$(4),e.Y8G("pet",E.player.getPet(4-y))("player",E.player)("opponent",E.opponent)("index",4-y)("formGroup",E.makeFormGroup(o))("ailments",!0)("allPets",E.formGroup.get("allPets").value)("mana",E.formGroup.get("mana").value)("triggersConsumed",E.formGroup.get("triggersConsumed").value)("allowEquipmentUseOverrides",E.formGroup.get("changeEquipmentUses").value)("showTokenPets",E.formGroup.get("tokenPets").value)("flipImage",!0)("customPacks",E.formGroup.get("customPacks"))}}function kC(d,h){if(1&d&&e.nrm(0,"img",65),2&d){const o=e.XpG(2);e.Y8G("ngSrc",o.opponentToyImageUrl)}}function wC(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",52)(1,"button",66),e.bIt("click",function(){v.eBV(o);const E=e.XpG(2);return v.Njj(E.decrementToyLevel("opponent"))}),e.nrm(2,"i",54),e.k0s(),e.j41(3,"span",55),e.EFF(4),e.k0s(),e.j41(5,"button",67),e.bIt("click",function(){v.eBV(o);const E=e.XpG(2);return v.Njj(E.incrementToyLevel("opponent"))}),e.nrm(6,"i",57),e.k0s()()}if(2&d){const o=e.XpG(2);e.R7$(4),e.SpI("Lv",o.formGroup.get("opponentToyLevel").value)}}function OC(d,h){if(1&d&&e.nrm(0,"img",68),2&d){const o=e.XpG(2);e.Y8G("ngSrc",o.opponentHardToyImageUrl)}}function IC(d,h){if(1&d){const o=e.RV6();e.j41(0,"button",69),e.bIt("click",function(){v.eBV(o);const E=e.XpG(2);return v.Njj(E.removeHardToy("opponent"))}),e.nrm(1,"i",60),e.k0s()}}function RC(d,h){if(1&d){const o=e.RV6();e.j41(0,"div",70),e.bIt("mousedown",function(){const E=v.eBV(o).index,C=e.XpG(2);return v.Njj(C.setActivePetSlot("opponent",E))})("focusin",function(){const E=v.eBV(o).index,C=e.XpG(2);return v.Njj(C.setActivePetSlot("opponent",E))}),e.j41(1,"div",62)(2,"button",63),e.bIt("click",function(E){return v.eBV(o),e.sdS(5).removePet(),v.Njj(E.stopPropagation())}),e.EFF(3," X "),e.k0s()(),e.nrm(4,"app-pet-selector",64,3),e.k0s()}if(2&d){const o=h.$implicit,y=h.index,E=e.XpG(2);e.AVh("pet-slot-active","opponent"===(null==E.activePetSlot?null:E.activePetSlot.side)&&(null==E.activePetSlot?null:E.activePetSlot.index)===y),e.Y8G("cdkDragStartDelay",E.petSlotDragStartDelay),e.R7$(4),e.Y8G("pet",E.opponent.getPet(y))("player",E.opponent)("opponent",E.player)("index",y)("formGroup",E.makeFormGroup(o))("ailments",!0)("allPets",E.formGroup.get("allPets").value)("mana",E.formGroup.get("mana").value)("triggersConsumed",E.formGroup.get("triggersConsumed").value)("allowEquipmentUseOverrides",E.formGroup.get("changeEquipmentUses").value)("showTokenPets",E.formGroup.get("tokenPets").value)("flipImage",!1)("customPacks",E.formGroup.get("customPacks"))}}function LC(d,h){1&d&&e.nrm(0,"app-info")}function xC(d,h){1&d&&(e.j41(0,"div",71),e.EFF(1,"Loading info\u2026"),e.k0s())}function BC(d,h){if(1&d&&e.nrm(0,"app-import-calculator",72),2&d){const o=e.XpG(2);e.Y8G("importFunc",o.importForDialog)}}function FC(d,h){1&d&&(e.j41(0,"div",71),e.EFF(1,"Loading import tools\u2026"),e.k0s())}function NC(d,h){if(1&d&&e.nrm(0,"app-export-calculator",41),2&d){const o=e.XpG(2);e.Y8G("formGroup",o.formGroup)}}function UC(d,h){1&d&&(e.j41(0,"div",71),e.EFF(1,"Loading export tools\u2026"),e.k0s())}function WC(d,h){if(1&d&&e.nrm(0,"app-report-a-bug",73),2&d){const o=e.XpG(2);e.Y8G("calcFormGroup",o.formGroup)}}function KC(d,h){1&d&&(e.j41(0,"div",71),e.EFF(1,"Loading report form\u2026"),e.k0s())}function $C(d,h){if(1&d){const o=e.RV6();e.qex(0),e.j41(1,"div",7,0)(3,"div",8)(4,"div",9)(5,"div",10)(6,"div",11)(7,"h2",12),e.EFF(8,"Player"),e.k0s(),e.j41(9,"div",13)(10,"div",14)(11,"button",15),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.openSelectionDialog("toy","player"))}),e.DNE(12,SC,1,1,"img",16),e.j41(13,"span",17),e.EFF(14),e.k0s(),e.nrm(15,"i",18),e.k0s(),e.DNE(16,TC,7,1,"div",19),e.k0s(),e.j41(17,"div",14)(18,"button",15),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.openSelectionDialog("hard-toy","player"))}),e.DNE(19,DC,1,1,"img",20),e.j41(20,"span",17),e.EFF(21),e.k0s(),e.nrm(22,"i",18),e.k0s(),e.DNE(23,MC,2,0,"button",21),e.k0s()()(),e.j41(24,"button",22),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.resetPlayer("player"))}),e.EFF(25," Reset "),e.k0s()(),e.j41(26,"div",23)(27,"div",24),e.bIt("cdkDropListDropped",function(E){v.eBV(o);const C=e.XpG();return v.Njj(C.drop(E,"player"))}),e.DNE(28,CC,6,16,"div",25),e.k0s()()(),e.j41(29,"div",26)(30,"div",10)(31,"div",11)(32,"h2",27),e.EFF(33,"Opponent"),e.k0s(),e.j41(34,"div",13)(35,"div",14)(36,"button",15),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.openSelectionDialog("toy","opponent"))}),e.DNE(37,kC,1,1,"img",28),e.j41(38,"span",17),e.EFF(39),e.k0s(),e.nrm(40,"i",18),e.k0s(),e.DNE(41,wC,7,1,"div",19),e.k0s(),e.j41(42,"div",14)(43,"button",15),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.openSelectionDialog("hard-toy","opponent"))}),e.DNE(44,OC,1,1,"img",29),e.j41(45,"span",17),e.EFF(46),e.k0s(),e.nrm(47,"i",18),e.k0s(),e.DNE(48,IC,2,0,"button",30),e.k0s()()(),e.j41(49,"button",22),e.bIt("click",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.resetPlayer("opponent"))}),e.EFF(50," Reset "),e.k0s()(),e.j41(51,"div",31)(52,"div",24),e.bIt("cdkDropListDropped",function(E){v.eBV(o);const C=e.XpG();return v.Njj(C.drop(E,"opponent"))}),e.DNE(53,RC,6,16,"div",32),e.k0s()()()(),e.nrm(54,"app-shell-controls",33)(55,"app-shell-battle-results",33),e.j41(56,"div",34,1)(58,"div",35)(59,"div",36)(60,"div",37)(61,"h1",38),e.EFF(62," Custom Pack Editor "),e.k0s(),e.nrm(63,"button",39),e.k0s(),e.j41(64,"div",40),e.nrm(65,"app-custom-pack-editor",41),e.k0s()()()(),e.j41(66,"div",42)(67,"div",43)(68,"div",36)(69,"div",37)(70,"h1",44),e.EFF(71,"Guide"),e.k0s(),e.nrm(72,"button",39),e.k0s(),e.j41(73,"div",40),e.PeT(74,LC,1,0)(75,xC,2,0),e.nv$(76,74,yC,null,75),e.k0s()()()(),e.j41(78,"div",45)(79,"div",43)(80,"div",36)(81,"div",37)(82,"h1",46),e.EFF(83," Import "),e.k0s(),e.nrm(84,"button",39),e.k0s(),e.j41(85,"div",40),e.PeT(86,BC,1,1)(87,FC,2,0),e.nv$(88,86,bC,null,87),e.k0s()()()(),e.j41(90,"div",47)(91,"div",43)(92,"div",36)(93,"div",37)(94,"h1",48),e.EFF(95," Export "),e.k0s(),e.nrm(96,"button",39),e.k0s(),e.j41(97,"div",40),e.PeT(98,NC,1,1)(99,UC,2,0),e.nv$(100,98,PC,null,99),e.k0s()()()(),e.j41(102,"div",49)(103,"div",43)(104,"div",36)(105,"div",37)(106,"h1",50),e.EFF(107,"Report A Bug"),e.k0s(),e.nrm(108,"button",39),e.k0s(),e.j41(109,"div",40),e.PeT(110,WC,1,1)(111,KC,2,0),e.nv$(112,110,AC,null,111),e.k0s()()()()(),e.bVm()}if(2&d){const o=e.XpG();e.R7$(),e.Y8G("formGroup",o.formGroup)("ngClass",o.lapsusTypographyStageClass),e.R7$(2),e.xc7("background-image",o.battleBackgroundUrl?"url("+o.battleBackgroundUrl+")":""),e.R7$(9),e.Y8G("ngIf",o.playerToyImageUrl),e.R7$(2),e.JRh(o.formGroup.get("playerToy").value||"Select Toy"),e.R7$(2),e.Y8G("ngIf",o.playerToyImageUrl),e.R7$(3),e.Y8G("ngIf",o.playerHardToyImageUrl),e.R7$(2),e.JRh(o.formGroup.get("playerHardToy").value||"Hard Toy"),e.R7$(2),e.Y8G("ngIf",o.playerHardToyImageUrl),e.R7$(5),e.Y8G("ngForOf",o.playerPetsControls)("ngForTrackBy",o.trackByIndex),e.R7$(9),e.Y8G("ngIf",o.opponentToyImageUrl),e.R7$(2),e.JRh(o.formGroup.get("opponentToy").value||"Select Toy"),e.R7$(2),e.Y8G("ngIf",o.opponentToyImageUrl),e.R7$(3),e.Y8G("ngIf",o.opponentHardToyImageUrl),e.R7$(2),e.JRh(o.formGroup.get("opponentHardToy").value||"Hard Toy"),e.R7$(2),e.Y8G("ngIf",o.opponentHardToyImageUrl),e.R7$(5),e.Y8G("ngForOf",o.opponentPetsControls)("ngForTrackBy",o.trackByIndex),e.R7$(),e.Y8G("app",o.app),e.R7$(),e.Y8G("app",o.app),e.R7$(10),e.Y8G("formGroup",o.formGroup),e.R7$(11),e.LVR(o.showInfo),e.R7$(12),e.LVR(o.showImport),e.R7$(12),e.LVR(o.showExport),e.R7$(12),e.LVR(o.showReportABug)}}function GC(d,h){if(1&d){const o=e.RV6();e.j41(0,"app-item-selection-dialog",74),e.bIt("select",function(E){v.eBV(o);const C=e.XpG();return v.Njj(C.onItemSelected(E))})("close",function(){v.eBV(o);const E=e.XpG();return v.Njj(E.showSelectionDialog=!1)}),e.k0s()}if(2&d){const o=e.XpG();e.Y8G("ngClass",o.lapsusTypographyStageClass)("type",o.selectionType)("showAllPets",o.formGroup.get("allPets").value)("customPacks",o.formGroup.get("customPacks"))("savedTeams",o.savedTeams)}}(function on(d,h,o){return Bn.apply(this,arguments)})((()=>{class d{logService;injector;cdr;abilityService;gameService;petService;toyService;equipmentService;localStorageService;urlStateService;calculatorStateService;simulationService;teamPresetsService;app=this;lapsusTypographyStage=1;uiThemeStorageKey="sapTheme";get lapsusTypographyStageClass(){return`lapsus-stage-${this.lapsusTypographyStage}`}petSelectors;customPackEditor;version="0.9.3";sapVersion="0.33.3-156 BETA";lastUpdated="1/20/2026";title="sap-calculator";player;opponent;maxTurns=71;turns=0;attackCount=0;battleStarted=!1;simulationBattleAmt=1e3;playerWinner=0;opponentWinner=0;draw=0;simulationInProgress=!1;simulationProgress=0;simulationProgressLabel="";simulationCancelRequested=!1;simulationWorker=null;simulationRunId=0;pendingPositioningOptimizationBaseline=null;positioningDeltaSummary=null;battles=[];battleRandomEvents=[];battleRandomEventsByBattle=new Map;filteredBattlesCache=[];randomDecisions=[];randomOverrideError=null;randomDecisionSelectionByFingerprint={};randomDecisionPartsCache=new Map;currBattle;viewBattle;simulated=!1;formGroup;toys;regularToys=new Map;hardWackyToys=new Map;customPackEditorModal;previousPackPlayer=null;previousPackOpponent=null;dayNight=!0;theme="light";soundMuted=!1;soundMenuOpen=!1;soundVolume=1;battleBackgroundUrl="";playerToyImageUrl="";opponentToyImageUrl="";playerHardToyImageUrl="";opponentHardToyImageUrl="";savedTeams=[];selectedTeamId="";teamName="";battleBackgrounds=[...wS];logFilterTabs=[...OS];api=!1;apiResponse=null;showSelectionDialog=!1;selectionType="pet";selectionSide="none";showInfo=!1;showImport=!1;showExport=!1;showReportABug=!1;showBattleAnalysis=!1;showRandomOverrides=!0;fightAnimationFrames=[];fightAnimationFrameIndex=-1;fightAnimationPlaying=!1;fightAnimationSpeed=1;fightAnimationSpeedOptions=[.5,1,1.5,2];logEventFilterOptions=[{value:"all",label:"All"},{value:"board",label:"Board"},{value:"attack",label:"Attack"},{value:"ability",label:"Ability"},{value:"equipment",label:"Equipment"},{value:"death",label:"Death"},{value:"random",label:"Random"}];fightAttackIconSrc="/assets/art/Public/Public/Icons/fist-from-textmap.png";fightHealthIconSrc="/assets/art/Public/Public/Icons/heart-from-textmap.png";fightExpIconSrc="/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/xp.png";fightManaIconSrc="/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/mana.png";fightSnipeIconSrc="/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/snipe.png";fightTrumpetIconSrc="/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/trumpet.png";playerPetsControls=[];opponentPetsControls=[];logEventFilter="all";viewBattleLogs=[];viewBattleLogRows=[];viewBattleLogGroups=[];collapsedLogGroupIds=new Set;viewBattleTimelineRows=[];diffBattleLeftIndex=0;diffBattleRightIndex=0;diffBattleLeftScope="all";diffBattleRightScope="all";battleDiffRows=[];battleDiffSummary={equalSteps:0,changedSteps:0,leftOnly:0,rightOnly:0};playerPackImageBroken=!1;opponentPackImageBroken=!1;undoState=null;isLoadedFromUrl=!1;statusTimer=null;fightAnimationTimer=null;formAutoSaveSubscription=null;fightAnimationRenderFrameCache=null;fightAnimationRenderFrameCacheSource=null;fightAnimationRenderFrameCacheIndex=-1;statusMessage="";statusTone="success";lastAutoSavedAt=null;activePetSlot=null;petClipboard=null;petSlotDragStartDelay={touch:160,mouse:0};trackByIndex=bM;trackByTeamId=cp;trackByLogTab=lm;toggleBattleAnalysis=()=>{this.showBattleAnalysis=!this.showBattleAnalysis};toggleRandomOverrides=()=>{this.showRandomOverrides=!this.showRandomOverrides,this.cdr.markForCheck()};refreshFightAnimationFromViewBattle=()=>function sp(d){Mr(d,!1);const h=!1!==d.formGroup.get("showPositionalArgsInLogs")?.value;d.fightAnimationFrames=function E1(d,h={}){if(!Array.isArray(d)||0===d.length)return[];const o=!1!==h.includePositionPrefix,y=!1!==h.includeBoardFrames;let E=null;const C=[];return d.forEach((I,W)=>{if(!I)return;if("board"===I.type){const Me=function S1(d){if(!d||!d.includes("|"))return null;const[h,o]=d.split("|");if(null==h||null==o)return null;const y=d1(h,"player"),E=d1(o,"opponent");return y&&E?{playerSlots:y.slots,opponentSlots:E.slots,playerToyName:y.toyName,playerHardToyName:y.hardToyName,opponentToyName:E.toyName,opponentHardToyName:E.hardToyName}:null}(I.message??"");Me&&(E=Me)}if(!E||"board"===I.type&&!y)return;const X=Hc(I);if(!X)return;const z="board"!==I.type?ry(E,I,X):{impact:null,popups:[],death:null,shifts:[],equipmentChanges:[],toyChanges:[]},pe=o?function Qv(d,h){const o=Qc(d);if(/\b[PO][1-5]\b/.test(o))return o;const y=Kg(ga(h),h.sourceIndex),I=Kg(Xc(h)??("attack"===h.type?"player"===ga(h)?"opponent":"player":null),h.targetIndex);return y&&I?`[${y}->${I}] ${o}`:y?`[${y}] ${o}`:I?`[->${I}] ${o}`:o}(X,I):Qc(X);C.push({index:C.length,logIndex:W,type:I.type,text:pe,randomEvent:!0===I.randomEvent,impact:z.impact,popups:z.popups,death:z.death,shifts:z.shifts,equipmentChanges:z.equipmentChanges,toyChanges:z.toyChanges,playerSlots:a1(E.playerSlots),opponentSlots:a1(E.opponentSlots),playerToyName:E.playerToyName,playerHardToyName:E.playerHardToyName,opponentToyName:E.opponentToyName,opponentHardToyName:E.opponentHardToyName})}),C}(d.viewBattleLogs,{includePositionPrefix:h,includeBoardFrames:!1}),d.fightAnimationFrameIndex=d.fightAnimationFrames.length>0?0:-1,d.markForCheck()}(this);toggleFightAnimationPlayback=()=>function w1(d){if(0!==d.fightAnimationFrames.length){if(d.fightAnimationPlaying)return void Mr(d);!function Xg(d){if(0===d.fightAnimationFrames.length)return d.fightAnimationFrameIndex=-1,d.fightAnimationPlaying=!1,tu(d),void d.markForCheck();const h=d.fightAnimationFrames.length-1;(d.fightAnimationFrameIndex<0||d.fightAnimationFrameIndex>h)&&(d.fightAnimationFrameIndex=0),d.fightAnimationFrameIndex>=h&&(d.fightAnimationFrameIndex=0),d.fightAnimationPlaying=!0,Jg(d),d.markForCheck()}(d)}}(this);resetFightAnimation=()=>function dy(d){if(Mr(d,!1),0===d.fightAnimationFrames.length)return d.fightAnimationFrameIndex=-1,void d.markForCheck();d.fightAnimationFrameIndex=0,d.markForCheck()}(this);stepFightAnimation=o=>function O1(d,h){if(Mr(d,!1),0===d.fightAnimationFrames.length)return d.fightAnimationFrameIndex=-1,void d.markForCheck();const o=d.fightAnimationFrames.length-1,y=Number.isFinite(h)?Math.trunc(h):0,E=Math.min(o,Math.max(0,d.fightAnimationFrameIndex+y));d.fightAnimationFrameIndex=E,d.markForCheck()}(this,o);setFightAnimationSpeed=o=>function I1(d,h){const o=qg(h);d.fightAnimationSpeed!==o&&(d.fightAnimationSpeed=o,d.fightAnimationPlaying&&Jg(d),d.markForCheck())}(this,o);onFightAnimationScrub=o=>function L1(d,h){if(0===d.fightAnimationFrames.length)return;const o="number"==typeof h?h:Number(h);Number.isFinite(o)&&(Mr(d,!1),d.fightAnimationFrameIndex=Math.min(d.fightAnimationFrames.length-1,Math.max(0,Math.trunc(o))),d.markForCheck())}(this,o);constructor(o,y,E,C,I,W,X,z,pe,Me,Ie,$e,vt){this.logService=o,this.injector=y,this.cdr=E,this.abilityService=C,this.gameService=I,this.petService=W,this.toyService=X,this.equipmentService=z,this.localStorageService=pe,this.urlStateService=Me,this.calculatorStateService=Ie,this.simulationService=$e,this.teamPresetsService=vt,Yd.I.setInjector(this.injector),this.player=new cd.a(o,C,I),this.opponent=new cd.a(o,C,I),this.opponent.isOpponent=!0,this.gameService.init(this.player,this.opponent),this.petService.init(),this.initFormGroup();const ht=this.urlStateService.parseApiStateFromUrl();ht.state?(this.api=!0,this.applyCalculatorState(ht.state),this.simulate(),this.buildApiResponse()):ht.error&&(console.error(ht.error),this.apiResponse=JSON.stringify({error:"Invalid or corrupted data provided in the URL."}))}get rollInputVisible(){return function Dy(d){return d.formGroup.get("showAdvanced").value||function $1(d){for(const h of d)if(h&&h.petArray)for(const o of h.petArray)if(o&&(Ca.includes(o.name)||"Abomination"===o.name&&(Ca.includes(o.abominationSwallowedPet1)||Ca.includes(o.abominationSwallowedPet2)||Ca.includes(o.abominationSwallowedPet3)||"Beluga Whale"===o.abominationSwallowedPet1&&Ca.includes(o.abominationSwallowedPet1BelugaSwallowedPet)||"Beluga Whale"===o.abominationSwallowedPet2&&Ca.includes(o.abominationSwallowedPet2BelugaSwallowedPet)||"Beluga Whale"===o.abominationSwallowedPet3&&Ca.includes(o.abominationSwallowedPet3BelugaSwallowedPet)||"Sarcastic Fringehead"===o.abominationSwallowedPet1&&Ca.includes(o.abominationSwallowedPet1SarcasticFringeheadSwallowedPet)||"Sarcastic Fringehead"===o.abominationSwallowedPet2&&Ca.includes(o.abominationSwallowedPet2SarcasticFringeheadSwallowedPet)||"Sarcastic Fringehead"===o.abominationSwallowedPet3&&Ca.includes(o.abominationSwallowedPet3SarcasticFringeheadSwallowedPet))||"Beluga Whale"===o.name&&Ca.includes(o.belugaSwallowedPet)||"Sarcastic Fringehead"===o.name&&Ca.includes(o.sarcasticFringeheadSwallowedPet)))return!0;return!1}([d.player,d.opponent])}(this)}buildApiResponse=()=>function zS(d){d.apiResponse=(0,Gc.ml)(d.playerWinner,d.opponentWinner,d.draw)}(this);printFormGroup=()=>function My(d){console.log(d.formGroup)}(this);ngOnInit(){this.loadThemePreference(),this.loadSoundPreference(),this.isLoadedFromUrl=this.loadStateFromUrl(!0),this.isLoadedFromUrl||this.loadLocalStorage(),this.initApp(),this.loadTeamPresets(),this.setRandomBackground(),this.initGameApi(),this.setDayNight(),this.toys=this.toyService.toys,this.regularToys=this.toyService.getToysByType(0),this.hardWackyToys=this.toyService.getToysByType(1),this.formAutoSaveSubscription?.unsubscribe(),this.formAutoSaveSubscription=this.formGroup.valueChanges.pipe(ea(250)).subscribe(()=>{this.localStorageService.setFormStorage(this.formGroup),this.lastAutoSavedAt=new Date,this.cdr.markForCheck()})}toggleTheme=()=>{this.applyTheme("dark"===this.theme?"light":"dark",!0)};toggleSoundMuted=()=>{this.soundMuted=!this.soundMuted,!this.soundMuted&&this.soundVolume<=0&&(this.soundVolume=.5,Q_(this.soundVolume)),Tc(this.soundMuted),this.cdr.markForCheck()};toggleSoundMenu=()=>{this.soundMenuOpen=!this.soundMenuOpen,this.cdr.markForCheck()};setSoundVolume=o=>{const y=Number(o),E=Number.isFinite(y)?Math.min(1,Math.max(0,y)):1;this.soundVolume=E,Q_(E),E<=0&&!this.soundMuted?(this.soundMuted=!0,Tc(!0)):E>0&&this.soundMuted&&(this.soundMuted=!1,Tc(!1)),this.cdr.markForCheck()};get autoSaveLabel(){return this.lastAutoSavedAt?`Saved ${this.lastAutoSavedAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}`:""}get soundVolumePercent(){return Math.round(100*this.soundVolume)}loadStateFromUrl=(o=!1)=>function dD(d,h=!1){const o=d.urlStateService.parseCalculatorStateFromUrl();if(!o.state)return o.error&&(console.error(o.error),d.setStatus?.("Could not load the shared calculator link. The data may be corrupted.","error")),!1;const y=Yp(d,JSON.stringify(o.state),h);return y&&console.log("Calculator state loaded from URL."),y}(this,o);ngAfterViewInit(){this.isLoadedFromUrl&&this.petSelectors.forEach(o=>{o.fixLoadEquipment()}),this.api||this.initModals()}ngOnDestroy(){this.formAutoSaveSubscription?.unsubscribe(),this.clearFightAnimationTimer(),this.statusTimer&&(clearTimeout(this.statusTimer),this.statusTimer=null)}loadLocalStorage=()=>function C_(d){const h=d.localStorageService.getStorage();if(h)try{ko(d,JSON.parse(h))}catch(o){console.log("error loading local storage",o),d.localStorageService.clearStorage()}}(this);applyCalculatorState=o=>ko(this,o);setDayNight=()=>s(this);setRandomBackground=()=>function Cy(d){if(!d.battleBackgrounds.length)return void(d.battleBackgroundUrl="");const h=Math.floor(Math.random()*d.battleBackgrounds.length);d.battleBackgroundUrl=`assets/art/Public/Public/Background/${d.battleBackgrounds[h]}`}(this);fixCustomPackSelect=()=>Dl(this);initApp=()=>T(this);initGameApi=()=>function M(d){d.gameService.gameApi.day=d.dayNight,d.gameService.gameApi.oldStork=d.formGroup.get("oldStork").value,d.gameService.gameApi.komodoShuffle=d.formGroup.get("komodoShuffle").value,d.gameService.gameApi.mana=d.formGroup.get("mana").value,d.gameService.gameApi.playerRollAmount=d.formGroup.get("playerRollAmount").value,d.gameService.gameApi.opponentRollAmount=d.formGroup.get("opponentRollAmount").value,d.gameService.gameApi.playerLevel3Sold=d.formGroup.get("playerLevel3Sold").value,d.gameService.gameApi.opponentLevel3Sold=d.formGroup.get("opponentLevel3Sold").value,d.gameService.gameApi.playerSummonedAmount=d.formGroup.get("playerSummonedAmount").value,d.gameService.gameApi.opponentSummonedAmount=d.formGroup.get("opponentSummonedAmount").value,d.gameService.gameApi.playerTransformationAmount=d.formGroup.get("playerTransformationAmount").value,d.gameService.gameApi.opponentTransformationAmount=d.formGroup.get("opponentTransformationAmount").value}(this);initPlayerPets=()=>w(this);randomizePlayerPets=o=>Cs(this,o);makeFormGroup=cm;setActivePetSlot=(o,y)=>{this.activePetSlot={side:o,index:y}};handleKeyboardShortcuts(o){(function R(d,h){if(d.api||!d.formGroup||!h.ctrlKey&&!h.metaKey||h.altKey||function ye(d){if(!d)return!1;if(d.isContentEditable)return!0;const o=d.tagName;return"INPUT"===o||"TEXTAREA"===o||"SELECT"===o}(h.target))return;const o=h.key.toLowerCase();"c"!==o?"x"!==o?"v"===o&&function $(d){if(!d.activePetSlot)return d.setStatus("Select a pet slot first.","error"),!1;if(!d.petClipboard?.name)return d.setStatus("Nothing copied yet.","error"),!1;const h=Q(d,d.activePetSlot.side,d.activePetSlot.index);if(!h)return d.setStatus("Could not access selected pet slot.","error"),!1;const o=re(d.petClipboard);h.removePet();for(const[y,E]of Object.entries(o)){const C=h.formGroup?.get(y);C&&C.setValue(E,{emitEvent:!1})}return h.substitutePet(!1),h.fixLoadEquipment(),d.setStatus("Pet pasted.","success"),!0}(d)&&h.preventDefault():B(d,!0)&&h.preventDefault():B(d,!1)&&h.preventDefault()})(this,o),o.defaultPrevented||function be(d,h){if(!d.api&&d.formGroup&&!function we(d){if(!d)return!1;if(d.isContentEditable)return!0;const o=d.tagName;return"INPUT"===o||"TEXTAREA"===o||"SELECT"===o}(h.target)&&h.altKey&&!h.ctrlKey&&!h.metaKey)switch(h.key.toLowerCase()){case"s":if(d.simulationInProgress)return;return d.simulate(d.formGroup.get("simulations")?.value??1e3),void h.preventDefault();case"r":if(d.simulationInProgress)return;return d.randomize(),void h.preventDefault();case"u":if(!d.undoState)return;return d.undoRandomize(),void h.preventDefault();case"p":if(d.simulationInProgress)return;return d.optimizePositioning("player"),void h.preventDefault();case"o":if(d.simulationInProgress)return;return d.optimizePositioning("opponent"),void h.preventDefault();case"a":return d.toggleAdvanced(),void h.preventDefault();case"t":return d.toggleTheme(),void h.preventDefault();case"h":return d.setStatus("Shortcuts: Alt+S Simulate, Alt+R Randomize, Alt+P/O Optimize, Alt+A Scenario, Alt+T Theme."),void h.preventDefault();default:;}}(this,o)}initFormGroup(){(function p(d){d.formGroup=function yM(d){d.updatePreviousShopTier(11),d.updateGoldSpent(10,10);const y=new ue.gE({playerPack:new ue.MJ(d.player.pack??null),opponentPack:new ue.MJ(d.opponent.pack??null),playerToy:new ue.MJ(d.player.toy?.name),playerToyLevel:new ue.MJ(d.player.toy?.level??1),opponentToy:new ue.MJ(d.opponent.toy?.name),opponentToyLevel:new ue.MJ(d.opponent.toy?.level??1),playerHardToy:new ue.MJ(null),playerHardToyLevel:new ue.MJ(1),opponentHardToy:new ue.MJ(null),opponentHardToyLevel:new ue.MJ(1),turn:new ue.MJ(11),playerGoldSpent:new ue.MJ(10),opponentGoldSpent:new ue.MJ(10),allPets:new ue.MJ(!1),logFilter:new ue.MJ(null),playerPets:new ue.Yp([]),opponentPets:new ue.Yp([]),customPacks:new ue.Yp([]),oldStork:new ue.MJ(!1),tokenPets:new ue.MJ(!0),komodoShuffle:new ue.MJ(!1),mana:new ue.MJ(!1),triggersConsumed:new ue.MJ(!1),playerRollAmount:new ue.MJ(4),opponentRollAmount:new ue.MJ(4),playerLevel3Sold:new ue.MJ(0),opponentLevel3Sold:new ue.MJ(0),playerSummonedAmount:new ue.MJ(0),opponentSummonedAmount:new ue.MJ(0),playerTransformationAmount:new ue.MJ(0),opponentTransformationAmount:new ue.MJ(0),showAdvanced:new ue.MJ(!1),showTriggerNamesInLogs:new ue.MJ(!1),showPositionalArgsInLogs:new ue.MJ(!0),ailmentEquipment:new ue.MJ(!0),changeEquipmentUses:new ue.MJ(!1),seed:new ue.MJ(null),logsEnabled:new ue.MJ(!0),simulations:new ue.MJ(100)});return sm(y,d.player,d.opponent),y.get("playerPack").valueChanges.subscribe(E=>{if(null!=E){if("Add Custom Pack"==E)return void d.openCustomPackEditor();d.resetPackImageError("player",E),d.updatePlayerPack(d.player,E)}}),y.get("opponentPack").valueChanges.subscribe(E=>{if(null!=E){if("Add Custom Pack"==E)return void d.openCustomPackEditor();d.resetPackImageError("opponent",E),d.updatePlayerPack(d.opponent,E)}}),y.get("playerToy").valueChanges.subscribe(E=>{d.updatePlayerToy(d.player,E??null)}),y.get("opponentToy").valueChanges.subscribe(E=>{d.updatePlayerToy(d.opponent,E??null)}),y.get("playerToyLevel").valueChanges.subscribe(E=>{null!=E&&d.updateToyLevel(d.player,E)}),y.get("opponentToyLevel").valueChanges.subscribe(E=>{null!=E&&d.updateToyLevel(d.opponent,E)}),y.get("playerHardToy").valueChanges.subscribe(E=>{d.gameService.gameApi.playerHardToy=E??null,d.setHardToyImage(d.player,E??null)}),y.get("playerHardToyLevel").valueChanges.subscribe(E=>{null!=E&&(d.gameService.gameApi.playerHardToyLevel=E)}),y.get("opponentHardToy").valueChanges.subscribe(E=>{d.gameService.gameApi.opponentHardToy=E??null,d.setHardToyImage(d.opponent,E??null)}),y.get("opponentHardToyLevel").valueChanges.subscribe(E=>{null!=E&&(d.gameService.gameApi.opponentHardToyLevel=E)}),y.get("turn").valueChanges.subscribe(E=>{null!=E&&(d.updatePreviousShopTier(E),d.setDayNight())}),y.get("playerGoldSpent").valueChanges.subscribe(E=>{null!=E&&d.updateGoldSpent(E,null)}),y.get("opponentGoldSpent").valueChanges.subscribe(E=>{null!=E&&d.updateGoldSpent(null,E)}),y.get("oldStork").valueChanges.subscribe(E=>{null!=E&&(d.gameService.gameApi.oldStork=E)}),y.get("komodoShuffle").valueChanges.subscribe(E=>{null!=E&&(d.gameService.gameApi.komodoShuffle=E)}),y.get("mana").valueChanges.subscribe(E=>{null!=E&&(d.gameService.gameApi.mana=E)}),y.get("playerRollAmount").valueChanges.subscribe(E=>{null!=E&&(d.gameService.gameApi.playerRollAmount=E)}),y.get("opponentRollAmount").valueChanges.subscribe(E=>{null!=E&&(d.gameService.gameApi.opponentRollAmount=E)}),y.get("playerLevel3Sold").valueChanges.subscribe(E=>{null!=E&&(d.gameService.gameApi.playerLevel3Sold=E)}),y.get("opponentLevel3Sold").valueChanges.subscribe(E=>{null!=E&&(d.gameService.gameApi.opponentLevel3Sold=E)}),y.get("playerSummonedAmount").valueChanges.subscribe(E=>{null!=E&&(d.gameService.gameApi.playerSummonedAmount=E)}),y.get("opponentSummonedAmount").valueChanges.subscribe(E=>{null!=E&&(d.gameService.gameApi.opponentSummonedAmount=E)}),y.get("playerTransformationAmount").valueChanges.subscribe(E=>{null!=E&&(d.gameService.gameApi.playerTransformationAmount=E)}),y.get("opponentTransformationAmount").valueChanges.subscribe(E=>{null!=E&&(d.gameService.gameApi.opponentTransformationAmount=E)}),y}({player:d.player,opponent:d.opponent,gameService:d.gameService,toyService:d.toyService,updatePreviousShopTier:h=>um(d,h),updateGoldSpent:(h,o)=>wy(d,h,o),setDayNight:()=>s(d),openCustomPackEditor:()=>QP(d),resetPackImageError:(h,o)=>T_(d,h),updatePlayerPack:(h,o,y)=>Ml(d,h,o,y),updatePlayerToy:(h,o)=>Cl(d,h,o),updateToyLevel:(h,o)=>Oy(0,h,o),setHardToyImage:(h,o)=>up(d,h,o)}),d.logService.setShowTriggerNamesInLogs(d.formGroup.get("showTriggerNamesInLogs")?.value),d.formGroup.get("showTriggerNamesInLogs")?.valueChanges.subscribe(h=>{d.logService.setShowTriggerNamesInLogs(h)}),b(d)})(this),this.formGroup.get("logFilter")?.valueChanges.subscribe(()=>{this.refreshFilteredBattles()}),this.formGroup.get("simulations")?.valueChanges.subscribe(o=>{o>1e4&&this.formGroup.get("simulations")?.setValue(1e4,{emitEvent:!1})}),this.formGroup.get("seed")?.valueChanges.subscribe(o=>{if(""===o||null==o)return;const y=Number(o);if(!Number.isFinite(y))return void this.formGroup.get("seed")?.setValue(null,{emitEvent:!1});const E=Math.trunc(y);E!==y&&this.formGroup.get("seed")?.setValue(E,{emitEvent:!1})})}toggleAdvanced=()=>function ky(d){const h=d.formGroup.get("showAdvanced").value;d.formGroup.get("showAdvanced").setValue(!h)}(this);initPetForms=()=>m(this);refreshPetFormArrays=()=>b(this);updatePlayerPack=(o,y,E=!0)=>Ml(this,o,y,E);updatePlayerToy=(o,y)=>Cl(this,o,y);setToyImage=(o,y)=>nu(this,o,y);setHardToyImage=(o,y)=>up(this,o,y);updatePreviousShopTier=o=>um(this,o);updateGoldSpent=(o,y)=>wy(this,o,y);updateToyLevel=(o,y)=>Oy(0,o,y);getRandomEquipment=()=>Iy(this);simulate=(o=1e3)=>function Uv(d,h=1e3){try{if(d.pendingPositioningOptimizationBaseline=null,d.positioningDeltaSummary=null,d.api)return void YS(d,h);XS(d,h)}catch(o){console.error(o),d.setStatus?.("Something went wrong, please send a bug report.","error")}}(this,o);runSimulation=(o=1e3,y)=>YS(this,o,y);cancelSimulation=()=>function go(d){!d.simulationWorker||!d.simulationInProgress||(d.simulationRunId=(d.simulationRunId??0)+1,d.simulationCancelRequested=!0,d.setStatus?.("Cancelling simulation...","error"),d.simulationService.requestWorkerCancel(d.simulationWorker),mo(d),d.simulationInProgress=!1,d.simulationCancelRequested=!1,d.pendingPositioningOptimizationBaseline=null,d.positioningDeltaSummary=null,d.setStatus?.("Simulation cancelled.","error"),d.markForCheck?.())}(this);optimizePositioning=o=>function JS(d,h,o=1e3){if(d.simulationInProgress)return;const y=Math.max(1,Math.trunc(o||1));d.positioningDeltaSummary=null,d.pendingPositioningOptimizationBaseline=function Gv(d,h){if(!d.simulated)return null;const o=Rg(d.playerWinner,d.opponentWinner,d.draw);return o<=0?null:{side:h,playerWins:d.playerWinner,opponentWins:d.opponentWinner,draws:d.draw,totalBattles:o}}(d,h);const E=Bv(d,"0 / "+120*y,`Optimizing ${h} positioning...`),C=d.simulationService.runPositioningOptimizationInWorker(d.formGroup,o,d.player,d.opponent,{onProgress:I=>{if(!pa(d,E))return;const W=I.totalBattlesEstimate?Math.floor(I.completedBattles/I.totalBattlesEstimate*100):0;d.simulationProgress=W,d.simulationProgressLabel=`${I.completedBattles} / ${I.totalBattlesEstimate} sims`,d.markForCheck?.()},onResult:I=>{if(!pa(d,E))return;mo(d),QS(d,I),d.pendingPositioningOptimizationBaseline=d.pendingPositioningOptimizationBaseline??function qS(d){const h=function Hv(d){const h=d.find(o=>o.order.every((y,E)=>y===E));return h||(d.find(o=>o.simulations>0)??null)}(d.rankedPermutations);return!h||h.simulations<=0?null:"player"===d.side?{side:d.side,playerWins:h.wins,opponentWins:h.losses,draws:h.draws,totalBattles:h.simulations}:{side:d.side,playerWins:h.losses,opponentWins:h.wins,draws:h.draws,totalBattles:h.simulations}}(I),d.simulationInProgress=!1,d.simulationCancelRequested=!1,d.simulationProgress=100,d.simulationProgressLabel=`${I.simulatedBattles} / ${I.simulatedBattles} sims`;const W=(100*I.bestPermutation.score).toFixed(1);d.setStatus?.(`${function $v(d){return d.charAt(0).toUpperCase()+d.slice(1)}(h)} optimized (${W}% score). Running verification sim...`,"success"),d.markForCheck?.(),XS(d,o)},onAborted:I=>{pa(d,E)&&(mo(d),I.bestPermutation&&QS(d,I),d.pendingPositioningOptimizationBaseline=null,d.positioningDeltaSummary=null,Vs(d,"Positioning optimization cancelled.","error"))},onError:I=>{pa(d,E)&&(mo(d),d.pendingPositioningOptimizationBaseline=null,d.positioningDeltaSummary=null,Vs(d,I||"Positioning optimization failed.","error"))}},{side:h,maxSimulationsPerPermutation:y,batchSize:Math.min(25,y),minSamplesBeforeElimination:Math.min(50,y),confidenceZ:1.96});d.simulationWorker=C}(this,o,this.formGroup.get("simulations").value??1e3);afterPositioningApplied=()=>{this.refreshPetFormArrays(),setTimeout(()=>{for(const o of this.petSelectors.toArray())o.substitutePet()})};markForCheck=()=>this.cdr.markForCheck();captureRandomEvents=()=>function fM(d){if(!d.simulationInProgress){if(am(d,[],!0),lp(d,d.randomDecisions,[]),0===d.randomDecisions.length)return void d.setStatus("No random decisions captured in this battle.","error");d.setStatus(`Captured ${d.randomDecisions.length} random decision(s).`,"success")}}(this);clearRandomOverrides=()=>function W1(d){d.randomDecisionSelectionByFingerprint={},d.randomDecisions=[],d.randomOverrideError=null,d.markForCheck()}(this);runForcedRandomSimulation=()=>function vM(d){if(d.simulationInProgress)return;const h=[...d.randomDecisions];am(d,op(d),!1),lp(d,d.randomDecisions,h),d.randomOverrideError?d.setStatus(d.randomOverrideError,"error"):d.setStatus("Forced simulation completed.","success")}(this);onRandomDecisionChoiceChanged=(o,y)=>function Py(d,h,o){const y=iu(h);d.randomDecisionSelectionByFingerprint={...d.randomDecisionSelectionByFingerprint,[y]:o},function K1(d){if(d.simulationInProgress||0===d.randomDecisions.length)return;const h=[...d.randomDecisions];am(d,op(d),!1),lp(d,d.randomDecisions,h)}(d)}(this,o,y);getRandomDecisionLabelParts=o=>function Ay(d,h){const o=`label:${h.key}:${h.label}`,y=d.randomDecisionPartsCache.get(o);if(y)return y;const E=im(h.label);return d.randomDecisionPartsCache.set(o,E),E}(this,o);getRandomDecisionSelectedOptionParts=o=>function Ey(d,h){const o=nm(d,h),E=(h.options.find(X=>X.id===o)??h.options[0])?.label??"",C=`option:${h.key}:${E}`,I=d.randomDecisionPartsCache.get(C);if(I)return I;const W=im(E);return d.randomDecisionPartsCache.set(C,W),W}(this,o);getSelectedRandomDecisionOptionId=o=>nm(this,o);get logs(){return this.logService.getLogs()}get currentFightAnimationFrame(){return this.fightAnimationFrameIndex<0||this.fightAnimationFrameIndex>=this.fightAnimationFrames.length?null:this.fightAnimationFrames[this.fightAnimationFrameIndex]??null}get currentFightAnimationRenderFrame(){const o=this.currentFightAnimationFrame;if(!o)return this.fightAnimationRenderFrameCache=null,this.fightAnimationRenderFrameCacheSource=null,this.fightAnimationRenderFrameCacheIndex=-1,null;if(this.fightAnimationRenderFrameCache&&this.fightAnimationRenderFrameCacheSource===o&&this.fightAnimationRenderFrameCacheIndex===this.fightAnimationFrameIndex)return this.fightAnimationRenderFrameCache;const E=function R1(d,h,o=null){const y=h%2==0?"a":"b",E=new Map,C=new Map,I=new Set,W=new Map,X=new Map,z=new Set,pe=new Set;for(const Tt of d.popups){const Ct=Ms(Tt.side,Tt.slot),li=E.get(Ct);li?li.push(Tt):E.set(Ct,[Tt])}for(const Tt of d.shifts){const Ct=Ms(Tt.side,Tt.slot);I.add(Ct),C.set(Ct,Math.max(1,Tt.fromSlot-Tt.slot))}for(const Tt of d.equipmentChanges){const Ct=Ms(Tt.side,Tt.slot),li=B1(Tt);"removed"!==Tt.action?(X.set(Ct,li),Qg(Tt.equipmentName)&&z.add(Ct)):(W.set(Ct,li),Qg(Tt.equipmentName)&&pe.add(Ct))}const{transferInSlots:Me,transferOutSlots:Ie}=function py(d){const h=new Map,o=new Set,y=new Set;for(const E of d){if("removed"!==E.action)continue;const C=hy(E);if(!C)continue;const I=h.get(C);I?I.push(E):h.set(C,[E])}for(const E of d){if("added"!==E.action)continue;const C=hy(E);if(!C)continue;const I=h.get(C);if(!I||0===I.length)continue;const W=I.shift();if(!W)continue;const X=Ms(W.side,W.slot),z=Ms(E.side,E.slot);X!==z&&(y.add(X),o.add(z))}return{transferInSlots:o,transferOutSlots:y}}(d.equipmentChanges),$e=function F1(d,h){const o=new Set;return!h||!/\btransform(?:ed|ing)?\b/i.test(d.text)||(rp(o,d.playerSlots,h.playerSlots,(y,E)=>!y.isEmpty&&!E.isEmpty&&my(E,y)),rp(o,d.opponentSlots,h.opponentSlots,(y,E)=>!y.isEmpty&&!E.isEmpty&&my(E,y))),o}(d,o),vt=function gy(d,h){const o=new Set;return!h||!/\b(?:summoned|spawned)\b/i.test(d.text)||(rp(o,d.playerSlots,h.playerSlots,(y,E)=>!y.isEmpty&&E.isEmpty),rp(o,d.opponentSlots,h.opponentSlots,(y,E)=>!y.isEmpty&&E.isEmpty)),o}(d,o),ht=d.impact?Ms(d.impact.attackerSide,d.impact.attackerSlot):null,rt=d.impact?Ms(d.impact.targetSide,d.impact.targetSlot):null,Mt=!0===d.impact?.isSnipe,ct=Mt?rt:null,bt=d.death?Ms(d.death.side,d.death.slot):null,Pt=bt&&!I.has(bt)?bt:null,Lt=Tt=>{const Ct=Ms(Tt.side,Tt.slot),li=E.get(Ct)??D1,dn=Tt.pendingRemoval||!Tt.isEmpty&&null!=Tt.health&&Tt.health<=0,en=li.some(An=>"damage"!==An.type&&An.delta>0);return{slot:Tt,classMap:{"fight-slot-front":0===Tt.slot,"fight-slot-empty-card":Tt.isEmpty,"fight-slot-attacker":ht===Ct&&!Mt,"fight-slot-target":rt===Ct,"fight-slot-snipe-target":ct===Ct,"fight-slot-shifted":I.has(Ct),"fight-slot-fainted-ghost":dn,"fight-slot-stat-gain":en,"fight-slot-equipment-removed":W.has(Ct),"fight-slot-equipment-added":X.has(Ct),"fight-slot-equipment-transfer-out":Ie.has(Ct),"fight-slot-equipment-transfer-in":Me.has(Ct),"fight-slot-transform":$e.has(Ct),"fight-slot-summoned":vt.has(Ct),"fight-slot-ailment-applied":z.has(Ct),"fight-slot-ailment-cleansed":pe.has(Ct),"fight-impact-phase-a":"a"===y,"fight-impact-phase-b":"b"===y},shiftSteps:C.get(Ct)??null,popups:li,death:Pt===Ct?d.death:null,removedEquipment:W.get(Ct)??null,addedEquipment:X.get(Ct)??null,showSnipeImpact:ct===Ct}};return{frame:d,phase:y,playerSlots:d.playerSlots.map(Lt),opponentSlots:d.opponentSlots.map(Lt)}}(o,this.fightAnimationFrameIndex,this.fightAnimationFrameIndex>0?this.fightAnimationFrames[this.fightAnimationFrameIndex-1]??null:null);return this.fightAnimationRenderFrameCache=E,this.fightAnimationRenderFrameCacheSource=o,this.fightAnimationRenderFrameCacheIndex=this.fightAnimationFrameIndex,E}get currentFightAnimationLogIndex(){return this.currentFightAnimationFrame?.logIndex??-1}get currentFightAnimationLogRow(){const o=this.currentFightAnimationLogIndex;return o<0||o>=this.viewBattleLogRows.length?null:this.viewBattleLogRows[o]??null}get fightAnimationMotionScale(){return 1/this.fightAnimationSpeed}setViewBattle=o=>function jv(d,h){d.viewBattle=h,d.viewBattleLogs=d.viewBattle?.logs??[],Vc(d),Zd(d),d.refreshFightAnimationFromViewBattle?.()}(this,o);refreshViewBattleTimeline=()=>Zd(this);refreshBattleDiff=()=>yl(this);setBattleDiffLeft=o=>function ep(d,h){d.diffBattleLeftIndex=zc(d,h),yl(d)}(this,o);setBattleDiffRight=o=>function e1(d,h){d.diffBattleRightIndex=zc(d,h),yl(d)}(this,o);setBattleDiffLeftScope=o=>function t1(d,h){d.diffBattleLeftScope=ml(h),yl(d)}(this,o);setBattleDiffRightScope=o=>function i1(d,h){d.diffBattleRightScope=ml(h),yl(d)}(this,o);setViewBattleLogFilter=o=>function Og(d,h){d.logEventFilter=Lv(h),fl(d),d.markForCheck?.()}(this,o);toggleViewBattleLogGroup=o=>function Nv(d,h){h&&(d.collapsedLogGroupIds||(d.collapsedLogGroupIds=new Set),d.collapsedLogGroupIds.has(h)?d.collapsedLogGroupIds.delete(h):d.collapsedLogGroupIds.add(h),fl(d),d.markForCheck?.())}(this,o);refreshViewBattleLogRows=()=>Vc(this);refreshDebugLogPresentation=()=>function Bg(d){const h=jc(d),o=new Map;d.battleRandomEvents=(d.battles??[]).map(y=>{const E=xg(y,d.logService,h);return o.set(y,E),E}),d.battleRandomEventsByBattle=o,Vc(d),d.refreshFightAnimationFromViewBattle?.(),d.markForCheck?.()}(this);get drawWidth(){return function QD(d){return`${vg(d)+Iv(d)}%`}(this)}get loseWidth(){return function yg(d){return`${vg(d)}%`}(this)}saveTeam(o){const y=this.teamName?.trim()??"";if(!y)return void this.setStatus("Enter a team name before saving.","error");const E=function RS(d){const h=d.teamName?.trim();if(!h)return{savedTeams:d.savedTeams,selectedTeamId:d.selectedTeamId,teamName:d.teamName};const o=function zd(d,h){return d.get("player"===h?"playerPets":"opponentPets").controls.map(E=>function xS(d){if(!d||"object"!=typeof d)return null;const h=d;if(!h.name)return null;const o="string"==typeof h.equipment?h.equipment:"string"==typeof h.equipment?.name?h.equipment.name:null;return{name:String(h.name),attack:h.attack??0,health:h.health??0,exp:h.exp??0,equipment:o?{name:o}:null,belugaSwallowedPet:h.belugaSwallowedPet??null,sarcasticFringeheadSwallowedPet:h.sarcasticFringeheadSwallowedPet??null,mana:h.mana??0,triggersConsumed:h.triggersConsumed??0,foodsEaten:h.foodsEaten??0,abominationSwallowedPet1:h.abominationSwallowedPet1??null,abominationSwallowedPet2:h.abominationSwallowedPet2??null,abominationSwallowedPet3:h.abominationSwallowedPet3??null,abominationSwallowedPet1BelugaSwallowedPet:h.abominationSwallowedPet1BelugaSwallowedPet??null,abominationSwallowedPet2BelugaSwallowedPet:h.abominationSwallowedPet2BelugaSwallowedPet??null,abominationSwallowedPet3BelugaSwallowedPet:h.abominationSwallowedPet3BelugaSwallowedPet??null,abominationSwallowedPet1SarcasticFringeheadSwallowedPet:h.abominationSwallowedPet1SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet2SarcasticFringeheadSwallowedPet:h.abominationSwallowedPet2SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet3SarcasticFringeheadSwallowedPet:h.abominationSwallowedPet3SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet1Level:h.abominationSwallowedPet1Level??1,abominationSwallowedPet2Level:h.abominationSwallowedPet2Level??1,abominationSwallowedPet3Level:h.abominationSwallowedPet3Level??1,abominationSwallowedPet1TimesHurt:h.abominationSwallowedPet1TimesHurt??0,abominationSwallowedPet2TimesHurt:h.abominationSwallowedPet2TimesHurt??0,abominationSwallowedPet3TimesHurt:h.abominationSwallowedPet3TimesHurt??0,friendsDiedBeforeBattle:h.friendsDiedBeforeBattle??0,battlesFought:h.battlesFought??0,timesHurt:h.timesHurt??0,equipmentUses:h.equipmentUses??null}}(E.value)).filter(E=>null!==E)}(d.formGroup,d.side),y=d.formGroup.get("playerToy").value??null,E=Number(d.formGroup.get("playerToyLevel").value),C=d.formGroup.get("opponentToy").value??null,I=Number(d.formGroup.get("opponentToyLevel").value),W=d.formGroup.get("playerHardToy").value??null,X=Number(d.formGroup.get("playerHardToyLevel").value),z=d.formGroup.get("opponentHardToy").value??null,pe=Number(d.formGroup.get("opponentHardToyLevel").value),Me=Number(d.formGroup.get("turn").value),Ie=Number(d.formGroup.get("playerGoldSpent").value),$e=Number(d.formGroup.get("opponentGoldSpent").value),vt=!!d.formGroup.get("allPets").value,ht=!!d.formGroup.get("tokenPets").value,rt=!!d.formGroup.get("komodoShuffle").value,Mt=!!d.formGroup.get("mana").value,ct=d.formGroup.get("seed")?.value,bt=""===ct||null==ct?null:Number(ct),Pt=!!d.formGroup.get("triggersConsumed").value,Lt=!!d.formGroup.get("changeEquipmentUses").value,Tt=Number(d.formGroup.get("playerRollAmount").value),Ct=Number(d.formGroup.get("opponentRollAmount").value),li=Number(d.formGroup.get("playerLevel3Sold").value),dn=Number(d.formGroup.get("opponentLevel3Sold").value),en=Number(d.formGroup.get("playerSummonedAmount").value),An=Number(d.formGroup.get("opponentSummonedAmount").value),ja=Number(d.formGroup.get("playerTransformationAmount").value),zn=Number(d.formGroup.get("opponentTransformationAmount").value),ci=d.savedTeams.find(Ls=>Ls.name.toLowerCase()===h.toLowerCase());if(ci)ci.pets=o,ci.name=h,ci.playerToyName=y,ci.playerToyLevel=E,ci.opponentToyName=C,ci.opponentToyLevel=I,ci.playerHardToy=W,ci.playerHardToyLevel=X,ci.opponentHardToy=z,ci.opponentHardToyLevel=pe,ci.turn=Me,ci.playerGoldSpent=Ie,ci.opponentGoldSpent=$e,ci.allPets=vt,ci.tokenPets=ht,ci.komodoShuffle=rt,ci.mana=Mt,ci.seed=Number.isFinite(bt)?Math.trunc(bt):null,ci.triggersConsumed=Pt,ci.changeEquipmentUses=Lt,ci.playerRollAmount=Tt,ci.opponentRollAmount=Ct,ci.playerLevel3Sold=li,ci.opponentLevel3Sold=dn,ci.playerSummonedAmount=en,ci.opponentSummonedAmount=An,ci.playerTransformationAmount=ja,ci.opponentTransformationAmount=zn;else{const Ls=`${Date.now()}-${Math.random().toString(16).slice(2,8)}`;d.savedTeams.push({id:Ls,name:h,pets:o,createdAt:Date.now(),playerToyName:y,playerToyLevel:E,opponentToyName:C,opponentToyLevel:I,playerHardToy:W,playerHardToyLevel:X,opponentHardToy:z,opponentHardToyLevel:pe,turn:Me,playerGoldSpent:Ie,opponentGoldSpent:$e,allPets:vt,tokenPets:ht,komodoShuffle:rt,mana:Mt,seed:Number.isFinite(bt)?Math.trunc(bt):null,triggersConsumed:Pt,changeEquipmentUses:Lt,playerRollAmount:Tt,opponentRollAmount:Ct,playerLevel3Sold:li,opponentLevel3Sold:dn,playerSummonedAmount:en,opponentSummonedAmount:An,playerTransformationAmount:ja,opponentTransformationAmount:zn}),d.selectedTeamId=Ls}return d.teamPresetsService.persistTeams(d.savedTeams),{savedTeams:d.savedTeams,selectedTeamId:d.selectedTeamId,teamName:""}}({side:o,teamName:y,formGroup:this.formGroup,savedTeams:this.savedTeams,selectedTeamId:this.selectedTeamId,teamPresetsService:this.teamPresetsService});this.savedTeams=E.savedTeams,this.selectedTeamId=E.selectedTeamId,this.teamName=E.teamName}loadTeam(o){!function LS(d){const h=d.savedTeams.find(W=>W.id===d.selectedTeamId);if(!h)return;null!=h.turn&&d.formGroup.get("turn").setValue(h.turn),null!=h.playerGoldSpent&&d.formGroup.get("playerGoldSpent").setValue(h.playerGoldSpent),null!=h.opponentGoldSpent&&d.formGroup.get("opponentGoldSpent").setValue(h.opponentGoldSpent),null!=h.allPets&&d.formGroup.get("allPets").setValue(h.allPets),d.formGroup.get("tokenPets").setValue(!0),null!=h.komodoShuffle&&d.formGroup.get("komodoShuffle").setValue(h.komodoShuffle),null!=h.mana&&d.formGroup.get("mana").setValue(h.mana),(null!=h.seed||null===h.seed)&&d.formGroup.get("seed")?.setValue(h.seed??null),null!=h.triggersConsumed&&d.formGroup.get("triggersConsumed").setValue(h.triggersConsumed),null!=h.changeEquipmentUses&&d.formGroup.get("changeEquipmentUses").setValue(h.changeEquipmentUses),null!=h.playerRollAmount?d.formGroup.get("playerRollAmount").setValue(h.playerRollAmount):null!=h.rollAmount&&"player"===d.side&&d.formGroup.get("playerRollAmount").setValue(h.rollAmount),null!=h.opponentRollAmount?d.formGroup.get("opponentRollAmount").setValue(h.opponentRollAmount):null!=h.rollAmount&&"opponent"===d.side&&d.formGroup.get("opponentRollAmount").setValue(h.rollAmount),null!=h.playerLevel3Sold&&d.formGroup.get("playerLevel3Sold").setValue(h.playerLevel3Sold),null!=h.opponentLevel3Sold&&d.formGroup.get("opponentLevel3Sold").setValue(h.opponentLevel3Sold),null!=h.playerSummonedAmount&&d.formGroup.get("playerSummonedAmount").setValue(h.playerSummonedAmount),null!=h.opponentSummonedAmount&&d.formGroup.get("opponentSummonedAmount").setValue(h.opponentSummonedAmount),null!=h.playerTransformationAmount?d.formGroup.get("playerTransformationAmount").setValue(h.playerTransformationAmount):null!=h.transformationAmount&&"player"===d.side&&d.formGroup.get("playerTransformationAmount").setValue(h.transformationAmount),null!=h.opponentTransformationAmount?d.formGroup.get("opponentTransformationAmount").setValue(h.opponentTransformationAmount):null!=h.transformationAmount&&"opponent"===d.side&&d.formGroup.get("opponentTransformationAmount").setValue(h.transformationAmount),null!=h.transformationAmount&&d.formGroup.get("player"===d.side?"playerTransformationAmount":"opponentTransformationAmount").setValue(h.transformationAmount);const o=gg({name:h.playerToyName,level:h.playerToyLevel},{name:h.toyName,level:h.toyLevel},{name:h.opponentToyName,level:h.opponentToyLevel}),y=gg({name:h.opponentToyName,level:h.opponentToyLevel},{name:h.toyName,level:h.toyLevel},{name:h.playerToyName,level:h.playerToyLevel});"player"===d.side?(d.formGroup.get("playerToy").setValue(o.name),d.formGroup.get("playerToyLevel").setValue(o.level)):(d.formGroup.get("opponentToy").setValue(y.name),d.formGroup.get("opponentToyLevel").setValue(y.level)),null!=h.playerHardToy&&d.formGroup.get("playerHardToy").setValue(h.playerHardToy),null!=h.playerHardToyLevel&&d.formGroup.get("playerHardToyLevel").setValue(h.playerHardToyLevel),null!=h.opponentHardToy&&d.formGroup.get("opponentHardToy").setValue(h.opponentHardToy),null!=h.opponentHardToyLevel&&d.formGroup.get("opponentHardToyLevel").setValue(h.opponentHardToyLevel);const E="player"===d.side?d.player:d.opponent,C=d.equipmentService.getInstanceOfAllEquipment(),I=d.equipmentService.getInstanceOfAllAilments();for(let W=0;W<5;W++){const X=h.pets?.[W];if(!X?.name){E.setPet(W,null,!0);continue}const z="string"==typeof X.equipment?X.equipment:X.equipment?.name,pe=z?C.get(z)??I.get(z):null,Me=pe?(0,IS.e)(pe):null;if(Me){const $e=X.equipmentUses??Me.uses;null!=$e&&(Me.uses=$e,Me.originalUses=$e)}const Ie=d.petService.createPet({name:X.name,attack:X.attack??0,health:X.health??0,exp:X.exp??0,equipment:Me??null,belugaSwallowedPet:X.belugaSwallowedPet??null,sarcasticFringeheadSwallowedPet:X.sarcasticFringeheadSwallowedPet??null,mana:X.mana??0,triggersConsumed:X.triggersConsumed??0,foodsEaten:X.foodsEaten??0,abominationSwallowedPet1:X.abominationSwallowedPet1??null,abominationSwallowedPet2:X.abominationSwallowedPet2??null,abominationSwallowedPet3:X.abominationSwallowedPet3??null,abominationSwallowedPet1BelugaSwallowedPet:X.abominationSwallowedPet1BelugaSwallowedPet??null,abominationSwallowedPet2BelugaSwallowedPet:X.abominationSwallowedPet2BelugaSwallowedPet??null,abominationSwallowedPet3BelugaSwallowedPet:X.abominationSwallowedPet3BelugaSwallowedPet??null,abominationSwallowedPet1SarcasticFringeheadSwallowedPet:X.abominationSwallowedPet1SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet2SarcasticFringeheadSwallowedPet:X.abominationSwallowedPet2SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet3SarcasticFringeheadSwallowedPet:X.abominationSwallowedPet3SarcasticFringeheadSwallowedPet??null,abominationSwallowedPet1Level:X.abominationSwallowedPet1Level??1,abominationSwallowedPet2Level:X.abominationSwallowedPet2Level??1,abominationSwallowedPet3Level:X.abominationSwallowedPet3Level??1,abominationSwallowedPet1TimesHurt:X.abominationSwallowedPet1TimesHurt??0,abominationSwallowedPet2TimesHurt:X.abominationSwallowedPet2TimesHurt??0,abominationSwallowedPet3TimesHurt:X.abominationSwallowedPet3TimesHurt??0,friendsDiedBeforeBattle:X.friendsDiedBeforeBattle??0,battlesFought:X.battlesFought??0,timesHurt:X.timesHurt??0},E);E.setPet(W,Ie,!0)}d.initPetForms(),function BS(d,h,o){const E=d.get("player"===h?"playerPets":"opponentPets");if(E)for(let C=0;C<E.length;C++){const I=E.at(C),W=o?.[C];I.get("equipmentUses")?.setValue(W?.equipmentUses??null,{emitEvent:!1})}}(d.formGroup,d.side,h.pets)}({side:o,selectedTeamId:this.selectedTeamId,savedTeams:this.savedTeams,formGroup:this.formGroup,player:this.player,opponent:this.opponent,petService:this.petService,equipmentService:this.equipmentService,initPetForms:()=>this.initPetForms()})}loadTeamPresets(){this.savedTeams=this.teamPresetsService.loadTeams()}randomize=o=>function ZM(d,h){try{d.undoState=JSON.parse(JSON.stringify(d.formGroup.getRawValue()))}catch(y){console.error("Failed to create undo snapshot",y)}const o=d.formGroup.get("allPets").value;h?(h.allPets=d.formGroup.get("allPets").value,h.tokenPets=d.formGroup.get("tokenPets").value,Cs(d,h),o?Qs(d,h):kl(d,h)):(d.player.allPets=d.formGroup.get("allPets").value,d.player.tokenPets=d.formGroup.get("tokenPets").value,d.opponent.allPets=d.formGroup.get("allPets").value,d.opponent.tokenPets=d.formGroup.get("tokenPets").value,Cs(d,d.player),Cs(d,d.opponent),o?(Qs(d,d.player),Qs(d,d.opponent)):(kl(d,d.player),kl(d,d.opponent))),d.formGroup&&m(d),setTimeout(()=>{d.petSelectors.forEach(y=>{y.initSelector()})})}(this,o);undoRandomize=()=>function eC(d){d.undoState&&(ko(d,d.undoState),T(d),d.undoState=null,setTimeout(()=>{d.petSelectors&&d.petSelectors.forEach(h=>{h.fixLoadEquipment()})}))}(this);clearCache=()=>function JP(d){d.localStorageService.clearStorage(),d.setStatus?.("Cache cleared. Refresh page to see changes.","success")}(this);initModals=()=>function Vp(d){d.customPackEditorModal=new Br(d.customPackEditor.nativeElement),d.customPackEditor.nativeElement.addEventListener("show.bs.modal",()=>{document.body.classList.add("custom-pack-editor-open")}),d.customPackEditor.nativeElement.addEventListener("hidden.bs.modal",()=>{document.body.classList.remove("custom-pack-editor-open")})}(this);openCustomPackEditor=()=>QP(this);drop=(o,y)=>function uD(d,h,o){let y=h.previousIndex,E=h.currentIndex;"player"==o&&(y=4-y,E=4-E);const C=d.formGroup.get(`${o}Pets`);ad(C.controls,y,E),C.updateValueAndValidity(),b(d),setTimeout(()=>{for(const I of d.petSelectors.toArray())I.substitutePet()})}(this,o,y);resetPlayer=o=>zp(this,o);export=()=>function Co(d){d.localStorageService.setFormStorage(d.formGroup);const h=(0,Gc.$j)(d.formGroup);navigator.clipboard.writeText(h).then(()=>{d.setStatus?.("Copied to clipboard.","success")}).catch(o=>{console.error("Clipboard error:",o),d.setStatus?.("Failed to copy to clipboard.","error")})}(this);import=(o,y=!1,E)=>Yp(this,o,y,E);importForDialog=(o,y)=>Yp(this,o,!1,y);generateShareLink=()=>function M_(d){d.localStorageService.setFormStorage(d.formGroup);const h=window.location.origin+window.location.pathname,o=(0,Gc._9)(d.formGroup,h);navigator.clipboard.writeText(o).then(()=>{d.setStatus?.("Shareable link copied to clipboard!","success")}).catch(y=>{console.error("Failed to copy link: ",y),d.setStatus?.("Failed to copy link. See console for details.","error")})}(this);refreshFilteredBattles=()=>Lg(this);get winPercent(){return function Ov(d){const h=d.playerWinner+d.opponentWinner+d.draw;return 0===h?0:mg(d.playerWinner/h*100)}(this)}get drawPercent(){return Iv(this)}get losePercent(){return vg(this)}get positioningDeltaSideLabel(){return"opponent"===this.positioningDeltaSummary?.side?"Opponent":"Player"}formatSignedPercentDelta(o){const y=Number.isFinite(o)?o:0;return`${y>=0?"+":"-"}${Math.abs(y).toFixed(2)}`}get validCustomPacks(){return function j1(d){const h=d.formGroup.get("customPacks"),o=[];for(const y of h.controls)y.valid&&o.push(y);return o}(this)}getToyIcon=Zi;get selectedTeamName(){return function Ly(d){return Ry(d)?.name||""}(this)}get selectedTeamPreviewIcons(){return function Cr(d){return(Ry(d)?.pets||[]).slice(0,5).map(o=>(0,kt.EA)(o?.name)).filter(Boolean)}(this)}getToyOptionStyle=PM;openSelectionDialog=(o,y)=>function rD(d,h,o){d.selectionType=h,d.selectionSide=o,d.showSelectionDialog=!0}(this,o,y);onItemSelected=o=>function JM(d,h){if(h instanceof Event)return d.showSelectionDialog=!1,void(d.selectionSide="none");const o=h&&"object"==typeof h?h:null;if(!d.selectionSide||"none"===d.selectionSide)return"team"===d.selectionType&&(d.selectedTeamId="string"==typeof h?h:"string"==typeof o?.id?o.id:"string"==typeof o?.name?o.name:""),d.showSelectionDialog=!1,void(d.selectionSide="none");const y=d.selectionSide,E=d.selectionType;if("pack"===E){const C="string"==typeof h?h:"string"==typeof o?.name?o.name:null;"player"===y?d.formGroup.get("playerPack").setValue(C):d.formGroup.get("opponentPack").setValue(C)}else if("toy"===E){const C="string"==typeof h?h:"string"==typeof o?.name?o.name:null,I="string"==typeof C&&"none"===C.trim().toLowerCase()?null:C;"player"===y?d.formGroup.get("playerToy").setValue(I):d.formGroup.get("opponentToy").setValue(I)}else if("hard-toy"===E){const C="string"==typeof h?h:"string"==typeof o?.name?o.name:null,I="string"==typeof C&&"none"===C.trim().toLowerCase()?null:C;"player"===y?d.formGroup.get("playerHardToy").setValue(I):d.formGroup.get("opponentHardToy").setValue(I)}else"team"===E&&(d.selectedTeamId="string"==typeof h?h:"string"==typeof o?.id?o.id:"string"==typeof o?.name?o.name:"");d.showSelectionDialog=!1,d.selectionSide="none"}(this,o);getPackIconPath=XP;onPackImageError=o=>function oD(d,h){"player"===h?d.playerPackImageBroken=!0:d.opponentPackImageBroken=!0}(this,o);resetPackImageError=(o,y)=>T_(this,o);incrementToyLevel=o=>function lD(d,h){const o="player"===h?"playerToyLevel":"opponentToyLevel",y=d.formGroup.get(o).value;y<3&&d.formGroup.get(o).setValue(y+1)}(this,o);decrementToyLevel=o=>function QM(d,h){const o="player"===h?"playerToyLevel":"opponentToyLevel",y=d.formGroup.get(o).value;y>1&&d.formGroup.get(o).setValue(y-1)}(this,o);removeHardToy=o=>function qM(d,h){d.formGroup.get("player"===h?"playerHardToy":"opponentHardToy").setValue(null)}(this,o);getToyIconPath=cD;clearFightAnimationTimer(){tu(this)}setStatus(o,y="success"){this.statusMessage=o,this.statusTone=y,this.cdr.markForCheck(),this.clearStatusTimer(),this.statusTimer=setTimeout(()=>{this.statusMessage="",this.statusTimer=null,this.cdr.markForCheck()},3e3)}clearStatus(){this.clearStatusTimer(),this.statusMessage="",this.cdr.markForCheck()}clearStatusTimer(){this.statusTimer&&(clearTimeout(this.statusTimer),this.statusTimer=null)}loadThemePreference(){const o=window.localStorage.getItem(this.uiThemeStorageKey);if("light"===o||"dark"===o)return void this.applyTheme(o,!1);const y=window.matchMedia?.("(prefers-color-scheme: dark)")?.matches;this.applyTheme(y?"dark":"light",!1)}loadSoundPreference(){this.soundMuted=Th(),this.soundVolume=Dh()}applyTheme(o,y){this.theme=o,this.battleBackgrounds="dark"===o?[...Mv]:[...wS],this.setRandomBackground(),document.documentElement.setAttribute("data-bs-theme",o),document.body.classList.toggle("theme-dark","dark"===o),y&&window.localStorage.setItem(this.uiThemeStorageKey,o),this.cdr.markForCheck()}static \u0275fac=function(y){return new(y||d)(e.rXU(Xe.K),e.rXU(v.zZn),e.rXU(t.gRc),e.rXU(dt.K),e.rXU(St.w),e.rXU(vs.T),e.rXU(Ks.w),e.rXU(ta.m),e.rXU(Xf.s),e.rXU(qP),e.rXU(hC),e.rXU(_C),e.rXU(fC))};static \u0275cmp=e.VBU({type:d,selectors:[["app-root"]],viewQuery:function(y,E){if(1&y&&e.GBs(vC,5)(nf,5),2&y){let C;e.mGM(C=e.lsd())&&(E.customPackEditor=C.first),e.mGM(C=e.lsd())&&(E.petSelectors=C)}},hostBindings:function(y,E){1&y&&e.bIt("keydown",function(I){return E.handleKeyboardShortcuts(I)},e.EBC)},decls:3,vars:3,consts:[["container",""],["customPackEditor",""],["playerPetSelector",""],["opponentPetSelector",""],[4,"ngIf"],[3,"ngClass","type","showAllPets","customPacks","savedTeams","select","close",4,"ngIf"],["id","apiResponse"],[1,"container-fluid","app-wrapper","flex-col",3,"formGroup","ngClass"],[1,"row","battle-row","pb-5","pt-3"],[1,"col-12","col-xl-6","px-4","mb-2","mb-xl-0"],[1,"d-flex","justify-content-between"],[1,"d-flex","align-items-center","toy-wrap"],[1,"me-2","player-side-text"],[1,"toy-row"],[1,"toy-slot"],["type","button",1,"toy-select-btn",3,"click"],["class","toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Player Toy",3,"ngSrc",4,"ngIf"],[1,"toy-label"],[1,"fas","fa-chevron-down"],["class","toy-level-controls inline",4,"ngIf"],["class","toy-art hard-toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Player Hard Toy",3,"ngSrc",4,"ngIf"],["type","button","class","toy-remove-btn-inline","title","Remove hard toy","aria-label","Remove player hard toy",3,"click",4,"ngIf"],[1,"btn","glass-btn","mb-1",3,"click"],[1,"card","p-2","player-card"],["cdkDropList","","cdkDropListOrientation","horizontal",1,"row","row-cols-1","row-cols-md-5","g-0",3,"cdkDropListDropped"],["class","col drag-container mb-2 mb-md-0 px-0","cdkDrag","","cdkDragLockAxis","x",3,"cdkDragStartDelay","pet-slot-active","mousedown","focusin",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-xl-6","px-4"],[1,"me-2","opponent-side-text"],["class","toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Opponent Toy",3,"ngSrc",4,"ngIf"],["class","toy-art hard-toy-art","width","36","height","36","loading","lazy","decoding","async","alt","Opponent Hard Toy",3,"ngSrc",4,"ngIf"],["type","button","class","toy-remove-btn-inline","title","Remove hard toy","aria-label","Remove opponent hard toy",3,"click",4,"ngIf"],[1,"card","p-2","player-card","ml-auto"],["class","col drag-container mb-2 mb-sm-0 px-0","cdkDrag","","cdkDragLockAxis","x",3,"cdkDragStartDelay","pet-slot-active","mousedown","focusin",4,"ngFor","ngForOf","ngForTrackBy"],[3,"app"],["id","customPackEditor","tabindex","-1","aria-labelledby","customPackEditorLabel","aria-hidden","true",1,"modal","fade","custom-pack-editor-modal"],[1,"modal-dialog","modal-lg","custom-pack-editor-dialog"],[1,"modal-content"],[1,"modal-header"],["id","customPackEditorLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],["id","info","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],["id","exampleModalLabel",1,"modal-title","fs-5"],["id","import","tabindex","-1","aria-labelledby","importModalLabel","aria-hidden","true",1,"modal","fade"],["id","importModalLabel",1,"modal-title","fs-5"],["id","export","tabindex","-1","aria-labelledby","exportModalLabel","aria-hidden","true",1,"modal","fade"],["id","exportModalLabel",1,"modal-title","fs-5"],["id","reportABug","tabindex","-1","aria-labelledby","reportABugLabel","aria-hidden","true",1,"modal","fade"],["id","reportABugLabel",1,"modal-title","fs-5"],["width","36","height","36","loading","lazy","decoding","async","alt","Player Toy",1,"toy-art",3,"ngSrc"],[1,"toy-level-controls","inline"],["type","button","title","Decrease level","aria-label","Decrease player toy level",1,"toy-level-btn",3,"click"],[1,"fas","fa-minus"],[1,"toy-level-label"],["type","button","title","Increase level","aria-label","Increase player toy level",1,"toy-level-btn",3,"click"],[1,"fas","fa-plus"],["width","36","height","36","loading","lazy","decoding","async","alt","Player Hard Toy",1,"toy-art","hard-toy-art",3,"ngSrc"],["type","button","title","Remove hard toy","aria-label","Remove player hard toy",1,"toy-remove-btn-inline",3,"click"],[1,"fas","fa-times"],["cdkDrag","","cdkDragLockAxis","x",1,"col","drag-container","mb-2","mb-md-0","px-0",3,"mousedown","focusin","cdkDragStartDelay"],[1,"pet-slot-actions"],["type","button","title","Clear this pet selector","aria-label","Clear this pet selector",1,"pet-clear-btn",3,"click"],[3,"pet","player","opponent","index","formGroup","ailments","allPets","mana","triggersConsumed","allowEquipmentUseOverrides","showTokenPets","flipImage","customPacks"],["width","36","height","36","loading","lazy","decoding","async","alt","Opponent Toy",1,"toy-art",3,"ngSrc"],["type","button","title","Decrease level","aria-label","Decrease opponent toy level",1,"toy-level-btn",3,"click"],["type","button","title","Increase level","aria-label","Increase opponent toy level",1,"toy-level-btn",3,"click"],["width","36","height","36","loading","lazy","decoding","async","alt","Opponent Hard Toy",1,"toy-art","hard-toy-art",3,"ngSrc"],["type","button","title","Remove hard toy","aria-label","Remove opponent hard toy",1,"toy-remove-btn-inline",3,"click"],["cdkDrag","","cdkDragLockAxis","x",1,"col","drag-container","mb-2","mb-sm-0","px-0",3,"mousedown","focusin","cdkDragStartDelay"],[1,"text-muted"],[3,"importFunc"],[3,"calcFormGroup"],[3,"select","close","ngClass","type","showAllPets","customPacks","savedTeams"]],template:function(y,E){1&y&&e.DNE(0,EC,3,1,"ng-container",4)(1,$C,114,27,"ng-container",4)(2,GC,1,5,"app-item-selection-dialog",5),2&y&&(e.Y8G("ngIf",E.api),e.R7$(),e.Y8G("ngIf",!E.api),e.R7$(),e.Y8G("ngIf",E.showSelectionDialog))},dependencies:[Ht.MD,Ht.YU,Ht.Sq,Ht.bT,vi,ue.YN,ue.cb,ue.X1,ue.j4,ld,Yo,mc,nf,bc,Qf,GE,Dv],styles:[':root{color-scheme:light;--ui-space-1: 4px;--ui-space-2: 8px;--ui-space-3: 12px;--ui-space-4: 16px;--ui-space-5: 24px;--ui-font-main: "Lapsus Pro", Roboto, "Helvetica Neue", sans-serif;--ui-font-main-letter-spacing: .0125em;--ui-surface-0: #ffffff;--ui-surface-1: #f8fafc;--ui-surface-2: #f1f5f9;--ui-border-1: #dbe4ee;--ui-text-1: #0f172a;--ui-text-2: #334155;--ui-text-3: #64748b;--ui-brand: #2563eb;--ui-brand-weak: #dbeafe;--ui-success: #16a34a;--ui-danger: #dc2626;--ui-draw: #64748b;--ui-player-soft: #5fbf5f;--ui-opponent-soft: #e06a6a}.theme-dark{color-scheme:dark;--ui-surface-0: #111827;--ui-surface-1: #1f2937;--ui-surface-2: #273548;--ui-border-1: #334155;--ui-text-1: #f8fafc;--ui-text-2: #cbd5e1;--ui-text-3: #94a3b8;--ui-brand: #3b82f6;--ui-brand-weak: rgba(59, 130, 246, .22);--ui-success: #22c55e;--ui-danger: #f87171;--ui-draw: #94a3b8}.app-wrapper{min-height:100vh;font-family:var(--ui-font-main);letter-spacing:var(--ui-font-main-letter-spacing)}.day-night-container{min-height:1em}.flex-col{display:flex;flex-direction:column}.player-card{background-color:transparent;display:grid;grid-auto-rows:minmax(min-content,max-content);grid-template-columns:auto 1fr auto;border-color:transparent;box-shadow:none}.back,.front{transform:rotate(180deg);writing-mode:vertical-lr;text-align:center}.battle-row{background-color:#5ebe09;background-repeat:no-repeat;background-position:center;background-size:cover;font-weight:400}.battle-row h2{font-weight:500}.player-side-text{color:var(--ui-player-soft)}.opponent-side-text{color:var(--ui-opponent-soft)}.battle-row h2.player-side-text{color:var(--ui-player-soft)}.battle-row h2.opponent-side-text{color:var(--ui-opponent-soft)}.side-select-player{color:var(--ui-player-soft)}.side-select-opponent{color:var(--ui-opponent-soft)}.stat-label.player-side-text{color:var(--ui-player-soft)}.stat-label.opponent-side-text{color:var(--ui-opponent-soft)}.log-filter-tabs .log-filter-tab.player-side-text{color:var(--ui-player-soft)}.log-filter-tabs .log-filter-tab.opponent-side-text{color:var(--ui-opponent-soft)}.log-filter-tabs .log-filter-tab.active.player-side-text{background-color:var(--ui-player-soft);border-color:var(--ui-player-soft);color:#fff}.log-filter-tabs .log-filter-tab.active.opponent-side-text{background-color:var(--ui-opponent-soft);border-color:var(--ui-opponent-soft);color:#fff}.battle-row button,.battle-row .btn,.battle-row .btn-link,.battle-row .log-filter-tab,.battle-row .log-event-filter-btn{font-family:var(--ui-font-main)}.log-row{padding:.35rem .75rem;border-bottom:1px solid #eef1f4}.top-controls{border-radius:14px;background:linear-gradient(180deg,#fff,#f8fbff);padding:.4rem .5rem .5rem;margin-bottom:.35rem;border:1px solid var(--ui-border-1);box-shadow:0 1px 2px #0f172a0a}.top-controls-header{display:grid;grid-template-columns:minmax(300px,1.05fr) minmax(320px,1.2fr) minmax(280px,1fr);gap:var(--ui-space-2);align-items:start;padding:6px 10px 3px}.top-toolbar-zone{display:flex;flex-direction:column;gap:3px;border:1px solid var(--ui-border-1);border-radius:12px;padding:7px 8px;background:var(--ui-surface-0)}.zone-label{display:inline-flex;align-items:center;gap:var(--ui-space-1);font-size:.72rem;font-weight:700;line-height:1;text-transform:uppercase;letter-spacing:.045em;color:var(--ui-text-3)}.zone-label.zone-label-right{justify-content:flex-end}.top-toolbar-zone-results{align-items:center;gap:2px}.simulate-controls{display:flex;flex-wrap:wrap;gap:var(--ui-space-1)}.simulate-input-group{display:flex;align-items:center;gap:var(--ui-space-1)}.simulate-input-group .simulate-input{width:88px;text-align:center;font-weight:600}.optimize-control-group,.randomize-control-group{display:inline-flex;align-items:center;gap:var(--ui-space-1)}.top-controls .btn{border-radius:10px;border-width:1px;font-weight:600;letter-spacing:.01em;font-family:var(--ui-font-main);transition:background-color .18s ease,border-color .18s ease,color .18s ease,box-shadow .18s ease}.top-controls .btn-primary{background:var(--ui-brand);border-color:var(--ui-brand);color:#fff}.top-controls .btn-primary:hover:not(:disabled){background:#1d4ed8;border-color:#1d4ed8}.top-controls .btn-secondary{background:var(--ui-surface-2);border-color:var(--ui-border-1);color:var(--ui-text-2)}.top-controls .btn-secondary:hover:not(:disabled){background:#e2e8f0;border-color:#cbd5e1}.top-controls .btn-outline-primary,.top-controls .btn-outline-secondary,.top-controls .btn-outline-danger{background:transparent;color:var(--ui-text-2);border-color:#cbd5e1}.top-controls .btn-outline-primary:hover:not(:disabled),.top-controls .btn-outline-secondary:hover:not(:disabled),.top-controls .btn-outline-danger:hover:not(:disabled){background:var(--ui-surface-2);border-color:#b8c5d6;color:var(--ui-text-1)}.results-placeholder{display:flex;flex-direction:column;align-items:center;gap:var(--ui-space-2);min-height:64px;width:100%}.results-placeholder-text{color:var(--ui-text-3);font-size:.82rem;font-weight:600;text-transform:uppercase;letter-spacing:.03em}.placeholder-bar{border-color:#d8e1eb;background-color:#eef2f7}.top-toolbar-zone-actions{align-items:flex-end;justify-content:space-between}.external-meta{align-items:center;display:flex;flex-wrap:wrap;gap:var(--ui-space-2);justify-content:flex-end;text-align:right}.external-buttons{display:flex;flex-wrap:wrap;gap:var(--ui-space-1);justify-content:flex-end}.sound-menu{position:relative}.sound-menu-panel{position:absolute;top:calc(100% + 6px);right:0;min-width:180px;z-index:20;border:1px solid var(--ui-border-1);border-radius:10px;background:var(--ui-surface-0);padding:10px;box-shadow:0 6px 18px #00000026;display:flex;flex-direction:column;gap:8px}.sound-menu-title{color:var(--ui-text-2);font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:.03em}.sound-menu-slider{margin:0}.sound-menu-mute-btn{width:100%}.top-controls-body{padding:4px 10px 8px}.controls-grid{display:grid;grid-template-columns:repeat(3,minmax(220px,1fr));gap:var(--ui-space-2);align-items:start}.controls-section{display:flex;flex-direction:column;gap:var(--ui-space-1);padding:8px;border-radius:12px;background-color:var(--ui-surface-1);border:1px solid var(--ui-border-1)}.controls-section .form-group,.controls-section .form-check{margin-bottom:0}.controls-section .form-group>label{margin-bottom:var(--ui-space-1);font-size:.74rem;font-weight:700;color:var(--ui-text-3);text-transform:uppercase;letter-spacing:.03em}.controls-section .form-check-label{color:var(--ui-text-2);font-size:.84rem}.section-title{font-size:.84rem;font-weight:700;text-transform:uppercase;letter-spacing:.04em;color:var(--ui-text-3)}.controls-section.unified-advanced-section{grid-column:span 3}.teams-section{flex-direction:row;flex-wrap:wrap;gap:var(--ui-space-2);align-items:flex-start}.team-name-actions{display:flex;gap:var(--ui-space-1)}.team-column{display:flex;flex-direction:column;gap:var(--ui-space-1);min-width:180px;flex:1 1 220px}.team-selection-btn{min-height:44px;display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:.6rem}.team-preview{display:flex;gap:2px}.team-preview-icon{width:28px;height:28px;border-radius:6px;background:#f5f6f8;object-fit:contain;border:1px solid rgba(0,0,0,.08)}.btn-placeholder{color:#495057;font-size:.9rem;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;letter-spacing:.025em}.team-name-input{max-width:220px}.team-select{max-width:240px}.packs-section .min-w-input{min-width:180px}.compact-toy-group .toy-panel{border-radius:10px;padding:.5rem .6rem;background:#fff;display:flex;flex-direction:column;gap:.5rem;box-shadow:none;max-width:100%;margin:0;border:1px solid #eef1f4}.selection-btn{width:100%;display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:#fff;border:1px solid #ced4da;border-radius:10px;transition:all .2s;cursor:pointer;text-align:left;min-height:42px;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400}.selection-btn:hover{background:#f1f3f5;border-color:#adb5bd;color:inherit;transform:translateY(-1px)}.selection-btn:focus-visible{outline:3px solid var(--sap-btn-primary);outline-offset:2px;border-color:var(--sap-btn-primary);color:inherit}.selection-btn:active{color:inherit}.selection-btn .btn-icon{width:24px;height:24px;object-fit:contain}.selection-btn .btn-text{font-size:.9rem;color:#495057;font-weight:400;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;letter-spacing:.025em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.selection-btn i{color:#adb5bd;font-size:.8rem}:host-context(.night) .selection-btn{background:#3d3d3d;border-color:#444;color:#eee}:host-context(.night) .selection-btn:hover{background:#444;border-color:#555}:host-context(.night) .selection-btn:focus-visible{outline-color:#9ec5ff;border-color:#9ec5ff}:host-context(.night) .selection-btn .btn-text{color:#eee}:host-context(.night) .selection-btn .btn-placeholder{color:#eee}.compact-toy-group .toy-row{display:flex;gap:.5rem;flex-wrap:wrap;align-items:flex-end;justify-content:center}.compact-toy-group .toy-inline{flex:1;min-width:150px;display:flex;flex-direction:column;gap:.2rem}.compact-toy-group .toy-inline label{font-size:.75rem;font-weight:600;margin-bottom:0}.compact-toy-group .toy-level{max-width:90px}.compact-toy-group .hard-row .toy-inline{min-width:200px}.unified-advanced-section{gap:var(--ui-space-2)}.unified-advanced-header{display:flex;align-items:center}.unified-advanced-toggle-btn{width:100%;display:inline-flex;align-items:center;gap:var(--ui-space-2);color:var(--ui-text-2);text-decoration:none;font-weight:700}.unified-advanced-count{color:var(--ui-text-3);font-size:.74rem;text-transform:uppercase;letter-spacing:.03em}.unified-advanced-chevron{display:inline-block;margin-left:auto;transition:transform .2s ease}.unified-advanced-chevron.expanded{transform:rotate(180deg)}.unified-advanced-summary{color:var(--ui-text-3);font-size:.84rem;border-top:1px dashed var(--ui-border-1);padding-top:var(--ui-space-2)}.unified-advanced-body{display:flex;flex-direction:column;gap:var(--ui-space-1)}.unified-advanced-body .nested-section{background:var(--ui-surface-0)}.unified-advanced-body .packs-section{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:var(--ui-space-1) var(--ui-space-2);align-items:start}.unified-advanced-body .packs-section .form-check,.unified-advanced-body .packs-section .subsection-title,.unified-advanced-body .teams-section .subsection-title{grid-column:1/-1}.unified-advanced-body .teams-section{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:var(--ui-space-1) var(--ui-space-2);align-items:start}.unified-advanced-body .teams-section .team-column{min-width:0;flex:0 1 auto}.unified-advanced-body .team-name-input{max-width:100%}.unified-advanced-body .team-name-actions .btn,.unified-advanced-body .team-name-actions .form-select{flex:1 1 0;min-width:0}.subsection-title{margin-bottom:var(--ui-space-1)}.random-overrides-panel{border:1px solid var(--ui-border-1);border-radius:10px;background:var(--ui-surface-0);padding:8px;display:flex;flex-direction:column;gap:var(--ui-space-2)}.advanced-panel-body{border:1px solid var(--ui-border-1);border-radius:10px;background:var(--ui-surface-0);padding:8px}.advanced-grid{display:grid;grid-template-columns:repeat(3,minmax(140px,1fr));gap:var(--ui-space-1) var(--ui-space-2);align-items:start}.advanced-number-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:var(--ui-space-2);align-items:flex-start}.advanced-number-grid .form-group{margin-bottom:0}.advanced-input label{font-size:.74rem;font-weight:700;letter-spacing:.02em;margin-bottom:.2rem;color:var(--ui-text-3);text-transform:uppercase}.debug-sub-toggle{margin-left:1.15rem}.debug-sub-toggle .form-check-label{color:var(--ui-text-3);font-size:.78rem}.advanced-label-with-icon{display:inline-flex;align-items:center;gap:.35rem}.advanced-icon{width:18px;height:18px;display:inline-block;background-repeat:no-repeat;background-size:contain;background-position:center;filter:drop-shadow(0 1px 1px rgba(0,0,0,.2))}.advanced-icon.roll-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/roll.png)}.advanced-icon.gold-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/gold.png)}.advanced-icon.mana-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/mana.png)}.advanced-icon.transform-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/transform.png)}.advanced-icon.cycle-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/cycle.png)}.advanced-icon.summon-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/summon.png)}.advanced-icon.token-icon{background-image:url(/assets/art/Public/Public/Pets/Bee.png)}.advanced-icon.komodo-icon{background-image:url(/assets/art/Public/Public/Pets/Komodo.png)}.advanced-icon.perk-icon{background-image:url(/assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/perk.png)}.advanced-icon.pheasant-icon{background-image:url(/assets/art/Public/Public/Icons/triggers-from-textmap.png)}.advanced-icon.abomination-icon{background-image:url(/assets/art/Public/Public/Pets/Shoggoth.png)}.small-w-input label{font-size:.74rem;font-weight:700;letter-spacing:.02em;margin-bottom:.2rem;color:var(--ui-text-3);text-transform:uppercase}.advanced-input input{text-align:center}.advanced-toggle{display:flex;justify-content:flex-start}.random-overrides-header{align-items:center;display:flex;flex-wrap:wrap;gap:var(--ui-space-2);justify-content:space-between}.random-overrides-toggle{display:inline-flex;align-items:center;gap:var(--ui-space-2);color:var(--ui-text-2);text-decoration:none;font-weight:700}.random-overrides-count{color:var(--ui-text-3);font-size:.8rem;text-transform:uppercase;letter-spacing:.03em}.random-overrides-chevron{display:inline-block;transition:transform .2s ease}.random-overrides-chevron.expanded{transform:rotate(180deg)}.random-overrides-actions{display:flex;flex-wrap:wrap;gap:var(--ui-space-1)}.random-overrides-summary{color:var(--ui-text-3);font-size:.92rem;border-top:1px dashed var(--ui-border-1);padding-top:var(--ui-space-2)}.random-overrides-body{display:flex;flex-direction:column;gap:var(--ui-space-2);border-top:1px dashed var(--ui-border-1);padding-top:var(--ui-space-2)}.random-overrides-empty{color:var(--ui-text-3);font-size:.92rem}.random-overrides-error{color:#b42318;font-size:.92rem;font-weight:600}.random-overrides-table-wrap{max-height:260px;overflow:auto}.random-overrides-table{margin-bottom:0}.decision-label{font-size:.94rem;font-weight:600;line-height:1.3}.decision-key{color:#6c757d;font-family:Courier New,Courier,monospace;font-size:.84rem}.decision-choice-preview{font-size:.9rem;line-height:1.35;margin-bottom:.3rem;min-height:1.25rem}.meta-text{color:#6c757d;font-size:.9rem}.battle-controller.border{border:0;background-color:#f5f5f5}.small-w-input{width:60px}@media(max-width:1199.98px){.controls-grid{grid-template-columns:repeat(2,minmax(220px,1fr))}.controls-section.unified-advanced-section{grid-column:span 2}}@media(max-width:991.98px){.top-controls-header{grid-template-columns:1fr}.top-toolbar-zone-actions,.external-meta,.external-buttons{align-items:flex-start;justify-content:flex-start;text-align:left}.zone-label.zone-label-right{justify-content:flex-start}.controls-grid{grid-template-columns:1fr}.controls-section.unified-advanced-section{grid-column:span 1}.teams-section{flex-direction:column}.advanced-grid{grid-template-columns:repeat(2,minmax(120px,1fr))}.packs-section .min-w-input,.team-column{min-width:0}.unified-advanced-body .packs-section,.unified-advanced-body .teams-section{grid-template-columns:1fr}}@media(max-width:575.98px){.top-controls{padding:.35rem .35rem .5rem}.top-controls-header,.top-controls-body{padding-left:.5rem;padding-right:.5rem}.simulate-controls,.simulate-input-group,.optimize-control-group,.randomize-control-group,.team-name-actions,.external-buttons,.random-overrides-actions{width:100%}.simulate-controls,.optimize-control-group,.randomize-control-group,.team-name-actions,.external-buttons,.random-overrides-actions{gap:.4rem}.simulate-input-group{flex-wrap:wrap}.simulate-input-group .simulate-input{width:100%;flex:1 1 100%}.external-buttons .btn,.team-name-actions .btn,.team-name-actions .form-select,.random-overrides-actions .btn{flex:1 1 auto}.team-name-input{max-width:100%}.advanced-grid{grid-template-columns:1fr}.advanced-number-grid{grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:.6rem}}.results-row{align-items:center;display:flex;flex-direction:column;justify-content:center;text-align:center;gap:2px;width:100%}.results-row .stats{align-items:center;display:flex;justify-content:center;gap:2px 10px;flex-wrap:wrap;width:100%}.stat-block{display:flex;flex:0 1 auto;gap:.28rem;font-weight:700;font-size:.9rem;justify-content:center;white-space:nowrap}.stat-label{font-weight:700;color:var(--ui-text-3);text-transform:uppercase;letter-spacing:.03em;font-size:.72rem}.stat-value{color:var(--ui-text-2)}.player-stat .stat-value{color:var(--ui-success)}.opponent-stat .stat-value{color:var(--ui-danger)}.draw-stat .stat-value{color:var(--ui-draw)}.modern-results-bar{width:min(560px,100%);height:14px;display:flex;overflow:hidden;border-radius:999px;border:1px solid #d7e1ec;background:#eef3f8}.modern-results-bar .results-segment{height:100%;min-width:0}.modern-results-bar .results-segment-player{background:linear-gradient(90deg,#22c55e,#16a34a)}.modern-results-bar .results-segment-draw{background:linear-gradient(90deg,#94a3b8,#64748b)}.modern-results-bar .results-segment-opponent{background:linear-gradient(90deg,#ef4444,#dc2626)}.optimization-delta{display:flex;align-items:center;justify-content:center;gap:.35rem;flex-wrap:wrap;font-size:.76rem;color:var(--ui-text-3);text-transform:uppercase;letter-spacing:.03em}.optimization-delta-label{color:var(--ui-text-2);font-weight:700}.optimization-delta-value{font-weight:700;color:var(--ui-text-2)}.optimization-delta-value-win{color:var(--ui-success)}.optimization-delta-value-loss{color:var(--ui-danger)}.optimization-delta-separator{color:var(--ui-text-3)}.top-controls-meta-text{color:var(--ui-text-3)!important;font-size:.78rem!important;text-transform:uppercase;letter-spacing:.03em}.battle-table-shell{border:1px solid #dce4ec;border-radius:10px;overflow:hidden;background:#fff}.battle-table-meta{display:flex;justify-content:space-between;align-items:center;gap:.6rem;padding:.45rem .6rem;background:#f8fafc;color:#64748b;font-size:.74rem;font-weight:700;text-transform:uppercase;letter-spacing:.03em;border-bottom:1px solid #e2e8f0}.battle-table thead th{font-size:.8rem;font-weight:700;color:#334155;text-transform:uppercase;letter-spacing:.03em;border-bottom:1px solid #e2e8f0;background:#f8fafc;padding:.55rem .6rem}.battle-table tbody td{padding:.5rem .6rem;vertical-align:middle;border-bottom:1px solid #edf2f7}.battle-table tbody tr:last-child td{border-bottom:0}.table-battle-row{cursor:pointer;transition:background-color .16s ease}.table-battle-row td{background:#fff}.table-battle-row:hover td{background:#f8fbff}.table-battle-row.selected-battle td{background:#eaf2ff}.table-battle-row.battle-win td:first-child{border-left:3px solid #16a34a}.table-battle-row.battle-loss td:first-child{border-left:3px solid #dc2626}.table-battle-row.battle-draw td:first-child{border-left:3px solid #64748b}.battle-winner-chip{display:inline-flex;align-items:center;border-radius:999px;padding:.18rem .55rem;border:1px solid #d3dce6;background:#f8fafc;color:#334155;font-size:.72rem;font-weight:700;text-transform:uppercase;letter-spacing:.03em}.battle-winner-player{background:#16a34a21;border-color:#16a34a73;color:#166534}.battle-winner-opponent{background:#dc26261f;border-color:#dc262673;color:#991b1b}.battle-winner-draw{background:#64748b24;border-color:#64748b73;color:#475569}.battle-random-cell{font-size:.95rem;line-height:1.4;color:#334155}.battle-no-random{color:#94a3b8;font-style:italic}::ng-deep .log-pet-icon{width:18px;height:18px;object-fit:contain;vertical-align:middle;margin-right:2px}::ng-deep .log-inline-icon{width:16px;height:16px;object-fit:contain;vertical-align:middle;margin:0 3px 2px}.pane-top-shell{border:1px solid #dee5ee;border-radius:10px;background:linear-gradient(180deg,#f8fafd,#fff);padding:.55rem .6rem .65rem;margin-bottom:.55rem}.pane-title{margin:0;font-size:1.55rem;line-height:1.1;color:#1e293b}.pane-subtitle{display:block;margin:.4rem 0 .25rem;font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:.035em;color:#64748b}.logs-top-shell{padding-bottom:.55rem}.log-container{display:block;padding-left:.35rem;padding-right:.35rem}.log-container.log-container-with-analysis{max-height:24rem;overflow-y:auto}.bold{font-weight:700}.log-event-filters{display:flex;flex-wrap:wrap;gap:.35rem;margin-top:.45rem;align-items:center}.log-event-filter-label{font-size:.72rem;font-weight:700;text-transform:uppercase;letter-spacing:.035em;color:#64748b;margin-right:.1rem}.log-event-filter-btn{border-radius:999px;border:1px solid #d4dbe3;background:#fff;color:#495057;padding:.3rem .75rem;font-size:.82rem;font-weight:700;line-height:1;transition:border-color .18s ease,background-color .18s ease,color .18s ease}.log-event-filter-btn.active{background:#0d6efd;border-color:#0d6efd;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55)}.log-groups{display:flex;flex-direction:column;gap:.45rem}.log-group{border:1px solid #e2e8ef;border-radius:8px;background:#fff;overflow:hidden}.log-group-header{width:100%;border:0;background:#f8fafc;padding:.36rem .5rem;display:flex;align-items:center;gap:.45rem;text-align:left;color:#334155;font-size:.84rem;font-weight:700}.log-group-title{flex:1 1 auto}.log-group-count{color:#64748b;font-size:.78rem}.log-group-meta{display:inline-flex;align-items:center;gap:.35rem}.log-group-chevron{color:#64748b;font-size:.82rem;line-height:1;transition:transform .16s ease}.log-group-chevron.log-group-chevron-collapsed{transform:rotate(-90deg)}.log-group-body{padding:.2rem .35rem .4rem}.log-group-body .log-row:first-child{margin-top:0}.log-row{position:relative;display:flex;gap:.5rem;padding:.42rem .54rem;border-radius:6px;border:1px solid transparent;margin-top:.2rem;background:#fff}.log-row:before{content:"";position:absolute;left:0;top:0;bottom:0;width:3px;border-radius:6px 0 0 6px;background:#c3cbd4}.log-row.log-player:before{background:#2f9e44}.log-row.log-opponent:before{background:#c92a2a}.log-row.log-row-board{background:#f8fafc;border-color:#e2e8ef;box-shadow:none}.log-row.log-row-board .log-row-text{font-family:var(--ui-font-main);letter-spacing:.01em;color:#64748b}.log-row.log-type-attack{border-color:var(--ui-brand-weak);background:var(--ui-surface-0)}.log-row.log-type-attack .log-row-text{color:var(--ui-text-1)}.log-row.log-type-ability,.log-row.log-type-equipment,.log-row.log-type-death{border-color:#1e40af29}.log-row.log-phase-marker{border-color:#dbeafe;background:#eff6ff}.log-row.random-event{box-shadow:inset 0 0 0 1px #fb923c47}.log-row-meta{min-width:7.8rem;display:inline-flex;flex-wrap:wrap;align-items:center;align-content:flex-start;gap:.25rem;padding-top:.02rem}.log-badge{font-size:.72rem;line-height:1;letter-spacing:.02em;text-transform:uppercase;font-weight:700;color:#475569;background:#f8fafc;border:1px solid #d3dde7;border-radius:999px;padding:.24rem .5rem}.log-badge-side-player{color:#166534;border-color:#22c55e73;background:#22c55e24}.log-badge-side-opponent{color:#991b1b;border-color:#ef444473;background:#ef444424}.log-badge-side-unknown{color:#475569}.log-badge-type-attack{border-color:#0e749066;background:#0e74901f;color:#0e7490}.log-badge-type-ability,.log-badge-type-equipment{border-color:#1e40af61;background:#1e40af1a;color:#1d4ed8}.log-badge-type-board{border-color:#47556961;background:#4755691f;color:#334155}.log-badge-type-death{border-color:#b91c1c66;background:#b91c1c1f;color:#b91c1c}.log-badge-type-move,.log-badge-type-trumpets{border-color:#64748b73;background:#64748b1f;color:#475569}.log-badge-random{border-color:#ea580c75;background:#ea580c24;color:#9a3412}.log-badge-phase{border-color:#2563eb66;background:#2563eb1f;color:#1d4ed8}.log-row-text{color:#1f2937;font-size:.98rem;line-height:1.42;flex:1 1 auto}.log-row-text span{color:inherit;font-size:inherit;line-height:inherit}.log-position-prefix{font-family:Arial,Helvetica,sans-serif!important;font-kerning:none;font-variant-ligatures:none;font-feature-settings:"kern" 0,"liga" 0;letter-spacing:normal}.log-empty-state{border:1px dashed #d0d7de;border-radius:8px;padding:.75rem;color:#6c757d;font-size:.86rem;text-align:center;background:#fff}.flex-1{flex:1}.flex-col{min-height:0}.bottom-container{min-height:38em;padding-top:.75rem;flex-wrap:nowrap}.bottom-container>div{min-height:15em}.bottom-container-scroll{min-width:0;overflow-x:auto;overflow-y:hidden}.bottom-container-scroll-hint{display:none;font-size:.8rem;font-weight:600;color:#6c757d;margin-bottom:.35rem;padding:0 .1rem;white-space:nowrap}.pane-switch-tabs{display:none;gap:.45rem;margin-bottom:.5rem}.pane-switch-tab{border-radius:999px;border:1px solid #d4dbe3;background:#fff;color:#495057;padding:.34rem .85rem;font-size:.84rem;font-weight:700;line-height:1;transition:border-color .18s ease,background-color .18s ease,color .18s ease}.pane-switch-tab.active{background:#0d6efd;border-color:#0d6efd;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55)}.pane-switch-tab:focus-visible{outline:3px solid var(--sap-btn-primary);outline-offset:2px}.bottom-container .border,.bottom-container .table{border:0}.bottom-container .table>:not(caption)>*>*{border-bottom:0}.battle-pane,.logs-pane{min-width:20rem}.bottom-container>.battle-pane{flex:0 0 50%;max-width:none;display:flex;flex-direction:column;min-height:0}.bottom-container>.logs-pane{flex:1 1 auto;max-width:none;width:auto;display:flex;flex-direction:column;min-height:0}.battle-log-divider{flex:0 0 8px;align-self:stretch;cursor:col-resize;position:relative;-webkit-user-select:none;user-select:none;touch-action:none}.battle-log-divider:before{content:"";position:absolute;left:50%;top:0;width:1px;height:100%;transform:translate(-50%);background-color:#dee2e6}.battle-log-divider:hover:before,.battle-log-divider:focus-visible:before{width:2px;background-color:#adb5bd}.battle-log-divider:focus-visible{outline:none}.vertical-resizable-stack{display:flex;flex-direction:column;flex:1 1 auto;min-height:0}.animation-top-pane,.logs-top-pane{min-height:0;overflow:auto}.animation-bottom-pane{flex:1 1 auto;min-height:0;margin-top:0;max-height:none}.analysis-bottom-pane{flex:1 1 auto;min-height:0;overflow:hidden}.analysis-sections-stack{height:100%;min-height:0}.timeline-top-pane{min-height:0;overflow:auto}.diff-bottom-pane{flex:1 1 auto;min-height:0}.logs-analysis-stack .log-container.log-container-with-analysis{max-height:none}.horizontal-resize-divider{flex:0 0 8px;cursor:row-resize;position:relative;-webkit-user-select:none;user-select:none;touch-action:none}.horizontal-resize-divider:before{content:"";position:absolute;top:50%;left:0;width:100%;height:1px;transform:translateY(-50%);background-color:#dee2e6}.horizontal-resize-divider:hover:before,.horizontal-resize-divider:focus-visible:before{height:2px;background-color:#adb5bd}.horizontal-resize-divider:focus-visible{outline:none}.bottom-container .form-control,.bottom-container .form-check-input{border-color:transparent;box-shadow:none}.scroll{overflow-x:hidden;overflow-y:auto}.bottom-container .battle-container,.bottom-container .log-container{min-height:0;overflow-y:auto}.log-filter-tabs{display:flex;gap:.5rem;padding:.25rem 0 0;overflow-x:auto;white-space:nowrap}.log-filter-tabs::-webkit-scrollbar{display:none}.log-filter-tabs{-ms-overflow-style:none;scrollbar-width:none}.log-filter-tab{flex:0 0 auto;border-radius:999px;border:1px solid #dee2e6;background-color:#fff;color:#6c757d;font-weight:600;padding:.35rem 1rem;font-size:.9rem;transition:background-color .2s ease,color .2s ease,border-color .2s ease;cursor:pointer}.log-filter-tab:focus-visible{outline:3px solid var(--sap-btn-primary);outline-offset:2px}.log-filter-tab.active{background-color:var(--sap-btn-primary);color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);border-color:var(--sap-btn-primary)}.h-100{height:100%}.pre{white-space:pre}.analysis-section{border-top:1px solid #e9ecef;padding-top:.5rem}.battle-view-header{gap:.5rem;margin-bottom:0}.fight-stage{--fight-motion-scale: 1;border:1px solid #e9ecef;border-radius:8px;padding:.5rem;display:grid;grid-template-columns:minmax(0,1fr) minmax(0,1fr);grid-template-areas:"player opponent" "event event";align-items:start;gap:.45rem;background:linear-gradient(180deg,#f8fbff,#fff)}.fight-team{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:.35rem}.fight-team-opponent .fight-slot{background-color:#dc354514}.fight-team-player .fight-slot{background-color:#28a74514}.fight-team-opponent{grid-area:opponent}.fight-team-player{grid-area:player}.fight-team-player-head-to-head{direction:rtl}.fight-team-player-head-to-head .fight-slot{direction:ltr;--fight-shift-direction: -1}.fight-team-toy-wrap{display:flex;gap:.25rem;align-items:center;justify-content:center;grid-column:1/-1;margin-bottom:.25rem}.fight-team-toy{width:24px;height:24px;object-fit:contain;opacity:.95}.fight-team-toy-hard{filter:drop-shadow(0 0 2px rgba(0,0,0,.25))}.fight-slot{--fight-shift-direction: 1;border:1px solid #dce4ec;border-radius:8px;padding:.25rem;min-height:5rem;display:flex;flex-direction:column;gap:.15rem;align-items:center;justify-content:space-between;transition:box-shadow calc(.14s * var(--fight-motion-scale, 1)) ease-out,background-color calc(.14s * var(--fight-motion-scale, 1)) ease-out,border-color calc(.14s * var(--fight-motion-scale, 1)) ease-out}.fight-slot.fight-slot-front{border-color:#0d6efd;box-shadow:inset 0 0 0 1px #0d6efd59}.fight-slot.fight-slot-empty-card{opacity:.8}.fight-slot.fight-slot-fainted-ghost{border-color:#49505780;box-shadow:inset 0 0 0 1px #49505738}.fight-slot.fight-slot-fainted-ghost .fight-slot-art{opacity:.68;filter:grayscale(.72) saturate(.58)}.fight-slot.fight-slot-fainted-ghost .fight-slot-stats{opacity:.72}.fight-slot-label{font-size:.68rem;font-weight:700;color:#495057}.fight-slot-art{min-height:2.7rem;display:flex;align-items:center;justify-content:center;position:relative;overflow:visible;transform:translateZ(0);backface-visibility:hidden;will-change:transform}.fight-slot-icon{width:42px;height:42px;object-fit:contain}.fight-slot-companion{position:absolute;left:-6px;bottom:-4px;width:16px;height:16px;object-fit:contain;border-radius:50%;background-color:#fff;box-shadow:0 0 0 1px #00000014}.fight-slot-equipment{position:absolute;right:-6px;bottom:-4px;width:16px;height:16px;object-fit:contain}.fight-equipment-ghost{position:absolute;right:-6px;bottom:-4px;pointer-events:none;will-change:transform,opacity,filter}.fight-equipment-ghost-icon{width:16px;height:16px;object-fit:contain}.fight-equipment-gain-ghost{position:absolute;right:-6px;bottom:-4px;pointer-events:none;opacity:0;will-change:transform,opacity,filter}.fight-equipment-gain-icon{width:16px;height:16px;object-fit:contain}.fight-slot-empty{font-family:Courier New,Courier,monospace;color:#9aa4af;font-size:.78rem}.fight-slot-stats{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;gap:.22rem;font-size:.74rem;font-weight:700;color:#212529}.fight-slot-stat{display:inline-flex;align-items:center;gap:.12rem}.fight-slot-stat-icon{width:14px;height:14px;object-fit:contain}.fight-slot-exp{gap:.18rem}.fight-slot-exp-group{width:44px;display:inline-flex;flex-direction:column;gap:1px}.fight-slot-exp-levels{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));align-items:center;font-size:.42rem;line-height:1;color:#6c757d}.fight-slot-exp-level{text-align:center;font-weight:700}.fight-slot-exp-bar{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:1px}.fight-slot-exp-segment{height:.38rem;border:1px solid #212529;border-radius:2px;background-color:#9c5900;box-shadow:0 1px 1px #00000040}.fight-slot-exp-segment.selected{background-color:#feb900}.fight-slot-stat-divider{color:#6c757d;font-size:.66rem}.fight-event{grid-area:event;border:1px solid #dce4ec;border-radius:8px;background-color:#fff;padding:.4rem .55rem;display:flex;flex-direction:column;gap:.15rem}@keyframes fight-event-pulse-a{0%{transform:translateY(1px);opacity:.9}to{transform:translateY(0);opacity:1}}@keyframes fight-event-pulse-b{0%{transform:translateY(1px);opacity:.88}to{transform:translateY(0);opacity:1}}.fight-event.fight-event-phase-a,.fight-stage.fight-phase-a .fight-event{animation:fight-event-pulse-a calc(.26s * var(--fight-motion-scale, 1)) ease-out}.fight-event.fight-event-phase-b,.fight-stage.fight-phase-b .fight-event{animation:fight-event-pulse-b calc(.26s * var(--fight-motion-scale, 1)) ease-out}.fight-event.fight-event-random{border-left:4px solid #6f42c1}.fight-event-type{font-size:.74rem;font-weight:700;text-transform:uppercase;color:#6c757d}.fight-event-text{font-size:.92rem;color:#212529;line-height:1.35}.fight-event-step{font-size:.76rem;color:#6c757d}@keyframes fight-lunge-player-a{0%{transform:translate(0) scale(1)}42%{transform:translate(14px) scale(1.04)}to{transform:translate(0) scale(1)}}@keyframes fight-lunge-player-b{0%{transform:translate(0) scale(1)}40%{transform:translate(13px) scale(1.035)}to{transform:translate(0) scale(1)}}@keyframes fight-lunge-opponent-a{0%{transform:translate(0) scale(1)}42%{transform:translate(-14px) scale(1.04)}to{transform:translate(0) scale(1)}}@keyframes fight-lunge-opponent-b{0%{transform:translate(0) scale(1)}40%{transform:translate(-13px) scale(1.035)}to{transform:translate(0) scale(1)}}@keyframes fight-hit-shake-a{0%{transform:translate(0);filter:brightness(1)}20%{transform:translate(-3px);filter:brightness(1.2)}40%{transform:translate(3px)}60%{transform:translate(-2px)}to{transform:translate(0);filter:brightness(1)}}@keyframes fight-hit-shake-b{0%{transform:translate(0);filter:brightness(1)}20%{transform:translate(3px);filter:brightness(1.2)}40%{transform:translate(-3px)}60%{transform:translate(2px)}to{transform:translate(0);filter:brightness(1)}}.fight-team-player .fight-slot-attacker.fight-impact-phase-a .fight-slot-art,.fight-stage.fight-phase-a .fight-team-player .fight-slot-attacker .fight-slot-art{animation:fight-lunge-player-a calc(.36s * var(--fight-motion-scale, 1)) cubic-bezier(.25,.65,.35,1)}.fight-team-player .fight-slot-attacker.fight-impact-phase-b .fight-slot-art,.fight-stage.fight-phase-b .fight-team-player .fight-slot-attacker .fight-slot-art{animation:fight-lunge-player-b calc(.36s * var(--fight-motion-scale, 1)) cubic-bezier(.25,.65,.35,1)}.fight-team-opponent .fight-slot-attacker.fight-impact-phase-a .fight-slot-art,.fight-stage.fight-phase-a .fight-team-opponent .fight-slot-attacker .fight-slot-art{animation:fight-lunge-opponent-a calc(.36s * var(--fight-motion-scale, 1)) cubic-bezier(.25,.65,.35,1)}.fight-team-opponent .fight-slot-attacker.fight-impact-phase-b .fight-slot-art,.fight-stage.fight-phase-b .fight-team-opponent .fight-slot-attacker .fight-slot-art{animation:fight-lunge-opponent-b calc(.36s * var(--fight-motion-scale, 1)) cubic-bezier(.25,.65,.35,1)}.fight-slot-target.fight-impact-phase-a,.fight-stage.fight-phase-a .fight-slot-target{animation:fight-hit-shake-a calc(.32s * var(--fight-motion-scale, 1)) ease-out;box-shadow:inset 0 0 0 1px #c6282840}.fight-slot-target.fight-impact-phase-b,.fight-stage.fight-phase-b .fight-slot-target{animation:fight-hit-shake-b calc(.32s * var(--fight-motion-scale, 1)) ease-out;box-shadow:inset 0 0 0 1px #c6282840}.fight-snipe-impact{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none}.fight-snipe-impact-icon{width:20px;height:20px;object-fit:contain;opacity:0;filter:drop-shadow(0 0 2px rgba(51,65,85,.45));will-change:transform,opacity,filter}@keyframes fight-snipe-hit-a{0%{opacity:0;transform:translate(14px,-12px) scale(.58) rotate(-24deg);filter:brightness(1)}42%{opacity:1;transform:translate(0) scale(1.08) rotate(0);filter:brightness(1.22)}to{opacity:0;transform:translate(-3px,2px) scale(.82) rotate(8deg);filter:brightness(.96)}}@keyframes fight-snipe-hit-b{0%{opacity:0;transform:translate(-14px,-11px) scale(.56) rotate(22deg);filter:brightness(1)}40%{opacity:1;transform:translate(0) scale(1.07) rotate(0);filter:brightness(1.2)}to{opacity:0;transform:translate(2px,2px) scale(.8) rotate(-7deg);filter:brightness(.96)}}.fight-slot-snipe-target.fight-impact-phase-a .fight-snipe-impact-icon,.fight-stage.fight-phase-a .fight-slot-snipe-target .fight-snipe-impact-icon{animation:fight-snipe-hit-a calc(.33s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot-snipe-target.fight-impact-phase-b .fight-snipe-impact-icon,.fight-stage.fight-phase-b .fight-slot-snipe-target .fight-snipe-impact-icon{animation:fight-snipe-hit-b calc(.33s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot.fight-slot-stat-gain{border-color:#2f9e448c;box-shadow:inset 0 0 0 1px #2f9e4440}@keyframes fight-stat-gain-icon-a{0%{transform:scale(1);filter:brightness(1) saturate(1)}44%{transform:scale(1.13);filter:brightness(1.2) saturate(1.18)}to{transform:scale(1);filter:brightness(1) saturate(1)}}@keyframes fight-stat-gain-icon-b{0%{transform:scale(1);filter:brightness(1) saturate(1)}42%{transform:scale(1.11);filter:brightness(1.18) saturate(1.15)}to{transform:scale(1);filter:brightness(1) saturate(1)}}@keyframes fight-stat-gain-stats-a{0%{transform:translateY(0);color:#212529}42%{transform:translateY(-2px);color:#2f9e44}to{transform:translateY(0);color:#212529}}@keyframes fight-stat-gain-stats-b{0%{transform:translateY(0);color:#212529}40%{transform:translateY(-1px);color:#2f9e44}to{transform:translateY(0);color:#212529}}.fight-slot.fight-slot-stat-gain.fight-impact-phase-a .fight-slot-icon,.fight-slot.fight-slot-stat-gain.fight-impact-phase-a .fight-slot-companion,.fight-stage.fight-phase-a .fight-slot.fight-slot-stat-gain .fight-slot-icon,.fight-stage.fight-phase-a .fight-slot.fight-slot-stat-gain .fight-slot-companion{animation:fight-stat-gain-icon-a calc(.34s * var(--fight-motion-scale, 1)) ease-out}.fight-slot.fight-slot-stat-gain.fight-impact-phase-b .fight-slot-icon,.fight-slot.fight-slot-stat-gain.fight-impact-phase-b .fight-slot-companion,.fight-stage.fight-phase-b .fight-slot.fight-slot-stat-gain .fight-slot-icon,.fight-stage.fight-phase-b .fight-slot.fight-slot-stat-gain .fight-slot-companion{animation:fight-stat-gain-icon-b calc(.34s * var(--fight-motion-scale, 1)) ease-out}.fight-slot.fight-slot-stat-gain.fight-impact-phase-a .fight-slot-stats,.fight-stage.fight-phase-a .fight-slot.fight-slot-stat-gain .fight-slot-stats{animation:fight-stat-gain-stats-a calc(.34s * var(--fight-motion-scale, 1)) ease-out}.fight-slot.fight-slot-stat-gain.fight-impact-phase-b .fight-slot-stats,.fight-stage.fight-phase-b .fight-slot.fight-slot-stat-gain .fight-slot-stats{animation:fight-stat-gain-stats-b calc(.34s * var(--fight-motion-scale, 1)) ease-out}.fight-slot.fight-slot-equipment-removed{border-color:#e6492d8c;box-shadow:inset 0 0 0 1px #e6492d40}@keyframes fight-equipment-remove-a{0%{opacity:.95;transform:translateY(0) scale(1);filter:brightness(1)}48%{opacity:.78;transform:translateY(-6px) scale(1.18) rotate(-7deg);filter:brightness(1.16) saturate(1.15)}to{opacity:0;transform:translateY(-14px) scale(.72) rotate(10deg);filter:brightness(.9)}}@keyframes fight-equipment-remove-b{0%{opacity:.95;transform:translateY(0) scale(1);filter:brightness(1)}45%{opacity:.76;transform:translateY(-5px) scale(1.16) rotate(6deg);filter:brightness(1.14) saturate(1.12)}to{opacity:0;transform:translateY(-13px) scale(.74) rotate(-9deg);filter:brightness(.9)}}.fight-slot.fight-slot-equipment-removed.fight-impact-phase-a .fight-equipment-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-equipment-removed .fight-equipment-ghost{animation:fight-equipment-remove-a calc(.34s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-removed.fight-impact-phase-b .fight-equipment-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-equipment-removed .fight-equipment-ghost{animation:fight-equipment-remove-b calc(.34s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-added{border-color:#2e7d328c;box-shadow:inset 0 0 0 1px #2e7d3238}@keyframes fight-equipment-add-a{0%{opacity:0;transform:translateY(6px) scale(.72);filter:brightness(.9)}55%{opacity:.96;transform:translateY(-2px) scale(1.16);filter:brightness(1.15)}to{opacity:0;transform:translateY(0) scale(1);filter:brightness(1)}}@keyframes fight-equipment-add-b{0%{opacity:0;transform:translateY(5px) scale(.74);filter:brightness(.9)}52%{opacity:.94;transform:translateY(-2px) scale(1.14);filter:brightness(1.13)}to{opacity:0;transform:translateY(0) scale(1);filter:brightness(1)}}.fight-slot.fight-slot-equipment-added.fight-impact-phase-a:not(.fight-slot-equipment-transfer-in) .fight-equipment-gain-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-equipment-added:not(.fight-slot-equipment-transfer-in) .fight-equipment-gain-ghost{animation:fight-equipment-add-a calc(.34s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-added.fight-impact-phase-b:not(.fight-slot-equipment-transfer-in) .fight-equipment-gain-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-equipment-added:not(.fight-slot-equipment-transfer-in) .fight-equipment-gain-ghost{animation:fight-equipment-add-b calc(.34s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot.fight-slot-transform{border-color:#7e22ce8c;box-shadow:inset 0 0 0 1px #7e22ce38}@keyframes fight-transform-morph-a{0%{transform:scale(.92);filter:hue-rotate(0deg) brightness(.95)}45%{transform:scale(1.14);filter:hue-rotate(18deg) brightness(1.18)}to{transform:scale(1);filter:hue-rotate(0deg) brightness(1)}}@keyframes fight-transform-morph-b{0%{transform:scale(.93);filter:hue-rotate(0deg) brightness(.95)}40%{transform:scale(1.12);filter:hue-rotate(-14deg) brightness(1.16)}to{transform:scale(1);filter:hue-rotate(0deg) brightness(1)}}.fight-slot.fight-slot-transform.fight-impact-phase-a .fight-slot-icon,.fight-slot.fight-slot-transform.fight-impact-phase-a .fight-slot-companion,.fight-stage.fight-phase-a .fight-slot.fight-slot-transform .fight-slot-icon,.fight-stage.fight-phase-a .fight-slot.fight-slot-transform .fight-slot-companion{animation:fight-transform-morph-a calc(.36s * var(--fight-motion-scale, 1)) ease-out}.fight-slot.fight-slot-transform.fight-impact-phase-b .fight-slot-icon,.fight-slot.fight-slot-transform.fight-impact-phase-b .fight-slot-companion,.fight-stage.fight-phase-b .fight-slot.fight-slot-transform .fight-slot-icon,.fight-stage.fight-phase-b .fight-slot.fight-slot-transform .fight-slot-companion{animation:fight-transform-morph-b calc(.36s * var(--fight-motion-scale, 1)) ease-out}.fight-slot.fight-slot-summoned{border-color:#0f766e8c;box-shadow:inset 0 0 0 1px #0f766e40}@keyframes fight-summon-bounce-a{0%{opacity:0;transform:translateY(13px) scale(.66);filter:saturate(.9) brightness(.9)}62%{opacity:1;transform:translateY(-4px) scale(1.12);filter:saturate(1.2) brightness(1.15)}to{opacity:1;transform:translateY(0) scale(1);filter:saturate(1) brightness(1)}}@keyframes fight-summon-bounce-b{0%{opacity:0;transform:translateY(12px) scale(.68);filter:saturate(.9) brightness(.9)}58%{opacity:1;transform:translateY(-3px) scale(1.1);filter:saturate(1.18) brightness(1.14)}to{opacity:1;transform:translateY(0) scale(1);filter:saturate(1) brightness(1)}}.fight-slot.fight-slot-summoned.fight-impact-phase-a .fight-slot-art,.fight-stage.fight-phase-a .fight-slot.fight-slot-summoned .fight-slot-art{animation:fight-summon-bounce-a calc(.36s * var(--fight-motion-scale, 1)) ease-out}.fight-slot.fight-slot-summoned.fight-impact-phase-b .fight-slot-art,.fight-stage.fight-phase-b .fight-slot.fight-slot-summoned .fight-slot-art{animation:fight-summon-bounce-b calc(.36s * var(--fight-motion-scale, 1)) ease-out}.fight-slot.fight-slot-ailment-applied{border-color:#d9770694;box-shadow:inset 0 0 0 1px #d977063d}.fight-slot.fight-slot-ailment-cleansed{border-color:#0284c78f;box-shadow:inset 0 0 0 1px #0284c738}@keyframes fight-ailment-apply-a{0%{opacity:0;transform:scale(.65) rotate(-14deg);filter:saturate(1.4) brightness(1.3)}48%{opacity:.98;transform:scale(1.18) rotate(8deg);filter:saturate(1.3) brightness(1.2)}to{opacity:1;transform:scale(1) rotate(0);filter:saturate(1) brightness(1)}}@keyframes fight-ailment-apply-b{0%{opacity:0;transform:scale(.68) rotate(12deg);filter:saturate(1.35) brightness(1.28)}45%{opacity:.98;transform:scale(1.16) rotate(-7deg);filter:saturate(1.28) brightness(1.18)}to{opacity:1;transform:scale(1) rotate(0);filter:saturate(1) brightness(1)}}@keyframes fight-ailment-cleanse-a{0%{opacity:.96;transform:scale(1) rotate(0);filter:hue-rotate(0deg) brightness(1)}45%{opacity:.84;transform:scale(1.18) rotate(-8deg);filter:hue-rotate(24deg) brightness(1.2)}to{opacity:0;transform:scale(.72) rotate(12deg);filter:hue-rotate(45deg) brightness(.88)}}@keyframes fight-ailment-cleanse-b{0%{opacity:.96;transform:scale(1) rotate(0);filter:hue-rotate(0deg) brightness(1)}42%{opacity:.82;transform:scale(1.16) rotate(7deg);filter:hue-rotate(-18deg) brightness(1.18)}to{opacity:0;transform:scale(.74) rotate(-11deg);filter:hue-rotate(-38deg) brightness(.88)}}.fight-slot.fight-slot-ailment-applied.fight-impact-phase-a .fight-slot-equipment,.fight-slot.fight-slot-ailment-applied.fight-impact-phase-a .fight-equipment-gain-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-ailment-applied .fight-slot-equipment,.fight-stage.fight-phase-a .fight-slot.fight-slot-ailment-applied .fight-equipment-gain-ghost{animation:fight-ailment-apply-a calc(.36s * var(--fight-motion-scale, 1)) ease-out}.fight-slot.fight-slot-ailment-applied.fight-impact-phase-b .fight-slot-equipment,.fight-slot.fight-slot-ailment-applied.fight-impact-phase-b .fight-equipment-gain-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-ailment-applied .fight-slot-equipment,.fight-stage.fight-phase-b .fight-slot.fight-slot-ailment-applied .fight-equipment-gain-ghost{animation:fight-ailment-apply-b calc(.36s * var(--fight-motion-scale, 1)) ease-out}.fight-slot.fight-slot-ailment-cleansed.fight-impact-phase-a .fight-equipment-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-ailment-cleansed .fight-equipment-ghost{animation:fight-ailment-cleanse-a calc(.34s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot.fight-slot-ailment-cleansed.fight-impact-phase-b .fight-equipment-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-ailment-cleansed .fight-equipment-ghost{animation:fight-ailment-cleanse-b calc(.34s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-transfer-out{border-color:#e11d4894;box-shadow:inset 0 0 0 1px #e11d483d}.fight-slot.fight-slot-equipment-transfer-in{border-color:#05966994;box-shadow:inset 0 0 0 1px #0596693d}@keyframes fight-equipment-transfer-out-a{0%{opacity:.96;transform:translate(0) scale(1) rotate(0);filter:brightness(1)}45%{opacity:.88;transform:translate(8px,-3px) scale(1.1) rotate(-8deg);filter:brightness(1.16)}to{opacity:0;transform:translate(20px,-10px) scale(.68) rotate(12deg);filter:brightness(.9)}}@keyframes fight-equipment-transfer-out-b{0%{opacity:.96;transform:translate(0) scale(1) rotate(0);filter:brightness(1)}42%{opacity:.86;transform:translate(-8px,-3px) scale(1.1) rotate(8deg);filter:brightness(1.14)}to{opacity:0;transform:translate(-20px,-10px) scale(.7) rotate(-12deg);filter:brightness(.9)}}@keyframes fight-equipment-transfer-in-a{0%{opacity:0;transform:translate(-18px,-10px) scale(.62) rotate(-8deg);filter:brightness(.88)}55%{opacity:.98;transform:translate(2px,-1px) scale(1.18) rotate(6deg);filter:brightness(1.2)}to{opacity:0;transform:translate(0) scale(1) rotate(0);filter:brightness(1)}}@keyframes fight-equipment-transfer-in-b{0%{opacity:0;transform:translate(18px,-10px) scale(.62) rotate(8deg);filter:brightness(.88)}52%{opacity:.98;transform:translate(-2px,-1px) scale(1.16) rotate(-6deg);filter:brightness(1.18)}to{opacity:0;transform:translate(0) scale(1) rotate(0);filter:brightness(1)}}.fight-slot.fight-slot-equipment-transfer-out.fight-impact-phase-a .fight-equipment-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-equipment-transfer-out .fight-equipment-ghost{animation:fight-equipment-transfer-out-a calc(.34s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-transfer-out.fight-impact-phase-b .fight-equipment-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-equipment-transfer-out .fight-equipment-ghost{animation:fight-equipment-transfer-out-b calc(.34s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-transfer-in.fight-impact-phase-a .fight-equipment-gain-ghost,.fight-stage.fight-phase-a .fight-slot.fight-slot-equipment-transfer-in .fight-equipment-gain-ghost{animation:fight-equipment-transfer-in-a calc(.34s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot.fight-slot-equipment-transfer-in.fight-impact-phase-b .fight-equipment-gain-ghost,.fight-stage.fight-phase-b .fight-slot.fight-slot-equipment-transfer-in .fight-equipment-gain-ghost{animation:fight-equipment-transfer-in-b calc(.34s * var(--fight-motion-scale, 1)) ease-out forwards}.fight-slot.fight-slot-shifted{animation:fight-shift-forward calc(.26s * var(--fight-motion-scale, 1)) ease-out}@keyframes fight-shift-forward{0%{transform:translate(calc(var(--fight-shift-steps, 1) * 18px * var(--fight-shift-direction, 1)));opacity:.7}to{transform:translate(0);opacity:1}}@media(max-width:768px){.fight-stage{grid-template-columns:minmax(0,1fr);grid-template-areas:"opponent" "event" "player"}.fight-team-player-head-to-head{direction:ltr}.fight-team-player-head-to-head .fight-slot{--fight-shift-direction: 1}}.fight-value-popup{position:absolute;left:50%;top:calc(-4px - var(--fight-popup-index, 0) * 13px);transform:translate(-50%);display:inline-flex;align-items:center;gap:.14rem;font-size:.78rem;font-weight:700;color:#495057;text-shadow:0 1px 0 #ffffff,0 0 4px rgba(255,255,255,.8);pointer-events:none;white-space:nowrap;transform:translateZ(0);backface-visibility:hidden;will-change:transform,opacity}.fight-value-popup.fight-value-popup-damage,.fight-value-popup.fight-value-popup-debuff{color:#c92a2a}.fight-value-popup.fight-value-popup-buff{color:#2f9e44}.fight-value-popup.fight-value-popup-trumpets{color:#b45309}.fight-value-popup-icon{width:14px;height:14px;object-fit:contain}.fight-value-popup.fight-value-popup-trumpets .fight-value-popup-icon{animation:fight-trumpet-icon-pop calc(.36s * var(--fight-motion-scale, 1)) ease-out;filter:drop-shadow(0 0 2px rgba(245,158,11,.5))}@keyframes fight-trumpet-icon-pop{0%{transform:scale(.86) rotate(-8deg)}45%{transform:scale(1.2) rotate(6deg)}to{transform:scale(1) rotate(0)}}@keyframes fight-value-pop-a{0%{opacity:0;transform:translate(-50%,8px) scale(.8)}20%{opacity:1}to{opacity:0;transform:translate(-50%,-20px) scale(1.04)}}@keyframes fight-value-pop-b{0%{opacity:0;transform:translate(-50%,7px) scale(.82)}18%{opacity:1}to{opacity:0;transform:translate(-50%,-22px) scale(1.03)}}.fight-value-popup.fight-value-phase-a,.fight-stage.fight-phase-a .fight-value-popup{animation:fight-value-pop-a calc(.62s * var(--fight-motion-scale, 1)) ease-out}.fight-value-popup.fight-value-phase-b,.fight-stage.fight-phase-b .fight-value-popup{animation:fight-value-pop-b calc(.62s * var(--fight-motion-scale, 1)) ease-out}.fight-faint-ghost{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none;will-change:transform,opacity}.fight-faint-icon{width:40px;height:40px;object-fit:contain;opacity:.95}.fight-faint-companion{position:absolute;left:6px;bottom:3px;width:14px;height:14px;object-fit:contain;border-radius:50%;background-color:#fff;box-shadow:0 0 0 1px #00000014}@keyframes fight-faint-a{0%{opacity:.95;transform:scale(1)}to{opacity:0;transform:scale(.54)}}@keyframes fight-faint-b{0%{opacity:.95;transform:scale(1)}to{opacity:0;transform:scale(.5)}}.fight-faint-ghost.fight-faint-phase-a,.fight-stage.fight-phase-a .fight-faint-ghost{animation:fight-faint-a calc(.32s * var(--fight-motion-scale, 1)) ease-in forwards}.fight-faint-ghost.fight-faint-phase-b,.fight-stage.fight-phase-b .fight-faint-ghost{animation:fight-faint-b calc(.32s * var(--fight-motion-scale, 1)) ease-in forwards}.fight-controls{display:flex;flex-wrap:wrap;gap:.45rem;align-items:center;margin-top:.5rem}.fight-speed-controls .btn.active{background-color:var(--sap-btn-primary);border-color:var(--sap-btn-primary);color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55)}.fight-scrubber{margin-top:.5rem}.fight-log-stream{margin-top:.35rem;border:1px solid #e9ecef;border-radius:8px;overflow-y:auto;background-color:#fff;padding-left:.25rem}.fight-log-row{padding:.3rem .45rem;border-bottom:1px solid #f1f3f5;font-size:.9rem;scroll-margin-block:1.4rem;transition:background-color calc(.15s * var(--fight-motion-scale, 1)) ease-out}.fight-log-row:last-child{border-bottom:0}.fight-log-row.fight-log-row-active{background-color:#0d6efd1f}.fight-log-row .log-row{margin-top:0;border:0;padding:0;background:transparent}.fight-log-row .log-row:before{display:none}.fight-log-row .log-row-meta{min-width:7.1rem}.fight-log-row .log-row-text{font-size:.9rem}@media(prefers-reduced-motion:reduce){.fight-slot,.fight-slot-icon,.fight-slot-companion,.fight-slot-stats,.fight-event,.fight-value-popup,.fight-value-popup-icon,.fight-snipe-impact,.fight-snipe-impact-icon,.fight-equipment-ghost,.fight-equipment-ghost-icon,.fight-equipment-gain-ghost,.fight-equipment-gain-icon,.fight-faint-ghost,.fight-log-row{animation:none!important;transition:none!important}}.fight-empty-state{min-height:7rem;display:flex;align-items:center;justify-content:center;text-align:center;border:1px dashed #dce4ec;border-radius:8px;color:#6c757d;padding:.75rem}.analysis-title{font-size:.95rem;margin:0 0 .5rem}.analysis-table-wrap{max-height:18rem;overflow-y:auto;border:1px solid #e9ecef;border-radius:6px}.analysis-table th,.analysis-table td{font-size:.75rem;vertical-align:top}.timeline-player td{background-color:#28a74514}.timeline-opponent td{background-color:#dc354514}.timeline-deterministic td{border-left:3px solid #6c757d}.timeline-tie td{border-left:3px solid #fd7e14}.timeline-random td{border-left:3px solid #6f42c1}.diff-controls{display:flex;gap:.5rem;margin-bottom:.5rem}.diff-label{font-size:.75rem;font-weight:600;color:#495057;display:flex;flex-direction:column;gap:.2rem}.diff-select{min-width:9rem}.diff-summary{font-size:.75rem;color:#495057;margin-bottom:.5rem}.diff-same td{opacity:.7}.diff-changed td{background-color:#ffc1072e}.diff-left-only td{background-color:#0d6efd1f}.diff-right-only td{background-color:#dc35451f}.btn-link{color:var(--sap-btn-primary);cursor:pointer;background:none;border:0;padding:0;font:inherit;line-height:inherit;text-decoration:underline}.btn-link:hover{text-decoration:none}.btn-link:focus-visible{outline:3px solid var(--sap-btn-primary);outline-offset:2px;border-radius:4px}.cdk-drag-placeholder{opacity:0}.drag-container{position:relative}@media(hover:none)and (pointer:coarse){.drag-container.cdk-drag{touch-action:pan-y!important}}.drag-container.pet-slot-active app-pet-selector .card{border-color:#2563ebcc;box-shadow:0 0 0 2px #2563eb4d,0 8px 32px #0000005e}.pet-slot-actions{display:flex;justify-content:flex-end;align-items:center;gap:.35rem;margin-bottom:.35rem;padding-right:.4rem}.pet-clear-btn{width:1.8em;height:1.8em;position:static;opacity:.95;display:flex;align-items:center;justify-content:center;color:#ff5a66;background:#00000073;border:1px solid rgba(255,255,255,.5);border-radius:999px;box-shadow:0 2px 6px #00000073;cursor:pointer;font-weight:700;line-height:1;padding:0}.pet-clear-btn:hover{opacity:1;color:#ff7680;background:#0009;border-color:#ffffffbf}.pet-clear-btn:focus-visible{outline:2px solid #ffffff;outline-offset:2px}.info-link{margin-bottom:0}.toy-art{width:36px;height:36px;object-fit:contain}.toy-wrap{position:relative;gap:.5rem}.toy-wrap .toy-art+.toy-art{margin-left:.35rem}.toy-select-container{position:relative;display:inline-flex;align-items:center;cursor:pointer;border-radius:8px;padding:2px}.toy-select-container:hover{background:#fff3;transform:scale(1.05)}.toy-select-container.toy-none{background:#0000004d;border:1px dashed rgba(255,255,255,.5);padding:8px 12px;min-width:50px;justify-content:center;align-items:center}.toy-row{display:flex;align-items:center;gap:.6rem;flex-wrap:wrap}.toy-slot{display:flex;align-items:center;gap:.4rem}.toy-select-btn{display:inline-flex;align-items:center;gap:.4rem;padding:.2rem .5rem;border-radius:8px;border:1px solid rgba(255,255,255,.4);background:#00000040;backdrop-filter:blur(6px);color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);font-size:.9rem;line-height:1.1;letter-spacing:.02em;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45);cursor:pointer}.toy-select-btn:hover{background:#00000052;transform:translateY(-1px)}.toy-select-btn i{font-size:.7rem;color:#ffffffd9;text-shadow:0 1px 2px rgba(0,0,0,.55)}.toy-select-btn:focus-visible{outline:3px solid #ffffff;outline-offset:2px}.toy-label{font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:500;line-height:1.1;letter-spacing:.025em;white-space:nowrap}.toy-main{display:flex;align-items:center}.toy-level-controls{position:absolute;bottom:-8px;left:50%;transform:translate(-50%);display:flex;align-items:center;gap:.25rem;background:#000000d9;border-radius:12px;padding:.15rem .4rem;border:1px solid rgba(255,255,255,.3);opacity:0;pointer-events:none}.toy-level-controls.inline{position:static;transform:none;opacity:1;pointer-events:auto;background:#00000040;backdrop-filter:blur(6px)}.custom-pack-editor-modal .custom-pack-editor-dialog{transform:translateY(20px);opacity:0;transition:transform .3s ease-out,opacity .3s ease-out}.custom-pack-editor-modal.show .custom-pack-editor-dialog{transform:translateY(0);opacity:1}body.custom-pack-editor-open .modal-backdrop.show{background:#00000080;backdrop-filter:blur(4px)}.glass-btn{background:#00000040;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);border:1px solid rgba(255,255,255,.4);backdrop-filter:blur(6px);font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:400;font-size:.95rem;line-height:1.1;letter-spacing:.02em;text-shadow:0 1px 0 rgba(0,0,0,.6),0 0 2px rgba(0,0,0,.45)}.glass-btn:hover{background:#00000052;border-color:#ffffff80;color:#fff;transform:translateY(-1px)}.glass-btn:focus-visible,.glass-btn:active{color:#fff}.toy-select-container:hover .toy-level-controls,.toy-select-container:hover .toy-remove-btn,.toy-wrap:hover .toy-add-hard{opacity:1;pointer-events:auto}.toy-level-btn{background:#ffffff26;border:none;border-radius:999px;width:18px;height:18px;display:flex;align-items:center;justify-content:center;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);cursor:pointer;font-size:.65rem;padding:0}.toy-level-btn:hover{background:#ffffff4d;transform:scale(1.1)}.toy-level-btn:focus-visible{outline:2px solid #ffffff;outline-offset:1px}.toy-level-label{color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);font-size:.78rem;font-family:Lapsus Pro,Roboto,Helvetica Neue,sans-serif;font-weight:500;line-height:1.1;letter-spacing:.02em;text-shadow:0 1px 0 rgba(0,0,0,.55),0 0 1px rgba(0,0,0,.35);min-width:22px;text-align:center}.toy-remove-btn{position:absolute;top:-6px;right:-6px;width:18px;height:18px;background:#d63384;border:2px solid #fff;border-radius:999px;display:flex;align-items:center;justify-content:center;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);cursor:pointer;font-size:.75rem}.toy-remove-btn:hover{background:#c2185b;transform:scale(1.1)}.toy-remove-btn-inline{width:22px;height:22px;background:#d63384;border:2px solid #fff;border-radius:999px;display:inline-flex;align-items:center;justify-content:center;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);cursor:pointer;font-size:.75rem}.toy-remove-btn-inline:hover{background:#c2185b;transform:scale(1.05)}.toy-remove-btn-inline:focus-visible{outline:2px solid #ffffff;outline-offset:1px}.toy-add-hard{position:absolute;top:4px;right:4px;width:20px;height:20px;background:#000000b3;border:1px solid rgba(255,255,255,.4);border-radius:999px;display:flex;align-items:center;justify-content:center;color:#ffffffb3;text-shadow:0 1px 2px rgba(0,0,0,.55);cursor:pointer;font-size:.75rem}.toy-add-hard:hover{background:#000000e6;border-color:#ffffffb3;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);transform:scale(1.15)}.toy-select-icon{position:absolute;bottom:-4px;right:-4px;background:#000000b3;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);border-radius:999px;width:16px;height:16px;display:flex;align-items:center;justify-content:center;font-size:.7rem;opacity:0;transition:opacity .2s;pointer-events:none;border:1px solid rgba(255,255,255,.3)}.toy-select-container:hover .toy-select-icon{opacity:1}.toy-level-text{color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.55);font-weight:700;text-shadow:0 2px 4px rgba(0,0,0,.75);margin-left:.35rem;display:none}.battle-row h2{color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.75)}:host-context(.night) .battle-table-meta,:host-context(.night) .battle-table thead th,:host-context(.night) .battle-table tbody td,:host-context(.night) .battle-random-cell,:host-context(.night) .battle-no-random,:host-context(.night) .battle-winner-chip,:host-context(.night) .log-filter-tab,:host-context(.night) .log-event-filter-btn,:host-context(.night) .log-event-filter-label,:host-context(.night) .log-group-header,:host-context(.night) .log-group-title,:host-context(.night) .log-group-count,:host-context(.night) .log-group-meta,:host-context(.night) .log-row-meta,:host-context(.night) .log-row-text,:host-context(.night) .log-row-text span,:host-context(.night) .log-empty-state,:host-context(.night) .fight-slot-label,:host-context(.night) .fight-slot-stats,:host-context(.night) .fight-slot-stat,:host-context(.night) .fight-slot-exp,:host-context(.night) .fight-event-text,:host-context(.night) .fight-event-step,:host-context(.night) .fight-log-row .log-row-meta,:host-context(.night) .fight-log-row .log-row-text,:host-context(.theme-dark) .battle-table-meta,:host-context(.theme-dark) .battle-table thead th,:host-context(.theme-dark) .battle-table tbody td,:host-context(.theme-dark) .battle-random-cell,:host-context(.theme-dark) .battle-no-random,:host-context(.theme-dark) .battle-winner-chip,:host-context(.theme-dark) .log-filter-tab,:host-context(.theme-dark) .log-event-filter-btn,:host-context(.theme-dark) .log-event-filter-label,:host-context(.theme-dark) .log-group-header,:host-context(.theme-dark) .log-group-title,:host-context(.theme-dark) .log-group-count,:host-context(.theme-dark) .log-group-meta,:host-context(.theme-dark) .log-row-meta,:host-context(.theme-dark) .log-row-text,:host-context(.theme-dark) .log-row-text span,:host-context(.theme-dark) .log-empty-state,:host-context(.theme-dark) .fight-slot-label,:host-context(.theme-dark) .fight-slot-stats,:host-context(.theme-dark) .fight-slot-stat,:host-context(.theme-dark) .fight-slot-exp,:host-context(.theme-dark) .fight-event-text,:host-context(.theme-dark) .fight-event-step,:host-context(.theme-dark) .fight-log-row .log-row-meta,:host-context(.theme-dark) .fight-log-row .log-row-text{text-shadow:0 1px 2px rgba(0,0,0,.55)}@media(max-width:767.98px){.card{max-width:18em}.back,.front{transform:initial;writing-mode:initial}.player-card{grid-template-columns:none}}.ml-auto{margin-left:auto}.bug-button{margin-right:.5em;margin-bottom:.25em}.advanced-input input{width:60px}.simulation-progress{display:flex;align-items:center;gap:.75rem}.simulation-progress .progress{flex:1;height:8px;background-color:#00000014}.simulation-progress .progress-bar{transition:width .2s linear}.simulation-progress .progress-text{min-width:110px;text-align:right;font-size:.85rem;color:#6c757d}@media(max-width:991.98px){.bottom-container-scroll-hint{display:block}.bottom-container{flex-direction:row;flex-wrap:nowrap;column-gap:1rem;min-width:64rem}.bottom-container>.col-12{flex:0 0 calc(50% - .5rem);max-width:calc(50% - .5rem);height:auto}.battle-row{flex-direction:column}.battle-row .col-12{padding-left:0;padding-right:0}.top-controls{padding:.75rem}.top-controls .team-row{flex-direction:column;align-items:stretch}.team-row-right{flex-direction:column;align-items:stretch;gap:.5rem}.team-name-actions{margin-top:.4rem;gap:.25rem}.action-row{flex-direction:column}.action-row>div{width:100%;display:flex;flex-wrap:wrap;gap:.5rem;justify-content:center}.results-row{margin-bottom:.25rem}.results-row .stats{flex-direction:column;align-items:center}.control-groups{flex-direction:column}.control-group{width:100%}.compact-toy-group .toy-row{flex-direction:column}.compact-toy-group .toy-inline{width:100%;min-width:0}.compact-toy-group .toy-row.hard-row{gap:.5rem}.results-bar{width:100%;min-width:unset;max-width:none}}@media(min-width:768px)and (max-width:991.98px){.pane-switch-tabs{display:flex}.bottom-container-scroll-hint{display:none}.bottom-container-scroll{overflow-x:visible;overflow-y:visible}.bottom-container{flex-direction:column;min-width:0;row-gap:.75rem}.bottom-container>.col-12,.bottom-container>.battle-pane,.bottom-container>.logs-pane{flex:1 1 auto;max-width:100%;width:100%;min-width:0;height:auto}.bottom-container>.pane-hidden-single-column{display:none}}\n'],encapsulation:2,changeDetection:0})}return d})(),{providers:[(0,La.$R)((0,La.Sx)())]}).catch(d=>console.error(d))},97677(O,S,i){i.d(S,{H:()=>c});var P=i(70762);function c(A){for(;A;){const{closed:_,destination:v,isStopped:e}=A;if(_||e)return!1;A=v&&v instanceof P.v?v:null}return!0}},97758(O,S,i){i.d(S,{S:()=>r});var P=i(13115),c=i(22410),A=i(6328),_=i(44519),v=i(29886),e=i(47925),t=i(3887),n=i(87647),a=i(58857),l=i(61850);function r(u,g,f,D,k=!1){let L=u.equipment?.multiplier??1,F=g.equipment?.multiplier??1;const j=["Cold","Weak","Spooked"],ee=["Inked"];let V,ie,J="defense"==g.equipment?.equipmentClass||"shield"==g.equipment?.equipmentClass||"ailment-defense"==g.equipment?.equipmentClass||k&&"shield-snipe"==g.equipment?.equipmentClass?g.equipment:null;if(null!=J)if("Strawberry"===J.name){const lt=g.getSparrowLevel();lt<=0||null!=J.uses&&J.uses<=0?J=null:J.power=5*lt}else F=(0,n.GH)(F,J?.name??"",f,j),J.power=(J.originalPower??J.power??0)*F;if(k)V="attack-snipe"==u.equipment?.equipmentClass?u.equipment:null,ie=(D??0)+(V?.power??0),J instanceof e.q&&(J=null);else{V=u.equipment instanceof t.L?new t.v:u.equipment instanceof e.q?new e.Z:u.equipment instanceof v.B?new v.P:"attack"==u.equipment?.equipmentClass||"ailment-attack"==u.equipment?.equipmentClass?u.equipment:null,null!=V&&(L=(0,n.GH)(L,V?.name??"",f,ee),V.power=(V.originalPower??V.power??0)*L);let lt=u.attack;"Monty"==u.name&&(lt*=u.level+1),ie=(D??lt)+(V?.power??0)}let oe=J?.power??0,ce=g.getSparrowLevel();"Strawberry"===g.equipment?.name&&ce>0&&(oe+=5*ce),g.equipment instanceof e.q&&g.equipment.uses>0&&!k&&(ie=Math.floor(ie*Math.pow(.5,F))),V instanceof P.B&&!k&&(ie*=2+L-1),V instanceof e.Z&&!k&&(ie=Math.floor(ie*Math.pow(.5,L)));let Ee=!1;V instanceof A.Y&&!k&&0===(0,a.k6)({key:"equipment.fortune-cookie",label:"Fortune Cookie outcome",options:[{id:"double-damage",label:"Double damage"},{id:"no-bonus",label:"No bonus"}]},()=>(0,l.hw)(0,1)).index&&(ie*=2+L-1,Ee=!0),V instanceof c.W&&!k&&(ie=Math.max(15,ie)),ie=(0,n.W6)(ie,g.equipment,f);let ke,Te="shield"==J?.equipmentClass||"shield-snipe"==J?.equipmentClass?0:1;void 0!==J?.minimumDamage&&(Te=J.minimumDamage),ke=ie<=Te&&oe>0?Math.max(ie,0):Math.max(Te,ie-oe),"Inked"===u.equipment?.name&&ke>0&&(ke=Math.max(0,ke-3)),J instanceof _.H&&(ke=Math.min(ke,g.health-1));const de=(0,n.qw)(g,ke,{includeGhostKitten:k,fairyMinimumOne:!0,fairyRequiresPositiveDamage:!1,nurikabeConsumesOnZeroHit:!0,fanMusselConsumesOnZeroHit:!0});return ke=de.damage,{defenseEquipment:J,attackEquipment:V,damage:ke,fortuneCookie:Ee,nurikabe:de.nurikabe,fairyBallReduction:de.fairyBallReduction,fanMusselReduction:de.fanMusselReduction,mapleSyrupReduction:0,ghostKittenReduction:de.ghostKittenReduction}}},97919(O,S,i){i.d(S,{H:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Kraken";tier=4;pack="Unicorn";attack=5;health=7;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"KrakenAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a}=e,r=this.owner;let u=r.parent.getAll(!0,r,!0),g=u.pets;if(0!=g.length){for(let f of g){let D=1==this.level?.15:2==this.level?.3:.45,k=Math.max(1,Math.floor(f.health*(1-D)));f.health=k,this.logService.createLog({message:`${r.name} reduced ${f.name} health by ${(100*D).toFixed(0)}% to ${k}`,type:"ability",player:r.parent,tiger:a,randomEvent:u.random})}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}},97939(O,S,i){i.d(S,{A:()=>A});const A=(0,i(38992).A)(Object.keys,Object)},98099(O,S,i){function P(c){return"function"==typeof c}i.d(S,{T:()=>P})},98146(O,S,i){i.d(S,{D:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;petService;name="Pteranodon";tier=6;pack="Golden";attack=3;health=5;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f,D){super(e,t,a),this.logService=e,this.abilityService=t,this.petService=n,this.initPet(g,l,r,u,f,D)}}class _ extends c.T{logService;abilityService;petService;constructor(e,t,n,a){super({name:"PteranodonAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:l=>{const{triggerPet:r}=l;return null!=r},abilityFunction:l=>{this.executeAbility(l)}}),this.logService=t,this.abilityService=n,this.petService=a}executeAbility(e){const{triggerPet:n,tiger:a,pteranodon:l}=e,r=this.owner;let u=this.petService.createPet({attack:1,health:1,equipment:null,exp:n.exp,name:n.name,mana:0},r.parent),g=r.parent.summonPetBehind(r,u);g.success&&this.logService.createLog({message:`${r.name} summoned a 1/1 ${n.name} behind it.`,type:"ability",player:r.parent,randomEvent:g.randomEvent,tiger:a,pteranodon:l}),this.triggerTigerExecution(e)}reset(){super.reset(),this.maxUses=this.level}copy(e){return new _(e,this.logService,this.abilityService,this.petService)}}},98349(O,S,i){i.d(S,{J:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Purple Frog";tier=3;pack="Puppy";attack=4;health=2;initAbilities(){this.addAbility(new v(this,this.logService,this.abilityService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;abilityService;usesThisTurn=0;constructor(t,n,a){super({name:"PurpleFrogAbility",owner:t,triggers:["FriendSummoned","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:t.level,abilityFunction:l=>{this.executeAbility(l)}}),this.logService=n,this.abilityService=a}executeAbility(t){const n=this.owner;if("StartTurn"===t.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(t);if(this.usesThisTurn>=this.level)return void this.triggerTigerExecution(t);const a=(0,A.Uj)(n,t.triggerPet);a.pet?(a.pet.executeAbilities("StartTurn",t.gameApi,a.pet,void 0,void 0,{trigger:"StartTurn"}),this.usesThisTurn++,(0,A.rv)(this.logService,n,`${n.name} activated ${a.pet.name}'s start of turn ability.`,t.tiger,t.pteranodon,{randomEvent:a.random}),this.triggerTigerExecution(t)):this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService,this.abilityService)}}},98441(O,S,i){i.d(S,{V:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Bee";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"BeeAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},98935(O){O.exports=JSON.parse('[{"Ability":"Block ailment or 8 damage, once.","Positive":true,"Id":"60","Name":"Ambrosia","NameId":"Ambrosia"},{"Ability":"Before attack: Remove the front-most enemy perk, once.","Positive":true,"Id":"64","Name":"Baguette","NameId":"Baguette"},{"Ability":"Faint: Summon one 4/4 Monkey.","Positive":true,"Id":"25","Name":"Banana","NameId":"Banana"},{"Ability":"Before battle: Gain +7 mana.","Positive":true,"Id":"87","Name":"Big Mana Potion","NameId":"ManaPotion2"},{"Ability":"Gain +1 attack and +2 health.","Positive":true,"Id":"89","Name":"Blackberry","NameId":"Blackberry"},{"Ability":"Can\'t gain perk, once.","Id":"120","Name":"Bloated","NameId":"Bloated"},{"Ability":"Prioritize this for enemy random abilities.","Positive":true,"Id":"28","Name":"Blueberry","NameId":"BlueBerries"},{"Ability":"Gain +3 health when this would faint, once.","Positive":true,"Id":"111","Name":"Bok Choy","NameId":"BokChoy"},{"Ability":"Block being pushed or 5 damage, once.","Positive":true,"Id":"66","Name":"Brussels Sprout","NameId":"BrusselsSprout"},{"Ability":"End turn: Increase sell value by 1 gold.","Positive":true,"Id":"44","Name":"Cake","NameId":"BirthdayCake"},{"Ability":"Before attack: Combine friendly Caramels to deal 3 damage each to the most healthy enemy, once.","Positive":true,"Id":"67","Name":"Caramel","NameId":"Caramel"},{"Ability":"End turn: Gain +1 attack and +1 health.","Positive":true,"Id":"15","Name":"Carrot","NameId":"Carrot"},{"Ability":"Before battle: Deal 1 damage to the second nearest pet ahead. Double against enemies.","Positive":true,"Id":"115","Name":"Cashew Nut","NameId":"CashewNut"},{"Ability":"Knock out: If still standing, gain permanent +1 attack and +1 health, once.","Positive":true,"Id":"71","Name":"Cauliflower","NameId":"Cauliflower"},{"Ability":"Attack with at least 15 attack, once.","Positive":true,"Id":"23","Name":"Cheese","NameId":"Cheese"},{"Ability":"Before battle: Gain 2 trumpets and remove perk.","Positive":true,"Id":"7","Name":"Cherry","NameId":"Cherries"},{"Ability":"Attack second enemy for 5 damage.","Positive":true,"Id":"5","Name":"Chili","NameId":"Chili"},{"Ability":"Before attack: Gain +3 experience and faint.","Positive":true,"Id":"30","Name":"Chocolate Cake","NameId":"ChocolateCake"},{"Ability":"Activate ability before other pets with the same trigger.","Positive":true,"Id":"70","Name":"Churros","NameId":"Churros"},{"Ability":"Before attack: Transform into an exact copy of a random enemy, once.","Positive":true,"Id":"94","Name":"Cocoa Bean","NameId":"CocoaBean"},{"Ability":"Block damage, once.","Positive":true,"Id":"0","Name":"Coconut","NameId":"Coconut"},{"Ability":"Faint: Summon one 2/3 Fish.","Positive":true,"Id":"104","Name":"Cod Roe","NameId":"CodRoe"},{"Ability":"Take +5 damage, once.","Id":"54","Name":"Cold","NameId":"Frozen"},{"Ability":"Before attack: Transform into a pet from one tier below, once.","Id":"118","Name":"Confused","NameId":"Confused"},{"Ability":"Anyone attacks: Take 6 damage, once.","Id":"57","Name":"Crisp","NameId":"Burn"},{"Ability":"End turn: Gain +1 attack.","Positive":true,"Id":"20","Name":"Croissant","NameId":"Croissant"},{"Ability":"End turn: Gain +1 health.","Positive":true,"Id":"19","Name":"Cucumber","NameId":"Cucumber"},{"Ability":"Faint: Make one random friend Cursed.","Id":"119","Name":"Cursed","NameId":"Curse"},{"Ability":"Prevent ability from activating.","Id":"55","Name":"Dazed","NameId":"Deaf"},{"Ability":"Prioritize this for friendly random abilities.","Positive":true,"Id":"36","Name":"Donut","NameId":"Doughnut"},{"Ability":"Before attack: Reduce the most healthy enemy by 33% health, once.","Positive":true,"Id":"45","Name":"Durian","NameId":"Durian"},{"Ability":"Faint: Summon one 3/3 Bunny that attacks for double damage.","Positive":true,"Id":"51","Name":"Easter Egg","NameId":"EasterEgg"},{"Ability":"Before attack: Deal 2 damage to target, once.","Positive":true,"Id":"24","Name":"Egg","NameId":"Egg"},{"Ability":"Before battle: Push opposite enemy 1 space forward.","Positive":true,"Id":"38","Name":"Eggplant","NameId":"EggPlant"},{"Ability":"Block 4 enemy damage, once.","Positive":true,"Id":"68","Name":"Eucalyptus","NameId":"Eucalyptus"},{"Ability":"Faint: Summon ANY one tier 1 <b>Faint</b> pet.","Positive":true,"Id":"86","Name":"Faint Bread","NameId":"DeadBread"},{"Ability":"Empty front space: Jump to the front and gain +2 mana, once.","Positive":true,"Id":"49","Name":"Fairy Dust","NameId":"FairyDust"},{"Ability":"Before attack: Deal 4 damage to the lowest health enemy, once.","Positive":true,"Id":"46","Name":"Fig","NameId":"Fig"},{"Ability":"Attack has 50% chance to deal double damage.","Positive":true,"Id":"11","Name":"Fortune Cookie","NameId":"FortuneCookie"},{"Ability":"Takes 2 less damage.","FinePrint":"Damage can\'t be reduced to less than 2.","Positive":true,"Id":"9","Name":"Garlic","NameId":"Garlic"},{"Ability":"Before battle: Gain +1 experience.","Positive":true,"Id":"52","Name":"Gingerbread Man","NameId":"GingerbreadMan"},{"Ability":"Before attack: Deal 6 damage to target, once.","Positive":true,"Id":"47","Name":"Golden Egg","NameId":"GoldenEgg"},{"Ability":"Start of turn: Gain +1 gold.","Positive":true,"Id":"16","Name":"Grapes","NameId":"Grapes"},{"Ability":"Before attack: Transform into an Ant.","Positive":true,"Id":"103","Name":"Gros Michel Banana","NameId":"GrosMichelBanana"},{"Ability":"Block 3 damage, and attack for +3 damage, once.","Positive":true,"Id":"105","Name":"Guava","NameId":"Guava"},{"Ability":"Before battle: Give the front-most friendly pet +2 health.","Positive":true,"Id":"58","Name":"Health Potion","NameId":"HealthPotion"},{"Ability":"Faint: Summon one 1/1 Bee.","Positive":true,"Id":"8","Name":"Honey","NameId":"Honey"},{"Ability":"Block 10 damage, and attack for +5 damage, once.","Positive":true,"Id":"110","Name":"Honeydew Melon","NameId":"HoneydewMelon"},{"Ability":"Take double damage, twice.","Id":"56","Name":"Icky","NameId":"Acid"},{"Ability":"Attack and ability deal 3 less damage.","Id":"37","Name":"Inked","NameId":"Ink"},{"Ability":"Ability deals +8 damage, once.","Positive":true,"Id":"78","Name":"Kiwano","NameId":"Kiwano"},{"Ability":"Before battle: Gain +3 health.","Positive":true,"Id":"107","Name":"Kiwifruit","NameId":"Kiwi"},{"Ability":"Block 7 damage, twice.","Positive":true,"Id":"22","Name":"Lemon","NameId":"Lemon"},{"Ability":"Takes 1 less damage.","Positive":true,"Id":"108","Name":"Lime","NameId":"Lime"},{"Ability":"Activate ability at level 1.","Positive":true,"Id":"122","Name":"Liquorice","NameId":"SweetLiquorice"},{"Ability":"Before battle: Summon one 5/5 pet like this.","Positive":true,"Id":"59","Name":"Love Potion","NameId":"LovePotion"},{"Ability":"Before battle: Copy ability to the nearest friend ahead.","Positive":true,"Id":"76","Name":"Lychee","NameId":"Lychee"},{"Ability":"Activate ability after other pets with the same trigger.","Positive":true,"Id":"117","Name":"Macaron","NameId":"Macaron"},{"Ability":"Start of turn: Gain the Golden Egg perk and increase sell value by 4 gold.","Positive":true,"Id":"48","Name":"Magic Beans","NameId":"MagicBeans"},{"Ability":"Attack for 50% damage and block 50% damage, thrice.","Positive":true,"Id":"93","Name":"Maple Syrup","NameId":"MapleSyrup"},{"Ability":"Attack with +3 damage.","Positive":true,"Id":"6","Name":"Meat Bone","NameId":"MeatBone"},{"Ability":"Block 20 damage, once.","Positive":true,"Id":"13","Name":"Melon","NameId":"Melon"},{"Ability":"Block 10 damage, once.","Positive":true,"Id":"79","Name":"Melon Slice","NameId":"WaterMelon"},{"Ability":"Attack second enemy for 4 damage.","Positive":true,"Id":"123","Name":"Mild Chili","NameId":"MildChili"},{"Ability":"Faint: Come back as a 1/1.","Positive":true,"Id":"1","Name":"Mushroom","NameId":"Mushroom"},{"Ability":"Before attack: Convert up to 3 health into attack.","Positive":true,"Id":"116","Name":"Nachos","NameId":"Nachos"},{"Ability":"Before attack: Move to the back, once.","Positive":true,"Id":"31","Name":"Onion","NameId":"Onion"},{"Ability":"Before attack: Set attack and health to at least 9, once.","Positive":true,"Id":"77","Name":"Oyster Mushroom","NameId":"OysterMushroom"},{"Ability":"Before battle: Give friends +2 attack and +2 health.","Positive":true,"Id":"35","Name":"Pancakes","NameId":"Pancakes"},{"Ability":"Knock out any pet attacked and hurt by this.","Positive":true,"Id":"2","Name":"Peanut","NameId":"Peanut"},{"Ability":"Knock out any pet attacked and hurt by this, once.","Positive":true,"Id":"88","Name":"Peanut Butter","NameId":"PeanutButter"},{"Ability":"Health does not go under 1. Removed after taking damage.","Positive":true,"Id":"18","Name":"Pepper","NameId":"Pepper"},{"Ability":"Before battle: Gain +4 attack and +3 health.","Positive":true,"Id":"39","Name":"Pie","NameId":"Pie"},{"Ability":"Ability deals +2 damage, thrice.","Positive":true,"Id":"21","Name":"Pineapple","NameId":"Pineapple"},{"Ability":"Hurt: Gain +15 health, once.","Positive":true,"Id":"33","Name":"Pita Bread","NameId":"PitaBread"},{"Ability":"Faint: Summon one random pet from the same tier.","Positive":true,"Id":"17","Name":"Popcorn","NameId":"Popcorn"},{"Ability":"Block 10 damage from abilities and perks, twice.","Positive":true,"Id":"29","Name":"Potato","NameId":"Potato"},{"Ability":"Before battle: Gain ANY useful perk from the pet\'s tier.","Positive":true,"Id":"65","Name":"Radish","NameId":"Radish"},{"Ability":"Before attack: Gain +3 mana.","Positive":true,"Id":"62","Name":"Rambutan","NameId":"Rambutan"},{"Ability":"Sell for +2 gold.","Positive":true,"Id":"43","Name":"Rice","NameId":"RiceBall"},{"Ability":"Attack for double damage, once.","Positive":true,"Id":"3","Name":"Salt","NameId":"Salt"},{"Ability":"Start of turn: Gain +2 gold.","Positive":true,"Id":"100","Name":"Sardinian Currant","NameId":"SardinianCurrant"},{"Ability":"Start of turn: Gain one free roll.","Positive":true,"Id":"69","Name":"Sausage","NameId":"Sausage"},{"Ability":"Before attack: Transform into a Baby Urchin.","Positive":true,"Id":"72","Name":"Seaweed","NameId":"Seaweed"},{"Ability":"Ability has random targets in battle.","Id":"75","Name":"Silly","NameId":"Silly"},{"Ability":"Attack second and third enemy for 3 damage.","Positive":true,"Id":"26","Name":"Skewer","NameId":"Skewer"},{"Ability":"Attack with half damage, once.","Id":"84","Name":"Sleepy","NameId":"Drowsy"},{"Ability":"Take +1 damage.","Id":"63","Name":"Spooked","NameId":"Scared"},{"Ability":"Before attack: Remove 6 health from target, once.","Positive":true,"Id":"109","Name":"Squash","NameId":"Squash"},{"Ability":"Attack with +20 damage, once.","Positive":true,"Id":"12","Name":"Steak","NameId":"Steak"},{"Ability":"Faint: Give the back-most friend +1 attack and +1 health.","Positive":true,"Id":"14","Name":"Strawberry","NameId":"Strawberry"},{"Ability":"Hurt: If still standing, gain permanent +1 health, once.","Positive":true,"Id":"95","Name":"Sudduth Tomato","NameId":"SudduthTomato"},{"Ability":"Faint: Give one random enemy permanent +2 attack and +2 health.","Id":"85","Name":"Tasty","NameId":"Tasty"},{"Ability":"Anyone attacks: Take 1 damage, once.","Id":"73","Name":"Toasty","NameId":"Toasty"},{"Ability":"Before attack: Deal 10 damage to the last enemy, once.","Positive":true,"Id":"34","Name":"Tomato","NameId":"Tomato"},{"Ability":"Start of battle: Deal 2 damage to a random enemy.","Positive":true,"Id":"97","Name":"Unagi","NameId":"Unagi"},{"Ability":"Block 2 damage, once.","Positive":true,"Id":"80","Name":"Walnut","NameId":"Walnut"},{"Ability":"Take +3 damage.","Id":"10","Name":"Weak","NameId":"Weak"},{"Ability":"Faint: Summon one 2/2 Spider up front for the opponent.","Id":"27","Name":"Webbed","NameId":"Web"},{"Ability":"Block 10 damage twice or ailment once.","Positive":true,"Id":"101","Name":"White Okra","NameId":"WhiteOkra"},{"Ability":"Friend faints: Gain +4 attack and jump-attack the highest attack enemy, once.","Positive":true,"Id":"91","Name":"White Truffle","NameId":"WhiteTruffle"},{"Ability":"Faint: Summon two 5/5 Nordic Goats.","Positive":true,"Id":"50","Name":"Yggdrasil Fruit","NameId":"YggdrasilFruit"}]')},98964(O,S,i){i.d(S,{_:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Mandrill";tier=2;pack="Puppy";attack=3;health=4;initAbilities(){this.addAbility(new _(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;abilityService;constructor(e,t,n){super({name:"MandrillAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=n}executeAbility(e){const r=this.owner;let u=2*this.level;r.parent.toy?.tier<=u&&(r.parent.breakToy(),this.abilityService.triggerToyBrokeEvents(r.parent)),this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService,this.abilityService)}}},98977(O,S,i){i.d(S,{V:()=>t});var P=i(46200),c=i(5615),A=i(33127),_=i(26886),v=i(61850),e=i(1152);class t extends P.i{logService;abilityService;name="Gharial";tier=3;pack="Puppy";attack=5;health=2;initAbilities(){this.addAbility(new n(this,this.logService,this.abilityService)),super.initAbilities()}constructor(l,r,u,g,f,D,k,L,F){super(l,r,u),this.logService=l,this.abilityService=r,this.initPet(k,g,f,D,L,F)}}class n extends c.T{logService;abilityService;constructor(l,r,u){super({name:"GharialAbility",owner:l,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:l.level,abilityFunction:g=>{this.executeAbility(g)}}),this.logService=r,this.abilityService=u}executeAbility(l){const r=this.owner,u=A.I.getInjector().get(_.w),g=Math.max(1,Math.min(3,this.level)),f=u.toys.get(g)??[];if(0===f.length)return void this.triggerTigerExecution(l);const D=f[(0,v.hw)(0,f.length-1)],k=u.createToy(D,r.parent,g);k?(r.parent.toy=k,r.parent.toy.used=!1,r.parent.toy.triggers=0,(0,e.rv)(this.logService,r,`${r.name} chose a level ${g} ${D} toy.`,l.tiger,l.pteranodon),this.triggerTigerExecution(l)):this.triggerTigerExecution(l)}copy(l){return new n(l,this.logService,this.abilityService)}}},99094(O,S,i){i.d(S,{X:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Jewel Caterpillar";tier=3;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"Jewel Caterpillar Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner,l=a.parent;if(l.trumpets<2)return void this.triggerTigerExecution(e);const u=l.petArray.filter(D=>D.alive&&D!==a).slice(-2);if(0===u.length)return void this.triggerTigerExecution(e);const g=this.level;u.forEach(D=>D.increaseSellValue(g)),l.spendTrumpets(2,a,n);const f=this.formatNames(u.map(D=>D.name));this.logService.createLog({message:`${a.name} spent 2 trumpets to give ${f} +${g} sell value each permanently.`,type:"ability",player:l,tiger:t,pteranodon:n}),this.triggerTigerExecution(e)}formatNames(e){return 0===e.length?"no friends":1===e.length?e[0]:`${e.slice(0,-1).join(", ")} and ${e[e.length-1]}`}copy(e){return new _(e,this.logService)}}},99162(O,S,i){i.d(S,{A:()=>c});const c=function P(A,_){for(var v=-1,e=null==A?0:A.length;++v<e&&!1!==_(A[v],v,A););return A}},99352(O,S,i){i.d(S,{p:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Cyclops";tier=4;pack="Unicorn";attack=2;health=5;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"CyclopsAbility",owner:t,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:t.level,precondition:a=>{const{triggerPet:l}=a,g=(0,A.lK)(this.owner,l).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a,tiger:l}=t,u=this.owner;let g=2*this.level,f=(0,A.lK)(u,a),D=f.pet;if(null!=D){if(this.logService.createLog({message:`${u.name} gave ${D.name} ${g} mana.`,type:"ability",player:u.parent,tiger:l,randomEvent:f.random}),D.increaseMana(g),this.currentUses<this.level){let k=(0,A.lK)(u,a),L=k.pet;if(null==L)return;this.logService.createLog({message:`${u.name} gave ${L.name} 1 exp.`,type:"ability",player:u.parent,tiger:l,randomEvent:k.random}),L.increaseExp(1)}this.triggerTigerExecution(t)}}copy(t){return new v(t,this.logService)}}},99462(O,S,i){i.d(S,{m:()=>c});var P=i(42294);class c{triggerSummonEvents(_){const v=_?.parent;if(v&&Array.isArray(v.petArray)){this.triggerFriendSummonedToyEvents(v,_);for(let t of this.abilityQueueService.getTeam(v))t==_?this.abilityQueueService.triggerAbility(t,"ThisSummoned",_):(this.abilityQueueService.triggerAbility(t,"FriendSummoned",_),this.abilityQueueService.handleNumberedCounterTriggers(t,_,void 0,this.abilityQueueService.getNumberedTriggersForPet(t,"FriendSummoned")),"Bee"===_.name&&this.abilityQueueService.triggerAbility(t,"BeeSummoned",_));(v.opponent&&Array.isArray(v.opponent.petArray)?v.opponent.petArray:[]).forEach(t=>this.abilityQueueService.triggerAbility(t,"EnemySummoned",_)),this.executeFriendSummonedToyEvents()}}triggerFaintEvents(_){this.faintEventService.triggerFaintEvents(_)}triggerAfterFaintEvents(_){this.faintEventService.triggerAfterFaintEvents(_)}triggerFoodEvents(_,v){(0,P.yB)(this.abilityQueueService,_,v)}triggerPerkGainEvents(_,v){(0,P.Jo)(this.abilityQueueService,_,v)}triggerPerkLossEvents(_,v){(0,P.hu)(this.abilityQueueService,_,v)}triggerAilmentGainEvents(_,v){(0,P.$f)(this.abilityQueueService,_,v)}triggerTransformEvents(_){const v=_.transformedInto;if(v)for(let e of this.abilityQueueService.getTeam(v))e==v?this.abilityQueueService.triggerAbility(e,"ThisTransformed",v):(this.abilityQueueService.triggerAbility(e,"FriendTransformed",v),this.abilityQueueService.handleNumberedCounterTriggers(e,v,void 0,this.abilityQueueService.getNumberedTriggersForPet(e,"FriendTransformed")))}triggerFlungEvents(_){for(let v of this.abilityQueueService.getTeam(_))this.abilityQueueService.triggerAbility(v,"AnyoneFlung",_),v!=_&&this.abilityQueueService.triggerAbility(v,"FriendFlung",_);for(let v of this.abilityQueueService.getTeam(_.parent?.opponent))this.abilityQueueService.triggerAbility(v,"AnyoneFlung",_)}triggerPushedEvents(_){for(let v of this.abilityQueueService.getTeam(_.parent?.opponent))this.abilityQueueService.triggerAbility(v,"EnemyPushed",_)}triggerKillEvents(_,v){v.parent!==_.parent&&this.abilityQueueService.triggerAbility(_,"KnockOut",v)}triggerHurtEvents(_,v){const e=void 0!==v?{damageAmount:v}:void 0;for(let t of this.abilityQueueService.getTeam(_))this.abilityQueueService.triggerAbility(t,"AnyoneHurt",_,e),t==_?(this.abilityQueueService.triggerAbility(t,"ThisHurt",_,e),this.abilityQueueService.handleNumberedCounterTriggers(t,_,e,this.abilityQueueService.getNumberedTriggersForPet(t,"ThisHurt"))):(this.abilityQueueService.triggerAbility(t,"FriendHurt",_,e),this.abilityQueueService.handleNumberedCounterTriggers(t,_,e,this.abilityQueueService.getNumberedTriggersForPet(t,"FriendHurt"))),t==_.petBehind(void 0,!0)&&this.abilityQueueService.triggerAbility(t,"FriendAheadHurt",_,e),(t==t.petBehind()||t.petAhead)&&this.abilityQueueService.triggerAbility(t,"AdjacentFriendsHurt",_,e),t.position<_.position&&this.abilityQueueService.triggerAbility(t,"AnyoneBehindHurt",_,e);for(let t of this.abilityQueueService.getTeam(_.parent?.opponent))this.abilityQueueService.triggerAbility(t,"EnemyHurt",_,e),this.abilityQueueService.triggerAbility(t,"AnyoneHurt",_,e),this.abilityQueueService.handleNumberedCounterTriggers(t,_,e,this.abilityQueueService.getNumberedTriggersForPet(t,"EnemyHurt"))}triggerLevelUpEvents(_){const v=_.parent;this.triggerFriendlyLevelUpToyEvents(v,_);for(let e of v.petArray)this.abilityQueueService.triggerAbility(e,"AnyLeveledUp",_),this.abilityQueueService.triggerAbility(e,"FriendlyLeveledUp",_),e==_?this.abilityQueueService.triggerAbility(e,"ThisLeveledUp",_):(this.abilityQueueService.triggerAbility(e,"FriendLeveledUp",_),this.abilityQueueService.handleNumberedCounterTriggers(e,_,void 0,this.abilityQueueService.getNumberedTriggersForPet(e,"FriendlyLeveledUp")));if(v.opponent&&Array.isArray(v.opponent.petArray))for(let e of v.opponent.petArray)this.abilityQueueService.triggerAbility(e,"AnyLeveledUp",_)}triggerEmptyFrontSpaceEvents(_){for(let v of _.petArray)v.clearFrontTriggered||(this.abilityQueueService.triggerAbility(v,"EmptyFrontSpace"),v.clearFrontTriggered=!0)}executeEmptyFrontSpaceEvents(){this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:_=>"EmptyFrontSpace"===_.abilityType,onExecute:_=>this.logTriggerHeader(_)}),this.clearLastLoggedTrigger()}triggerToyBrokeEvents(_){for(let v of _.petArray)this.abilityQueueService.triggerAbility(v,"FriendlyToyBroke")}triggerJumpEvents(_){this.triggerFriendJumpedToyEvents(_.parent,_);for(let v of this.abilityQueueService.getTeam(_))this.abilityQueueService.triggerAbility(v,"AnyoneJumped",_),v==_||(this.abilityQueueService.triggerAbility(v,"FriendJumped",_),this.abilityQueueService.handleNumberedCounterTriggers(v,_,void 0,this.abilityQueueService.getNumberedTriggersForPet(v,"FriendJumped")));for(let v of this.abilityQueueService.getTeam(_.parent?.opponent))this.abilityQueueService.triggerAbility(v,"AnyoneJumped",_);this.executeFriendJumpedToyEvents()}triggerManaGainedEvents(_){this.abilityQueueService.triggerAbility(_,"ThisGainedMana",_)}setManaEvent(_){_.abilityType="ManaSnipe",this.abilityQueueService.addEventToQueue(_)}setgoldenRetrieverSummonsEvent(_){_.abilityType="GoldenRetrieverSummons",this.abilityQueueService.addEventToQueue(_)}triggerFriendGainsHealthEvents(_){}triggerFriendGainedExperienceEvents(_){for(let v of this.abilityQueueService.getTeam(_))this.abilityQueueService.triggerAbility(v,"FriendlyGainedExp",_),v!==_&&this.abilityQueueService.triggerAbility(v,"FriendGainedExp",_)}triggerEmptyFrontSpaceToyEvents(_){this.toyEventService.triggerEmptyFrontSpaceToyEvents(_)}executeEmptyFrontSpaceToyEvents(){this.toyEventService.executeEmptyFrontSpaceToyEvents()}triggerFriendSummonedToyEvents(_,v){this.toyEventService.triggerFriendSummonedToyEvents(_,v)}executeFriendSummonedToyEvents(){this.toyEventService.executeFriendSummonedToyEvents()}triggerFriendlyLevelUpToyEvents(_,v){this.toyEventService.triggerFriendlyLevelUpToyEvents(_,v)}executeFriendlyLevelUpToyEvents(){this.toyEventService.executeFriendlyLevelUpToyEvents()}triggerFriendFaintsToyEvents(_,v){this.toyEventService.triggerFriendFaintsToyEvents(_,v)}executeFriendFaintsToyEvents(){this.toyEventService.executeFriendFaintsToyEvents()}triggerFriendJumpedToyEvents(_,v){this.toyEventService.triggerFriendJumpedToyEvents(_,v)}executeFriendJumpedToyEvents(){this.toyEventService.executeFriendJumpedToyEvents()}}},99654(O,S,i){i.d(S,{B:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Warf";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;usedFirstTrigger=!1;constructor(e,t){super({name:"Warf Ability",owner:e,triggers:["ThisGainedMana","StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:n}=e,a=this.owner;if("StartBattle"===e.trigger)return this.usedFirstTrigger=!1,void this.triggerTigerExecution(e);const l=a.parent.opponent.getRandomPet([],!1,!1,!1,a);if(l.pet){const r=l.pet,u=this.level,g=this.usedFirstTrigger?u:3*u;a.snipePet(r,g,l.random,t,n),this.logService.createLog({message:`${a.name} gained mana and dealt ${g} damage to ${r.name}.`,type:"ability",player:a.parent,tiger:t,pteranodon:n,randomEvent:l.random}),this.usedFirstTrigger=!0}this.triggerTigerExecution(e)}copy(e){return new _(e,this.logService)}}},99659(O,S,i){i.d(S,{A:()=>c});const c=function P(A,_){for(var v=-1,e=Array(A);++v<A;)e[v]=_(v);return e}},99771(O,S,i){i.d(S,{l:()=>_});var P=i(46200),c=i(5615),A=i(1152);class _ extends P.i{logService;abilityService;name="Jackalope";tier=2;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new v(this,this.logService)),super.initAbilities()}constructor(t,n,a,l,r,u,g,f,D){super(t,n,a),this.logService=t,this.abilityService=n,this.initPet(g,l,r,u,f,D)}}class v extends c.T{logService;constructor(t,n){super({name:"JackalopeAbility",owner:t,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:t.level,precondition:a=>{const{triggerPet:l}=a,g=(0,A.lK)(this.owner,l).pet;return!!g&&g.alive},abilityFunction:a=>{this.executeAbility(a)}}),this.logService=n}executeAbility(t){const{triggerPet:a}=t,u=this.owner;let f=(0,A.lK)(u,a).pet;if(null==f)return;let D=this.level;u.jumped&&(D*=2),f.increaseAttack(D),this.logService.createLog({message:`${u.name} gave ${f.name} +${D} attack.`,type:"ability",player:this.owner.parent}),this.triggerTigerExecution(t)}copy(t){return new v(t,this.logService)}}},99898(O,S,i){i.d(S,{A:()=>_});var P=i(81984),c=i(1827);const _=function A(v,e,t,n){var a=!t;t||(t={});for(var l=-1,r=e.length;++l<r;){var u=e[l],g=n?n(t[u],v[u],u,t,v):void 0;void 0===g&&(g=v[u]),a?(0,c.A)(t,u,g):(0,P.A)(t,u,g)}return t}},99953(O,S,i){i.d(S,{H:()=>A});var P=i(46200),c=i(5615);class A extends P.i{logService;abilityService;name="Dove";tier=2;pack="Star";attack=3;health=1;initAbilities(){this.addAbility(new _(this,this.logService)),super.initAbilities()}constructor(e,t,n,a,l,r,u,g,f){super(e,t,n),this.logService=e,this.abilityService=t,this.initPet(u,a,l,r,g,f)}}class _ extends c.T{logService;constructor(e,t){super({name:"DoveAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t}executeAbility(e){const{tiger:a,pteranodon:l}=e,r=this.owner;let u=r.parent.petArray.filter(D=>D==r||"Strawberry"!=D.equipment?.name),g=r.parent.getRandomPets(3,u,null,null,r),f=g.pets;if(0!=f.length){for(let D of f){if("Strawberry"!=D.equipment?.name)continue;this.logService.createLog({message:`${r.name} activated ${D.name}'s Strawberry.`,type:"ability",player:r.parent,tiger:a,randomEvent:g.random,pteranodon:l});let L=D.parent.getLastPet(void 0,D).pet;if(!L)continue;let F=this.level+(L.equipment?.multiplier??1)-1;L.increaseAttack(F),L.increaseHealth(F),this.logService.createLog({message:`${D.name} gave ${L.name} ${F} attack ${F} health (Strawberry) (x${this.level} ${r.name}).`,type:"equipment",player:r.parent,tiger:a,pteranodon:l})}this.triggerTigerExecution(e)}}copy(e){return new _(e,this.logService)}}}},O=>{O(O.s=97641)}]);