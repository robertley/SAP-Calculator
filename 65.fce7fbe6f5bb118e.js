"use strict";(self.webpackChunksap_calculator=self.webpackChunksap_calculator||[]).push([[65],{3065(nG,sG,Vt){function Z(s,e){return s.player===e?s.opponent:s.player}const ym=(s,e)=>{e.createLog({message:`${s.name} fainted.`,type:"death",player:s.parent,sourcePet:s})},je=(s,e)=>{s.seenDead=!0,s.setFaintEventIfPresent(),ym(s,e)},vm=function sf(s,e){return s===e||s!=s&&e!=e},Kt=function lf(s,e){for(var t=s.length;t--;)if(vm(s[t][0],e))return t;return-1};var cf=Array.prototype.splice;function Ue(s){var e=-1,t=null==s?0:s.length;for(this.clear();++e<t;){var i=s[e];this.set(i[0],i[1])}}Ue.prototype.clear=function af(){this.__data__=[],this.size=0},Ue.prototype.delete=function uf(s){var e=this.__data__,t=Kt(e,s);return!(t<0||(t==e.length-1?e.pop():cf.call(e,t,1),--this.size,0))},Ue.prototype.get=function pf(s){var e=this.__data__,t=Kt(e,s);return t<0?void 0:e[t][1]},Ue.prototype.has=function df(s){return Kt(this.__data__,s)>-1},Ue.prototype.set=function bf(s,e){var t=this.__data__,i=Kt(t,s);return i<0?(++this.size,t.push([s,e])):t[i][1]=e,this};const zt=Ue,Am="object"==typeof global&&global&&global.Object===Object&&global;var Rf="object"==typeof self&&self&&self.Object===Object&&self;const pe=Am||Rf||Function("return this")(),_e=pe.Symbol;var fm=Object.prototype,Cf=fm.hasOwnProperty,Ff=fm.toString,pt=_e?_e.toStringTag:void 0;var $f=Object.prototype.toString;var km=_e?_e.toStringTag:void 0;const gt=function Df(s){return null==s?void 0===s?"[object Undefined]":"[object Null]":km&&km in Object(s)?function Nf(s){var e=Cf.call(s,pt),t=s[pt];try{s[pt]=void 0;var i=!0}catch{}var r=Ff.call(s);return i&&(e?s[pt]=t:delete s[pt]),r}(s):function Bf(s){return $f.call(s)}(s)},dt=function Of(s){var e=typeof s;return null!=s&&("object"==e||"function"==e)},Sm=function Vf(s){if(!dt(s))return!1;var e=gt(s);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};var s,Kf=pe["__core-js_shared__"],Pm=(s=/[^.]+$/.exec(Kf&&Kf.keys&&Kf.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"";var Jf=Function.prototype.toString;const Ie=function Zf(s){if(null!=s){try{return Jf.call(s)}catch{}try{return s+""}catch{}}return""};var ek=/^\[object .+?Constructor\]$/,nk=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const lk=function sk(s){return!(!dt(s)||function zf(s){return!!Pm&&Pm in s}(s))&&(Sm(s)?nk:ek).test(Ie(s))},Me=function uk(s,e){var t=function ok(s,e){return s?.[e]}(s,e);return lk(t)?t:void 0},mt=Me(pe,"Map"),bt=Me(Object,"create");var Ak=Object.prototype.hasOwnProperty;var Pk=Object.prototype.hasOwnProperty;function Ve(s){var e=-1,t=null==s?0:s.length;for(this.clear();++e<t;){var i=s[e];this.set(i[0],i[1])}}Ve.prototype.clear=function gk(){this.__data__=bt?bt(null):{},this.size=0},Ve.prototype.delete=function mk(s){var e=this.has(s)&&delete this.__data__[s];return this.size-=e?1:0,e},Ve.prototype.get=function fk(s){var e=this.__data__;if(bt){var t=e[s];return"__lodash_hash_undefined__"===t?void 0:t}return Ak.call(e,s)?e[s]:void 0},Ve.prototype.has=function Tk(s){var e=this.__data__;return bt?void 0!==e[s]:Pk.call(e,s)},Ve.prototype.set=function Rk(s,e){var t=this.__data__;return this.size+=this.has(s)?0:1,t[s]=bt&&void 0===e?"__lodash_hash_undefined__":e,this};const Tm=Ve,Qt=function Ik(s,e){var t=s.__data__;return function Fk(s){var e=typeof s;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==s:null===s}(e)?t["string"==typeof e?"string":"hash"]:t.map};function Ke(s){var e=-1,t=null==s?0:s.length;for(this.clear();++e<t;){var i=s[e];this.set(i[0],i[1])}}Ke.prototype.clear=function Ek(){this.size=0,this.__data__={hash:new Tm,map:new(mt||zt),string:new Tm}},Ke.prototype.delete=function Mk(s){var e=Qt(this,s).delete(s);return this.size-=e?1:0,e},Ke.prototype.get=function Bk(s){return Qt(this,s).get(s)},Ke.prototype.has=function Gk(s){return Qt(this,s).has(s)},Ke.prototype.set=function Dk(s,e){var t=Qt(this,s),i=t.size;return t.set(s,e),this.size+=t.size==i?0:1,this};const Wk=Ke;function ze(s){var e=this.__data__=new zt(s);this.size=e.size}ze.prototype.clear=function vf(){this.__data__=new zt,this.size=0},ze.prototype.delete=function ff(s){var e=this.__data__,t=e.delete(s);return this.size=e.size,t},ze.prototype.get=function Sf(s){return this.__data__.get(s)},ze.prototype.has=function Tf(s){return this.__data__.has(s)},ze.prototype.set=function Uk(s,e){var t=this.__data__;if(t instanceof zt){var i=t.__data__;if(!mt||i.length<199)return i.push([s,e]),this.size=++t.size,this;t=this.__data__=new Wk(i)}return t.set(s,e),this.size=t.size,this};const Vk=ze;var Qk=function(){try{var s=Me(Object,"defineProperty");return s({},"",{}),s}catch{}}();const wm=Qk,xm=function Yk(s,e,t){"__proto__"==e&&wm?wm(s,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):s[e]=t};var Zk=Object.prototype.hasOwnProperty;const Rm=function Xk(s,e,t){var i=s[e];(!Zk.call(s,e)||!vm(i,t)||void 0===t&&!(e in s))&&xm(s,e,t)},Yt=function eS(s,e,t,i){var r=!t;t||(t={});for(var n=-1,a=e.length;++n<a;){var l=e[n],o=i?i(t[l],s[l],l,t,s):void 0;void 0===o&&(o=s[l]),r?xm(t,l,o):Rm(t,l,o)}return t},yt=function rS(s){return null!=s&&"object"==typeof s},Lm=function nS(s){return yt(s)&&"[object Arguments]"==gt(s)};var Em=Object.prototype,sS=Em.hasOwnProperty,lS=Em.propertyIsEnumerable,oS=Lm(function(){return arguments}())?Lm:function(s){return yt(s)&&sS.call(s,"callee")&&!lS.call(s,"callee")};const cS=oS,Jt=Array.isArray;var Cm="object"==typeof exports&&exports&&!exports.nodeType&&exports,Fm=Cm&&"object"==typeof module&&module&&!module.nodeType&&module,Nm=Fm&&Fm.exports===Cm?pe.Buffer:void 0;const Im=(Nm?Nm.isBuffer:void 0)||function hS(){return!1};var yS=/^(?:0|[1-9]\d*)$/;const AS=function vS(s,e){var t=typeof s;return!!(e=e??9007199254740991)&&("number"==t||"symbol"!=t&&yS.test(s))&&s>-1&&s%1==0&&s<e},Mm=function kS(s){return"number"==typeof s&&s>-1&&s%1==0&&s<=9007199254740991};var q={};q["[object Float32Array]"]=q["[object Float64Array]"]=q["[object Int8Array]"]=q["[object Int16Array]"]=q["[object Int32Array]"]=q["[object Uint8Array]"]=q["[object Uint8ClampedArray]"]=q["[object Uint16Array]"]=q["[object Uint32Array]"]=!0,q["[object Arguments]"]=q["[object Array]"]=q["[object ArrayBuffer]"]=q["[object Boolean]"]=q["[object DataView]"]=q["[object Date]"]=q["[object Error]"]=q["[object Function]"]=q["[object Map]"]=q["[object Number]"]=q["[object Object]"]=q["[object RegExp]"]=q["[object Set]"]=q["[object String]"]=q["[object WeakMap]"]=!1;const ji=function zS(s){return function(e){return s(e)}};var $m="object"==typeof exports&&exports&&!exports.nodeType&&exports,vt=$m&&"object"==typeof module&&module&&!module.nodeType&&module,Ui=vt&&vt.exports===$m&&Am.process;const Qe=function(){try{return vt&&vt.require&&vt.require("util").types||Ui&&Ui.binding&&Ui.binding("util")}catch{}}();var Bm=Qe&&Qe.isTypedArray;const ZS=Bm?ji(Bm):function VS(s){return yt(s)&&Mm(s.length)&&!!q[gt(s)]};var eP=Object.prototype.hasOwnProperty;const qm=function tP(s,e){var t=Jt(s),i=!t&&cS(s),r=!t&&!i&&Im(s),n=!t&&!i&&!r&&ZS(s),a=t||i||r||n,l=a?function tS(s,e){for(var t=-1,i=Array(s);++t<s;)i[t]=e(t);return i}(s.length,String):[],o=l.length;for(var c in s)(e||eP.call(s,c))&&(!a||!("length"==c||r&&("offset"==c||"parent"==c)||n&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||AS(c,o)))&&l.push(c);return l};var iP=Object.prototype;const _i=function rP(s){var e=s&&s.constructor;return s===("function"==typeof e&&e.prototype||iP)},Gm=function aP(s,e){return function(t){return s(e(t))}},sP=Gm(Object.keys,Object);var oP=Object.prototype.hasOwnProperty;const Hm=function hP(s){return null!=s&&Mm(s.length)&&!Sm(s)},Zt=function pP(s){return Hm(s)?qm(s):function cP(s){if(!_i(s))return sP(s);var e=[];for(var t in Object(s))oP.call(s,t)&&"constructor"!=t&&e.push(t);return e}(s)};var vP=Object.prototype.hasOwnProperty;const fP=function AP(s){if(!dt(s))return function mP(s){var e=[];if(null!=s)for(var t in Object(s))e.push(t);return e}(s);var e=_i(s),t=[];for(var i in s)"constructor"==i&&(e||!vP.call(s,i))||t.push(i);return t},Vi=function kP(s){return Hm(s)?qm(s,!0):fP(s)};var Dm="object"==typeof exports&&exports&&!exports.nodeType&&exports,Om=Dm&&"object"==typeof module&&module&&!module.nodeType&&module,Wm=Om&&Om.exports===Dm?pe.Buffer:void 0,jm=Wm?Wm.allocUnsafe:void 0;const Um=function RP(s,e){var t=-1,i=s.length;for(e||(e=Array(i));++t<i;)e[t]=s[t];return e},_m=function CP(){return[]};var NP=Object.prototype.propertyIsEnumerable,Vm=Object.getOwnPropertySymbols,IP=Vm?function(s){return null==s?[]:(s=Object(s),function LP(s,e){for(var t=-1,i=null==s?0:s.length,r=0,n=[];++t<i;){var a=s[t];e(a,t,s)&&(n[r++]=a)}return n}(Vm(s),function(e){return NP.call(s,e)}))}:_m;const Ki=IP,Km=function BP(s,e){for(var t=-1,i=e.length,r=s.length;++t<i;)s[r+t]=e[t];return s},zm=Gm(Object.getPrototypeOf,Object);var HP=Object.getOwnPropertySymbols?function(s){for(var e=[];s;)Km(e,Ki(s)),s=zm(s);return e}:_m;const Qm=HP,Ym=function WP(s,e,t){var i=e(s);return Jt(s)?i:Km(i,t(s))},UP=function jP(s){return Ym(s,Zt,Ki)},VP=function _P(s){return Ym(s,Vi,Qm)},zi=Me(pe,"DataView"),Qi=Me(pe,"Promise"),Yi=Me(pe,"Set"),Ji=Me(pe,"WeakMap");var Jm="[object Map]",Zm="[object Promise]",Xm="[object Set]",eb="[object WeakMap]",tb="[object DataView]",ZP=Ie(zi),XP=Ie(mt),eT=Ie(Qi),tT=Ie(Yi),iT=Ie(Ji),$e=gt;(zi&&$e(new zi(new ArrayBuffer(1)))!=tb||mt&&$e(new mt)!=Jm||Qi&&$e(Qi.resolve())!=Zm||Yi&&$e(new Yi)!=Xm||Ji&&$e(new Ji)!=eb)&&($e=function(s){var e=gt(s),t="[object Object]"==e?s.constructor:void 0,i=t?Ie(t):"";if(i)switch(i){case ZP:return tb;case XP:return Jm;case eT:return Zm;case tT:return Xm;case iT:return eb}return e});const Zi=$e;var aT=Object.prototype.hasOwnProperty;const ib=pe.Uint8Array,Xi=function oT(s){var e=new s.constructor(s.byteLength);return new ib(e).set(new ib(s)),e};var hT=/\w*$/;var rb=_e?_e.prototype:void 0,ab=rb?rb.valueOf:void 0;const GT=function qT(s,e,t){var i=s.constructor;switch(e){case"[object ArrayBuffer]":return Xi(s);case"[object Boolean]":case"[object Date]":return new i(+s);case"[object DataView]":return function cT(s,e){var t=e?Xi(s.buffer):s.buffer;return new s.constructor(t,s.byteOffset,s.byteLength)}(s,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function bT(s,e){var t=e?Xi(s.buffer):s.buffer;return new s.constructor(t,s.byteOffset,s.length)}(s,t);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(s);case"[object RegExp]":return function pT(s){var e=new s.constructor(s.source,hT.exec(s));return e.lastIndex=s.lastIndex,e}(s);case"[object Symbol]":return function dT(s){return ab?Object(ab.call(s)):{}}(s)}};var nb=Object.create,HT=function(){function s(){}return function(e){if(!dt(e))return{};if(nb)return nb(e);s.prototype=e;var t=new s;return s.prototype=void 0,t}}();const DT=HT;var sb=Qe&&Qe.isMap;const KT=sb?ji(sb):function UT(s){return yt(s)&&"[object Map]"==Zi(s)};var lb=Qe&&Qe.isSet;const ZT=lb?ji(lb):function QT(s){return yt(s)&&"[object Set]"==Zi(s)};var ob="[object Arguments]",cb="[object Function]",ub="[object Object]",B={};B[ob]=B["[object Array]"]=B["[object ArrayBuffer]"]=B["[object DataView]"]=B["[object Boolean]"]=B["[object Date]"]=B["[object Float32Array]"]=B["[object Float64Array]"]=B["[object Int8Array]"]=B["[object Int16Array]"]=B["[object Int32Array]"]=B["[object Map]"]=B["[object Number]"]=B[ub]=B["[object RegExp]"]=B["[object Set]"]=B["[object String]"]=B["[object Symbol]"]=B["[object Uint8Array]"]=B["[object Uint8ClampedArray]"]=B["[object Uint16Array]"]=B["[object Uint32Array]"]=!0,B["[object Error]"]=B[cb]=B["[object WeakMap]"]=!1;const hb=function Xt(s,e,t,i,r,n){var a,l=1&e,o=2&e,c=4&e;if(t&&(a=r?t(s,i,r,n):t(s)),void 0!==a)return a;if(!dt(s))return s;var u=Jt(s);if(u){if(a=function nT(s){var e=s.length,t=new s.constructor(e);return e&&"string"==typeof s[0]&&aT.call(s,"index")&&(t.index=s.index,t.input=s.input),t}(s),!l)return Um(s,a)}else{var g=Zi(s),d=g==cb||"[object GeneratorFunction]"==g;if(Im(s))return function wP(s,e){if(e)return s.slice();var t=s.length,i=jm?jm(t):new s.constructor(t);return s.copy(i),i}(s,l);if(g==ub||g==ob||d&&!r){if(a=o||d?{}:function OT(s){return"function"!=typeof s.constructor||_i(s)?{}:DT(zm(s))}(s),!l)return o?function DP(s,e){return Yt(s,Qm(s),e)}(s,function SP(s,e){return s&&Yt(e,Vi(e),s)}(a,s)):function MP(s,e){return Yt(s,Ki(s),e)}(s,function gP(s,e){return s&&Yt(e,Zt(e),s)}(a,s))}else{if(!B[g])return r?s:{};a=GT(s,g,l)}}n||(n=new Vk);var m=n.get(s);if(m)return m;n.set(s,a),ZT(s)?s.forEach(function(v){a.add(Xt(v,e,t,v,s,n))}):KT(s)&&s.forEach(function(v,A){a.set(A,Xt(v,e,t,A,s,n))});var y=u?void 0:(c?o?VP:UP:o?Vi:Zt)(s);return function Kk(s,e){for(var t=-1,i=null==s?0:s.length;++t<i&&!1!==e(s[t],t,s););}(y||s,function(v,A){y&&(v=s[A=v]),Rm(a,A,Xt(v,e,t,A,s,n))}),a},pb=function xw(s){return hb(s,4)},Rw={setEnabled:()=>{},isEnabled:()=>!1,setDeferDecorations:()=>{},isDeferDecorations:()=>!0,setShowTriggerNamesInLogs:()=>{},isShowTriggerNamesInLogs:()=>!1,setDebugSummonBoardStateLogs:()=>{},isDebugSummonBoardStateLogs:()=>!1,decorateLogIfNeeded:()=>{},createLog:()=>{},getLogs:()=>[],reset:()=>{},printState:()=>{}};function se(s){return s??Rw}function At(s){let t=se(s.logService);Object.defineProperty(s,"logService",{configurable:!0,enumerable:!0,get:()=>t,set:i=>{t=se(i)}})}class f{equipmentClass;name;tier;power;originalPower;uses;originalUses;callback;attackCallback;multiplier=1;multiplierMessage="";baseMultiplier=1;minimumDamage;hasRandomEvents=!1;triggers;constructor(){At(this),this.originalPower=this.power,this.baseMultiplier=this.multiplier}reset(){this.uses=this.originalUses}}function ei(s){return 1===s?0:2===s?2:5}function er(s){return ei(s)}class h{name;owner;_triggers=[];get triggers(){return this._triggers}set triggers(e){this._triggers=e}abilityType;maxUses;currentUses;initialCurrentUses;abilityLevel;precondition;condition;abilityFunction;native;ignoreRepeats;alwaysIgnorePetLevel;constructor(e){At(this),this.name=e.name,this.owner=e.owner,this.triggers=e.triggers,this.abilityType=e.abilityType,this.maxUses=e.maxUses??-1;const t=e.initialCurrentUses??("Pet"===e.abilityType?e.owner.triggersConsumed:0);this.initialCurrentUses=t,this.currentUses=t,this.abilityLevel=e.abilitylevel??1,this.precondition=e.precondition,this.condition=e.condition,this.abilityFunction=e.abilityFunction,this.native=e.native??!0,this.ignoreRepeats=e.ignoreRepeats??!1,this.alwaysIgnorePetLevel=e.alwaysIgnorePetLevel??!1}canUse(){return!(this.maxUses>0&&this.currentUses>=this.maxUses)}execute(e,t,i,r,n){if(this.owner.removed&&!this.matchesTrigger("PostRemovalFaint")||!this.owner.abilityValidCheck())return!1;try{const a={gameApi:e,triggerPet:t,tiger:i,pteranodon:r,...n??{}};return!(this.precondition&&!this.precondition(a)||this.condition&&!this.condition(a)||(this.currentUses++,"Pet"===this.abilityType&&(this.owner.triggersConsumed=Math.max(this.owner.triggersConsumed,this.currentUses)),this.abilityFunction(a),0))}catch(a){return console.error(`Error executing ability ${this.name||"unnamed"}:`,a),!1}}tigerCheck(e,t){if(this.ignoreRepeats||"Pet"!=this.abilityType)return!1;const i=t??this.owner.petBehind(!0,!0);return!(!i||!i.hasTrigger(void 0,void 0,"TigerAbility")||null!=e&&0!=e)}triggerTigerExecution(e){const t=e.tigerSupportPet??this.owner.petBehind(!0,!0);if(!this.tigerCheck(e.tiger,t)||!this.canUse())return;let i=this.abilityLevel,r=this.alwaysIgnorePetLevel;this.abilityLevel=t.level,this.alwaysIgnorePetLevel=!0;const{gameApi:n,triggerPet:a,tiger:l,pteranodon:o,...c}=e;this.execute(n,a,!0,o,c),this.abilityLevel=i,this.alwaysIgnorePetLevel=r}reset(){this.currentUses=0}initUses(){this.currentUses=this.initialCurrentUses}copy(e){return null}matchesTrigger(e){return this.triggers.includes(e)}get level(){return this.alwaysIgnorePetLevel?this.abilityLevel:this.owner.level}get minExpForLevel(){return er(this.level)}}class gb extends f{logService;name="Onion";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new Lw(e,t,this.logService))};constructor(e){super(),this.logService=e}}class Lw extends h{equipment;logService;constructor(e,t,i){super({name:"OnionAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} pushed itself to the back. (Onion)`,type:"equipment",player:t.parent}),t.parent.pushPetToBack(t),t.parent.pushPetsForward(),t.removePerk()}}const ti=(s,e,t)=>{switch(e){case 0:s.pet0=t;break;case 1:s.pet1=t;break;case 2:s.pet2=t;break;case 3:s.pet3=t;break;case 4:s.pet4=t}},Ew=(s,e,t)=>{try{s.setPet(e,t)}catch{ti(s,e,void 0)}},db=s=>{const e=pb(s.petArray);for(let t=0;t<=4;t++)Ew(s,t,e[t])},ft=(s,e)=>{const t=((s,e)=>{for(let t=e-1;t>=0;t--)if(null==s.getPet(t))return t;return null})(s,e);if(null==t)return!1;for(let i=t;i<e;i++)ti(s,i,s.getPet(i+1));return!0},kt=(s,e)=>{const t=((s,e)=>{for(let t=e+1;t<=4;t++)if(null==s.getPet(t))return t;return null})(s,e);if(null==t)return!1;for(let i=t;i>e;i--)ti(s,i,s.getPet(i-1));return!0},Ye=(s,e)=>{5!==s.petArray.length?ft(s,e)||kt(s,e):console.warn("No room to Make Room")},ir=(s,e,t=1,i,r,n)=>{if("Brussels Sprout"===e?.equipment?.name)return r.createLog({message:`${e.name} blocked being pushed. (Brussels Sprout)`,type:"equipment",player:e.parent}),void e.removePerk();const a=e.position;let l;if(ti(e.parent,a,void 0),t>0&&(l=Math.max(a-t,0),null!=s.getPet(l)&&(ft(s,l)||kt(s,l)),s.setPet(l,e)),t<0&&(l=Math.min(a-t,4),null!=s.getPet(l)&&(kt(s,l)||ft(s,l)),s.setPet(l,e)),i?(e.jumped=!0,n.triggerJumpEvents(e)):n.triggerPushedEvents(e),null==s.pet0)n.triggerEmptyFrontSpaceEvents(s),n.executeEmptyFrontSpaceEvents(),n.triggerEmptyFrontSpaceToyEvents(s),n.executeEmptyFrontSpaceToyEvents();else for(const o of s.petArray)o.clearFrontTriggered=!1};function ge(s){let t,e=s.length;for(;0!==e;)t=Math.floor(Math.random()*e),e--,[s[e],s[t]]=[s[t],s[e]];return s}function S(s,e){const t=Math.ceil(s),i=Math.floor(e);return Math.floor(Math.random()*(i-t+1))+t}function Je(){return Math.random()}const W=s=>{const e=s.equipment;return"string"==typeof e?"Silly"===e:!(!e||"string"!=typeof e.name)&&"Silly"===e.name},V=(s,e)=>{const t=[];for(const i of s.petArray)i.alive&&("perk"===e?i.equipment&&!i.equipment.equipmentClass?.startsWith("ailment")&&t.push(i):i.equipment?.name===e&&t.push(i));return t},ii=(s,e)=>{for(const t of s.petArray)if(t.position===e)return t;return null};function mb(s,e){return`${s}::${e}`}let St=null;function qw(s,e){const t=(s??"").trim();return t.length>0?t:`option-${e+1}`}function L(s,e){const t=s.options.map((g,d)=>({id:qw(g?.id,d),label:g?.label??g?.id??`Option ${d+1}`}));if(0===t.length)return{index:-1,randomEvent:!1,forced:!1};if(1===t.length)return{index:0,randomEvent:!1,forced:!1};const i=St,n=!!i&&(i.capture||i.overridesByIndex.size>0||i.overridesByFingerprint.size>0),a=i?.decisions.length??-1,l=mb(s.key,s.label),o=i&&a>=0?i.overridesByFingerprint.get(l)??i.overridesByIndex.get(a)??null:null;let c=e(),u=!1;if(o){const g=t.findIndex(d=>d.id===o);if(g>=0)c=g,u=!0;else if(i&&i.strictValidation){const d=`Random override invalid at step ${a+1}: "${o}" not found for ${s.label}.`;throw i.invalidOverrideError=d,new Error(d)}}return(c<0||c>=t.length)&&(c=Math.max(0,Math.min(t.length-1,c))),n&&i&&i.decisions.push({index:a,key:s.key,label:s.label,options:t,selectedOptionId:t[c]?.id??null,forced:u}),{index:c,randomEvent:!0,forced:u}}const Be=(s,e,t,i,r,n,a,l)=>{if(r&&W(r)){const u=0===L({key:"summon.silly-target-team",label:"Silly summon target team",options:[{id:"player",label:"Player team"},{id:"opponent",label:"Opponent team"}]},()=>S(0,1)).index?s:s.opponent,d=L({key:"summon.silly-position",label:"Silly summon position",options:[0,1,2,3,4].map(b=>({id:`slot-${b+1}`,label:`Slot ${b+1}`}))},()=>S(0,4)).index;return e.parent=u,{success:Be(u,e,d,i,void 0,n,a,l).success,randomEvent:!0}}return t<0||t>4?(i||n.createLog({message:`No room to spawn ${e.name}!`,type:"ability",player:s}),{success:!1,randomEvent:!1}):i&&null!=s.getPet(t)?{success:!1,randomEvent:!1}:5===s.petArray.length?(i||n.createLog({message:`No room to spawn ${e.name}!`,type:"ability",player:s}),{success:!1,randomEvent:!1}):(s===l.gameApi.player?l.gameApi.playerSummonedAmount++:l.gameApi.opponentSummonedAmount++,0===t&&(null!=s.pet0&&Ye(s,0),s.setPet(0,e)),1===t&&(null!=s.pet1&&Ye(s,1),s.setPet(1,e)),2===t&&(null!=s.pet2&&Ye(s,2),s.setPet(2,e)),3===t&&(null!=s.pet3&&Ye(s,3),s.setPet(3,e)),4===t&&(null!=s.pet4&&Ye(s,4),s.setPet(4,e)),a.triggerSummonEvents(e),{success:!0,randomEvent:!1})};function Uw(s){return s?`${s.parent?.isOpponent?"O":"P"}${Number.isFinite(s.savedPosition)?s.savedPosition+1:0} ${s.name}`:"unknown caller"}function _w(s){const e=s.some(i=>!i.parent?.isOpponent),t=s.some(i=>i.parent?.isOpponent);return e&&t?"both teams":t?"opponent team":"player team"}function bb(s,e,t,i){if(0===t.length)return{pet:null,random:!1};const r=L({key:s,label:`${Uw(i)} -> ${e} (${_w(t)}, ${t.length} options)`,options:t.map(n=>function jw(s){const e=s.parent?.isOpponent?"opponent":"player",t=s.parent?.isOpponent?"O":"P",i=Number.isFinite(s.savedPosition)?s.savedPosition+1:0;return{id:`${e}:${i}:${s.name}`,label:`${t}${i} ${s.name}`}}(n))},()=>S(0,t.length-1));return{pet:t[r.index]??null,random:r.randomEvent}}const yb=(s,e,t,i,r,n,a)=>{if(n&&W(n)){const o=e?[...e]:[];return o.includes(n)||o.push(n),Y(s,o,!0)}let l=a?[...s.opponent.petArray,...s.petArray]:s.petArray;if(t&&i){const o=V(s,"Donut").filter(u=>!e?.includes(u)),c=V(s,"Blueberry").filter(u=>!e?.includes(u));(o.length>0||c.length>0)&&(l=[...o,...c])}else if(t){const o=V(s,"Donut").filter(c=>!e?.includes(c));o.length>0&&(l=o),r&&(l=l.filter(c=>50!==c.health||50!==c.attack||c.hasTrigger(void 0,"Pet","BehemothAbility")||c.hasTrigger(void 0,"Pet","GiantTortoiseAbility")),0===l.length&&(l=s.petArray))}else if(i){const o=V(s,"Blueberry").filter(c=>!e?.includes(c));o.length>0&&(l=o)}if(l=l.filter(o=>{let c=!0;return e&&(c=!e.includes(o)),c&&o.health>0}),r){const o=pb(l);l=l.filter(c=>50!==c.health||50!==c.attack),0===l.length&&(l=o)}return 0===l.length?{pet:null,random:!1}:bb("target.random-pet","Random pet target",l,n)},rr=(s,e,t,i,r,n,a)=>{if(n&&W(n)){const u=t?[...t]:[];return u.includes(n)||u.push(n),ie(s,e,!0,u)}const l=[],o=t??[];let c=!0;for(let u=0;u<e;u++){const g=yb(s,o,i,r,void 0,n,a);if(c=g.random,null==g.pet)break;o.push(g.pet),l.push(g.pet)}return{pets:l,random:c}},ie=(s,e,t=!1,i)=>{const r=[],n=i?[...i]:[],l=(o=>{let c=[...s.petArray,...s.opponent.petArray];if(!t){const u=V(s,"Donut").filter(b=>!o?.includes(b)),g=V(s,"Blueberry").filter(b=>!o?.includes(b)),d=V(s.opponent,"Donut").filter(b=>!o?.includes(b)),m=V(s.opponent,"Blueberry").filter(b=>!o?.includes(b));(u.length>0||g.length>0||d.length>0||m.length>0)&&(c=[...u,...g,...d,...m])}return c.filter(u=>{let g=!0;return o&&(g=!o.includes(u)),g&&u.health>0})})(n).length;for(let o=0;o<e;o++){const c=Y(s,n,t);if(null==c.pet)break;n.push(c.pet),r.push(c.pet)}return{pets:r,random:l>r.length}},Y=(s,e,t=!1)=>{let i=[...s.opponent.petArray,...s.petArray];if(!t){const r=V(s,"Donut").filter(o=>!e?.includes(o)),n=V(s,"Blueberry").filter(o=>!e?.includes(o)),a=V(s.opponent,"Donut").filter(o=>!e?.includes(o)),l=V(s.opponent,"Blueberry").filter(o=>!e?.includes(o));(r.length>0||n.length>0||a.length>0||l.length>0)&&(i=[...a,...l,...r,...n])}return i=i.filter(r=>{let n=!0;return e&&(n=!e.includes(r)),n&&r.health>0}),0===i.length?{pet:null,random:!1}:bb("target.random-living-pet","Random living pet target",i,void 0)};var sx=Math.floor,lx=Math.random;const cx=function ox(s,e){return s+sx(lx()*(e-s+1))},vb=function ux(s,e){var t=-1,i=s.length,r=i-1;for(e=void 0===e?i:e;++t<e;){var n=cx(t,r),a=s[n];s[n]=s[t],s[t]=a}return s.length=e,s},px=function hx(s){return vb(Um(s))},bx=function mx(s,e){return function gx(s,e){for(var t=-1,i=null==s?0:s.length,r=Array(i);++t<i;)r[t]=e(s[t],t,s);return r}(e,function(t){return s[t]})},fx=function Ax(s){return vb(function yx(s){return null==s?[]:bx(s,Zt(s))}(s))},xe=function kx(s){return(Jt(s)?px:fx)(s)};function Px(s){return s?`${s.parent?.isOpponent?"O":"P"}${Number.isFinite(s.savedPosition)?s.savedPosition+1:0} ${s.name}`:"unknown caller"}function Tx(s){const e=s.some(i=>!i.parent?.isOpponent),t=s.some(i=>i.parent?.isOpponent);return e&&t?"both teams":t?"opponent team":"player team"}function Ze(s,e,t,i){if(0===t.length)return{pet:null,random:!1};const r=L({key:s,label:`${Px(i)} -> ${e} (${Tx(t)}, ${t.length} options)`,options:t.map(n=>function Sx(s){const e=s.parent?.isOpponent?"opponent":"player",t=s.parent?.isOpponent?"O":"P",i=Number.isFinite(s.savedPosition)?s.savedPosition+1:0;return{id:`${e}:${i}:${s.name}`,label:`${t}${i} ${s.name}`}}(n))},()=>S(0,t.length-1));return{pet:t[r.index]??null,random:r.randomEvent}}function le(s){return!(!s||!W(s))}function Pt(s,e){return[...s.petArray].filter(t=>t.alive&&(!e||!e.includes(t)))}function ri(s,e,t,i){let r=[];for(const n of s){if(n===i||!n.alive)continue;if(0===r.length){r=[n];continue}const a=e(n),l=e(r[0]);a!==l?("max"===t?a>l:a<l)&&(r=[n]):r.push(n)}return r}function Tt(s,e,t,i){if(0===s.length)return{pets:[],random:!1};const r=xe(s);r.sort(t);const n=r.slice(0,e);let a=!1;return n.length===e&&r.length>e&&i(n[e-1])===i(r[e])&&(a=!0),{pets:n,random:a}}class Bx{asPlayerLike(){return this}getRandomPet(e,t,i,r,n,a){return yb(this.asPlayerLike(),e,t,i,r,n,a)}getRandomPets(e,t,i,r,n,a){return rr(this.asPlayerLike(),e,t,i,r,n,a)}getRandomEnemyPetsWithSillyFallback(e,t,i,r,n){return((s,e,t,i,r,n)=>{if(n&&W(n)){const a=t?[...t]:[];return a.includes(n)||a.push(n),rr(s,e,a,i,r,void 0,!0)}return rr(s.opponent,e,t,i,r,n)})(this.asPlayerLike(),e,t,i,r,n)}getPetsWithEquipmentWithSillyFallback(e,t){return((s,e,t)=>t&&W(t)?[...V(s,e),...V(s.opponent,e)]:V(s.opponent,e))(this.asPlayerLike(),e,t)}getRandomLivingPets(e){return ie(this.asPlayerLike(),e)}getAll(e,t,i){return((s,e,t,i)=>{if(t&&W(t))return{pets:[...s.petArray,...s.opponent.petArray].filter(a=>a.alive),random:!1};let r=e?[...s.petArray,...s.opponent.petArray]:[...s.petArray];return i&&(r=r.filter(n=>n!==t)),r=r.filter(n=>n.alive),{pets:r,random:!1}})(this.asPlayerLike(),e,t,i)}getPetsWithEquipment(e){return V(this.asPlayerLike(),e)}getPetsWithoutEquipment(e){return((s,e)=>{const t=[];for(const i of s.petArray)i.alive&&("Perk"===e?(!i.equipment||i.equipment.name.startsWith("ailment"))&&t.push(i):(!i.equipment||i.equipment.name!==e)&&t.push(i));return t})(this.asPlayerLike(),e)}getPetAtPosition(e){return ii(this.asPlayerLike(),e)}getMiddleFriend(e){return((s,e)=>{if(e&&W(e))return Y(s,[e],!0);const t=s.getPet(2);return t&&!t.alive?{pet:null,random:!1}:{pet:t??null,random:!1}})(this.asPlayerLike(),e)}getLastPet(e,t){return((s,e,t)=>{if(t&&W(t))return Y(s,[t],!0);for(const i of[...s.petArray].reverse())if(i.alive&&(!e||!e.includes(i)))return{pet:i,random:!1};return{pet:null,random:!1}})(this.asPlayerLike(),e,t)}getLastPets(e,t,i){return((s,e,t,i)=>{if(i&&W(i))return ie(s,e,!0,[i]);const r=[...s.petArray].filter(l=>l.alive&&(!t||!t.includes(l)));return 0===r.length?{pets:[],random:!1}:{pets:[...r].reverse().slice(0,e),random:!1}})(this.asPlayerLike(),e,t,i)}getHighestHealthPet(e,t){return((s,e,t)=>{if(le(t))return Y(s,[t],!0);const i=ri(s.petArray,r=>r.health,"max",e);return 0===i.length?{pet:null,random:!1}:Ze("target.highest-health","Highest health tie-break",i,t)})(this.asPlayerLike(),e,t)}getHighestAttackPet(e,t){return((s,e,t)=>le(t)?Y(s,[t],!0):Ze("target.highest-attack","Highest attack tie-break",ri(s.petArray,r=>r.attack,"max",e),t))(this.asPlayerLike(),e,t)}getHighestAttackPets(e,t,i){return((s,e,t,i)=>le(i)?ie(s,e,!0,[i]):Tt(Pt(s,t),e,(r,n)=>n.attack-r.attack,r=>r.attack))(this.asPlayerLike(),e,t,i)}getLowestAttackPets(e,t,i){return((s,e,t,i)=>le(i)?ie(s,e,!0,[i]):Tt(Pt(s,t),e,(r,n)=>r.attack-n.attack,r=>r.attack))(this.asPlayerLike(),e,t,i)}getLowestAttackPet(e,t){return((s,e,t)=>le(t)?Y(s,[t],!0):Ze("target.lowest-attack","Lowest attack tie-break",ri(s.petArray,r=>r.attack,"min",e),t))(this.asPlayerLike(),e,t)}getLowestHealthPet(e,t){return((s,e,t)=>le(t)?Y(s,[t],!0):Ze("target.lowest-health","Lowest health tie-break",ri(s.petArray,r=>r.health,"min",e),t))(this.asPlayerLike(),e,t)}getLowestHealthPets(e,t,i){return((s,e,t,i)=>le(i)?ie(s,e,!0,[i]):Tt(Pt(s,t),e,(r,n)=>r.health-n.health,r=>r.health))(this.asPlayerLike(),e,t,i)}getHighestHealthPets(e,t,i){return((s,e,t,i)=>le(i)?ie(s,e,!0,[i]):Tt(Pt(s,t),e,(r,n)=>n.health-r.health,r=>r.health))(this.asPlayerLike(),e,t,i)}getHighestTierPets(e,t,i){return((s,e,t,i)=>le(i)?ie(s,e,!0,[i]):Tt(Pt(s,t),e,(r,n)=>n.tier-r.tier,r=>r.tier))(this.asPlayerLike(),e,t,i)}getTierXOrLowerPet(e,t,i){return((s,e,t,i)=>{if(le(i))return Y(s,[i],!0);const r=[...s.petArray].filter(n=>n.alive&&n.tier<=e&&(!t||!t.includes(n)));return 0===r.length?{pet:null,random:!1}:Ze("target.tier-x-or-lower",`Tier ${e} or lower target`,r,i)})(this.asPlayerLike(),e,t,i)}get furthestUpPet(){for(const e of this.petArray)if(e.alive)return e;return null}getFurthestUpPet(e,t){return((s,e,t)=>{if(e&&W(e))return Y(s,[e],!0);for(const i of s.petArray)if(i.alive){if(t&&t.includes(i))continue;return{pet:i,random:!1}}return{pet:null,random:!1}})(this.asPlayerLike(),e,t)}getFurthestUpPets(e,t,i){return((s,e,t,i)=>{if(i&&W(i))return ie(s,e,!0,[i]);const r=[...s.petArray].filter(a=>a.alive&&(!t||!t.includes(a)));return 0===r.length?{pets:[],random:!1}:{pets:r.slice(0,e),random:!1}})(this.asPlayerLike(),e,t,i)}nearestPetsBehind(e,t,i){return((s,e,t,i)=>{if(t&&W(t)){const l=i?[...i]:[];return l.includes(t)||l.push(t),ie(s,e,!0,l)}return{pets:t.getPetsBehind(2*e).filter(l=>!i||!i.includes(l)).slice(0,e),random:!1}})(this.asPlayerLike(),e,t,i)}getThis(e){return((s,e)=>e&&W(e)?Y(s,[e],!0):{pet:e,random:!1})(this.asPlayerLike(),e)}getSpecificPet(e,t){return((s,e,t)=>e&&W(e)?Y(s,void 0,!0):t&&t.alive?{pet:t,random:!1}:{pet:null,random:!1})(this.asPlayerLike(),e,t)}nearestPetsAhead(e,t,i,r,n){return((s,e,t,i,r,n)=>{if(t&&W(t)){const o=i?[...i]:[];return o.includes(t)||o.push(t),ie(s,e,!0,o)}const a=[];let l=t.petAhead;for(;l&&!(a.length>=e);)n&&l.equipment?.name===n||(!i||!i.includes(l))&&a.push(l),l=l.petAhead;if(a.length<e&&r){let o=s.opponent.furthestUpPet;for(;o&&!(a.length>=e);)n&&o.equipment?.name===n||(!i||!i.includes(o))&&a.push(o),o=o.petBehind()}return{pets:a,random:!1}})(this.asPlayerLike(),e,t,i,r,n)}getStrongestPet(e){return((s,e)=>{if(le(e))return Y(s,[e],!0);let t=[],i=-1;const r=xe(s.petArray.filter(n=>n.alive));for(const n of r){const a=n.attack+n.health;a>i?(i=a,t=[n]):a===i&&t.push(n)}return 0===t.length?{pet:null,random:!1}:Ze("target.strongest-pet","Strongest pet tie-break",t,e)})(this.asPlayerLike(),e)}getManticoreMult(){return(s=>{const e=[];for(const t of s.petArray)if(t.hasTrigger(void 0,"Pet","ManticoreAbility"))for(const i of t.abilityList)"ManticoreAbility"===i.name&&e.push(i.level);return e})(this.asPlayerLike())}getPetsWithinXSpaces(e,t){return((s,e,t)=>{if(e&&W(e))return ie(s,2*t,!0,[e]);const i=e.savedPosition,r=[];for(const n of s.petArray)if(n.alive&&n!==e){const a=Math.abs(n.position-i);a>0&&a<=t&&r.push(n)}for(const n of s.opponent.petArray)n.alive&&i+n.position+1<=t&&r.push(n);return{pets:r,random:!1}})(this.asPlayerLike(),e,t)}getOppositeEnemyPet(e){return((s,e)=>{if(e&&W(e))return Y(s,[e],!0);const t=e.position;let i=ii(s.opponent,t);if(i&&i.alive)return{pet:i,random:!1};for(let r=1;r<=4;r++){if(i=ii(s.opponent,t+r),i&&i.alive)return{pet:i,random:!1};if(i=ii(s.opponent,t-r),i&&i.alive)return{pet:i,random:!1}}return{pet:null,random:!1}})(this.asPlayerLike(),e)}getRandomLivingPet(e){return Y(this.asPlayerLike(),e)}}class qx extends Bx{pushPetToFront(e,t=!1){((s,e,t)=>{ir(this,e,4,t,this.logService,this.abilityService)})(0,e,t)}pushPetToBack(e){((s,e)=>{ir(this,e,-4,!1,this.logService,this.abilityService)})(0,e)}pushPet(e,t=1,i){ir(this,e,t,i,this.logService,this.abilityService)}}class ai extends f{name="Dazed";equipmentClass="ailment-other"}class Xe extends f{name="Crisp";equipmentClass="ailment-other"}class ar extends f{name="Toasty";equipmentClass="ailment-other";uses=1;originalUses=1}const Gx=[{name:"FairyAbility",label:"FairyBall",perLevel:2},{name:"NurikabeAbility",label:"Nurikabe",perLevel:4,incrementUses:!0},{name:"FanMusselAbility",label:"Fan Mussel",perLevel:1,incrementUses:!0},{name:"GhostKittenAbility",label:"Ghost Kitten",perLevel:3}];class Ab{static applyDamage(e){const{pet:t,baseDamage:i,perkName:r,manticoreMultipliers:n,logService:a,afterDamage:l}=e,o=t.equipment;if(!o)return;let c=o.multiplier;for(let b of n)c+=b;const g=this.applyAbilityReductions(t,i*c),d=g.damage,m=this.buildLogMessage({pet:t,finalDamage:d,equipment:o,perkName:r,reductions:g.reductions,manticoreMultipliers:n});a.createLog({message:m,type:"ability",player:t.parent}),t.dealDamage(t,d),l&&l(t)}static applyAbilityReductions(e,t){let i=t;const r=[];for(const n of Gx){if(i<=0)break;if(!e.hasTrigger(void 0,"Pet",n.name))continue;let a=0;for(const l of e.abilityList){if(l.name!==n.name)continue;const o=l.level*n.perLevel;0!==o&&(a+=o,i=Math.max(0,i-o),n.incrementUses&&l.currentUses++)}a>0&&r.push({label:n.label,amount:a})}return{damage:i,reductions:r}}static buildLogMessage(e){let t=`${e.pet.name} took ${e.finalDamage} damage`;if(e.manticoreMultipliers.length>0)for(const i of e.manticoreMultipliers)t+=` x${i+1} (Manticore)`;e.equipment.multiplier>1&&(t+=e.equipment.multiplierMessage);for(const i of e.reductions)t+=` -${i.amount} (${i.label})`;return t+=` (${e.perkName}).`,t}}class ni extends f{name="Peanut";tier=7;equipmentClass="attack";power=0}class wt extends f{name="Peanut Butter";equipmentClass="attack";tier=7;power=0;uses=1;originalUses=1}class fb extends f{logService;name="White Truffle";equipmentClass="faint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new Hx(e,t,this.logService))};constructor(e){super(),this.logService=e}}class Hx extends h{equipment;logService;constructor(e,t,i){super({name:"WhiteTruffleAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const{tiger:t}=e,i=this.owner,r=4*this.equipment.multiplier;i.increaseAttack(r),this.logService.createLog({message:`${i.name} gained ${r} attack (White Truffle)${this.equipment.multiplierMessage}`,type:"equipment",player:i.parent});for(let n=0;n<this.equipment.multiplier;n++){let a=i.parent.opponent.getHighestAttackPet(void 0,i);a.pet&&(i.jumpAttackPrep(a.pet),i.jumpAttack(a.pet,t,null,a.random))}i.removePerk()}}class nr extends f{name="Salt";tier=4;equipmentClass="attack";uses=1;originalUses=1}class sr extends f{name="Cheese";equipmentClass="attack";uses=1;originalUses=1}class lr extends f{name="Fortune Cookie";equipmentClass="attack";constructor(){super()}}class or extends f{name="Pepper";equipmentClass="shield";uses=1;originalUses=1;power=0;originalPower=0}class cr extends f{name="Sleepy";equipmentClass="ailment-other"}class xt extends f{name="Maple Syrup";tier=4;equipmentClass="shield";power=0;originalPower=0;uses=3;originalUses=3}class ur extends f{name="Maple Syrup (Attack)";equipmentClass="attack";power=0;originalPower=0}class hr extends f{name="Guava";tier=3;equipmentClass="shield";power=3;originalPower=3;uses=1;originalUses=1}class Dx extends f{name="Guava (Attack)";equipmentClass="attack";power=3;originalPower=3}class kb extends f{name="Honeydew Melon";tier=5;equipmentClass="shield";power=10;originalPower=10;uses=1;originalUses=1}class Ox extends f{name="Honeydew Melon (Attack)";equipmentClass="attack";power=5;originalPower=5}function pr(s,e,t,i){if(!e||!i.includes(e))return s;let r=s;for(const n of t)r+=n;return r}function Sb(s,e,t){if("Icky"!==e?.name)return s;let i=2;for(const r of t)i+=r;return i+=(e.multiplier??1)-1,s*i}function Pb(s,e,t){const i=t?.includeGhostKitten??!1,r=t?.fairyMinimumOne??!1,n=t?.fairyRequiresPositiveDamage??!0,a=t?.nurikabeConsumesOnZeroHit??!1,l=t?.fanMusselConsumesOnZeroHit??!1;let o=e,c=0,u=0,g=0,d=0;const m=!n||o>0;if(s.hasTrigger(void 0,"Pet","FairyAbility")&&m){for(const v of s.abilityList)if("FairyAbility"==v.name){const A=2*v.level;c+=A,o=Math.max(0,o-A)}r&&o<1&&(o=1)}if(s.hasTrigger(void 0,"Pet","NurikabeAbility")&&(o>0||a&&e<=0))for(const v of s.abilityList)if("NurikabeAbility"==v.name){const A=4*v.level;u+=A,o>0&&(o=Math.max(0,o-A)),v.currentUses++}if(s.hasTrigger(void 0,"Pet","FanMusselAbility")&&(o>0||l&&e<=0))for(const v of s.abilityList)if("FanMusselAbility"==v.name){const A=v.level;g+=A,o>0&&(o=Math.max(0,o-A)),v.currentUses++}if(i&&s.hasTrigger(void 0,"Pet","GhostKittenAbility")&&o>0)for(const v of s.abilityList)if("GhostKittenAbility"==v.name){const A=3*v.level;d+=A,o=Math.max(0,o-A)}return{damage:o,fairyBallReduction:c,nurikabe:u,fanMusselReduction:g,ghostKittenReduction:d}}function gr(s,e,t,i,r=!1){let n=s.equipment?.multiplier??1,a=e.equipment?.multiplier??1;const l=["Cold","Weak","Spooked"],o=["Inked"];let u,g,c="defense"==e.equipment?.equipmentClass||"shield"==e.equipment?.equipmentClass||"ailment-defense"==e.equipment?.equipmentClass||r&&"shield-snipe"==e.equipment?.equipmentClass?e.equipment:null;if(null!=c)if("Strawberry"===c.name){const T=e.getSparrowLevel();T<=0||null!=c.uses&&c.uses<=0?c=null:c.power=5*T}else a=pr(a,c?.name??"",t,l),c.power=(c.originalPower??c.power??0)*a;if(r)u="attack-snipe"==s.equipment?.equipmentClass?s.equipment:null,g=(i??0)+(u?.power??0),c instanceof xt&&(c=null);else{u=s.equipment instanceof kb?new Ox:s.equipment instanceof xt?new ur:s.equipment instanceof hr?new Dx:"attack"==s.equipment?.equipmentClass||"ailment-attack"==s.equipment?.equipmentClass?s.equipment:null,null!=u&&(n=pr(n,u?.name??"",t,o),u.power=(u.originalPower??u.power??0)*n);let T=s.attack;"Monty"==s.name&&(T*=s.level+1),g=(i??T)+(u?.power??0)}let d=c?.power??0,m=e.getSparrowLevel();"Strawberry"===e.equipment?.name&&m>0&&(d+=5*m),e.equipment instanceof xt&&e.equipment.uses>0&&!r&&(g=Math.floor(g*Math.pow(.5,a))),u instanceof nr&&!r&&(g*=2+n-1),u instanceof ur&&!r&&(g=Math.floor(g*Math.pow(.5,n)));let y=!1;u instanceof lr&&!r&&0===L({key:"equipment.fortune-cookie",label:"Fortune Cookie outcome",options:[{id:"double-damage",label:"Double damage"},{id:"no-bonus",label:"No bonus"}]},()=>S(0,1)).index&&(g*=2+n-1,y=!0),u instanceof sr&&!r&&(g=Math.max(15,g)),g=Sb(g,e.equipment,t);let A,v="shield"==c?.equipmentClass||"shield-snipe"==c?.equipmentClass?0:1;void 0!==c?.minimumDamage&&(v=c.minimumDamage),A=g<=v&&d>0?Math.max(g,0):Math.max(v,g-d),"Inked"===s.equipment?.name&&A>0&&(A=Math.max(0,A-3)),c instanceof or&&(A=Math.min(A,e.health-1));const k=Pb(e,A,{includeGhostKitten:r,fairyMinimumOne:!0,fairyRequiresPositiveDamage:!1,nurikabeConsumesOnZeroHit:!0,fanMusselConsumesOnZeroHit:!0});return A=k.damage,{defenseEquipment:c,attackEquipment:u,damage:A,fortuneCookie:y,nurikabe:k.nurikabe,fairyBallReduction:k.fairyBallReduction,fanMusselReduction:k.fanMusselReduction,mapleSyrupReduction:0,ghostKittenReduction:k.ghostKittenReduction}}const Wx=["Weak","Cold","Icky","Spooked"];function Tb(s,e){if("Icky"!=e.equipment?.name)return s;let t=`${s}x2 (Icky)`;return e.equipment.multiplier>1&&(t+=e.equipment.multiplierMessage),t}function wb(s,e,t){const i=e.getManticoreMult();if(0===i.length||!Wx.includes(t.equipment?.name??""))return s;let n=s;for(const a of i)n+=` x${a+1} (Manticore)`;return n}function xb(s,e,t){let i=s;return e.nurikabe>0&&(i+=` -${e.nurikabe} (Nurikabe)`),(e.fairyBallReduction??0)>0&&(i+=` -${e.fairyBallReduction} (Fairy Ball)`),(e.fanMusselReduction??0)>0&&(i+=` -${e.fanMusselReduction} (Fan Mussel)`),(e.ghostKittenReduction??0)>0&&(i+=` -${e.ghostKittenReduction} (Ghost Kitten)`),t&&(e.mapleSyrupReduction??0)>0&&(i+=` -${e.mapleSyrupReduction} (Maple Syrup)`),i}function Rt(s,e,t){if(e.alive){if(t>=e.health&&"Bok Choy"==e.equipment?.name){let i=4*e.equipment.multiplier;s.createLog({message:`${e.name} gained ${i} health (Bok Choy) ${e.equipment.multiplierMessage} `,type:"equipment",player:e.parent}),e.increaseHealth(i),e.removePerk()}e.health-=t,e.health<=0&&(e.killedBy=s),t>0&&e.timesHurt++,e.health<1&&s.triggerKillEventsFor(e),t>0&&s.triggerHurtEventsFor(e,t)}}class Rb extends f{name="Ambrosia";tier=4;equipmentClass="shield";power=8;originalPower=8;uses=1;originalUses=1}class dr extends f{name="White Okra";tier=6;equipmentClass="shield";power=10;originalPower=10;uses=2;originalUses=2}class Lt extends f{logService;name="Strawberry";equipmentClass="shield";tier=1;uses=2;originalUses=2;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new Kx(e,t,this.logService))};constructor(e){super(),this.logService=e}}class Kx extends h{equipment;logService;constructor(e,t,i){super({name:"StrawberryAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,maxUses:t.originalUses,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner,i=t.parent.getLastPet();if(i.pet){const r=1*this.equipment.multiplier;this.logService.createLog({message:`${t.name} (Strawberry) gave ${i.pet.name} +${r} attack and +${r} health${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent,randomEvent:i.random}),i.pet.increaseAttack(r),i.pet.increaseHealth(r)}}}class Lb extends f{name="Blackberry";tier=3;equipmentClass="shop";constructor(){super()}}class zx{setAbilityEquipments(){"Eggplant"==this.equipment?.name?(this.equipment.callback(this.asPet()),this.eggplantTouched=!0):this.equipment?.callback&&this.equipment.callback(this.asPet())}getEquippedEquipmentInstance(e){return this.equipment??e}addAbility(e){this.abilityList.push(e)}removeAbility(e,t){const i=this.abilityList.length;return this.abilityList=this.abilityList.filter(r=>!(e&&r.name===e||t&&r.abilityType===t||!e&&!t)),this.abilityList.length<i}getAbilities(e,t){return this.abilityList.filter(i=>!(e&&!i.matchesTrigger(e)||t&&i.abilityType!==t))}getAbilitiesWithTrigger(e,t,i){return this.abilityList.filter(r=>!(e&&!r.matchesTrigger(e)||!r.canUse()||t&&r.abilityType!==t||i&&r.name!==i))}executeAbilities(e,t,i,r,n,a){if(this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(e,t,i,r,n,a);const l=this.getAbilitiesWithTrigger(e,"Pet");for(const c of l)if(c.execute(t,i,r,n,a),this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(e,t,i,r,n,a);const o=this.getAbilitiesWithTrigger(e,"Equipment");for(const c of o)if(c.execute(t,i,r,n,a),this.transformed&&this.transformedInto)return void this.transformedInto.executeAbilities(e,t,i,r,n,a)}activateAbilities(e,t,i,r,n){const a=this.getAbilities(e,i);for(const l of a)l.execute(t,r,void 0,void 0,n)}copyAbilities(e,t,i){this.transferAbilities(e,t,i,!0)}gainAbilities(e,t,i){this.transferAbilities(e,t,i,!1)}transferAbilities(e,t,i,r){const n=e.getAbilities(void 0,t);r&&this.removeAbility(void 0,t);for(const a of n){const l=a.copy(this.asPet());if(null==l)continue;i&&(l.abilityLevel=i,l.alwaysIgnorePetLevel=!0,l.reset()),l.native=!1;const o=l.abilityFunction,c=e.name;l.abilityFunction=u=>{const g=this.name;this.name=`${this.baseName??g}'s ${c}`;try{o(u)}finally{this.name=g}},this.addAbility(l)}}hasAbility(e,t){return this.getAbilities(e,t).length>0}hasTrigger(e,t,i){return this.getAbilitiesWithTrigger(e,t,i).length>0}isSellPet(){return!!(["Beaver","Duck","Pig","Pillbug","Kiwi","Mouse","Frog","Bass","Tooth Billed Pigeon","Marmoset","Capybara","Platypus"].includes(this.name)||this.originalAbilityList.filter(t=>t.matchesTrigger("ThisSold")&&"Pet"==t.abilityType).length>0)}isFaintPet(){return this.originalAbilityList.filter(e=>(e.matchesTrigger("PostRemovalFaint")||e.matchesTrigger("Faint"))&&"Pet"==e.abilityType).length>0}asPet(){return this}}class Qx extends zx{givePetEquipment(e,t=1){if(null!=e){if(this.alive){if("Bloated"===this.equipment?.name&&!e.equipmentClass?.startsWith("ailment"))return this.logService.createLog({message:`${this.name} blocked gaining ${e.name}. (Bloated)`,type:"equipment",player:this.parent}),void this.removePerk();if(!this.handleCorncobEquipment(e))if("ailment-attack"==e.equipmentClass||"ailment-defense"==e.equipmentClass||"ailment-other"==e.equipmentClass){if(this.applyAilmentEquipment(e,t))return}else this.applyStandardEquipment(e,t)}}else console.warn(`givePetEquipment called with null equipment for pet: ${this.name}`)}applyEquipment(e,t=1){null!=e&&(this.equipment=e,this.setEquipmentMultiplier(t),this.removeAbility(void 0,"Equipment"),this.equipment.callback&&this.equipment.callback(this.asPet()))}removePerk(e=!1){if(null==this.equipment)return;let t="ailment-attack"==this.equipment.equipmentClass||"ailment-defense"==this.equipment.equipmentClass||"ailment-other"==this.equipment.equipmentClass;e&&t||(this.lastLostEquipment=this.equipment,this.removeAbility(void 0,"Equipment"),this.equipment=null,t||this.abilityService.triggerPerkLossEvents(this.asPet(),this.lastLostEquipment?.name))}setEquipmentMultiplier(e=1){if(!this.equipment)return;let t=this.equipment.baseMultiplier??1;const i=this.equipment.multiplier??1;1===t&&1!==i&&(t=i),this.equipment.baseMultiplier=t;let r=t,n=[];const a=this.getPantherEquipmentMultiplierLevel();a>0&&"ailment-attack"!==this.equipment.equipmentClass&&"ailment-defense"!==this.equipment.equipmentClass&&"ailment-other"!==this.equipment.equipmentClass&&(r+=a,n.push(`x${a+1} (Panther)`)),e&&e>1&&(r+=e-1,n.push(`x${e} (Pandora's Box)`)),this.equipment.multiplier=r,this.equipment.multiplierMessage=n.length>0?` ${n.join(" ")}`:""}getPantherEquipmentMultiplierLevel(){const e=this.abilityList.filter(t=>"PantherAbility"===t.name).map(t=>Number(t.abilityLevel)).filter(t=>Number.isFinite(t)&&t>0);return 0===e.length?0:Math.max(...e)}handleCorncobEquipment(e){if("Corncob"!==e.name)return!1;const i=Math.max(1,Math.floor(e.effectMultiplier??1));return this.attack<=this.health?this.increaseAttack(i):this.increaseHealth(i),this.abilityService.triggerFoodEvents(this.asPet(),"corn"),!0}applyAilmentEquipment(e,t){return!(this.equipment?.name!==e.name&&(this.equipment instanceof Rb?(this.equipment.uses--,this.logService.createLog({message:`${this.name} blocked ${e.name}. (Ambrosia)`,type:"equipment",player:this.parent}),0==this.equipment.uses&&this.removePerk(),0):this.equipment instanceof dr?(this.logService.createLog({message:`${this.name} blocked ${e.name}. (White Okra)`,type:"equipment",player:this.parent}),this.removePerk(),0):this.equipment instanceof Lt&&this.getSparrowLevel()>0&&this.equipment.uses>0?(this.logService.createLog({message:`${this.name} blocked ${e.name}. (Strawberry)`,type:"equipment",player:this.parent}),this.removePerk(),0):(null!=this.equipment&&this.removePerk(!0),this.applyEquipment(e,t),this.abilityService.triggerAilmentGainEvents(this.asPet(),e.name),0)))}applyStandardEquipment(e,t){if(e instanceof Lb){this.applyEquipment(e,t);const i=1*e.multiplier,r=2*e.multiplier;this.increaseAttack(i),this.increaseHealth(r),this.logService.createLog({message:`${this.name} gained ${i} attack and ${r} health (Blackberry)${e.multiplierMessage}`,type:"equipment",player:this.parent})}else this.applyEquipment(e,t);this.abilityService.triggerPerkGainEvents(this.asPet(),e.name),this.abilityService.triggerFoodEvents(this.asPet(),e.name)}}class Yx extends Qx{petBehind(e=!1,t=!1){if(!this.parent)return null;for(let r=(void 0!==this.position?this.position:this.savedPosition)+1;r<5;r++){let n=this.parent.getPetAtPosition(r);if(t&&null!=n)return n;if(e&&null!=n&&!n.alive&&!n.seenDead)return null;if(null!=n&&n.alive)return n}return null}getManticoreMult(){const e=this.parent;if(!e||!e.petArray)return[];let t=[];for(let i of e.petArray)"Manticore"==i.name&&t.push(i.level);return t}getSparrowLevel(){const e=this.parent;if(!e||!Array.isArray(e.petArray))return 0;let t=0;for(let i of e.petArray)"Sparrow"==i.name&&(t=Math.max(t,i.level));return t}getPetsBehind(e,t){const i=this.getSillyRandomTargets(e,t);if(i.length>0)return i;let r=[],n=this.petBehind();for(t&&n&&n.equipment?.name===t&&(n=n.petBehind());n&&!(r.length>=e);)r.push(n),n=n.petBehind();return r}kitsuneCheck(){let e=this.petBehind(),t=!0;for(;e;){if("Kitsune"==e.name&&t)return!1;if(t=!1,"Kitsune"==e.name)return!0;e=e.petBehind()}return!1}get petAhead(){const e=this.parent;if(!e)return null;for(let i=(void 0!==this.position?this.position:this.savedPosition)-1;i>-1;i--){let r=e.getPetAtPosition(i);if(null!=r&&r.alive)return r}return null}get minExpForLevel(){return er(this.level)}getSillyRandomTargets(e,t){if(!this.parent?.opponent)return[];const i=this.equipment;if(!("string"==typeof i&&"Silly"===i||i&&"string"==typeof i.name&&"Silly"===i.name))return[];const a=[],l=[...[...this.parent.petArray,...this.parent.opponent.petArray].filter(o=>!(!o.alive||o===this.asPet()||t&&o.equipment?.name===t))];for(;a.length<e&&l.length>0;){const o=S(0,l.length-1);a.push(l.splice(o,1)[0])}return a}}class Jx extends Yx{initAbilities(){this.initAbilityUses(),this.setAbilityEquipments()}abilityValidCheck(){return!(null==this.savedPosition||this.equipment instanceof ai&&(this.logService.createLog({message:`${this.name}'s ability was not activated because of Dazed.`,type:"ability",player:this.parent}),1))}resetAbilityUses(){this.abilityList.forEach(e=>{e.reset()})}initAbilityUses(){this.abilityList.forEach(e=>{e.initUses()})}attackPet(e,t=!1,i,r=!1){!function jx(s,e,t=!1,i,r=!1){s.timesAttacked++;let n=gr(s,e,s.getManticoreMult(),i),a=n.attackEquipment,l=n.defenseEquipment,o=n.damage;const c=s.equipment instanceof cr;c&&(o=Math.floor(o/2));let d,u=s.equipment?.multiplier??1,g=e.equipment?.multiplier??1;if(s.currentTarget=e,t?(d=`${s.name} jump-attacks ${e.name} for ${o}.`,s.equipment instanceof fb&&(d+=" (White Truffle)")):d=`${s.name} attacks ${e.name} for ${o}.`,c&&(d+=" (Sleepy x0.5)"),a instanceof ni&&o>0)s.createLog({message:`${d} (Peanut)`,type:"attack",player:s.parent,sourcePet:s,targetPet:e,randomEvent:r}),Rt(s,e,o),e.killedBy=s,e.health=0;else if(a instanceof wt&&o>0&&a.uses>0)s.createLog({message:`${d} (Peanut Butter)`,type:"attack",player:s.parent,sourcePet:s,targetPet:e,randomEvent:r}),e.killedBy=s,Rt(s,e,o),e.health=0;else{if(Rt(s,e,o),null!=a){const y=a.power??0;let A="-";y>0&&(A="+");let k=`${A}${Math.abs(y)}`;a instanceof nr&&(k="x2"),a instanceof ur&&(k="x0.5"),a instanceof sr&&(k=o<=15?"=15":"+0"),a instanceof lr&&(r=!0,n.fortuneCookie?(k="x2",a.multiplier>1&&(k+=a.multiplierMessage)):k="x1"),d+=` (${a.name} ${k})`,u>1&&s.equipment&&(d+=s.equipment.multiplierMessage)}if(null!=l){const y=l.power??0;let v=Math.abs(y),A="-";if(y<0&&(A="+"),"Coconut"===l.name)d+=` (${l.name} block)`;else if("Strawberry"===l.name){let k=e.getSparrowLevel();k>0&&(v=5*k,d+=` (Strawberry -${v} (Sparrow))`)}else l instanceof or?(A=1==e.health?"!":"-",v="",d+=` (${l.name} ${A}${v})`):l instanceof xt?(v="x0.5",d+=` (${l.name} ${v})`):d+=` (${l.name} ${A}${v})`;g>1&&e.equipment&&(d+=e.equipment.multiplierMessage)}d=Tb(d,e),d=xb(d,n,!0),d=wb(d,s,e),s.createLog({message:d,type:"attack",player:s.parent,sourcePet:s,targetPet:e,randomEvent:r}),("skewer"==s.equipment?.equipmentClass?s.equipment:null)?.attackCallback?.(s,e)}c&&s.removePerk(),s.triggerAttackEventsFor(),s.applyCrisp();const m=s.parent.opponent?.petArray?.[0];m&&m.applyCrisp()}(this.asPet(),e,t,i,r)}applyCrisp(){const e=this.parent,t=e?.opponent;if(!e||!t)return;const i=t.getManticoreMult();for(let r of e.petArray)r.equipment instanceof Xe?Ab.applyDamage({pet:r,baseDamage:6,perkName:"Crisp",manticoreMultipliers:i,logService:this.logService,afterDamage:n=>n.removePerk()}):r.equipment instanceof ar&&r.equipment.uses>0&&Ab.applyDamage({pet:r,baseDamage:1,perkName:"Toasty",manticoreMultipliers:i,logService:this.logService,afterDamage:n=>{n.equipment.uses--,n.equipment.uses<=0&&n.removePerk()}})}snipePet(e,t,i,r,n,a,l,o,c){return function Ux(s,e,t,i,r,n,a,l,o="sniped",c){let u=!1;"Albatross"==s.petAhead?.name&&e.tier<=4&&(t+=3*s.petAhead.level,u=!0),"Albatross"==s.petBehind()?.name&&e.tier<=4&&(t+=3*s.petBehind().level,u=!0);let g=gr(s,e,s.getManticoreMult(),t,!0),d=g.attackEquipment,m=g.defenseEquipment,b=g.damage;"Kiwano"===s.equipment?.name&&b>0&&(b+=8,s.createLog({message:`${s.name} added +8 damage. (Kiwano)`,type:"equipment",player:s.parent}),s.removePerk()),Rt(s,e,b);let y=`${s.name} ${o} ${e.name} for ${b}.`;if(null!=c&&null!=s.equipment?.multiplier&&s.equipment.multiplier>1&&(y+=` (${c}*${s.equipment.multiplier})`),null!=m){e.useDefenseEquipment(!0);const v=m.power??0;let A=Math.abs(v),k="-";if(v<0&&(k="+"),"Coconut"===m.name)y+=` (${m.name} block)`;else if("Strawberry"===m.name){let F=e.getSparrowLevel();F>0&&(A=5*F,y+=` (Strawberry -${A} (Sparrow))`)}else y+=` (${m.name} ${k}${A})`;y+=m.multiplierMessage}if(null!=d&&"attack-snipe"==d.equipmentClass){const v=d.power??0;let A=Math.abs(v),k="-";v>0&&(k="+"),y+=` (${d.name} ${k}${A})`}return s.equipment?.multiplier&&s.equipment.multiplier>1&&(y+=s.equipment.multiplierMessage),r&&(y+=" (Tiger)"),u&&(y+=" (Albatross)"),a&&s.equipment&&(y+=` (${s.equipment.name})`),l&&(y+=" (Mana)"),y=Tb(y,e),y=wb(y,s,e),y=xb(y,g,!1),s.createLog({message:y,type:"attack",randomEvent:i,player:s.parent,sourcePet:s,targetPet:e,pteranodon:n}),null!=d&&"attack-snipe"==d.equipmentClass&&null!=s.equipment?.uses&&(s.equipment.uses-=1,s.equipment.uses<=0&&s.removePerk()),b}(this.asPet(),e,t,i,r,n,a,l,o,c)}calculateDamage(e,t,i,r=!1){return gr(this.asPet(),e,t,i,r)}resetPet(){!function Vx(s){s.health=s.originalHealth,s.attack=s.originalAttack,s.equipment=s.originalEquipment,s.lastLostEquipment=null,s.mana=s.originalMana,s.triggersConsumed=s.originalTriggersConsumed,s.foodsEaten=s.originalFoodsEaten,s.exp=s.originalExp,s.timesHurt=s.originalTimesHurt,s.timesAttacked=0,s.abilityCounter=0,s.transformed=!1,s.transformedInto=null,s.currentTarget=null,s.lastAttacker=null,s.killedBy=null,s.swallowedPets=[],s.targettedFriends.clear(),s.savedPosition=s.originalSavedPosition,s.abilityList=[...s.originalAbilityList],s.initAbilityUses(),s.done=!1,s.seenDead=!1,s.removed=!1,s.jumped=!1,s.clearFrontTriggered=!1;try{s.equipment?.reset()}catch(e){console.warn("equipment reset failed",s.equipment),console.error(e)}s.equipment&&(s.equipment.multiplier=s.equipment.baseMultiplier??1,s.equipment.multiplierMessage="")}(this.asPet())}jumpAttackPrep(e){this.abilityService.triggerBeforeAttackEvent(this),this.abilityService.triggerBeforeAttackEvent(e),this.abilityService.executeBeforeAttackTriggerOnly()}jumpAttack(e,t,i,r=!1){!function _x(s,e,t,i,r=!1){let n;e.lastAttacker=s,n=s.transformed?s.transformedInto??s:s,e.transformed&&(e=e.transformedInto??e),n.alive&&e.alive&&(n.attackPet(e,!0,i,r),e.attackPet(n),n.useAttackDefenseEquipment(),e.useAttackDefenseEquipment(),n.executeAfterAttackEvents(),n.triggerJumpEventsFor())}(this.asPet(),e,0,i,r)}get alive(){return this.health>0}setFaintEventIfPresent(){if(this.abilityService.triggerFaintEvents(this),this.mana>0){if(this.suppressManaSnipeOnFaint)return;this.abilityService.setManaEvent({priority:this.attack,callback:(e,t,i,r)=>{if(0==this.mana||this.kitsuneCheck())return;const a=this.parent.opponent.getRandomPet([],!1,!0,!1,this.asPet());null!=a.pet&&(this.snipePet(a.pet,this.mana,a.random,!1,!1,!1,!0),this.mana=0)},pet:this,triggerPet:this,tieBreaker:Je()})}}useDefenseEquipment(e=!1){this.canConsumeDefenseEquipment(e)&&(this.equipment.uses-=1,this.equipment.uses<=0&&this.removePerk())}useAttackDefenseEquipment(){this.canConsumeAttackDefenseEquipment()&&(this.equipment.uses-=1,this.equipment.uses<=0&&this.removePerk())}increaseAttack(e){let t=50;if("Behemoth"==this.name&&(t=100),e>0&&"Sad"===this.equipment?.name||!this.alive)return 0;const i=this.attack;return this.attack=Math.min(Math.max(this.attack+e,1),t),this.attack-i}increaseHealth(e){let t=50;if(("Behemoth"==this.name||"Giant Tortoise"==this.name)&&(t=100),e>0&&"Sad"===this.equipment?.name||!this.alive)return 0;const i=this.health;return this.health=Math.min(Math.max(this.health+e,1),t),this.abilityService.triggerFriendGainsHealthEvents(this),this.health-i}increaseSellValue(e){e<=0||(this.sellValue+=e)}dealDamage(e,t){t>0&&"Kiwano"===this.equipment?.name&&(t+=8,this.logService.createLog({message:`${this.name} added +8 damage. (Kiwano)`,type:"equipment",player:this.parent}),this.removePerk()),Rt(this.asPet(),e,t)}triggerHurtEventsFor(e,t){this.abilityService.triggerHurtEvents(e,t)}triggerKillEventsFor(e){this.abilityService.triggerKillEvents(this,e)}triggerAttackEventsFor(){this.abilityService.triggerAttacksEvents(this)}executeAfterAttackEvents(){this.abilityService.executeAfterAttackEvents()}triggerJumpEventsFor(){this.abilityService.triggerJumpEvents(this)}createLog(e){this.logService.createLog(e)}increaseExp(e){let t=this.level;this.increaseAttack(e),this.increaseHealth(e),this.exp=Math.min(this.exp+e,5);let i=this.level-t;i>0&&(this.baseSellValue+=i,this.sellValue+=i);for(let r=0;r<i;r++)this.logService.createLog({message:`${this.name} leveled up to level ${this.level}.`,type:"ability",player:this.parent}),this.abilityService.triggerLevelUpEvents(this),this.abilityService.executeFriendlyLevelUpToyEvents(),this.resetAbilityUses();for(let r=0;r<Math.min(e,5);r++)this.abilityService.triggerFriendGainedExperienceEvents(this)}increaseMana(e){this.mana+=e,this.mana=Math.min(this.mana,50),this.abilityService.triggerManaGainedEvents(this)}get level(){return this.exp<2?1:this.exp<5?2:3}get position(){const e=this.parent;return e?this.asPet()==e.pet0?0:this.asPet()==e.pet1?1:this.asPet()==e.pet2?2:this.asPet()==e.pet3?3:this.asPet()==e.pet4?4:this.savedPosition:this.savedPosition}canConsumeDefenseEquipment(e){return!(!this.equipment||"ailment-defense"!=this.equipment.equipmentClass&&"Icky"!=this.equipment.name&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&e&&"shield-snipe"!=this.equipment.equipmentClass||null==this.equipment.uses||"Strawberry"===this.equipment.name&&(this.getSparrowLevel()<=0||this.equipment.uses<=0))}canConsumeAttackDefenseEquipment(){return!(!this.equipment||null==this.equipment.uses||"Strawberry"===this.equipment.name&&(this.getSparrowLevel()<=0||this.equipment.uses<=0)||"attack"!=this.equipment.equipmentClass&&"defense"!=this.equipment.equipmentClass&&"shield"!=this.equipment.equipmentClass&&"snipe"!=this.equipment.equipmentClass&&"ailment-attack"!=this.equipment.equipmentClass&&"ailment-defense"!=this.equipment.equipmentClass&&"Icky"!=this.equipment.name||(isNaN(this.equipment.uses)&&console.warn("uses is NaN",this.equipment),0))}}class p extends Jx{logService;abilityService;name;baseName;tier;pack;hidden=!1;parent;health;attack;exp=0;equipment;equipmentUsesOverride;mana=0;suppressManaSnipeOnFaint=!1;triggersConsumed=0;foodsEaten=0;sellValue=1;baseSellValue=1;swallowedPets=[];belugaSwallowedPet=null;parrotCopyPet=null;parrotCopyPetBelugaSwallowedPet=null;sarcasticFringeheadSwallowedPet;friendsDiedBeforeBattle=0;timesHurt=0;timesAttacked=0;battlesFought=0;currentTarget;lastAttacker;killedBy;transformedInto=null;lastLostEquipment;abilityCounter=0;targettedFriends=new Set;originalHealth;originalAttack;originalMana;originalTriggersConsumed;originalFoodsEaten;originalEquipment;originalExp=0;originalTimesHurt=0;faintPet=!1;toyPet=!1;transformed=!1;removed=!1;startOfBattleTriggered=!1;jumped=!1;done=!1;seenDead=!1;eggplantTouched=!1;cherryTouched=!1;clearFrontTriggered=!1;maxAbilityUses=null;abilityList=[];originalAbilityList=[];savedPosition;originalSavedPosition;hasRandomEvents=!1;constructor(e,t,i){super(),this.logService=e,this.abilityService=t,At(this),this.parent=i}initPet(e,t,i,r,n,a){this.baseName=this.baseName??this.name;const l=e??this.exp??0;this.exp=l,this.health=t??this.health+l,this.attack=i??this.attack+l,this.mana=r??this.mana,this.triggersConsumed=a??this.triggersConsumed,this.originalHealth=this.health,this.originalAttack=this.attack,this.originalMana=this.mana,this.originalTriggersConsumed=this.triggersConsumed,this.originalFoodsEaten=this.foodsEaten,this.equipment=n,this.originalEquipment=n,this.originalExp=this.exp,this.baseSellValue=this.level,this.sellValue=this.baseSellValue,this.initAbilities(),this.originalAbilityList=[...this.abilityList]}}class mr extends p{logService;abilityService;name="Puma";tier=6;pack="Puppy";attack=6;health=5;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}const Cb=(s,e)=>{s.toy=e};class Xx extends qx{breakToy(e=!1){((s,e,t,i,r)=>{const n=a=>{if(t.createLog({message:`${a.name} broke!`,type:"ability",player:s,randomEvent:!1}),null==a.onBreak)return;const l=[{callback:a.onBreak.bind(a),priority:99}],o=a.level;for(const c of s.petArray)c instanceof mr&&l.push({callback:()=>{a.level=c.level,a.onBreak(r.gameApi,!0),a.level=o},priority:c.attack});l.sort((c,u)=>c.priority>u.priority?-1:c.priority<u.priority?1:0);for(const c of l)c.callback(r.gameApi)};if(null!=s.toy){const a=s.toy;s.brokenToy=a,n(a),s.toy=null}if(null!=s.hardToy){const a=s.hardToy;s.brokenHardToy=a,n(a),s.hardToy=null}e&&s.brokenToy&&Cb(s,s.brokenToy)})(this,e,this.logService,0,this.gameService)}setToy(e){Cb(this,e)}}class br extends p{logService;abilityService;name="Golden Retriever";tier=1;pack="Golden";hidden=!0;health=1;attack=1;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class a1 extends Xx{resolveTrumpetGainTarget(e){return((s,e)=>e&&W(e)?{player:0===L({key:"trumpets.silly-target-team",label:"Silly trumpet target team",options:[{id:"player",label:"Player team"},{id:"opponent",label:"Opponent team"}]},()=>S(0,1)).index?s:s.opponent,random:!0}:{player:s,random:!1})(this,e)}gainTrumpets(e,t,i,r,n,a){((s,e,t,i,r,n,a,l)=>{s.trumpets=Math.min(50,s.trumpets+=e);let c=t instanceof p&&null!=t.parent&&t.parent!==s?`${t.name} gave opponent ${e} trumpets. (${s.trumpets})`:`${t.name} gained ${e} trumpets. (${s.trumpets})`;a&&(c+=" (Cherry)"),i.createLog({message:c,type:"trumpets",player:s,pteranodon:r,pantherMultiplier:n,randomEvent:l})})(this,e,t,this.logService,i,r,n,a)}spendTrumpets(e,t,i){((s,e,t,i,r)=>{s.trumpets=Math.max(0,s.trumpets-=e),i.createLog({message:`${t.name} spent ${e} trumpets. (${s.trumpets})`,type:"trumpets",player:s,pteranodon:r})})(this,e,t,this.logService,i)}checkGoldenSpawn(){((s,e,t,i)=>{s.spawnedGoldenRetiever||s.petArray.length>1||0===s.trumpets||(e.setgoldenRetrieverSummonsEvent({priority:0,callback:(r,n,a)=>{const l=new br(t,e,s,s.trumpets,s.trumpets);t.createLog({message:`${s===n.player?"Player":"Opponent"} spawned Golden Retriever (${l.attack}/${l.health})`,type:"ability",player:s}),Be(s,l,0,!1,void 0,t,e,i),s.trumpets=0}}),s.spawnedGoldenRetiever=!0)})(this,this.abilityService,this.logService,this.gameService)}}class n1 extends a1{summonPetInFront(e,t){return((s,e,t,i,r,n)=>{if(5===s.petArray.length)return i.createLog({message:`No room to spawn ${t.name}!`,type:"ability",player:s}),{success:!1,randomEvent:!1};let a=!1;for(let c=0;c<e.position;c++)if(null==s.getPet(c)){a=!0;break}if(a)return Be(s,t,e.position-1,!1,e,i,r,n);const l=e.position,o=Math.min(l+1,4);return e.parent.setPet(l,null),null!=s.getPet(o)&&kt(s,o),s.setPet(o,e),Be(s,t,l,!1,e,i,r,n)})(this,e,t,this.logService,this.abilityService,this.gameService)}summonPetBehind(e,t){return((s,e,t,i,r,n)=>{if(5===s.petArray.length)return i.createLog({message:`No room to spawn ${t.name}!`,type:"ability",player:s}),{success:!1,randomEvent:!1};let a=!1;for(let l=0;l<e.position;l++)if(null==s.getPet(l)){a=!0;break}if(a){const l=e.position;e.parent.setPet(l,null);const o=Math.max(l-1,0);return null!=s.getPet(o)&&ft(s,o),s.setPet(o,e),Be(s,t,e.position+1,!1,e,i,r,n)}return Be(s,t,e.position+1,!1,e,i,r,n)})(this,e,t,this.logService,this.abilityService,this.gameService)}}class Fb extends n1{logService;abilityService;gameService;pet0;pet1;pet2;pet3;pet4;orignalPet0;orignalPet1;orignalPet2;orignalPet3;orignalPet4;pack="Turtle";toy=null;hardToy=null;brokenToy=null;brokenHardToy=null;originalToy=null;originalHardToy=null;trumpets=0;spawnedGoldenRetiever=!1;summonedBoatThisBattle=!1;isOpponent=!1;allPets=!1;tokenPets=!1;gold=0;pendingGoldFromMimic=0;futureShopBuffs=new Map;cannedAilments=[];constructor(e,t,i){super(),this.logService=e,this.abilityService=t,this.gameService=i,At(this)}alive(){return(()=>this.petArray.length>0)()}resetPets(){(s=>{s.pet0=s.orignalPet0,s.pet0?.resetPet(),s.pet1=s.orignalPet1,s.pet1?.resetPet(),s.pet2=s.orignalPet2,s.pet2?.resetPet(),s.pet3=s.orignalPet3,s.pet3?.resetPet(),s.pet4=s.orignalPet4,s.pet4?.resetPet(),s.orignalPet0=s.pet0,s.orignalPet1=s.pet1,s.orignalPet2=s.pet2,s.orignalPet3=s.pet3,s.orignalPet4=s.pet4,s.toy=s.originalToy,s.toy&&(s.toy.used=!1,s.toy.triggers=0,s.originalToy&&(s.toy.level=s.originalToy.level)),s.hardToy=s.originalHardToy,s.hardToy&&(s.hardToy.used=!1,s.hardToy.triggers=0,s.originalHardToy&&(s.hardToy.level=s.originalHardToy.level)),s.brokenToy=null,s.brokenHardToy=null,s.trumpets=0,s.spawnedGoldenRetiever=!1,s.summonedBoatThisBattle=!1,s.cannedAilments=[]})(this)}resetJumpedFlags(){(s=>{for(const e of s.petArray)e&&(e.jumped=!1)})(this)}setPet(e,t,i=!1){this.getPet(e),0==e&&(this.pet0=t,null!=t&&(this.pet0.savedPosition=0),i&&(this.orignalPet0=t)),1==e&&(this.pet1=t,null!=t&&(this.pet1.savedPosition=1),i&&(this.orignalPet1=t)),2==e&&(this.pet2=t,null!=t&&(this.pet2.savedPosition=2),i&&(this.orignalPet2=t)),3==e&&(this.pet3=t,null!=t&&(this.pet3.savedPosition=3),i&&(this.orignalPet3=t)),4==e&&(this.pet4=t,null!=t&&(this.pet4.savedPosition=4),i&&(this.orignalPet4=t)),i&&null!=t&&(t.originalSavedPosition=t.savedPosition)}getPet(e){switch(e){case 0:return this.pet0;case 1:return this.pet1;case 2:return this.pet2;case 3:return this.pet3;case 4:return this.pet4;default:return}}pushPetsForward(){db(this)}onionCheck(){(s=>{null!=s.pet0?.equipment&&s.pet0.equipment instanceof gb&&(s.pet0.equipment.callback(s.pet0),db(s))})(this)}summonPet(e,t,i=!1,r){return Be(this,e,t,i,r,this.logService,this.abilityService,this.gameService)}transformPet(e,t){((s,e,t,i,r)=>{const n=e?.parent??s;t.parent!==n&&(t.parent=n),n.setPet((()=>{for(let c=0;c<=4;c++)if(n.getPet(c)===e)return c;if(e?.transformedInto)for(let c=0;c<=4;c++)if(n.getPet(c)===e.transformedInto)return c;const o=Number(e?.savedPosition);if(Number.isInteger(o)&&o>=0&&o<=4)return o;for(let c=0;c<=4;c++)if(null==n.getPet(c))return c;return 0})(),t),n===r.gameApi.player?r.gameApi.playerTransformationAmount++:r.gameApi.opponentTransformationAmount++,e.transformed=!0,e.transformedInto=t,t.applyEquipment(t.equipment),i.triggerTransformEvents(e)})(this,e,t,this.abilityService,this.gameService)}pushForwardFromSlot(e){return ft(this,e)}pushBackwardFromSlot(e){return kt(this,e)}makeRoomForSlot(e){Ye(this,e)}get petArray(){let e=[];return null!=this.pet0&&e.push(this.pet0),null!=this.pet1&&e.push(this.pet1),null!=this.pet2&&e.push(this.pet2),null!=this.pet3&&e.push(this.pet3),null!=this.pet4&&e.push(this.pet4),e}handleDeath(e){je(e,this.logService)}checkPetsAlive(){((s,e)=>{s.pet0&&!s.pet0.alive&&!s.pet0.seenDead&&je(s.pet0,e),s.pet1&&!s.pet1.alive&&!s.pet1.seenDead&&je(s.pet1,e),s.pet2&&!s.pet2.alive&&!s.pet2.seenDead&&je(s.pet2,e),s.pet3&&!s.pet3.alive&&!s.pet3.seenDead&&je(s.pet3,e),s.pet4&&!s.pet4.alive&&!s.pet4.seenDead&&je(s.pet4,e)})(this,this.logService)}removeDeadPets(){return((s,e)=>{let t=!1;const i=[{pet:s.pet0,index:0},{pet:s.pet1,index:1},{pet:s.pet2,index:2},{pet:s.pet3,index:3},{pet:s.pet4,index:4}];for(const r of i)if(r.pet&&!r.pet.alive){switch(r.pet.removed=!0,r.index){case 0:s.pet0=void 0;break;case 1:s.pet1=void 0;break;case 2:s.pet2=void 0;break;case 3:s.pet3=void 0;break;case 4:s.pet4=void 0}e.triggerAfterFaintEvents(r.pet),t=!0}return t})(this,this.abilityService)}createDeathLog(e){ym(e,this.logService)}get opponent(){return Z(this.gameService.gameApi,this)}}class s1{logService;gameService;abilityService;toyService;player;opponent;constructor(e,t,i,r,n,a){this.logService=e,this.gameService=t,this.abilityService=i,this.toyService=r,this.player=n,this.opponent=a}applyPreBattleFriendDeathCounts(){const e=[this.player,this.opponent];for(const t of e)for(const i of t.petArray)i?.friendsDiedBeforeBattle&&this.abilityService.simulatePostRemovalFriendFaintsCounters(i,i.friendsDiedBeforeBattle)}abilityCycle(){this.emptyFrontSpaceCheck();let e=0;const t=1e5;for(;;){for(;this.abilityService.hasGlobalEvents;){const r=this.abilityService.peekNextHighestPriorityEvent();if(r&&this.abilityService.getPriorityNumber(r.abilityType)>=27&&(this.checkPetsAlive(),this.removeDeadPets())){this.resetClearFrontFlags(),this.emptyFrontSpaceCheck();continue}const n=this.abilityService.getNextHighestPriorityEvent();if(!n){console.error("AbilityCycle: Expected event from queue but got null. Queue state inconsistent.");break}if(e++,e>t){const a=this.abilityService.getQueueSnapshot().map(c=>c.abilityType??"unknown"),l=new Map;for(const c of a)l.set(c,(l.get(c)??0)+1);const o=Array.from(l.entries()).sort((c,u)=>u[1]-c[1]).slice(0,10).map(([c,u])=>`${c}:${u}`).join(", ");throw new Error(`Ability cycle overflow: processed>${t}. Last=${n.abilityType??"unknown"}. QueueLen=${a.length}. Top=[${o}]`)}this.abilityService.executeEventCallback(n),this.checkPetsAlive()}if(this.removeDeadPets()&&(this.resetClearFrontFlags(),this.emptyFrontSpaceCheck()),!this.abilityService.hasGlobalEvents){this.player.checkGoldenSpawn(),this.opponent.checkGoldenSpawn();break}}}checkPetsAlive(){this.player.checkPetsAlive(),this.opponent.checkPetsAlive()}removeDeadPets(){let e=!1;return e=this.player.removeDeadPets(),e=this.opponent.removeDeadPets()||e,e}emptyFrontSpaceCheck(){if(null==this.player.pet0)this.abilityService.triggerEmptyFrontSpaceEvents(this.player);else for(const e of this.player.petArray)e.clearFrontTriggered=!1;if(null==this.opponent.pet0)this.abilityService.triggerEmptyFrontSpaceEvents(this.opponent);else for(const e of this.opponent.petArray)e.clearFrontTriggered=!1;null==this.player.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.player),null==this.opponent.pet0&&this.abilityService.triggerEmptyFrontSpaceToyEvents(this.opponent),this.abilityService.executeEmptyFrontSpaceToyEvents()}initToys(){this.registerStartOfBattleToyEvents(this.player),this.registerStartOfBattleToyEvents(this.opponent)}getActiveToys(e){const t=[];return e.toy&&t.push(e.toy),e.hardToy&&t.push(e.hardToy),t}registerStartOfBattleToyEvents(e){const t=this.getActiveToys(e);for(const i of t){const r=i.startOfBattle;r&&this.toyService.setStartOfBattleEvent({callback:()=>{if(e.toy!==i&&e.hardToy!==i)return;r.call(i,this.gameService.gameApi);const n=i.level;for(const a of e.petArray)a instanceof mr&&(i.level=a.level,r.call(i,this.gameService.gameApi,!0),i.level=n)},priority:i.tier,player:e,customParams:{toyName:i.name,suppressFriendFaintLog:i.suppressFriendFaintLog}})}}initializeEquipmentMultipliers(){for(let e of this.player.petArray)e.equipment&&e.setEquipmentMultiplier();for(let e of this.opponent.petArray)e.equipment&&e.setEquipmentMultiplier()}resetClearFrontFlags(){for(const e of this.player.petArray)e.clearFrontTriggered=!1;for(const e of this.opponent.petArray)e.clearFrontTriggered=!1}}class l1{ctx;constructor(e){this.ctx=e}executeBattleLoop(){for(;this.ctx.getBattleStarted();)this.nextTurn()}startBattle(){this.reset(),this.ctx.setBattleStarted(!0),this.ctx.setTurns(0)}reset(){this.ctx.player.resetPets(),this.ctx.opponent.resetPets()}nextTurn(){let e=!1,t=null;this.ctx.setTurns(this.ctx.getTurns()+1);let i=this.ctx.player.alive(),r=this.ctx.opponent.alive();if(i&&!r){const n=this.tryAllEnemiesFaintedToyTrigger(this.ctx.player,this.ctx.opponent);if(r=this.ctx.opponent.alive(),!n){t=this.ctx.player;const a=this.ctx.getBattle();a&&(a.winner="player"),this.ctx.incrementPlayerWinner(),e=!0}}if(!i&&r){const n=this.tryAllEnemiesFaintedToyTrigger(this.ctx.opponent,this.ctx.player);if(i=this.ctx.player.alive(),!n){t=this.ctx.opponent;const a=this.ctx.getBattle();a&&(a.winner="opponent"),this.ctx.incrementOpponentWinner(),e=!0}}if(!i&&!r&&(this.ctx.incrementDraw(),e=!0),e)return this.ctx.logService.printState(this.ctx.player,this.ctx.opponent),this.endLog(t),void this.ctx.setBattleStarted(!1);if(this.ctx.getTurns()>=this.ctx.maxTurns&&(this.ctx.incrementDraw(),e=!0),e)return this.ctx.logService.printState(this.ctx.player,this.ctx.opponent),this.endLog(t),void this.ctx.setBattleStarted(!1);for(this.pushPetsForwards(),this.ctx.logService.printState(this.ctx.player,this.ctx.opponent);;){let n=this.ctx.player.pet0,a=this.ctx.opponent.pet0;this.ctx.player.pet0&&this.ctx.abilityService.triggerBeforeAttackEvent(this.ctx.player.pet0),this.ctx.opponent.pet0&&this.ctx.abilityService.triggerBeforeAttackEvent(this.ctx.opponent.pet0),this.ctx.abilityService.executeBeforeAttackEvents(),this.ctx.abilityEngine.checkPetsAlive();do{this.ctx.abilityEngine.abilityCycle()}while(this.ctx.abilityService.hasAbilityCycleEvents);if(!this.ctx.player.alive()||!this.ctx.opponent.alive())return;if(this.pushPetsForwards(),n&&n.transformed&&(n=n.transformedInto??n),a&&a.transformed&&(a=a.transformedInto??a),this.ctx.player.pet0==n&&this.ctx.opponent.pet0==a)break}this.ctx.player.resetJumpedFlags(),this.ctx.opponent.resetJumpedFlags(),this.fight(),this.ctx.abilityEngine.checkPetsAlive();do{this.ctx.abilityEngine.abilityCycle()}while(this.ctx.abilityService.hasAbilityCycleEvents)}fight(){const e=this.ctx.player.pet0,t=this.ctx.opponent.pet0;!e||!t||(e.attackPet(t),t.attackPet(e),e.useAttackDefenseEquipment(),t.useAttackDefenseEquipment(),this.ctx.gameService.gameApi.FirstNonJumpAttackHappened=!0,this.ctx.abilityService.executeAfterAttackEvents(),this.ctx.abilityEngine.checkPetsAlive())}pushPetsForwards(){this.ctx.player.pushPetsForward(),this.ctx.opponent.pushPetsForward()}endLog(e){let t;t=null==e?"Draw":e==this.ctx.player?"Player is the winner":"Opponent is the winner",this.ctx.logService.createLog({message:t,type:"board"})}tryAllEnemiesFaintedToyTrigger(e,t){const i=[e.toy,e.hardToy].filter(r=>null!=r?.allEnemiesFainted);if(0===i.length)return!1;for(const r of i)r?.allEnemiesFainted?.(this.ctx.gameService.gameApi);return t.alive()}}class h1{logService;gameService;abilityService;petService;equipmentService;toyService;player;opponent;battleStarted=!1;turns=0;maxTurns=71;currBattle=null;battles=[];playerWinner=0;opponentWinner=0;draw=0;abilityEngine;eventProcessor;petFormCache=new WeakMap;constructor(e,t,i,r,n,a){this.logService=e,this.gameService=t,this.abilityService=i,this.petService=r,this.equipmentService=n,this.toyService=a,this.logService=se(this.logService),this.player=new Fb(this.logService,i,t),this.opponent=new Fb(this.logService,i,t),this.opponent.isOpponent=!0,this.gameService.init(this.player,this.opponent),this.abilityEngine=new s1(this.logService,this.gameService,this.abilityService,this.toyService,this.player,this.opponent),this.eventProcessor=new l1({player:this.player,opponent:this.opponent,logService:this.logService,gameService:this.gameService,abilityService:this.abilityService,abilityEngine:this.abilityEngine,maxTurns:this.maxTurns,getBattle:()=>this.currBattle,setBattle:o=>{this.currBattle=o},getBattleStarted:()=>this.battleStarted,setBattleStarted:o=>{this.battleStarted=o},getTurns:()=>this.turns,setTurns:o=>{this.turns=o},incrementPlayerWinner:()=>{this.playerWinner+=1},incrementOpponentWinner:()=>{this.opponentWinner+=1},incrementDraw:()=>{this.draw+=1}})}run(e,t){const i=function c1(s){if(null==s||!Number.isFinite(s))return()=>{};const e=function u1(s){let e=s>>>0;return()=>{e=e+1831565813>>>0;let t=Math.imul(e^e>>>15,1|e);return t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296}}(Math.trunc(s)),t=Math,i=t.random;return t.random=e,()=>{t.random=i}}(e.seed);let r,n={playerWins:0,opponentWins:0,draws:0,battles:[]};!function Gw(s){const e=new Map,t=new Map;for(const i of s?.overrides??[]){if(!i||!Number.isFinite(i.index))continue;const r=Math.trunc(i.index);if(r<0)continue;const n=`${i.optionId??""}`.trim();if(!n)continue;const a=`${i.key??""}`.trim(),l=`${i.label??""}`.trim();a&&l&&t.set(mb(a,l),n),e.set(r,n)}St={capture:!!s?.capture,strictValidation:!1!==s?.strictValidation,overridesByIndex:e,overridesByFingerprint:t,decisions:[],invalidOverrideError:null}}({capture:e.captureRandomDecisions,overrides:e.randomDecisionOverrides,strictValidation:!1!==e.strictRandomOverrideValidation});try{let a=e.simulationCount||1e3;const l=!1!==e.logsEnabled;let o=0;const c=t?.onProgress&&null!=t.progressInterval?Math.max(1,t.progressInterval):null;this.logService.setEnabled(l),this.logService.setDeferDecorations(!0),this.resetSimulation(),this.setupGameEnvironment(e),e.optimizeDeterministicSimulations&&function o1(s,e,t,i){if(s.komodoShuffle||s.oldStork||s.playerToy&&i.isToyRandom(s.playerToy)||s.opponentToy&&i.isToyRandom(s.opponentToy))return!1;const r=n=>{if(!n)return!0;for(let a=0;a<n.length;a++){const l=n[a];if(!l||!l.name)continue;if(e.isPetRandom(l.name))return!1;let o=null;if("string"==typeof l.equipment?o=l.equipment:l.equipment&&"object"==typeof l.equipment&&(o=l.equipment.name),o&&t.isEquipmentRandom(o))return!1}return!0};return!(!r(s.playerPets)||!r(s.opponentPets))}(e,this.petService,this.equipmentService,this.toyService)&&(a=1);let u=null==e.maxLoggedBattles?l?a:0:Math.max(0,e.maxLoggedBattles);u>a&&(u=a);for(let g=0;g<a&&!t?.shouldAbort?.();g++){const d=l&&u>0&&o<u;if(this.logService.setEnabled(d),this.initBattle(e,d),d&&(o+=1),this.prepareBattle(e),this.executeBattleLoop(),this.reset(),t?.onProgress&&null!=c){const m=g+1;(m%c===0||m===a)&&t.onProgress({completed:m,total:a,playerWins:this.playerWinner,opponentWins:this.opponentWinner,draws:this.draw,loggedBattles:this.battles.length})}if(t?.shouldAbort?.())break}n={playerWins:this.playerWinner,opponentWins:this.opponentWinner,draws:this.draw,battles:this.battles}}finally{i(),r=function Hw(){const s={decisions:St?.decisions??[],invalidOverrideError:St?.invalidOverrideError??null};return St=null,s}()}return n.randomDecisions=r.decisions,n.randomOverrideError=r.invalidOverrideError,n}resetSimulation(){this.playerWinner=0,this.opponentWinner=0,this.draw=0,this.battles=[],this.currBattle=null}setupGameEnvironment(e){let t=1;e.turn>2&&(t=2),e.turn>4&&(t=3),e.turn>6&&(t=4),e.turn>8&&(t=5),e.turn>10&&(t=6),this.gameService.setPreviousShopTier(t),this.gameService.setTurnNumber(e.turn),this.gameService.setGoldSpent(e.playerGoldSpent??10,e.opponentGoldSpent??10),this.gameService.gameApi.oldStork=e.oldStork??!1,this.gameService.gameApi.komodoShuffle=e.komodoShuffle??!1,this.gameService.gameApi.mana=e.mana??!1,this.gameService.gameApi.playerRollAmount=e.playerRollAmount??4,this.gameService.gameApi.opponentRollAmount=e.opponentRollAmount??4,this.gameService.gameApi.playerLevel3Sold=e.playerLevel3Sold??0,this.gameService.gameApi.opponentLevel3Sold=e.opponentLevel3Sold??0,this.petService.setCustomPackPools(e.customPacks??[]),this.player.pack=e.playerPack,this.opponent.pack=e.opponentPack;const i=a=>{switch(a){case"Turtle":return this.petService.turtlePackPets;case"Puppy":return this.petService.puppyPackPets;case"Star":return this.petService.starPackPets;case"Golden":return this.petService.goldenPackPets;case"Unicorn":return this.petService.unicornPackPets;case"Danger":return this.petService.dangerPackPets;default:return this.petService.playerCustomPackPets.get(a)||new Map}},r=i(e.playerPack),n=i(e.opponentPack);this.gameService.setTierGroupPets(r,n)}initBattle(e,t=!0){this.logService.reset(),this.abilityService.clearGlobalEventQueue(),t?(this.currBattle={winner:"draw",logs:this.logService.getLogs()},this.battles.push(this.currBattle)):this.currBattle=null,this.gameService.gameApi.opponentSummonedAmount=e.opponentSummonedAmount??0,this.gameService.gameApi.playerSummonedAmount=e.playerSummonedAmount??0,this.gameService.gameApi.opponentTransformationAmount=e.opponentTransformationAmount??0,this.gameService.gameApi.playerTransformationAmount=e.playerTransformationAmount??0}prepareBattle(e){this.reset(),this.createPets(this.player,e.playerPets),this.createPets(this.opponent,e.opponentPets),this.applyPreBattleFriendDeathCounts(),e.playerToy?(this.player.toy=this.toyService.createToy(e.playerToy,this.player,e.playerToyLevel??1),this.player.originalToy=this.player.toy):(this.player.toy=null,this.player.originalToy=null),e.playerHardToy?(this.player.hardToy=this.toyService.createToy(e.playerHardToy,this.player,e.playerHardToyLevel??1),this.player.originalHardToy=this.player.hardToy):(this.player.hardToy=null,this.player.originalHardToy=null),e.opponentToy?(this.opponent.toy=this.toyService.createToy(e.opponentToy,this.opponent,e.opponentToyLevel??1),this.opponent.originalToy=this.opponent.toy):(this.opponent.toy=null,this.opponent.originalToy=null),e.opponentHardToy?(this.opponent.hardToy=this.toyService.createToy(e.opponentHardToy,this.opponent,e.opponentHardToyLevel??1),this.opponent.originalHardToy=this.opponent.hardToy):(this.opponent.hardToy=null,this.opponent.originalHardToy=null),this.gameService.gameApi.playerHardToy=e.playerHardToy??null,this.gameService.gameApi.playerHardToyLevel=e.playerHardToyLevel??1,this.gameService.gameApi.opponentHardToy=e.opponentHardToy??null,this.gameService.gameApi.opponentHardToyLevel=e.opponentHardToyLevel??1,this.startBattle(),this.initToys(),this.abilityService.initSpecialEndTurnAbility(this.player),this.abilityService.initSpecialEndTurnAbility(this.opponent),this.gameService.gameApi.FirstNonJumpAttackHappened=!1,this.initializeEquipmentMultipliers(),this.logService.createLog({message:"Phase 1: Before battle",type:"board"}),this.logService.printState(this.player,this.opponent),this.abilityService.triggerBeforeStartOfBattleEvents(),this.abilityService.executeBeforeStartOfBattleEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);const t=i=>"Churros"===i.equipment?.name;this.logService.createLog({message:"Phase 2: Start of battle",type:"board"}),this.logService.printState(this.player,this.opponent),this.abilityService.triggerStartBattleEvents(t),this.abilityService.executeStartBattleEvents(),this.toyService.executeStartOfBattleEvents(),this.abilityService.triggerStartBattleEvents(i=>!t(i)),this.abilityService.executeStartBattleEvents(),this.checkPetsAlive();do{this.abilityCycle()}while(this.abilityService.hasAbilityCycleEvents);this.logService.createLog({message:"Phase 3: After Start of Battle",type:"board"}),this.logService.printState(this.player,this.opponent)}createPets(e,t){for(let i=0;i<5;i++){const r=t[i];if(!r||!r.name)continue;let n=this.petFormCache.get(r);n||(n=this.buildPetForm(r),this.petFormCache.set(r,n));const a=this.petService.createPet(n,e);e.setPet(i,a,!0)}}buildPetForm(e){const t=e.equipment;let i=null;"string"==typeof t?i={name:t}:t&&"object"==typeof t&&(i=t);const r=t&&"object"==typeof t?t:null;return{...e,name:e.name,attack:e.attack??0,health:e.health??0,exp:e.exp??0,mana:e.mana??0,triggersConsumed:e.triggersConsumed??0,foodsEaten:e.foodsEaten??0,equipment:i,equipmentUses:e.equipmentUses??("number"==typeof r?.uses?r.uses:null),battlesFought:e.battlesFought??0,timesHurt:e.timesHurt??0,friendsDiedBeforeBattle:e.friendsDiedBeforeBattle??0,abominationSwallowedPet1TimesHurt:e.abominationSwallowedPet1TimesHurt??0,abominationSwallowedPet2TimesHurt:e.abominationSwallowedPet2TimesHurt??0,abominationSwallowedPet3TimesHurt:e.abominationSwallowedPet3TimesHurt??0}}applyPreBattleFriendDeathCounts(){this.abilityEngine.applyPreBattleFriendDeathCounts()}executeBattleLoop(){this.eventProcessor.executeBattleLoop()}startBattle(){this.eventProcessor.startBattle()}reset(){this.eventProcessor.reset()}nextTurn(){this.eventProcessor.nextTurn()}fight(){this.eventProcessor.fight()}abilityCycle(){this.abilityEngine.abilityCycle()}checkPetsAlive(){this.abilityEngine.checkPetsAlive()}removeDeadPets(){return this.abilityEngine.removeDeadPets()}emptyFrontSpaceCheck(){this.abilityEngine.emptyFrontSpaceCheck()}initToys(){this.abilityEngine.initToys()}pushPetsForwards(){this.eventProcessor.pushPetsForwards()}endLog(e){this.eventProcessor.endLog(e)}initializeEquipmentMultipliers(){this.abilityEngine.initializeEquipmentMultipliers()}resetClearFrontFlags(){this.abilityEngine.resetClearFrontFlags()}}const et=JSON.parse('[{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and Spooked until next turn to the nearest friend ahead."},{"Level":2,"About":"End turn: Give +2 attack and Spooked until next turn to the nearest friend ahead."},{"Level":3,"About":"End turn: Give +3 attack and Spooked until next turn to the nearest friend ahead."}],"Id":"624","Name":"???","NameId":"Leafling","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Jump attack the second enemy for 3 damage."},{"Level":2,"About":"Start of battle: Jump attack the second enemy for 6 damage."},{"Level":3,"About":"Start of battle: Jump attack the second enemy for 9 damage."}],"Id":"388","Name":"African Wild Dog","NameId":"AfricanWildDog","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +1 mana."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +2 mana."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +3 mana."}],"Id":"626","Name":"Alchemedes","NameId":"AlchemistBug","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Give one random friend +1 attack and +1 health."},{"Level":2,"About":"Faint: Give one random friend +2 attack and +2 health."},{"Level":3,"About":"Faint: Give one random friend +3 attack and +3 health."}],"Id":"0","Name":"Ant","NameId":"Ant","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: If turn number is even, replace random ailments with +1 health on two friends."},{"Level":2,"About":"End turn: If turn number is even, replace random ailments with +2 health on two friends."},{"Level":3,"About":"End turn: If turn number is even, replace random ailments with +3 health on two friends."}],"Id":"628","Name":"Baku","NameId":"Baku","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make the last perk-less enemy Spooked."},{"Level":2,"About":"Start of battle: Make the two last perk-less enemies Spooked."},{"Level":3,"About":"Start of battle: Make the three last perk-less enemies Spooked."}],"Id":"621","Name":"Barghest","NameId":"Barghest","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give two random friends +1 attack."},{"Level":2,"About":"Sell: Give two random friends +2 attack."},{"Level":3,"About":"Sell: Give two random friends +3 attack."}],"Id":"3","Name":"Beaver","NameId":"Beaver","Tier":1,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"4","Name":"Bee","NameId":"Bee","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Walnut perk to nearest friend behind."},{"Level":2,"About":"Start of battle: Give Walnut perk with double effect to nearest friend behind."},{"Level":3,"About":"Start of battle: Give Walnut perk with triple effect to nearest friend behind."}],"Id":"88","Name":"Beetle","NameId":"Beetle","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Give one random friend +1 attack."},{"Level":2,"About":"End turn: Give one random friend +2 attack."},{"Level":3,"About":"End turn: Give one random friend +3 attack."}],"Id":"89","Name":"Bluebird","NameId":"Bluebird","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Two enemy attacks: Deal 1 damage to the first enemy. Works 2 times per battle."},{"Level":2,"About":"Two enemy attacks: Deal 2 damage to the first enemy. Works 2 times per battle."},{"Level":3,"About":"Two enemy attacks: Deal 3 damage to the first enemy. Works 2 times per battle."}],"Id":"401","Name":"Bombus Dahlbomii","NameId":"BombusDahlbomii","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain the Popcorn perk and +1 health."},{"Level":2,"About":"Start of battle: Gain the Popcorn perk and +2 health."},{"Level":3,"About":"Start of battle: Gain the Popcorn perk and +3 health."}],"Id":"775","Name":"Budgie","NameId":"Budgie","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"After first attack: Gain +2 attack."},{"Level":2,"About":"After first attack: Gain +4 attack."},{"Level":3,"About":"After first attack: Gain +6 attack."}],"Id":"189","Name":"Bulldog","NameId":"Bulldog","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 health for each roll (max 2)."},{"Level":2,"About":"Start of battle: Gain +2 health for each roll (max 2)."},{"Level":3,"About":"Start of battle: Gain +3 health for each roll (max 2)."}],"Id":"601","Name":"Bunyip","NameId":"Bunyip","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"85","Name":"Bus","NameId":"Bus","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"13","Name":"Chick","NameId":"Chick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Push the most healthy enemy one space forward."},{"Level":2,"About":"Start of battle: Push the most healthy enemy two spaces forward."},{"Level":3,"About":"Start of battle: Push the most healthy enemy three spaces forward."}],"Id":"541","Name":"Chihuahua","NameId":"Chihuahua","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Summon one 2/2 level 1 Loyal Chinchilla."},{"Level":2,"About":"Sell: Summon one 4/4 level 2 Loyal Chinchilla."},{"Level":3,"About":"Sell: Summon one 6/6 level 3 Loyal Chinchilla."}],"Id":"161","Name":"Chinchilla","NameId":"Chinchilla","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Stock one free copy of this pet\'s food perk."},{"Level":2,"About":"Sell: Stock two free copies of this pet\'s food perk."},{"Level":3,"About":"Sell: Stock three free copies of this pet\'s food perk."}],"Id":"184","Name":"Chipmunk","NameId":"Chipmunk","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Pack4"],"PacksRequired":["Pack2","Pack4"],"Rollable":true,"CustomArchetypes":["Perks","Mvp"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Cockroach and give it +1 experience."},{"Level":2,"About":"Faint: Summon one 1/1 Cockroach and give it +2 experience."},{"Level":3,"About":"Faint: Summon one 1/1 Cockroach and give it +3 experience."}],"Id":"18","Name":"Cockroach","NameId":"Cockroach","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend behind +2 health."},{"Level":2,"About":"Start of battle: Give the nearest friend behind +4 health."},{"Level":3,"About":"Start of battle: Give the nearest friend behind +6 health."}],"Id":"272","Name":"Cone Snail","NameId":"ConeSnail","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Does not provide shop rewards on level-up."},{"Level":2,"About":"Does not provide shop rewards on level-up."},{"Level":3,"About":"Does not provide shop rewards on level-up."}],"Id":"710","Name":"Cooked Roach","NameId":"CockroachToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"647","Name":"Cracked Egg","NameId":"EggLadCracked","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Cricket."},{"Level":2,"About":"Faint: Summon one 2/2 Cricket."},{"Level":3,"About":"Faint: Summon one 3/3 Cricket."}],"Id":"17","Name":"Cricket","NameId":"Cricket","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Attack and health can\'t go over 1."},{"Level":2,"About":"Attack and health can\'t go over 1."},{"Level":3,"About":"Attack and health can\'t go over 1."}],"Id":"788","Name":"Cuckoo Chick","NameId":"CuckooBaby","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Choose one witch toy that breaks after 2 turns."},{"Level":2,"About":"Sell: Choose one witch toy that breaks after 4 turns."},{"Level":3,"About":"Sell: Choose one witch toy that breaks after 6 turns."}],"Id":"611","Name":"Cuddle Toad","NameId":"CuddleToad","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"641","Name":"Daycrawler","NameId":"DayCrawler","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"58","Name":"Dirty Rat","NameId":"RatToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give shop pets +1 health."},{"Level":2,"About":"Sell: Give shop pets +2 health."},{"Level":3,"About":"Sell: Give shop pets +3 health."}],"Id":"26","Name":"Duck","NameId":"Duck","Tier":1,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Give left-most shop pet +2 health."},{"Level":2,"About":"Sell: Give left-most shop pet +4 health."},{"Level":3,"About":"Sell: Give left-most shop pet +6 health."}],"Id":"113","Name":"Duckling","NameId":"BabyDuck","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Remove 1 attack from the first enemy."},{"Level":2,"About":"Faint: Remove 1 attack from the first two enemies."},{"Level":3,"About":"Faint: Remove 1 attack from the first three enemies."}],"Id":"406","Name":"Ethiopian Wolf","NameId":"EthiopianWolf","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Takes 1 less damage. Works 2 times per turn."},{"Level":2,"About":"Takes 2 less damage. Works 2 times per turn."},{"Level":3,"About":"Takes 3 less damage. Works 2 times per turn."}],"Id":"408","Name":"Fan Mussel","NameId":"FanMussel","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Feed one Corncob to the nearest friend behind."},{"Level":2,"About":"Faint: Feed one Corncob to the nearest two friends behind."},{"Level":3,"About":"Faint: Feed one Corncob to the nearest three friends behind."}],"Id":"693","Name":"Farmer Mouse","NameId":"FarmerMouse","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Ferret toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Ferret toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Ferret toy."}],"Id":"172","Name":"Ferret","NameId":"Ferret","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"343","Name":"Fire Pup","NameId":"FirePup","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 1 damage to ALL pets within one space."},{"Level":2,"About":"Faint: Deal 1 damage to ALL pets within two spaces."},{"Level":3,"About":"Faint: Deal 1 damage to ALL pets within three spaces."}],"Id":"548","Name":"Firefly","NameId":"Firefly","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Level-up: Give two friends +1 attack and +1 health."},{"Level":2,"About":"Level-up: Give two friends +2 attack and +2 health."},{"Level":3,"About":"No ability."}],"Id":"32","Name":"Fish","NameId":"Fish","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +1 health per Faint friend."},{"Level":2,"About":"Start of battle: Gain +2 attack and +2 health per Faint friend."},{"Level":3,"About":"Start of battle: Gain +3 attack and +3 health per Faint friend."}],"Id":"198","Name":"Frilled Dragon","NameId":"FrilledDragon","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: If both adjacent friends are tier 2 or lower, swap their stats."},{"Level":2,"About":"Sell: If both adjacent friends are tier 4 or lower, swap their stats."},{"Level":3,"About":"Sell: If both adjacent friends are tier 6 or lower, swap their stats."}],"Id":"139","Name":"Frog","NameId":"Frog","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: If you have a toy, gain +2 health."},{"Level":2,"About":"Start of battle: If you have a toy, gain +4 health."},{"Level":3,"About":"Start of battle: If you have a toy, gain +6 health."}],"Id":"229","Name":"Gecko","NameId":"Gecko","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"644","Name":"Giant Eyes Dog","NameId":"GiantEyesDog","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Shop tier upgraded: Give the two nearest pets behind +1 health."},{"Level":2,"About":"Shop tier upgraded: Give the two nearest pets behind +2 health."},{"Level":3,"About":"Shop tier upgraded: Give the two nearest pets behind +3 health."}],"Id":"550","Name":"Gibbon","NameId":"Gibbon","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"648","Name":"Goat","NameId":"ChimeraGoat","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Always there for his friends!"},{"Level":2,"About":"Always there for his friends!"},{"Level":3,"About":"Always there for his friends!"}],"Id":"188","Name":"Golden Retriever","NameId":"GoldenRetriever","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give friends plenty of useful perks!"},{"Level":2,"About":"Start of battle: Give friends silly amounts of useful perks!"},{"Level":3,"About":"Start of battle: Give friends silly amounts of useful perks!"}],"Id":"658","Name":"Good Dog","NameId":"GoodDog","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 attack from the first enemy."},{"Level":2,"About":"Start of battle: Remove 2 attack from the first enemy."},{"Level":3,"About":"Start of battle: Remove 3 attack from the first enemy."}],"Id":"232","Name":"Goose","NameId":"Goose","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":7,"Health":13,"Abilities":[{"Level":1,"About":"Summoned: Deal 5 damage to ALL other pets."},{"Level":2,"About":"Summoned: Deal 10 damage to ALL other pets."},{"Level":3,"About":"Summoned: Deal 15 damage to ALL other pets."}],"Id":"335","Name":"Great One","NameId":"Cthulu","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Gain +1 trumpet."},{"Level":2,"About":"Faint: Gain +2 trumpets."},{"Level":3,"About":"Faint: Gain +3 trumpets."}],"Id":"233","Name":"Groundhog","NameId":"Groundhog","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack until next turn."},{"Level":2,"About":"Friend summoned: Give it +2 attack until next turn."},{"Level":3,"About":"Friend summoned: Give it +3 attack until next turn."}],"Id":"39","Name":"Horse","NameId":"Horse","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Give Strawberry perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Strawberry perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Strawberry perk to the three nearest friends behind."}],"Id":"138","Name":"Hummingbird","NameId":"Hummingbird","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Perks"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"643","Name":"Head","NameId":"HydraHead","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend transformed: Give it +1 to its highest stat until next turn."},{"Level":2,"About":"Friend transformed: Give it +2 to its highest stat until next turn."},{"Level":3,"About":"Friend transformed: Give it +3 to its highest stat until next turn."}],"Id":"417","Name":"Ili Pika","NameId":"IliPika","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Before battle: Transform into ANY useful level 1 pet from tier 1."},{"Level":2,"About":"Before battle: Transform into ANY useful level 1 pet from tier 2."},{"Level":3,"About":"Before battle: Transform into ANY useful level 1 pet from tier 3."}],"Id":"418","Name":"Iriomote Cat","NameId":"IriomoteCat","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +1 attack."},{"Level":2,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +2 attack."},{"Level":3,"About":"Hurt & Sell: Give the back-most friendly Strawberry pet +3 attack."}],"Id":"131","Name":"Kiwi","NameId":"Kiwi","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained perk: Gain +2 attack until next turn."},{"Level":2,"About":"Friendly gained perk: Gain +4 attack until next turn."},{"Level":3,"About":"Friendly gained perk: Gain +6 attack until next turn."}],"Id":"92","Name":"Ladybug","NameId":"Ladybug","Tier":1,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold next turn."},{"Level":2,"About":"Sell: Gain +2 gold next turn."},{"Level":3,"About":"Sell: Gain +3 gold next turn."}],"Id":"555","Name":"Lemming","NameId":"Lemming","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"650","Name":"Lion","NameId":"ChimeraLion","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"282","Name":"Lizard Tail","NameId":"LizardToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"183","Name":"Loyal Chinchilla","NameId":"ChinchillaToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Spend up to 1 gold and gain it back next turn."},{"Level":2,"About":"End turn: Spend up to 2 gold and gain it back next turn."},{"Level":3,"About":"End turn: Spend up to 3 gold and gain it back next turn."}],"Id":"239","Name":"Magpie","NameId":"Magpie","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Gain +1 health. Works 3 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Gain +2 health. Works 3 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Gain +3 health. Works 3 times per turn."}],"Id":"421","Name":"Malay Tapir","NameId":"MalayTapir","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Your next roll is free."},{"Level":2,"About":"Sell: Your next two rolls are free."},{"Level":3,"About":"Sell: Your next three rolls are free."}],"Id":"204","Name":"Marmoset","NameId":"Marmoset","Tier":1,"TierMax":2147483647,"Packs":["Pack3","Custom"],"PacksRequired":["Pack3","Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Attack for double damage."},{"Level":2,"About":"Attack for triple damage."},{"Level":3,"About":"Attack for quadruple damage."}],"Id":"384","Name":"Monty","NameId":"WhiteKillerRabbit","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Deal 1 damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 1 damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 1 damage to three random enemies."}],"Id":"47","Name":"Mosquito","NameId":"Mosquito","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give front-most friendly pet +2 attack."},{"Level":2,"About":"Start of battle: Give front-most friendly pet +4 attack."},{"Level":3,"About":"Start of battle: Give front-most friendly pet +6 attack."}],"Id":"141","Name":"Moth","NameId":"Moth","Tier":1,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Replace shop food with one free Apple."},{"Level":2,"About":"Sell: Replace shop food with one free Better Apple."},{"Level":3,"About":"Sell: Replace shop food with one free Best Apple."}],"Id":"48","Name":"Mouse","NameId":"Mouse","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend gained experience: Gain +1 attack until next turn."},{"Level":2,"About":"Friend gained experience: Gain +2 attack until next turn."},{"Level":3,"About":"Friend gained experience: Gain +3 attack until next turn."}],"Id":"362","Name":"Murmel","NameId":"Murloc","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Egg perk has regular effect."},{"Level":2,"About":"Egg perk has double effect."},{"Level":3,"About":"Egg perk has triple effect."}],"Id":"508","Name":"Nest","NameId":"Nest","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: If there are no friendly duplicates, gain +3 attack and +1 health."},{"Level":2,"About":"Start of battle: If there are no friendly duplicates, gain +6 attack and +2 health."},{"Level":3,"About":"Start of battle: If there are no friendly duplicates, gain +9 attack and +3 health."}],"Id":"757","Name":"Nudibranch","NameId":"Nudibranchs","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Give one random Faint pet in the shop +1 attack and +1 health."},{"Level":2,"About":"Sell: Give one random Faint pet in the shop +2 attack and +2 health."},{"Level":3,"About":"Sell: Give one random Faint pet in the shop +3 attack and +3 health."}],"Id":"187","Name":"Opossum","NameId":"Opossum","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Give one random friend +1 health."},{"Level":2,"About":"Buy: Give two random friends +1 health."},{"Level":3,"About":"Buy: Give three random friends +1 health."}],"Id":"51","Name":"Otter","NameId":"Otter","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Make adjacent perk-less pets Spooked."},{"Level":2,"About":"Faint: Make adjacent perk-less pets Spooked with double effect."},{"Level":3,"About":"Faint: Make adjacent perk-less pets Spooked with triple effect."}],"Id":"745","Name":"Peacock Spider","NameId":"PeacockSpider","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Gains mana: Gain 2 bonus mana. Works 2 times per turn."},{"Level":2,"About":"Gains mana: Gain 4 bonus mana. Works 2 times per turn."},{"Level":3,"About":"Gains mana: Gain 6 bonus mana. Works 2 times per turn."}],"Id":"627","Name":"Pengobble","NameId":"Pengobble","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it the Strawberry perk until next turn. Works 3 times per turn."}],"Id":"558","Name":"Pheasant","NameId":"Pheasant","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Perks"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 1 trumpet to deal 3 damage to one random enemy."},{"Level":2,"About":"Faint: Spend 1 trumpet to deal 3 damage to two random enemies."},{"Level":3,"About":"Faint: Spend 1 trumpet to deal 3 damage to three random enemies."}],"Id":"251","Name":"Pied Tamarin","NameId":"PiedTamarin","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"],"Random":true},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold."},{"Level":2,"About":"Sell: Gain +2 gold."},{"Level":3,"About":"Sell: Gain +3 gold."}],"Id":"59","Name":"Pig","NameId":"Pig","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Stock one free Bread Crumbs."},{"Level":2,"About":"Sell: Stock two free Bread Crumbs."},{"Level":3,"About":"Sell: Stock three free Bread Crumbs."}],"Id":"559","Name":"Pigeon","NameId":"Pigeon","Tier":1,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Stock one free Sleeping Pill."},{"Level":2,"About":"Sell: Stock two free Sleeping Pills."},{"Level":3,"About":"Sell: Stock three free Sleeping Pills."}],"Id":"149","Name":"Pillbug","NameId":"Pillbug","Tier":1,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give three random friends +1 attack and +1 health and remove this."},{"Level":2,"About":"Start of battle: Give three random friends +2 attack and +2 health and remove this."},{"Level":3,"About":"Start of battle: Give three random friends +3 attack and +3 health and remove this."}],"Id":"761","Name":"Pygmy Seahorse","NameId":"PygmySeahorse","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Choose one tier 1 food to stock at 1 gold."},{"Level":2,"About":"Sell: Choose one tier 1 food to stock at 1 gold. Stock two copies."},{"Level":3,"About":"Sell: Choose one tier 1 food to stock at 1 gold. Stock three copies."}],"Id":"704","Name":"Quoll","NameId":"Quoll","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Food","Perks"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"62","Name":"Ram","NameId":"Ram","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"638","Name":"Rock","NameId":"Rock","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Give it +1 health. Works 2 times per turn."},{"Level":2,"About":"Friend ahead hurt: Give it +2 health. Works 2 times per turn."},{"Level":3,"About":"Friend ahead hurt: Give it +3 health. Works 2 times per turn."}],"Id":"260","Name":"Silkmoth","NameId":"Silkmoth","Tier":1,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Sells for +2 gold extra, but lose 1 next turn."},{"Level":2,"About":"Sell: Sells for +4 gold extra, but lose 2 next turn."},{"Level":3,"About":"Sell: Sells for +6 gold extra, but lose 3 next turn."}],"Id":"566","Name":"Silverfish","NameId":"Silverfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"},{"Level":2,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"},{"Level":3,"About":"Has no special ability. Is kind of lame combat-wise. But he truly believes in you!"}],"Id":"71","Name":"Sloth","NameId":"Sloth","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"642","Name":"Smaller Slime","NameId":"SmallerSlime","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Smallest Slug."},{"Level":2,"About":"Faint: Summon one 2/2 Smallest Slug."},{"Level":3,"About":"Faint: Summon one 3/3 Smallest Slug."}],"Id":"270","Name":"Smaller Slug","NameId":"SlugToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"477","Name":"Smallest Slug","NameId":"SlugToken2","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"649","Name":"Snake","NameId":"ChimeraSnake","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Faint and summon one 4/2 Cracked Egg."},{"Level":2,"About":"Start of battle: Faint and summon one 8/4 Cracked Egg."},{"Level":3,"About":"Start of battle: Faint and summon one 12/6 Cracked Egg."}],"Id":"617","Name":"Sneaky Egg","NameId":"EggLadCovered","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Set attack to the current shop tier + 1."},{"Level":2,"About":"Start of turn: Set attack to the current shop tier + 2."},{"Level":3,"About":"Start of turn: Set attack to the current shop tier + 3."}],"Id":"571","Name":"Termite","NameId":"Termite","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give one random enemy +1 health."},{"Level":2,"About":"Faint: Give one random enemy +1 health."},{"Level":3,"About":"Faint: Give one random enemy +1 health."}],"Id":"713","Name":"Togian Babirusa","NameId":"TogianBabirusa","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Sell: Stock one free Seed Pile."},{"Level":2,"About":"Sell: Stock two free Seed Pile."},{"Level":3,"About":"Sell: Stock three free Seed Pile."}],"Id":"438","Name":"Tooth Billed Pigeon","NameId":"ToothBilledPigeon","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Jump to the front space and gain +1 experience."},{"Level":2,"About":"Start of battle: Jump to the front space and gain +2 experience."},{"Level":3,"About":"Start of battle: Jump to the front space and gain +3 experience."}],"Id":"379","Name":"Tsuchinoko","NameId":"Tsuchinoko","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Guard"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Make the nearest friend ahead Dazed."},{"Level":2,"About":"End turn: Make the two nearest friends ahead Dazed."},{"Level":3,"About":"End turn: Make the three nearest friends ahead Dazed."}],"Id":"746","Name":"Umbrella Bird","NameId":"LongWattledUmbrellabird","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Make one random perk-less enemy Toasty."},{"Level":2,"About":"Faint: Make two random perk-less enemies Toasty."},{"Level":3,"About":"Faint: Make three random perk-less enemies Toasty."}],"Id":"440","Name":"Volcano Snail","NameId":"VolcanoSnail","Tier":1,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friendly ate food: Give them +1 attack until next turn. Works 3 times per turn."},{"Level":2,"About":"Friendly ate food: Give them +2 attack until next turn. Works 3 times per turn."},{"Level":3,"About":"Friendly ate food: Give them +3 attack until next turn. Works 3 times per turn."}],"Id":"708","Name":"Weevil","NameId":"Weevil","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"646","Name":"Young Phoenix","NameId":"BabyPhoenix","Tier":1,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"86","Name":"Zombie Cricket","NameId":"CricketToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"31","Name":"Zombie Fly","NameId":"FlyToken","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Give three random friends +1 attack."},{"Level":2,"About":"Buy: Give three random friends +2 attack."},{"Level":3,"About":"Buy: Give three random friends +3 attack."}],"Id":"210","Name":"African Penguin","NameId":"AfricanPenguin","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Sell: Replace shop food with three random food and discount them by 1 gold."},{"Level":2,"About":"Sell: Replace shop food with three random food and discount them by 2 gold."},{"Level":3,"About":"Sell: Replace shop food with three random food and discount them by 3 gold."}],"Id":"686","Name":"Albino Squirrel","NameId":"AlbinoSquirrel","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the nearest friend ahead +1 attack on odd turns and +1 health on even."},{"Level":2,"About":"End turn: Give the nearest friend ahead +2 attack on odd turns and +2 health on even."},{"Level":3,"About":"End turn: Give the nearest friend ahead +3 attack on odd turns and +3 health on even."}],"Id":"811","Name":"Amphisbaena","NameId":"Amphisbaena","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Really angry!"},{"Level":2,"About":"Really angry!"},{"Level":3,"About":"Really angry!"}],"Id":"821","Name":"Angry Pygmy Hog","NameId":"AngryPygmyHog","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend jumped or transformed: Gain +3 health until next turn. Works 2 times per turn."},{"Level":2,"About":"Friend jumped or transformed: Gain +6 health until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend jumped or transformed: Gain +9 health until next turn. Works 2 times per turn."}],"Id":"394","Name":"Araripe Manakin","NameId":"AraripeManakin","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Guard"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Friendly attacked: Remove its Strawberry perk to deal 2 damage to the last enemy."},{"Level":2,"About":"Friendly attacked: Remove its Strawberry perk to deal 4 damage to the last enemy."},{"Level":3,"About":"Friendly attacked: Remove its Strawberry perk to deal 6 damage to the last enemy."}],"Id":"132","Name":"Atlantic Puffin","NameId":"AtlanticPuffin","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +1 experience."},{"Level":2,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +2 experience."},{"Level":3,"About":"Faint & Sell: Give one level 2 <b>Sell</b> friend +3 experience."}],"Id":"537","Name":"Bass","NameId":"Bass","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Make one random enemy Weak. Works 1 time per battle."},{"Level":2,"About":"Before attack: Make one random enemy Weak. Works 2 times per battle."},{"Level":3,"About":"Before attack: Make one random enemy Weak. Works 3 times per battle."}],"Id":"87","Name":"Bat","NameId":"Bat","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/3 Dolphin in the back and give it Rice."},{"Level":2,"About":"Faint: Summon two 2/3 Dolphins in the back and give them Rice."},{"Level":3,"About":"Faint: Summon three 2/3 Dolphins in the back and give them Rice."}],"Id":"213","Name":"Beluga Sturgeon","NameId":"BelugaSturgeon","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Gain one free roll next turn."},{"Level":2,"About":"Faint: Gain two free rolls next turn."},{"Level":3,"About":"Faint: Gain three free rolls next turn."}],"Id":"334","Name":"Bigfoot","NameId":"Bigfoot","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend lost perk: Give it Garlic. Works 1 time per turn."},{"Level":2,"About":"Friend lost perk: Give it Garlic. Works 2 times per turn."},{"Level":3,"About":"Friend lost perk: Give it Garlic. Works 3 times per turn."}],"Id":"758","Name":"Bilby","NameId":"Bilby","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Gain +2 trumpets."},{"Level":2,"About":"Faint: Gain +4 trumpets."},{"Level":3,"About":"Faint: Gain +6 trumpets."}],"Id":"215","Name":"Black Necked Stilt","NameId":"BlackNeckedStilt","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Knock out: Give +1 health to one random friend. Triggers 2 times."},{"Level":2,"About":"Knock out: Give +1 health to one random friend. Triggers 4 times."},{"Level":3,"About":"Knock out: Give +1 health to one random friend. Triggers 6 times."}],"Id":"339","Name":"Chupacabra","NameId":"Chupacabra","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain health equal to 25% of the most healthy friend."},{"Level":2,"About":"Start of battle: Gain health equal to 50% of the most healthy friend."},{"Level":3,"About":"Start of battle: Gain health equal to 75% of the most healthy friend."}],"Id":"16","Name":"Crab","NameId":"Crab","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 1 time per battle."},{"Level":2,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 2 times per battle."},{"Level":3,"About":"Enemy hurt: Jump-attack it, or the first enemy. Works 3 times per battle."}],"Id":"404","Name":"Darwin\'s Fox","NameId":"DarwinsFox","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from one tier above."},{"Level":2,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from two tiers above."},{"Level":3,"About":"Before attack: Spend 1 trumpet to transform into a level 1 <b>Faint</b> pet from three tiers above."}],"Id":"768","Name":"Desert Rain Frog","NameId":"DesertRainFrog","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +4 health in battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +8 health in battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +12 health in battle."}],"Id":"220","Name":"Door Head Ant","NameId":"DoorHeadAnt","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Activate three friendly Strawberries."},{"Level":2,"About":"Faint: Activate three friendly Strawberries with double effect."},{"Level":3,"About":"Faint: Activate three friendly Strawberries with triple effect."}],"Id":"24","Name":"Dove","NameId":"Dove","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give the two left-most shop pets +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give the two left-most shop pets +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give the two left-most shop pets +3 attack and +3 health."}],"Id":"104","Name":"Dromedary","NameId":"Dromedary","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and deal 3 damage to the last enemy in battle."},{"Level":2,"About":"Empty front space: Jump to the front and deal 6 damage to the last enemy in battle."},{"Level":3,"About":"Empty front space: Jump to the front and deal 9 damage to the last enemy in battle."}],"Id":"341","Name":"Drop Bear","NameId":"DropBear","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 1 gold."},{"Level":2,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 2 gold."},{"Level":3,"About":"Roll 3 times: Stock ANY food from the 3 last unlocked tiers and discount it by 3 gold."}],"Id":"545","Name":"Dumbo Octopus","NameId":"DumboOctopus","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to the least healthy enemy for each food eaten this turn, up to 3 food."},{"Level":2,"About":"Faint: Deal 6 damage to the least healthy enemy for each food eaten this turn, up to 3 food."},{"Level":3,"About":"Faint: Deal 9 damage to the least healthy enemy for each food eaten this turn, up to 3 food."}],"Id":"721","Name":"Dung Beetle","NameId":"DungBeetle","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption","Food"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Give adjacent friends +1 attack. Works 5 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Give adjacent friends +2 attack. Works 5 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Give adjacent friends +3 attack. Works 5 times per turn."}],"Id":"407","Name":"European Mink","NameId":"EuropeanMink","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Feed one Corncob to the nearest friend ahead."},{"Level":2,"About":"End turn: Feed one Corncob to the nearest two friends ahead."},{"Level":3,"About":"End turn: Feed one Corncob to the nearest three friends ahead."}],"Id":"690","Name":"Farmer Chicken","NameId":"FarmerChicken","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Give the two nearest friends behind +1 attack and +1 health."},{"Level":2,"About":"Faint: Give the two nearest friends behind +2 attack and +2 health."},{"Level":3,"About":"Faint: Give the two nearest friends behind +3 attack and +3 health."}],"Id":"29","Name":"Flamingo","NameId":"Flamingo","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friend gained ailment: Give it Rice. Works 1 time per turn."},{"Level":2,"About":"Friend gained ailment: Give it Rice. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Give it Rice. Works 3 times per turn."}],"Id":"137","Name":"Frigatebird","NameId":"Frigatebird","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Make the first enemy Cold."},{"Level":2,"About":"Faint: Make the first enemy Cold twice for double effect."},{"Level":3,"About":"Faint: Make the first enemy Cold thrice for triple effect."}],"Id":"344","Name":"Frost Wolf","NameId":"FrostWolf","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take +5 damage, once.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 2 damage to it."},{"Level":2,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 4 damage to it."},{"Level":3,"About":"Start of battle: Give Blueberry perk to the opposite enemy and deal 6 damage to it."}],"Id":"695","Name":"Fruit Fly","NameId":"FruitFly","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give the nearest friend behind +2 health. Spend mana to give 1 more per mana."},{"Level":2,"About":"Faint: Give the nearest friend behind +4 health. Spend mana to give 2 more per mana."},{"Level":3,"About":"Faint: Give the nearest friend behind +6 health. Spend mana to give 3 more per mana."}],"Id":"345","Name":"Gargoyle","NameId":"Gargoyle","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Takes 3 less damage from abilities."},{"Level":2,"About":"Takes 6 less damage from abilities."},{"Level":3,"About":"Takes 9 less damage from abilities."}],"Id":"346","Name":"Ghost Kitten","NameId":"GhostKitten","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 1 time per battle."},{"Level":2,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 2 times per battle."},{"Level":3,"About":"After attack: Copy perk to the back-most pets from BOTH teams. Works 3 times per battle."}],"Id":"800","Name":"Giant Squirrel","NameId":"GiantSquirrel","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Increase sell value by 1 gold."},{"Level":2,"About":"Start of turn: Increase sell value by 2 gold."},{"Level":3,"About":"Start of turn: Increase sell value by 3 gold."}],"Id":"121","Name":"Gold Fish","NameId":"GoldFish","Tier":2,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Gain +1 gold. Triple if attack is at least 10."},{"Level":2,"About":"Sell: Gain +2 gold. Triple if attack is at least 10."},{"Level":3,"About":"Sell: Gain +3 gold. Triple if attack is at least 10."}],"Id":"634","Name":"Golden Beetle","NameId":"DwarvenBeetle","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Cycle","Gold"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Summon one 1/1 Guinea Pig."},{"Level":2,"About":"Buy: Summon one 2/2 Guinea Pig."},{"Level":3,"About":"Buy: Summon one 3/3 Guinea Pig."}],"Id":"109","Name":"Guinea Pig","NameId":"GuineaPig","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 2 damage to ALL pets."},{"Level":2,"About":"Faint: Deal 4 damage to ALL pets."},{"Level":3,"About":"Faint: Deal 6 damage to ALL pets."}],"Id":"37","Name":"Hedgehog","NameId":"Hedgehog","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Sell: Give friends +1 attack for each battle this has fought evenly spread."},{"Level":2,"About":"Sell: Give friends +2 attack for each battle this has fought evenly spread."},{"Level":3,"About":"Sell: Give friends +3 attack for each battle this has fought evenly spread."}],"Id":"234","Name":"Hercules Beetle","NameId":"HerculesBeetle","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: If current perk is tier 2 or lower, copy it to the Golden Retriever when summoned."},{"Level":2,"About":"Start of battle: If current perk is tier 4 or lower, copy it to the Golden Retriever when summoned."},{"Level":3,"About":"Start of battle: If current perk is tier 6 or lower, copy it to the Golden Retriever when summoned."}],"Id":"783","Name":"Hermit Crab","NameId":"HermitCrab","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for one friend of each tier."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for one friend of each tier."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for one friend of each tier."}],"Id":"726","Name":"Honduran White Bat","NameId":"HonduranWhiteBat","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Enemy summoned or pushed: Deal 2 damage to it."},{"Level":2,"About":"Enemy summoned or pushed: Deal 4 damage to it."},{"Level":3,"About":"Enemy summoned or pushed: Deal 6 damage to it."}],"Id":"147","Name":"Iguana","NameId":"Iguana","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it +1 attack. Double if it jumped. Works 3 times per battle."},{"Level":2,"About":"Before friend attacks: Give it +2 attack. Double if it jumped. Works 3 times per battle."},{"Level":3,"About":"Before friend attacks: Give it +3 attack. Double if it jumped. Works 3 times per battle."}],"Id":"353","Name":"Jackalope","NameId":"Jackalope","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend level-up: Gain +1 attack and +1 health."},{"Level":2,"About":"Friend level-up: Gain +2 attack and +2 health."},{"Level":3,"About":"Friend level-up: Gain +3 attack and +3 health."}],"Id":"122","Name":"Jellyfish","NameId":"Jellyfish","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Gain +1 attack and +1 health."},{"Level":2,"About":"Friend ahead attacks: Gain +2 attack and +2 health."},{"Level":3,"About":"Friend ahead attacks: Gain +3 attack and +3 health."}],"Id":"40","Name":"Kangaroo","NameId":"Kangaroo","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Friend hurt: Give it the Eucalyptus perk. Works 1 time per turn."},{"Level":2,"About":"Friend hurt: Give it the Eucalyptus perk. Works 2 times per turn."},{"Level":3,"About":"Friend hurt: Give it the Eucalyptus perk. Works 3 times per turn."}],"Id":"112","Name":"Koala","NameId":"Koala","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Lemur toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Lemur toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Lemur toy."}],"Id":"236","Name":"Lemur","NameId":"Lemur","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Summon one 3/1 Lizard Tail. Works 2 times per turn."},{"Level":2,"About":"Hurt: Summon one 6/2 Lizard Tail. Works 2 times per turn."},{"Level":3,"About":"Hurt: Summon one 9/3 Lizard Tail. Works 2 times per turn."}],"Id":"237","Name":"Lizard","NameId":"Lizard","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: Replace own ailment with +2 attack and +2 health."},{"Level":2,"About":"Before attack: Replace own ailment with +4 attack and +4 health."},{"Level":3,"About":"Before attack: Replace own ailment with +6 attack and +6 health."}],"Id":"724","Name":"Mandarinfish","NameId":"Mandarinfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Break friendly tier 2 or lower toy."},{"Level":2,"About":"Faint: Break friendly tier 4 or lower toy."},{"Level":3,"About":"Faint: Break friendly tier 6 or lower toy."}],"Id":"405","Name":"Mandrill","NameId":"Drill","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give adjacent friends +1 attack for every 4 gold spent this turn."},{"Level":2,"About":"Start of battle: Give adjacent friends +2 attack for every 4 gold spent this turn."},{"Level":3,"About":"Start of battle: Give adjacent friends +3 attack for every 4 gold spent this turn."}],"Id":"203","Name":"Meerkat","NameId":"Meerkat","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Gain ANY useful perk from the previous tier."},{"Level":2,"About":"Start of battle: Gain ANY useful perk from the previous tier with double effect."},{"Level":3,"About":"Start of battle: Gain ANY useful perk from the previous tier with triple effect."}],"Id":"700","Name":"Mink","NameId":"Mink","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Anyone gained ailment: Gain +1 attack and +1 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Anyone gained ailment: Gain +2 attack and +2 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Anyone gained ailment: Gain +3 attack and +3 health until next turn. Works 5 times per turn."}],"Id":"604","Name":"Mothman","NameId":"Mothman","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon one Crawler with 3 attack, and +1 health for each friend summoned this turn."},{"Level":2,"About":"Faint: Summon one Crawler with 6 attack, and +2 health for each friend summoned this turn."},{"Level":3,"About":"Faint: Summon one Crawler with 9 attack, and +3 health for each friend summoned this turn."}],"Id":"605","Name":"Nightcrawler","NameId":"NightCrawler","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +1 experience."},{"Level":2,"About":"Start of battle: Give the two front-most friends +1 experience."},{"Level":3,"About":"Start of battle: Give the three front-most friends +1 experience."}],"Id":"639","Name":"Ogopogo","NameId":"Ogopogo","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Make one random enemy Spooked and multiply the effect once for each roll this turn."},{"Level":2,"About":"Faint: Make one random enemy Spooked and multiply the effect twice for each roll this turn."},{"Level":3,"About":"Faint: Make one random enemy Spooked and multiply the effect thrice for each roll this turn."}],"Id":"725","Name":"Olm","NameId":"Olm","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments","Roll"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Faint to give 50% attack and health to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Faint to give 100% attack and health to the nearest friend ahead."},{"Level":3,"About":"Start of battle: Faint to give 150% attack and health to the nearest friend ahead."}],"Id":"107","Name":"Panda","NameId":"Panda","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Hurt: Gain +3 attack."},{"Level":2,"About":"Hurt: Gain +6 attack."},{"Level":3,"About":"Hurt: Gain +9 attack."}],"Id":"54","Name":"Peacock","NameId":"Peacock","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Activate <b>End Turn</b> on one random tier 2 or lower friend."},{"Level":2,"About":"Faint: Activate <b>End Turn</b> on one random tier 4 or lower friend."},{"Level":3,"About":"Faint: Activate <b>End Turn</b> on one random tier 6 or lower friend."}],"Id":"732","Name":"Pink Robin","NameId":"PinkRobin","Tier":1,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Transform the nearest friend ahead into another pet from the same tier."},{"Level":2,"About":"Start of turn: Transform the nearest two friends ahead into other pets from the same tier."},{"Level":3,"About":"Start of turn: Transform the nearest three friends ahead into other pets from the same tier."}],"Id":"425","Name":"Proboscis Monkey","NameId":"ProboscisMonkey","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 5 attack and health."},{"Level":2,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 10 attack and health."},{"Level":3,"About":"Five enemy attacks: Transform into an Angry Hog with Garlic and at least 15 attack and health."}],"Id":"427","Name":"Pygmy Hog","NameId":"PygmyHog","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":["Transform","Summon"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 Dirty Rat up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."},{"Level":2,"About":"Faint: Summon two 1/1 Dirty Rats up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."},{"Level":3,"About":"Faint: Summon three 1/1 Dirty Rats up front for the opponent.","FinePrint":"Doesn\'t trigger any summon abilities."}],"Id":"57","Name":"Rat","NameId":"Rat","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give Strawberry perk and +2 attack to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Give Strawberry perk and +2 attack to the two nearest friends ahead."},{"Level":3,"About":"Start of battle: Give Strawberry perk and +2 attack to the three nearest friends ahead."}],"Id":"765","Name":"Roadrunner","NameId":"Roadrunner","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Give the back-most friend +1 attack and +1 health.","CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 2/3 level 1 Nest and give it Egg perk."},{"Level":2,"About":"Start of battle: Summon one 4/6 level 2 Nest and give it Egg perk."},{"Level":3,"About":"Start of battle: Summon one 6/9 level 3 Nest and give it Egg perk."}],"Id":"255","Name":"Robin","NameId":"Robin","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before attack: Deal 2 damage to target, once.","CustomArchetypes":["Cycle"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: If outnumbered, gain +2 attack and +2 health. Works 3 times per turn."},{"Level":2,"About":"Before attack: If outnumbered, gain +4 attack and +4 health. Works 3 times per turn."},{"Level":3,"About":"Before attack: If outnumbered, gain +6 attack and +6 health. Works 3 times per turn."}],"Id":"430","Name":"Saker Falcon","NameId":"SakerFalcon","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +1 health for each level of each Sell friend."},{"Level":2,"About":"Start of battle: Gain +2 attack and +2 health for each level of each Sell friend."},{"Level":3,"About":"Start of battle: Gain +3 attack and +3 health for each level of each Sell friend."}],"Id":"164","Name":"Salamander","NameId":"Salamander","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the highest attack friend -1 attack and +2 health."},{"Level":2,"About":"End turn: Give the two highest attack friends -1 attack and +2 health."},{"Level":3,"About":"End turn: Give the three highest attack friends -1 attack and +2 health."}],"Id":"431","Name":"Saola","NameId":"Saola","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +2 health until next turn."},{"Level":2,"About":"Friend summoned: Give it +4 health until next turn."},{"Level":3,"About":"Friend summoned: Give it +6 health until next turn."}],"Id":"191","Name":"Sea Turtle","NameId":"SeaTurtle","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Remove 5 health from the first enemy."},{"Level":2,"About":"Faint: Remove 5 health from the first two enemies."},{"Level":3,"About":"Faint: Remove 5 health from the first three enemies."}],"Id":"258","Name":"Sea Urchin","NameId":"SeaUrchin","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Push the last enemy one space forward."},{"Level":2,"About":"Start of battle: Push the last enemy two spaces forward."},{"Level":3,"About":"Start of battle: Push the last enemy three spaces forward."}],"Id":"152","Name":"Seahorse","NameId":"Seahorse","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend faints: If it had a Strawberry, summon one 2/2 friend in its place. Works 2 times per turn."},{"Level":2,"About":"Friend faints: If it had a Strawberry, summon one 4/4 friend in its place. Works 2 times per turn."},{"Level":3,"About":"Friend faints: If it had a Strawberry, summon one 6/6 friend in its place. Works 2 times per turn."}],"Id":"803","Name":"Shima Enaga","NameId":"ShimaEnaga","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend sold: Give one random friend +1 health. Works 3 times per turn."},{"Level":2,"About":"Friend sold: Give one random friend +2 health. Works 3 times per turn."},{"Level":3,"About":"Friend sold: Give one random friend +3 health. Works 3 times per turn."}],"Id":"67","Name":"Shrimp","NameId":"Shrimp","Tier":2,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: If you lost last battle, give the three nearest friends ahead +1 attack."},{"Level":2,"About":"End turn: If you lost last battle, give the three nearest friends ahead +2 attack."},{"Level":3,"About":"End turn: If you lost last battle, give the three nearest friends ahead +3 attack."}],"Id":"72","Name":"Snail","NameId":"Snail","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 adventurous toy."},{"Level":2,"About":"Buy: Choose one level 2 adventurous toy."},{"Level":3,"About":"Buy: Choose one level 3 adventurous toy."}],"Id":"376","Name":"Sphinx","NameId":"Sphinx","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one tier 3 pet as a 2/2 level 1."},{"Level":2,"About":"Faint: Summon one tier 3 pet as a 4/4 level 2."},{"Level":3,"About":"Faint: Summon one tier 3 pet as a 6/6 level 3."}],"Id":"74","Name":"Spider","NameId":"Spider","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Stock one random canned ailment."},{"Level":2,"About":"Start of turn: Stock two random canned ailments to choose from."},{"Level":3,"About":"Start of turn: Stock three random canned ailments to choose from."}],"Id":"735","Name":"Spotted Handfish","NameId":"SpottedHandfish","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 1 trumpet to make the first enemy Inked."},{"Level":2,"About":"Faint: Spend 1 trumpet to make the two first enemies Inked."},{"Level":3,"About":"Faint: Spend 1 trumpet to make the three first enemies Inked."}],"Id":"177","Name":"Squid","NameId":"Squid","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Summon one level 1 pet from your current tier as a 1/1."},{"Level":2,"About":"Sell: Summon one level 2 pet from your current tier as a 1/1."},{"Level":3,"About":"Sell: Summon one level 3 pet from your current tier as a 1/1."}],"Id":"263","Name":"Stoat","NameId":"Stoat","Tier":2,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle","Mvp"]},{"Attack":3,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Summon ANY one level 1 pet from the previous shop tier as a 2/2."},{"Level":2,"About":"Faint: Summon ANY one level 2 pet from the previous shop tier as a 4/4."},{"Level":3,"About":"Faint: Summon ANY one level 3 pet from the previous shop tier as a 6/6."}],"Id":"136","Name":"Stork","NameId":"Stork","Tier":2,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Gain +1 gold."},{"Level":2,"About":"Start of turn: Gain +2 gold."},{"Level":3,"About":"Start of turn: Gain +3 gold."}],"Id":"76","Name":"Swan","NameId":"Swan","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained perk: Give two random friends +1 health until next turn."},{"Level":2,"About":"Friendly gained perk: Give two random friends +2 health until next turn."},{"Level":3,"About":"Friendly gained perk: Give two random friends +3 health until next turn."}],"Id":"99","Name":"Tabby Cat","NameId":"TabbyCat","Tier":2,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform into a level 1 Frog and gain +2 experience."},{"Level":2,"About":"Start of battle: Transform into a level 1 Frog and gain +4 experience."},{"Level":3,"About":"Start of battle: Transform into a level 1 Frog and gain +6 experience."}],"Id":"805","Name":"Tadpole","NameId":"Tadpole","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Transform","Levels"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform into a level 1 Weasel."},{"Level":2,"About":"Start of battle: Transform into a level 2 Weasel."},{"Level":3,"About":"Start of battle: Transform into a level 3 Weasel."}],"Id":"435","Name":"Taita Shrew","NameId":"TaitaShrew","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Gold"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/2 African Wild Dog that jump-attacks the second enemy."},{"Level":2,"About":"Faint: Summon one 6/4 African Wild Dog that jump-attacks the second enemy."},{"Level":3,"About":"Faint: Summon one 9/6 African Wild Dog that jump-attacks the second enemy."}],"Id":"715","Name":"Takhi","NameId":"Takhi","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to one random enemy and prioritize those with ailments."},{"Level":2,"About":"Faint: Deal 6 damage to one random enemy and prioritize those with ailments."},{"Level":3,"About":"Faint: Deal 9 damage to one random enemy and prioritize those with ailments."}],"Id":"731","Name":"Thorny Dragon","NameId":"ThornyDragon","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the second nearest friend ahead +3 mana."},{"Level":2,"About":"Start of battle: Give the second nearest friend ahead +6 mana."},{"Level":3,"About":"Start of battle: Give the second nearest friend ahead +9 mana."}],"Id":"610","Name":"Thunderbird","NameId":"Thunderbird","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Summon one level 1 Microwave Oven."},{"Level":2,"About":"Start of turn: Summon one level 2 Microwave Oven."},{"Level":3,"About":"Start of turn: Summon one level 3 Microwave Oven."}],"Id":"707","Name":"Vervet","NameId":"Vervet","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Toys","Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Gains mana: Deal 1 damage to one random enemy. Triple on the first trigger each battle."},{"Level":2,"About":"Gains mana: Deal 2 damage to one random enemy. Triple on the first trigger each battle."},{"Level":3,"About":"Gains mana: Deal 3 damage to one random enemy. Triple on the first trigger each battle."}],"Id":"382","Name":"Warf","NameId":"Warg","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"],"Random":true},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give Meat Bone to the friend ahead."},{"Level":2,"About":"Start of battle: Give Meat Bone to the friend ahead with double effect."},{"Level":3,"About":"Start of battle: Give Meat Bone to the friend ahead with triple effect."}],"Id":"441","Name":"White-Bellied Heron","NameId":"WhiteBelliedHeron","Tier":2,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Before attack: Transform into the first <b>Faint</b> enemy at level 1."},{"Level":2,"About":"Before attack: Transform into the first <b>Faint</b> enemy at level 2."},{"Level":3,"About":"Before attack: Transform into the first <b>Faint</b> enemy at level 3."}],"Id":"207","Name":"Wombat","NameId":"Wombat","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Stock one 2-gold Apple."},{"Level":2,"About":"Start of turn: Stock one 2-gold Better Apple."},{"Level":3,"About":"Start of turn: Stock one 2-gold Best Apple."}],"Id":"82","Name":"Worm","NameId":"Worm","Tier":2,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friendly level-up: Gain 1 extra shop reward."},{"Level":2,"About":"Friendly level-up: Gain 2 extra shop reward."},{"Level":3,"About":"Friendly level-up: Gain 3 extra shop reward."}],"Id":"385","Name":"Wyvern","NameId":"Wyvern","Tier":2,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Take 1 damage and gain +2 attack."},{"Level":2,"About":"End turn: Take 2 damage and gain +4 attack."},{"Level":3,"About":"End turn: Take 3 damage and gain +6 attack."}],"Id":"163","Name":"Yak","NameId":"Yak","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Enemy summoned: Gain +1 attack and +3 health."},{"Level":2,"About":"Enemy summoned: Gain +2 attack and +6 health."},{"Level":3,"About":"Enemy summoned: Gain +3 attack and +9 health."}],"Id":"193","Name":"Aardvark","NameId":"Aardvark","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack permanently and jump-attack the highest attack enemy."},{"Level":2,"About":"Start of battle: Gain +2 attack permanently and jump-attack the highest attack enemy."},{"Level":3,"About":"Start of battle: Gain +3 attack permanently and jump-attack the highest attack enemy."}],"Id":"389","Name":"Amami Rabbit","NameId":"AmamiRabbit","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 1/1 level 3 Ant."},{"Level":2,"About":"Faint: Summon two 1/1 level 3 Ants."},{"Level":3,"About":"Faint: Summon three 1/1 level 3 Ants."}],"Id":"105","Name":"Anteater","NameId":"Anteater","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Before any attack: If opponent has duplicates, deal 2 damage to all enemies. Works 1 time per battle."},{"Level":2,"About":"Before any attack: If opponent has duplicates, deal 4 damage to all enemies. Works 1 time per battle."},{"Level":3,"About":"Before any attack: If opponent has duplicates, deal 6 damage to all enemies. Works 1 time per battle."}],"Id":"377","Name":"Axehandle Hound","NameId":"AxehandleHound","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Give one random friend from the current or higher shop tier +1 attack and +1 health."},{"Level":2,"About":"End turn: Give one random friend from the current or higher shop tier +2 attack and +2 health."},{"Level":3,"About":"End turn: Give one random friend from the current or higher shop tier +3 attack and +3 health."}],"Id":"171","Name":"Baboon","NameId":"Baboon","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Remove 4 health from the first enemy."},{"Level":2,"About":"Faint: Remove 4 health from the first two enemies."},{"Level":3,"About":"Faint: Remove 4 health from the first three enemies."}],"Id":"822","Name":"Baby Urchin","NameId":"BabySeaUrchin","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 50% attack damage to adjacent pets."},{"Level":2,"About":"Faint: Deal 100% attack damage to adjacent pets."},{"Level":3,"About":"Faint: Deal 150% attack damage to adjacent pets."}],"Id":"2","Name":"Badger","NameId":"Badger","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"End turn: If you did not roll this turn, gain +1 experience."},{"Level":2,"About":"End turn: If you did not roll this turn, gain +2 experience."},{"Level":3,"About":"End turn: If you did not roll this turn, gain +3 experience."}],"Id":"796","Name":"Barnacle","NameId":"Barnacle","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Levels"],"Random":true},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health."},{"Level":2,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health. Double on friendly pets."},{"Level":3,"About":"Start of battle: Transform the nearest pet ahead to Rock with +5 health. Triple on friendly pets."}],"Id":"332","Name":"Basilisk","NameId":"Basilisk","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Transform","Disruption"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Honey perk to all pets within one space."},{"Level":2,"About":"Faint: Give Honey perk to all pets within two spaces."},{"Level":3,"About":"Faint: Give Honey perk to all pets within three spaces."}],"Id":"140","Name":"Bear","NameId":"Bear","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Faint: Summon one 1/1 Bee.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Friend lost perk: Give it the Guava perk. Works on one friend per turn."},{"Level":2,"About":"Friend lost perk: Give it the Guava perk. Works on two different friends per turn."},{"Level":3,"About":"Friend lost perk: Give it the Guava perk. Works on three different friends per turn."}],"Id":"214","Name":"Betta Fish","NameId":"BettaFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 3 damage, and attack for +3 damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for each friend behind and give friends ahead +1 mana."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for each friend behind and give friends ahead +2 mana."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for each friend behind and give friends ahead +3 mana."}],"Id":"728","Name":"Blue Dragon","NameId":"GlaucusAtlanticus","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4","Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Trumpets"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend transformed: If it is ahead, give it +3 attack until next turn. Otherwise give health."},{"Level":2,"About":"Friend transformed: If it is ahead, give it +6 attack until next turn. Otherwise give health."},{"Level":3,"About":"Friend transformed: If it is ahead, give it +9 attack until next turn. Otherwise give health."}],"Id":"400","Name":"Blue-Throated Macaw","NameId":"BlueThroatedMacaw","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +2 attack and Melon perk in battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +4 attack and Melon perk in battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +6 attack and Melon perk in battle."}],"Id":"349","Name":"Brain Cramp","NameId":"Headcrab","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Guard","Perks"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Randomly redistribute stats of the highest health enemy."},{"Level":2,"About":"Start of battle: Randomly redistribute stats of the two highest health enemies."},{"Level":3,"About":"Start of battle: Randomly redistribute stats of the three highest health enemies."}],"Id":"798","Name":"Brazillian Treehopper","NameId":"BrazillianTreehopper","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before friend attacks: Replace 3 mana on it with +2 attack and +2 health."},{"Level":2,"About":"Before friend attacks: Replace 3 mana on it with +4 attack and +4 health."},{"Level":3,"About":"Before friend attacks: Replace 3 mana on it with +6 attack and +6 health."}],"Id":"786","Name":"Caladrius","NameId":"Caladrius","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Spend mana to remove 1 health per mana from the two most healthy enemies."},{"Level":2,"About":"Faint: Spend mana to remove 2 health per mana from the two most healthy enemies."},{"Level":3,"About":"Faint: Spend mana to remove 3 health per mana from the two most healthy enemies."}],"Id":"336","Name":"Calygreyhound","NameId":"Calygreyhound","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Give the nearest friend behind +1 attack and +2 health."},{"Level":2,"About":"Hurt: Give the nearest friend behind +2 attack and +4 health."},{"Level":3,"About":"Hurt: Give the nearest friend behind +3 attack and +6 health."}],"Id":"10","Name":"Camel","NameId":"Camel","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Roll & Sell: Give newly rolled shop pets +1 attack and +1 health."},{"Level":2,"About":"Roll & Sell: Give newly rolled shop pets +2 attack and +2 health."},{"Level":3,"About":"Roll & Sell: Give newly rolled shop pets +3 attack and +3 health."}],"Id":"154","Name":"Capybara","NameId":"Capybara","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 1 gold.","FinePrint":"Skips over perks from locked tiers."},{"Level":2,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 2 gold.","FinePrint":"Skips over perks from locked tiers."},{"Level":3,"About":"End turn: Copy and stock the nearest perk ahead and discount it by 3 gold.","FinePrint":"Skips over perks from locked tiers."}],"Id":"539","Name":"Cardinal","NameId":"Cardinal","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friendly gained strawberry: Gain +1 health. Also gain +1 attack until next turn."},{"Level":2,"About":"Friendly gained strawberry: Gain +2 health. Also gain +2 attack until next turn."},{"Level":3,"About":"Friendly gained strawberry: Gain +3 health. Also gain +3 attack until next turn."}],"Id":"133","Name":"Cassowary","NameId":"Cassowary","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Friend bought: Gain +1 attack and +1 health times its tier until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend bought: Gain +2 attack and +2 health times its tier until next turn. Works 1 time per turn."},{"Level":3,"About":"Friend bought: Gain +3 attack and +3 health times its tier until next turn. Works 1 time per turn."}],"Id":"540","Name":"Centipede","NameId":"Centipede","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Knock out the nearest friend ahead and stock one free Bacon."},{"Level":2,"About":"End turn: Knock out the nearest friend ahead and stock two free Bacons."},{"Level":3,"About":"End turn: Knock out the nearest friend ahead and stock three free Bacons."}],"Id":"651","Name":"Deer Lord","NameId":"Wendigo","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 5/5 friend if able. Otherwise give friends +1 attack and +1 health."},{"Level":2,"About":"Start of battle: Summon one 10/10 friend if able. Otherwise give friends +2 attack and +2 health."},{"Level":3,"About":"Start of battle: Summon one 15/15 friend if able. Otherwise give friends +3 attack and +3 health."}],"Id":"543","Name":"Dimetrodon","NameId":"Dimetrodon","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give 50% of attack to the nearest friend ahead."},{"Level":2,"About":"Start of battle: Give 100% of attack to the nearest friend ahead."},{"Level":3,"About":"Start of battle: Give 150% of attack to the nearest friend ahead."}],"Id":"21","Name":"Dodo","NameId":"Dodo","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Gain +2 attack and +1 health until next turn."},{"Level":2,"About":"Friend summoned: Gain +4 attack and +2 health until next turn."},{"Level":3,"About":"Friend summoned: Gain +6 attack and +3 health until next turn."}],"Id":"22","Name":"Dog","NameId":"Dog","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal 4 damage to the lowest health enemy."},{"Level":2,"About":"Start of battle: Deal 4 damage to the lowest health enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 4 damage to the lowest health enemy. Triggers 3 times."}],"Id":"23","Name":"Dolphin","NameId":"Dolphin","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give friends that aren\'t from your pack +2 attack and +2 health."},{"Level":2,"About":"Faint: Give friends that aren\'t from your pack +4 attack and +4 health."},{"Level":3,"About":"Faint: Give friends that aren\'t from your pack +6 attack and +6 health."}],"Id":"544","Name":"Dugong","NameId":"Dugong","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Gain +50% health."},{"Level":2,"About":"Start of battle: Gain +100% health."},{"Level":3,"About":"Start of battle: Gain +150% health."}],"Id":"120","Name":"Eel","NameId":"Eel","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"After attack: Deal 1 damage to the nearest friend behind."},{"Level":2,"About":"After attack: Deal 1 damage to the nearest friend behind. Triggers 2 times."},{"Level":3,"About":"After attack: Deal 1 damage to the nearest friend behind. Triggers 3 times."}],"Id":"28","Name":"Elephant","NameId":"Elephant","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Sell: Give 33% attack and health to the leftmost shop pet."},{"Level":2,"About":"Sell: Give 66% attack and health to the leftmost shop pet."},{"Level":3,"About":"Sell: Give 100% attack and health to the leftmost shop pet."}],"Id":"197","Name":"Emperor Tamarin","NameId":"EmperorTamarin","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Feed adjacent friends one Corncob with double effect."},{"Level":2,"About":"Start of battle: Feed adjacent friends two Corncobs with double effect."},{"Level":3,"About":"Start of battle: Feed adjacent friends three Corncobs with double effect."}],"Id":"694","Name":"Farmer Pig","NameId":"FarmerPig","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Make the most healthy enemy Weak."},{"Level":2,"About":"Faint: Make the two most healthy enemies Weak."},{"Level":3,"About":"Faint: Make the three most healthy enemies Weak."}],"Id":"225","Name":"Flea","NameId":"Flea","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments","Mvp"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: If in battle, give it +2 experience. Works 2 times per turn."},{"Level":2,"About":"Friend summoned: If in battle, give it +4 experience. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: If in battle, give it +6 experience. Works 2 times per turn."}],"Id":"226","Name":"Flying Fish","NameId":"FlyingFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friendly toy broke: Gain +2 attack and re-summon the toy at up to level 1."},{"Level":2,"About":"Friendly toy broke: Gain +4 attack and re-summon the toy at up to level 2."},{"Level":3,"About":"Friendly toy broke: Gain +6 attack and re-summon the toy at up to level 3."}],"Id":"227","Name":"Flying Squirrel","NameId":"FlyingSquirrel","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Buy: Give future shop pets from the next tier permanent +2 health."},{"Level":2,"About":"Buy: Give future shop pets from the next tier permanent +4 health."},{"Level":3,"About":"Buy: Give future shop pets from the next tier permanent +6 health."}],"Id":"625","Name":"Foo Dog","NameId":"FuLion","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Rambutan perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Rambutan perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Rambutan perk to the three nearest friends behind."}],"Id":"653","Name":"Fur-Bearing Trout","NameId":"FurBearingTrout","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before attack: Gain +3 mana.","CustomArchetypes":["Mana","Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Remove the highest tier perk from one enemy."},{"Level":2,"About":"Start of battle: Remove the highest tier perks from two enemies."},{"Level":3,"About":"Start of battle: Remove the highest tier perks from three enemies."}],"Id":"740","Name":"Gerenuk","NameId":"Gerenuk","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Gharial toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Gharial toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Gharial toy."}],"Id":"231","Name":"Gharial","NameId":"Gharial","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Give the nearest friend ahead +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give the nearest two friends ahead +1 attack and +1 health."},{"Level":3,"About":"Start of turn: Give the nearest three friends ahead +1 attack and +1 health."}],"Id":"33","Name":"Giraffe","NameId":"Giraffe","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Anyone hurt: If nobody has attacked, gain +2 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Anyone hurt: If nobody has attacked, gain +4 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Anyone hurt: If nobody has attacked, gain +6 health until next turn. Works 5 times per turn."}],"Id":"697","Name":"Great Potoo","NameId":"GreatPotoo","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 toy from Griffin\'s collection."},{"Level":2,"About":"Buy: Choose one level 2 toy from Griffin\'s collection."},{"Level":3,"About":"Buy: Choose one level 3 toy from Griffin\'s collection."}],"Id":"348","Name":"Griffin","NameId":"Griffin","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Hurt: Gain +2 trumpets."},{"Level":2,"About":"Hurt: Gain +4 trumpets."},{"Level":3,"About":"Hurt: Gain +6 trumpets."}],"Id":"228","Name":"Guineafowl","NameId":"FowlBird","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Hurt"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Before attack: Copy a useful food perk from one random enemy. Works 1 time per battle."},{"Level":2,"About":"Before attack: Copy a useful food perk from one random enemy. Works 2 times per battle."},{"Level":3,"About":"Before attack: Copy a useful food perk from one random enemy. Works 3 times per battle."}],"Id":"551","Name":"Hare","NameId":"Hare","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give the nearest friend ahead +3 attack and +3 health until next turn.","FinePrint":"Will give permanent stats at level 2."},{"Level":2,"About":"End turn: Give the nearest friend ahead +2 attack and +2 health.","FinePrint":"Will give experience at level 3."},{"Level":3,"About":"End turn: Give the nearest friend ahead +1 experience."}],"Id":"91","Name":"Hatching Chick","NameId":"HatchingChick","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff","Levels","Mvp"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 4/3 Ethiopian Wolf."},{"Level":2,"About":"Faint: Summon two 4/3 Ethiopian Wolves."},{"Level":3,"About":"Faint: Summon three 4/3 Ethiopian Wolves."}],"Id":"717","Name":"Hirola","NameId":"Hirola","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Deal 2 damage to the first and last enemy."},{"Level":2,"About":"Faint: Deal 4 damage to the first and last enemy."},{"Level":3,"About":"Faint: Deal 6 damage to the first and last enemy."}],"Id":"235","Name":"Hoopoe Bird","NameId":"HoopoeBird","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 1 gold."},{"Level":2,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 2 gold."},{"Level":3,"About":"Faint: Spend 2 trumpets to increase sell value of the two back-most friends permanently by 3 gold."}],"Id":"736","Name":"Jewel Caterpillar","NameId":"JewelCaterpillar","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Deal 1 damage to the nearest friend ahead and gain damage as health."},{"Level":2,"About":"End turn: Deal 2 damage to the nearest friend ahead and gain damage as health."},{"Level":3,"About":"End turn: Deal 3 damage to the nearest friend ahead and gain damage as health."}],"Id":"165","Name":"Leech","NameId":"Leech","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt","Mvp"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Level-up: Gain +2 attack and +2 health now and +2 gold next turn."},{"Level":2,"About":"Level-up: Gain +4 attack and +4 health now and +4 gold next turn."},{"Level":3,"About":"No ability."}],"Id":"623","Name":"Lucky Cat","NameId":"LuckyCat","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +2 mana for each roll this turn, up to 3 rolls."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +4 mana for each roll this turn, up to 3 rolls."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +6 mana for each roll this turn, up to 3 rolls."}],"Id":"635","Name":"Mana Hound","NameId":"ManaHound","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Roll"],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make one tier 2 or lower enemy Dazed and prioritize <b>Faint</b> pets."},{"Level":2,"About":"Start of battle: Make one tier 4 or lower enemy Dazed and prioritize <b>Faint</b> pets."},{"Level":3,"About":"Start of battle: Make one tier 6 or lower enemy Dazed and prioritize <b>Faint</b> pets."}],"Id":"357","Name":"Mandrake","NameId":"Mandrake","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Remove the two nearest friendly perks to summon one 6/6 Mole."},{"Level":2,"About":"Faint: Remove the two nearest friendly perks to summon one 12/12 Mole."},{"Level":3,"About":"Faint: Remove the two nearest friendly perks to summon one 18/18 Mole."}],"Id":"168","Name":"Mole","NameId":"Mole","Tier":3,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Anyone behind hurt: Give two random friendly pets +1 attack and +2 health. Works 2 times per battle."},{"Level":2,"About":"Anyone behind hurt: Give two random friendly pets +2 attack and +4 health. Works 2 times per battle."},{"Level":3,"About":"Anyone behind hurt: Give two random friendly pets +3 attack and +6 health. Works 2 times per battle."}],"Id":"422","Name":"Monkey-Faced Bat","NameId":"MonkeyFacedBat","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain +1 attack and +2 health until next turn."},{"Level":2,"About":"Friend ahead faints: Gain +2 attack and +4 health until next turn."},{"Level":3,"About":"Friend ahead faints: Gain +3 attack and +6 health until next turn."}],"Id":"245","Name":"Musk Ox","NameId":"MuskOx","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Roll: Gain +1 attack and +1 health until next turn. Works 5 times per turn."},{"Level":2,"About":"Roll: Gain +2 attack and +2 health until next turn. Works 5 times per turn."},{"Level":3,"About":"Roll: Gain +3 attack and +3 health until next turn. Works 5 times per turn."}],"Id":"130","Name":"Okapi","NameId":"Okapi","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give the lowest health friendly pet +3 health."},{"Level":2,"About":"End turn: Give the lowest health friendly pet +6 health."},{"Level":3,"About":"End turn: Give the lowest health friendly pet +9 health."}],"Id":"157","Name":"Orangutan","NameId":"Orangutan","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/1 Groundhog."},{"Level":2,"About":"Faint: Summon two 2/1 Groundhogs."},{"Level":3,"About":"Faint: Summon three 2/1 Groundhogs."}],"Id":"247","Name":"Osprey","NameId":"Osprey","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Roll: Give new shop pets +1 attack and +1 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."},{"Level":2,"About":"Roll: Give new shop pets +2 attack and +2 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."},{"Level":3,"About":"Roll: Give new shop pets +3 attack and +3 health until next turn for each roll, up to 5 rolls.","FinePrint":"Exclude pets that already have temp stats."}],"Id":"364","Name":"Ouroboros","NameId":"Ouroboros","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Summon one level 1 Mouse."},{"Level":2,"About":"Start of turn: Summon one level 2 Mouse."},{"Level":3,"About":"Start of turn: Summon one level 3 Mouse."}],"Id":"95","Name":"Owl","NameId":"Owl","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle","Mvp"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 1 time per turn."},{"Level":2,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 2 times per turn."},{"Level":3,"About":"Friend ahead faints: Gain Melon perk and +1 attack. Works 3 times per turn."}],"Id":"52","Name":"Ox","NameId":"Ox","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Copy ailment (or Spooked) to the first enemy."},{"Level":2,"About":"Start of battle: Copy ailment (or Spooked) to the first enemy with double effect."},{"Level":3,"About":"Start of battle: Copy ailment (or Spooked) to the first enemy with triple effect."}],"Id":"701","Name":"Pangasius","NameId":"Pangasius","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: If you have a toy, give the nearest friend behind +4 health."},{"Level":2,"About":"Faint: If you have a toy, give the nearest friend behind +8 health."},{"Level":3,"About":"Faint: If you have a toy, give the nearest friend behind +12 health."}],"Id":"249","Name":"Pangolin","NameId":"Pangolin","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +4 trumpets and summon the Golden Retriever immediately."},{"Level":2,"About":"Faint: Gain +8 trumpets and summon the Golden Retriever immediately."},{"Level":3,"About":"Faint: Gain +12 trumpets and summon the Golden Retriever immediately."}],"Id":"733","Name":"Patagonian Mara","NameId":"PatagonianMara","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Summon"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Knock out: Feed the nearest friend behind with one Better Apple."},{"Level":2,"About":"Knock out: Feed the nearest friend behind with two Better Apples."},{"Level":3,"About":"Knock out: Feed the nearest friend behind with three Better Apples."}],"Id":"560","Name":"Pony","NameId":"Pony","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Deal 3 damage directly back."},{"Level":2,"About":"Hurt: Deal 6 damage directly back."},{"Level":3,"About":"Hurt: Deal 9 damage directly back."}],"Id":"169","Name":"Porcupine","NameId":"Porcupine","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend ahead +1 experience."},{"Level":2,"About":"Start of battle: Give the nearest friend ahead +2 experience."},{"Level":3,"About":"Start of battle: Give the nearest friend ahead +3 experience."}],"Id":"145","Name":"Pug","NameId":"Pug","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Activate and disable its <b>Start of turn</b> ability until next turn. Works 3 times per turn."}],"Id":"744","Name":"Purple Frog","NameId":"PurpleFrog","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Five enemy attacks: Deal 33% of health as damage to the least healthy enemy."},{"Level":2,"About":"Five enemy attacks: Deal 33% of health as damage to the two least healthy enemies."},{"Level":3,"About":"Five enemy attacks: Deal 33% of health as damage to the three least healthy enemies."}],"Id":"426","Name":"Pygmy Hippo","NameId":"PygmyHippo","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Transformed: Give front-most friend +2 attack and +2 health. Double in battle."},{"Level":2,"About":"Transformed: Give front-most friend +4 attack and +4 health. Double in battle."},{"Level":3,"About":"Transformed: Give front-most friend +6 attack and +6 health. Double in battle."}],"Id":"702","Name":"Quail","NameId":"Quail","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Eats food: Transform and give front-most friend +2 attack and +2 health. Double in battle."},{"Level":2,"About":"Eats food: Transform and give front-most friend +4 attack and +4 health. Double in battle."},{"Level":3,"About":"Eats food: Transform and give front-most friend +6 attack and +6 health. Double in battle."}],"Id":"778","Name":"Quail Chick","NameId":"QuailChick","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Transform","Food"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Bee summoned: Give it +3 attack and +3 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"},{"Level":2,"About":"Bee summoned: Give it +6 attack and +6 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"},{"Level":3,"About":"Bee summoned: Give it +9 attack and +9 health and remove ALL other Queen Bees.","FinePrint":"There can bee only one!"}],"Id":"703","Name":"Queen Bee","NameId":"QueenBee","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give the pet that knocked this out and its friends +1 attack and +1 health."},{"Level":2,"About":"Faint: Give the pet that knocked this out and its friends +2 attack and +2 health."},{"Level":3,"About":"Faint: Give the pet that knocked this out and its friends +3 attack and +3 health."}],"Id":"751","Name":"Quetzalcoatlus","NameId":"Quetzalcoatlus","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Friendly ate food: Give them +1 health. Works 3 times per turn."},{"Level":2,"About":"Friendly ate food: Give them +2 health. Works 3 times per turn."},{"Level":3,"About":"Friendly ate food: Give them +3 health. Works 3 times per turn."}],"Id":"60","Name":"Rabbit","NameId":"Rabbit","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Transform two friends ahead into ANY useful level 1 <b>Hurt</b> pets from tier 3 or lower."},{"Level":2,"About":"Start of battle: Transform two friends ahead into ANY useful level 2 <b>Hurt</b> pets from tier 3 or lower."},{"Level":3,"About":"Start of battle: Transform two friends ahead into ANY useful level 3 <b>Hurt</b> pets from tier 3 or lower."}],"Id":"429","Name":"Roloway Monkey","NameId":"RolowayMonkey","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Hurt"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Three enemies faint: Deal 4 damage to one random enemy."},{"Level":2,"About":"Three enemies faint: Deal 8 damage to one random enemy."},{"Level":3,"About":"Three enemies faint: Deal 12 damage to one random enemy."}],"Id":"256","Name":"Royal Flycatcher","NameId":"RoyalFlycatcher","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 1 time per turn."},{"Level":2,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 2 times per turn."},{"Level":3,"About":"Sell friend: Remove its Strawberry perk to gain +3 gold. Works 3 times per turn."}],"Id":"531","Name":"Sage-Grouse","NameId":"GreaterSageGrouse","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 1 copy up front for the opponent on faint."},{"Level":2,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 2 copy up front for the opponent on faint."},{"Level":3,"About":"Eats food: Swallow the left-most shop pet. Summon a 1/1 level 3 copy up front for the opponent on faint."}],"Id":"763","Name":"Sarcastic Fringehead","NameId":"SarcasticFringehead","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon two 2/2 Rams."},{"Level":2,"About":"Faint: Summon two 4/4 Rams."},{"Level":3,"About":"Faint: Summon two 6/6 Rams."}],"Id":"68","Name":"Sheep","NameId":"Sheep","Tier":3,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Friend gained ailment: Give it a random tier 1 perk. Works 2 times per turn."},{"Level":2,"About":"Friend gained ailment: Give it a random tier 2 perk. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Give it a random tier 3 perk. Works 2 times per turn."}],"Id":"722","Name":"Silkie Chicken","NameId":"SilkieChicken","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give one random friend permanent +1 attack and +1 health."},{"Level":2,"About":"Faint: Give two random friends permanent +1 attack and +1 health."},{"Level":3,"About":"Faint: Give three random friends permanent +1 attack and +1 health."}],"Id":"374","Name":"Skeleton Dog","NameId":"SkeletonDog","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/2 Slime for each two battles fought."},{"Level":2,"About":"Faint: Summon one 4/4 Slime for each two battles fought."},{"Level":3,"About":"Faint: Summon one 6/6 Slime for each two battles fought."}],"Id":"375","Name":"Slime","NameId":"Slime","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Give the nearest friend behind +2 to their lowest stat."},{"Level":2,"About":"Start of turn: Give the nearest two friends behind +2 to their lowest stat."},{"Level":3,"About":"Start of turn: Give the nearest three friends behind +2 to their lowest stat."}],"Id":"433","Name":"Spoon-Billed Sandpiper","NameId":"SpoonBilledSandpiper","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Stock one free Cupcake."},{"Level":2,"About":"Start of turn: Stock one free Cupcake with double effect."},{"Level":3,"About":"Start of turn: Stock one free Cupcake with triple effect."}],"Id":"705","Name":"Sugar Glider","NameId":"SugarGlider","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +4 health."},{"Level":2,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +8 health."},{"Level":3,"About":"Faint: Spend 2 trumpets to give the two nearest friends behind +12 health."}],"Id":"264","Name":"Surgeon Fish","NameId":"SurgeonFish","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Gain +1 attack and +2 health until next turn."},{"Level":2,"About":"Friend ahead hurt: Gain +2 attack and +4 health until next turn."},{"Level":3,"About":"Friend ahead hurt: Gain +3 attack and +6 health until next turn."}],"Id":"719","Name":"Takin","NameId":"Takin","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Hurt"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead faints: Deal 2 damage to the first enemy. Double if the friend was level 3."},{"Level":2,"About":"Friend ahead faints: Deal 4 damage to the first enemy. Double if the friend was level 3."},{"Level":3,"About":"Friend ahead faints: Deal 6 damage to the first enemy. Double if the friend was level 3."}],"Id":"654","Name":"Tatzelwurm","NameId":"Tatzelwurm","Tier":3,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Enemy hurt: Make it Weak. Works 2 times per battle."},{"Level":2,"About":"Enemy hurt: Make it Weak. Works 4 times per battle."},{"Level":3,"About":"Enemy hurt: Make it Weak. Works 6 times per battle."}],"Id":"162","Name":"Toad","NameId":"Toad","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the nearest friend behind."},{"Level":2,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the two nearest friends behind."},{"Level":3,"About":"Before first attack: Copy tier 5 or lower perk (or Egg) to the three nearest friends behind."}],"Id":"151","Name":"Toucan","NameId":"Toucan","Tier":3,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: If this has 6 or less attack, gain Coconut perk."},{"Level":2,"About":"Start of battle: If this has 12 or less attack, gain Coconut perk."},{"Level":3,"About":"Start of battle: If this has 18 or less attack, gain Coconut perk."}],"Id":"378","Name":"Tree","NameId":"TreeEnt","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make the last perk-less enemy Silly and activate it."},{"Level":2,"About":"Start of battle: Make the last perk-less enemy Silly and activate it twice."},{"Level":3,"About":"Start of battle: Make the last perk-less enemy Silly and activate it thrice."}],"Id":"534","Name":"Tree Kangaroo","NameId":"TreeKangaroo","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Ability has random targets in battle.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Give adjacent friends +1 health."},{"Level":2,"About":"Start of turn: Give adjacent friends +2 health."},{"Level":3,"About":"Start of turn: Give adjacent friends +3 health."}],"Id":"100","Name":"Tropical Fish","NameId":"TropicalFish","Tier":3,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Push the back-most friend to the front and give it +3 attack and +3 health in battle."},{"Level":2,"About":"Faint: Push the back-most friend to the front and give it +6 attack and +6 health in battle."},{"Level":3,"About":"Faint: Push the back-most friend to the front and give it +9 attack and +9 health in battle."}],"Id":"439","Name":"Tucuxi","NameId":"Tucuxi","Tier":3,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give one random friend +1 attack and +1 health for each time this was hurt."},{"Level":2,"About":"Faint: Give one random friend +2 attack and +2 health for each time this was hurt."},{"Level":3,"About":"Faint: Give one random friend +3 attack and +3 health for each time this was hurt."}],"Id":"572","Name":"Tuna","NameId":"Tuna","Tier":3,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 attack and +2 health for each friendly pet with a different ailment."},{"Level":2,"About":"Start of battle: Gain +2 attack and +4 health for each friendly pet with a different ailment."},{"Level":3,"About":"Start of battle: Gain +3 attack and +6 health for each friendly pet with a different ailment."}],"Id":"791","Name":"Vampire Parrot","NameId":"VampireParrot","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Shop tier upgraded: Gain +50% attack."},{"Level":2,"About":"Shop tier upgraded: Gain +100% attack."},{"Level":3,"About":"Shop tier upgraded: Gain +150% attack."}],"Id":"160","Name":"Wasp","NameId":"Wasp","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +1 gold on next turn."},{"Level":2,"About":"Faint: Gain +2 gold on next turn."},{"Level":3,"About":"Faint: Gain +3 gold on next turn."}],"Id":"173","Name":"Weasel","NameId":"Weasel","Tier":3,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Swallow and copy the left-most unfrozen shop pet until next turn."},{"Level":2,"About":"End turn: Swallow and copy the two left-most unfrozen and different shop pets until next turn."},{"Level":3,"About":"End turn: Swallow and copy the three left-most unfrozen and different shop pets until next turn."}],"Id":"373","Name":"Abomination","NameId":"Shoggoth","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Summon one level 1 Ocarina."},{"Level":2,"About":"End turn: Summon one level 2 Ocarina."},{"Level":3,"About":"End turn: Summon one level 3 Ocarina."}],"Id":"785","Name":"Ahuizotl","NameId":"Ahuizotl","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Deal 3 damage to its target, or gain +3 attack."},{"Level":2,"About":"Adjacent friend attacked: Deal 6 damage to its target, or gain +6 attack."},{"Level":3,"About":"Adjacent friend attacked: Deal 9 damage to its target, or gain +9 attack."}],"Id":"390","Name":"Amazon River Dolphin","NameId":"AmazonRiverDolphin","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Remove the most healthy unfrozen shop pet to gain 50% of its stats until next turn."},{"Level":2,"About":"End turn: Remove the most healthy unfrozen shop pet to gain 100% of its stats until next turn."},{"Level":3,"About":"End turn: Remove the most healthy unfrozen shop pet to gain 150% of its stats until next turn."}],"Id":"730","Name":"Andrewsarchus","NameId":"Andrewsarchus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give friends +1 to their highest stat."},{"Level":2,"About":"End turn: Give friends +2 to their highest stat."},{"Level":3,"About":"End turn: Give friends +3 to their highest stat."}],"Id":"392","Name":"Angelshark","NameId":"Angelshark","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Activate two Faint friends from tier 2 or lower front-to-back."},{"Level":2,"About":"Start of battle: Activate two Faint friends from tier 4 or lower front-to-back."},{"Level":3,"About":"Start of battle: Activate two Faint friends from tier 6 or lower front-to-back."}],"Id":"331","Name":"Anubis","NameId":"Anubis","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"End turn: If this has a level 3 friend, gain +1 attack and +2 health."},{"Level":2,"About":"End turn: If this has a level 3 friend, gain +2 attack and +4 health."},{"Level":3,"About":"End turn: If this has a level 3 friend, gain +3 attack and +6 health."}],"Id":"5","Name":"Bison","NameId":"Bison","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: Stock one copy of it. Works 1 time per turn."},{"Level":2,"About":"Friend sold: Stock one copy of it. Works 2 times per turn."},{"Level":3,"About":"Friend sold: Stock one copy of it. Works 3 times per turn."}],"Id":"797","Name":"Bloodhound","NameId":"Bloodhound","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Deal 3 damage to one random enemy."},{"Level":2,"About":"Hurt: Deal 6 damage to one random enemy."},{"Level":3,"About":"Hurt: Deal 9 damage to one random enemy."}],"Id":"7","Name":"Blowfish","NameId":"Blowfish","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Hurt"],"Random":true},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice."},{"Level":2,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice that works twice."},{"Level":3,"About":"Faint: Spend 4 trumpets to give nearest friend behind permanent Melon Slice that works thrice."}],"Id":"530","Name":"Blue-Footed Booby","NameId":"BlueFootedBooby","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Transform into the front-most friend."},{"Level":2,"About":"Start of turn: Transform into the front-most friend."},{"Level":3,"About":"Start of turn: Transform into the front-most friend."}],"Id":"402","Name":"Bonobo","NameId":"Bonobo","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform","Levels","Mvp"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: Gain +2 attack and +2 health until next turn."},{"Level":2,"About":"Friend sold: Gain +4 attack and +4 health until next turn."},{"Level":3,"About":"Friend sold: Gain +6 attack and +6 health until next turn."}],"Id":"8","Name":"Buffalo","NameId":"Buffalo","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Transformed: Copy 33% attack and health from the strongest enemy."},{"Level":2,"About":"Transformed: Copy 66% attack and health from the strongest enemy."},{"Level":3,"About":"Transformed: Copy 100% attack and health from the strongest enemy."}],"Id":"9","Name":"Butterfly","NameId":"Butterfly","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Gain +1 experience.","FinePrint":"Will copy an enemy\'s stats at level 3."},{"Level":2,"About":"Start of turn: Gain +1 experience.","FinePrint":"Will copy an enemy\'s stats at level 3."},{"Level":3,"About":"Start of battle: Transform into a 1/1 Butterfly and copy stats of the strongest enemy."}],"Id":"12","Name":"Caterpillar","NameId":"Caterpillar","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Levels","Transform"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Copy friendly toy ability at up to level 1 until next turn.","FinePrint":"Break abilities trigger on faint instead."},{"Level":2,"About":"End turn: Copy friendly toy ability at up to level 2 until next turn.","FinePrint":"Break abilities trigger on faint instead."},{"Level":3,"About":"End turn: Copy friendly toy ability at up to level 3 until next turn.","FinePrint":"Break abilities trigger on faint instead."}],"Id":"216","Name":"Chameleon","NameId":"Chameleon","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 pet. Spend mana to give it +1 attack and +2 health per 2 mana."},{"Level":2,"About":"Faint: Summon two 3/3 pets. Spend mana to give them +1 attack and +2 health per 2 mana."},{"Level":3,"About":"Faint: Summon three 3/3 pets. Spend mana to give them +1 attack and +2 health per 2 mana."}],"Id":"338","Name":"Chimera","NameId":"Chimera","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friendly level-up: Give it +2 attack and +2 health."},{"Level":2,"About":"Friendly level-up: Give it +4 attack and +4 health."},{"Level":3,"About":"Friendly level-up: Give it +6 attack and +6 health."}],"Id":"117","Name":"Clownfish","NameId":"ClownFish","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"Buy: Give the highest tier friend +2 attack and +2 health."},{"Level":2,"About":"Buy: Give the highest tier friend +4 attack and +4 health."},{"Level":3,"About":"Buy: Give the highest tier friend +6 attack and +6 health."}],"Id":"218","Name":"Cockatoo","NameId":"Cockatoo","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Sell: Stock one Chocolate."},{"Level":2,"About":"Sell: Stock one Better Chocolate."},{"Level":3,"About":"Sell: Stock one Best Chocolate."}],"Id":"195","Name":"Crow","NameId":"Crow","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels","Mvp"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Enemy faints: Summon a 1/1 bad Chick in that slot for the enemy early. Can summon up to 2 per battle."},{"Level":2,"About":"Enemy faints: Summon a 1/1 bad Chick in that slot for the enemy early. Can summon up to 4 per battle."},{"Level":3,"About":"Enemy faints: Summon a 1/1 bad Chick in that slot for the enemy early. Can summon up to 6 per battle."}],"Id":"787","Name":"Cuckoo","NameId":"Cuckoo","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Remove 3 health from the last enemy and make it Inked."},{"Level":2,"About":"Faint: Remove 3 health from the last two enemies and make them Inked."},{"Level":3,"About":"Faint: Remove 3 health from the last three enemies and make them Inked."}],"Id":"176","Name":"Cuttlefish","NameId":"Cuddlefish","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":["Ailments"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friend level-up: Give it +2 mana. Also give +1 experience on the first trigger this turn."},{"Level":2,"About":"Friend level-up: Give it +4 mana. Also give +1 experience on the first two triggers this turn."},{"Level":3,"About":"Friend level-up: Give it +6 mana. Also give +1 experience on the first three triggers this turn."}],"Id":"630","Name":"Cyclops","NameId":"Cyclops","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Mana"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/3 Bus with Chili."},{"Level":2,"About":"Faint: Summon one 10/6 Bus with Chili."},{"Level":3,"About":"Faint: Summon one 15/9 Bus with Chili."}],"Id":"20","Name":"Deer","NameId":"Deer","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Attack second enemy for 5 damage.","CustomArchetypes":["Summon"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Ailments on this work in reverse.","FinePrint":"Weak and Spooked works 3 times."},{"Level":2,"About":"Ailments on this work in reverse and are two times better.","FinePrint":"Weak and Spooked works 3 times."},{"Level":3,"About":"Ailments on this work in reverse and are three times better.","FinePrint":"Weak and Spooked works 3 times."}],"Id":"748","Name":"Deinocheirus","NameId":"Deinocheirus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":1,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +8 attack. If all friends are higher tiers, also gain Coconut perk."},{"Level":2,"About":"Start of battle: Gain +16 attack. If all friends are higher tiers, also gain Coconut perk."},{"Level":3,"About":"Start of battle: Gain +24 attack. If all friends are higher tiers, also gain Coconut perk."}],"Id":"273","Name":"Doberman","NameId":"Doberman","Tier":4,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Perks"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 1 time per battle."},{"Level":2,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 2 times per battle."},{"Level":3,"About":"Friend faints: Push the last enemy to the front and remove 3 attack. Works 3 times per battle."}],"Id":"111","Name":"Donkey","NameId":"Donkey","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 2 gold.","FinePrint":"Max gold limit is 30."},{"Level":2,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 4 gold.","FinePrint":"Max gold limit is 30."},{"Level":3,"About":"End turn: Increase sell value of one random <b>Sell</b> friend by 6 gold.","FinePrint":"Max gold limit is 30."}],"Id":"546","Name":"Elk","NameId":"Elk","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Gold"],"Random":true},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 wondrous toy."},{"Level":2,"About":"Buy: Choose one level 2 wondrous toy."},{"Level":3,"About":"Buy: Choose one level 3 wondrous toy."}],"Id":"342","Name":"Fairy","NameId":"Fairy","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: If still standing, gain permanent +2 health and transform into a protected ball."},{"Level":2,"About":"Hurt: If still standing, gain permanent +4 health and transform into a protected ball."},{"Level":3,"About":"Hurt: If still standing, gain permanent +6 health and transform into a protected ball."}],"Id":"547","Name":"Fairy Armadillo","NameId":"FairyArmadillo","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Transform","Hurt"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Takes 2 less damage."},{"Level":2,"About":"Takes 4 less damage."},{"Level":3,"About":"Takes 6 less damage."}],"Id":"771","Name":"Fairy Ball","NameId":"FairyArmadilloBall","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Knock out: Summon one 3/3 level 1 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."},{"Level":2,"About":"Knock out: Summon one 6/6 level 2 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."},{"Level":3,"About":"Knock out: Summon one 9/9 level 3 copy of it. Works 3 times per battle.","FinePrint":"Does not summon other Falcons."}],"Id":"224","Name":"Falcon","NameId":"Falcon","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Feed friends one Corncob."},{"Level":2,"About":"Buy: Feed friends two Corncobs."},{"Level":3,"About":"Buy: Feed friends three Corncobs."}],"Id":"689","Name":"Farmer Cat","NameId":"FarmerCat","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 health from the two first enemies for each roll this turn."},{"Level":2,"About":"Start of battle: Remove 2 health from the two first enemies for each roll this turn."},{"Level":3,"About":"Start of battle: Remove 3 health from the two first enemies for each roll this turn."}],"Id":"549","Name":"Fossa","NameId":"Fossa","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Gain +2 attack and +1 health until next turn for each gold over 10."},{"Level":2,"About":"Start of turn: Gain +4 attack and +2 health until next turn for each gold over 10."},{"Level":3,"About":"Start of turn: Gain +6 attack and +3 health until next turn for each gold over 10."}],"Id":"185","Name":"Gazelle","NameId":"Gazelle","Tier":3,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Eats two food: Transform and feed one Pear to each friend."},{"Level":2,"About":"Eats two food: Transform and feed two Pears to each friend."},{"Level":3,"About":"Eats two food: Transform and feed three Pears to each friend."}],"Id":"696","Name":"Gelada","NameId":"Gelada","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food","Transform"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Before battle: Give friends +2 attack and +5 health until after the first non-jump attack."},{"Level":2,"About":"Before battle: Give friends +4 attack and +10 health until after the first non-jump attack."},{"Level":3,"About":"Before battle: Give friends +6 attack and +15 health until after the first non-jump attack."}],"Id":"410","Name":"Giant Otter","NameId":"GiantOtter","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Gain +2 health, and set attack to 4. Health can go to 100!"},{"Level":2,"About":"End turn: Gain +4 health, and set attack to 8. Health can go to 100!"},{"Level":3,"About":"End turn: Gain +6 health, and set attack to 12. Health can go to 100!"}],"Id":"412","Name":"Giant Tortoise","NameId":"GiantTortoise","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Swallow the first enemy with 6 health or less. Release it with 1 health on faint."},{"Level":2,"About":"Start of battle: Swallow the first enemy with 12 health or less. Release it with 1 health on faint."},{"Level":3,"About":"Start of battle: Swallow the first enemy with 18 health or less. Release it with 1 health on faint."}],"Id":"754","Name":"Goblin Shark","NameId":"GoblinShark","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Before battle: Transform into ANY useful level 1 <b>Start of Battle</b> pet from tier 5."},{"Level":2,"About":"Before battle: Transform into ANY useful level 2 <b>Start of Battle</b> pet from tier 5."},{"Level":3,"About":"Before battle: Transform into ANY useful level 3 <b>Start of Battle</b> pet from tier 5."}],"Id":"720","Name":"Golden Tamarin","NameId":"GoldenTamarin","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 7 damage to the opposite enemy."},{"Level":2,"About":"Start of battle: Deal 14 damage to the opposite enemy."},{"Level":3,"About":"Start of battle: Deal 21 damage to the opposite enemy."}],"Id":"127","Name":"Hawk","NameId":"Hawk","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Knock out: Gain +3 attack and +3 health. Works 3 times per battle."},{"Level":2,"About":"Knock out: Gain +6 attack and +6 health. Works 3 times per battle."},{"Level":3,"About":"Knock out: Gain +9 attack and +9 health. Works 3 times per battle."}],"Id":"38","Name":"Hippo","NameId":"Hippo","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Remove friendly strawberries to gain +3 trumpets for each."},{"Level":2,"About":"Start of battle: Remove friendly strawberries to gain +6 trumpets for each."},{"Level":3,"About":"Start of battle: Remove friendly strawberries to gain +9 trumpets for each."}],"Id":"755","Name":"Hoatzin","NameId":"Hoatzin","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Trumpets"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Remove 30% attack from the highest attack enemy."},{"Level":2,"About":"Start of battle: Remove 60% attack from the highest attack enemy."},{"Level":3,"About":"Start of battle: Remove 90% attack from the highest attack enemy."}],"Id":"416","Name":"Humphead Wrasse","NameId":"HumpheadWrasse","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":1,"Health":3,"Abilities":[{"Level":1,"About":"Eats apple: Give friends +1 attack and +1 health. Works 1 time per turn."},{"Level":2,"About":"Eats apple: Give friends +2 attack and +2 health. Works 1 time per turn."},{"Level":3,"About":"Eats apple: Give friends +3 attack and +3 health. Works 1 time per turn."}],"Id":"199","Name":"Jerboa","NameId":"Jerboa","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"After first attack: Make the highest attack enemy Spooked and push it to the back."},{"Level":2,"About":"After first attack: Make the two highest attack enemies Spooked and push them to the back."},{"Level":3,"About":"After first attack: Make the three highest attack enemies Spooked and push them to the back."}],"Id":"419","Name":"Kakapo","NameId":"Kakapo","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Ailments","Disruption"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Remove 15% health from ALL other pets."},{"Level":2,"About":"Start of battle: Remove 30% health from ALL other pets."},{"Level":3,"About":"Start of battle: Remove 45% health from ALL other pets."}],"Id":"355","Name":"Kraken","NameId":"Kraken","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Give random ailments to ANY three random pets. Double the effect on enemies."},{"Level":2,"About":"Faint: Give random ailments to ANY six random pets. Double the effect on enemies."},{"Level":3,"About":"Faint: Give random ailments to ANY nine random pets. Double the effect on enemies."}],"Id":"750","Name":"Leaf Gecko","NameId":"SatanicLeafTailedGecko","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"],"Random":true},{"Attack":7,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Give adjacent friends 1 experience and remove this."},{"Level":2,"About":"Start of battle: Give adjacent friends 2 experience and remove this."},{"Level":3,"About":"Start of battle: Give adjacent friends 3 experience and remove this."}],"Id":"723","Name":"Leafy Sea Dragon","NameId":"LeafySeaDragon","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Cycle","Levels"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"End turn: If there is an empty space, gain +1 attack and +2 health."},{"Level":2,"About":"End turn: If there is an empty space, gain +2 attack and +4 health."},{"Level":3,"About":"End turn: If there is an empty space, gain +3 attack and +6 health."}],"Id":"44","Name":"Llama","NameId":"Llama","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend summoned: If outside battle, give it +1 attack and +2 health."},{"Level":2,"About":"Friend summoned: If outside battle, give it +2 attack and +4 health."},{"Level":3,"About":"Friend summoned: If outside battle, give it +3 attack and +6 health."}],"Id":"93","Name":"Lobster","NameId":"Lobster","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one friend and feed it with random food for every food eaten this turn."},{"Level":2,"About":"Faint: Summon two friends and feed them with random food for every food eaten this turn."},{"Level":3,"About":"Faint: Summon three friends and feed them with random food for every food eaten this turn."}],"Id":"698","Name":"Locust","NameId":"Locust","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Summon","Food"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Five enemy attacks: Gain +4 health and remove 4 health from all enemies."},{"Level":2,"About":"Five enemy attacks: Gain +8 health and remove 8 health from all enemies."},{"Level":3,"About":"Five enemy attacks: Gain +12 health and remove 12 health from all enemies."}],"Id":"420","Name":"Longcomb Sawfish","NameId":"LongcombSawfish","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal damage to one random enemy equal to the sum of all friendly levels."},{"Level":2,"About":"Start of battle: Deal damage to two random enemies equal to the sum of all friendly levels."},{"Level":3,"About":"Start of battle: Deal damage to three random enemies equal to the sum of all friendly levels."}],"Id":"200","Name":"Lynx","NameId":"Lynx","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels","Disruption"],"Random":true},{"Attack":2,"Health":11,"Abilities":[{"Level":1,"About":"End turn: Take 5 damage and give the nearest friend ahead +2 attack and +1 health."},{"Level":2,"About":"End turn: Take 5 damage and give the nearest friend ahead +4 attack and +2 health."},{"Level":3,"About":"End turn: Take 5 damage and give the nearest friend ahead +6 attack and +3 health."}],"Id":"192","Name":"Manatee","NameId":"Manatee","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"End turn: If there is an empty space, gain +2 gold next turn."},{"Level":2,"About":"End turn: If there is an empty space, gain +4 gold next turn."},{"Level":3,"About":"End turn: If there is an empty space, gain +6 gold next turn."}],"Id":"240","Name":"Manta Ray","NameId":"MantaRay","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"Faint: Make ALL pets within 3 spaces Weak."},{"Level":2,"About":"Faint: Make ALL pets within 6 spaces Weak."},{"Level":3,"About":"Faint: Make ALL pets within 9 spaces Weak."}],"Id":"94","Name":"Microbe","NameId":"Microbe","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Three friends faint: Gain +1 gold on next turn."},{"Level":2,"About":"Three friends faint: Gain +2 gold on next turn."},{"Level":3,"About":"Three friends faint: Gain +3 gold on next turn."}],"Id":"359","Name":"Mimic","NameId":"Mimic","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Gold","Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Gain +1 attack and +1 health for each of the friend\'s level."},{"Level":2,"About":"Friend ahead attacks: Gain +2 attack and +2 health for each of the friend\'s level."},{"Level":3,"About":"Friend ahead attacks: Gain +3 attack and +3 health for each of the friend\'s level."}],"Id":"360","Name":"Minotaur","NameId":"Minotaur","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 nostalgic toy."},{"Level":2,"About":"Start of turn: Choose one level 2 nostalgic toy."},{"Level":3,"About":"Start of turn: Choose one level 3 nostalgic toy."}],"Id":"612","Name":"Old Mouse","NameId":"OldMouse","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"],"Random":true},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Copy ability from the nearest pet ahead as level 1 until next turn."},{"Level":2,"About":"End turn: Copy ability from the nearest pet ahead as level 2 until next turn."},{"Level":3,"About":"End turn: Copy ability from the nearest pet ahead as level 3 until next turn."}],"Id":"53","Name":"Parrot","NameId":"Parrot","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Mvp","Mvp"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give three friends +1 attack until next turn."},{"Level":2,"About":"Friend summoned: Give three friends +2 attack until next turn."},{"Level":3,"About":"Friend summoned: Give three friends +3 attack until next turn."}],"Id":"365","Name":"Pegasus","NameId":"Pegasus","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":3,"Abilities":[{"Level":1,"About":"Start of turn: Give two level 2 or higher friends +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give two level 2 or higher friends +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give two level 2 or higher friends +3 attack and +3 health."}],"Id":"56","Name":"Penguin","NameId":"Penguin","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Gain +1 trumpet for each roll (max 8) this turn."},{"Level":2,"About":"Start of battle: Gain +2 trumpets for each roll (max 8) this turn."},{"Level":3,"About":"Start of battle: Gain +3 trumpets for each roll (max 8) this turn."}],"Id":"734","Name":"Platybelodon","NameId":"Platybelodon","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Roll"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Faint & Sell: Summon one 3/2 level 1 Duck and Beaver."},{"Level":2,"About":"Faint & Sell: Summon one 6/4 level 2 Duck and Beaver."},{"Level":3,"About":"Faint & Sell: Summon one 9/6 level 3 Duck and Beaver."}],"Id":"159","Name":"Platypus","NameId":"Platypus","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle","Summon"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Friend ahead faints: Deal 4 damage to the highest health enemy."},{"Level":2,"About":"Friend ahead faints: Deal 8 damage to the highest health enemy."},{"Level":3,"About":"Friend ahead faints: Deal 12 damage to the highest health enemy."}],"Id":"252","Name":"Poison Dart Frog","NameId":"PoisonDartFrog","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend transformed: Give it +3 experience. Works 1 time per battle."},{"Level":2,"About":"Friend transformed: Give it +3 experience. Works 2 times per battle."},{"Level":3,"About":"Friend transformed: Give it +3 experience. Works 3 times per battle."}],"Id":"729","Name":"Poodle Moth","NameId":"PoodleMoth","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels","Transform"]},{"Attack":7,"Health":2,"Abilities":[{"Level":1,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Deal 50 damage to adjacent friends and gain +6 attack and +6 health."}],"Id":"126","Name":"Praying Mantis","NameId":"PrayingMantis","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff","Mvp"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Puppy toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Puppy toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Puppy toy."}],"Id":"97","Name":"Puppy","NameId":"Puppy","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 1 time per battle."},{"Level":2,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 2 times per battle."},{"Level":3,"About":"Before friend attacks: Give it the Strawberry perk and +5 attack. Works 3 times per battle."}],"Id":"760","Name":"Racket Tail","NameId":"WhiteBootedRacketTail","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from one tier below."},{"Level":2,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from two tiers below."},{"Level":3,"About":"Start of battle: Transform the opposite enemy into ANY random <b>Faint</b> pet from three tiers below."}],"Id":"742","Name":"Red Lipped Batfish","NameId":"RedLippedBatfish","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 3 times and spread evenly."},{"Level":2,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 6 times and spread evenly."},{"Level":3,"About":"Start of battle: Give one friend ahead +2 mana. Repeat 9 times and spread evenly."}],"Id":"369","Name":"Roc","NameId":"Roc","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give two friends with less health than this +1 attack and +1 health."},{"Level":2,"About":"End turn: Give two friends with less health than this +2 attack and +2 health."},{"Level":3,"About":"End turn: Give two friends with less health than this +3 attack and +3 health."}],"Id":"622","Name":"Rootling","NameId":"Rootler","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Replace friendly strawberries with +4 mana."},{"Level":2,"About":"Start of battle: Replace friendly strawberries with +8 mana."},{"Level":3,"About":"Start of battle: Replace friendly strawberries with +12 mana."}],"Id":"802","Name":"Ruspoli\'s Turaco","NameId":"RuspolisTuraco","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Two friends faint: Gain +3 trumpets."},{"Level":2,"About":"Two friends faint: Gain +6 trumpets."},{"Level":3,"About":"Two friends faint: Gain +9 trumpets."}],"Id":"257","Name":"Saiga Antelope","NameId":"SaigaAntelope","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Summon"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: If it was a Sell pet, give one random friend +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Friend sold: If it was a Sell pet, give one random friend +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Friend sold: If it was a Sell pet, give one random friend +3 attack and +3 health. Works 3 times per turn."}],"Id":"563","Name":"Sea Anemone","NameId":"SeaAnemone","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Copy this pet\'s food perk to it. Works 3 times per turn."}],"Id":"128","Name":"Seagull","NameId":"Seagull","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give friends behind +1 attack and friends ahead +1 health."},{"Level":2,"About":"End turn: Give friends behind +2 attack and friends ahead +2 health."},{"Level":3,"About":"End turn: Give friends behind +3 attack and friends ahead +3 health."}],"Id":"175","Name":"Sealion","NameId":"Sealion","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"End turn: Give adjacent pets +1 attack. Also +1 health if the shop has discounted food."},{"Level":2,"About":"End turn: Give adjacent pets +2 attack. Also +2 health if the shop has discounted food."},{"Level":3,"About":"End turn: Give adjacent pets +3 attack. Also +3 health if the shop has discounted food."}],"Id":"565","Name":"Siamese","NameId":"Siamese","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 33% health from the highest health enemy."},{"Level":2,"About":"Start of battle: Remove 66% health from the highest health enemy."},{"Level":3,"About":"Start of battle: Remove 99% health from the highest health enemy."}],"Id":"70","Name":"Skunk","NameId":"Skunk","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Transformed: Feed one Pear to each friend."},{"Level":2,"About":"Transformed: Feed two Pears to each friend."},{"Level":3,"About":"Transformed: Feed three Pears to each friend."}],"Id":"780","Name":"Sleeping Gelada","NameId":"GeladaSleeping","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Summon one 2/2 Smaller Slug that summons one 1/1 Smallest Slug."},{"Level":2,"About":"Faint: Summon one 4/4 Smaller Slug that summons one 2/2 Smallest Slug."},{"Level":3,"About":"Faint: Summon one 6/6 Smaller Slug that summons one 3/3 Smallest Slug."}],"Id":"262","Name":"Slug","NameId":"Slug","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Guard"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friendly Strawberries block 5 damage twice, or ailments once."},{"Level":2,"About":"Friendly Strawberries block 10 damage twice, or ailments once."},{"Level":3,"About":"Friendly Strawberries block 15 damage twice, or ailments once."}],"Id":"567","Name":"Sparrow","NameId":"Sparrow","Tier":4,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Friend attacks: Give it +4 health and move it far back. Works on one friend per turn."},{"Level":2,"About":"Friend attacks: Give it +4 health and move it far back. Works on two different friends per turn."},{"Level":3,"About":"Friend attacks: Give it +4 health and move it far back. Works on three different friends per turn."}],"Id":"727","Name":"Spider Crab","NameId":"SpiderCrab","Tier":2,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":5,"Health":2,"Abilities":[{"Level":1,"About":"Faint: Deal 1 damage to two random enemies and multiply damage by the distance."},{"Level":2,"About":"Faint: Deal 2 damage to two random enemies and multiply damage by the distance."},{"Level":3,"About":"Faint: Deal 3 damage to two random enemies and multiply damage by the distance."}],"Id":"804","Name":"Spiny Bush Viper","NameId":"SpinyBushViper","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of turn: Discount all shop food by 1 gold."},{"Level":2,"About":"Start of turn: Discount all shop food by 2 gold."},{"Level":3,"About":"Start of turn: Discount all shop food by 3 gold."}],"Id":"75","Name":"Squirrel","NameId":"Squirrel","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give Mild Chili perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Mild Chili perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Mild Chili perk to the three nearest friends behind."}],"Id":"393","Name":"Tahr","NameId":"ArabianTahr","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack second enemy for 4 damage.","CustomArchetypes":["Perks"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Transformed: Summon a level 1 Thunder Hammer."},{"Level":2,"About":"Transformed: Summon a level 2 Thunder Hammer."},{"Level":3,"About":"Transformed: Summon a level 3 Thunder Hammer."}],"Id":"819","Name":"Tand and Tand","NameId":"ThorGoats","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":6,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give one random friendly Tandgrisner +3 health. Can also..."},{"Level":2,"About":"End turn: Give one random friendly Tandgrisner +6 health. Can also..."},{"Level":3,"About":"End turn: Give one random friendly Tandgrisner +9 health. Can also..."}],"Id":"607","Name":"Tandgnost","NameId":"ThorGoat1","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Give one random friendly Tandgnost +3 attack. Can also..."},{"Level":2,"About":"End turn: Give one random friendly Tandgnost +6 attack. Can also..."},{"Level":3,"About":"End turn: Give one random friendly Tandgnost +9 attack. Can also..."}],"Id":"608","Name":"Tandgrisner","NameId":"ThorGoat2","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 level 1 Tardigrade and make it Dazed."},{"Level":2,"About":"Faint: Summon one 6/6 level 2 Tardigrade and make it Dazed."},{"Level":3,"About":"Faint: Summon one 9/9 level 3 Tardigrade and make it Dazed."}],"Id":"570","Name":"Tardigrade","NameId":"Tardigrade","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"PerkNote":"Prevent ability from activating.","CustomArchetypes":["Summon","Ailments"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make the lowest attack enemy 5x\xa0Spooked and jump-attack it."},{"Level":2,"About":"Start of battle: Make the lowest attack enemy 10x\xa0Spooked and jump-attack it."},{"Level":3,"About":"Start of battle: Make the lowest attack enemy 15x\xa0Spooked and jump-attack it."}],"Id":"437","Name":"Tasmanian Devil","NameId":"TasmanianDevil","Tier":4,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Take +1 damage.","CustomArchetypes":["Guard","Ailments"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and deal 3 damage to the two first enemies."},{"Level":2,"About":"Empty front space: Jump to the front and deal 6 damage to the two first enemies."},{"Level":3,"About":"Empty front space: Jump to the front and deal 9 damage to the two first enemies."}],"Id":"330","Name":"Tiger Bug","NameId":"AntLion","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend sold: If it was sold for at least 3 gold, gain +1 attack and +2 health."},{"Level":2,"About":"Friend sold: If it was sold for at least 3 gold, gain +2 attack and +4 health."},{"Level":3,"About":"Friend sold: If it was sold for at least 3 gold, gain +3 attack and +6 health."}],"Id":"706","Name":"Trout","NameId":"Trout","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Melon perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Melon perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Melon perk to the three nearest friends behind."}],"Id":"80","Name":"Turtle","NameId":"Turtle","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 1 time per turn."},{"Level":2,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 2 times per turn."},{"Level":3,"About":"Friend gained ailment: Replace it with permanent +2 attack and +2 health. Works 3 times per turn."}],"Id":"380","Name":"Unicorn","NameId":"Unicorn","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +50% trumpets, and minimum +4 trumpets."},{"Level":2,"About":"Faint: Gain +100% trumpets, and minimum +8 trumpets."},{"Level":3,"About":"Faint: Gain +150% trumpets, and minimum +12 trumpets."}],"Id":"265","Name":"Vaquita","NameId":"Vaquita","Tier":4,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Make ALL pets within one space Icky."},{"Level":2,"About":"Faint: Make ALL pets within two spaces Icky."},{"Level":3,"About":"Faint: Make ALL pets within three spaces Icky."}],"Id":"386","Name":"Visitor","NameId":"Xenomorph","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Take double damage, twice.","CustomArchetypes":["Ailments"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 1 on faint."},{"Level":2,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 2 on faint."},{"Level":3,"About":"Start of battle: Swallow the nearest friend ahead and release it at level 3 on faint."}],"Id":"81","Name":"Whale","NameId":"Whale","Tier":4,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":6,"Abilities":[{"Level":1,"About":"Gain perk or ailment: Remove it and gain +1 attack and +1 health. Triple in battle."},{"Level":2,"About":"Gain perk or ailment: Remove it and gain +2 attack and +2 health. Triple in battle."},{"Level":3,"About":"Gain perk or ailment: Remove it and gain +3 attack and +3 health. Triple in battle."}],"Id":"267","Name":"Whale Shark","NameId":"WhaleShark","Tier":4,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks","Ailments"]},{"Attack":4,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Give adjacent friends +1 attack and +1 health for every 4 roll, up to 8 rolls."},{"Level":2,"About":"End turn: Give adjacent friends +2 attack and +2 health for every 4 roll, up to 8 rolls."},{"Level":3,"About":"End turn: Give adjacent friends +3 attack and +3 health for every 4 roll, up to 8 rolls."}],"Id":"371","Name":"Worm of Sand","NameId":"Sandworm","Tier":4,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 1 time per battle."},{"Level":2,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 2 times per battle."},{"Level":3,"About":"Pet lost perk: Give it Melon Slice if friendly, or deal 6 damage if enemy. Works 3 times per battle."}],"Id":"756","Name":"Yeti Crab","NameId":"YetiCrab","Tier":4,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block 10 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Transformed: Give two back-most friends 1 experience."},{"Level":2,"About":"Transformed: Give two back-most friends 2 experience."},{"Level":3,"About":"Transformed: Give two back-most friends 3 experience."}],"Id":"777","Name":"Adult Flounder","NameId":"FlounderAdult","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +3 attack and +4 mana and Spooked. Works 2 times per turn."},{"Level":2,"About":"Friend summoned: Give it +6 attack and +8 mana and Spooked. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it +9 attack and +12 mana and Spooked. Works 2 times per turn."}],"Id":"631","Name":"Amalgamation","NameId":"Amalgam","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Ailments","Summon"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give ALL pets +8 health."},{"Level":2,"About":"Start of battle: Give ALL pets +16 health."},{"Level":3,"About":"Start of battle: Give ALL pets +24 health."}],"Id":"166","Name":"Armadillo","NameId":"Armadillo","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Friendly gained perk: Give it permanent +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Friendly gained perk: Give it permanent +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Friendly gained perk: Give it permanent +3 attack and +3 health. Works 3 times per turn."}],"Id":"212","Name":"Axolotl","NameId":"Axolotl","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +3 attack and +3 health."},{"Level":2,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +6 attack and +6 health."},{"Level":3,"About":"Seven enemy attacks: Summon two Lemurs and give all friends +9 attack and +9 health."}],"Id":"395","Name":"Aye-aye","NameId":"AyeAye","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Buy: Choose one level 1 toy that brings doom and chaos!"},{"Level":2,"About":"Buy: Choose one level 2 toy that brings doom and chaos!"},{"Level":3,"About":"Buy: Choose one level 3 toy that brings doom and chaos!"}],"Id":"613","Name":"Bad Dog","NameId":"BadDog","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys","Disruption"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Remove 6 attack from ALL other pets to a minimum of 4 attack."},{"Level":2,"About":"Start of battle: Remove 12 attack from ALL other pets to a minimum of 4 attack."},{"Level":3,"About":"Start of battle: Remove 18 attack from ALL other pets to a minimum of 4 attack."}],"Id":"396","Name":"Banggai Cardinalfish","NameId":"BanggaiCardinalfish","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Eats food: Swallow the left-most shop pet and summon it at level 1 with base stats on faint."},{"Level":2,"About":"Eats food: Swallow the left-most shop pet and summon it at level 2 with double stats on faint."},{"Level":3,"About":"Eats food: Swallow the left-most shop pet and summon it at level 3 with triple stats on faint."}],"Id":"182","Name":"Beluga Whale","NameId":"WhiteWhale","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon","Mvp"]},{"Attack":2,"Health":10,"Abilities":[{"Level":1,"About":"Faint: Give the nearest friend behind +1 experience. Give to one more friend in battle."},{"Level":2,"About":"Faint: Give the nearest friend behind +2 experience. Give to one more friend in battle."},{"Level":3,"About":"Faint: Give the nearest friend behind +3 experience. Give to one more friend in battle."}],"Id":"150","Name":"Blobfish","NameId":"Blobfish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three random friends +1 attack and +1 health for each food this has eaten this turn."},{"Level":2,"About":"Faint: Give three random friends +2 attack and +2 health for each food this has eaten this turn."},{"Level":3,"About":"Faint: Give three random friends +3 attack and +3 health for each food this has eaten this turn."}],"Id":"774","Name":"Blue Jay","NameId":"BlueJay","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"],"Random":true},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Give friends +1 attack and +1 health."},{"Level":2,"About":"Buy: Give friends +2 attack and +2 health."},{"Level":3,"About":"Buy: Give friends +3 attack and +3 health."}],"Id":"271","Name":"Blue Ringed Octopus","NameId":"BlueRingedOctopus","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":2,"Health":12,"Abilities":[{"Level":1,"About":"Before attack: Make the target Crisp. Works 2 times per battle."},{"Level":2,"About":"Before attack: Make the target Crisp. Works 4 times per battle."},{"Level":3,"About":"Before attack: Make the target Crisp. Works 6 times per battle."}],"Id":"656","Name":"Boitata","NameId":"Boitata","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three friends that dealt damage this battle permanent +1 attack and +1 health."},{"Level":2,"About":"Faint: Give three friends that dealt damage this battle permanent +2 attack and +2 health."},{"Level":3,"About":"Faint: Give three friends that dealt damage this battle permanent +3 attack and +3 health."}],"Id":"688","Name":"Brahma Chicken","NameId":"BrahmaChicken","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give future shop pets +1 attack and +1 health."},{"Level":2,"About":"Start of turn: Give future shop pets +2 attack and +2 health."},{"Level":3,"About":"Start of turn: Give future shop pets +3 attack and +3 health."}],"Id":"14","Name":"Chicken","NameId":"Chicken","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Buy: Replace shop food with two free Milk."},{"Level":2,"About":"Buy: Replace shop food with two free Better Milk."},{"Level":3,"About":"Buy: Replace shop food with two free Best Milk."}],"Id":"15","Name":"Cow","NameId":"Cow","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food","Cycle"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 1 time per turn."},{"Level":2,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 2 times per turn."},{"Level":3,"About":"Friend ahead hurt: Give it Melon perk and +5 attack. Works 3 times per turn."}],"Id":"219","Name":"Crane","NameId":"Crane","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 8 damage to the last enemy."},{"Level":2,"About":"Start of battle: Deal 8 damage to the last enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 8 damage to the last enemy. Triggers 3 times."}],"Id":"19","Name":"Crocodile","NameId":"Crocodile","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +1 health to one friend of each level."},{"Level":2,"About":"End turn: Give +2 attack and +2 health to one friend of each level."},{"Level":3,"About":"End turn: Give +3 attack and +3 health to one friend of each level."}],"Id":"196","Name":"Dragonfly","NameId":"Dragonfly","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/5 level 1 pet from the next shop tier."},{"Level":2,"About":"Faint: Summon one 10/10 level 2 pet from the next shop tier."},{"Level":3,"About":"Faint: Summon one 15/15 level 3 pet from the next shop tier."}],"Id":"27","Name":"Eagle","NameId":"Eagle","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Summon","Mvp","Mvp"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 1 time per battle."},{"Level":2,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 2 times per battle."},{"Level":3,"About":"Knock out: Activate ability on the nearest Faint friend behind. Works 3 times per battle."}],"Id":"221","Name":"Egyptian Vulture","NameId":"EgyptianVulture","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Empty front space: Give nearest friend ahead +4 health and move it to the front in battle."},{"Level":2,"About":"Empty front space: Give nearest friend ahead +8 health and move it to the front in battle."},{"Level":3,"About":"Empty front space: Give nearest friend ahead +12 health and move it to the front in battle."}],"Id":"223","Name":"Emu","NameId":"Emu","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 friend with +1 attack and +1 health for each ailment gained."},{"Level":2,"About":"Faint: Summon two 3/3 friends with +1 attack and +1 health for each ailment gained."},{"Level":3,"About":"Faint: Summon three 3/3 friends with +1 attack and +1 health for each ailment gained."}],"Id":"770","Name":"Estemmenosuchus","NameId":"Estemmenosuchus","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments","Summon"]},{"Attack":6,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Feed three Corncobs with triple effect to the nearest friend behind."},{"Level":2,"About":"Faint: Feed three Corncobs with triple effect to the nearest two friends behind."},{"Level":3,"About":"Faint: Feed three Corncobs with triple effect to the nearest three friends behind."}],"Id":"691","Name":"Farmer Crow","NameId":"FarmerCrow","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give attack to the highest tier friend."},{"Level":2,"About":"Faint: Give attack to the two highest tier friends."},{"Level":3,"About":"Faint: Give attack to the three highest tier friends."}],"Id":"274","Name":"Fire Ant","NameId":"FireAnt","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Attack":2,"Health":4,"Abilities":[{"Level":1,"About":"Eats two food: Transform and give the two back-most friends 1 experience."},{"Level":2,"About":"Eats two food: Transform and give the two back-most friends 2 experience."},{"Level":3,"About":"Eats two food: Transform and give the two back-most friends 3 experience."}],"Id":"776","Name":"Flounder","NameId":"FlounderYoung","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Steal the right-most shop food."},{"Level":2,"About":"End turn: Steal the right-most shop food and double its attack and health effects."},{"Level":3,"About":"End turn: Steal the right-most shop food and triple its attack and health effects."}],"Id":"106","Name":"Fox","NameId":"Fox","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":3,"Health":10,"Abilities":[{"Level":1,"About":"Hurt: Deal 33% of damage taken as damage to one random enemy."},{"Level":2,"About":"Hurt: Deal 66% of damage taken as damage to one random enemy."},{"Level":3,"About":"Hurt: Deal 100% of damage taken as damage to one random enemy."}],"Id":"409","Name":"Geometric Tortoise","NameId":"GeometricTortoise","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Hurt"],"Random":true},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give friends +2 health. Spend 2 trumpets to give 1 more health in the future."},{"Level":2,"About":"Faint: Give friends +4 health. Spend 2 trumpets to give 2 more health in the future."},{"Level":3,"About":"Faint: Give friends +6 health. Spend 2 trumpets to give 3 more health in the future."}],"Id":"752","Name":"Giant Isopod","NameId":"GiantIsopod","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Deal 4 damage to one random enemy for each friendly transformation this turn."},{"Level":2,"About":"Faint: Deal 8 damage to one random enemy for each friendly transformation this turn."},{"Level":3,"About":"Faint: Deal 12 damage to one random enemy for each friendly transformation this turn."}],"Id":"411","Name":"Giant Pangasius","NameId":"GiantPangasius","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Disruption","Transform"],"Random":true},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend bought: Gain +1 gold. Works 2 times per turn."},{"Level":2,"About":"Friend bought: Gain +2 gold. Works 2 times per turn."},{"Level":3,"About":"Friend bought: Gain +3 gold. Works 2 times per turn."}],"Id":"34","Name":"Goat","NameId":"Goat","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle","Gold"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Roll: Gain one free roll. Works 2 times per turn."},{"Level":2,"About":"Roll: Gain one free roll. Works 4 times per turn."},{"Level":3,"About":"Roll: Gain one free roll. Works 6 times per turn."}],"Id":"110","Name":"Hamster","NameId":"Hamster","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Start of turn: Give three random friends that fainted last battle +2 health."},{"Level":2,"About":"Start of turn: Give three random friends that fainted last battle +4 health."},{"Level":3,"About":"Start of turn: Give three random friends that fainted last battle +6 health."}],"Id":"414","Name":"Hawaiian Monk Seal","NameId":"HawaiianMonkSeal","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Friend ahead faints: Gain +1 mana for each roll this turn."},{"Level":2,"About":"Friend ahead faints: Gain +2 mana for each roll this turn."},{"Level":3,"About":"Friend ahead faints: Gain +3 mana for each roll this turn."}],"Id":"350","Name":"Hippocampus","NameId":"Hippocampus","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll","Guard","Mana"],"Random":true},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Swap attack and health of ALL pets.","FinePrint":"Will shuffle positions of all pets at level 2."},{"Level":2,"About":"Start of battle: Shuffle positions of ALL pets.","FinePrint":"Will swap stats and shuffe positions of all pets at level 3."},{"Level":3,"About":"Start of battle: Swap attack and health and shuffle positions of ALL pets."}],"Id":"167","Name":"Hyena","NameId":"Hyena","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on one enemy per battle."},{"Level":2,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on two different enemies per battle."},{"Level":3,"About":"Enemy hurt or pushed: Remove 70% health from it. Works on three different enemies per battle."}],"Id":"553","Name":"Ibex","NameId":"Ibex","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Pet flung: Set attack and health to 13."},{"Level":2,"About":"Pet flung: Set attack and health to 26."},{"Level":3,"About":"Pet flung: Set attack and health to 39."}],"Id":"554","Name":"Jackal","NameId":"Jackal","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one random 14/16 pet from tier 3 up front for you and the opponent."},{"Level":2,"About":"Faint: Summon two random 14/16 pets from tier 3 up front for you and the opponent."},{"Level":3,"About":"Faint: Summon three random 14/16 pets from tier 3 up front for you and the opponent."}],"Id":"655","Name":"Kappa","NameId":"Kappa","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"],"Random":true},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Friend faints: Transfer all friendly mana + 2 to nearest friend ahead."},{"Level":2,"About":"Friend faints: Transfer all friendly mana + 4 to nearest friend ahead."},{"Level":3,"About":"Friend faints: Transfer all friendly mana + 6 to nearest friend ahead."}],"Id":"354","Name":"Kitsune","NameId":"Kitsune","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":1,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it +1 attack and +2 health once. Permanent if it jumped."},{"Level":2,"About":"Before friend attacks: Give it +2 attack and +4 health once. Permanent if it jumped."},{"Level":3,"About":"Before friend attacks: Give it +3 attack and +6 health once. Permanent if it jumped."}],"Id":"640","Name":"Loveland Frogman","NameId":"LovelandFrogman","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend mana to remove 1 attack and health per mana from one random enemy."},{"Level":2,"About":"Faint: Spend mana to remove 1 attack and health per mana from two random enemies."},{"Level":3,"About":"Faint: Spend mana to remove 1 attack and health per mana from three random enemies."}],"Id":"808","Name":"Lusca","NameId":"Lusca","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"],"Random":true},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 12/12 Orangutan with the same food perk as this."},{"Level":2,"About":"Start of battle: Summon one 24/24 Orangutan with the same food perk as this."},{"Level":3,"About":"Start of battle: Summon one 36/36 Orangutan with the same food perk as this."}],"Id":"238","Name":"Macaque","NameId":"Macaque","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Convert trumpets into double mana and spread it evenly to friends."},{"Level":2,"About":"Faint: Convert trumpets into triple mana and spread it evenly to friends."},{"Level":3,"About":"Faint: Convert trumpets into quadruple mana and spread it evenly to friends."}],"Id":"556","Name":"Maltese","NameId":"Maltese","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets","Mana"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Before friend attacks: Give it Melon. Works on one friend per turn."},{"Level":2,"About":"Before friend attacks: Give it Melon. Works on two different friends per turn."},{"Level":3,"About":"Before friend attacks: Give it Melon. Works on three different friends per turn."}],"Id":"532","Name":"Marine Iguana","NameId":"MarineIguana","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give front-most friendly pet +2 attack and +2 health."},{"Level":2,"About":"End turn: Give front-most friendly pet +4 attack and +4 health."},{"Level":3,"About":"End turn: Give front-most friendly pet +6 attack and +6 health."}],"Id":"46","Name":"Monkey","NameId":"Monkey","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Unfreeze shop and give one random friend +3 health for each tier 1 shop pet."},{"Level":2,"About":"End turn: Unfreeze shop and give one random friend +6 health for each tier 1 shop pet."},{"Level":3,"About":"End turn: Unfreeze shop and give one random friend +9 health for each tier 1 shop pet."}],"Id":"202","Name":"Moose","NameId":"Moose","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Friendly toy broke: Give adjacent friends +2 attack and +3 health."},{"Level":2,"About":"Friendly toy broke: Give adjacent friends +4 attack and +6 health."},{"Level":3,"About":"Friendly toy broke: Give adjacent friends +6 attack and +9 health."}],"Id":"242","Name":"Mosasaurus","NameId":"Mosasaurus","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Spend mana to gain 1 trumpet for each mana."},{"Level":2,"About":"Faint: Spend mana to gain 2 trumpets for each mana."},{"Level":3,"About":"Faint: Spend mana to gain 3 trumpets for each mana."}],"Id":"784","Name":"Namazu","NameId":"Namazu","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Trumpets"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one 3/3 Boat. If it\'s your first Boat this battle, give it +1 and +1 for each roll."},{"Level":2,"About":"Faint: Summon one 6/6 Boat. If it\'s your first Boat this battle, give it +2 and +2 for each roll."},{"Level":3,"About":"Faint: Summon one 9/9 Boat. If it\'s your first Boat this battle, give it +3 and +3 for each roll."}],"Id":"363","Name":"Nessie","NameId":"Nessie","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"614","Name":"Nessie?","NameId":"FakeNessie","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Takes 4 less damage. Works 3 times per turn."},{"Level":2,"About":"Takes 8 less damage. Works 3 times per turn."},{"Level":3,"About":"Takes 12 less damage. Works 3 times per turn."}],"Id":"657","Name":"Nurikabe","NameId":"Nurikabe","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to one random enemy."},{"Level":2,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to two random enemies."},{"Level":3,"About":"Faint: Spend up to 6 trumpets and deal triple as damage to three random enemies."}],"Id":"276","Name":"Nurse Shark","NameId":"NurseShark","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"],"Random":true},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Gain +8 trumpets."},{"Level":2,"About":"Faint: Gain +16 trumpets."},{"Level":3,"About":"Faint: Gain +24 trumpets."}],"Id":"246","Name":"Nyala","NameId":"Nyala","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":8,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Summon one Mantis with 40% attack and health of this."},{"Level":2,"About":"Start of battle: Summon one Mantis with 80% attack and health of this."},{"Level":3,"About":"Start of battle: Summon one Mantis with 120% attack and health of this."}],"Id":"557","Name":"Orchid Mantis","NameId":"OrchidMantis","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Gain +4 attack and +4 health for each friend that sells for at least 3 gold."},{"Level":2,"About":"Start of battle: Gain +8 attack and +8 health for each friend that sells for at least 3 gold."},{"Level":3,"About":"Start of battle: Gain +12 attack and +12 health for each friend that sells for at least 3 gold."}],"Id":"801","Name":"Pacific Fanfish","NameId":"PacificFanfish","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give White Okra perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give White Okra perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give White Okra perk to the three nearest friends behind."}],"Id":"423","Name":"Painted Terrapin","NameId":"PaintedTerrapin","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 10 damage twice or ailment once.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Perks are two times stronger on this in battle."},{"Level":2,"About":"Perks are three times stronger on this in battle."},{"Level":3,"About":"Perks are four times stronger on this in battle."}],"Id":"250","Name":"Panther","NameId":"Panther","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Swallow one Strawberry friend ahead and turn it into a Salmon on faint."},{"Level":2,"About":"Start of battle: Swallow two Strawberry friends ahead and turn them into Salmons on faint."},{"Level":3,"About":"Start of battle: Swallow three Strawberry friends ahead and turn them into Salmons on faint."}],"Id":"129","Name":"Pelican","NameId":"Pelican","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry","Summon"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Spend 4 mana to gain +3 gold next turn."},{"Level":2,"About":"Faint: Spend 4 mana to gain +6 gold next turn."},{"Level":3,"About":"Faint: Spend 4 mana to gain +9 gold next turn."}],"Id":"619","Name":"Pixiu","NameId":"Pixiu","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of turn: Give one random frozen shop pet +4 attack and +4 health."},{"Level":2,"About":"Start of turn: Give one random frozen shop pet +8 attack and +8 health."},{"Level":3,"About":"Start of turn: Give one random frozen shop pet +12 attack and +12 health."}],"Id":"108","Name":"Polar Bear","NameId":"PolarBear","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Before attack: Steal food perk from target. Works 1 time per battle."},{"Level":2,"About":"Before attack: Steal food perk from target. Works 2 times per battle."},{"Level":3,"About":"Before attack: Steal food perk from target. Works 3 times per battle."}],"Id":"158","Name":"Raccoon","NameId":"Racoon","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Make the last enemy Crisp."},{"Level":2,"About":"Start of battle: Make the two last enemies Crisp."},{"Level":3,"About":"Start of battle: Make the three last enemies Crisp."}],"Id":"368","Name":"Red Dragon","NameId":"RedDragon","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":["Ailments"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."},{"Level":2,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."},{"Level":3,"About":"Buy: Choose and transform into a pet from the next shop tier from ANY pack."}],"Id":"428","Name":"Red Panda","NameId":"RedPanda","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Knock out: Deal 4 damage to the first enemy. Double against tier 1 pets."},{"Level":2,"About":"Knock out: Deal 8 damage to the first enemy. Double against tier 1 pets."},{"Level":3,"About":"Knock out: Deal 12 damage to the first enemy. Double against tier 1 pets."}],"Id":"55","Name":"Rhino","NameId":"Rhino","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one Chick with 1 health and 50% attack of this."},{"Level":2,"About":"Faint: Summon two Chicks with 1 health and 50% attack of this."},{"Level":3,"About":"Faint: Summon three Chicks with 1 health and 50% attack of this."}],"Id":"63","Name":"Rooster","NameId":"Rooster","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Summoned: Deal 5 damage to one random enemy. Repeat for every 25 health this has."},{"Level":2,"About":"Summoned: Deal 10 damage to one random enemy. Repeat for every 25 health this has."},{"Level":3,"About":"Summoned: Deal 15 damage to one random enemy. Repeat for every 25 health this has."}],"Id":"562","Name":"Salmon","NameId":"Salmon","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[],"Random":true},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the two front-most friends AND enemies +2 experience."},{"Level":2,"About":"Start of battle: Give the two front-most friends AND enemies +4 experience."},{"Level":3,"About":"Start of battle: Give the two front-most friends AND enemies +6 experience."}],"Id":"370","Name":"Salmon of Knowledge","NameId":"SalmonofWisdom","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"Summoned: Gain Peanut perk."},{"Level":2,"About":"Summoned: Gain Peanut perk."},{"Level":3,"About":"Summoned: Gain Peanut perk."}],"Id":"65","Name":"Scorpion","NameId":"Scorpion","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Make one random enemy Tasty."},{"Level":2,"About":"Start of battle: Make two random enemies Tasty."},{"Level":3,"About":"Start of battle: Make three random enemies Tasty."}],"Id":"564","Name":"Sea Cucumber","NameId":"SeaCucumber","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Faint: Give one random enemy permanent +2 attack and +2 health.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Eats food: Give three random friends +1 attack."},{"Level":2,"About":"Eats food: Give three random friends +2 attack."},{"Level":3,"About":"Eats food: Give three random friends +3 attack."}],"Id":"66","Name":"Seal","NameId":"Seal","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Food"],"Random":true},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Two friends faint: Give the nearest friend ahead +3 attack and +4 health."},{"Level":2,"About":"Two friends faint: Give the nearest friend ahead +6 attack and +8 health."},{"Level":3,"About":"Two friends faint: Give the nearest friend ahead +9 attack and +12 health."}],"Id":"259","Name":"Secretary Bird","NameId":"SecretaryBird","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":2,"Abilities":[{"Level":1,"About":"Friend faints: Gain +2 attack and +2 health."},{"Level":2,"About":"Friend faints: Gain +4 attack and +4 health."},{"Level":3,"About":"Friend faints: Gain +6 attack and +6 health."}],"Id":"69","Name":"Shark","NameId":"Shark","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Replace the nearest Strawberry ahead with +4 attack and +4 health."},{"Level":2,"About":"Start of turn: Replace the nearest Strawberry ahead with +8 attack and +8 health."},{"Level":3,"About":"Start of turn: Replace the nearest Strawberry ahead with +12 attack and +12 health."}],"Id":"134","Name":"Shoebill","NameId":"Shoebill","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"End turn: Give three random friends with no food perks +1 attack and +1 health."},{"Level":2,"About":"End turn: Give three random friends with no food perks +2 attack and +2 health."},{"Level":3,"About":"End turn: Give three random friends with no food perks +3 attack and +3 health."}],"Id":"146","Name":"Siberian Husky","NameId":"SiberianHusky","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain +1 gold on next turn. Works 3 times per battle."},{"Level":2,"About":"Before attack: Gain +2 gold on next turn. Works 3 times per battle."},{"Level":3,"About":"Before attack: Gain +3 gold on next turn. Works 3 times per battle."}],"Id":"261","Name":"Silver Fox","NameId":"SilverFox","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Skewer perk to the nearest friend behind."},{"Level":2,"About":"Faint: Give Skewer perk to the two nearest friends behind."},{"Level":3,"About":"Faint: Give Skewer perk to the three nearest friends behind."}],"Id":"277","Name":"Snapping Turtle","NameId":"SnappingJawTurtle","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack second and third enemy for 3 damage.","CustomArchetypes":["Perks"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Gain +5 attack and +5 health and jump-attack one random enemy."},{"Level":2,"About":"Start of battle: Gain +10 attack and +10 health and jump-attack one random enemy."},{"Level":3,"About":"Start of battle: Gain +15 attack and +15 health and jump-attack one random enemy."}],"Id":"716","Name":"Snow Leopard","NameId":"SnowLeopard","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"],"Random":true},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Level 3 friend sold: Give friends +1 attack and +1 health. Triple if sold pet had at least 10 attack."},{"Level":2,"About":"Level 3 friend sold: Give friends +2 attack and +2 health. Triple if sold pet had at least 10 attack."},{"Level":3,"About":"Level 3 friend sold: Give friends +3 attack and +3 health. Triple if sold pet had at least 10 attack."}],"Id":"153","Name":"Starfish","NameId":"Starfish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Sting Ray toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Sting Ray toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Sting Ray toy."}],"Id":"178","Name":"Sting Ray","NameId":"Stingray","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal attack damage directly back to whoever knocked this out."},{"Level":2,"About":"Faint: Deal double attack damage directly back to whoever knocked this out."},{"Level":3,"About":"Faint: Deal triple attack damage directly back to whoever knocked this out."}],"Id":"278","Name":"Stonefish","NameId":"Stonefish","Tier":5,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Attack":6,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Deal 100% attack damage to the most healthy enemy and itself."},{"Level":2,"About":"Start of battle: Deal 200% attack damage to the most healthy enemy and itself."},{"Level":3,"About":"Start of battle: Deal 300% attack damage to the most healthy enemy and itself."}],"Id":"119","Name":"Swordfish","NameId":"SwordFish","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Adjacent friend attacked: Give friends +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Adjacent friend attacked: Give friends +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Adjacent friend attacked: Give friends +3 attack and +3 health. Works 3 times per turn."}],"Id":"436","Name":"Taita Thrush","NameId":"TaitaThrush","Tier":5,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"]},{"Attack":10,"Health":2,"Abilities":[{"Level":1,"About":"Start of battle: Remove 1 health from all enemies. Repeat for every 10 attack this has."},{"Level":2,"About":"Start of battle: Remove 2 health from all enemies. Repeat for every 10 attack this has."},{"Level":3,"About":"Start of battle: Remove 3 health from all enemies. Repeat for every 10 attack this has."}],"Id":"569","Name":"Tarantula Hawk","NameId":"TarantulaHawk","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Remove 25% of all stats and divide them out. Socialism!"},{"Level":2,"About":"Start of battle: Remove 50% of all stats and divide them out. Socialism!"},{"Level":3,"About":"Start of battle: Remove 75% of all stats and divide them out. Socialism!"}],"Id":"812","Name":"Tarasque","NameId":"Tarasque","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Give one random friend +3 attack and +3 health."},{"Level":2,"About":"Hurt: Give one random friend +6 attack and +6 health."},{"Level":3,"About":"Hurt: Give one random friend +9 attack and +9 health."}],"Id":"142","Name":"Triceratops","NameId":"Triceratops","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"],"Random":true},{"Attack":3,"Health":4,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +3 attack and +1 health."},{"Level":2,"About":"Friend summoned: Give it +6 attack and +2 health."},{"Level":3,"About":"Friend summoned: Give it +9 attack and +3 health."}],"Id":"79","Name":"Turkey","NameId":"Turkey","Tier":5,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Enemy gained ailment: Deal 4 damage to it and gain damage as health. Works 2 times per battle."},{"Level":2,"About":"Enemy gained ailment: Deal 8 damage to it and gain damage as health. Works 2 times per battle."},{"Level":3,"About":"Enemy gained ailment: Deal 12 damage to it and gain damage as health. Works 2 times per battle."}],"Id":"381","Name":"Vampire Bat","NameId":"VampireBat","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":2,"Health":7,"Abilities":[{"Level":1,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold.","FinePrint":"Can\'t stock itself or Anglerfish."},{"Level":2,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold, twice.","FinePrint":"Can\'t stock itself or Anglerfish."},{"Level":3,"About":"Sell: Choose one remaining pet from last battle to stock at 2 gold, thrice.","FinePrint":"Can\'t stock itself or Anglerfish."}],"Id":"573","Name":"Venus Flytrap","NameId":"VenusFlytrap","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Two friends faint: Deal 4 damage to one random enemy."},{"Level":2,"About":"Two friends faint: Deal 8 damage to one random enemy."},{"Level":3,"About":"Two friends faint: Deal 12 damage to one random enemy."}],"Id":"135","Name":"Vulture","NameId":"Vulture","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Disruption","Summon"],"Random":true},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: If turn number is even, gain +50% attack and health. Otherwise gain 6 mana."},{"Level":2,"About":"Start of battle: If turn number is even, gain +100% attack and health. Otherwise gain 12 mana."},{"Level":3,"About":"Start of battle: If turn number is even, gain +150% attack and health. Otherwise gain 18 mana."}],"Id":"383","Name":"Werewolf","NameId":"Werewolf","Tier":5,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Summon three 3/2 Pigs."},{"Level":2,"About":"Faint: Summon three 6/4 Pigs."},{"Level":3,"About":"Faint: Summon three 9/6 Pigs."}],"Id":"170","Name":"Wolf","NameId":"Wolf","Tier":5,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Deal 1 damage to nearest two pets ahead two times. Double against enemies."},{"Level":2,"About":"Start of battle: Deal 1 damage to nearest two pets ahead four times. Double against enemies."},{"Level":3,"About":"Start of battle: Deal 1 damage to nearest two pets ahead six times. Double against enemies."}],"Id":"156","Name":"Woodpecker","NameId":"Woodpecker","Tier":5,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt","Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 4 damage for each different friendly ailment to the first enemy."},{"Level":2,"About":"Start of battle: Deal 4 damage for each different friendly ailment to the first two enemies."},{"Level":3,"About":"Start of battle: Deal 4 damage for each different friendly ailment to the first three enemies."}],"Id":"807","Name":"Woolly Rhino","NameId":"WoollyRhino","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Buy & Sell: Give one random friend +2 attack and +2 health."},{"Level":2,"About":"Buy & Sell: Give one random friend +4 attack and +4 health."},{"Level":3,"About":"Buy & Sell: Give one random friend +6 attack and +6 health."}],"Id":"155","Name":"Zebra","NameId":"Zebra","Tier":5,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Cycle"],"Random":true},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +3 attack and +3 health."},{"Level":2,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +6 attack and +6 health."},{"Level":3,"About":"Faint: Spend 2 mana to give the nearest friend behind permanent +9 attack and +9 health."}],"Id":"782","Name":"Akhlut","NameId":"Akhlut","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"Adjacent tier 4 or lower friends deals 3 ability damage extra."},{"Level":2,"About":"Adjacent tier 4 or lower friends deals 6 ability damage extra."},{"Level":3,"About":"Adjacent tier 4 or lower friends deals 9 ability damage extra."}],"Id":"535","Name":"Albatross","NameId":"Albatross","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":3,"Health":7,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 1 time per turn."},{"Level":2,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 2 times per turn."},{"Level":3,"About":"Friend summoned: Give it +1 experience. Triple in battle. Works 3 times per turn."}],"Id":"194","Name":"Alpaca","NameId":"Alpaca","Tier":6,"TierMax":2147483647,"Packs":["Pack3","Custom"],"PacksRequired":["Pack3","Custom"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Friend hurt: Restore its health. Can restore up to 15 health per turn."},{"Level":2,"About":"Friend hurt: Restore its health. Can restore up to 30 health per turn."},{"Level":3,"About":"Friend hurt: Restore its health. Can restore up to 45 health per turn."}],"Id":"772","Name":"Amargasaurus","NameId":"Amargasaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":5,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +1 XP in battle for every 2 roll."},{"Level":2,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +2 XP in battle for every 2 roll."},{"Level":3,"About":"Faint: Transform friend behind into a level 1 Mimic Octopus. Give it +3 XP in battle for every 2 roll."}],"Id":"536","Name":"Ammonite","NameId":"Ammonite","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Transform","Levels","Roll"],"Random":true},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Friend transformed: Give it permanent +2 attack and +2 health. Works 2 times per turn."},{"Level":2,"About":"Friend transformed: Give it permanent +4 attack and +4 health. Works 2 times per turn."},{"Level":3,"About":"Friend transformed: Give it permanent +6 attack and +6 health. Works 2 times per turn."}],"Id":"391","Name":"Amsterdam Albatross","NameId":"AmsterdamAlbatross","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Buy: Choose one free pet from your last opponent to stock."},{"Level":2,"About":"Buy: Choose one free pet from your last opponent to stock twice."},{"Level":3,"About":"Buy: Choose one free pet from your last opponent to stock thrice."}],"Id":"180","Name":"Anglerfish","NameId":"Anglerfish","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make the highest attack enemy Sleepy."},{"Level":2,"About":"Start of battle: Make the two highest attack enemies Sleepy."},{"Level":3,"About":"Start of battle: Make the three highest attack enemies Sleepy."}],"Id":"603","Name":"Bakunawa","NameId":"Bakunawa","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Attack with half damage, once.","CustomArchetypes":["Ailments"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon ANY one useful <b>Start of Battle</b> pet from tier 4 and activate its ability."},{"Level":2,"About":"Faint: Summon ANY two useful <b>Start of Battle</b> pets from tier 4 and activate their abilities."},{"Level":3,"About":"Faint: Summon ANY three useful <b>Start of Battle</b> pets from tier 4 and activate their abilities."}],"Id":"397","Name":"Bay Cat","NameId":"BayCat","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":12,"Health":12,"Abilities":[{"Level":1,"About":"End turn: Gain +2 attack and +2 health. Attack and health can go up to 100!"},{"Level":2,"About":"End turn: Gain +4 attack and +4 health. Attack and health can go up to 100!"},{"Level":3,"About":"End turn: Gain +6 attack and +6 health. Attack and health can go up to 100!"}],"Id":"333","Name":"Behemoth","NameId":"Behemoth","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Buff","Mvp"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Spend 7 gold: Give three random friends +1 attack and +1 health. Works 3 times per turn."},{"Level":2,"About":"Spend 7 gold: Give three random friends +2 attack and +2 health. Works 3 times per turn."},{"Level":3,"About":"Spend 7 gold: Give three random friends +3 attack and +3 health. Works 3 times per turn."}],"Id":"181","Name":"Bird of Paradise","NameId":"ParadiseBird","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Buff","Gold"],"Random":true},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Remove 4 health from one random enemy for each food this has eaten this turn."},{"Level":2,"About":"Faint: Remove 8 health from one random enemy for each food this has eaten this turn."},{"Level":3,"About":"Faint: Remove 12 health from one random enemy for each food this has eaten this turn."}],"Id":"687","Name":"Black Bear","NameId":"BlackBear","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Disruption","Food"],"Random":true},{"Attack":5,"Health":9,"Abilities":[{"Level":1,"About":"Seven enemy attacks: Deal 30 damage to the most healthy enemy."},{"Level":2,"About":"Seven enemy attacks: Deal 30 damage to the two most healthy enemies."},{"Level":3,"About":"Seven enemy attacks: Deal 30 damage to the three most healthy enemies."}],"Id":"398","Name":"Black Rhino","NameId":"BlackRhino","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":12,"Health":12,"Abilities":[{"Level":1,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Sell friends for +2 extra gold each and give future shop pets +6 attack and +6 health."}],"Id":"399","Name":"Blue Whale","NameId":"BlueWhale","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain +4 attack and +2 health."},{"Level":2,"About":"Before attack: Gain +8 attack and +4 health."},{"Level":3,"About":"Before attack: Gain +12 attack and +6 health."}],"Id":"103","Name":"Boar","NameId":"Boar","Tier":6,"TierMax":2147483647,"Packs":["Pack1","Custom"],"PacksRequired":["Pack1","Custom"],"Rollable":true,"CustomArchetypes":[]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Friend transformed: Gain its level 1 ability. Works 2 times per battle."},{"Level":2,"About":"Friend transformed: Gain its level 2 ability. Works 2 times per battle."},{"Level":3,"About":"Friend transformed: Gain its level 3 ability. Works 2 times per battle."}],"Id":"403","Name":"California Condor","NameId":"CaliforniaCondor","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Shop food gives two times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."},{"Level":2,"About":"Shop food gives three times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."},{"Level":3,"About":"Shop food gives four times attack and health. Works 2 times per turn.","FinePrint":"Does not include perks."}],"Id":"11","Name":"Cat","NameId":"Cat","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Buff","Food","Mvp"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Activate Buy ability on the nearest friend ahead once, or give it +4 health."},{"Level":2,"About":"Start of turn: Activate Buy ability on the nearest friend ahead twice, or give it +8 health."},{"Level":3,"About":"Start of turn: Activate Buy ability on the nearest friend ahead thrice, or give it +12 health."}],"Id":"174","Name":"Catfish","NameId":"Catfish","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":9,"Health":9,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 1 time per battle."},{"Level":2,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 2 times per battle."},{"Level":3,"About":"Empty front space: Summon one 8/8 Fire Pup at level 3 up front. Works 3 times per battle."}],"Id":"337","Name":"Cerberus","NameId":"Cerberus","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Guard","Summon"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend ate corncob: Give them +1 attack and +1 health."},{"Level":2,"About":"Friend ate corncob: Give them +2 attack and +2 health."},{"Level":3,"About":"Friend ate corncob: Give them +3 attack and +3 health."}],"Id":"542","Name":"Chimpanzee","NameId":"Chimpanzee","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":12,"Health":6,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Deal 20% attack damage to one random enemy."},{"Level":2,"About":"Friend ahead attacks: Deal 40% attack damage to one random enemy."},{"Level":3,"About":"Friend ahead attacks: Deal 60% attack damage to one random enemy."}],"Id":"217","Name":"Cobra","NameId":"Cobra","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption","Guard"],"Random":true},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Transform the back-most level 1 or lower enemy to rock."},{"Level":2,"About":"Start of battle: Transform the back-most level 2 or lower enemy to rock."},{"Level":3,"About":"Start of battle: Transform the back-most level 3 or lower enemy to rock."}],"Id":"340","Name":"Cockatrice","NameId":"Cockatrice","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Eats two food: Gain Coconut perk until next turn."},{"Level":2,"About":"Eats two food: Gain Coconut perk that works twice until next turn."},{"Level":3,"About":"Eats two food: Gain Coconut perk that works thrice until next turn."}],"Id":"779","Name":"Coconut Crab","NameId":"CoconutCrab","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Food"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Tier 1 friend bought: Give friends +1 attack and +1 health. Works 4 times per turn."},{"Level":2,"About":"Tier 1 friend bought: Give friends +2 attack and +2 health. Works 4 times per turn."},{"Level":3,"About":"Tier 1 friend bought: Give friends +3 attack and +3 health. Works 4 times per turn."}],"Id":"25","Name":"Dragon","NameId":"Dragon","Tier":6,"TierMax":2147483647,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":["Buff","Cycle"]},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Before attack: Move ailment to the first two enemies."},{"Level":2,"About":"Before attack: Move ailment to the first two enemies with double effect."},{"Level":3,"About":"Before attack: Move ailment to the first two enemies with triple effect."}],"Id":"769","Name":"Dunkleosteus","NameId":"Dunkleosteus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Give three random friends +1 attack and +1 health for each battle this has fought."},{"Level":2,"About":"Faint: Give three random friends +2 attack and +2 health for each battle this has fought."},{"Level":3,"About":"Faint: Give three random friends +3 attack and +3 health for each battle this has fought."}],"Id":"781","Name":"Eagle Owl","NameId":"EagleOwl","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"Gain perk: Give three friends +4 attack and +4 health until next turn. Works 1 time per turn."},{"Level":2,"About":"Gain perk: Give three friends +8 attack and +8 health until next turn. Works 1 time per turn."},{"Level":3,"About":"Gain perk: Give three friends +12 attack and +12 health until next turn. Works 1 time per turn."}],"Id":"222","Name":"Elephant Seal","NameId":"ElephantSeal","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Feed one Corncob to all friends."},{"Level":2,"About":"End turn: Feed two Corncobs to all friends."},{"Level":3,"About":"End turn: Feed three Corncobs to all friends."}],"Id":"692","Name":"Farmer Dog","NameId":"FarmerDog","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Food"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend faints: Summon one 4/4 fly in its place. Works 3 times per turn."},{"Level":2,"About":"Friend faints: Summon one 8/8 fly in its place. Works 3 times per turn."},{"Level":3,"About":"Friend faints: Summon one 12/12 fly in its place. Works 3 times per turn."}],"Id":"30","Name":"Fly","NameId":"Fly","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Friend summoned: Give 25% of attack to it until next turn."},{"Level":2,"About":"Friend summoned: Give 50% of attack to it until next turn."},{"Level":3,"About":"Friend summoned: Give 75% of attack to it until next turn."}],"Id":"230","Name":"German Shepherd","NameId":"GermanShepard","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":7,"Health":10,"Abilities":[{"Level":1,"About":"Hurt: Gain Coconut perk. Works 1 time per turn."},{"Level":2,"About":"Hurt: Gain Coconut perk. Works 2 times per turn."},{"Level":3,"About":"Hurt: Gain Coconut perk. Works 3 times per turn."}],"Id":"36","Name":"Gorilla","NameId":"Gorilla","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Hurt"]},{"Attack":5,"Health":6,"Abilities":[{"Level":1,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 20 damage. Works 1 time per turn."},{"Level":2,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 40 damage. Works 1 time per turn."},{"Level":3,"About":"Five enemy attacks: Give all friendly pets Melon that blocks 60 damage. Works 1 time per turn."}],"Id":"413","Name":"Green Sea Turtle","NameId":"GreenSeaTurtle","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Perks","Summon"]},{"Attack":6,"Health":8,"Abilities":[{"Level":1,"About":"Five friendly attacks: Deal 6 damage to two random enemies."},{"Level":2,"About":"Five friendly attacks: Deal 12 damage to two random enemies."},{"Level":3,"About":"Five friendly attacks: Deal 18 damage to two random enemies."}],"Id":"275","Name":"Grizzly Bear","NameId":"GrizzlyBear","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Disruption","Summon"],"Random":true},{"Attack":5,"Health":5,"Abilities":[{"Level":1,"About":"Start of turn: If this has a level 3 friend, gain +3 gold."},{"Level":2,"About":"Start of turn: If this has a level 3 friend, gain +6 gold."},{"Level":3,"About":"Start of turn: If this has a level 3 friend, gain +9 gold."}],"Id":"123","Name":"Hammerhead Shark","NameId":"Hammershark","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Gold","Levels"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Hurt: Summon one random 5/5 pet from tier 1. Works 3 times per turn."},{"Level":2,"About":"Hurt: Summon one random 10/10 pet from tier 1. Works 3 times per turn."},{"Level":3,"About":"Hurt: Summon one random 15/15 pet from tier 1. Works 3 times per turn."}],"Id":"552","Name":"Harpy Eagle","NameId":"HarpyEagle","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Summon"],"Random":true},{"Attack":5,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give three friends +2 to their lowest stat."},{"Level":2,"About":"End turn: Give three friends +4 to their lowest stat."},{"Level":3,"About":"End turn: Give three friends +6 to their lowest stat."}],"Id":"415","Name":"Helmeted Hornbill","NameId":"HelmetedHornbill","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of battle: Gain +4 trumpets and 1 more for each 3 health this has."},{"Level":2,"About":"Start of battle: Gain +8 trumpets and 2 more for each 3 health this has."},{"Level":3,"About":"Start of battle: Gain +12 trumpets and 3 more for each 3 health this has."}],"Id":"186","Name":"Highland Cow","NameId":"HighlandCow","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":9,"Abilities":[{"Level":1,"About":"Friend transformed: Transform it back and down to level 1. Works 2 times per turn."},{"Level":2,"About":"Friend transformed: Transform it back and down to level 2. Works 2 times per turn."},{"Level":3,"About":"Friend transformed: Transform it back and down to level 3. Works 2 times per turn."}],"Id":"753","Name":"Hooded Seal","NameId":"HoodedSeal","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":10,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Summon one 5/5 Head for each 10 attack this has."},{"Level":2,"About":"Faint: Summon one 10/10 Head for each 10 attack this has."},{"Level":3,"About":"Faint: Summon one 15/15 Head for each 10 attack this has."}],"Id":"352","Name":"Hydra","NameId":"Hydra","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack and +1 health until next turn for each level 3 pet sold this game (max 5)."},{"Level":2,"About":"Friend summoned: Give it +2 attack and +2 health until next turn for each level 3 pet sold this game (max 5)."},{"Level":3,"About":"Friend summoned: Give it +3 attack and +3 health until next turn for each level 3 pet sold this game (max 5)."}],"Id":"652","Name":"Jersey Devil","NameId":"JerseyDevil","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Summon"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"End turn: Give friends ahead +1 attack and +1 health and then shuffle their positions."},{"Level":2,"About":"End turn: Give friends ahead +2 attack and +2 health and then shuffle their positions."},{"Level":3,"About":"End turn: Give friends ahead +3 attack and +3 health and then shuffle their positions."}],"Id":"124","Name":"Komodo","NameId":"Komodo","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"],"Random":true},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Friend faints: Deal 1 damage to the nearest friend ahead."},{"Level":2,"About":"Friend faints: Deal 1 damage to the nearest two friends ahead."},{"Level":3,"About":"Friend faints: Deal 1 damage to the nearest three friends ahead."}],"Id":"749","Name":"Lamprey","NameId":"Lamprey","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Start of battle: Deal 50% attack damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 50% attack damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 50% attack damage to three random enemies."}],"Id":"41","Name":"Leopard","NameId":"Leopard","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":6,"Health":10,"Abilities":[{"Level":1,"About":"Start of turn: Summon one 6/6 Fish and give it +2 experience."},{"Level":2,"About":"Start of turn: Summon one 12/12 Fish and give it +4 experience."},{"Level":3,"About":"Start of turn: Summon one 18/18 Fish and give it +6 experience."}],"Id":"356","Name":"Leviathan","NameId":"Leviathan","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels","Cycle"]},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: If this is your highest tier pet, gain +50% attack and health."},{"Level":2,"About":"Start of battle: If this is your highest tier pet, gain +100% attack and health."},{"Level":3,"About":"Start of battle: If this is your highest tier pet, gain +150% attack and health."}],"Id":"42","Name":"Lion","NameId":"Lion","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Pet sold: Give future shop pets of the same tier +1 attack and +1 health. Works 2 times per turn."},{"Level":2,"About":"Pet sold: Give future shop pets of the same tier +2 attack and +2 health. Works 2 times per turn."},{"Level":3,"About":"Pet sold: Give future shop pets of the same tier +3 attack and +3 health. Works 2 times per turn."}],"Id":"114","Name":"Lioness","NameId":"Lioness","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Faint: Deal 3 damage to one random enemy. Repeat for each 10 attack this has."},{"Level":2,"About":"Faint: Deal 6 damage to one random enemy. Repeat for each 10 attack this has."},{"Level":3,"About":"Faint: Deal 9 damage to one random enemy. Repeat for each 10 attack this has."}],"Id":"201","Name":"Lionfish","NameId":"Lionfish","Tier":6,"TierMax":2147483647,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":4,"Health":12,"Abilities":[{"Level":1,"About":"Faint: Give friends +2 attack and +2 health."},{"Level":2,"About":"Faint: Give friends +4 attack and +4 health."},{"Level":3,"About":"Faint: Give friends +6 attack and +6 health."}],"Id":"45","Name":"Mammoth","NameId":"Mammoth","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Attack":7,"Health":4,"Abilities":[{"Level":1,"About":"Enemy ailments are two times worse."},{"Level":2,"About":"Enemy ailments are three times worse."},{"Level":3,"About":"Enemy ailments are four times worse."}],"Id":"358","Name":"Manticore","NameId":"Manticore","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":9,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Deal 10 damage to the first enemy."},{"Level":2,"About":"Start of battle: Deal 10 damage to the first enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 10 damage to the first enemy. Triggers 3 times."}],"Id":"190","Name":"Mantis Shrimp","NameId":"ShrimpMantis","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Spend 4 trumpets to give friends permanent +4 attack and +4 health evenly spread."},{"Level":2,"About":"Faint: Spend 4 trumpets to give friends permanent +8 attack and +8 health evenly spread."},{"Level":3,"About":"Faint: Spend 4 trumpets to give friends permanent +12 attack and +12 health evenly spread."}],"Id":"743","Name":"Markhor","NameId":"Markhor","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Trumpets"]},{"Attack":4,"Health":7,"Abilities":[{"Level":1,"About":"After attack: Deal 4 damage to the least healthy enemy."},{"Level":2,"About":"After attack: Deal 4 damage to the two least healthy enemies."},{"Level":3,"About":"After attack: Deal 4 damage to the three least healthy enemies."}],"Id":"712","Name":"Mimic Octopus","NameId":"MimicOctopus","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":7,"Health":6,"Abilities":[{"Level":1,"About":"Start of turn: Choose one level 1 Mongoose toy."},{"Level":2,"About":"Start of turn: Choose one level 2 Mongoose toy."},{"Level":3,"About":"Start of turn: Choose one level 3 Mongoose toy."}],"Id":"241","Name":"Mongoose","NameId":"Mongoose","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"After attack: Deal 6 damage to one random enemy."},{"Level":2,"About":"After attack: Deal 6 damage to two random enemies."},{"Level":3,"About":"After attack: Deal 6 damage to three random enemies."}],"Id":"50","Name":"Octopus","NameId":"Octopus","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Disruption"],"Random":true},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Faint: Summon one random Faint pet from ANY pack as 6/6."},{"Level":2,"About":"Faint: Summon two random Faint pets from ANY pack as 6/6."},{"Level":3,"About":"Faint: Summon three random Faint pets from ANY pack as 6/6."}],"Id":"116","Name":"Orca","NameId":"Orca","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon"],"Random":true},{"Attack":6,"Health":7,"Abilities":[{"Level":1,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +2 health. Works 4 times per turn."},{"Level":2,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +4 health. Works 4 times per turn."},{"Level":3,"About":"Roll: If 4 shop pets are the same tier, re-roll and give friends +6 health. Works 4 times per turn."}],"Id":"125","Name":"Ostrich","NameId":"Ostrich","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Roll","Buff"],"Random":true},{"Attack":2,"Health":10,"Abilities":[{"Level":1,"About":"Sell: Gain +3 gold."},{"Level":2,"About":"Sell: Gain +6 gold."},{"Level":3,"About":"Sell: Gain +9 gold."}],"Id":"248","Name":"Oyster","NameId":"Oyster","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Gold","Cycle"]},{"Attack":7,"Health":6,"Abilities":[{"Level":1,"About":"Anyone jumped: Give one random friendly pet +4 attack and +4 health."},{"Level":2,"About":"Anyone jumped: Give one random friendly pet +8 attack and +8 health."},{"Level":3,"About":"Anyone jumped: Give one random friendly pet +12 attack and +12 health."}],"Id":"424","Name":"Philippine Eagle","NameId":"PhilippineEagle","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard"],"Random":true},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"Faint: Make ANY three random pets Crisp, then summon one 4/4 Young Phoenix."},{"Level":2,"About":"Faint: Make ANY six random pets Crisp, then summon one 8/8 Young Phoenix."},{"Level":3,"About":"Faint: Make ANY nine random pets Crisp, then summon one 12/12 Young Phoenix."}],"Id":"366","Name":"Phoenix","NameId":"Phoenix","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":["Ailments"],"Random":true},{"Attack":10,"Health":4,"Abilities":[{"Level":1,"About":"Hurt: Give friends +3 attack."},{"Level":2,"About":"Hurt: Give friends +6 attack."},{"Level":3,"About":"Hurt: Give friends +9 attack."}],"Id":"118","Name":"Piranha","NameId":"Piranha","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":2,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +1 health to one friend of each tier."},{"Level":2,"About":"End turn: Give +2 attack and +2 health to one friend of each tier."},{"Level":3,"About":"End turn: Give +3 attack and +3 health to one friend of each tier."}],"Id":"96","Name":"Poodle","NameId":"Poodle","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":3,"Health":5,"Abilities":[{"Level":1,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 1 time per battle.","FinePrint":"Does not summon other Pteranodons."},{"Level":2,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 2 times per battle.","FinePrint":"Does not summon other Pteranodons."},{"Level":3,"About":"Friend faints: Re-summon it behind this as a 1/1. Works 3 times per battle.","FinePrint":"Does not summon other Pteranodons."}],"Id":"253","Name":"Pteranodon","NameId":"Pteranodon","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Summon"]},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friendly toy repeats its ability as level 1."},{"Level":2,"About":"Friendly toy repeats its ability as level 2."},{"Level":3,"About":"Friendly toy repeats its ability as level 3."}],"Id":"254","Name":"Puma","NameId":"Puma","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":7,"Health":9,"Abilities":[{"Level":1,"About":"Sell: Choose one level 1 king toy."},{"Level":2,"About":"Sell: Choose one level 2 king toy."},{"Level":3,"About":"Sell: Choose one level 3 king toy."}],"Id":"616","Name":"Questing Beast","NameId":"QuestingBeast","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Toys"]},{"Attack":4,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give one random tier 3 or lower friend +2 experience."},{"Level":2,"About":"End turn: Give one random tier 3 or lower friend +2 experience. Triggers 2 times."},{"Level":3,"About":"End turn: Give one random tier 3 or lower friend +2 experience. Triggers 3 times."}],"Id":"367","Name":"Quetzalcoatl","NameId":"Quetzalcoatl","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"],"Random":true},{"Attack":6,"Health":5,"Abilities":[{"Level":1,"About":"Friend lost perk: Return its perk. Works on one friend per turn."},{"Level":2,"About":"Friend lost perk: Return its perk. Works on two different friends per turn."},{"Level":3,"About":"Friend lost perk: Return its perk. Works on three different friends per turn."}],"Id":"561","Name":"Real Velociraptor","NameId":"RealVelociraptor","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Perks"]},{"Attack":9,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Gain Melon perk. Works 1 time per battle."},{"Level":2,"About":"Before attack: Gain Melon perk. Works 2 times per battle."},{"Level":3,"About":"Before attack: Gain Melon perk. Works 3 times per battle."}],"Id":"205","Name":"Reindeer","NameId":"Reindeer","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":["Perks"]},{"Attack":2,"Health":5,"Abilities":[{"Level":1,"About":"Empty front space: Jump to the front and gain +12 trumpets. Works 1 time per battle."},{"Level":2,"About":"Empty front space: Jump to the front and gain +24 trumpets. Works 1 time per battle."},{"Level":3,"About":"Empty front space: Jump to the front and gain +36 trumpets. Works 1 time per battle."}],"Id":"533","Name":"Rockhopper Penguin","NameId":"SouthernRockhopperPenguin","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":["Guard","Trumpets"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Summon one Mammoth with +2 attack and +3 health for each time this was hurt."},{"Level":2,"About":"Faint: Summon two Mammoths with +2 attack and +3 health for each time this was hurt."},{"Level":3,"About":"Faint: Summon three Mammoths with +2 attack and +3 health for each time this was hurt."}],"Id":"148","Name":"Sabertooth Tiger","NameId":"SabertoothTiger","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon","Hurt"]},{"Attack":4,"Health":12,"Abilities":[{"Level":1,"About":"Friendly gained perk: Gain +1 gold next turn. Works 3 times per turn."},{"Level":2,"About":"Friendly gained perk: Gain +2 gold next turn. Works 3 times per turn."},{"Level":3,"About":"Friendly gained perk: Gain +3 gold next turn. Works 3 times per turn."}],"Id":"98","Name":"Sauropod","NameId":"Sauropod","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Gold","Perks"]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"This pet\'s mana damage hits the most healthy enemy and one extra enemy."},{"Level":2,"About":"This pet\'s mana damage hits the most healthy enemy and two extra enemies."},{"Level":3,"About":"This pet\'s mana damage hits the most healthy enemy and three extra enemies."}],"Id":"372","Name":"Sea Serpent","NameId":"SeaSerpent","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana","Disruption"]},{"Attack":4,"Health":6,"Abilities":[{"Level":1,"About":"Start of battle: Transform two friends behind into ANY useful level 1 <b>Faint</b> pets from tier 6."},{"Level":2,"About":"Start of battle: Transform two friends behind into ANY useful level 2 <b>Faint</b> pets from tier 6."},{"Level":3,"About":"Start of battle: Transform two friends behind into ANY useful level 3 <b>Faint</b> pets from tier 6."}],"Id":"432","Name":"Silky Sifaka","NameId":"SilkySifaka","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Transform"]},{"Attack":8,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +1 mana for each 2 attack this has."},{"Level":2,"About":"Start of battle: Give the two front-most friends +1 mana for each 2 attack this has."},{"Level":3,"About":"Start of battle: Give the three front-most friends +1 mana for each 2 attack this has."}],"Id":"606","Name":"Sleipnir","NameId":"Sleipnir","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies."},{"Level":2,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies. Triggers 2 times."},{"Level":3,"About":"Summoned: Deal 2 damage to ALL other pets. Double against enemies. Triggers 3 times."}],"Id":"773","Name":"Small One","NameId":"BabyCthulhu","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Friend ahead attacks: Deal 5 damage to one random enemy. Works 5 times per battle."},{"Level":2,"About":"Friend ahead attacks: Deal 10 damage to one random enemy. Works 5 times per battle."},{"Level":3,"About":"Friend ahead attacks: Deal 15 damage to one random enemy. Works 5 times per battle."}],"Id":"73","Name":"Snake","NameId":"Snake","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Guard"],"Random":true},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"Friend faints: Give one random friend +2 attack and +3 health."},{"Level":2,"About":"Friend faints: Give one random friend +4 attack and +6 health."},{"Level":3,"About":"Friend faints: Give one random friend +6 attack and +9 health."}],"Id":"143","Name":"Spinosaurus","NameId":"Spinosaurus","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Summon","Mvp"],"Random":true},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give one perk-less friend +10 attack and +10 health."},{"Level":2,"About":"Start of battle: Give one perk-less friend +20 attack and +20 health."},{"Level":3,"About":"Start of battle: Give one perk-less friend +30 attack and +30 health."}],"Id":"144","Name":"Stegosaurus","NameId":"Stegosaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":9,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Jump-attack the opposite enemy."},{"Level":2,"About":"Start of battle: Jump-attack the opposite enemy and deal 6 damage to adjacent enemies."},{"Level":3,"About":"Start of battle: Jump-attack the opposite enemy and deal 12 damage to adjacent enemies."}],"Id":"434","Name":"Sumatran Tiger","NameId":"SumatranTiger","Tier":6,"TierMax":2147483647,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":["Guard","Disruption"]},{"Attack":4,"Health":10,"Abilities":[{"Level":1,"About":"Start of battle: If turn number is odd, deal 4 damage to ALL pets ahead."},{"Level":2,"About":"Start of battle: If turn number is odd, deal 8 damage to ALL pets ahead."},{"Level":3,"About":"Start of battle: If turn number is odd, deal 12 damage to ALL pets ahead."}],"Id":"568","Name":"Sunfish","NameId":"Sunfish","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Summon one 10/10 level 1 copy of the back-most friend."},{"Level":2,"About":"Start of battle: Summon one 20/20 level 2 copy of the back-most friend."},{"Level":3,"About":"Start of battle: Summon one 30/30 level 3 copy of the back-most friend."}],"Id":"208","Name":"Tapir","NameId":"Tapir","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Cycle"]},{"Attack":4,"Health":5,"Abilities":[{"Level":1,"About":"Friend level-up: Give friends +1 attack and +1 health."},{"Level":2,"About":"Friend level-up: Give friends +2 attack and +2 health."},{"Level":3,"About":"Friend level-up: Give friends +3 attack and +3 health."}],"Id":"636","Name":"Team Spirit","NameId":"TeamSpirit","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":8,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give Peanut perk to the front-most Strawberry friend."},{"Level":2,"About":"Start of battle: Give Peanut perk to the two front-most Strawberry friends."},{"Level":3,"About":"Start of battle: Give Peanut perk to the three front-most Strawberry friends."}],"Id":"806","Name":"Terror Bird","NameId":"TerrorBird","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":["Strawberry"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to the front-most Strawberry friend."},{"Level":2,"About":"Start of battle: Give Coconut perk to the two front-most Strawberry friends."},{"Level":3,"About":"Start of battle: Give Coconut perk to the three front-most Strawberry friends."}],"Id":"759","Name":"Therizinosaurus","NameId":"Therizinosaurus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Strawberry"]},{"Attack":6,"Health":4,"Abilities":[{"Level":1,"About":"The friend ahead repeats their ability in battle as if they were level 1."},{"Level":2,"About":"The friend ahead repeats their ability in battle as if they were level 2."},{"Level":3,"About":"The friend ahead repeats their ability in battle as if they were level 3."}],"Id":"77","Name":"Tiger","NameId":"Tiger","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Disruption","Mvp","Mvp"]},{"Attack":7,"Health":7,"Abilities":[{"Level":1,"About":"Start of turn: Give two tier 5 friends or higher +2 attack and +2 health."},{"Level":2,"About":"Start of turn: Give two tier 5 friends or higher +4 attack and +4 health."},{"Level":3,"About":"Start of turn: Give two tier 5 friends or higher +6 attack and +6 health."}],"Id":"78","Name":"Tyrannosaurus","NameId":"Tyrannosaurus","Tier":6,"TierMax":2147483647,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":["Buff"]},{"Attack":4,"Health":4,"Abilities":[{"Level":1,"About":"End turn: Give +1 attack and +2 health to each friend with a different ailment."},{"Level":2,"About":"End turn: Give +2 attack and +4 health to each friend with a different ailment."},{"Level":3,"About":"End turn: Give +3 attack and +6 health to each friend with a different ailment."}],"Id":"711","Name":"Vampire Squid","NameId":"VampireSquid","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":["Ailments"]},{"Attack":3,"Health":6,"Abilities":[{"Level":1,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +2 attack and +3 health."},{"Level":2,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +4 attack and +6 health."},{"Level":3,"About":"Friend attacks: Steal friendly Strawberry ahead to give friends +6 attack and +9 health."}],"Id":"115","Name":"Velociraptor","NameId":"Velociraptor","Tier":6,"TierMax":2147483647,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":["Strawberry"]},{"Attack":7,"Health":5,"Abilities":[{"Level":1,"About":"Faint: Give Peanut Butter perk to one random friend."},{"Level":2,"About":"Faint: Give Peanut Butter perk to two random friends."},{"Level":3,"About":"Faint: Give Peanut Butter perk to three random friends."}],"Id":"209","Name":"Walrus","NameId":"Walrus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":["Perks"],"Random":true},{"Attack":9,"Health":6,"Abilities":[{"Level":1,"About":"Faint: Give random friends +1 attack and +1 health for every 3 attack this has."},{"Level":2,"About":"Faint: Give random friends +2 attack and +2 health for every 3 attack this has."},{"Level":3,"About":"Faint: Give random friends +3 attack and +3 health for every 3 attack this has."}],"Id":"266","Name":"Warthog","NameId":"Warthog","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":4,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the nearest friend behind +3 experience."},{"Level":2,"About":"Start of battle: Give the two nearest friends behind +3 experience."},{"Level":3,"About":"Start of battle: Give the three nearest friends behind +3 experience."}],"Id":"206","Name":"White Tiger","NameId":"WhiteTiger","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":["Levels"]},{"Attack":8,"Health":6,"Abilities":[{"Level":1,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 1 time per battle."},{"Level":2,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 2 times per battle."},{"Level":3,"About":"Before attack: Spend 2 trumpets to gain Coconut perk. Works 3 times per battle."}],"Id":"268","Name":"Wildebeest","NameId":"Wildebeest","Tier":6,"TierMax":2147483647,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":["Trumpets"]},{"Attack":3,"Health":8,"Abilities":[{"Level":1,"About":"End turn: Give the nearest two friends ahead 5 mana."},{"Level":2,"About":"End turn: Give the nearest two friends ahead 10 mana."},{"Level":3,"About":"End turn: Give the nearest two friends ahead 15 mana."}],"Id":"633","Name":"Winter Spirit","NameId":"ForestSpirit","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mana"]},{"Attack":5,"Health":7,"Abilities":[{"Level":1,"About":"Four friends hurt: Remove 3 health from all enemies."},{"Level":2,"About":"Four friends hurt: Remove 6 health from all enemies."},{"Level":3,"About":"Four friends hurt: Remove 9 health from all enemies."}],"Id":"269","Name":"Wolverine","NameId":"Wolverine","Tier":6,"TierMax":2147483647,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":["Hurt"]},{"Attack":3,"Health":3,"Abilities":[{"Level":1,"About":"Faint: Set attack and health of the most healthy pet from ANY team to 20."},{"Level":2,"About":"Faint: Set attack and health of the two most healthy pets from ANY team to 20."},{"Level":3,"About":"Faint: Set attack and health of the three most healthy pets from ANY team to 20."}],"Id":"766","Name":"Yellow Boxfish","NameId":"YellowBoxFish","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["MiniPack1"],"Rollable":true,"CustomArchetypes":["Disruption"]},{"Attack":5,"Health":9,"Abilities":[{"Level":1,"About":"Start of turn: Roll four times while freezing pet copies and tier 6 food."},{"Level":2,"About":"Start of turn: Roll eight times while freezing pet copies and tier 6 food."},{"Level":3,"About":"Start of turn: Roll twelve times while freezing pet copies and tier 6 food."}],"Id":"387","Name":"Yeti","NameId":"Yeti","Tier":6,"TierMax":2147483647,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Roll"],"Random":true},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"648","Name":"Chimera Goat","NameId":"ChimeraGoat","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"650","Name":"Chimera Lion","NameId":"ChimeraLion","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":1,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"649","Name":"Chimera Snake","NameId":"ChimeraSnake","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":1,"Health":2,"Abilities":[{"Level":1,"About":"No ability."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Id":"614","Name":"Fake Nessie","NameId":"FakeNessie","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":8,"Health":8,"Abilities":[{"Level":1,"About":"Start of battle: Remove this."},{"Level":2,"About":"Start of battle: Remove this. Summoned: Remove this."},{"Level":3,"About":"Start of battle: Remove this. Summoned: Remove this."}],"Id":"823","Name":"Moby Dick","NameId":"MochaDick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Attack":6,"Health":6,"Abilities":[{"Level":1,"About":"Before battle: If pack has no pets/food from the tab, remove 1 XP from three random enemies."},{"Level":2,"About":"Before battle: If pack has no pets/food from the tab, remove 2 XP from three random enemies."},{"Level":3,"About":"Before battle: If pack has no pets/food from the tab, remove 3 XP from three random enemies."}],"Id":"824","Name":"Tanystropheus","NameId":"Tanystropheus","Tier":6,"TierMax":2147483647,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]}]');var Et=Vt.t(et,2);const Ct=JSON.parse('[{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to two first enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"294","Name":"Action Figure","NameId":"RelicActionFigure","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Break: Give the front-most friend +1 attack and +1 health."},{"Level":2,"About":"Break: Give the two front-most friends +1 attack and +1 health."},{"Level":3,"About":"Break: Give the three front-most friends +1 attack and +1 health."}],"Type":1,"ToyType":0,"Id":"479","Name":"Balloon","NameId":"RelicBalloon","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Deal 50 damage to the front-most friend."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"299","Name":"Boot","NameId":"RelicBoot","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you rolled less than 6 times this turn, deal the turn number as damage to friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"300","Name":"Bowling Ball","NameId":"RelicBowlingBall","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Lose 3 gold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"310","Name":"Broken Piggy Bank","NameId":"RelicOpenPiggyBank","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of turn: Sell the two front-most friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"302","Name":"Cardboard Box","NameId":"RelicCardboardBox","Tier":1,"TierMax":4,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give +1 experience to friends and +2 experience to enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"794","Name":"Chocolate Box","NameId":"RelicChocolateBox","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Summoned: Replace this with another random toy."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"482","Name":"Crumpled Paper","NameId":"RelicCrumpledPaper","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend +2 mana."},{"Level":2,"About":"Start of battle: Give the front-most friend +4 mana."},{"Level":3,"About":"Start of battle: Give the front-most friend +6 mana."}],"Type":1,"ToyType":0,"Id":"580","Name":"Crystal Ball","NameId":"RelicCrystalBall","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Friend bought: Transform it into ANY random pet from the same tier with new base stats."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"303","Name":"Deck of Cards","NameId":"RelicCardDeck","Tier":1,"TierMax":4,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Roll: Lose 1 gold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"304","Name":"Dice","NameId":"RelicDice","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Shuffle positions of all friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"286","Name":"Dice Cup","NameId":"RelicDiceCup","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you did not buy any tier 1 food this turn, make friends Dazed until next turn."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"485","Name":"Flute","NameId":"RelicFlute","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two front-most friends Weak."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"306","Name":"Handkerchief","NameId":"RelicHandkerchief","Tier":1,"TierMax":3,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Empty front space: Remove 20% attack from the back-most friend and move it to the front."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"307","Name":"Kite","NameId":"RelicKite","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Remove 20% attack and 20% health from friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"506","Name":"Lamp","NameId":"RelicLamp","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Feed Apples to random pets for each turn number. Double their power on enemies."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"308","Name":"Lunchbox","NameId":"RelicLunchbox","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give the back-most tier 2 or lower friend +1 experience."},{"Level":2,"About":"Start of battle: Give the back-most tier 2 or lower friend +2 experience."},{"Level":3,"About":"Start of battle: Give the back-most tier 2 or lower friend +3 experience."}],"Type":1,"ToyType":0,"Id":"581","Name":"Magic Wand","NameId":"RelicMagicWand","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make two random friends Cold."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"590","Name":"Onesie","NameId":"RelicOnesie","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Friend summoned: Knock it out."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"312","Name":"Paper Shredder","NameId":"RelicPaperShredder","Tier":1,"TierMax":5,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two front-most friends Inked."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"313","Name":"Pen","NameId":"RelicPen","Tier":1,"TierMax":3,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out the two front-most friends and the front-most enemy."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"284","Name":"Pill Bottle","NameId":"RelicPillBottle","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Push the last enemy up front and give it +100% attack and +100% health."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"314","Name":"Pogo Stick","NameId":"RelicPogoStick","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Give enemies +20% attack and +20% health."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"315","Name":"Remote Car","NameId":"RelicRemoteCar","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: If you spent less than 13 gold this turn, remove 20% health from friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"582","Name":"Ring","NameId":"RelicTheOneRing","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out friends from the previous tier."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"316","Name":"Ring Pyramid","NameId":"RelicRingPyramid","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Deal 1 damage to the three front-most friends. Multiply damage with their tiers."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"285","Name":"Rock Bag","NameId":"RelicRockBag","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"All enemies fainted: Summon one 50/1 enemy Duck. Works 1 time per battle."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"318","Name":"Rubber Duck","NameId":"RelicRubberDuck","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Set attack and health of all friends to the turn number."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"795","Name":"Scale","NameId":"RelicScale","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Knock out friends from the current tier."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"486","Name":"Soccer Ball","NameId":"RelicFootball","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Give Walnut perk to the friend on the middle space."},{"Level":2,"About":"Start of battle: Give Walnut perk with double effect to the friend on the middle space."},{"Level":3,"About":"Start of battle: Give Walnut perk with triple effect to the friend on the middle space."}],"Type":1,"ToyType":0,"Id":"496","Name":"Stick","NameId":"RelicWoodenStick","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Make the two back-most friends Icky."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"792","Name":"Sticky Hand","NameId":"RelicStickyHand","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take double damage, twice.","CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Three friends faint: Summon one exact enemy copy of the back-most friend."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"324","Name":"Stuffed Bear","NameId":"RelicTeddyBear","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Remove the lowest tier perks from two friends."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"793","Name":"Vacuum Cleaner","NameId":"RelicHandheldVacuumCleaner","Tier":1,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":3,"Abilities":[{"Level":1,"About":"Start of battle: Make one random perk-less enemy Weak."},{"Level":2,"About":"Start of battle: Make two random perk-less enemies Weak."},{"Level":3,"About":"Start of battle: Make three random perk-less enemies Weak."}],"Type":1,"ToyType":0,"Id":"600","Name":"Witch Broom","NameId":"RelicWitchBroom","Tier":1,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give the front-most friend Garlic perk."},{"Level":2,"About":"Start of battle: Give the two front-most friends Garlic perk."},{"Level":3,"About":"Start of battle: Give the three front-most friends Garlic perk."}],"Type":1,"ToyType":0,"Id":"509","Name":"Garlic Press","NameId":"RelicGarlicPress","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Takes 2 less damage.","CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Friend summoned: Give it +1 attack."},{"Level":2,"About":"Friend summoned: Give it +2 attack."},{"Level":3,"About":"Friend summoned: Give it +3 attack."}],"Type":1,"ToyType":0,"Id":"598","Name":"Magic Carpet","NameId":"RelicMagicCarpet","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Friendly level-up: Give it +1 attack and +1 health."},{"Level":2,"About":"Friendly level-up: Give it +2 attack and +2 health."},{"Level":3,"About":"Friendly level-up: Give it +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"575","Name":"Magic Lamp","NameId":"RelicMagicLamp","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give Popcorn perk to the front-most perkless friend."},{"Level":2,"About":"Start of battle: Give Popcorn perk to the two front-most perkless friends."},{"Level":3,"About":"Start of battle: Give Popcorn perk to the three front-most perkless friends."}],"Type":1,"ToyType":0,"Id":"699","Name":"Microwave Oven","NameId":"RelicMicrowaver","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Faint: Summon one random pet from the same tier.","CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Give Eucalyptus perk to the front-most friend."},{"Level":2,"About":"Start of battle: Give Eucalyptus perk to the two front-most friends."},{"Level":3,"About":"Start of battle: Give Eucalyptus perk to the three front-most friends."}],"Type":1,"ToyType":0,"Id":"789","Name":"Plastic Saw","NameId":"RelicToySaw","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Break: Give friends +1 health."},{"Level":2,"About":"Break: Give friends +2 health."},{"Level":3,"About":"Break: Give friends +3 health."}],"Type":1,"ToyType":0,"Id":"488","Name":"Radio","NameId":"RelicRadio","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":5,"Abilities":[{"Level":1,"About":"Start of battle: Deal 3 damage to one random enemy."},{"Level":2,"About":"Start of battle: Deal 3 damage to two random enemies."},{"Level":3,"About":"Start of battle: Deal 3 damage to three random enemies."}],"Type":1,"ToyType":0,"Id":"478","Name":"Tennis Ball","NameId":"RelicTennisBall","Tier":2,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three friends bought: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three friends bought: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three friends bought: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"574","Name":"Candelabra","NameId":"RelicCandelabra","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 5 damage to the lowest health enemy."},{"Level":2,"About":"Start of battle: Deal 5 damage to the lowest health enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 5 damage to the lowest health enemy. Triggers 3 times."}],"Type":1,"ToyType":0,"Id":"507","Name":"Foam Sword","NameId":"RelicFoamSword","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three friends faint: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three friends faint: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three friends faint: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"586","Name":"Glass Shoes","NameId":"RelicGlassShoes","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Spend 14 gold: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Spend 14 gold: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Spend 14 gold: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"589","Name":"Golden Harp","NameId":"RelicGoldenHarp","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Three food bought: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Three food bought: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Three food bought: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"595","Name":"Lock of Hair","NameId":"RelicLockofHair","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Two friends transformed: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Two friends transformed: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Two friends transformed: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"578","Name":"Magic Mirror","NameId":"RelicMagicMirror","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Give the front-most friend Melon perk."},{"Level":2,"About":"Break: Give the two front-most friends Melon perk."},{"Level":3,"About":"Break: Give the three front-most friends Melon perk."}],"Type":1,"ToyType":0,"Id":"510","Name":"Melon Helmet","NameId":"RelicMelonHelmet","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Roll 7 times: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Roll 7 times: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Roll 7 times: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"599","Name":"Pickaxe","NameId":"RelicPickaxe","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Friend jumped: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Friend jumped: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Friend jumped: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"576","Name":"Red Cape","NameId":"RelicRedCape","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Two friendly level-up: Break and give all friends permanent +1 attack and +1 health."},{"Level":2,"About":"Two friendly level-up: Break and give all friends permanent +2 attack and +2 health."},{"Level":3,"About":"Two friendly level-up: Break and give all friends permanent +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"579","Name":"Rosebud","NameId":"RelicRosebud","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"End turn: Transform front-most friend into another random pet from 2 tiers below."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"319","Name":"Scissors","NameId":"RelicScissors","Tier":3,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Start of battle: Deal 5 damage to the last enemy."},{"Level":2,"About":"Start of battle: Deal 5 damage to the last enemy. Triggers 2 times."},{"Level":3,"About":"Start of battle: Deal 5 damage to the last enemy. Triggers 3 times."}],"Type":1,"ToyType":0,"Id":"493","Name":"Toy Gun","NameId":"RelicToyGun","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":1,"Abilities":[{"Level":1,"About":"Start of battle: Transform all friends to level 1."},{"Level":2,"About":"No ability."},{"Level":3,"About":"No ability."}],"Type":1,"ToyType":1,"Id":"327","Name":"Toy Mouse","NameId":"RelicToyMouse","Tier":3,"TierMax":6,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Stock one free pet from tier 2 as a 4/4 level 3."},{"Level":2,"About":"Break: Stock one free pet from tier 4 as a 8/8 level 3."},{"Level":3,"About":"Break: Stock one free pet from tier 6 as a 12/12 level 3."}],"Type":1,"ToyType":0,"Id":"591","Name":"Treasure Chest","NameId":"RelicTreasureChest","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"Break: Summon a level 1 Treasure Chest."},{"Level":2,"About":"Break: Summon a level 2 Treasure Chest."},{"Level":3,"About":"Break: Summon a level 3 Treasure Chest."}],"Type":1,"ToyType":0,"Id":"594","Name":"Treasure Map","NameId":"RelicTreasureMap","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":7,"Abilities":[{"Level":1,"About":"End turn: Gain one free roll next turn."},{"Level":2,"About":"End turn: Gain two free rolls next turn."},{"Level":3,"About":"End turn: Gain three free rolls next turn."}],"Type":1,"ToyType":0,"Id":"597","Name":"Winged Sandals","NameId":"RelicWingedSandals","Tier":3,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Break: Summon one 6/6 friend that sells for 3 gold."},{"Level":2,"About":"Break: Summon one 12/12 friend that sells for 6 gold."},{"Level":3,"About":"Break: Summon one 18/18 friend that sells for 9 gold."}],"Type":1,"ToyType":0,"Id":"492","Name":"Cash Register","NameId":"RelicToyCashRegister","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"All friends fainted: Summon one 6/6 Salmon of Knowledge in battle once."},{"Level":2,"About":"All friends fainted: Summon one 12/12 Salmon of Knowledge in battle once."},{"Level":3,"About":"All friends fainted: Summon one 18/18 Salmon of Knowledge in battle once."}],"Type":1,"ToyType":0,"Id":"584","Name":"Nutcracker","NameId":"RelicNutcracker","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Give the middle friendly pet +6 mana."},{"Level":2,"About":"Start of battle: Give the middle friendly pet +12 mana."},{"Level":3,"About":"Start of battle: Give the middle friendly pet +18 mana."}],"Type":1,"ToyType":0,"Id":"587","Name":"Ocarina","NameId":"RelicOcarina","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Break: Stock one free Chicken Leg."},{"Level":2,"About":"Break: Stock two free Chicken Legs."},{"Level":3,"About":"Break: Stock three free Chicken Legs."}],"Type":1,"ToyType":0,"Id":"311","Name":"Oven Mitts","NameId":"RelicOvenMitts","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Give one random Tand & Tand +6 attack and +6 health."},{"Level":2,"About":"Start of battle: Give one random Tand & Tand +12 attack and +12 health."},{"Level":3,"About":"Start of battle: Give one random Tand & Tand +18 attack and +18 health."}],"Type":1,"ToyType":0,"Id":"585","Name":"Thunder Hammer","NameId":"RelicThunderHammer","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 6/6 Giant Eyes Dog up front in battle once."},{"Level":2,"About":"Empty front space: Summon one 12/12 Giant Eyes Dog up front in battle once."},{"Level":3,"About":"Empty front space: Summon one 18/18 Giant Eyes Dog up front in battle once."}],"Type":1,"ToyType":0,"Id":"588","Name":"Tinder Box","NameId":"RelicTinderBox","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":9,"Abilities":[{"Level":1,"About":"Start of battle: Make the first enemy Weak."},{"Level":2,"About":"Start of battle: Make the first two enemies Weak."},{"Level":3,"About":"Start of battle: Make the first three enemies Weak."}],"Type":1,"ToyType":0,"Id":"326","Name":"Toilet Paper","NameId":"RelicToiletPaper","Tier":4,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Remove 30% attack from the highest attack enemy."},{"Level":2,"About":"Start of battle: Remove 30% attack from the two highest attack enemies."},{"Level":3,"About":"Start of battle: Remove 30% attack from the three highest attack enemies."}],"Type":1,"ToyType":0,"Id":"503","Name":"Camera","NameId":"RelicCamera","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Empty front space: Summon one 6/6 Great One in battle that deals 5 damage to ALL other pets."},{"Level":2,"About":"Empty front space: Summon one 12/12 Great One in battle that deals 10 damage to ALL other pets."},{"Level":3,"About":"Empty front space: Summon one 18/18 Great One in battle that deals 15 damage to ALL other pets."}],"Type":1,"ToyType":0,"Id":"645","Name":"Evil Book","NameId":"RelicEvilBook","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Break: Give front-most friend +5 attack and +5 health."},{"Level":2,"About":"Break: Give front-most friend +10 attack and +10 health."},{"Level":3,"About":"Break: Give front-most friend +15 attack and +15 health."}],"Type":1,"ToyType":0,"Id":"484","Name":"Flashlight","NameId":"RelicFlashlight","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Give ALL pets random perks and ailments."},{"Level":2,"About":"Start of battle: Give ALL pets random perks and ailments with double effects."},{"Level":3,"About":"Start of battle: Give ALL pets random perks and ailments with triple effects."}],"Type":1,"ToyType":0,"Id":"593","Name":"Pandoras Box","NameId":"RelicPandorasBox","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Attack":1000,"Health":11,"Abilities":[{"Level":1,"About":"Start of battle: Remove 40% health from the highest health enemy."},{"Level":2,"About":"Start of battle: Remove 40% health from the two highest health enemies."},{"Level":3,"About":"Start of battle: Remove 40% health from the three highest health enemies."}],"Type":1,"ToyType":0,"Id":"513","Name":"Stinky Sock","NameId":"RelicStinkySock","Tier":5,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Start of battle: Give Coconut perk to the highest attack friend."},{"Level":2,"About":"Start of battle: Give Coconut perk to the two highest attack friends."},{"Level":3,"About":"Start of battle: Give Coconut perk to the three highest attack friends."}],"Type":1,"ToyType":0,"Id":"511","Name":"Air Palm Tree","NameId":"RelicPalmTree","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"End turn: Give the back-most friend +1 attack and +1 health."},{"Level":2,"About":"End turn: Give the back-most friend +2 attack and +2 health."},{"Level":3,"About":"End turn: Give the back-most friend +3 attack and +3 health."}],"Type":1,"ToyType":0,"Id":"583","Name":"Excalibur","NameId":"RelicExcalibur","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Break: Stock one free Holy Water."},{"Level":2,"About":"Break: Stock two free Holy Waters."},{"Level":3,"About":"Break: Stock three free Holy Waters."}],"Type":1,"ToyType":0,"Id":"592","Name":"Holy Grail","NameId":"RelicHolyGrail","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Start of battle: Give Peanut Butter perk to the lowest attack friend."},{"Level":2,"About":"Start of battle: Give Peanut Butter perk to the two lowest attack friends."},{"Level":3,"About":"Start of battle: Give Peanut Butter perk to the three lowest attack friends."}],"Type":1,"ToyType":0,"Id":"512","Name":"Peanut Jar","NameId":"RelicPeanutJar","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":[]},{"Attack":1000,"Health":13,"Abilities":[{"Level":1,"About":"Break: Give friends +2 attack and +2 health."},{"Level":2,"About":"Break: Give friends +4 attack and +4 health."},{"Level":3,"About":"Break: Give friends +6 attack and +6 health."}],"Type":1,"ToyType":0,"Id":"491","Name":"Television","NameId":"RelicTelevision","Tier":6,"TierMax":2147483647,"Packs":[],"PacksRequired":[],"Rollable":true,"CustomArchetypes":[]}]');var si=Vt.t(Ct,2);const Ft=JSON.parse('[{"Ability":"Block ailment or 8 damage, once.","Positive":true,"Id":"60","Name":"Ambrosia","NameId":"Ambrosia"},{"Ability":"Before attack: Remove the front-most enemy perk, once.","Positive":true,"Id":"64","Name":"Baguette","NameId":"Baguette"},{"Ability":"Faint: Summon one 4/4 Monkey.","Positive":true,"Id":"25","Name":"Banana","NameId":"Banana"},{"Ability":"Before battle: Gain +7 mana.","Positive":true,"Id":"87","Name":"Big Mana Potion","NameId":"ManaPotion2"},{"Ability":"Gain +1 attack and +2 health.","Positive":true,"Id":"89","Name":"Blackberry","NameId":"Blackberry"},{"Ability":"Can\'t gain perk, once.","Id":"120","Name":"Bloated","NameId":"Bloated"},{"Ability":"Prioritize this for enemy random abilities.","Positive":true,"Id":"28","Name":"Blueberry","NameId":"BlueBerries"},{"Ability":"Gain +3 health when this would faint, once.","Positive":true,"Id":"111","Name":"Bok Choy","NameId":"BokChoy"},{"Ability":"Block being pushed or 5 damage, once.","Positive":true,"Id":"66","Name":"Brussels Sprout","NameId":"BrusselsSprout"},{"Ability":"End turn: Increase sell value by 1 gold.","Positive":true,"Id":"44","Name":"Cake","NameId":"BirthdayCake"},{"Ability":"Before attack: Combine friendly Caramels to deal 3 damage each to the most healthy enemy, once.","Positive":true,"Id":"67","Name":"Caramel","NameId":"Caramel"},{"Ability":"End turn: Gain +1 attack and +1 health.","Positive":true,"Id":"15","Name":"Carrot","NameId":"Carrot"},{"Ability":"Before battle: Deal 1 damage to the second nearest pet ahead. Double against enemies.","Positive":true,"Id":"115","Name":"Cashew Nut","NameId":"CashewNut"},{"Ability":"Knock out: If still standing, gain permanent +1 attack and +1 health, once.","Positive":true,"Id":"71","Name":"Cauliflower","NameId":"Cauliflower"},{"Ability":"Attack with at least 15 attack, once.","Positive":true,"Id":"23","Name":"Cheese","NameId":"Cheese"},{"Ability":"Before battle: Gain 2 trumpets and remove perk.","Positive":true,"Id":"7","Name":"Cherry","NameId":"Cherries"},{"Ability":"Attack second enemy for 5 damage.","Positive":true,"Id":"5","Name":"Chili","NameId":"Chili"},{"Ability":"Before attack: Gain +3 experience and faint.","Positive":true,"Id":"30","Name":"Chocolate Cake","NameId":"ChocolateCake"},{"Ability":"Activate ability before other pets with the same trigger.","Positive":true,"Id":"70","Name":"Churros","NameId":"Churros"},{"Ability":"Before attack: Transform into an exact copy of a random enemy, once.","Positive":true,"Id":"94","Name":"Cocoa Bean","NameId":"CocoaBean"},{"Ability":"Block damage, once.","Positive":true,"Id":"0","Name":"Coconut","NameId":"Coconut"},{"Ability":"Faint: Summon one 2/3 Fish.","Positive":true,"Id":"104","Name":"Cod Roe","NameId":"CodRoe"},{"Ability":"Take +5 damage, once.","Id":"54","Name":"Cold","NameId":"Frozen"},{"Ability":"Before attack: Transform into a pet from one tier below, once.","Id":"118","Name":"Confused","NameId":"Confused"},{"Ability":"Anyone attacks: Take 6 damage, once.","Id":"57","Name":"Crisp","NameId":"Burn"},{"Ability":"End turn: Gain +1 attack.","Positive":true,"Id":"20","Name":"Croissant","NameId":"Croissant"},{"Ability":"End turn: Gain +1 health.","Positive":true,"Id":"19","Name":"Cucumber","NameId":"Cucumber"},{"Ability":"Faint: Make one random friend Cursed.","Id":"119","Name":"Cursed","NameId":"Curse"},{"Ability":"Prevent ability from activating.","Id":"55","Name":"Dazed","NameId":"Deaf"},{"Ability":"Prioritize this for friendly random abilities.","Positive":true,"Id":"36","Name":"Donut","NameId":"Doughnut"},{"Ability":"Before attack: Reduce the most healthy enemy by 33% health, once.","Positive":true,"Id":"45","Name":"Durian","NameId":"Durian"},{"Ability":"Faint: Summon one 3/3 Bunny that attacks for double damage.","Positive":true,"Id":"51","Name":"Easter Egg","NameId":"EasterEgg"},{"Ability":"Before attack: Deal 2 damage to target, once.","Positive":true,"Id":"24","Name":"Egg","NameId":"Egg"},{"Ability":"Before battle: Push opposite enemy 1 space forward.","Positive":true,"Id":"38","Name":"Eggplant","NameId":"EggPlant"},{"Ability":"Block 4 enemy damage, once.","Positive":true,"Id":"68","Name":"Eucalyptus","NameId":"Eucalyptus"},{"Ability":"Faint: Summon ANY one tier 1 <b>Faint</b> pet.","Positive":true,"Id":"86","Name":"Faint Bread","NameId":"DeadBread"},{"Ability":"Empty front space: Jump to the front and gain +2 mana, once.","Positive":true,"Id":"49","Name":"Fairy Dust","NameId":"FairyDust"},{"Ability":"Before attack: Deal 4 damage to the lowest health enemy, once.","Positive":true,"Id":"46","Name":"Fig","NameId":"Fig"},{"Ability":"Attack has 50% chance to deal double damage.","Positive":true,"Id":"11","Name":"Fortune Cookie","NameId":"FortuneCookie"},{"Ability":"Takes 2 less damage.","FinePrint":"Damage can\'t be reduced to less than 2.","Positive":true,"Id":"9","Name":"Garlic","NameId":"Garlic"},{"Ability":"Before battle: Gain +1 experience.","Positive":true,"Id":"52","Name":"Gingerbread Man","NameId":"GingerbreadMan"},{"Ability":"Before attack: Deal 6 damage to target, once.","Positive":true,"Id":"47","Name":"Golden Egg","NameId":"GoldenEgg"},{"Ability":"Start of turn: Gain +1 gold.","Positive":true,"Id":"16","Name":"Grapes","NameId":"Grapes"},{"Ability":"Before attack: Transform into an Ant.","Positive":true,"Id":"103","Name":"Gros Michel Banana","NameId":"GrosMichelBanana"},{"Ability":"Block 3 damage, and attack for +3 damage, once.","Positive":true,"Id":"105","Name":"Guava","NameId":"Guava"},{"Ability":"Before battle: Give the front-most friendly pet +2 health.","Positive":true,"Id":"58","Name":"Health Potion","NameId":"HealthPotion"},{"Ability":"Faint: Summon one 1/1 Bee.","Positive":true,"Id":"8","Name":"Honey","NameId":"Honey"},{"Ability":"Block 10 damage, and attack for +5 damage, once.","Positive":true,"Id":"110","Name":"Honeydew Melon","NameId":"HoneydewMelon"},{"Ability":"Take double damage, twice.","Id":"56","Name":"Icky","NameId":"Acid"},{"Ability":"Attack and ability deal 3 less damage.","Id":"37","Name":"Inked","NameId":"Ink"},{"Ability":"Ability deals +8 damage, once.","Positive":true,"Id":"78","Name":"Kiwano","NameId":"Kiwano"},{"Ability":"Before battle: Gain +3 health.","Positive":true,"Id":"107","Name":"Kiwifruit","NameId":"Kiwi"},{"Ability":"Block 7 damage, twice.","Positive":true,"Id":"22","Name":"Lemon","NameId":"Lemon"},{"Ability":"Takes 1 less damage.","Positive":true,"Id":"108","Name":"Lime","NameId":"Lime"},{"Ability":"Activate ability at level 1.","Positive":true,"Id":"122","Name":"Liquorice","NameId":"SweetLiquorice"},{"Ability":"Before battle: Summon one 5/5 pet like this.","Positive":true,"Id":"59","Name":"Love Potion","NameId":"LovePotion"},{"Ability":"Before battle: Copy ability to the nearest friend ahead.","Positive":true,"Id":"76","Name":"Lychee","NameId":"Lychee"},{"Ability":"Activate ability after other pets with the same trigger.","Positive":true,"Id":"117","Name":"Macaron","NameId":"Macaron"},{"Ability":"Start of turn: Gain the Golden Egg perk and increase sell value by 4 gold.","Positive":true,"Id":"48","Name":"Magic Beans","NameId":"MagicBeans"},{"Ability":"Attack for 50% damage and block 50% damage, thrice.","Positive":true,"Id":"93","Name":"Maple Syrup","NameId":"MapleSyrup"},{"Ability":"Attack with +3 damage.","Positive":true,"Id":"6","Name":"Meat Bone","NameId":"MeatBone"},{"Ability":"Block 20 damage, once.","Positive":true,"Id":"13","Name":"Melon","NameId":"Melon"},{"Ability":"Block 10 damage, once.","Positive":true,"Id":"79","Name":"Melon Slice","NameId":"WaterMelon"},{"Ability":"Attack second enemy for 4 damage.","Positive":true,"Id":"123","Name":"Mild Chili","NameId":"MildChili"},{"Ability":"Faint: Come back as a 1/1.","Positive":true,"Id":"1","Name":"Mushroom","NameId":"Mushroom"},{"Ability":"Before attack: Convert up to 3 health into attack.","Positive":true,"Id":"116","Name":"Nachos","NameId":"Nachos"},{"Ability":"Before attack: Move to the back, once.","Positive":true,"Id":"31","Name":"Onion","NameId":"Onion"},{"Ability":"Before attack: Set attack and health to at least 9, once.","Positive":true,"Id":"77","Name":"Oyster Mushroom","NameId":"OysterMushroom"},{"Ability":"Before battle: Give friends +2 attack and +2 health.","Positive":true,"Id":"35","Name":"Pancakes","NameId":"Pancakes"},{"Ability":"Knock out any pet attacked and hurt by this.","Positive":true,"Id":"2","Name":"Peanut","NameId":"Peanut"},{"Ability":"Knock out any pet attacked and hurt by this, once.","Positive":true,"Id":"88","Name":"Peanut Butter","NameId":"PeanutButter"},{"Ability":"Health does not go under 1. Removed after taking damage.","Positive":true,"Id":"18","Name":"Pepper","NameId":"Pepper"},{"Ability":"Before battle: Gain +4 attack and +3 health.","Positive":true,"Id":"39","Name":"Pie","NameId":"Pie"},{"Ability":"Ability deals +2 damage, thrice.","Positive":true,"Id":"21","Name":"Pineapple","NameId":"Pineapple"},{"Ability":"Hurt: Gain +15 health, once.","Positive":true,"Id":"33","Name":"Pita Bread","NameId":"PitaBread"},{"Ability":"Faint: Summon one random pet from the same tier.","Positive":true,"Id":"17","Name":"Popcorn","NameId":"Popcorn"},{"Ability":"Block 10 damage from abilities and perks, twice.","Positive":true,"Id":"29","Name":"Potato","NameId":"Potato"},{"Ability":"Before battle: Gain ANY useful perk from the pet\'s tier.","Positive":true,"Id":"65","Name":"Radish","NameId":"Radish"},{"Ability":"Before attack: Gain +3 mana.","Positive":true,"Id":"62","Name":"Rambutan","NameId":"Rambutan"},{"Ability":"Sell for +2 gold.","Positive":true,"Id":"43","Name":"Rice","NameId":"RiceBall"},{"Ability":"Attack for double damage, once.","Positive":true,"Id":"3","Name":"Salt","NameId":"Salt"},{"Ability":"Start of turn: Gain +2 gold.","Positive":true,"Id":"100","Name":"Sardinian Currant","NameId":"SardinianCurrant"},{"Ability":"Start of turn: Gain one free roll.","Positive":true,"Id":"69","Name":"Sausage","NameId":"Sausage"},{"Ability":"Before attack: Transform into a Baby Urchin.","Positive":true,"Id":"72","Name":"Seaweed","NameId":"Seaweed"},{"Ability":"Ability has random targets in battle.","Id":"75","Name":"Silly","NameId":"Silly"},{"Ability":"Attack second and third enemy for 3 damage.","Positive":true,"Id":"26","Name":"Skewer","NameId":"Skewer"},{"Ability":"Attack with half damage, once.","Id":"84","Name":"Sleepy","NameId":"Drowsy"},{"Ability":"Take +1 damage.","Id":"63","Name":"Spooked","NameId":"Scared"},{"Ability":"Before attack: Remove 6 health from target, once.","Positive":true,"Id":"109","Name":"Squash","NameId":"Squash"},{"Ability":"Attack with +20 damage, once.","Positive":true,"Id":"12","Name":"Steak","NameId":"Steak"},{"Ability":"Faint: Give the back-most friend +1 attack and +1 health.","Positive":true,"Id":"14","Name":"Strawberry","NameId":"Strawberry"},{"Ability":"Hurt: If still standing, gain permanent +1 health, once.","Positive":true,"Id":"95","Name":"Sudduth Tomato","NameId":"SudduthTomato"},{"Ability":"Faint: Give one random enemy permanent +2 attack and +2 health.","Id":"85","Name":"Tasty","NameId":"Tasty"},{"Ability":"Anyone attacks: Take 1 damage, once.","Id":"73","Name":"Toasty","NameId":"Toasty"},{"Ability":"Before attack: Deal 10 damage to the last enemy, once.","Positive":true,"Id":"34","Name":"Tomato","NameId":"Tomato"},{"Ability":"Start of battle: Deal 2 damage to a random enemy.","Positive":true,"Id":"97","Name":"Unagi","NameId":"Unagi"},{"Ability":"Block 2 damage, once.","Positive":true,"Id":"80","Name":"Walnut","NameId":"Walnut"},{"Ability":"Take +3 damage.","Id":"10","Name":"Weak","NameId":"Weak"},{"Ability":"Faint: Summon one 2/2 Spider up front for the opponent.","Id":"27","Name":"Webbed","NameId":"Web"},{"Ability":"Block 10 damage twice or ailment once.","Positive":true,"Id":"101","Name":"White Okra","NameId":"WhiteOkra"},{"Ability":"Friend faints: Gain +4 attack and jump-attack the highest attack enemy, once.","Positive":true,"Id":"91","Name":"White Truffle","NameId":"WhiteTruffle"},{"Ability":"Faint: Summon two 5/5 Nordic Goats.","Positive":true,"Id":"50","Name":"Yggdrasil Fruit","NameId":"YggdrasilFruit"}]');var li=Vt.t(Ft,2);const yr=s=>s.map(e=>e?.Name).filter(e=>!!e),p1={"Beluga Whale":"WhiteWhale","Great One":"Cthulu","Small One":"BabyCthulhu",Abomination:"Shoggoth",Visitor:"Xenomorph",Swordfish:"SwordFish",Doberman:"DobermanDog","Highland Cow":"HighlandCow","Sabertooth Tiger":"SaberToothTiger","Moby Dick":"MochaDick","Chimera Goat":"ChimeraGoat","Chimera Lion":"ChimeraLion","Chimera Snake":"ChimeraSnake",CrackedEgg:"EggLadCracked","Fake Nessie":"FakeNessie","Tand and Tand":"ThorGoats"},Nb={Corncob:"Corn","Cake Slice":"BirthdayCakeSlice","Peanut Butter":"PeanutButter","Mana Potion":"ManaPotion","Faint Bread":"DeadBread",Kiwifruit:"Kiwi",Eggplant:"EggPlant",Rice:"RiceBall",Donut:"Doughnut",Cherry:"Cherries","Melon Slice":"WaterMelon",Cold:"Frozen",Crisp:"Burn",Dazed:"Deaf",Icky:"Acid",Inked:"Ink",Spooked:"Scared",Sleepy:"Drowsy",Webbed:"Web",Cursed:"Curse",Silly:"Silly",Bloated:"Bloated"},g1=Object.fromEntries(Object.entries(Nb).map(([s,e])=>[s.toLowerCase(),e])),oi=s=>s?s.replace(/[^a-zA-Z0-9]/g,""):"",vr=s=>{const e=new Map;for(const t of s)t?.Name&&t?.NameId&&e.set(t.Name,t.NameId);return e},Ib=(s,e)=>{const t=r=>!r||/^no ability\.?$/i.test(r.trim()),i=[];if(Array.isArray(s))for(const r of s)!r?.About||t(r.About)||i.push(null!=r.Level?`Lv${r.Level}: ${r.About}`:r.About);return e&&i.push(e),i.length?i.join("\n"):null},d1=vr(et??Et??[]),Mb=new Map,m1=et??Et??[];for(const s of m1){if(!s?.Name)continue;const e=Ib(s.Abilities,s.PerkNote);e&&Mb.set(s.Name,e)}const b1=yr(et??Et??[]),y1=vr(Ct??si??[]),$b=new Map,v1=Ct??si??[];for(const s of v1){if(!s?.Name)continue;const e=Ib(s.Abilities);e&&$b.set(s.Name,e)}const A1=yr(Ct??si??[]),Ar=vr(Ft??li??[]),f1=new Map(Array.from(Ar.entries()).map(([s,e])=>[s.toLowerCase(),e])),k1=new Map(Array.from(Ar.entries()).map(([s,e])=>[oi(s),e])),Bb=new Map,S1=Ft??li??[];for(const s of S1)s?.Name&&s.Ability&&Bb.set(s.Name,s.Ability);const P1=yr(Ft??li??[]);function ci(s){const e=function T1(s){if(!s)return null;return d1.get(s)||p1[s]||null}(s);return e?`assets/art/Public/Public/Pets/${e}.png`:null}function qe(s,e=!1){const t=(s=>{if(!s)return null;const e=oi(s),t=Ar.get(s)??f1.get(s.toLowerCase())??k1.get(e),i=Nb[s]??g1[s.toLowerCase()];return(t??i??e)||null})(s);return t?e?`assets/art/Ailments/Ailments/${t}.png`:`assets/art/Public/Public/Food/${t}.png`:null}const F1={Ailments:["Bloated","Cold","Confused","Crisp","Cursed","Dazed","Icky","Inked","Sad","Silly","Sleepy","Spooked","Tasty","Toasty","Weak","Webbed"]};function ui(s){const e=s.filter(t=>!!t).sort((t,i)=>i.length-t.length).map(t=>function q1(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(t));return e.length?new RegExp(`(?<![A-Za-z0-9])(${e.join("|")})(?![A-Za-z0-9])`,"g"):null}function fr(s,e,t,i){if(!s||s.includes("<img")||!e)return s;let r=Nt(s,e,m=>function M1(s,e,t){const i=e.get(s)??null;if("pet"===i)return ci(s);if("toy"===i)return function x1(s){if(!s)return null;const t=y1.get(s)??oi(s);return t?`assets/art/Public/Public/Toys/${t}.png`:null}(s);if("equipment"===i){const r=t.has(s);return qe(s,r)??qe(s,!r)}return null}(m,t,i),m=>function $1(s,e,t){if("equipment"!==(e.get(s)??null))return null;const r=t.has(s),n=qe(s,r);if(!n)return null;const a=qe(s,!r);return`<img src="${n}" class="log-inline-icon" alt="${s}" onerror="if(!this.dataset.step){${a?`this.dataset.step='1';this.src='${a}';`:"this.dataset.step='1';"}return;}this.remove();"> ${s}`}(m,t,i));return r=Nt(r,/(?<![A-Za-z0-9])mana(?![A-Za-z0-9])(?!\s+Potion)/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/mana.png"),r=Nt(r,/(?<![A-Za-z0-9])(?:xp|exp)(?![A-Za-z0-9])/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/xp.png"),r=Nt(r,/(?<![A-Za-z0-9])gold(?![A-Za-z0-9])/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/gold.png"),r=Nt(r,/(?<![A-Za-z0-9])trumpets?(?![A-Za-z0-9])/gi,()=>"assets/art/Public/Public/Icons/TextMap-resources.assets-31-split/trumpet.png"),r}function Nt(s,e,t,i){return s.split(/(<[^>]+>)/g).map(r=>r.startsWith("<")?r:function B1(s,e,t,i){return e?s.replace(e,r=>{const n=t(r);if(i){const a=i(r,n);if(a)return a}return n?`<img src="${n}" class="log-inline-icon" alt="${r}" onerror="this.remove()"> ${r}`:r}):s}(r,e,t,i)).join("")}function qb(s,e){const t=hi(s,"lost","attack"),i=hi(e,"lost","health");if(t&&i&&t.prefix===i.prefix&&t.suffix===i.suffix)return`${t.prefix}${t.value} attack and ${i.value} health${t.suffix}`;const r=hi(s,"gave","attack"),n=hi(e,"gave","health");return r&&n&&r.prefix===n.prefix&&r.suffix===n.suffix?`${r.prefix}${r.plus}${r.value} attack and ${n.plus}${n.value} health${r.suffix}`:null}function hi(s,e,t){if("lost"===e){const n=new RegExp(`^(.*\\blost\\s+)(\\d+)\\s+${t}\\b(.*)$`,"i"),a=s.match(n);return a?{prefix:a[1],plus:"",value:a[2],suffix:a[3]}:null}const i=new RegExp(`^(.*\\b(?:gave|give|gives)\\b.*?\\s+)(\\+?)(\\d+)\\s+${t}\\b(.*)$`,"i"),r=s.match(i);return r?{prefix:r[1],plus:r[2]??"",value:r[3],suffix:r[4]}:null}function Gb(s){return s.replace(/<[^>]+>/g,"").trim()}function de(s,e,t){if(null==s)return"___ (-/-) ";const i=e(s),r=null!=i?`${s.parent?.isOpponent?"O":"P"}${i} `:"",n=ci(s.name),a=n?`<img src="${n}" class="log-pet-icon" alt="${s.name}">`:"",l="string"==typeof s.equipment?.name?s.equipment.name:null,o=l?(()=>{const g=t(l),d=qe(l,g)??qe(l,!g);if(!d)return"";const m=qe(l,!g);return`<img src="${d}" class="log-inline-icon" alt="${l}" onerror="if(!this.dataset.step){${m?`this.dataset.step='1';this.src='${m}';`:"this.dataset.step='1';"}return;}this.remove()">`})():"",c=Number.isFinite(s.mana)?Math.max(0,Math.trunc(s.mana)):0;return`${r}${a}${o}(${s.attack}/${s.health}/${s.exp}xp${c>0?`/${c}mana`:""}) `}const X1=Array.isArray||(s=>s&&"number"==typeof s.length);function e2(s){return null!==s&&"object"==typeof s}const mi=(()=>{function s(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,i)=>`${i+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return s.prototype=Object.create(Error.prototype),s})();class J{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:i,_unsubscribe:r,_subscriptions:n}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof J)t.remove(this);else if(null!==t)for(let a=0;a<t.length;++a)t[a].remove(this);if(function Tr(s){return"function"==typeof s}(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(a){e=a instanceof mi?Yb(a.errors):[a]}}if(X1(n)){let a=-1,l=n.length;for(;++a<l;){const o=n[a];if(e2(o))try{o.unsubscribe()}catch(c){e=e||[],c instanceof mi?e=e.concat(Yb(c.errors)):e.push(c)}}}if(e)throw new mi(e)}add(e){let t=e;if(!e)return J.EMPTY;switch(typeof e){case"function":t=new J(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof J)){const n=t;t=new J,t._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=t;if(null===i)t._parentOrParents=this;else if(i instanceof J){if(i===this)return t;t._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return t;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}}}function Yb(s){return s.reduce((e,t)=>e.concat(t instanceof mi?t.errors:t),[])}J.EMPTY=function(s){return s.closed=!0,s}(new J),"function"==typeof Symbol||Math.random(),"function"==typeof Symbol&&Symbol,Object.create(Error.prototype);const o2=Symbol("NotFound");Error;class j extends Error{code;constructor(e,t){super(function ry(s,e){return`${function h2(s){return`NG0${Math.abs(s)}`}(s)}${e?": "+e:""}`}(e,t)),this.code=e}}function I(s){for(let e in s)if(s[e]===I)return e;throw Error("")}function Re(s){if("string"==typeof s)return s;if(Array.isArray(s))return`[${s.map(Re).join(", ")}]`;if(null==s)return""+s;const e=s.overriddenName||s.name;if(e)return`${e}`;const t=s.toString();if(null==t)return""+t;const i=t.indexOf("\n");return i>=0?t.slice(0,i):t}globalThis;const p2=I({__forward_ref__:I});function ay(s){return s.__forward_ref__=ay,s.toString=function(){return Re(this())},s}function _(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}const sy=I({\u0275prov:I});function M2(s,e,t){const i=function vi(s){return function v2(s,e){return s.hasOwnProperty(e)&&s[e]||null}(s,sy)}(s);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:8&t?null:void 0!==e?e:void function C2(){throw new j(-201,!1)}()}function B2(s,e=0){const t=void 0;if(void 0===t)throw new j(-203,!1);if(null===t)return M2(s,void 0,e);{const i=function q2(s){return{optional:!!(8&s),host:!!(1&s),self:!!(2&s),skipSelf:!!(4&s)}}(e),r=t.retrieve(s,i);if(function ty(s){return s===o2||"\u0275NotFound"===s?.name}(r)){if(i.optional)return null;throw r}return r}}function x(s,e=0){return B2(function ae(s){return function g2(s){return"function"==typeof s&&s.hasOwnProperty(p2)&&s.__forward_ref__===ay}(s)?s():s}(s),e)}let z=(()=>{class s{logs=[];petNameRegex;toyNameRegex;equipmentNameRegex;inlineNameRegex;inlineNameTypeMap;ailmentNames;enabled=!0;deferDecorations=!1;showTriggerNamesInLogs=!1;debugSummonBoardStateLogs=!1;constructor(){const t=function w1(){return[...b1]}(),i=function R1(){return[...A1]}(),r=function E1(){return[...P1]}();this.petNameRegex=ui(t),this.toyNameRegex=ui(i),this.equipmentNameRegex=ui(r),this.inlineNameTypeMap=function N1(s,e,t){const i=new Map;for(const r of t)r&&i.set(r,"equipment");for(const r of e)r&&i.set(r,"toy");for(const r of s)r&&i.set(r,"pet");return i}(t,i,r),this.inlineNameRegex=function I1(s,e,t){const i=new Set;return s.forEach(r=>r&&i.add(r)),e.forEach(r=>r&&i.add(r)),t.forEach(r=>r&&i.add(r)),ui(Array.from(i))}(t,i,r),this.ailmentNames=new Set(Object.values(F1).flat().filter(Boolean))}setEnabled(t){this.enabled=!!t,this.enabled||(this.logs=[])}isEnabled(){return this.enabled}setDeferDecorations(t){this.deferDecorations=!!t}isDeferDecorations(){return this.deferDecorations}setShowTriggerNamesInLogs(t){this.showTriggerNamesInLogs=!!t}isShowTriggerNamesInLogs(){return this.showTriggerNamesInLogs}setDebugSummonBoardStateLogs(t){this.debugSummonBoardStateLogs=!!t}isDebugSummonBoardStateLogs(){return this.debugSummonBoardStateLogs}decorateLogIfNeeded(t){if(!t||t.decorated||!t.rawMessage)return;const i=this.decorateMessageWithNames(t.rawMessage,t.sourcePet,t.targetPet,t.sourceIndex,t.targetIndex);t.message=fr(i,this.inlineNameRegex,this.inlineNameTypeMap,this.ailmentNames),t.decorated=!0}createLog(t){if(!this.enabled)return;t.message?.startsWith("Phase ")&&(t.bold=!0),this.resolveLogMetadata(t);let i=this.decorateLogMessage(t);i=this.appendTagSuffixes(i,t),this.persistDecoratedMessage(t,i);const r=this.logs[this.logs.length-1],n=this.shouldAppendSummonBoardState(t);this.tryMergeAttackHealthLogs(r,t)||(this.shouldCollapseLog(r,t)?r.count=(r.count??1)+1:this.logs.push(t)),n&&this.appendSummonBoardStateLog(t)}resolveLogMetadata(t){if(!t.sourcePet&&t.player&&t.message){const i=t.player.petArray.filter(r=>r&&t.message.startsWith(r.name));1===i.length&&(t.sourcePet=i[0])}"attack"===t.type&&t.player&&t.message&&this.resolveAttackPetsFromMessage(t),!t.randomEventReason&&!0===t.randomEvent&&(t.randomEventReason="true-random"),t.player&&t.message&&this.resolveSourceTargetFromMessage(t),t.sourcePet&&null==t.sourceIndex&&(t.sourceIndex=this.getFrontIndex(t.sourcePet)??void 0),t.targetPet&&null==t.targetIndex&&(t.targetIndex=this.getFrontIndex(t.targetPet)??void 0)}decorateLogMessage(t){const i=t.message??"";return this.deferDecorations?i:this.decorateMessageWithNames(i,t.sourcePet,t.targetPet,t.sourceIndex,t.targetIndex)}appendTagSuffixes(t,i){let r=t;return i.tiger&&(r+=" (Tiger)"),i.puma&&(r+=" (Puma)"),i.pteranodon&&(r+=" (Pteranodon)"),null!=i.pantherMultiplier&&i.pantherMultiplier>1&&(r+=` x${i.pantherMultiplier} (Panther)`),r}persistDecoratedMessage(t,i){if(i){if(this.deferDecorations)return t.rawMessage=i,t.message=i,void(t.decorated=!1);t.message=fr(i,this.inlineNameRegex,this.inlineNameTypeMap,this.ailmentNames),t.decorated=!0}}shouldCollapseLog(t,i){if(!t)return!1;const r=t.player===i.player;return t.message?.trim()===i.message?.trim()&&r&&t.randomEvent===i.randomEvent&&t.randomEventReason===i.randomEventReason&&(!(null!=i.sourcePet||null!=i.targetPet||null!=i.sourceIndex||null!=i.targetIndex)||t.sourcePet===i.sourcePet&&t.sourceIndex===i.sourceIndex&&t.targetPet===i.targetPet&&t.targetIndex===i.targetIndex)}getLogs(){return this.logs}reset(){this.logs=[]}getFrontIndex(t){const i=t?.parent;return i?i.pet0===t?1:i.pet1===t?2:i.pet2===t?3:i.pet3===t?4:i.pet4===t?5:null:null}decorateMessage(t,i){const r=this.getFrontIndex(i);return null==r?t:this.replaceFirst(t,i.name,`${i.parent?.isOpponent?"O":"P"}${r} ${i.name}`)}decorateAttackMessage(t,i,r,n,a){const l=n??this.getFrontIndex(i),o=a??this.getFrontIndex(r);if(null==l||null==o)return t;const g=`${i.parent?.isOpponent?"O":"P"}${l} ${i.name}`,d=`${r.parent?.isOpponent?"O":"P"}${o} ${r.name}`,m="___SOURCE_HOLDER___",b="___TARGET_HOLDER___";let y=this.replaceFirst(t,i.name,m);return y=this.replaceFirst(y,r.name,b),y=y.replace(m,g),y=y.replace(b,d),y}decorateMessageWithNames(t,i,r,n,a){return t?i&&r?this.decorateAttackMessage(t,i,r,n,a):i?null!=n?this.replaceFirst(t,i.name,`${i.parent?.isOpponent?"O":"P"}${n} ${i.name}`):this.decorateMessage(t,i):t:t}replaceFirst(t,i,r){const n=t.indexOf(i);return-1===n?t:t.slice(0,n)+r+t.slice(n+i.length)}resolveAttackPetsFromMessage(t){if(!t?.message||!t.player||t.sourcePet&&t.targetPet)return;const i=t.message,r=/^(.+?)\s+sniped\s+(.+?)\s+for\s+/i.exec(i),n=/^(.+?)\s+(?:jump-)?attacks?\s+(.+?)\s+for\s+/i.exec(i),a=r??n;if(!a)return;const l=a[1].trim(),o=a[2].trim(),c=t.player.petArray??[],u=t.player.opponent?.petArray??[];t.sourcePet||(t.sourcePet=c.find(g=>g?.name===l)??null),t.targetPet||(t.targetPet=u.find(g=>g?.name===o)??c.find(g=>g?.name===o)??null)}isAilmentName(t){return this.ailmentNames.has(t)}resolveSourceTargetFromMessage(t){if(t.sourcePet&&t.targetPet)return;const i=t.message;if(!i)return;const r=this.extractPetNames(i);if(r.length<2)return;const n=t.player?.petArray??[],a=t.player?.opponent?.petArray??[],l=(o,c,u)=>o.find(g=>g?.name===c&&g!==u)??null;t.sourcePet||(t.sourcePet=l(n,r[0])??l(a,r[0])),t.targetPet||(t.targetPet=r[1]===r[0]?t.sourcePet&&i.startsWith(t.sourcePet.name)&&t.sourcePet?t.sourcePet:l(n,r[1],t.sourcePet)??l(a,r[1],t.sourcePet)??t.sourcePet??null:l(a,r[1])??l(n,r[1]))}extractPetNames(t){return this.petNameRegex&&t?t.match(this.petNameRegex)??[]:[]}tryMergeAttackHealthLogs(t,i){const r=function G1(s,e){if(!s||!e||s.player!==e.player||s.type!==e.type||s.randomEvent!==e.randomEvent||s.randomEventReason!==e.randomEventReason||s.sourcePet!==e.sourcePet||s.sourceIndex!==e.sourceIndex||s.targetPet!==e.targetPet||s.targetIndex!==e.targetIndex||s.tiger!==e.tiger||s.puma!==e.puma||s.pteranodon!==e.pteranodon)return null;if((s.pantherMultiplier??null)!==(e.pantherMultiplier??null))return null;const r=Gb(s.rawMessage??s.message??""),n=Gb(e.rawMessage??e.message??"");return!r||!n||r.includes(" attack and ")||r.includes(" health and ")||n.includes(" attack and ")||n.includes(" health and ")?null:qb(r,n)??qb(n,r)}(t,i);if(!r)return!1;if(this.deferDecorations)t.rawMessage=r,t.message=r,t.decorated=!1;else{const n=this.decorateMessageWithNames(r,t.sourcePet,t.targetPet,t.sourceIndex,t.targetIndex);t.message=fr(n,this.inlineNameRegex,this.inlineNameTypeMap,this.ailmentNames),t.decorated=!0}return!0}shouldAppendSummonBoardState(t){return!!(this.debugSummonBoardStateLogs&&t?.message&&"board"!==t.type&&t.player&&t.player.opponent)&&/\b(summoned|spawned)\b|^No room to spawn\b/i.test(t.message)}appendSummonBoardStateLog(t){const i=t.player,r=t.player?.opponent;!i||!r||this.logs.push({message:this.buildPlainBoardStateMessage(i,r),type:"board",player:i})}buildPlainBoardStateMessage(t,i){return`${[t.pet4,t.pet3,t.pet2,t.pet1,t.pet0].map(a=>this.renderPlainPetText(a)).join(" ")} | ${[i.pet0,i.pet1,i.pet2,i.pet3,i.pet4].map(a=>this.renderPlainPetText(a)).join(" ")}`}renderPlainPetText(t){if(!t)return"___ (-/-)";const i=this.getFrontIndex(t);return`${null!=i?`${t.parent?.isOpponent?"O":"P"}${i}`:"P?"} ${t.name}(${t.attack}/${t.health}/${t.exp}xp)`}printState(t,i,r){if(!this.enabled)return;r&&this.createLog({message:r,type:"board"});const n=function H1(s,e,t,i){let r="";s.toy&&(r+=`{{toy:${s.toy.name}}} `),s.hardToy&&(r+=`{{hardtoy:${s.hardToy.name}}} `),r+=de(s.pet4,t,i),r+=de(s.pet3,t,i),r+=de(s.pet2,t,i),r+=de(s.pet1,t,i),r+=de(s.pet0,t,i);let n="";return n+=de(e.pet0,t,i),n+=de(e.pet1,t,i),n+=de(e.pet2,t,i),n+=de(e.pet3,t,i),n+=de(e.pet4,t,i),e.toy&&(n+=`{{toy:${e.toy.name}}} `),e.hardToy&&(n+=`{{hardtoy:${e.hardToy.name}}} `),`${r}| ${n}`}(t,i,a=>this.getFrontIndex(a),a=>this.isAilmentName(a));this.createLog({message:n,type:"board"})}static \u0275fac=function(i){return new(i||s)};static \u0275prov=_({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),be=(()=>{class s{gameApi;constructor(){}init(t,i){this.gameApi={player:t,opponent:i}}setTierGroupPets(t,i){null!=t&&(this.gameApi.playerPetPool=t),null!=i&&(this.gameApi.opponentPetPool=i)}setPreviousShopTier(t){this.gameApi.previousShopTier=t}setTurnNumber(t){this.gameApi.turnNumber=t}setGoldSpent(t,i){null!=t&&(this.gameApi.playerGoldSpent=t),null!=i&&(this.gameApi.opponentGoldSpent=i)}static \u0275fac=function(i){return new(i||s)};static \u0275prov=_({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class VR{triggerSummonEvents(e){const t=e?.parent;if(t&&Array.isArray(t.petArray)){this.triggerFriendSummonedToyEvents(t,e);for(let r of this.abilityQueueService.getTeam(t))r==e?this.abilityQueueService.triggerAbility(r,"ThisSummoned",e):(this.abilityQueueService.triggerAbility(r,"FriendSummoned",e),this.abilityQueueService.handleNumberedCounterTriggers(r,e,void 0,this.abilityQueueService.getNumberedTriggersForPet(r,"FriendSummoned")),"Bee"===e.name&&this.abilityQueueService.triggerAbility(r,"BeeSummoned",e));(t.opponent&&Array.isArray(t.opponent.petArray)?t.opponent.petArray:[]).forEach(r=>this.abilityQueueService.triggerAbility(r,"EnemySummoned",e)),this.executeFriendSummonedToyEvents()}}triggerFaintEvents(e){this.faintEventService.triggerFaintEvents(e)}triggerAfterFaintEvents(e){this.faintEventService.triggerAfterFaintEvents(e)}triggerFoodEvents(e,t){!function WR(s,e,t){for(const i of s.getTeam(e))s.triggerAbility(i,"FoodEatenByAny",e),s.triggerAbility(i,"FoodEatenByFriendly",e),i==e?(s.triggerAbility(i,"FoodEatenByThis",e),"apple"===t?(s.triggerAbility(i,"AppleEatenByThis",e),s.handleNumberedCounterTriggers(i,e,void 0,s.getNumberedTriggersForPet(i,"AppleEatenByThis"))):"corn"===t&&s.triggerAbility(i,"CornEatenByThis",e),s.handleNumberedCounterTriggers(i,e,void 0,s.getNumberedTriggersForPet(i,"Eat"))):(s.triggerAbility(i,"FoodEatenByFriend",e),"corn"===t&&s.triggerAbility(i,"CornEatenByFriend",e));for(const i of s.getTeam(e.parent?.opponent))s.triggerAbility(i,"FoodEatenByAny",e)}(this.abilityQueueService,e,t)}triggerPerkGainEvents(e,t){!function jR(s,e,t){for(const i of s.getTeam(e))s.triggerAbility(i,"FriendlyGainsPerk",e),"Strawberry"===t&&s.triggerAbility(i,"FriendlyGainedStrawberry",e),i==e?(s.triggerAbility(i,"ThisGainedPerk",e),"Strawberry"===t&&s.triggerAbility(i,"ThisGainedStrawberry",e)):(s.triggerAbility(i,"FriendGainsPerk",e),"Strawberry"===t&&s.triggerAbility(i,"FriendGainedStrawberry",e))}(this.abilityQueueService,e,t)}triggerPerkLossEvents(e,t){!function UR(s,e,t){for(const i of s.getTeam(e))s.triggerAbility(i,"PetLostPerk",e),"strawberry"===t&&s.triggerAbility(i,"LostStrawberry",e),i==e?s.triggerAbility(i,"ThisLostPerk",e):(s.triggerAbility(i,"FriendLostPerk",e),"strawberry"===t&&s.triggerAbility(i,"FriendLostStrawberry",e));for(const i of s.getTeam(e.parent?.opponent))s.triggerAbility(i,"PetLostPerk",e)}(this.abilityQueueService,e,t)}triggerAilmentGainEvents(e,t){!function _R(s,e,t){for(const i of s.getTeam(e))s.triggerAbility(i,"AnyoneGainedAilment",e),s.triggerAbility(i,i==e?"ThisGainedAilment":"FriendGainsAilment",e),"weak"===t&&s.triggerAbility(i,"AnyoneGainedWeak",e);for(const i of s.getTeam(e.parent?.opponent))s.triggerAbility(i,"EnemyGainedAilment",e),s.triggerAbility(i,"AnyoneGainedAilment",e),"weak"===t&&s.triggerAbility(i,"AnyoneGainedWeak",e)}(this.abilityQueueService,e,t)}triggerTransformEvents(e){const t=e.transformedInto;if(t)for(let i of this.abilityQueueService.getTeam(t))i==t?this.abilityQueueService.triggerAbility(i,"ThisTransformed",t):(this.abilityQueueService.triggerAbility(i,"FriendTransformed",t),this.abilityQueueService.handleNumberedCounterTriggers(i,t,void 0,this.abilityQueueService.getNumberedTriggersForPet(i,"FriendTransformed")))}triggerFlungEvents(e){for(let t of this.abilityQueueService.getTeam(e))this.abilityQueueService.triggerAbility(t,"AnyoneFlung",e),t!=e&&this.abilityQueueService.triggerAbility(t,"FriendFlung",e);for(let t of this.abilityQueueService.getTeam(e.parent?.opponent))this.abilityQueueService.triggerAbility(t,"AnyoneFlung",e)}triggerPushedEvents(e){for(let t of this.abilityQueueService.getTeam(e.parent?.opponent))this.abilityQueueService.triggerAbility(t,"EnemyPushed",e)}triggerKillEvents(e,t){t.parent!==e.parent&&this.abilityQueueService.triggerAbility(e,"KnockOut",t)}triggerHurtEvents(e,t){const i=void 0!==t?{damageAmount:t}:void 0;for(let r of this.abilityQueueService.getTeam(e))this.abilityQueueService.triggerAbility(r,"AnyoneHurt",e,i),r==e?(this.abilityQueueService.triggerAbility(r,"ThisHurt",e,i),this.abilityQueueService.handleNumberedCounterTriggers(r,e,i,this.abilityQueueService.getNumberedTriggersForPet(r,"ThisHurt"))):(this.abilityQueueService.triggerAbility(r,"FriendHurt",e,i),this.abilityQueueService.handleNumberedCounterTriggers(r,e,i,this.abilityQueueService.getNumberedTriggersForPet(r,"FriendHurt"))),r==e.petBehind(void 0,!0)&&this.abilityQueueService.triggerAbility(r,"FriendAheadHurt",e,i),(r==r.petBehind()||r.petAhead)&&this.abilityQueueService.triggerAbility(r,"AdjacentFriendsHurt",e,i),r.position<e.position&&this.abilityQueueService.triggerAbility(r,"AnyoneBehindHurt",e,i);for(let r of this.abilityQueueService.getTeam(e.parent?.opponent))this.abilityQueueService.triggerAbility(r,"EnemyHurt",e,i),this.abilityQueueService.triggerAbility(r,"AnyoneHurt",e,i),this.abilityQueueService.handleNumberedCounterTriggers(r,e,i,this.abilityQueueService.getNumberedTriggersForPet(r,"EnemyHurt"))}triggerLevelUpEvents(e){const t=e.parent;this.triggerFriendlyLevelUpToyEvents(t,e);for(let i of t.petArray)this.abilityQueueService.triggerAbility(i,"AnyLeveledUp",e),this.abilityQueueService.triggerAbility(i,"FriendlyLeveledUp",e),i==e?this.abilityQueueService.triggerAbility(i,"ThisLeveledUp",e):(this.abilityQueueService.triggerAbility(i,"FriendLeveledUp",e),this.abilityQueueService.handleNumberedCounterTriggers(i,e,void 0,this.abilityQueueService.getNumberedTriggersForPet(i,"FriendlyLeveledUp")));if(t.opponent&&Array.isArray(t.opponent.petArray))for(let i of t.opponent.petArray)this.abilityQueueService.triggerAbility(i,"AnyLeveledUp",e)}triggerEmptyFrontSpaceEvents(e){for(let t of e.petArray)t.clearFrontTriggered||(this.abilityQueueService.triggerAbility(t,"EmptyFrontSpace"),t.clearFrontTriggered=!0)}executeEmptyFrontSpaceEvents(){this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:e=>"EmptyFrontSpace"===e.abilityType,onExecute:e=>this.logTriggerHeader(e)}),this.clearLastLoggedTrigger()}triggerToyBrokeEvents(e){for(let t of e.petArray)this.abilityQueueService.triggerAbility(t,"FriendlyToyBroke")}triggerJumpEvents(e){this.triggerFriendJumpedToyEvents(e.parent,e);for(let t of this.abilityQueueService.getTeam(e))this.abilityQueueService.triggerAbility(t,"AnyoneJumped",e),t==e||(this.abilityQueueService.triggerAbility(t,"FriendJumped",e),this.abilityQueueService.handleNumberedCounterTriggers(t,e,void 0,this.abilityQueueService.getNumberedTriggersForPet(t,"FriendJumped")));for(let t of this.abilityQueueService.getTeam(e.parent?.opponent))this.abilityQueueService.triggerAbility(t,"AnyoneJumped",e);this.executeFriendJumpedToyEvents()}triggerManaGainedEvents(e){this.abilityQueueService.triggerAbility(e,"ThisGainedMana",e)}setManaEvent(e){e.abilityType="ManaSnipe",this.abilityQueueService.addEventToQueue(e)}setgoldenRetrieverSummonsEvent(e){e.abilityType="GoldenRetrieverSummons",this.abilityQueueService.addEventToQueue(e)}triggerFriendGainsHealthEvents(e){}triggerFriendGainedExperienceEvents(e){for(let t of this.abilityQueueService.getTeam(e))this.abilityQueueService.triggerAbility(t,"FriendlyGainedExp",e),t!==e&&this.abilityQueueService.triggerAbility(t,"FriendGainedExp",e)}triggerEmptyFrontSpaceToyEvents(e){this.toyEventService.triggerEmptyFrontSpaceToyEvents(e)}executeEmptyFrontSpaceToyEvents(){this.toyEventService.executeEmptyFrontSpaceToyEvents()}triggerFriendSummonedToyEvents(e,t){this.toyEventService.triggerFriendSummonedToyEvents(e,t)}executeFriendSummonedToyEvents(){this.toyEventService.executeFriendSummonedToyEvents()}triggerFriendlyLevelUpToyEvents(e,t){this.toyEventService.triggerFriendlyLevelUpToyEvents(e,t)}executeFriendlyLevelUpToyEvents(){this.toyEventService.executeFriendlyLevelUpToyEvents()}triggerFriendFaintsToyEvents(e,t){this.toyEventService.triggerFriendFaintsToyEvents(e,t)}executeFriendFaintsToyEvents(){this.toyEventService.executeFriendFaintsToyEvents()}triggerFriendJumpedToyEvents(e,t){this.toyEventService.triggerFriendJumpedToyEvents(e,t)}executeFriendJumpedToyEvents(){this.toyEventService.executeFriendJumpedToyEvents()}}let Fi=(()=>{class s{gameService;logService;startOfBattleToyEvents=[];emptyFrontSpaceToyEvents=[];friendSummonedToyEvents=[];friendlyLevelUpToyEvents=[];friendFaintsToyEvents=[];friendJumpedToyEvents=[];constructor(t,i){this.gameService=t,this.logService=i,this.logService=se(this.logService)}enqueueToyEvents(t,i,r,n,a){this.addToyEvent(t,{callback:a,priority:100,level:r.level,triggerPet:n,player:i,customParams:{toyName:r.name,suppressFriendFaintLog:r.suppressFriendFaintLog}});const l=i.petArray.filter(o=>"Puma"===o.name);for(const o of l)this.addToyEvent(t,{callback:a,priority:+o.attack,level:o.level,triggerPet:n,player:i})}getActiveToys(t){const i=[];return t.toy&&i.push(t.toy),t.hardToy&&i.push(t.hardToy),i}addToyEvent(t,i){t.push(i)}setStartOfBattleEvent(t){t.tieBreaker=Je(),this.startOfBattleToyEvents.push(t)}executeStartOfBattleEvents(){const t=xe(this.startOfBattleToyEvents);t.sort((r,n)=>r.priority!==n.priority?n.priority-r.priority:(n.tieBreaker??0)-(r.tieBreaker??0));const i=new Map;for(const r of t)i.set(r.priority,(i.get(r.priority)??0)+1);for(const r of t){const n=(i.get(r.priority)??0)>1;this.logStartOfBattleToyEvent(r,n,n?"tie-broken":"deterministic"),r.callback(this.gameService.gameApi)}this.startOfBattleToyEvents=[]}logStartOfBattleToyEvent(t,i,r){const n=t.customParams?.toyName??t.player?.toy?.name;n&&this.logService.createLog({message:`${t.player?.isOpponent?"Opponent's":"Player's"} ${n} activated at start of battle${t.triggerPet?.name?` (${t.triggerPet.name})`:""}`,type:"ability",player:t.player,randomEvent:i,randomEventReason:r})}executeToyEventQueue(t,i,r,n){const a=xe(t);a.sort((o,c)=>o.priority>c.priority?-1:o.priority<c.priority?1:0);const l=new Map;for(const o of a)l.set(o.priority,(l.get(o.priority)??0)+1);for(const o of a){if(r&&(null==n||n(o))){const c=(l.get(o.priority)??0)>1;this.logToyEvent(o,r,c,c?"tie-broken":"deterministic")}i(o)}t.length=0}logToyEvent(t,i,r,n){const a=t.customParams?.toyName??t.player?.toy?.name;a&&this.logService.createLog({message:`${a} ${i}${t.triggerPet?.name?` (${t.triggerPet.name})`:""}`,type:"ability",player:t.player,randomEvent:r,randomEventReason:n})}triggerEmptyFrontSpaceToyEvents(t){for(const i of this.getActiveToys(t))null!=i.emptyFromSpace&&(i.used||this.enqueueToyEvents(this.emptyFrontSpaceToyEvents,t,i,void 0,i.emptyFromSpace.bind(i)))}executeEmptyFrontSpaceToyEvents(){this.executeToyEventQueue(this.emptyFrontSpaceToyEvents,t=>{t.callback(this.gameService.gameApi,t.priority<100,t.level,t.priority)},"triggered after empty front space")}triggerFriendSummonedToyEvents(t,i){for(const r of this.getActiveToys(t))null!=r.friendSummoned&&this.enqueueToyEvents(this.friendSummonedToyEvents,t,r,i,r.friendSummoned.bind(r))}executeFriendSummonedToyEvents(){this.executeToyEventQueue(this.friendSummonedToyEvents,t=>{t.callback(this.gameService.gameApi,t.triggerPet,t.priority<100,t.level)},"reacted to friend summoned")}triggerFriendlyLevelUpToyEvents(t,i){if(t==i.parent)for(const r of this.getActiveToys(t))null!=r.friendlyLevelUp&&this.enqueueToyEvents(this.friendlyLevelUpToyEvents,t,r,i,r.friendlyLevelUp.bind(r))}executeFriendlyLevelUpToyEvents(){this.executeToyEventQueue(this.friendlyLevelUpToyEvents,t=>{t.callback(this.gameService.gameApi,t.triggerPet,t.priority<100,t.level)},"reacted to friendly level up")}triggerFriendFaintsToyEvents(t,i){if(t==i.parent)for(const r of this.getActiveToys(t))null!=r.friendFaints&&this.enqueueToyEvents(this.friendFaintsToyEvents,t,r,i,r.friendFaints.bind(r))}executeFriendFaintsToyEvents(){this.executeToyEventQueue(this.friendFaintsToyEvents,t=>{t.callback(this.gameService.gameApi,t.triggerPet,t.priority<100,t.level)},"reacted to friend fainting",t=>!t.customParams?.suppressFriendFaintLog)}triggerFriendJumpedToyEvents(t,i){if(t==i.parent)for(const r of this.getActiveToys(t))null!=r.friendJumped&&this.enqueueToyEvents(this.friendJumpedToyEvents,t,r,i,r.friendJumped.bind(r))}executeFriendJumpedToyEvents(){this.executeToyEventQueue(this.friendJumpedToyEvents,t=>{t.callback(this.gameService.gameApi,t.triggerPet,t.priority<100,t.level)},"reacted to friend jumping")}static \u0275fac=function(i){return new(i||s)(x(be),x(z))};static \u0275prov=_({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const Ni={ThisLeveledUp:1,FriendLeveledUp:2,FriendlyLeveledUp:2,ThisHurt:3,FriendHurt:4,EnemyHurt:4,AnyoneHurt:4,FriendAheadHurt:4,AnyoneBehindHurt:4,ThisGainedMana:5,ThisSummoned:6,FriendSummoned:7,EnemySummoned:7,BeeSummoned:7,EnemyPushed:8,FriendJumped:8,AnyoneJumped:8,Faint:9,FriendAheadFainted:10,FriendFaints:11,EnemyFaint:11,KnockOut:13,ThisTransformed:14,FriendTransformed:15,FriendGainedExp:16,FoodEatenByThis:17,FoodEatenByFriendly:17,AppleEatenByThis:17,CornEatenByFriend:17,CounterEvent:18,FriendLostPerk:19,PetLostPerk:19,ThisGainedPerk:20,FriendlyGainsPerk:21,FriendlyGainedStrawberry:21,ThisGainedAilment:20,FriendGainsAilment:21,EnemyGainedAilment:21,AnyoneGainedAilment:21,AnyoneFlung:22,ManaSnipe:23,PostRemovalFaint:25,PostRemovalFriendFaints:26,FriendlyToyBroke:26,EmptyFrontSpace:27,GoldenRetrieverSummons:28};function ev(s,e,t){t&&t(s),tv(s,e)}function tv(s,e,t){if(s.callback){const r=s.pet;if(r&&r.transformed&&r.transformedInto&&s.abilityType){const n=r.transformedInto;s.callback=(a,l)=>{n.executeAbilities(a,l,s.triggerPet,void 0,void 0,t)}}return void s.callback(s.abilityType,e,s.triggerPet)}const i=function KR(s){const e=s.pet;return e?e.transformed&&e.transformedInto?e.transformedInto:e:null}(s);i&&s.abilityType&&i.executeAbilities(s.abilityType,e,s.triggerPet,void 0,void 0,s.customParams||t)}let ot=(()=>{class s{static BEFORE_ATTACK_PRIORITY_BONUS=2e4;static FRIENDLY_GAINS_PERK_SELF_PRIORITY_BONUS=1e4;static CHURROS_PRIORITY_OFFSET=1e3;static MACARON_PRIORITY_OFFSET=-1e3;globalEventQueue=[];numberedTriggerCache=new WeakMap;numberedTriggerRegexCache=new Map;constructor(){}addEventToQueue(t){t.tieBreaker=Je();const i=this.findEventInsertionIndex(t);this.globalEventQueue.splice(i,0,t)}findEventInsertionIndex(t){let i=0,r=this.globalEventQueue.length;for(;i<r;){const n=Math.floor((i+r)/2);this.compareEventsForQueueOrder(t,this.globalEventQueue[n])<0?r=n:i=n+1}return i}compareEventsForQueueOrder(t,i){const r=this.getAbilityPriority(t.abilityType)-this.getAbilityPriority(i.abilityType);if(0!==r)return r;const n=i.priority-t.priority;return 0!==n?n:(t.tieBreaker??0)-(i.tieBreaker??0)}clearGlobalEventQueue(){this.globalEventQueue=[]}get hasGlobalEvents(){return this.globalEventQueue.length>0}processQueue(t,i){!function QR(s,e,t){if(t?.shuffle)for(let i=s.length-1;i>0;i--){const r=S(0,i);[s[i],s[r]]=[s[r],s[i]]}if(t?.filter)!function zR(s,e,t,i){let r=s.findIndex(t);for(;-1!==r;){const[n]=s.splice(r,1);if(!n)break;ev(n,e,i),r=s.findIndex(t)}}(s,e,t.filter,t.onExecute);else for(;s.length>0;)ev(s.shift(),e,t?.onExecute)}(this.globalEventQueue,t,i)}getNextHighestPriorityEvent(){return this.globalEventQueue.shift()||null}peekNextHighestPriorityEvent(){return this.globalEventQueue.length>0?this.globalEventQueue[0]:null}executeEvent(t,i){tv(t,i)}getAbilityPriority(t){if("string"!=typeof t||0===t.length)return 999;const i=Ni[t];if(null!=i)return i;const r=this.removeNumericSuffix(t);return r!==t?Ni[r]??Ni.CounterEvent??999:999}getPriorityNumber(t){return this.getAbilityPriority(t)}getPetEventPriority(t){let i=t.attack;return"Churros"===t.equipment?.name?i+=s.CHURROS_PRIORITY_OFFSET:"Macaron"===t.equipment?.name&&(i+=s.MACARON_PRIORITY_OFFSET),i}triggerAbility(t,i,r,n){if(t.hasTrigger(i)){let a=this.getPetEventPriority(t);("BeforeThisAttacks"===i||"BeforeFirstAttack"===i)&&(a+=s.BEFORE_ATTACK_PRIORITY_BONUS),"FriendlyGainsPerk"===i&&t===r&&(a+=s.FRIENDLY_GAINS_PERK_SELF_PRIORITY_BONUS);const l={...n??{},trigger:i,tigerSupportPet:t.petBehind(!0,!0)??null},o={priority:a,pet:t,triggerPet:r,abilityType:i,tieBreaker:Je(),customParams:l};this.addEventToQueue(o)}}simulatePostRemovalFriendFaintsCounters(t,i){if(!t||i<=0)return;const r=this.getNumberedTriggersForPet(t,"PostRemovalFriendFaints");for(let n=0;n<i;n++)this.handleNumberedCounterTriggers(t,void 0,void 0,r)}handleCounterTriggers(t,i,r,n){for(const a of n)t.hasTrigger(a.trigger)&&(t.abilityCounter++,t.abilityCounter%a.modulo===0&&this.triggerAbility(t,a.trigger,i,r))}getTriggerModulo(t){const i=this.getNumericSuffix(t);return i?parseInt(i,10):null}handleNumberedCounterTriggers(t,i,r,n){const a=[];for(const l of n){const o=this.getTriggerModulo(l);null!=o&&a.push({trigger:l,modulo:o})}0!==a.length&&this.handleCounterTriggers(t,i,r,a)}getNumberedTriggersForPet(t,i){const r=t.abilityList;let n=this.numberedTriggerCache.get(t);(!n||n.listRef!==r||n.listLength!==r.length)&&(n={listRef:r,listLength:r.length,prefixMap:new Map},this.numberedTriggerCache.set(t,n));const a=n.prefixMap.get(i);if(a)return a;const l=new Set;let o=this.numberedTriggerRegexCache.get(i);o||(o=new RegExp(`^${i}\\d+$`),this.numberedTriggerRegexCache.set(i,o));for(const u of r)for(const g of u.triggers??[])o.test(g)&&l.add(g);const c=Array.from(l);return n.prefixMap.set(i,c),c}getNumericSuffix(t){if("string"!=typeof t||0===t.length)return null;const i=t.match(/(\d+)$/);return i?i[1]:null}removeNumericSuffix(t){return"string"!=typeof t||0===t.length?"":this.getNumericSuffix(t)?t.replace(/\d+$/,""):t}getTeam(t){const r=(t instanceof p?t.parent:t)?.petArray;return Array.isArray(r)?r:[]}static \u0275fac=function(i){return new(i||s)};static \u0275prov=_({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),iv=(()=>{class s{abilityQueueService;constructor(t){this.abilityQueueService=t}triggerBeforeAttackEvents(t){const i=t?.parent,r=i&&Array.isArray(i.petArray)?i.petArray:[];for(let n of r)n.hasTrigger("BeforeFriendlyAttack")&&this.abilityQueueService.triggerAbility(n,"BeforeFriendlyAttack",t,void 0),n==t?(n.hasTrigger("BeforeThisAttacks")&&this.abilityQueueService.triggerAbility(n,"BeforeThisAttacks"),n.hasTrigger("BeforeFirstAttack")&&this.abilityQueueService.triggerAbility(n,"BeforeFirstAttack")):n.hasTrigger("BeforeFriendAttacks")&&this.abilityQueueService.triggerAbility(n,"BeforeFriendAttacks",t),(n==t.petAhead||n==t.petBehind())&&n.hasTrigger("BeforeAdjacentFriendAttacked")&&this.abilityQueueService.triggerAbility(n,"BeforeAdjacentFriendAttacked",t)}triggerAfterAttackEvents(t){if(!t)return;const i=this.abilityQueueService.getTeam(t);for(let n of i)this.abilityQueueService.handleNumberedCounterTriggers(n,void 0,void 0,this.abilityQueueService.getNumberedTriggersForPet(n,"FriendlyAttacked")),n.hasTrigger("FriendlyAttacked")&&this.abilityQueueService.triggerAbility(n,"FriendlyAttacked"),n.hasTrigger("AnyoneAttack")&&this.abilityQueueService.triggerAbility(n,"AnyoneAttack",t),n==t?(n.hasTrigger("ThisAttacked")&&this.abilityQueueService.triggerAbility(n,"ThisAttacked"),n.hasTrigger("ThisFirstAttack")&&this.abilityQueueService.triggerAbility(n,"ThisFirstAttack")):(n.hasTrigger("FriendAttacked")&&this.abilityQueueService.triggerAbility(n,"FriendAttacked",t),this.abilityQueueService.handleNumberedCounterTriggers(n,void 0,void 0,this.abilityQueueService.getNumberedTriggersForPet(n,"FriendAttacked"))),(n==t.petAhead||n==t.petBehind())&&n.hasTrigger("AdjacentFriendAttacked")&&this.abilityQueueService.triggerAbility(n,"AdjacentFriendAttacked",t),n==t.petBehind(null,!0)&&n.hasTrigger("FriendAheadAttacked")&&this.abilityQueueService.triggerAbility(n,"FriendAheadAttacked",t);const r=this.abilityQueueService.getTeam(t.parent?.opponent);if(r.length)for(let n of r)n.hasTrigger("AnyoneAttack")&&this.abilityQueueService.triggerAbility(n,"AnyoneAttack",t),n.hasTrigger("EnemyAttacked")&&this.abilityQueueService.triggerAbility(n,"EnemyAttacked"),this.abilityQueueService.handleNumberedCounterTriggers(n,void 0,void 0,this.abilityQueueService.getNumberedTriggersForPet(n,"EnemyAttacked"))}static \u0275fac=function(i){return new(i||s)(x(ot))};static \u0275prov=_({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),rv=(()=>{class s{abilityQueueService;toyEventService;constructor(t,i){this.abilityQueueService=t,this.toyEventService=i}triggerFaintEvents(t){const i=this.abilityQueueService.getTeam(t);for(let r of i)this.abilityQueueService.triggerAbility(r,r==t?"Faint":"FriendFaints",t),r==t.petBehind(null,!0)&&this.abilityQueueService.triggerAbility(r,"FriendAheadFainted",t),(r==t.petBehind(null,!0)||r.petBehind(null,!0)==t)&&this.abilityQueueService.triggerAbility(r,"AdjacentFriendsFaint",t)}triggerAfterFaintEvents(t){t.parent&&this.toyEventService.triggerFriendFaintsToyEvents(t.parent,t),this.abilityQueueService.triggerAbility(t,"PetFainted",t),this.abilityQueueService.triggerAbility(t,"PostRemovalFaint",t);const i=this.abilityQueueService.getTeam(t);for(let n of i)this.abilityQueueService.triggerAbility(n,"PetFainted",t),this.abilityQueueService.triggerAbility(n,"PostRemovalFriendFaints",t),this.abilityQueueService.handleNumberedCounterTriggers(n,t,void 0,this.abilityQueueService.getNumberedTriggersForPet(n,"PostRemovalFriendFaints"));const r=this.abilityQueueService.getTeam(t.parent?.opponent).filter(n=>n.alive);for(let n of r)this.abilityQueueService.triggerAbility(n,"EnemyFainted",t),this.abilityQueueService.triggerAbility(n,"EnemyFaint",t),this.abilityQueueService.triggerAbility(n,"PetFainted",t),this.abilityQueueService.handleNumberedCounterTriggers(n,t,void 0,this.abilityQueueService.getNumberedTriggersForPet(n,"EnemyFaint"));this.toyEventService.executeFriendFaintsToyEvents()}static \u0275fac=function(i){return new(i||s)(x(ot),x(Fi))};static \u0275prov=_({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Pe=(()=>{class s extends VR{gameService;logService;toyEventService;abilityQueueService;attackEventService;faintEventService;gameApi;lastLoggedTrigger;constructor(t,i,r,n,a,l){super(),this.gameService=t,this.logService=i,this.toyEventService=r,this.abilityQueueService=n,this.attackEventService=a,this.faintEventService=l,this.logService=se(this.logService)}clearGlobalEventQueue(){this.abilityQueueService.clearGlobalEventQueue(),this.lastLoggedTrigger=void 0}get hasGlobalEvents(){return this.abilityQueueService.hasGlobalEvents}get hasAbilityCycleEvents(){return this.abilityQueueService.hasGlobalEvents}getQueueSnapshot(){return[...this.abilityQueueService.globalEventQueue]}getNextHighestPriorityEvent(){return this.abilityQueueService.getNextHighestPriorityEvent()}peekNextHighestPriorityEvent(){return this.abilityQueueService.peekNextHighestPriorityEvent()}getPriorityNumber(t){return this.abilityQueueService.getPriorityNumber(t)}executeEventCallback(t){this.logTriggerHeader(t),this.abilityQueueService.executeEvent(t,this.gameService.gameApi),this.hasGlobalEvents||(this.lastLoggedTrigger=void 0)}logTriggerHeader(t){if(!this.logService.isShowTriggerNamesInLogs())return void(this.lastLoggedTrigger=void 0);const i=t?.abilityType;i&&this.lastLoggedTrigger!==i&&(this.lastLoggedTrigger=i,this.logService.createLog({message:`${i}:`,type:"ability",player:t.player??t.pet?.parent}))}clearLastLoggedTrigger(){this.lastLoggedTrigger=void 0}simulatePostRemovalFriendFaintsCounters(t,i){this.abilityQueueService.simulatePostRemovalFriendFaintsCounters(t,i)}initSpecialEndTurnAbility(t){for(let i of t.petArray)i.hasTrigger("SpecialEndTurn")&&i.executeAbilities("SpecialEndTurn",this.gameService.gameApi)}triggerBeforeStartOfBattleEvents(){this.gameApi=this.gameService.gameApi;for(let t of this.gameApi.player.petArray)t.hasTrigger("BeforeStartBattle")&&this.abilityQueueService.triggerAbility(t,"BeforeStartBattle");for(let t of this.gameApi.opponent.petArray)t.hasTrigger("BeforeStartBattle")&&this.abilityQueueService.triggerAbility(t,"BeforeStartBattle")}resetBeforeStartOfBattleEvents(){}executeBeforeStartOfBattleEvents(){this.processPhaseWithInterleaving(new Set(["BeforeStartBattle"]))}setCounterEvent(t){this.abilityQueueService.addEventToQueue(t)}triggerStartBattleEvents(t){this.gameApi=this.gameService.gameApi;for(let i of this.gameApi.player.petArray)i.hasTrigger("StartBattle")&&(!t||t(i))&&this.abilityQueueService.triggerAbility(i,"StartBattle");for(let i of this.gameApi.opponent.petArray)i.hasTrigger("StartBattle")&&(!t||t(i))&&this.abilityQueueService.triggerAbility(i,"StartBattle")}executeStartBattleEvents(){this.processPhaseWithInterleaving(new Set(["StartBattle"]))}triggerBeforeAttackEvent(t){this.attackEventService.triggerBeforeAttackEvents(t)}executeBeforeAttackEvents(){const t=new Set(["BeforeFriendlyAttack","BeforeThisAttacks","BeforeFirstAttack","BeforeFriendAttacks","BeforeAdjacentFriendAttacked"]),i=new Set(["BeforeStartBattle","StartBattle"]);this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:r=>t.has(r.abilityType),onExecute:r=>this.logTriggerHeader(r)}),this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:r=>!i.has(r.abilityType),onExecute:r=>this.logTriggerHeader(r)}),this.lastLoggedTrigger=void 0}executeBeforeAttackTriggerOnly(){const t=new Set(["BeforeFriendlyAttack","BeforeThisAttacks","BeforeFirstAttack","BeforeFriendAttacks","BeforeAdjacentFriendAttacked"]);this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:i=>t.has(i.abilityType),onExecute:i=>this.logTriggerHeader(i)}),this.lastLoggedTrigger=void 0}triggerAttacksEvents(t){this.attackEventService.triggerAfterAttackEvents(t)}executeAfterAttackEvents(){const t=new Set(["FriendlyAttacked","FriendAttacked","FriendAheadAttacked","AdjacentFriendAttacked","AnyoneAttack","EnemyAttacked","ThisAttacked","ThisFirstAttack"]),i=new Set(["BeforeStartBattle","StartBattle"]);this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:r=>{const n=r.abilityType;return!!t.has(n)||/^(FriendlyAttacked|FriendAttacked|EnemyAttacked)\d+$/.test(n)},onExecute:r=>this.logTriggerHeader(r)}),this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:r=>!i.has(r.abilityType),onExecute:r=>this.logTriggerHeader(r)}),this.lastLoggedTrigger=void 0}takeNextPhaseEvent(t){const i=this.abilityQueueService.globalEventQueue;let r=-1;for(let a=0;a<i.length;a++){const l=i[a];if(!t.has(l.abilityType))continue;if(-1===r){r=a;continue}const o=i[r],c=this.abilityQueueService.getPriorityNumber(l.abilityType),u=this.abilityQueueService.getPriorityNumber(o.abilityType);if(c<u){r=a;continue}if(c>u)continue;const g=l.pet?.transformed&&l.pet?.transformedInto?l.pet.transformedInto:l.pet,d=o.pet?.transformed&&o.pet?.transformedInto?o.pet.transformedInto:o.pet,m=g?this.abilityQueueService.getPetEventPriority(g):Number(l.priority??0),b=d?this.abilityQueueService.getPetEventPriority(d):Number(o.priority??0);m>b?r=a:m<b||Number(l.tieBreaker??0)<Number(o.tieBreaker??0)&&(r=a)}if(-1===r)return null;const[n]=i.splice(r,1);return n??null}processPhaseWithInterleaving(t){for(;;){const i=this.takeNextPhaseEvent(t);if(!i)break;this.logTriggerHeader(i),this.abilityQueueService.executeEvent(i,this.gameService.gameApi),this.abilityQueueService.processQueue(this.gameService.gameApi,{filter:r=>!t.has(r.abilityType),onExecute:r=>this.logTriggerHeader(r)})}this.lastLoggedTrigger=void 0}static \u0275fac=function(i){return new(i||s)(x(be),x(z),x(Fi),x(ot),x(iv),x(rv))};static \u0275prov=_({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class na extends p{logService;abilityService;name="Mouse";tier=1;pack="Custom";health=2;attack=1;initAbilities(){this.addAbility(new sa(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class sa extends h{logService;abilityService;constructor(e,t,i){super({name:"MouseAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} replaced shop food with one free ${1===this.level?"Apple":2===this.level?"Better Apple":"Best Apple"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new sa(e,this.logService,this.abilityService)}}class la extends p{logService;abilityService;name="Ant";tier=1;pack="Turtle";health=2;attack=2;initPet(e,t,i,r,n,a){this.addAbility(new oa(this,this.logService)),super.initPet(e,t,i,r,n,a)}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class oa extends h{logService;constructor(e,t){super({name:"AntAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner,l=this.level,o=a.parent.getRandomPet([a],!0,!1,!0,a);null!=o.pet&&(this.logService.createLog({message:`${a.name} gave ${o.pet.name} ${l} attack and ${l} health.`,type:"ability",randomEvent:o.random,player:a.parent,tiger:r,pteranodon:n}),o.pet.increaseAttack(l),o.pet.increaseHealth(l),this.triggerTigerExecution(e))}copy(e){return new oa(e,this.logService)}}class av extends p{logService;abilityService;name="Zombie Cricket";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new ca(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class ca extends h{logService;abilityService;constructor(e,t,i){super({name:"ZombieCricketAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new ca(e,this.logService,this.abilityService)}}class ua extends h{logService;abilityService;constructor(e,t,i){super({name:"CricketAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner,l=this.level;let g=new av(this.logService,this.abilityService,a.parent,l,l,null,this.minExpForLevel),d=a.parent.summonPet(g,a.savedPosition,!1,a);d.success&&this.logService.createLog({message:`${a.name} spawned Zombie Cricket Level ${l}`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:d.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new ua(e,this.logService,this.abilityService)}}class nv extends p{logService;abilityService;name="Fish";tier=1;pack="Turtle";health=3;attack=2;initAbilities(){this.addAbility(new ha(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class ha extends h{logService;constructor(e,t){super({name:"FishAbility",owner:e,triggers:["ThisLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if(this.level>=3)return;const i=this.level,r=t.parent.getRandomPets(2,[t],!1,!1,t);if(0!==r.pets.length){for(const n of r.pets)n.increaseAttack(i),n.increaseHealth(i);this.logService.createLog({message:`${t.name} gave ${r.pets.map(n=>n.name).join(", ")} ${i} attack and ${i} health.`,type:"ability",player:t.parent,randomEvent:r.random,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}copy(e){return new ha(e,this.logService)}}function De(s){const e=s.position??s.savedPosition;if(null==e)return[];const t=[],i=s.parent.getPetAtPosition(e-1),r=s.parent.getPetAtPosition(e+1);return i&&i.alive&&t.push(i),r&&r.alive&&t.push(r),t}function pa(s,e){return!(s.equipment&&!s.equipment.equipmentClass?.startsWith("ailment")||s.equipment?.name===e)}function D(s,e,t,i,r,n={}){s.createLog({message:t,type:"ability",player:e.parent,tiger:i,pteranodon:r,sourcePet:e,...n})}function ee(s,e,t){return e?t?t(s,e)??{random:!1}:s.parent.getSpecificPet(s,e):{random:!1}}function Gt(s,e){if(!e)return{random:!1};const t=s.parent.getSpecificPet(s,e),i=t.pet;return i&&i.alive?t:{random:t.random}}const C=Gt,Oe=function JR(s,e,t){return!(!e||t?.excludeOwner&&e===s||!Gt(s,e).pet)};class ga extends h{logService;constructor(e,t){super({name:"HorseAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r,pteranodon:n}=e,a=this.owner,l=ee(a,i);if(!l.pet)return;const o=l.pet;o.increaseAttack(this.level),D(this.logService,a,`${a.name} gave ${o.name} ${this.level} attack`,r,n,{randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new ga(e,this.logService)}}class da extends h{logService;constructor(e,t){super({name:"MosquitoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getRandomEnemyPetsWithSillyFallback(this.level,null,null,!0,a);for(let o of l.pets)null!=o&&a.snipePet(o,1,l.random,r);this.triggerTigerExecution(e)}copy(e){return new da(e,this.logService)}}class sv extends p{logService;abilityService;name="Duck";tier=1;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new ma(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class ma extends h{logService;constructor(e,t){super({name:"DuckAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gave shop pets +${this.level} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new ma(e,this.logService)}}class lv extends p{logService;abilityService;name="Beaver";tier=1;pack="Turtle";health=2;attack=3;initAbilities(){this.addAbility(new ba(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class ba extends h{logService;constructor(e,t){super({name:"BeaverAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,r=t.parent.getRandomPets(2,[t],!1,!1,t);if(0!==r.pets.length){for(const n of r.pets)n.increaseAttack(i);this.logService.createLog({message:`${t.name} gave ${r.pets.map(n=>n.name).join(", ")} ${i} attack.`,type:"ability",player:t.parent,randomEvent:r.random,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}copy(e){return new ba(e,this.logService)}}class ya extends h{logService;constructor(e,t){super({name:"OtterAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,r=t.parent.getRandomPets(this.level,[t],!1,!1,t);if(0!==r.pets.length){for(const n of r.pets)n.increaseHealth(1);this.logService.createLog({message:`${t.name} gave ${r.pets.map(n=>n.name).join(", ")} +1 health.`,type:"ability",player:t.parent,randomEvent:r.random,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}copy(e){return new ya(e,this.logService)}}class va extends h{logService;constructor(e,t){super({name:"PigAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new va(e,this.logService)}}class Aa extends h{logService;constructor(e,t){super({name:"PigeonAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked ${this.level} free Bread Crumbs.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Aa(e,this.logService)}}class fa extends h{logService;constructor(e,t){super({name:"SnailAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=e.gameApi;if(!(t.parent===i?.player?i?.playerLostLastBattle:i?.opponentLostLastBattle))return;const a=this.level,l=t.parent.nearestPetsAhead(3,t);if(0!==l.pets.length){for(const o of l.pets)o.increaseAttack(a);this.logService.createLog({message:`${t.name} gave ${l.pets.map(o=>o.name).join(", ")} +${a} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:l.random}),this.triggerTigerExecution(e)}}copy(e){return new fa(e,this.logService)}}class ka extends h{logService;constructor(e,t){super({name:"CrabAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;if(!a.alive)return;let l=a.parent.getHighestHealthPet(a,a);if(null==l.pet)return;let o=Math.ceil(l.pet.health*(.25*this.level)),c=a.parent.getThis(a);c.pet&&(c.pet.increaseHealth(o),this.logService.createLog({message:`${a.name} gave ${c.pet.name} ${.25*this.level*100}% of ${l.pet.name}'s health (${o})`,type:"ability",player:a.parent,tiger:r,randomEvent:c.random})),this.triggerTigerExecution(e)}copy(e){return new ka(e,this.logService)}}class Sa extends h{logService;constructor(e,t){super({name:"SwanAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Sa(e,this.logService)}}class ov extends p{logService;abilityService;name="Dirty Rat";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Pa extends h{logService;abilityService;constructor(e,t,i){super({name:"RatAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.opponent;for(let o=0;o<this.level;o++){let c=new ov(this.logService,this.abilityService,l,null,null,0,0),u=l.summonPet(c,0,!1,a);u.success&&this.logService.createLog({message:`${a.name} Summoned Dirty Rat on Opponent`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:u.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Pa(e,this.logService,this.abilityService)}}class Ta extends h{logService;constructor(e,t){super({name:"HedgehogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.getAll(!0,a),o=l.pets;if(0==o.length)return;let c=2*this.level;for(let u of o)a.snipePet(u,c,l.random,r,n);this.triggerTigerExecution(e)}copy(e){return new Ta(e,this.logService)}}class wa extends h{logService;constructor(e,t){super({name:"PeacockAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=3*this.level,o=a.parent.getThis(a);o.pet&&(o.pet.increaseAttack(l),this.logService.createLog({message:`${a.name} gave ${o.pet.name} ${l} attack.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random})),this.triggerTigerExecution(e)}copy(e){return new wa(e,this.logService)}}class xa extends h{logService;constructor(e,t){super({name:"FlamingoAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let o=a.parent.nearestPetsBehind(2,a).pets;if(0!=o.length){for(let c of o)c.increaseAttack(this.level),c.increaseHealth(this.level),this.logService.createLog({message:`${a.name} gave ${c.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:a.parent,tiger:r,pteranodon:n});this.triggerTigerExecution(e)}}copy(e){return new xa(e,this.logService)}}class Ra extends h{logService;constructor(e,t){super({name:"WormAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked one 2-gold ${1===this.level?"Apple":2===this.level?"Better Apple":"Best Apple"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Ra(e,this.logService)}}class La extends h{logService;constructor(e,t){super({name:"KangarooAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getThis(a);l.pet&&(l.pet.increaseAttack(this.level),l.pet.increaseHealth(this.level),this.logService.createLog({message:`${a.name} gave ${l.pet.name} ${this.level} attack and ${this.level} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random})),this.triggerTigerExecution(e)}copy(e){return new La(e,this.logService)}}class Ea extends p{logService;abilityService;petService;name="Spider";tier=2;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new Ca(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class Ca extends h{logService;abilityService;petService;constructor(e,t,i,r){super({name:"SpiderAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:n}=e,a=this.owner;let c=[...(a.parent==t?.player?t?.playerPetPool:t?.opponentPetPool)?.get(3)??[]].filter(v=>v&&"Spider"!=v);if(0==c.length&&(c=[...this.petService?.allPets?.get(3)??[]].filter(v=>v&&"Spider"!=v)),0==c.length)return;let u=c[S(0,c.length-1)];if(!u)return;let g=this.level,m=2*this.level,b=this.petService.createPet({attack:m,exp:this.minExpForLevel,equipment:null,health:m,name:u,mana:0},a.parent);a.parent.summonPet(b,a.savedPosition,!1,a).success&&this.logService.createLog({message:`${a.name} spawned ${b.name} level ${g} (${m}/${m})`,type:"ability",player:a.parent,randomEvent:!0,tiger:r,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new Ca(e,this.logService,this.abilityService,this.petService)}}class Fa extends h{logService;constructor(e,t){super({name:"DodoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.nearestPetsAhead(1,a);if(0===l.pets.length)return;let o=l.pets[0],c=Math.floor(a.attack*(.5*this.level));o.increaseAttack(c),this.logService.createLog({message:`${a.name} gave ${o.name} ${c} attack.`,player:a.parent,type:"ability",tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new Fa(e,this.logService)}}class Na extends h{logService;constructor(e,t){super({name:"BadgerAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=Math.floor(a.attack*(.5*this.level)),o=a.parent.nearestPetsBehind(1,a);o.pets.length>0&&a.snipePet(o.pets[0],l,o.random,r,n);let c=a.parent.nearestPetsAhead(1,a,void 0,!0);c.pets.length>0&&a.snipePet(c.pets[0],l,c.random,r,n),this.triggerTigerExecution(e)}copy(e){return new Na(e,this.logService)}}class cv extends p{logService;abilityService;name="Dolphin";tier=3;pack="Turtle";health=3;attack=4;hasRandomEvents=!0;initAbilities(){this.addAbility(new Ia(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Ia extends h{logService;constructor(e,t){super({name:"DolphinAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.opponent;for(let o=0;o<this.level;o++){let c=l.getLowestHealthPet(null,a);if(!c.pet)break;a.snipePet(c.pet,4,c.random,r)}this.triggerTigerExecution(e)}copy(e){return new Ia(e,this.logService)}}class Ma extends h{logService;constructor(e,t){super({name:"GiraffeAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,r=t.parent.nearestPetsAhead(this.level,t);if(0!==r.pets.length){for(const n of r.pets)n.increaseAttack(1),n.increaseHealth(1);this.logService.createLog({message:`${t.name} gave ${r.pets.map(n=>n.name).join(", ")} +1 attack and +1 health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:r.random}),this.triggerTigerExecution(e)}}copy(e){return new Ma(e,this.logService)}}class $a extends h{logService;constructor(e,t){super({name:"ElephantAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;for(let l=0;l<this.level;l++){let o=a.parent.nearestPetsBehind(1,a);o.pets.length>0&&a.snipePet(o.pets[0],1,o.random,r)}this.triggerTigerExecution(e)}copy(e){return new $a(e,this.logService)}}class Ba extends h{logService;constructor(e,t){super({name:"CamelAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.nearestPetsBehind(1,a);if(0===l.pets.length)return;let o=l.pets[0],c=2*this.level;o.increaseAttack(this.level),o.increaseHealth(c),this.logService.createLog({message:`${a.name} gave ${o.name} ${this.level} attack and ${c} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new Ba(e,this.logService)}}class qa extends h{logService;constructor(e,t){super({name:"RabbitAbility",owner:e,triggers:["FoodEatenByFriendly"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,precondition:i=>{const{triggerPet:r}=i,l=C(this.owner,r).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;let l=this.level,o=C(a,i),c=o.pet;null!=c&&(c.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${c.name} ${l} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e))}copy(e){return new qa(e,this.logService)}}class ye extends f{name="Melon";tier=6;equipmentClass="shield";power=20;originalPower=20;uses=1;originalUses=1}class Ga extends h{logService;constructor(e,t){super({name:"OxAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getThis(a),o=l.pet;if(null==o)return;o.increaseAttack(1),this.logService.createLog({message:`${a.name} gave ${o.name} +1 attack.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random});let c=a.parent.getThis(a),u=c.pet;null!=u&&(u.givePetEquipment(new ye),this.logService.createLog({message:`${a.name} gave ${u.name} Melon.`,type:"ability",player:a.parent,tiger:r,randomEvent:c.random}),this.triggerTigerExecution(e))}reset(){this.maxUses=this.level,super.reset()}copy(e){return new Ga(e,this.logService)}}class Ha extends h{logService;constructor(e,t){super({name:"DogAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;if(!i||i===a)return;let l=2*this.level,o=this.level,c=a.parent.getThis(a);c.pet&&(c.pet.increaseAttack(l),c.pet.increaseHealth(o),this.logService.createLog({message:`${a.name} gave ${c.pet.name} ${l} attack and ${o} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:c.random})),this.triggerTigerExecution(e)}copy(e){return new Ha(e,this.logService)}}class uv extends p{logService;abilityService;name="Ram";tier=1;pack="Turtle";hidden=!0;health=2;attack=2;initAbilities(){this.addAbility(new Da(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Da extends h{logService;abilityService;constructor(e,t,i){super({name:"RamAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new Da(e,this.logService,this.abilityService)}}class Oa extends h{logService;abilityService;constructor(e,t,i){super({name:"SheepAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner,l=2*this.level,o=2*this.level;for(let c=0;c<2;c++){let u=new uv(this.logService,this.abilityService,a.parent,o,l,0,this.minExpForLevel),g=a.parent.summonPet(u,a.savedPosition,!1,a);g.success&&this.logService.createLog({message:`${a.name} spawned Ram (${u.attack}/${u.health}).`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:g.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Oa(e,this.logService,this.abilityService)}}const ve=[1,2,3];function Ce(s,e){const t=`${s}${e}`;return{base:t,belugaSwallowedPet:`${t}BelugaSwallowedPet`,sarcasticFringeheadSwallowedPet:`${t}SarcasticFringeheadSwallowedPet`,level:`${t}Level`,timesHurt:`${t}TimesHurt`,parrotCopyPet:`${t}ParrotCopyPet`,parrotCopyPetBelugaSwallowedPet:`${t}ParrotCopyPetBelugaSwallowedPet`,nested:i=>{const r=`${t}ParrotCopyPetAbominationSwallowedPet${i}`;return{base:r,belugaSwallowedPet:`${r}BelugaSwallowedPet`,sarcasticFringeheadSwallowedPet:`${r}SarcasticFringeheadSwallowedPet`,level:`${r}Level`,timesHurt:`${r}TimesHurt`}}}}function H(s,e,t=null){const i=s[e];return"string"==typeof i||null===i?i:t}function Ae(s,e,t){const i=s[e];return"number"==typeof i&&Number.isFinite(i)?i:t}function Ht(s,e,t){s[e]=t}function hv(s,e,t){s[e]=t}class Wa extends p{logService;abilityService;petService;name="Parrot";tier=4;pack="Turtle";attack=4;health=2;initAbilities(){this.addAbility(new ja(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class ja extends h{logService;petService;constructor(e,t,i){super({name:"ParrotAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.petService=i}executeAbility(e){const{gameApi:t,triggerPet:i,tiger:r,pteranodon:n}=e;let a=this.owner;const l=null!=a.parrotCopyPet&&""!==a.parrotCopyPet,o=l?H(a,"parrotCopyPet",null):a.petAhead?.name??null,c=l?H(a,"parrotCopyPetBelugaSwallowedPet",null):null;if(!o)return;const g="Abomination"===o&&l?(()=>{const b={};for(const y of ve){const v=Ce("parrotCopyPetAbominationSwallowedPet",y),A=Ce("abominationSwallowedPet",y);b[A.base]=H(a,v.base,null),b[A.belugaSwallowedPet]=H(a,v.belugaSwallowedPet,null),b[A.level]=Ae(a,v.level,1),b[A.timesHurt]=Ae(a,v.timesHurt,0),b[A.parrotCopyPet]=H(a,v.parrotCopyPet,null),b[A.parrotCopyPetBelugaSwallowedPet]=H(a,v.parrotCopyPetBelugaSwallowedPet,null);for(const k of ve){const F=v.nested(k),Q=A.nested(k);b[Q.base]=H(a,F.base,null),b[Q.belugaSwallowedPet]=H(a,F.belugaSwallowedPet,null),b[Q.level]=Ae(a,F.level,1),b[Q.timesHurt]=Ae(a,F.timesHurt,0)}}return b})():{},d={name:o,attack:null,health:null,mana:null,exp:a.exp??0,equipment:null,belugaSwallowedPet:"Beluga Whale"===o?H({belugaSwallowedPet:c},"belugaSwallowedPet",null)??null:void 0};Object.assign(d,g);let m=this.petService.createPet(d,a.parent);if(null!=m){if("Abomination"===o&&Object.assign(a,g),"Beluga Whale"===o&&(a.belugaSwallowedPet=c??null),a.copyAbilities(m,"Pet",a.level),a.initAbilityUses(),"Abomination"===o){const b=a.abilityList.filter(y=>"AbominationAbility"===y.name);for(const y of b)y.execute(t,i,r,n)}this.logService.createLog({message:`${a.name} copied ${m.name}`,type:"ability",player:a.parent})}}copy(e){return new ja(e,this.logService,this.petService)}}class Ua extends h{logService;constructor(e,t){super({name:"SkunkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let o=a.parent.opponent.getHighestHealthPet(void 0,a),c=o.pet;if(null==c)return;let u=.33*this.level,g=Math.max(1,Math.floor(c.health*(1-u)));c.health=g,this.logService.createLog({message:`${a.name} reduced ${c.name} health by ${100*u}% to ${g}.`,type:"ability",player:a.parent,randomEvent:o.random,tiger:r}),this.triggerTigerExecution(e)}copy(e){return new Ua(e,this.logService)}}class _a extends h{logService;constructor(e,t){super({name:"HippoAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=3*this.level,o=a.parent.getThis(a),c=o.pet;null!=c&&(c.increaseAttack(l),c.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${c.name} ${l} attack and ${l} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e))}copy(e){return new _a(e,this.logService)}}class Va extends h{logService;constructor(e,t){super({name:"BisonAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;if(!t.parent.petArray.some(a=>a&&a!==t&&a.level>=3))return;const r=this.level,n=2*this.level;t.increaseAttack(r),t.increaseHealth(n),this.logService.createLog({message:`${t.name} gained +${r} attack and +${n} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Va(e,this.logService)}}class Ka extends h{logService;constructor(e,t){super({name:"BlowfishAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=3*this.level,o=a.parent.opponent.getRandomPet([],!1,!0,!1,a);o.pet&&a.snipePet(o.pet,l,o.random,r),this.triggerTigerExecution(e)}copy(e){return new Ka(e,this.logService)}}class za extends h{logService;constructor(e,t){super({name:"TurtleAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.getPetsWithEquipment("Melon"),o=a.parent.nearestPetsBehind(this.level,a,l);if(0!=o.pets.length){for(let c of o.pets)this.logService.createLog({message:`${a.name} gave ${c.name} Melon.`,type:"ability",tiger:r,player:a.parent,pteranodon:n,randomEvent:o.random}),c.givePetEquipment(new ye);this.triggerTigerExecution(e)}}copy(e){return new za(e,this.logService)}}class Qa extends h{logService;constructor(e,t){super({name:"SquirrelAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} discounted all shop food by ${this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Qa(e,this.logService)}}class gv extends f{logService;abilityService;name="Chili";equipmentClass="skewer";power=0;originalPower=0;attackCallback=(e,t)=>{let i=t.parent.getPetAtPosition(1);null!=i&&e.snipePet(i,5*(e.equipment?.multiplier??1),!1,null,null,!0,!1,"attacked",5)};constructor(e,t){super(),this.logService=e,this.abilityService=t}}class dv extends p{logService;abilityService;name="Bus";tier=1;pack="Turtle";hidden=!0;health=3;attack=5;initAbilities(){this.addAbility(new Ya(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Ya extends h{logService;abilityService;constructor(e,t,i){super({name:"BusAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new Ya(e,this.logService,this.abilityService)}}class Ja extends h{logService;abilityService;constructor(e,t,i){super({name:"DeerAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let c=new dv(this.logService,this.abilityService,a.parent,3*this.level,5*this.level,null,this.minExpForLevel,new gv(this.logService,this.abilityService)),u=a.parent.summonPet(c,a.savedPosition,!1,a);u.success&&this.logService.createLog({message:`${a.name} spawned Bus level ${this.level}`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:u.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Ja(e,this.logService,this.abilityService)}}class Za extends p{logService;abilityService;petService;name="Whale";tier=4;pack="Turtle";attack=3;health=7;initAbilities(){this.addAbility(new en(this,this.logService,this.petService)),this.addAbility(new Xa(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class Xa extends h{logService;abilityService;constructor(e,t,i){super({name:"WhaleSummonAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,ignoreRepeats:!0,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner,l=a.swallowedPets??[];for(;l.length>0;){const o=l.shift();if(!o)continue;let c=a.parent.summonPet(o,a.savedPosition,!1,a);c.success&&this.logService.createLog({message:`${a.name} summoned ${o.name} (level ${o.level}).`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:c.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Xa(e,this.logService,this.abilityService)}}class en extends h{logService;petService;constructor(e,t,i){super({name:"WhaleSwallowAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.nearestPetsAhead(1,a);if(0===l.pets.length)return;let o=l.pets[0],c=this.petService.createPet({name:o.name,attack:o.attack,health:o.health,exp:a.exp,equipment:null,mana:0},a.parent);a.swallowedPets||(a.swallowedPets=[]),a.swallowedPets.push(c),o.health=0,this.logService.createLog({message:`${a.name} swallowed ${o.name}`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new en(e,this.logService,this.petService)}}class tn extends h{logService;constructor(e,t){super({name:"ScorpionAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=new ni,o=a.parent.getThis(a),c=o.pet;null!=c&&(c.givePetEquipment(l),this.logService.createLog({message:`${a.name} gave ${c.name} the Peanut perk.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e))}copy(e){return new tn(e,this.logService)}}class rn extends h{logService;constructor(e,t){super({name:"CrocodileAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;for(let l=0;l<this.level;l++){let o=a.parent.opponent.getLastPet(void 0,a),c=o.pet;c&&a.snipePet(c,8,o.random,r)}this.triggerTigerExecution(e)}copy(e){return new rn(e,this.logService)}}class an extends h{logService;constructor(e,t){super({name:"RhinoAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.opponent.getFurthestUpPet(a),o=l.pet;if(null==o)return;let c=4*this.level;1==o.tier&&(c*=2),a.snipePet(o,c,l.random,r),this.triggerTigerExecution(e)}copy(e){return new an(e,this.logService)}}class mv extends p{logService;abilityService;name="Monkey";tier=5;pack="Turtle";attack=1;health=2;initAbilities(){this.addAbility(new nn(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class nn extends h{logService;constructor(e,t){super({name:"MonkeyAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.getFurthestUpPet(t),r=i.pet;if(!r)return void this.triggerTigerExecution(e);const n=2*this.level;r.increaseAttack(n),r.increaseHealth(n),this.logService.createLog({message:`${t.name} gave ${r.name} +${n} attack and +${n} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new nn(e,this.logService)}}class sn extends h{logService;constructor(e,t){super({name:"ArmadilloAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getAll(!0,a),o=l.pets;if(0!=o.length){for(let c of o){if(!c.alive)continue;let u=8*this.level;c.increaseHealth(u),this.logService.createLog({message:`${a.name} increased health of ${c.name} by ${u}.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random})}this.triggerTigerExecution(e)}}copy(e){return new sn(e,this.logService)}}class ln extends h{logService;constructor(e,t){super({name:"CowAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} replaced shop food with two free ${1===this.level?"Milk":2===this.level?"Better Milk":"Best Milk"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new ln(e,this.logService)}}class on extends h{logService;constructor(e,t){super({name:"SealAbility",owner:e,triggers:["FoodEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;if(i!=a)return;let l=this.level,o=a.parent.getRandomPets(3,[a],!0,!1,a);for(let c of o.pets)null!=c&&(c.increaseAttack(l),this.logService.createLog({message:`${a.name} gave ${c.name} ${l} attack.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}));this.triggerTigerExecution(e)}copy(e){return new on(e,this.logService)}}class bv extends p{logService;abilityService;name="Chick";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new cn(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class cn extends h{logService;abilityService;constructor(e,t,i){super({name:"ChickAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new cn(e,this.logService,this.abilityService)}}class un extends h{logService;abilityService;constructor(e,t,i){super({name:"RoosterAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=Math.max(Math.floor(.5*a.attack),1);for(let o=0;o<this.level;o++){let c=new bv(this.logService,this.abilityService,a.parent,1,l,0,this.minExpForLevel),u=a.parent.summonPet(c,a.savedPosition,!1,a);u.success&&this.logService.createLog({message:`${a.name} spawned Chick (${l}).`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:u.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new un(e,this.logService,this.abilityService)}}class hn extends h{logService;constructor(e,t){super({name:"SharkAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;if(!a.alive||i==a)return;let l={attack:2*this.level,health:2*this.level},o=a.parent.getThis(a),c=o.pet;null!=c&&(c.increaseAttack(l.attack),c.increaseHealth(l.health),this.logService.createLog({message:`${a.name} gave ${c.name} ${l.attack} attack and ${l.health} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e))}copy(e){return new hn(e,this.logService)}}class pn extends h{logService;constructor(e,t){super({name:"TurkeyAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r,pteranodon:n}=e,a=this.owner,l={attack:3*this.level,health:1*this.level},o=ee(a,i);if(!o.pet)return;const c=o.pet;c.increaseAttack(l.attack),c.increaseHealth(l.health),D(this.logService,a,`${a.name} gave ${c.name} ${l.attack} attack and ${l.health} health.`,r,n,{randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new pn(e,this.logService)}}class gn extends h{logService;constructor(e,t){super({name:"LeopardAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=Math.floor(.5*a.attack),o=a.parent.getRandomEnemyPetsWithSillyFallback(this.level,null,null,!0,a);for(let c of o.pets)null!=c&&a.snipePet(c,l,o.random,r);this.triggerTigerExecution(e)}copy(e){return new gn(e,this.logService)}}class dn extends h{logService;constructor(e,t){super({name:"BoarAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l={attack:4*this.level,health:2*this.level},o=a.parent.getThis(a),c=o.pet;null!=c&&(c.increaseAttack(l.attack),c.increaseHealth(l.health),this.logService.createLog({message:`${a.name} gave ${c.name} ${l.attack} attack and ${l.health} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e))}copy(e){return new dn(e,this.logService)}}class mn extends h{logService;abilityService;constructor(e,t,i){super({name:"TigerAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){}copy(e){return new mn(e,this.logService,this.abilityService)}}class bn extends h{logService;abilityService;constructor(e,t,i){super({name:"WolverineAbility",owner:e,triggers:["FriendHurt4"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.opponent.getAll(!1,a),o=l.pets;if(0!=o.length){for(let c of o){let u=-3*this.level;c.increaseHealth(u),this.logService.createLog({message:`${a.name} reduced ${c.name} health by ${Math.abs(u)}`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random})}this.triggerTigerExecution(e)}}copy(e){return new bn(e,this.logService,this.abilityService)}}class fe extends f{name="Coconut";tier=7;equipmentClass="shield";power=999;originalPower=999;uses=1;originalUses=1}class yn extends h{logService;constructor(e,t){super({name:"GorillaAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>this.owner.alive,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let o=a.parent.getThis(a).pet;null!=o&&(o.givePetEquipment(new fe),this.logService.createLog({message:`${a.name} gave ${o.name} a Coconut.`,type:"ability",player:a.parent,tiger:r}),this.triggerTigerExecution(e))}reset(){this.maxUses=this.level,super.reset()}copy(e){const t=new yn(e,this.logService);return t.maxUses=e.level,t}}class vn extends h{logService;abilityService;constructor(e,t,i){super({name:"DragonAbility",owner:e,triggers:["Tier1FriendBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:4,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level,r=t.parent.petArray.filter(n=>n&&n.alive);if(0!==r.length){for(const n of r)n.increaseAttack(i),n.increaseHealth(i);this.logService.createLog({message:`${t.name} gave friends +${i} attack and +${i} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}}copy(e){return new vn(e,this.logService,this.abilityService)}}class An extends h{logService;constructor(e,t){super({name:"MammothAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=2*this.level,o=a.parent.getAll(!1,a),c=o.pets;if(0!=c.length){for(let u of c)u.increaseAttack(l),u.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${u.name} ${l} attack and ${l} health.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:o.random});this.triggerTigerExecution(e)}}copy(e){return new An(e,this.logService)}}class fn extends h{logService;usesThisTurn=0;constructor(e,t){super({name:"CatAbility",owner:e,triggers:["FoodEatenByFriendly","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,{trigger:i,triggerPet:r}=e;if("StartTurn"===i)return void(this.usesThisTurn=0);if(this.usesThisTurn>=2)return;this.usesThisTurn++;const n=this.level+1;this.logService.createLog({message:`${t.name} boosted ${r?.name??"a friend"}'s shop food by ${n}x.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new fn(e,this.logService)}}class kn extends h{logService;constructor(e,t){super({name:"SnakeAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=5*this.level,o=a.parent.opponent.getRandomPet([],!1,!0,!1,a);o.pet&&(a.snipePet(o.pet,l,o.random,r),this.triggerTigerExecution(e))}copy(e){return new kn(e,this.logService)}}class Sn extends p{logService;abilityService;name="Zombie Fly";tier=1;pack="Turtle";hidden=!0;health=4;attack=4;initAbilities(){this.addAbility(new Pn(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Pn extends h{logService;abilityService;constructor(e,t,i){super({name:"ZombieFlyAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new Pn(e,this.logService,this.abilityService)}}class Tn extends h{logService;abilityService;constructor(e,t,i){super({name:"FlyAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,condition:r=>{const{triggerPet:n}=r;return!(n&&n instanceof Sn||this.owner.parent.petArray.length>=5)},abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;let l=new Sn(this.logService,this.abilityService,a.parent,null,null,null,this.minExpForLevel),o=a.parent.summonPet(l,i.savedPosition,!1,a);o.success&&this.logService.createLog({message:`${a.name} spawned Zombie Fly Level ${this.level}`,type:"ability",player:a.parent,tiger:r,randomEvent:o.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Tn(e,this.logService,this.abilityService)}}const zL={Ant:la,Cricket:class YR extends p{logService;abilityService;name="Cricket";tier=1;pack="Turtle";health=3;attack=1;initAbilities(){this.addAbility(new ua(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Fish:nv,Horse:class ZR extends p{logService;abilityService;name="Horse";tier=1;pack="Turtle";health=1;attack=2;initAbilities(){this.addAbility(new ga(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Mosquito:class XR extends p{logService;abilityService;name="Mosquito";tier=1;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new da(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Duck:sv,Beaver:lv,Otter:class eL extends p{logService;abilityService;name="Otter";tier=1;pack="Turtle";health=4;attack=1;initAbilities(){this.addAbility(new ya(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Pig:class tL extends p{logService;abilityService;name="Pig";tier=1;pack="Turtle";health=1;attack=4;initAbilities(){this.addAbility(new va(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Pigeon:class iL extends p{logService;abilityService;name="Pigeon";tier=1;pack="Turtle";attack=3;health=1;initAbilities(){this.addAbility(new Aa(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Snail:class rL extends p{logService;abilityService;name="Snail";tier=2;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new fa(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Crab:class aL extends p{logService;abilityService;name="Crab";tier=2;pack="Turtle";health=1;attack=4;initAbilities(){this.addAbility(new ka(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Swan:class nL extends p{logService;abilityService;name="Swan";tier=2;pack="Turtle";health=2;attack=1;initAbilities(){this.addAbility(new Sa(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Rat:class sL extends p{logService;abilityService;name="Rat";tier=2;pack="Turtle";health=6;attack=3;initAbilities(){this.addAbility(new Pa(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Hedgehog:class lL extends p{logService;abilityService;name="Hedgehog";tier=2;pack="Turtle";attack=4;health=2;initAbilities(){this.addAbility(new Ta(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Peacock:class oL extends p{logService;abilityService;name="Peacock";tier=2;pack="Turtle";health=5;attack=2;initAbilities(){this.addAbility(new wa(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Flamingo:class cL extends p{logService;abilityService;name="Flamingo";tier=2;pack="Turtle";health=2;attack=3;initAbilities(){this.addAbility(new xa(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Worm:class uL extends p{logService;abilityService;name="Worm";tier=2;pack="Turtle";health=4;attack=1;initAbilities(){this.addAbility(new Ra(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Kangaroo:class hL extends p{logService;abilityService;name="Kangaroo";tier=2;pack="Turtle";health=2;attack=2;initAbilities(){this.addAbility(new La(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Spider:Ea,Dodo:class pL extends p{logService;abilityService;name="Dodo";tier=3;pack="Turtle";health=2;attack=4;initAbilities(){this.addAbility(new Fa(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Badger:class gL extends p{logService;abilityService;name="Badger";tier=3;pack="Turtle";health=3;attack=6;initAbilities(){this.addAbility(new Na(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Dolphin:cv,Giraffe:class dL extends p{logService;abilityService;name="Giraffe";tier=3;pack="Turtle";attack=1;health=2;initAbilities(){this.addAbility(new Ma(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Elephant:class mL extends p{logService;abilityService;name="Elephant";tier=3;pack="Turtle";health=7;attack=3;initAbilities(){this.addAbility(new $a(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Camel:class bL extends p{logService;abilityService;name="Camel";tier=3;pack="Turtle";health=3;attack=3;initAbilities(){this.addAbility(new Ba(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Rabbit:class yL extends p{logService;abilityService;name="Rabbit";tier=3;pack="Turtle";health=2;attack=1;initAbilities(){this.addAbility(new qa(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Ox:class vL extends p{logService;abilityService;name="Ox";tier=3;pack="Turtle";health=3;attack=1;initAbilities(){this.addAbility(new Ga(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Dog:class AL extends p{logService;abilityService;name="Dog";tier=3;pack="Turtle";attack=3;health=2;initAbilities(){this.addAbility(new Ha(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Sheep:class fL extends p{logService;abilityService;name="Sheep";tier=3;pack="Turtle";attack=2;health=2;initAbilities(){this.addAbility(new Oa(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Parrot:Wa,Skunk:class kL extends p{logService;abilityService;name="Skunk";tier=4;pack="Turtle";attack=3;health=5;initAbilities(){this.addAbility(new Ua(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Hippo:class SL extends p{logService;abilityService;name="Hippo";tier=4;pack="Turtle";attack=4;health=6;initAbilities(){this.addAbility(new _a(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Bison:class PL extends p{logService;abilityService;name="Bison";tier=4;pack="Turtle";attack=4;health=4;initAbilities(){this.addAbility(new Va(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Blowfish:class TL extends p{logService;abilityService;name="Blowfish";tier=4;pack="Turtle";attack=3;health=6;initAbilities(){this.addAbility(new Ka(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Turtle:class wL extends p{logService;abilityService;name="Turtle";tier=4;pack="Turtle";attack=2;health=5;initAbilities(){this.addAbility(new za(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Squirrel:class xL extends p{logService;abilityService;name="Squirrel";tier=4;pack="Turtle";attack=3;health=5;initAbilities(){this.addAbility(new Qa(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Penguin:class RL extends p{logService;abilityService;name="Penguin";tier=4;pack="Turtle";attack=2;health=3;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Deer:class LL extends p{logService;abilityService;name="Deer";tier=4;pack="Turtle";attack=2;health=2;initAbilities(){this.addAbility(new Ja(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Whale:Za,Scorpion:class EL extends p{logService;abilityService;name="Scorpion";tier=5;pack="Turtle";attack=1;health=1;initAbilities(){this.addAbility(new tn(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Crocodile:class CL extends p{logService;abilityService;name="Crocodile";tier=5;pack="Turtle";attack=8;health=4;initAbilities(){this.addAbility(new rn(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Rhino:class FL extends p{logService;abilityService;name="Rhino";tier=5;pack="Turtle";attack=6;health=7;initAbilities(){this.addAbility(new an(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Monkey:mv,Armadillo:class NL extends p{logService;abilityService;name="Armadillo";tier=5;pack="Turtle";attack=4;health=8;initAbilities(){this.addAbility(new sn(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Cow:class IL extends p{logService;abilityService;name="Cow";tier=5;pack="Turtle";attack=4;health=6;initAbilities(){this.addAbility(new ln(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Seal:class ML extends p{logService;abilityService;name="Seal";tier=5;pack="Turtle";attack=3;health=8;initAbilities(){this.addAbility(new on(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Rooster:class $L extends p{logService;abilityService;name="Rooster";tier=5;pack="Turtle";attack=6;health=5;initAbilities(){this.addAbility(new un(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Shark:class BL extends p{logService;abilityService;name="Shark";tier=5;pack="Turtle";attack=2;health=2;initAbilities(){this.addAbility(new hn(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Turkey:class qL extends p{logService;abilityService;name="Turkey";tier=5;pack="Turtle";attack=3;health=4;initAbilities(){this.addAbility(new pn(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Leopard:class GL extends p{logService;abilityService;name="Leopard";tier=6;pack="Turtle";attack=10;health=4;initAbilities(){this.addAbility(new gn(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Boar:class HL extends p{logService;abilityService;name="Boar";tier=6;pack="Turtle";attack=10;health=6;initAbilities(){this.addAbility(new dn(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Tiger:class DL extends p{logService;abilityService;name="Tiger";tier=6;pack="Turtle";attack=6;health=4;initAbilities(){this.addAbility(new mn(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Wolverine:class OL extends p{logService;abilityService;name="Wolverine";tier=6;pack="Turtle";attack=5;health=7;initAbilities(){this.addAbility(new bn(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Gorilla:class WL extends p{logService;abilityService;name="Gorilla";tier=6;pack="Turtle";attack=7;health=10;initAbilities(){this.addAbility(new yn(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Dragon:class jL extends p{logService;abilityService;name="Dragon";tier=6;pack="Turtle";attack=3;health=8;initAbilities(){this.addAbility(new vn(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Mammoth:class UL extends p{logService;abilityService;name="Mammoth";tier=6;pack="Turtle";attack=4;health=12;initAbilities(){this.addAbility(new An(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Cat:class _L extends p{logService;abilityService;name="Cat";tier=6;pack="Turtle";attack=4;health=5;initAbilities(){this.addAbility(new fn(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Snake:class VL extends p{logService;abilityService;name="Snake";tier=6;pack="Turtle";attack=8;health=3;initAbilities(){this.addAbility(new kn(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Fly:class KL extends p{logService;abilityService;name="Fly";tier=6;pack="Turtle";attack=4;health=4;initAbilities(){this.addAbility(new Tn(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}};class wn extends h{logService;constructor(e,t){super({name:"MothAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getFurthestUpPet(a),o=l.pet;if(null==o)return;let c=2*this.level;o.increaseAttack(c),this.logService.createLog({message:`${a.name} gave ${o.name} ${c} attack.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new wn(e,this.logService)}}class xn extends h{logService;abilityService;constructor(e,t,i){super({name:"BluebirdAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.getRandomPet([t]),r=i.pet;if(!r)return;const n=this.level;r.increaseAttack(n),this.logService.createLog({message:`${t.name} gave ${r.name} +${n} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new xn(e,this.logService,this.abilityService)}}class yv extends p{logService;abilityService;name="Loyal Chinchilla";tier=1;pack="Puppy";hidden=!0;health=2;attack=2;initAbilities(){this.addAbility(new Rn(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Rn extends h{logService;abilityService;constructor(e,t,i){super({name:"LoyalChinchillaAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new Rn(e,this.logService,this.abilityService)}}class Ln extends h{logService;abilityService;constructor(e,t,i){super({name:"ChinchillaAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level,n=2*i,a=new yv(this.logService,this.abilityService,t.parent,n,n,null,this.minExpForLevel),l=t.parent.summonPet(a,t.savedPosition,!1,t);l.success&&this.logService.createLog({message:`${t.name} summoned a ${n}/${n} Loyal Chinchilla (level ${i}).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:l.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Ln(e,this.logService,this.abilityService)}}class ct extends f{name="Walnut";tier=1;equipmentClass="shield";power=2;originalPower=2;uses=1;originalUses=1}class En extends h{logService;abilityService;constructor(e,t,i){super({name:"BeetleAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,a=this.owner;let l;switch(this.level){case 1:l=new ct;break;case 2:l=new ct,l.power=4,l.originalPower=4;break;case 3:l=new ct,l.power=6,l.originalPower=6}let o=a.parent.getPetsWithEquipment(l.name),c=a.parent.nearestPetsBehind(1,a,o);if(0===c.pets.length)return;let u=c.pets[0];this.logService.createLog({message:`${a.name} gave ${u.name} ${l.name}.`,type:"ability",player:a.parent,tiger:r,randomEvent:c.random}),u.givePetEquipment(l),this.triggerTigerExecution(e)}copy(e){return new En(e,this.logService,this.abilityService)}}class Cn extends h{logService;constructor(e,t){super({name:"LadybugAbility",owner:e,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=2*this.level,o=a.parent.getThis(a);o.pet&&(o.pet.increaseAttack(l),this.logService.createLog({message:`${a.name} gave ${o.pet.name} ${l} attack.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random})),this.triggerTigerExecution(e)}copy(e){return new Cn(e,this.logService)}}class Fn extends h{logService;abilityService;constructor(e,t,i){super({name:"ChipmunkAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.equipment,r=this.level;if(!i)return this.logService.createLog({message:`${t.name} had no food perk to stock.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e);this.logService.createLog({message:`${t.name} stocked ${r} free ${i.name}${1===r?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Fn(e,this.logService,this.abilityService)}}class Nn extends h{logService;constructor(e,t){super({name:"GeckoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null!=this.owner.parent.toy,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=2*this.level,c=a.parent.getThis(a).pet;null!=c&&(c.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${c.name} ${l} health.`,type:"ability",player:a.parent,tiger:r}),this.triggerTigerExecution(e))}copy(e){return new Nn(e,this.logService)}}let R=(()=>{class s{static injector;static setInjector(t){s.injector||(s.injector=t)}static getInjector(){return s.injector}static \u0275fac=function(i){return new(i||s)};static \u0275prov=_({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class In extends f{equipmentClass="defense";name="Garlic";tier=3;power=2;originalPower=2;minimumDamage=2;callback=e=>{}}class rE extends h{equipment;logService;constructor(e,t,i){super({name:"CakeAbility",owner:e,triggers:["EndTurn"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner,i=1*(this.equipment.multiplier??1);t.increaseSellValue(i),this.logService.createLog({message:`${t.name} increased its sell value by ${i}. (Cake)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}class vv extends f{name="Meat Bone";equipmentClass="attack";power=3;originalPower=3}class Av extends p{logService;abilityService;name="Bee";tier=1;pack="Turtle";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new Mn(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Mn extends h{logService;abilityService;constructor(e,t,i){super({name:"BeeAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new Mn(e,this.logService,this.abilityService)}}class fv extends f{logService;abilityService;name="Honey";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new nE(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}}class nE extends h{equipment;logService;abilityService;constructor(e,t,i,r){super({name:"HoneyAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i,this.abilityService=r}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=new Av(this.logService,this.abilityService,t.parent,null,null,0);t.parent.summonPet(r,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Bee (Honey)${i>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent})}}}class sE extends f{logService;petService;name="Mushroom";tier=6;equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new lE(e,t,this.logService,this.petService))};constructor(e,t){super(),this.logService=e,this.petService=t}}class lE extends h{equipment;logService;petService;constructor(e,t,i,r){super({name:"MushroomAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i,this.petService=r}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=this.petService.createDefaultVersionOfPet(t,1,1);r.exp=t.exp,r.triggersConsumed=t.triggersConsumed,r.originalTriggersConsumed=t.triggersConsumed,t.parent.summonPet(r,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned ${r.name} (level ${r.level}) (Mushroom)${i>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent})}}}class $n extends f{name="Rice";tier=2;equipmentClass="shop";callback=e=>{e.increaseSellValue(2*this.multiplier)}}class Bn extends p{logService;abilityService;name="Nest";tier=1;pack="Puppy";hidden=!0;attack=2;health=3;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class kv extends f{logService;name="Egg";tier=1;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new cE(e,t))};constructor(e){super(),this.logService=e}}class cE extends h{equipment;constructor(e,t){super({name:"EggAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const{triggerPet:t}=e,i=this.owner;let r=this.equipment.multiplier;i instanceof Bn&&(r+=("Tiger"===t?.name?t.level:i.level)-1);for(let n=0;n<r;n++){let a=i.parent.opponent.petArray,l=null;for(let o of a)if(o.alive){l=o;break}null!=l&&i.snipePet(l,2,!1,!1,!1,!0,!1)}i.removePerk()}}class Ii extends f{name="Eucalyptus";equipmentClass="shield";power=4;originalPower=4;uses=1;originalUses=1}class pE extends h{equipment;logService;constructor(e,t,i){super({name:"SquashAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,condition:()=>{const r=this.owner.parent.opponent.pet0;return!!r&&r.alive},abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=t.parent.opponent.pet0;if(null==r||!r.alive)return;let n=6,a=Math.max(1,r.health-n);r.health=a,this.logService.createLog({message:`${this.equipment.name} reduced ${r.name} health by ${n} to ${a}${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent})}t.removePerk()}}class dE extends h{equipment;logService;constructor(e,t,i){super({name:"PieAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner,i=4*this.equipment.multiplier,r=3*this.equipment.multiplier;t.increaseAttack(i),t.increaseHealth(r),this.logService.createLog({message:`${t.name} gained ${i} attack and ${r} health (Pie)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}class Sv extends f{logService;name="Skewer";tier=5;equipmentClass="skewer";power=0;attackCallback=(e,t)=>{this.skewer(e,t,1),this.skewer(e,t,2)};constructor(e){super(),this.logService=e}skewer(e,t,i){let r=t.parent.getPetAtPosition(i);null!=r&&e.snipePet(r,3*(e.equipment?.multiplier??1),!1,null,null,!0,!1,"attacked",3)}}class yE extends h{equipment;logService;constructor(e,t,i){super({name:"PancakesAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;for(let i of t.parent.petArray){if(t==i)continue;let r=2*this.equipment.multiplier,n=2*this.equipment.multiplier;i.increaseAttack(r),i.increaseHealth(n),this.logService.createLog({message:`${i.name} gained ${r} attack and ${n} health (Pancakes)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent})}}}class Pv extends f{logService;abilityService;name="Mild Chili";equipmentClass="skewer";power=0;originalPower=0;attackCallback=(e,t)=>{let i=t.parent.getPetAtPosition(1);null!=i&&e.snipePet(i,4*(e.equipment?.multiplier??1),!1,null,null,!0,!1,"attacked",4)};constructor(e,t){super(),this.logService=e,this.abilityService=t}}class AE extends h{equipment;logService;constructor(e,t,i){super({name:"BaguetteAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=t.parent.opponent.getPetsWithoutEquipment("Perk"),n=t.parent.opponent.getFurthestUpPet(t,r).pet;if(null==n)return;if(null!=n.equipment){let a=n.equipment.name;n.removePerk(),this.logService.createLog({message:`${t.name} removed ${a} from ${n.name} (Baguette)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent})}}t.removePerk()}}function M(s,e,t){const i=`${e??""}`.trim()||"Random event",r=Number.isFinite(t)&&Number(t)>0?` ${Math.trunc(Number(t))}`:"";if(!s)return`${i}${r}`;const a=s.savedPosition??s.position??Number.NaN;return`(${s.parent?.isOpponent?"O":"P"}${Number.isFinite(a)?Math.trunc(a)+1:0}) ${i}${r}`}function Mi(s,e,t,i){const r=`${e??""}`.trim()||"Equipment",n=`${t??""}`.trim()||"random event",a=Number.isFinite(i)&&Number(i)>0?` ${Math.trunc(Number(i))}`:"";if(!s)return`${r} ${n}${a}`;const o=s.savedPosition??s.position??Number.NaN;return`(${s.parent?.isOpponent?"O":"P"}${Number.isFinite(o)?Math.trunc(o)+1:0}) ${r} (${`${s.name??""}`.trim()||"Unknown"}) ${n}${a}`}class Tv extends f{logService;petService;gameService;name="Popcorn";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new PE(e,t,this.logService,this.petService))};constructor(e,t,i){super(),this.logService=e,this.petService=t,this.gameService=i}}class PE extends h{equipment;logService;petService;constructor(e,t,i,r){super({name:"PopcornAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i,this.petService=r}executeAbility(e){const{gameApi:t}=e,i=this.owner;for(let r=0;r<this.equipment.multiplier;r++){let a=[...(i.parent==t.player?t.playerPetPool:t.opponentPetPool)?.get(i.tier)??[]];if(a.length||(a=[...this.petService.allPets.get(i.tier)??[]]),!a.length)return;const l=L({key:"equipment.popcorn-summon",label:Mi(i,"Popcorn","summon",r+1),options:a.map(g=>({id:g,label:g}))},()=>S(0,a.length-1));if(l.index<0||l.index>=a.length)return;let c=this.petService.createPet({attack:null,equipment:null,exp:0,health:null,name:a[l.index],mana:0},i.parent);i.parent.summonPet(c,i.savedPosition).success&&this.logService.createLog({message:`${i.name} Spawned ${c.name} (Popcorn)${r>0?this.equipment.multiplierMessage:""}`,type:"ability",player:i.parent,randomEvent:l.randomEvent})}}}class TE extends f{logService;abilityService;petService;name="Seaweed";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new wE(e,t,this.logService,this.petService))};constructor(e,t,i){super(),this.logService=e,this.abilityService=t,this.petService=i}}class wE extends h{equipment;logService;petService;constructor(e,t,i,r){super({name:"SeaweedAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i,this.petService=r}executeAbility(e){const t=this.owner;let i=this.petService.createPet({name:"Baby Urchin",attack:t.attack,health:t.health,mana:t.mana,exp:t.exp,equipment:null},t.parent);this.logService.createLog({message:`${t.name} transformed into ${i.name} (Seaweed)`,type:"equipment",player:t.parent}),t.parent.transformPet(t,i)}}class RE extends h{equipment;logService;constructor(e,t,i){super({name:"CaramelAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let i=t.parent.petArray.filter(l=>l.alive&&"Caramel"===l.equipment?.name);if(0===i.length)return;let r=3*i.length,n=t.parent.opponent.getHighestHealthPet(),a=n.pet;if(null!=a){t.snipePet(a,r,n.random,!1,!1,!0,!1);for(let l of i)l.removePerk(),this.logService.createLog({message:`${l.name} lost Caramel equipment`,type:"ability",player:t.parent,tiger:!1})}}}class EE extends h{equipment;constructor(e,t){super({name:"CherryAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;t.parent.gainTrumpets(2*i,t,!1,i,!0),t.removePerk(!0)}}class NE extends h{equipment;logService;abilityService;constructor(e,t,i,r){super({name:"ChocolateCakeAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i,this.abilityService=r}executeAbility(e){const t=this.owner;let r=3*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${r} exp. (Chocolate Cake)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.increaseExp(r),t.health=0,this.abilityService.triggerKillEvents(t,t)}}class ME extends h{equipment;logService;constructor(e,t,i){super({name:"EggplantAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;for(let r=0;r<i;r++){let n=t.parent.opponent,a=n.getPet(t.position);if(null==a)return;this.logService.createLog({message:`${t.name} pushed ${a.name} 1 space forward. (Eggplant)${r>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent}),n.pushPet(a,1)}}}class qE extends h{equipment;logService;abilityService;constructor(e,t,i,r){super({name:"BananaAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i,this.abilityService=r}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=new mv(this.logService,this.abilityService,t.parent,4,4,0,0),n=i>0?this.equipment.multiplierMessage:"";t.parent.summonPet(r,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Monkey (Banana)${n}`,type:"ability",player:t.parent})}}}class HE extends h{equipment;logService;constructor(e,t,i){super({name:"PitaBreadAbility",owner:e,triggers:["ThisHurt"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;if(!t.alive)return;let r=15*this.equipment.multiplier;t.increaseHealth(r),this.logService.createLog({message:`${t.name} gained ${r} health. (Pita Bread)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.removePerk()}}class OE extends h{equipment;constructor(e,t){super({name:"TomatoAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;for(let r=0;r<i;r++){let n=t.parent.opponent.getLastPet();if(null==n.pet)break;t.snipePet(n.pet,10,n.random,!1,!1,!0,!1)}t.removePerk()}}class jE extends h{equipment;logService;constructor(e,t,i){super({name:"DurianAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;for(let r=0;r<i;r++){let n=t.parent.opponent.getHighestHealthPet(),a=n.pet;if(null==a)continue;let l=.33,o=Math.max(1,Math.floor(a.health*(1-l)));a.health=o,this.logService.createLog({message:`${this.equipment.name} reduced ${a.name} health by ${100*l}% to ${o}${r>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent,randomEvent:n.random})}t.removePerk()}}class _E extends h{equipment;constructor(e,t){super({name:"FigAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;let i=this.equipment.multiplier;for(let r=0;r<i;r++){let n=t.parent.opponent.getLowestHealthPet(),a=n.pet;if(null==a)return;t.snipePet(a,4,n.random,!1,!1,!0,!1)}t.removePerk()}}class KE extends h{equipment;logService;abilityService;constructor(e,t,i,r){super({name:"CodRoeAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i,this.abilityService=r}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=new nv(this.logService,this.abilityService,t.parent,3,2,0,0);t.parent.summonPet(r,t.savedPosition).success&&this.logService.createLog({message:`${t.name} spawned ${r.name} (Cod Roe)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent})}}}class QE extends h{equipment;logService;constructor(e,t,i){super({name:"SudduthTomatoAbility",owner:e,triggers:["ThisHurt"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,condition:r=>!!this.owner.alive,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const r=this.owner;let a=1*this.equipment.multiplier;r.increaseHealth(a),this.logService.createLog({message:`${r.name} gained ${a} health (Sudduth Tomato)${this.equipment.multiplierMessage}`,type:"equipment",player:r.parent}),r.removePerk()}}class JE extends h{equipment;logService;abilityService;constructor(e,t,i,r){super({name:"GrosMichelBananaAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i,this.abilityService=r}executeAbility(e){const i=this.owner;for(let r=0;r<this.equipment.multiplier;r++){let n=new la(this.logService,this.abilityService,i.parent,i.health,i.attack,i.mana,i.exp);this.logService.createLog({message:`${i.name} transformed into ${n.name} (Gros Michel Banana)${r>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:i.parent}),i.parent.transformPet(i,n)}}}class ZE extends f{logService;petService;name="Cocoa Bean";tier=5;equipmentClass="beforeAttack";power=0;originalPower=0;uses=1;originalUses=1;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new XE(e,t,this.logService,this.petService))};constructor(e,t){super(),this.logService=e,this.petService=t}}class XE extends h{equipment;logService;petService;constructor(e,t,i,r){super({name:"CocoaBeanAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i,this.petService=r}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=t.parent.opponent.petArray.filter(c=>c.alive);if(0==r.length)return void t.removePerk();const n=L({key:"equipment.cocoa-bean-transform",label:Mi(t,"Cocoa Bean","transform",i+1),options:r.map(c=>({id:`${c.savedPosition+1}:${c.name}`,label:`O${c.savedPosition+1} ${c.name}`}))},()=>S(0,r.length-1));let a=r[n.index],l=this.petService.createPet({name:a.name,attack:a.attack,health:a.health,mana:t.mana,exp:a.exp,equipment:null},t.parent);if(l.mana=t.mana,a.swallowedPets&&a.swallowedPets.length>0){l.swallowedPets=[];for(let c of a.swallowedPets){let u=this.petService.createPet({name:c.name,attack:c.attack,health:c.health,mana:c.mana,exp:c.exp,equipment:c.equipment},t.parent);l.swallowedPets.push(u)}}l.copyAbilities(a,"Pet"),this.logService.createLog({message:`${t.name} transformed into ${l.name} (Cocoa Bean)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent,randomEvent:n.randomEvent}),t.parent.transformPet(t,l)}}}class tC extends h{equipment;constructor(e,t){super({name:"UnagiAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=t.parent.opponent.getRandomPet([],!1,!0,!1,t);r.pet&&t.snipePet(r.pet,2,r.random,!1,!1,!0,!1)}}}class ut extends f{name="Corncob";tier=1;equipmentClass="shop";effectMultiplier=1}class wv extends f{name="Blueberry";equipmentClass="target";constructor(){super()}}class aC extends h{equipment;constructor(e,t){super({name:"CashewNutAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=t.parent.nearestPetsAhead(2,t,null,!0),n=r.pets.filter(l=>l?.alive);if(n.length<2)return;let a=n[1];t.snipePet(a,a.parent==t.parent?1:2,r.random,null,null,!0)}}}class sC extends h{equipment;logService;constructor(e,t,i){super({name:"NachosAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let a=Math.min(3,t.health-1);a>0&&(t.increaseHealth(-a),t.increaseAttack(a),this.logService.createLog({message:`${t.name} converted ${a} health into ${a} attack (Nachos)${i>0?this.equipment.multiplierMessage:""}`,type:"equipment",player:t.parent}))}t.removePerk()}}class pC extends h{equipment;logService;constructor(e,t){super({name:"CauliflowerAbility",owner:e,triggers:["KnockOut"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>this.executeAbility(i)}),this.equipment=t,this.logService=R.getInjector().get(z)}executeAbility(e){const t=this.owner;if(!t.alive)return void t.removePerk();const i=1*this.equipment.multiplier;t.increaseAttack(i),t.increaseHealth(i),this.logService.createLog({message:`${t.name} gained +${i} attack and +${i} health. (Cauliflower)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.removePerk()}}class qn extends f{name="Melon Slice";equipmentClass="shield";power=10;originalPower=10;uses=1;originalUses=1}class yC extends h{equipment;logService;constructor(e,t){super({name:"OysterMushroomAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>this.executeAbility(i)}),this.equipment=t,this.logService=R.getInjector().get(z)}executeAbility(e){const t=this.owner,i=Math.max(t.attack,9),r=Math.max(t.health,9);i!==t.attack&&(t.attack=i),r!==t.health&&(t.health=r),this.logService.createLog({message:`${t.name} set stats to ${t.attack}/${t.health}. (Oyster Mushroom)`,type:"equipment",player:t.parent}),t.removePerk()}}const Dt={iriomoteCat:{1:["Ant","Mosquito","Cricket","Moth","Beetle","Chihuahua","Cockroach","Hummingbird","Frilled Dragon","Farmer Mouse","Budgie","Groundhog","Cone Snail","Goose","Barghest","Tsuchinoko","Alchemedes","Bunyip","Sneaky Egg","Ethiopian Wolf","African Wild Dog","Volcano Snail","Pygmy Seahorse","Nudibranch"],2:["Crab","Hedgehog","Flamingo","Spider","Robin","Beluga Sturgeon","Stork","Bass","Panda","Seahorse","Roadrunner","Mink","Meerkat","Black Necked Stilt","Sea Urchin","Honduran White Bat","Frost Wolf","Ogopogo","Thunderbird","Bigfoot","Takhi","White-Bellied Heron","Taita Shrew","Nightcrawler","Pink Robin","Fruit Fly","Olm","Tadpole","Thorny Dragon"],3:["Dodo","Dolphin","Sheep","Hoopoe Bird","Pug","Anteater","Eel","Bear","Farmer Pig","Brazillian Treehopper","Flea","Weasel","Osprey","Blue Dragon","Betta Fish","Skeleton Dog","Mandrake","Fur-Bearing Trout","Mana Hound","Roloway Monkey","Amami Rabbit","Hirola","Tucuxi","Tree Kangaroo","Slime","Dimetrodon","Gerenuk","Pangasius","Vampire Parrot"]},radish:{1:["Walnut","Honey","Egg","Strawberry"],2:["Meat Bone","Lime","Caramel","Bok Choy","Fairy Dust","Faint Bread","Cod Roe"],3:["Garlic","Squash","Seaweed","Fig","Brussels Sprout"],4:["Fortune Cookie","Salt","Baguette","Cheese","Banana","Ambrosia"],5:["Chili","Lemon","Pepper","Durian","Honeydew Melon","Easter Egg"],6:["Steak","Melon","Pita Bread","Tomato","Yggdrasil Fruit","Popcorn","White Okra"]},rolowayMonkey:["Peacock","Camel","Porcupine","Lizard","Guineafowl"],goldenTamarin:["Crocodile","Tarantula Hawk","Red Dragon","Werewolf","Snow Leopard","Sea Cucumber"],bayCat:["Skunk","Fossa","Hawk","Lynx","Platybelodon","Kraken","Tasmanian Devil","Humphead Wrasse"]};class vC extends f{logService;name="Radish";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new AC(e,t,this.logService))};constructor(e){super(),this.logService=e}}class AC extends h{equipment;logService;equipmentService;constructor(e,t,i){super({name:"RadishAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>this.executeAbility(r)}),this.equipment=t,this.logService=i,this.equipmentService=R.getInjector().get(G)}executeAbility(e){const t=this.owner,i=Math.min(Math.max(t.tier??t.level??1,1),6),r=Dt.radish[i];if(!r||0===r.length)return;const n=this.equipmentService.getInstanceOfAllEquipment(),a=r.filter(u=>n.has(u));if(0===a.length)return;const l=S(0,a.length-1),c=n.get(a[l]);c&&(t.givePetEquipment(c),this.logService.createLog({message:`${t.name} gained ${c.name} before battle (Radish).`,type:"equipment",player:t.parent,randomEvent:!0}))}}class Gn extends f{logService;name="Rambutan";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new SC(e,t,this.logService))};constructor(e){super(),this.logService=e}}class SC extends h{equipment;logService;constructor(e,t,i){super({name:"RambutanAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let n=3*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${n} mana. (Rambutan)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent}),t.increaseMana(n)}}class TC extends h{equipment;logService;petService;constructor(e,t,i){super({name:"LovePotionAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i,this.petService=R.getInjector().get(te)}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){const r=this.petService.createPet({name:t.name,attack:3,health:3,exp:0,equipment:null,mana:0},t.parent),n=t.parent.summonPet(r,t.savedPosition,!1,t);n.success&&this.logService.createLog({message:`${t.name} summoned a ${r.attack}/${r.health} ${r.name} (Love Potion)${i>0?this.equipment.multiplierMessage:""}.`,type:"equipment",player:t.parent,randomEvent:n.randomEvent})}}}class xC extends h{equipment;logService;constructor(e,t,i){super({name:"FairyDustAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,condition:()=>null==this.owner.parent.pet0,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let r=2*this.equipment.multiplier;this.logService.createLog({message:`${t.name} pushed itself to the front and gained ${r} mana(Fairy Dust)${this.equipment.multiplierMessage}.`,type:"ability",player:t.parent}),t.parent.pushPetToFront(t,!0),t.increaseMana(r),t.removePerk()}}class LC extends h{equipment;logService;constructor(e,t,i){super({name:"GingerbreadManAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let r=1*this.equipment.multiplier;this.logService.createLog({message:`${t.name} gained ${r} experience (Gingerbread Man)${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent}),t.increaseExp(r)}}class xv extends p{logService;abilityService;name="Monty";tier=1;pack="Unicorn";hidden=!0;health=3;attack=3;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class CC extends h{equipment;logService;abilityService;constructor(e,t,i,r){super({name:"EasterEggAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i,this.abilityService=r}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=new xv(this.logService,this.abilityService,t.parent,null,null,0,0);t.parent.summonPet(r,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Monty (Easter Egg)${i>0?this.equipment.multiplierMessage:""}`,type:"ability",player:t.parent})}}}class NC extends h{equipment;logService;constructor(e,t,i){super({name:"HealthPotionAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let r=2*this.equipment.multiplier,n=t.parent.furthestUpPet;null!=n&&(this.logService.createLog({message:`${t.name} gave ${r} health to ${n.name} (Health Potion)${this.equipment.multiplierMessage}.`,type:"equipment",player:t.parent}),n.increaseHealth(r))}}class $C extends h{equipment;constructor(e,t){super({name:"GoldenEggAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:i=>{this.executeAbility(i)}}),this.equipment=t}executeAbility(e){const t=this.owner;let i=t.parent.opponent.petArray,r=null;for(let a of i)if(a.alive){r=a;break}if(null==r)return;let n=this.equipment.multiplier;for(let a=0;a<n;a++)t.snipePet(r,6,!1,!1,!1,!0,!1);t.removePerk()}}class Rv extends p{logService;abilityService;name="Tandgnost";tier=4;pack="Custom";attack=6;health=2;initAbilities(){this.addAbility(new Hn(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Hn extends h{logService;constructor(e,t){super({name:"Tandgnost Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(a=>a&&a.alive&&"Tandgrisner"===a.name);if(0===i.length)return void this.triggerTigerExecution(e);const[r]=ge([...i]),n=3*Math.max(1,this.level);r.increaseHealth(n),this.logService.createLog({message:`${t.name} gave ${r.name} +${n} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Hn(e,this.logService)}}class Lv extends p{logService;abilityService;name="Tandgrisner";tier=5;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new Dn(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Dn extends h{logService;constructor(e,t){super({name:"Tandgrisner Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(a=>a&&a.alive&&"Tandgnost"===a.name);if(0===i.length)return void this.triggerTigerExecution(e);const[r]=ge([...i]),n=3*Math.max(1,this.level);r.increaseAttack(n),this.logService.createLog({message:`${t.name} gave ${r.name} +${n} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Dn(e,this.logService)}}class qC extends h{equipment;logService;abilityService;constructor(e,t,i,r){super({name:"YggdrasilFruitAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.logService=i,this.abilityService=r}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=new Rv(this.logService,this.abilityService,t.parent,5,5,0),n=new Lv(this.logService,this.abilityService,t.parent,5,5,0),a=i>0?this.equipment.multiplierMessage:"";t.parent.summonPet(r,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Tandgnost (Yggdrasil Fruit)${a}`,type:"ability",player:t.parent}),t.parent.summonPet(n,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned Tandgrisner (Yggdrasil Fruit)${a}`,type:"ability",player:t.parent})}}}class GC extends f{logService;petService;name="Faint Bread";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new HC(e,t,this.petService,this.logService))};constructor(e,t){super(),this.logService=e,this.petService=t}}class HC extends h{equipment;petService;logService;constructor(e,t,i,r){super({name:"FaintBreadAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:n=>{this.executeAbility(n)}}),this.equipment=t,this.petService=i,this.logService=r}executeAbility(e){const t=this.owner;for(let i=0;i<this.equipment.multiplier;i++){let r=this.petService.getRandomFaintPet(t.parent,1,[],t),n=i>0?this.equipment.multiplierMessage:"";t.parent.summonPet(r,t.savedPosition).success&&this.logService.createLog({message:`${t.name} Spawned ${r.name} (Faint Bread)${n}`,type:"ability",player:t.parent,randomEvent:!0})}}}class On extends f{name="Cold";equipmentClass="ailment-defense";power=-5;originalPower=-5;uses=1;originalUses=1}class Wn extends f{name="Icky";equipmentClass="ailment-other";uses=2;originalUses=2}class Te extends f{name="Spooked";equipmentClass="ailment-defense";power=-1;originalPower=-1}class ke extends f{name="Weak";equipmentClass="ailment-defense";power=-3;originalPower=-3}class Ev extends f{logService;name="Tasty";equipmentClass="faint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new OC(e,t,this.logService))};constructor(e){super(),this.logService=e}}class OC extends h{equipment;logService;constructor(e,t,i){super({name:"TastyAbility",owner:e,triggers:["Faint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:r=>{this.executeAbility(r)}}),this.equipment=t,this.logService=i}executeAbility(e){const t=this.owner;let i=t.parent.opponent.petArray.filter(a=>a.alive);if(0==i.length)return;const r=L({key:"equipment.tasty-target",label:Mi(t,"Tasty","target"),options:i.map(a=>({id:`${a.savedPosition+1}:${a.name}`,label:`O${a.savedPosition+1} ${a.name}`}))},()=>S(0,i.length-1));let n=i[r.index];n.increaseAttack(2*this.equipment.multiplier),n.increaseHealth(2*this.equipment.multiplier),this.logService.createLog({message:`${t.name} gave ${n.name} +2 attack and +2 health (Tasty)${this.equipment.multiplierMessage}`,type:"equipment",player:t.parent,randomEvent:r.randomEvent})}}class Cv extends f{name="Silly";equipmentClass="ailment-other"}class UC extends h{petService;logService;constructor(e){super({name:"ConfusedAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Equipment",native:!0,maxUses:1,abilitylevel:1,abilityFunction:t=>this.executeAbility(t)}),this.petService=R.getInjector().get(te),this.logService=R.getInjector().get(z)}executeAbility(e){const t=this.owner,i=Math.max(1,(t.tier??1)-1),r=this.petService.allPets.get(i)??[];if(0===r.length)return void t.removePerk();const n=L({key:"equipment.confused-transform",label:Mi(t,"Confused","transform"),options:r.map(o=>({id:o,label:o}))},()=>S(0,r.length-1)),a=r[n.index];t.removePerk();const l=this.petService.createPet({name:a,attack:t.attack,health:t.health,exp:t.exp??0,equipment:null,mana:t.mana},t.parent);this.logService.createLog({message:`${t.name} transformed into a ${a}. (Confused)`,type:"equipment",player:t.parent,randomEvent:n.randomEvent}),t.parent.transformPet(t,l)}}class Fv extends f{name="Cursed";equipmentClass="ailment-other";callback=e=>{e.addAbility(new _C(e))}}class _C extends h{logService;constructor(e){super({name:"CursedAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:t=>this.executeAbility(t)}),this.logService=R.getInjector().get(z)}executeAbility(e){const t=this.owner,i=t.parent.getRandomPet([t],!1,!1,!1,t),r=i.pet;r&&(r.givePetEquipment(new Fv),this.logService.createLog({message:`${t.name} made ${r.name} Cursed.`,type:"equipment",player:t.parent,randomEvent:i.random}))}}class $i extends f{name="Inked";equipmentClass="ailment-attack";power=-3;originalPower=-3}class zC extends h{logService;petService;constructor(e){super({name:"WebbedAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Equipment",native:!0,abilitylevel:1,abilityFunction:t=>this.executeAbility(t)}),this.logService=R.getInjector().get(z),this.petService=R.getInjector().get(te)}executeAbility(e){const t=this.owner,i=t.parent.opponent,r=this.petService.createPet({name:"Spider",attack:2,health:2,exp:0,equipment:null,mana:0},i),n=i.summonPet(r,0,!1,t);n.success&&this.logService.createLog({message:`${t.name} summoned ${r.name} for the opponent. (Webbed)`,type:"equipment",player:t.parent,randomEvent:n.randomEvent})}}const QC={Garlic:In,"Meat Bone":vv,Steak:class aE extends f{name="Steak";equipmentClass="attack";tier=6;power=20;originalPower=20;uses=1;originalUses=1},Melon:ye,Coconut:fe,Peanut:ni,"Peanut Butter":wt,"Cake Slice":class DC extends f{name="Cake Slice";equipmentClass="shop";tier=1},Blackberry:Lb,Croissant:class oE extends f{name="Croissant";tier=3;equipmentClass="shop";constructor(){super()}},Rice:$n,Eucalyptus:Ii,Lime:class uE extends f{equipmentClass="defense";name="Lime";tier=2;power=1;originalPower=1;callback=e=>{}},Salt:nr,Lemon:class mE extends f{equipmentClass="shield";name="Lemon";tier=5;power=7;originalPower=7;uses=2;originalUses=2},Cucumber:class fE extends f{name="Cucumber";equipmentClass="shop"},Cheese:sr,Grapes:class kE extends f{name="Grapes";equipmentClass="shop"},Pepper:or,Carrot:class SE extends f{name="Carrot";equipmentClass="shop"},Cherry:class LE extends f{name="Cherry";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new EE(e,t))}},"Bok Choy":class CE extends f{name="Bok Choy";equipmentClass="shop";tier=2},Potato:class $E extends f{name="Potato";equipmentClass="shield-snipe";power=10;uses=2;originalUses=2;originalPower=10},Unagi:class eC extends f{name="Unagi";equipmentClass="startOfBattle";hasRandomEvents=!0;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new tC(e,t))};constructor(){super()}},Corncob:ut,"Fortune Cookie":lr,Blueberry:wv,Donut:class iC extends f{name="Donut";equipmentClass="target";constructor(){super()}},Pumpkin:class lC extends f{name="Pumpkin";equipmentClass="shop";tier=1},Kiwifruit:class oC extends f{name="Kiwifruit";equipmentClass="shop";tier=2},Pineapple:class cC extends f{name="Pineapple";equipmentClass="attack-snipe";power=2;uses=3;originalUses=3;constructor(){super()}},Guava:hr,"Brussels Sprout":class uC extends f{name="Brussels Sprout";equipmentClass="shield";power=5;originalPower=5;uses=1;originalUses=1},Cauliflower:class hC extends f{name="Cauliflower";equipmentClass="shop";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new pC(e,t))}},Churros:class gC extends f{name="Churros";equipmentClass="shop"},Kiwano:class dC extends f{name="Kiwano";equipmentClass="shop"},Macaron:class mC extends f{name="Macaron";equipmentClass="shop"},"Melon Slice":qn,"Oyster Mushroom":class bC extends f{name="Oyster Mushroom";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new yC(e,t))}},"Sardinian Currant":class fC extends f{name="Sardinian Currant";equipmentClass="shop"},Sausage:class kC extends f{name="Sausage";equipmentClass="shop"},Walnut:ct,"Honeydew Melon":kb,"Maple Syrup":xt,"White Okra":dr,Ambrosia:Rb,"Magic Beans":class IC extends f{name="Magic Beans";equipmentClass="shop";constructor(){super()}}},YC={Cake:class iE extends f{logService;name="Cake";equipmentClass="shop";tier=3;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new rE(e,t,this.logService))};constructor(e){super(),this.logService=e}},Egg:kv,Squash:class hE extends f{logService;name="Squash";tier=3;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new pE(e,t,this.logService))};constructor(e){super(),this.logService=e}},Pie:class gE extends f{logService;name="Pie";tier=4;equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new dE(e,t,this.logService))};constructor(e){super(),this.logService=e}},Skewer:Sv,Pancakes:class bE extends f{logService;name="Pancakes";tier=6;equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new yE(e,t,this.logService))};constructor(e){super(),this.logService=e}},Strawberry:Lt,Baguette:class vE extends f{logService;name="Baguette";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new AE(e,t,this.logService))};constructor(e){super(),this.logService=e}},Eggplant:class IE extends f{logService;name="Eggplant";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new ME(e,t,this.logService))};constructor(e){super(),this.logService=e}},Onion:gb,"Pita Bread":class GE extends f{logService;name="Pita Bread";tier=6;power=0;equipmentClass="hurt";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new HE(e,t,this.logService))};constructor(e){super(),this.logService=e}},Tomato:class DE extends f{logService;name="Tomato";tier=6;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new OE(e,t))};constructor(e){super(),this.logService=e}},Durian:class WE extends f{logService;name="Durian";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new jE(e,t,this.logService))};constructor(e){super(),this.logService=e}},"Sudduth Tomato":class zE extends f{logService;name="Sudduth Tomato";equipmentClass="hurt";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new QE(e,t,this.logService))};constructor(e){super(),this.logService=e}},Fig:class UE extends f{logService;name="Fig";equipmentClass="beforeAttack";hasRandomEvents=!0;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new _E(e,t))};constructor(e){super(),this.logService=e}},"Cashew Nut":class rC extends f{logService;name="Cashew Nut";tier=1;equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new aC(e,t))};constructor(e){super(),this.logService=e}},Nachos:class nC extends f{logService;name="Nachos";tier=1;equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new sC(e,t,this.logService))};constructor(e){super(),this.logService=e}},Caramel:class xE extends f{logService;name="Caramel";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new RE(e,t,this.logService))};constructor(e){super(),this.logService=e}},Rambutan:Gn,"Love Potion":class PC extends f{logService;name="Love Potion";equipmentClass="beforeStartOfBattle";tier=5;callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new TC(e,t,this.logService))};constructor(e){super(),this.logService=e}},"Fairy Dust":class wC extends f{logService;name="Fairy Dust";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new xC(e,t,this.logService))};constructor(e){super(),this.logService=e}},"Gingerbread Man":class RC extends f{logService;name="Gingerbread Man";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new LC(e,t,this.logService))};constructor(e){super(),this.logService=e}},"Health Potion":class FC extends f{logService;name="Health Potion";equipmentClass="beforeStartOfBattle";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new NC(e,t,this.logService))};constructor(e){super(),this.logService=e}},"Golden Egg":class MC extends f{logService;name="Golden Egg";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new $C(e,t))};constructor(e){super(),this.logService=e}},"White Truffle":fb},JC={Honey:fv,Chili:gv,"Chocolate Cake":class FE extends f{logService;abilityService;name="Chocolate Cake";equipmentClass="beforeAttack";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new NE(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},"Cod Roe":class VE extends f{logService;abilityService;name="Cod Roe";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new KE(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},Banana:class BE extends f{logService;abilityService;name="Banana";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new qE(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},"Gros Michel Banana":class YE extends f{logService;abilityService;name="Gros Michel Banana";equipmentClass="beforeAttack";callback=e=>{e.addAbility(new JE(e,this,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},"Easter Egg":class EC extends f{logService;abilityService;name="Easter Egg";equipmentClass="afterFaint";callback=e=>{const t=e.getEquippedEquipmentInstance(this);e.addAbility(new CC(e,t,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},"Yggdrasil Fruit":class BC extends f{logService;abilityService;name="Yggdrasil Fruit";equipmentClass="afterFaint";callback=e=>{e.addAbility(new qC(e,this,this.logService,this.abilityService))};constructor(e,t){super(),this.logService=e,this.abilityService=t}},"Mild Chili":Pv},ZC={Cold:On,Crisp:Xe,Dazed:ai,Icky:Wn,Inked:$i,Toasty:ar,Spooked:Te,Weak:ke,Silly:Cv,Bloated:class WC extends f{name="Bloated";equipmentClass="ailment-other"},Confused:class jC extends f{name="Confused";equipmentClass="ailment-other";callback=e=>{e.addAbility(new UC(e))}},Cursed:Fv,Sad:class VC extends f{name="Sad";equipmentClass="ailment-other"},Sleepy:cr,Webbed:class KC extends f{name="Webbed";equipmentClass="ailment-other";callback=e=>{e.addAbility(new zC(e))}}},XC={Mushroom:s=>new sE(s.logService,s.petService),Popcorn:s=>new Tv(s.logService,s.petService,s.gameService),Seaweed:s=>new TE(s.logService,s.abilityService,s.petService),"Cocoa Bean":s=>new ZE(s.logService,s.petService),"Faint Bread":s=>new GC(s.logService,s.petService),Radish:s=>new vC(s.logService)},e3={Tasty:s=>new Ev(s.logService)},Ot=JSON.parse('[{"Ability":"Give one pet +1 attack and +1 health.","Id":"0","Name":"Apple","NameId":"Apple","Tier":1,"Packs":["Pack1","Pack2","Pack4"],"PacksRequired":["Pack1","Pack2","Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Increase sell value of one pet by 1 gold.","Id":"117","Name":"Asparagus","NameId":"Asparagus","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack.","Id":"2","Name":"Bacon","NameId":"Bacon","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +3 health.","Id":"135","Name":"Best Apple","NameId":"Apple3","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +6 health.","Id":"103","Name":"Best Milk","NameId":"Milk3","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health.","Id":"134","Name":"Better Apple","NameId":"Apple2","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +4 health.","Id":"102","Name":"Better Milk","NameId":"Milk2","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Blueberry perk.","Id":"7","Name":"Blueberry","NameId":"BlueBerries","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Prioritize this for enemy random abilities.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +1 attack.","Id":"139","Name":"Bread Crumbs","NameId":"BreadCrumbs","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health until next turn.","Id":"213","Name":"Cake Slice","NameId":"BirthdayCakeSlice","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one tier 1-3 ailment to stock. Always on sale!","Id":"225","Name":"Canned Ailment","NameId":"CannedAilment","Tier":1,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Spooked without triggering abilities.","Id":"216","Name":"Canned Spooky","NameId":"CannedScared","Tier":1,"Packs":[],"PacksRequired":[],"PerkNote":"Take +1 damage.","CustomArchetypes":[]},{"Ability":"Make one pet Toasty without triggering abilities.","Id":"223","Name":"Canned Toasty","NameId":"CannedToasty","Tier":1,"Packs":[],"PacksRequired":[],"PerkNote":"Anyone attacks: Take 1 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Cashew Nut perk.","Id":"173","Name":"Cashew Nut","NameId":"CashewNut","Tier":1,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before battle: Deal 1 damage to the second nearest pet ahead. Double against enemies.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health until next turn.","Id":"27","Name":"Cookie","NameId":"Cookie","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +1 to lowest stat.","Id":"28","Name":"Corncob","NameId":"Corn","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"CustomArchetypes":[]},{"Ability":"Give one pet the Egg perk.","Id":"33","Name":"Egg","NameId":"Egg","Tier":1,"Packs":["Pack2","Pack4"],"PacksRequired":["Pack2","Pack4"],"Rollable":true,"PerkNote":"Before attack: Deal 2 damage to target, once.","CustomArchetypes":[]},{"Ability":"Choose one level 1 Ferret toy.","Id":"234","Name":"Ferret Present","NameId":"FerretGift1","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Ferret toy.","Id":"235","Name":"Ferret Present","NameId":"FerretGift2","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Ferret toy.","Id":"236","Name":"Ferret Present","NameId":"FerretGift3","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 to their lowest stat.","Id":"191","Name":"Fresh Water","NameId":"FreshWater","Tier":1,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Golden Egg perk.","Id":"148","Name":"Golden Egg","NameId":"GoldenEgg","Tier":1,"Packs":["Pack5"],"PacksRequired":["Pack5"],"PerkNote":"Before attack: Deal 6 damage to target, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Gros Michel Banana perk.","Id":"192","Name":"Gros Michel Banana","NameId":"GrosMichelBanana","Tier":1,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Before attack: Transform into an Ant.","CustomArchetypes":[]},{"Ability":"Give one pet the Health Potion perk.","Id":"150","Name":"Health Potion","NameId":"HealthPotion","Tier":1,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before battle: Give the front-most friendly pet +2 health.","CustomArchetypes":[]},{"Ability":"Transform one Bad Dog into Good Dog, or give +4 attack and +4 health.","Id":"151","Name":"Holy Water","NameId":"HolyWater","Tier":1,"Packs":["Pack5"],"PacksRequired":["Pack5"],"CustomArchetypes":[]},{"Ability":"Give one pet the Honey perk.","Id":"40","Name":"Honey","NameId":"Honey","Tier":1,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Faint: Summon one 1/1 Bee.","CustomArchetypes":[]},{"Ability":"Give one pet the Macaron perk.","Id":"128","Name":"Macaron","NameId":"Macaron","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Activate ability after other pets with the same trigger.","CustomArchetypes":[]},{"Ability":"Give one pet +1 attack and +2 health.","Id":"49","Name":"Milk","NameId":"Milk","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Nachos perk.","Id":"136","Name":"Nachos","NameId":"Nachos","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before attack: Convert up to 3 health into attack.","CustomArchetypes":[]},{"Ability":"Give one pet +2 health.","Id":"64","Name":"Peach","NameId":"Plumb","Tier":1,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +2 attack on odd turns and +2 health on even turns.","Id":"119","Name":"Pumpkin","NameId":"Pumpkin","Tier":1,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +1 health.","Id":"210","Name":"Seed Pile","NameId":"SeedPile","Tier":1,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Strawberry perk.","Id":"81","Name":"Strawberry","NameId":"Strawberry","Tier":1,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Give the back-most friend +1 attack and +1 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Unagi perk.","Id":"196","Name":"Unagi","NameId":"Unagi","Tier":1,"Packs":["Custom"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Start of battle: Deal 2 damage to a random enemy.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Walnut perk.","Id":"174","Name":"Walnut","NameId":"Walnut","Tier":1,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block 2 damage, once.","CustomArchetypes":[]},{"Ability":"Choose ANY perk food from the current tier to stock at 1 gold.","Id":"208","Name":"Antarctic Krill","NameId":"AntarcticKrill","Tier":2,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Bok Choy perk.","Id":"176","Name":"Bok Choy","NameId":"BokChoy","Tier":2,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Gain +3 health when this would faint, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 health and remove 1 attack.","Id":"11","Name":"Broccoli","NameId":"Broccoli","Tier":2,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Cold without triggering abilities.","Id":"219","Name":"Canned Cold","NameId":"CannedFrozen","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Take +5 damage, once.","CustomArchetypes":[]},{"Ability":"Make one pet Inked without triggering abilities.","Id":"220","Name":"Canned Ink","NameId":"CannedInk","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Attack and ability deal 3 less damage.","CustomArchetypes":[]},{"Ability":"Make one pet Weak without triggering abilities.","Id":"214","Name":"Canned Weak","NameId":"CannedWeak","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Take +3 damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Caramel perk.","Id":"124","Name":"Caramel","NameId":"Caramel","Tier":2,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before attack: Combine friendly Caramels to deal 3 damage each to the most healthy enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Cherry perk.","Id":"20","Name":"Cherries","NameId":"Cherries","Tier":2,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before battle: Gain 2 trumpets and remove perk.","CustomArchetypes":[]},{"Ability":"Give one pet the Chocolate Cake perk.","Id":"24","Name":"Chocolate Cake","NameId":"ChocolateCake","Tier":2,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Gain +3 experience and faint.","CustomArchetypes":[]},{"Ability":"Give one pet the Churros perk.","Id":"126","Name":"Churros","NameId":"Churros","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Activate ability before other pets with the same trigger.","CustomArchetypes":[]},{"Ability":"Give one pet +1 attack and +1 health. Triple on every third Cloudberry.","Id":"185","Name":"Cloudberry","NameId":"Cloudberries","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Cod Roe perk.","Id":"207","Name":"Cod Roe","NameId":"CodRoe","Tier":2,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Faint: Summon one 2/3 Fish.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +3 health until next turn.","Id":"50","Name":"Cupcake","NameId":"Muffin","Tier":2,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Eucalyptus perk.","Id":"167","Name":"Eucalyptus","NameId":"Eucalyptus","Tier":2,"Packs":[],"PacksRequired":[],"PerkNote":"Block 4 enemy damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Faint Bread perk.","Id":"140","Name":"Faint Bread","NameId":"DeadBread","Tier":2,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Faint: Summon ANY one tier 1 <b>Faint</b> pet.","CustomArchetypes":[]},{"Ability":"Give one pet the Fairy Dust perk.","Id":"144","Name":"Fairy Dust","NameId":"FairyDust","Tier":2,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Empty front space: Jump to the front and gain +2 mana, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and remove 1 health.","Id":"100","Name":"Fried Shrimp","NameId":"FriedShrimp","Tier":2,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Gain 2 free rolls next turn.","Id":"45","Name":"Kiwifruit","NameId":"Kiwi","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Choose one level 1 Lemur toy.","Id":"249","Name":"Lemur Present","NameId":"LemurGift1","Tier":2,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Lemur toy.","Id":"250","Name":"Lemur Present","NameId":"LemurGift2","Tier":2,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Lemur toy.","Id":"251","Name":"Lemur Present","NameId":"LemurGift3","Tier":2,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Lime perk.","Id":"170","Name":"Lime","NameId":"Lime","Tier":2,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Takes 1 less damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Meat Bone perk.","Id":"9","Name":"Meat Bone","NameId":"MeatBone","Tier":2,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Attack with +3 damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Radish perk.","Id":"122","Name":"Radish","NameId":"Radish","Tier":2,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before battle: Gain ANY useful perk from the pet\'s tier.","CustomArchetypes":[]},{"Ability":"Give one pet the Rice perk.","Id":"70","Name":"Rice","NameId":"RiceBall","Tier":2,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Sell for +2 gold.","CustomArchetypes":[]},{"Ability":"Make one pet faint. Always on sale!","Id":"92","Name":"Sleeping Pill","NameId":"Pill","Tier":2,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Sudduth Tomato perk.","Id":"195","Name":"Sudduth Tomato","NameId":"SudduthTomato","Tier":2,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Hurt: If still standing, gain permanent +1 health, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and Weak.","Id":"159","Name":"Wall Chicken","NameId":"WallChicken","Tier":2,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Gain +3 gold on next turn.","Id":"1","Name":"Avocado","NameId":"Avocado","Tier":3,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Blackberry perk.","Id":"172","Name":"Blackberry","NameId":"Blackberry","Tier":3,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Gain +1 attack and +2 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Brussels Sprout perk.","Id":"118","Name":"Brussels Sprout","NameId":"BrusselsSprout","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Block being pushed or 5 damage, once.","CustomArchetypes":[]},{"Ability":"Give future shop pets from the next tier permanent +1 attack and +1 health.","Id":"12","Name":"Bubble Tea","NameId":"BubbleTea","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Cake perk.","Id":"6","Name":"Cake","NameId":"BirthdayCake","Tier":3,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"End turn: Increase sell value by 1 gold.","CustomArchetypes":[]},{"Ability":"Make one pet Confused without triggering abilities.","Id":"231","Name":"Canned Confusion","NameId":"CannedConfused","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Before attack: Transform into a pet from one tier below, once.","CustomArchetypes":[]},{"Ability":"Make one pet Silly without triggering abilities.","Id":"217","Name":"Canned Silly","NameId":"CannedSilly","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Ability has random targets in battle.","CustomArchetypes":[],"Random":true},{"Ability":"Make one pet Webbed without triggering abilities.","Id":"228","Name":"Canned Web","NameId":"CannedWeb","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Faint: Summon one 2/2 Spider up front for the opponent.","CustomArchetypes":[]},{"Ability":"Give one pet +3 attack.","Id":"201","Name":"Carrot Parisier","NameId":"CarrotParisier","Tier":3,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Croissant perk.","Id":"29","Name":"Croissant","NameId":"Croissant","Tier":3,"Packs":["Pack2","Custom"],"PacksRequired":["Pack2","Custom"],"Rollable":true,"PerkNote":"End turn: Gain +1 attack.","CustomArchetypes":[]},{"Ability":"Give one pet the Cucumber perk.","Id":"97","Name":"Cucumber","NameId":"Cucumber","Tier":3,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"End turn: Gain +1 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Fig perk.","Id":"109","Name":"Fig","NameId":"Fig","Tier":3,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Deal 4 damage to the lowest health enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Garlic perk.","Id":"38","Name":"Garlic","NameId":"Garlic","Tier":3,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Takes 2 less damage.","PerkFinePrint":"Damage can\'t be reduced to less than 2.","CustomArchetypes":[]},{"Ability":"Give one pet +3 health.","Id":"211","Name":"Geechee Red Pea","NameId":"GeecheeRedPea","Tier":3,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Choose one level 1 Gharial toy.","Id":"237","Name":"Gharial Present","NameId":"GharialGift1","Tier":3,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Gharial toy.","Id":"238","Name":"Gharial Present","NameId":"GharialGift2","Tier":3,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Gharial toy.","Id":"239","Name":"Gharial Present","NameId":"GharialGift3","Tier":3,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Gingerbread Man perk.","Id":"147","Name":"Gingerbread Man","NameId":"GingerbreadMan","Tier":3,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before battle: Gain +1 experience.","CustomArchetypes":[]},{"Ability":"Give one pet the Guava perk.","Id":"112","Name":"Guava","NameId":"Guava","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Block 3 damage, and attack for +3 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet +3 to their lowest stat.","Id":"153","Name":"Just-Right Porridge","NameId":"JustRightPorridge","Tier":3,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give three pets from the current shop tier or higher +1 attack and +1 health.","Id":"72","Name":"Lettuce","NameId":"Salad","Tier":3,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Swap Attack and Health of a pet. Always on sale!","Id":"48","Name":"Lollipop","NameId":"Lollipop","Tier":3,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pineapple perk.","Id":"61","Name":"Pineapple","NameId":"Pineapple","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Ability deals +2 damage, thrice.","CustomArchetypes":[]},{"Ability":"Give one pet the Rambutan perk.","Id":"110","Name":"Rambutan","NameId":"Rambutan","Tier":3,"Packs":[],"PacksRequired":[],"PerkNote":"Before attack: Gain +3 mana.","CustomArchetypes":[]},{"Ability":"Replace perk or ailment on one pet with +2 attack and +2 health.","Id":"179","Name":"Ravioli","NameId":"Ravioli","Tier":3,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give two random pets +1 attack and +1 health.","Id":"73","Name":"Salad Bowl","NameId":"SaladBowl","Tier":3,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Balance out attack and health. Always on sale!","Id":"75","Name":"Sandwich","NameId":"Sandwich","Tier":3,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Sausage perk.","Id":"114","Name":"Sausage","NameId":"Sausage","Tier":3,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Start of turn: Gain one free roll.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Seaweed perk.","Id":"184","Name":"Seaweed","NameId":"Seaweed","Tier":3,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before attack: Transform into a Baby Urchin.","CustomArchetypes":[]},{"Ability":"Give one pet the Squash perk.","Id":"121","Name":"Squash","NameId":"Squash","Tier":3,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before attack: Remove 6 health from target, once.","CustomArchetypes":[]},{"Ability":"Transform one pet into another from the same tier and with ANY tier 3 perk.","Id":"161","Name":"Water of Youth","NameId":"YouthWater","Tier":3,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the White Truffle perk.","Id":"198","Name":"White Truffle","NameId":"WhiteTruffle","Tier":3,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Friend faints: Gain +4 attack and jump-attack the highest attack enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Ambrosia perk.","Id":"138","Name":"Ambrosia","NameId":"Ambrosia","Tier":4,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Block ailment or 8 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Baguette perk.","Id":"3","Name":"Baguette","NameId":"Baguette","Tier":4,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Before attack: Remove the front-most enemy perk, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Banana perk.","Id":"4","Name":"Banana","NameId":"Banana","Tier":4,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Faint: Summon one 4/4 Monkey.","CustomArchetypes":[]},{"Ability":"Make one pet Bloated without triggering abilities.","Id":"229","Name":"Canned Bloat","NameId":"CannedBloated","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Can\'t gain perk, once.","CustomArchetypes":[]},{"Ability":"Make one pet Crisp without triggering abilities.","Id":"224","Name":"Canned Burn","NameId":"CannedBurn","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Anyone attacks: Take 6 damage, once.","CustomArchetypes":[]},{"Ability":"Give all current and future shop pets +1 attack and +1 health.","Id":"16","Name":"Canned Food","NameId":"CannedFood","Tier":4,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Tasty without triggering abilities.","Id":"222","Name":"Canned Tasty","NameId":"CannedTasty","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Faint: Give one random enemy permanent +2 attack and +2 health.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Cauliflower perk.","Id":"137","Name":"Cauliflower","NameId":"Cauliflower","Tier":4,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Knock out: If still standing, gain permanent +1 attack and +1 health, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Cheese perk.","Id":"19","Name":"Cheese","NameId":"Cheese","Tier":4,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Attack with at least 15 attack, once.","CustomArchetypes":[]},{"Ability":"Transform one pet into another of the same tier and give two other +1 attack and +1 health.","Id":"189","Name":"Chickpea","NameId":"Chickpea","Tier":4,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Donut perk.","Id":"31","Name":"Donut","NameId":"Doughnut","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Prioritize this for friendly random abilities.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +3 health. Also convert 2 attack into health.","Id":"141","Name":"Drink-Me Liquid","NameId":"DrinkMeLiquid","Tier":4,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack. Also convert 2 health into attack.","Id":"143","Name":"Eat-Me Cake","NameId":"EatMeCake","Tier":4,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Fortune Cookie perk.","Id":"35","Name":"Fortune Cookie","NameId":"FortuneCookie","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Attack has 50% chance to deal double damage.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Grapes perk.","Id":"39","Name":"Grapes","NameId":"Grapes","Tier":4,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Start of turn: Gain +1 gold.","CustomArchetypes":[]},{"Ability":"Give one pet the Maple Syrup perk.","Id":"194","Name":"Maple Syrup","NameId":"MapleSyrup","Tier":4,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Attack for 50% damage and block 50% damage, thrice.","CustomArchetypes":[]},{"Ability":"Give one pet the Melon Slice perk.","Id":"87","Name":"Melon Slice","NameId":"WaterMelon","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Block 10 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Mild Chili perk.","Id":"232","Name":"Mild Chili","NameId":"MildChili","Tier":4,"Packs":[],"PacksRequired":[],"PerkNote":"Attack second enemy for 4 damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Onion perk.","Id":"53","Name":"Onion","NameId":"Onion","Tier":4,"Packs":["Custom"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Move to the back, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Oyster Mushroom perk.","Id":"183","Name":"Oyster Mushroom","NameId":"OysterMushroom","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before attack: Set attack and health to at least 9, once.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health.","Id":"58","Name":"Pear","NameId":"Pear","Tier":4,"Packs":["Pack1","Pack3"],"PacksRequired":["Pack1","Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pie perk.","Id":"60","Name":"Pie","NameId":"Pie","Tier":4,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before battle: Gain +4 attack and +3 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Potato perk.","Id":"66","Name":"Potato","NameId":"Potato","Tier":4,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 10 damage from abilities and perks, twice.","CustomArchetypes":[]},{"Ability":"Choose one level 1 Puppy toy.","Id":"240","Name":"Puppy Present","NameId":"PuppyGift1","Tier":4,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Puppy toy.","Id":"241","Name":"Puppy Present","NameId":"PuppyGift2","Tier":4,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Puppy toy.","Id":"242","Name":"Puppy Present","NameId":"PuppyGift3","Tier":4,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Salt perk.","Id":"74","Name":"Salt","NameId":"Salt","Tier":4,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Attack for double damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet +1 attack and +1 health. Triple if you have 1 life left.","Id":"78","Name":"Soup","NameId":"Soup","Tier":4,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Choose one tier 4-6 ailment to stock. Always on sale!","Id":"226","Name":"Stronger Canned Ailment","NameId":"CannedAilment2","Tier":4,"Packs":["Custom"],"PacksRequired":["MiniPack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give the two left-most shop pets +2 attack and +3 health.","Id":"197","Name":"Vanilla Bean","NameId":"VanillaBean","Tier":4,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Activate buy ability or give +3 health.","Id":"86","Name":"Waffle","NameId":"Waffle","Tier":4,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 experience.","Id":"105","Name":"Best Chocolate","NameId":"Chocolate3","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +2 experience.","Id":"104","Name":"Better Chocolate","NameId":"Chocolate2","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet +6 mana.","Id":"202","Name":"Big Mana Potion","NameId":"ManaPotion2","Tier":5,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Dazed without triggering abilities.","Id":"218","Name":"Canned Dazed","NameId":"CannedDeaf","Tier":5,"Packs":[],"PacksRequired":[],"PerkNote":"Prevent ability from activating.","CustomArchetypes":[]},{"Ability":"Make one pet Sleepy without triggering abilities.","Id":"221","Name":"Canned Sleepy","NameId":"CannedDrowsy","Tier":5,"Packs":[],"PacksRequired":[],"PerkNote":"Attack with half damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Carrot perk.","Id":"17","Name":"Carrot","NameId":"Carrot","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"End turn: Gain +1 attack and +1 health.","CustomArchetypes":[]},{"Ability":"Give one pet the Chili perk.","Id":"22","Name":"Chili","NameId":"Chili","Tier":5,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Attack second enemy for 5 damage.","CustomArchetypes":[]},{"Ability":"Give one pet +1 experience.","Id":"23","Name":"Chocolate","NameId":"Chocolate","Tier":5,"Packs":["Pack1","Pack2","Pack3","Pack4","Pack5","Danger"],"PacksRequired":["Pack1","Pack2","Pack3","Pack4","Pack5","Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Cocoa Bean perk.","Id":"190","Name":"Cocoa Bean","NameId":"CocoaBean","Tier":5,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Before attack: Transform into an exact copy of a random enemy, once.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +3 attack and +2 health.","Id":"123","Name":"Cotton Candy","NameId":"CottonCandy","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Durian perk.","Id":"113","Name":"Durian","NameId":"Durian","Tier":5,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Reduce the most healthy enemy by 33% health, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Easter Egg perk.","Id":"142","Name":"Easter Egg","NameId":"EasterEgg","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Faint: Summon one 3/3 Bunny that attacks for double damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Eggplant perk.","Id":"34","Name":"Eggplant","NameId":"EggPlant","Tier":5,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"PerkNote":"Before battle: Push opposite enemy 1 space forward.","CustomArchetypes":[]},{"Ability":"Replace each shop item with something from 1 tier higher than it.","Id":"129","Name":"Flodebolle","NameId":"Flodeboller","Tier":5,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Honeydew Melon perk.","Id":"193","Name":"Honeydew Melon","NameId":"HoneydewMelon","Tier":5,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Block 10 damage, and attack for +5 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Kiwano perk.","Id":"181","Name":"Kiwano","NameId":"Kiwano","Tier":5,"Packs":["Custom"],"PacksRequired":["MiniPack2"],"Rollable":true,"PerkNote":"Ability deals +8 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +3 health.","Id":"125","Name":"Lasagna","NameId":"Lasagne","Tier":5,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Lemon perk.","Id":"47","Name":"Lemon","NameId":"Lemon","Tier":5,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Block 7 damage, twice.","CustomArchetypes":[]},{"Ability":"Give one pet the Love Potion perk.","Id":"155","Name":"Love Potion","NameId":"LovePotion","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Before battle: Summon one 5/5 pet like this.","CustomArchetypes":[]},{"Ability":"Give one pet the Magic Beans perk.","Id":"156","Name":"Magic Beans","NameId":"MagicBeans","Tier":5,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Start of turn: Gain the Golden Egg perk and increase sell value by 4 gold.","CustomArchetypes":[]},{"Ability":"Give one pet +5 to its lowest stat.","Id":"209","Name":"Oblonot","NameId":"Oblonot","Tier":5,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pepper perk.","Id":"59","Name":"Pepper","NameId":"Pepper","Tier":5,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Health does not go under 1. Removed after taking damage.","CustomArchetypes":[]},{"Ability":"Give one pet the Skewer perk.","Id":"76","Name":"Skewer","NameId":"Skewer","Tier":5,"Packs":[],"PacksRequired":[],"PerkNote":"Attack second and third enemy for 3 damage.","CustomArchetypes":[]},{"Ability":"Give three random pets +2 health.","Id":"80","Name":"Stew","NameId":"Stew","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Choose one level 1 Sting Ray toy.","Id":"246","Name":"Sting Ray Present","NameId":"StingRayGift1","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Sting Ray toy.","Id":"247","Name":"Sting Ray Present","NameId":"StingRayGift2","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Sting Ray toy.","Id":"248","Name":"Sting Ray Present","NameId":"StingRayGift3","Tier":5,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet Strawberry. Always on sale!","Id":"168","Name":"Strawberry Jam","NameId":"StrawberryJar","Tier":5,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Give the back-most friend +1 attack and +1 health.","CustomArchetypes":[]},{"Ability":"Give three random pets +1 attack and +1 health.","Id":"82","Name":"Sushi","NameId":"Sushi","Tier":5,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Give three random pets +2 attack.","Id":"84","Name":"Taco","NameId":"Taco","Tier":5,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Stock one 2-gold copy of the last non-Tofu food bought this turn.","Id":"187","Name":"Tofu","NameId":"Tofu","Tier":5,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Make one pet Cursed without triggering abilities.","Id":"230","Name":"Canned Curse","NameId":"CannedCurse","Tier":6,"Packs":[],"PacksRequired":[],"PerkNote":"Faint: Make one random friend Cursed.","CustomArchetypes":[],"Random":true},{"Ability":"Make one pet Icky without triggering abilities.","Id":"215","Name":"Canned Icky","NameId":"CannedAcid","Tier":6,"Packs":[],"PacksRequired":[],"PerkNote":"Take double damage, twice.","CustomArchetypes":[]},{"Ability":"Give one pet +6 health.","Id":"120","Name":"Celery","NameId":"Celery","Tier":6,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet +3 attack and +3 health.","Id":"21","Name":"Chicken Leg","NameId":"ChickenLeg","Tier":6,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Activate one pet\'s ability.","Id":"206","Name":"Coffee Bean","NameId":"CoffeeBean","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"CustomArchetypes":[]},{"Ability":"Choose one free tier 6 food to stock from ALL packs.","Id":"166","Name":"Cornucopia","NameId":"Cornucopia","Tier":6,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give two random pets +4 attack.","Id":"41","Name":"Hot Dog","NameId":"HotDog","Tier":6,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Stock one 2-gold Melon and one 2-gold Steak.","Id":"106","Name":"Judean Date","NameId":"Date","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Transform one pet into another from one higher tier.","Id":"154","Name":"Konpeito","NameId":"Kompeito","Tier":6,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":["Mvp"]},{"Ability":"Give one pet the Melon perk.","Id":"96","Name":"Melon","NameId":"Melon","Tier":6,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"PerkNote":"Block 20 damage, once.","CustomArchetypes":[]},{"Ability":"Choose one level 1 Mongoose toy.","Id":"243","Name":"Mongoose Present","NameId":"MongooseGift1","Tier":6,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 2 Mongoose toy.","Id":"244","Name":"Mongoose Present","NameId":"MongooseGift2","Tier":6,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Choose one level 3 Mongoose toy.","Id":"245","Name":"Mongoose Present","NameId":"MongooseGift3","Tier":6,"Packs":[],"PacksRequired":[],"CustomArchetypes":[]},{"Ability":"Give one pet the Mushroom perk.","Id":"51","Name":"Mushroom","NameId":"Mushroom","Tier":6,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"PerkNote":"Faint: Come back as a 1/1.","CustomArchetypes":["Mvp"]},{"Ability":"Give two random pets +4 health.","Id":"54","Name":"Orange","NameId":"Orange","Tier":6,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Pancakes perk.","Id":"55","Name":"Pancakes","NameId":"Pancakes","Tier":6,"Packs":["Pack2"],"PacksRequired":["Pack2"],"Rollable":true,"PerkNote":"Before battle: Give friends +2 attack and +2 health.","CustomArchetypes":[]},{"Ability":"Give one pet +2 attack and +2 health. Upgrade future peaches to give +1 more attack and health.","Id":"152","Name":"Peach of Immortality","NameId":"ImmortalPeach","Tier":6,"Packs":["Pack5"],"PacksRequired":["Pack5"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Pita Bread perk.","Id":"62","Name":"Pita Bread","NameId":"PitaBread","Tier":6,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Hurt: Gain +15 health, once.","CustomArchetypes":[]},{"Ability":"Give two random pets +2 attack and +2 health.","Id":"63","Name":"Pizza","NameId":"Pizza","Tier":6,"Packs":["Pack1"],"PacksRequired":["Pack1"],"Rollable":true,"CustomArchetypes":[],"Random":true},{"Ability":"Give one pet the Popcorn perk.","Id":"65","Name":"Popcorn","NameId":"Popcorn","Tier":6,"Packs":["Custom"],"PacksRequired":["Pack3"],"Rollable":true,"PerkNote":"Faint: Summon one random pet from the same tier.","CustomArchetypes":[],"Random":true},{"Ability":"Give one pet +2 attack and +2 health. Double if all pets are tier 4 or higher.","Id":"67","Name":"Pretzel","NameId":"Pretzel","Tier":6,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"If pack has no pets/food from the tab, give tier 5 and 6 perks to one pet and the friends ahead of it.","Id":"158","Name":"Rainbow Jelly","NameId":"RainbowJelly","Tier":6,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Sardinian Currant perk.","Id":"200","Name":"Sardinian Currant","NameId":"SardinianCurrant","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Start of turn: Gain +2 gold.","CustomArchetypes":[]},{"Ability":"Give all pets +1 attack.","Id":"77","Name":"Soft Ice","NameId":"SoftIce","Tier":6,"Packs":["Custom"],"PacksRequired":["Custom"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Choose one tier 5-6 perk food to stock for free from ANY pack.","Id":"171","Name":"Starfruit","NameId":"Starfruit","Tier":6,"Packs":["Pack3"],"PacksRequired":["Pack3"],"Rollable":true,"CustomArchetypes":[]},{"Ability":"Give one pet the Steak perk.","Id":"79","Name":"Steak","NameId":"Steak","Tier":6,"Packs":["Pack1","Pack2"],"PacksRequired":["Pack1","Pack2"],"Rollable":true,"PerkNote":"Attack with +20 damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Tomato perk.","Id":"85","Name":"Tomato","NameId":"Tomato","Tier":6,"Packs":["Pack4"],"PacksRequired":["Pack4"],"Rollable":true,"PerkNote":"Before attack: Deal 10 damage to the last enemy, once.","CustomArchetypes":[]},{"Ability":"Give one pet the White Okra perk.","Id":"199","Name":"White Okra","NameId":"WhiteOkra","Tier":6,"Packs":["Danger"],"PacksRequired":["Danger"],"Rollable":true,"PerkNote":"Block 10 damage twice or ailment once.","CustomArchetypes":[]},{"Ability":"Give one pet the Yggdrasil Fruit perk.","Id":"160","Name":"Yggdrasil Fruit","NameId":"YggdrasilFruit","Tier":6,"Packs":["Custom"],"PacksRequired":["Pack5"],"Rollable":true,"PerkNote":"Faint: Summon two 5/5 Nordic Goats.","CustomArchetypes":[]},{"Ability":"Give one pet the Coconut perk.","Id":"26","Name":"Coconut","NameId":"Coconut","Tier":7,"Packs":[],"PacksRequired":[],"PerkNote":"Block damage, once.","CustomArchetypes":[]},{"Ability":"Give one pet the Peanut perk.","Id":"57","Name":"Peanut","NameId":"Peanut","Tier":7,"Packs":[],"PacksRequired":[],"PerkNote":"Knock out any pet attacked and hurt by this.","CustomArchetypes":[]},{"Ability":"Give one pet the Peanut Butter perk.","Id":"204","Name":"Peanut Butter","NameId":"PeanutButter","Tier":7,"Packs":[],"PacksRequired":[],"PerkNote":"Knock out any pet attacked and hurt by this, once.","CustomArchetypes":[]}]');var Bi=Vt.t(Ot,2);const t3=new Map([["Blueberry",1],["Golden Egg",1],["Gros Michel Banana",1],["Health Potion",1],["Honey",1],["Macaron",1],["Unagi",1],["Caramel",2],["Cherry",2],["Chocolate Cake",2],["Churros",2],["Cod Roe",2],["Eucalyptus",2],["Faint Bread",2],["Fairy Dust",2],["Meat Bone",2],["Radish",2],["Sudduth Tomato",2],["Brussels Sprout",3],["Cucumber",3],["Fig",3],["Gingerbread Man",3],["Pineapple",3],["Rambutan",3],["Sausage",3],["Seaweed",3],["White Truffle",3],["Baguette",4],["Banana",4],["Cauliflower",4],["Cheese",4],["Donut",4],["Fortune Cookie",4],["Grapes",4],["Melon Slice",4],["Oyster Mushroom",4],["Potato",4],["Carrot",5],["Chili",5],["Durian",5],["Easter Egg",5],["Eggplant",5],["Kiwano",5],["Magic Beans",5],["Onion",4],["Pepper",5],["Mild Chili",4],["Popcorn",6],["Sardinian Currant",6],["Yggdrasil Fruit",6]]),i3=[{pattern:/^Start of turn:/i,trigger:"StartTurn"},{pattern:/^End turn:/i,trigger:"EndTurn"},{pattern:/^Before battle:/i,trigger:"BeforeStartBattle"},{pattern:/^Start of battle:/i,trigger:"StartBattle"},{pattern:/^Before attack:/i,trigger:"BeforeThisAttacks"},{pattern:/^Faint:/i,trigger:"Faint"},{pattern:/^Hurt:/i,trigger:"ThisHurt"},{pattern:/^Anyone attacks:/i,trigger:"AnyoneAttack"},{pattern:/^Empty front space:/i,trigger:"EmptyFrontSpace"},{pattern:/^Knock out:/i,trigger:"KnockOut"}],a3=new Map((Ft??li??[]).filter(s=>s?.Name).map(s=>{const t=[],i=(s.Ability??"").trim();for(const{pattern:r,trigger:n}of i3)r.test(i)&&!t.includes(n)&&t.push(n);return[s.Name,t]}));function ht(s,e){if(!s)return;const t=a3.get(e);t&&t.length&&(s.triggers=[...t])}let Nv=(()=>{class s{logService;abilityService;gameService;randomEquipmentSet=new Set;constructor(t,i,r){this.logService=t,this.abilityService=i,this.gameService=r,this.logService=se(this.logService),this.initRandomEquipment()}initRandomEquipment(){const t=Ot??Bi;if(Array.isArray(t))for(const i of t)i&&"object"==typeof i&&!0===i.Random&&"string"==typeof i.Name&&this.randomEquipmentSet.add(i.Name)}getAllEquipment(){const t=R.getInjector().get(te),i=new Map,r={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService,petService:t};for(const[n,a]of Object.entries(QC)){const l=new a;this.randomEquipmentSet.has(n)&&(l.hasRandomEvents=!0),ht(l,n),i.set(n,l)}for(const[n,a]of Object.entries(YC)){const l=new a(this.logService);this.randomEquipmentSet.has(n)&&(l.hasRandomEvents=!0),ht(l,n),i.set(n,l)}for(const[n,a]of Object.entries(JC)){const l=new a(this.logService,this.abilityService);this.randomEquipmentSet.has(n)&&(l.hasRandomEvents=!0),ht(l,n),i.set(n,l)}for(const[n,a]of Object.entries(XC)){const l=a(r);this.randomEquipmentSet.has(n)&&(l.hasRandomEvents=!0),ht(l,n),i.set(n,l)}for(const[n,a]of i.entries())if(null==a?.tier){const l=t3.get(n);null!=l&&(a.tier=l)}return i}getAllAilments(){const t=new Map,i={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService,petService:null};for(const[r,n]of Object.entries(ZC)){const a=new n;this.randomEquipmentSet.has(r)&&(a.hasRandomEvents=!0),ht(a,r),t.set(r,a)}for(const[r,n]of Object.entries(e3)){const a=n(i);this.randomEquipmentSet.has(r)&&(a.hasRandomEvents=!0),ht(a,r),t.set(r,a)}return t}static \u0275fac=function(i){return new(i||s)(x(z),x(Pe),x(be))};static \u0275prov=_({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class G{logService;abilityService;gameService;equipmentFactory;cachedEquipment=null;cachedAilments=null;constructor(e,t,i,r){this.logService=e,this.abilityService=t,this.gameService=i,this.equipmentFactory=r,this.logService=se(this.logService)}getInstanceOfAllEquipment(){return this.cachedEquipment||(this.cachedEquipment=this.equipmentFactory.getAllEquipment()),this.cachedEquipment}getInstanceOfAllAilments(){return this.cachedAilments||(this.cachedAilments=this.equipmentFactory.getAllAilments()),this.cachedAilments}isEquipmentRandom(e){const t=this.getInstanceOfAllEquipment(),i=this.getInstanceOfAllAilments();return(t.get(e)?.hasRandomEvents??!1)||(i.get(e)?.hasRandomEvents??!1)}static USEFUL_PERKS=new Map([["Honey",1],["Strawberry",1],["Egg",1],["Cake Slice",1],["Cashew Nut",1],["Nachos",1],["Lime",2],["Meat Bone",2],["Cherry",2],["Bok Choy",2],["Kiwifruit",2],["Fairy Dust",2],["Garlic",3],["Gingerbread Man",3],["Fig",3],["Cucumber",3],["Croissant",3],["Squash",3],["Banana",4],["Love Potion",4],["Pie",4],["Grapes",4],["Cheese",4],["Cod Roe",4],["Salt",4],["Fortune Cookie",4],["Easter Egg",5],["Magic Beans",5],["Chili",5],["Lemon",5],["Durian",5],["Honeydew Melon",5],["Maple Syrup",4],["Cocoa Bean",5],["White Okra",5],["Popcorn",6],["Steak",6],["Pancakes",6],["Yggdrasil Fruit",6],["Melon",6],["Tomato",6],["Sudduth Tomato",6],["Pita Bread",6],["Seaweed",5],["Caramel",4],["Baguette",4]]);isUsefulPerk(e){return G.USEFUL_PERKS.has(e)}getUsefulPerksByTier(e){const t=this.getInstanceOfAllEquipment(),i=[];for(const[r,n]of G.USEFUL_PERKS.entries())n===e&&t.has(r)&&i.push(t.get(r));return i}getUsefulPerks(){const e=this.getInstanceOfAllEquipment(),t=[];for(const i of G.USEFUL_PERKS.keys())e.has(i)&&t.push(e.get(i));return t}static \u0275fac=function(t){return new(t||G)(x(z),x(Pe),x(be),x(Nv))};static \u0275prov=_({token:G,factory:G.\u0275fac,providedIn:"root"})}class P{logService;toyService;name;parent;level;tier;used=!1;suppressFriendFaintLog=!1;triggers=0;constructor(e,t,i,r){this.logService=e,this.toyService=t,At(this),this.parent=i,this.level=r}}class jn extends h{logService;constructor(e,t){super({name:"BalloonAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,n=this.owner;let a=n.parent.getFurthestUpPets(this.level,[],n),l=a.pets;if(0!=l.length){for(let c of l)c.increaseAttack(1),c.increaseHealth(1),this.logService.createLog({message:`${n.name} gave ${c.name} 1 attack and 1 health.`,type:"ability",player:n.parent,tiger:r,randomEvent:a.random});this.triggerTigerExecution(e)}}copy(e){return new jn(e,this.logService)}}class Un extends h{logService;constructor(e,t){super({name:"TennisBallAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getRandomEnemyPetsWithSillyFallback(this.level,[],!1,!0,a),o=l.pets;if(0!=o.length){for(let c of o)a.snipePet(c,3,l.random,r);this.triggerTigerExecution(e)}}copy(e){return new Un(e,this.logService)}}class l3 extends P{logService;toyService;petService;name="Stick";tier=1;constructor(e,t,i,r,n){super(e,t,i,r),this.logService=e,this.toyService=t,this.petService=n}startOfBattle(e,t){const i=this.parent.getMiddleFriend();if(i.pet&&i.pet.alive){const r=new ct;r.power=2*this.level,r.originalPower=r.power,i.pet.givePetEquipment(r),this.logService.createLog({message:`${this.name} gave Walnut to ${i.pet.name}`,type:"ability",player:this.parent,randomEvent:i.random})}}}class o3 extends h{constructor(e,t){super({name:"StickAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",abilityFunction:i=>{const n=e.parent.getMiddleFriend(e);if(n.pet&&n.pet.alive){const a=new ct;a.power=2*this.abilityLevel,a.originalPower=a.power,n.pet.givePetEquipment(a),t.createLog({message:`${e.name} gave Walnut to ${n.pet.name} (Stick)`,type:"ability",player:e.parent,randomEvent:n.random})}}})}}class P3 extends P{logService;toyService;petService;name="Rubber Duck";tier=1;constructor(e,t,i,r,n){super(e,t,r,n),this.logService=e,this.toyService=t,this.petService=i}allEnemiesFainted(e,t){if(this.used)return;const i=this.parent.opponent,r=this.petService.createPet({name:"Duck",attack:50,health:1,exp:0,mana:0,equipment:null},i);r.toyPet=!0,i.summonPet(r,0).success&&(this.logService.createLog({message:`${this.name} summoned a 50/1 Duck for the enemy.`,type:"ability",player:this.parent,puma:t}),this.used=!0)}}function we(s){if(!s)return null;const e=Object.create(Object.getPrototypeOf(s));return Object.assign(e,s),e}class R3 extends P{logService;toyService;petService;name="Stuffed Bear";tier=1;faintCount=0;constructor(e,t,i,r,n){super(e,t,r,n),this.logService=e,this.toyService=t,this.petService=i}friendFaints(e,t,i,r){if(this.faintCount+=1,this.faintCount%3!=0)return;const n=this.parent.getLastPet();if(!n.pet)return;const a=n.pet,l=we(a.equipment),o=this.parent.opponent,c=this.petService.createPet({name:a.name,attack:a.attack,health:a.health,exp:a.exp??0,mana:a.mana??0,equipment:l},o);c.toyPet=!0,o.summonPet(c,0).success&&this.logService.createLog({message:`${this.name} summoned an enemy copy of ${a.name}.`,type:"ability",player:this.parent,puma:i})}}class _n extends h{logService;constructor(e,t){super({name:"RadioAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getAll(!1,a,!0),o=l.pets;if(0!=o.length){for(let c of o)c.increaseHealth(this.level),this.logService.createLog({message:`${a.name} gave ${c.name} ${this.level} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random});this.triggerTigerExecution(e)}}copy(e){return new _n(e,this.logService)}}class Vn extends h{logService;constructor(e,t){super({name:"PlasticSawAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,n=this.owner;let a=n.parent.getPetsWithEquipment("Eucalyptus"),l=n.parent.getFurthestUpPets(this.level,a,n),o=l.pets;if(0!=o.length){for(let c of o)this.logService.createLog({message:`${n.name} gave ${c.name} Eucalyptus.`,type:"ability",player:n.parent,tiger:r,randomEvent:l.random}),c.givePetEquipment(new Ii);this.triggerTigerExecution(e)}}copy(e){return new Vn(e,this.logService)}}class Kn extends h{logService;constructor(e,t){super({name:"ToiletPaperAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.opponent,o=a.parent.getPetsWithEquipmentWithSillyFallback("Weak",a),c=l.getFurthestUpPets(this.level,o,a),u=c.pets;if(0!=u.length){for(let g of u)g.givePetEquipment(new ke),this.logService.createLog({message:`${a.name} gave ${g.name} Weak.`,type:"ability",player:a.parent,tiger:r,randomEvent:c.random});this.triggerTigerExecution(e)}}copy(e){return new Kn(e,this.logService)}}class zn extends h{logService;constructor(e,t){super({name:"OvenMittsAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){}copy(e){return new zn(e,this.logService)}}class Qn extends h{logService;constructor(e,t){super({name:"MelonHelmetAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getPetsWithEquipment("Melon"),o=a.parent.getFurthestUpPets(this.level,l,a),c=o.pets;for(let u of c)u.givePetEquipment(new ye),this.logService.createLog({message:`${a.name} gave ${u.name} Melon.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random});this.triggerTigerExecution(e)}copy(e){return new Qn(e,this.logService)}}class Yn extends h{logService;constructor(e,t){super({name:"FoamSwordAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.opponent;for(let o=0;o<this.level;o++){let c=l.getLowestHealthPet();a.snipePet(c.pet,5,c.random,r)}this.triggerTigerExecution(e)}copy(e){return new Yn(e,this.logService)}}class Jn extends h{logService;constructor(e,t){super({name:"ToyGunAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.opponent;for(let o=0;o<this.level;o++){let c=l.getLastPet();if(null==c.pet)return;a.snipePet(c.pet,5,c.random,r)}this.triggerTigerExecution(e)}copy(e){return new Jn(e,this.logService)}}class q3 extends h{constructor(e,t){super({name:"CashRegisterAbility",triggers:[],owner:e,abilityType:"Pet",abilityFunction:i=>{}})}}class H3 extends h{constructor(e,t){super({name:"CameraAbility",triggers:["StartBattle"],owner:e,abilityType:"Pet",abilityFunction:i=>{const{gameApi:r,puma:n}=i;let a=Z(r,e.parent);for(let l=0;l<this.abilityLevel;l++){let o=a.getHighestAttackPet(),c=o.pet;if(null==c)return;let u=.3,g=Math.max(1,Math.floor(c.attack*(1-u)));c.attack=g,t.createLog({message:`${e.name} reduced ${c.name} attack by ${100*u}% to ${g} (Camera)`,type:"ability",player:e.parent,puma:n,randomEvent:o.random})}}})}}class Zn extends h{logService;constructor(e,t){super({name:"FlashlightAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=5*this.level,o=a.parent.getFurthestUpPet(a),c=o.pet;null!=c&&(c.increaseAttack(l),c.increaseHealth(l),this.logService.createLog({message:`Flashlight Ability gave ${c.name} ${l} attack and ${l} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e))}copy(e){return new Zn(e,this.logService)}}class Xn extends h{logService;constructor(e,t){super({name:"StinkySockAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let o=a.parent.opponent.getHighestHealthPets(this.level,[],a),c=o.pets;if(0!=c.length){for(let u of c){let g=.4,d=Math.max(1,Math.floor(u.health*(1-g)));u.health=d,this.logService.createLog({message:`${a.name} reduced ${u.name} health by ${100*g}% to ${d}`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:o.random})}this.triggerTigerExecution(e)}}copy(e){return new Xn(e,this.logService)}}class es extends h{logService;constructor(e,t){super({name:"TelevisionAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=2*this.level,o=a.parent.getAll(!1,a,!0),c=o.pets;if(0!=c.length){for(let u of c)u.increaseAttack(l),u.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${u.name} ${l} attack and ${l} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random});this.triggerTigerExecution(e)}}copy(e){return new es(e,this.logService)}}class ts extends h{logService;constructor(e,t){super({name:"PeanutJarAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.getPetsWithEquipment("Peanut Butter"),c=a.parent.getLowestAttackPets(this.level,l,a).pets;if(0!=c.length){for(let u of c)u.givePetEquipment(new wt),this.logService.createLog({message:`Peanut Jar Ability gave ${u.name} PeanutButter.`,type:"ability",player:a.parent,tiger:r,pteranodon:n});this.triggerTigerExecution(e)}}copy(e){return new ts(e,this.logService)}}class is extends h{logService;constructor(e,t){super({name:"AirPalmTreeAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getPetsWithEquipment("Coconut"),o=a.parent.getHighestAttackPets(this.level,l,a),c=o.pets;if(0!=c.length){for(let u of c)u.givePetEquipment(new fe),this.logService.createLog({message:`${a.name} gave ${u.name} Coconut.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random});this.triggerTigerExecution(e)}}copy(e){return new is(e,this.logService)}}const Iv=new Map,_3=Ot??Bi??[];for(const s of _3)s?.Name&&Iv.set(s.Name,!0===s.Rollable);class V3 extends P{logService;toyService;equipmentService;name="Pandoras Box";tier=5;startOfBattle(e,t){Wt.applyPandorasBoxEffect({logService:this.logService,equipmentService:this.equipmentService,level:this.level,pets:[...e.player.petArray,...e.opponent.petArray],useClones:!1,logPlayer:this.parent,logMeta:{randomEvent:!0},logMessage:(i,r)=>`${this.name} gave ${i.name} ${r.name}`})}constructor(e,t,i,r,n){super(e,t,i,r),this.logService=e,this.toyService=t,this.equipmentService=n}}class Wt extends h{logService;abilityService;equipmentService;constructor(e,t,i,r){super({name:"PandorasBoxAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i,this.equipmentService=r}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:r}=e,n=this.owner,a=Z(t,n.parent),l=[...n.parent.petArray,...a.petArray].filter(o=>o?.alive);Wt.applyPandorasBoxEffect({logService:this.logService,equipmentService:this.equipmentService,level:this.level,pets:l,useClones:!0,logPlayer:n.parent,logMeta:{tiger:i,pteranodon:r,randomEvent:!0},logMessage:(o,c)=>`Pandoras Box Ability gave ${o.name} ${c.name}`}),this.triggerTigerExecution(e)}copy(e){return new Wt(e,this.logService,this.abilityService,this.equipmentService)}static applyPandorasBoxEffect(e){const{logService:t,equipmentService:i,level:r,pets:n,useClones:a,logPlayer:l,logMeta:o,logMessage:c}=e,u=Array.from(i.getInstanceOfAllAilments().values()),g=new Set(["Chocolate Cake"]),d=Array.from(i.getInstanceOfAllEquipment().values()).filter(m=>{if(!m||g.has(m.name)||!(s=>!!s?.name&&!0===Iv.get(s.name))(m))return!1;const b=m.triggers??[];return!(b.includes("StartTurn")||b.includes("EndTurn")||b.includes("BeforeStartBattle"))});for(const m of n){const y=0===L({key:"toy.pandoras-box.pool",label:M(m,"Pandoras Box pool"),options:[{id:"ailments",label:"Ailments"},{id:"equipment",label:"Equipment"}]},()=>S(0,1)).index?u:d;if(!y.length)continue;const v=L({key:"toy.pandoras-box.item",label:M(m,"Pandoras Box item"),options:y.map(F=>({id:F.name,label:F.name}))},()=>S(0,y.length-1)),A=y[v.index];if(!A)continue;const k=a?we(A):A;k&&(m.givePetEquipment(k,r),t.createLog({message:c(m,k),type:"ability",player:l,tiger:o?.tiger,pteranodon:o?.pteranodon,randomEvent:o?.randomEvent}))}}}class rs extends h{logService;constructor(e,t){super({name:"WitchBroomAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getPetsWithEquipmentWithSillyFallback("any",a),o=a.parent.getRandomEnemyPetsWithSillyFallback(this.level,l,!1,!0,a),c=o.pets;if(0!=c.length){for(let u of c)u.givePetEquipment(new ke),this.logService.createLog({message:`${a.name} gave ${u.name} Weak.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random});this.triggerTigerExecution(e)}}copy(e){return new rs(e,this.logService)}}class as extends h{logService;constructor(e,t){super({name:"CrystalBallAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getFurthestUpPet(a),o=l.pet;if(null==o)return;let c=2*this.level;o.increaseMana(c),this.logService.createLog({message:`${a.name} gave ${o.name} ${c} mana.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new as(e,this.logService)}}class ns extends h{logService;constructor(e,t){super({name:"TreasureMapAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){}copy(e){return new ns(e,this.logService)}}class ss extends h{logService;constructor(e,t){super({name:"TreasureChestAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){}copy(e){return new ss(e,this.logService)}}class ls extends p{logService;abilityService;name="Great One";tier=6;pack="Custom";attack=7;health=13;initAbilities(){this.addAbility(new os(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class os extends h{logService;constructor(e,t){super({name:"GreatOneAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const a=this.owner;let l=[...a.parent.petArray,...a.parent.opponent.petArray];l=l.filter(o=>o!==a);for(let o of l)a.snipePet(o,5*a.level);this.triggerTigerExecution(e)}copy(e){return new os(e,this.logService)}}class cs extends h{logService;abilityService;constructor(e,t,i){super({name:"EvilBookAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:r=>null==this.owner.parent.pet0,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,a=this.owner;let l={attack:6*this.level,health:6*this.level},o=new ls(this.logService,this.abilityService,a.parent,l.health,l.attack,0,this.minExpForLevel),c=a.parent.summonPet(o,0);c.success&&this.logService.createLog({message:`Evil Book Ability spawned Great One (${l.attack}/${l.health}).`,type:"ability",player:a.parent,tiger:r,randomEvent:c.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new cs(e,this.logService,this.abilityService)}}class us extends p{logService;abilityService;name="Salmon of Knowledge";tier=5;pack="Unicorn";attack=5;health=5;initAbilities(){this.addAbility(new hs(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class hs extends h{logService;constructor(e,t){super({name:"SalmonOfKnowledgeAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=2*this.level,o=[],c=a.parent.getFurthestUpPets(2,[a],a);o.push(...c.pets);let u=a.parent.opponent.getFurthestUpPets(2,void 0,a);o.push(...u.pets);for(let g of o)this.logService.createLog({message:`${a.name} gave ${g.name} ${l} exp.`,type:"ability",player:a.parent,tiger:r,randomEvent:c.random||u.random}),g.increaseExp(l);this.triggerTigerExecution(e)}copy(e){return new hs(e,this.logService)}}class ps extends p{logService;abilityService;name="Giant Eyes Dog";tier=1;pack="Unicorn";hidden=!0;health=1;attack=1;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class g4 extends P{logService;toyService;petService;gameService;name="Microwave Oven";tier=2;startOfBattle(e,t){let i=this.parent.getPetsWithEquipment("perk"),n=this.parent.getFurthestUpPets(this.level,i).pets;if(0!=n.length)for(let a of n)this.logService.createLog({message:`${this.name} gave ${a.name} Popcorn.`,type:"ability",player:this.parent,puma:t}),a.givePetEquipment(new Tv(this.logService,this.petService,this.gameService))}constructor(e,t,i,r,n,a){super(e,t,i,r),this.logService=e,this.toyService=t,this.petService=n,this.gameService=a}}class d4 extends h{constructor(e,t,i){super({name:"MicrowaveOvenAbility",triggers:["StartBattle"],owner:e,abilityType:"Pet",abilityFunction:r=>{const{puma:n}=r;let a=e.parent.getPetsWithEquipment("perk"),o=e.parent.getFurthestUpPets(this.abilityLevel,a,e).pets;if(0!=o.length)for(let c of o){t.createLog({message:`${e.name} gave ${c.name} Popcorn (Microwave Oven).`,type:"ability",player:e.parent,puma:n});const u=i.getInstanceOfAllEquipment().get("Popcorn");c.givePetEquipment(u)}}})}}const _v={"Action Figure":class c3 extends P{name="Action Figure";tier=1;startOfBattle(e,t){const r=Z(e,this.parent).getFurthestUpPets(2);for(const n of r.pets)n.givePetEquipment(new fe),this.logService.createLog({message:`${this.name} gave ${n.name} Coconut.`,type:"ability",player:this.parent,puma:t,randomEvent:r.random})}},Balloon:class n3 extends P{name="Balloon";tier=1;onBreak(e,t){let i=this.parent.getFurthestUpPets(this.level,[]);if(0!=i.pets.length)for(let n of i.pets)n.increaseAttack(1),n.increaseHealth(1),this.logService.createLog({message:`${this.name} gave ${n.name} 1 attack and 1 health.`,type:"ability",player:this.parent,puma:t})}},"Chocolate Box":class u3 extends P{name="Chocolate Box";tier=1;startOfBattle(e,t){const i=Z(e,this.parent);for(const r of this.parent.petArray)r.increaseExp(1),this.logService.createLog({message:`${this.name} gave ${r.name} 1 exp.`,type:"ability",player:this.parent,puma:t});for(const r of i.petArray)r.increaseExp(2),this.logService.createLog({message:`${this.name} gave ${r.name} 2 exp.`,type:"ability",player:this.parent,puma:t})}},"Dice Cup":class h3 extends P{name="Dice Cup";tier=1;startOfBattle(e,t){const i=xe(this.parent.petArray.filter(r=>r.alive));for(let r=0;r<5;r++)this.parent.setPet(r,i[r]??null);this.logService.createLog({message:`${this.name} shuffled the team.`,type:"ability",player:this.parent,puma:t})}},Handkerchief:class p3 extends P{name="Handkerchief";tier=1;startOfBattle(e,t){const i=this.parent.getFurthestUpPets(2);for(const r of i.pets)r.givePetEquipment(new ke),this.logService.createLog({message:`${this.name} gave ${r.name} Weak.`,type:"ability",player:this.parent,puma:t,randomEvent:i.random})}},Kite:class g3 extends P{name="Kite";tier=1;emptyFromSpace(e,t,i,r){const n=this.parent.getLastPet();if(!n.pet)return;const a=n.pet,l=Math.floor(.2*a.attack);l>0&&a.increaseAttack(-l),this.parent.pushPetToFront(a),this.logService.createLog({message:`${this.name} moved ${a.name} to the front and removed ${l} attack.`,type:"ability",player:this.parent,puma:t}),this.used=!0}},Lamp:class d3 extends P{name="Lamp";tier=1;startOfBattle(e,t){for(const i of this.parent.petArray){const r=Math.floor(.2*i.attack),n=Math.floor(.2*i.health);r>0&&i.increaseAttack(-r),n>0&&i.increaseHealth(-n),this.logService.createLog({message:`${this.name} removed ${r} attack and ${n} health from ${i.name}.`,type:"ability",player:this.parent,puma:t})}}},Lunchbox:class m3 extends P{name="Lunchbox";tier=1;startOfBattle(e,t){const i=e?.turnNumber??1;for(let r=0;r<i;r++){const n=this.parent.getRandomLivingPet();if(!n.pet)return;const a=n.pet,o=a.parent!==this.parent?2:1;a.increaseAttack(o),a.increaseHealth(o),this.logService.createLog({message:`${this.name} fed ${a.name} +${o}/+${o}.`,type:"ability",player:this.parent,puma:t,randomEvent:n.random})}}},"Tennis Ball":class s3 extends P{name="Tennis Ball";tier=2;startOfBattle(e,t){let i=this.parent.opponent.getRandomPets(this.level,[],!1,!0),r=i.pets;if(0!=r.length)for(let n of r)this.toyService.snipePet(n,3,this.parent,this.name,i.random,t)}},Onesie:class b3 extends P{name="Onesie";tier=1;startOfBattle(e,t){const i=[];for(let r=0;r<2;r++){const n=this.parent.getRandomPet(i);if(!n.pet)return;i.push(n.pet),n.pet.givePetEquipment(new On),this.logService.createLog({message:`${this.name} gave ${n.pet.name} Cold.`,type:"ability",player:this.parent,puma:t,randomEvent:n.random})}}},"Paper Shredder":class y3 extends P{name="Paper Shredder";tier=1;friendSummoned(e,t,i,r){t&&(t.health=0,this.logService.createLog({message:`${this.name} knocked out ${t.name}.`,type:"ability",player:this.parent,puma:i}))}},Pen:class v3 extends P{name="Pen";tier=1;startOfBattle(e,t){const i=this.parent.getFurthestUpPets(2);for(const r of i.pets)r.givePetEquipment(new $i),this.logService.createLog({message:`${this.name} gave ${r.name} Inked.`,type:"ability",player:this.parent,puma:t,randomEvent:i.random})}},"Pill Bottle":class A3 extends P{name="Pill Bottle";tier=1;startOfBattle(e,t){const i=this.parent.getFurthestUpPets(2);for(const a of i.pets)a.health=0,this.logService.createLog({message:`${this.name} knocked out ${a.name}.`,type:"ability",player:this.parent,puma:t});const n=Z(e,this.parent).getFurthestUpPets(1).pets[0];n&&(n.health=0,this.logService.createLog({message:`${this.name} knocked out ${n.name}.`,type:"ability",player:this.parent,puma:t}))}},"Pogo Stick":class f3 extends P{name="Pogo Stick";tier=1;startOfBattle(e,t){const i=Z(e,this.parent),r=i.getLastPet();if(!r.pet)return;const n=r.pet;i.pushPetToFront(n);const a=n.attack,l=n.health;n.increaseAttack(a),n.increaseHealth(l),this.logService.createLog({message:`${this.name} pushed ${n.name} forward and gave +${a}/+${l}.`,type:"ability",player:this.parent,puma:t})}},"Remote Car":class k3 extends P{name="Remote Car";tier=1;startOfBattle(e,t){const i=Z(e,this.parent);for(const r of i.petArray){const n=Math.floor(.2*r.attack),a=Math.floor(.2*r.health);n>0&&r.increaseAttack(n),a>0&&r.increaseHealth(a),this.logService.createLog({message:`${this.name} gave ${r.name} +${n}/+${a}.`,type:"ability",player:this.parent,puma:t})}}},"Ring Pyramid":class S3 extends P{name="Ring Pyramid";tier=1;startOfBattle(e,t){const i=e?.turnNumber??1;let r=1;i>2&&(r=2),i>4&&(r=3),i>6&&(r=4),i>8&&(r=5),i>10&&(r=6);const n=r-1;if(!(n<1))for(const a of this.parent.petArray)a.tier===n&&(a.health=0,this.logService.createLog({message:`${this.name} knocked out ${a.name}.`,type:"ability",player:this.parent,puma:t}))}},Scale:class T3 extends P{name="Scale";tier=1;abominationHasBehemoth(e){return"Abomination"===e?.name&&[1,2,3].some(t=>"Behemoth"===e[`abominationSwallowedPet${t}`])}getAttackCap(e){return"Behemoth"===e?.name||this.abominationHasBehemoth(e)?100:50}getHealthCap(e){return"Behemoth"===e?.name||"Giant Tortoise"===e?.name||this.abominationHasBehemoth(e)?100:50}startOfBattle(e,t){const i=e?.turnNumber??1;for(const r of this.parent.petArray){const n=Math.min(i,this.getAttackCap(r)),a=Math.min(i,this.getHealthCap(r)),l=n-r.attack,o=a-r.health;0!==l&&r.increaseAttack(l),0!==o&&r.increaseHealth(o),this.logService.createLog({message:`${this.name} set ${r.name} to ${n}/${a}.`,type:"ability",player:this.parent,puma:t})}}},"Soccer Ball":class w3 extends P{name="Soccer Ball";tier=1;startOfBattle(e,t){const i=e?.turnNumber??1;let r=1;i>2&&(r=2),i>4&&(r=3),i>6&&(r=4),i>8&&(r=5),i>10&&(r=6);for(const n of this.parent.petArray)n.tier===r&&(n.health=0,this.logService.createLog({message:`${this.name} knocked out ${n.name}.`,type:"ability",player:this.parent,puma:t}))}},"Sticky Hand":class x3 extends P{name="Sticky Hand";tier=1;startOfBattle(e,t){const i=this.parent.getLastPets(2);for(const r of i.pets)r.givePetEquipment(new Wn),this.logService.createLog({message:`${this.name} gave ${r.name} Icky.`,type:"ability",player:this.parent,puma:t,randomEvent:i.random})}},Radio:class E3 extends P{name="Radio";tier=2;onBreak(e,t){let i=this.parent.petArray;for(let r of i)r.alive&&(r.increaseHealth(this.level),this.logService.createLog({message:`${this.name} gave ${r.name} ${this.level} health.`,type:"ability",player:this.parent,puma:t}))}},"Plastic Saw":class C3 extends P{name="Plastic Saw";tier=2;startOfBattle(e,t){let i=this.parent.getPetsWithEquipment("Eucalyptus"),n=this.parent.getFurthestUpPets(this.level,i).pets;if(0!=n.length)for(let a of n)this.logService.createLog({message:`${this.name} gave ${a.name} Eucalyptus.`,type:"ability",player:this.parent,puma:t}),a.givePetEquipment(new Ii)}},"Toilet Paper":class F3 extends P{name="Toilet Paper";tier=4;startOfBattle(e,t){let r=Z(e,this.parent).petArray.filter(n=>"Weak"!=n.equipment?.name).slice(0,this.level);for(let n of r)n.givePetEquipment(new ke),this.logService.createLog({message:`${this.name} gave ${n.name} Weak.`,type:"ability",player:this.parent,puma:t})}},"Oven Mitts":class N3 extends P{name="Oven Mitts";tier=4;onBreak(e){}},"Melon Helmet":class I3 extends P{name="Melon Helmet";tier=3;onBreak(e,t){let i=this.parent.petArray.filter(r=>r.alive).slice(0,this.level);for(let r of i)r.givePetEquipment(new ye),this.logService.createLog({message:`${this.name} gave ${r.name} Melon.`,type:"ability",player:this.parent,puma:t})}},"Foam Sword":class M3 extends P{name="Foam Sword";tier=3;startOfBattle(e,t){let i=Z(e,this.parent);for(let r=0;r<this.level;r++){let n=i.getLowestHealthPet();if(null==n.pet)return;this.toyService.snipePet(n.pet,5,this.parent,this.name,n.random,t)}}},"Toy Gun":class $3 extends P{name="Toy Gun";tier=3;startOfBattle(e,t){let i=Z(e,this.parent);for(let r=0;r<this.level;r++){let n=i.getLastPet();if(null==n.pet)return;this.toyService.snipePet(n.pet,5,this.parent,this.name,!1,t)}}},"Toy Mouse":class L3 extends P{name="Toy Mouse";tier=3;startOfBattle(e,t){for(const i of this.parent.petArray)i.exp=0,this.logService.createLog({message:`${this.name} set ${i.name} to level 1.`,type:"ability",player:this.parent,puma:t})}},"Cash Register":class B3 extends P{name="Cash Register";tier=4;onBreak(e){}},Camera:class G3 extends P{name="Camera";tier=5;startOfBattle(e,t){let i=Z(e,this.parent);for(let r=0;r<this.level;r++){let n=i.getHighestAttackPet(),a=n.pet;if(null==a)return;let l=.3,o=Math.max(1,Math.floor(a.attack*(1-l)));a.attack=o,this.logService.createLog({message:`${this.name} reduced ${a.name} attack by ${100*l}% to ${o}`,type:"ability",player:this.parent,puma:t,randomEvent:n.random})}}},Flashlight:class D3 extends P{name="Flashlight";tier=5;onBreak(e,t){let i=5*this.level,r=this.parent.furthestUpPet;null!=r&&(r.increaseAttack(i),r.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${r.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:t}))}},"Stinky Sock":class O3 extends P{name="Stinky Sock";tier=5;startOfBattle(e,t){let i=Z(e,this.parent);for(let r=0;r<this.level;r++){let n=i.getHighestHealthPet(),a=n.pet;if(null==a)return;let l=.4,o=Math.max(1,Math.floor(a.health*(1-l)));a.health=o,this.logService.createLog({message:`${this.name} reduced ${a.name} health by ${100*l}% to ${o}`,type:"ability",player:this.parent,puma:t,randomEvent:n.random})}}},Television:class W3 extends P{name="Television";tier=6;onBreak(e,t){let i=2*this.level;for(let r of this.parent.petArray)r.alive&&(r.increaseAttack(i),r.increaseHealth(i),this.logService.createLog({message:`${this.name} gave ${r.name} ${i} attack and ${i} health.`,type:"ability",player:this.parent,puma:t}))}},"Peanut Jar":class j3 extends P{name="Peanut Jar";tier=6;startOfBattle(e,t){let i=this.parent.getLowestAttackPets(this.level,this.parent.getPetsWithEquipment("Peanut Butter")),r=i.pets;if(0!=r.length)for(let n of r)n.givePetEquipment(new wt),this.logService.createLog({message:`${this.name} gave ${n.name} PeanutButter.`,type:"ability",player:this.parent,puma:t,randomEvent:i.random})}},"Air Palm Tree":class U3 extends P{name="Air Palm Tree";tier=6;startOfBattle(e,t){let i=this.parent.getHighestAttackPets(this.level,this.parent.getPetsWithEquipment("Coconut")),r=i.pets;if(0!=r.length)for(let n of r)n.givePetEquipment(new fe),this.logService.createLog({message:`${this.name} gave ${n.name} Coconut.`,type:"ability",player:this.parent,puma:t,randomEvent:i.random})}},"Witch Broom":class K3 extends P{name="Witch Broom";tier=1;startOfBattle(e,t){let i=Z(e,this.parent),r=i.petArray.filter(a=>null!=a.equipment),n=[];for(let a=0;a<this.level;a++){let l=i.getRandomPet(r,!1,!0,!1,null);if(null==l.pet)break;r.push(l.pet),n.push(l.pet)}if(0!==n.length)for(let a of n)this.logService.createLog({message:`${this.name} gave ${a.name} Weak.`,type:"ability",player:this.parent,puma:t,randomEvent:i.petArray.length-r.length>0}),a.givePetEquipment(new ke);else this.logService.createLog({message:"Player's Witch Broom found no targets",type:"ability",player:this.parent,puma:t,randomEvent:!0})}},"Magic Wand":class z3 extends P{name="Magic Wand";tier=1;startOfBattle(e,t){let i=this.parent.petArray.filter(a=>a.level<3),r=null,n=!1;if(0==i.length){const a=this.parent.getRandomPet([],!0);r=a.pet,n=a.random}else i=xe(i),r=i[0],n=i.length>1;null!=r&&(this.logService.createLog({message:`${this.name} gave ${r.name} ${this.level} exp.`,type:"ability",player:this.parent,puma:t,randomEvent:n}),r.increaseExp(this.level))}},"Crystal Ball":class Q3 extends P{name="Crystal Ball";tier=1;startOfBattle(e,t){let i=this.parent.petArray[0];null!=i&&(this.logService.createLog({message:`${this.name} gave ${i.name} ${this.level} mana.`,type:"ability",player:this.parent,puma:t,randomEvent:!1}),i.increaseMana(this.level))}},"Treasure Map":class Y3 extends P{name="Treasure Map";tier=3},"Treasure Chest":class J3 extends P{name="Treasure Chest";tier=3},"Magic Carpet":class X3 extends P{name="Magic Carpet";tier=2;friendSummoned(e,t,i,r){this.logService.createLog({message:`${this.name} gave ${t.name} ${r} attack.`,type:"ability",player:this.parent,puma:i}),t.increaseAttack(r)}},"Magic Lamp":class e4 extends P{name="Magic Lamp";tier=2;friendlyLevelUp(e,t,i,r){this.logService.createLog({message:`${this.name} gave ${t.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,puma:i}),t.increaseAttack(+r),t.increaseHealth(+r)}},Candelabra:class t4 extends P{name="Candelabra";tier=4},"Glass Shoes":class i4 extends P{name="Glass Shoes";tier=4;friendFaints(e,t,i,r){if(i||this.triggers++,this.triggers%3!=0)return;let n=t.parent.petArray.filter(a=>a.alive);for(let a of n)this.logService.createLog({message:`${this.name} gave ${a.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,puma:i}),a.increaseAttack(+r),a.increaseHealth(+r)}},"Golden Harp":class r4 extends P{name="Golden Harp";tier=4},"Lock of Hair":class a4 extends P{name="Lock of Hair";tier=4},"Magic Mirror":class n4 extends P{name="Magic Mirror";tier=4},Pickaxe:class s4 extends P{name="Pickaxe";tier=4},"Red Cape":class l4 extends P{name="Red Cape";tier=4;friendJumped(e,t,i,r){let n=t.parent.petArray.filter(a=>a.alive);for(let a of n)this.logService.createLog({message:`${this.name} gave ${a.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,puma:i}),a.increaseAttack(+r),a.increaseHealth(+r)}},Rosebud:class o4 extends P{name="Rosebud";tier=4;friendlyLevelUp(e,t,i,r){if(i||this.triggers++,this.triggers%2!=0)return;let n=t.parent.petArray.filter(a=>a.alive);for(let a of n)this.logService.createLog({message:`${this.name} gave ${a.name} ${r} attack and ${r} health.`,type:"ability",player:this.parent,puma:i}),a.increaseAttack(+r),a.increaseHealth(+r)}},Excalibur:class c4 extends P{name="Excalibur";tier=6},"Holy Grail":class u4 extends P{name="Holy Grail";tier=6}},Vv={"Evil Book":class Z3 extends P{logService;toyService;abilityService;name="Evil Book";tier=5;emptyFromSpace(e,t,i,r){let n={attack:6*i,health:6*i},l=new ls(this.logService,this.abilityService,this.parent,n.health,n.attack,0,1==i?0:2==i?2:5),o=`${this.name} spawned Great One (${n.attack}/${n.health}).`;this.parent.summonPet(l,0).success&&this.logService.createLog({message:o,type:"ability",player:this.parent,puma:t}),this.used=!0}constructor(e,t,i,r,n){super(e,t,r,n),this.logService=e,this.toyService=t,this.abilityService=i}},Nutcracker:class h4 extends P{logService;toyService;abilityService;name="Nutcracker";tier=4;suppressFriendFaintLog=!0;pendingSpawn=!1;friendFaints(e,t,i,r){this.used||this.pendingSpawn||t.parent.petArray.filter(a=>a.alive).length>0||this.queueSalmonSpawn()}queueSalmonSpawn(){this.pendingSpawn=!0,this.abilityService.setCounterEvent({priority:0,callback:(e,t,i)=>{this.pendingSpawn=!1,this.attemptSalmonSpawn()}})}attemptSalmonSpawn(){if(this.used||this.parent.petArray.filter(r=>r.alive).length>0)return;const t=6*this.level,i=new us(this.logService,this.abilityService,this.parent,t,t,null,0);this.parent.summonPet(i,0).success&&this.logService.createLog({message:`${this.name} spawned Salmon of Knowledge (${t}/${t})`,type:"ability",player:this.parent}),this.used=!0}constructor(e,t,i,r,n){super(e,t,r,n),this.logService=e,this.toyService=t,this.abilityService=i}},"Tinder Box":class p4 extends P{logService;toyService;abilityService;name="Tinder Box";tier=4;emptyFromSpace(e,t,i,r){let n={attack:6*i,health:6*i},l=new ps(this.logService,this.abilityService,this.parent,n.health,n.attack,0,1==i?0:2==i?2:5),o=`${this.name} spawned Giant Eyes Dog (${n.attack}/${n.health}).`;this.parent.summonPet(l,0).success&&this.logService.createLog({message:o,type:"ability",player:this.parent,puma:t}),this.used=!0}constructor(e,t,i,r,n){super(e,t,r,n),this.logService=e,this.toyService=t,this.abilityService=i}}},m4={"Rubber Duck":s=>new P3(s.logService,s.toyService,s.petService,s.parent,s.level),Stick:s=>new l3(s.logService,s.toyService,s.parent,s.level,s.petService),"Stuffed Bear":s=>new R3(s.logService,s.toyService,s.petService,s.parent,s.level),"Pandoras Box":s=>new V3(s.logService,s.toyService,s.parent,s.level,s.equipmentService),"Microwave Oven":s=>new g4(s.logService,s.toyService,s.parent,s.level,s.petService,s.gameService)};let Kv=(()=>{class s{logService;abilityService;petService;equipmentService;gameService;constructor(t,i,r,n,a){this.logService=t,this.abilityService=i,this.petService=r,this.equipmentService=n,this.gameService=a,this.logService=se(this.logService)}createToy(t,i,r,n,a,l,o){const u=m4[t];return u?u({logService:this.logService,abilityService:this.abilityService,toyService:n,parent:i,level:r,petService:this.petService??a,equipmentService:this.equipmentService??l,gameService:this.gameService??o}):Vv[t]?new(0,Vv[t])(this.logService,n,this.abilityService,i,r):_v[t]?new(0,_v[t])(this.logService,n,i,r):null}static \u0275fac=function(i){return new(i||s)(x(z),x(Pe),x(te),x(G),x(be))};static \u0275prov=_({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),he=(()=>{class s{logService;abilityService;gameService;equipmentService;petService;toyFactory;toyEventService;toys=new Map;toysByType=new Map;toyNameIds=new Map;localStartOfBattleEvents=[];constructor(t,i,r,n,a,l,o){this.logService=t,this.abilityService=i,this.gameService=r,this.equipmentService=n,this.petService=a,this.toyFactory=l,this.toyEventService=o,this.logService=se(this.logService),this.setToys()}setToys(){this.toys.clear(),this.toyNameIds.clear(),this.toysByType.clear();const t=this.getToyEntriesFromJson();for(const i of t){const r=Number(i.Tier);if(!Number.isFinite(r)||r<1)continue;this.toys.has(r)||this.toys.set(r,[]);const n=this.toys.get(r);n&&n.push(i.Name);const a=Number.isFinite(Number(i.ToyType))?Number(i.ToyType):0;this.toysByType.has(a)||this.toysByType.set(a,new Map);const l=this.toysByType.get(a);l&&!l.has(r)&&l.set(r,[]);const o=l?.get(r);o&&o.push(i.Name),i.Name&&i.NameId&&this.toyNameIds.set(i.Name,i.NameId)}for(const[i,r]of this.toys)this.toys.set(i,[...new Set(r)]);for(const[i,r]of this.toysByType)for(const[n,a]of r)r.set(n,[...new Set(a)])}getToyNameId(t){return t?this.toyNameIds.get(t)??null:null}getToysByType(t){const i=this.toysByType.get(t);return i?new Map(Array.from(i.entries()).map(([r,n])=>[r,[...n]])):new Map}isToyRandom(t){return!0===this.toyDataMap.get(t)?.Random}toyDataMap=new Map;getToyEntriesFromJson(){const t=Ct??si??[];return t.forEach(i=>{i.Name&&this.toyDataMap.set(i.Name,i)}),t.filter(i=>!!i?.Name)}createToy(t,i,r=1){return this.toyFactory.createToy(t,i,r,this,this.petService,this.equipmentService,this.gameService)}snipePet(t,i,r,n,a=!1,l=!1){let o=this.calculateDamage(t,r.getManticoreMult(),i),c=o.defenseEquipment,u=o.damage;this.dealDamage(t,u,r);let g=`${n} sniped ${t.name} for ${u}.`;if(null!=c){t.useDefenseEquipment(!0);let y=Math.abs(c.power??0),v="-";if((c.power??0)<0&&(v="+"),"Strawberry"===c.name){let A=t.getSparrowLevel();A>0&&(y=5*A,g+=` (Strawberry -${y} (Sparrow))`)}else g+=` (${c.name} ${v}${y})`;g+=c.multiplierMessage??""}"Icky"==t.equipment?.name&&(g+="x2 (Icky)",t.equipment.multiplier>1&&(g+=t.equipment.multiplierMessage));let d=r.getManticoreMult(),b=["Weak","Cold","Icky","Spooked"].includes(t.equipment?.name);if(d.length>0&&b)for(let y of d)g+=` x${y+1} (Manticore)`;return o.nurikabe>0&&(g+=` -${o.nurikabe} (Nurikabe)`),o.fairyBallReduction>0&&(g+=` -${o.fairyBallReduction} (Fairy Ball)`),o.fanMusselReduction>0&&(g+=` -${o.fanMusselReduction} (Fan Mussel)`),o.ghostKittenReduction>0&&(g+=` -${o.ghostKittenReduction} (Ghost Kitten)`),l&&(g+=" (Puma)"),this.logService.createLog({message:g,type:"attack",randomEvent:a,player:r}),u}calculateDamage(t,i,r){let n=t.equipment?.multiplier??1;const a=["Cold","Weak","Spooked"],l="Guava"===t.equipment?.name;let o="defense"==t.equipment?.equipmentClass||"shield"==t.equipment?.equipmentClass||"ailment-defense"==t.equipment?.equipmentClass||"shield-snipe"==t.equipment?.equipmentClass?t.equipment:null;null==o&&l&&(o=t.equipment),null!=o&&("Maple Syrup"==o.name?o=null:(n=pr(n,o.name,i,a),o.power=(o.originalPower??o.power??0)*n));let c=o?.power?o.power:0,u=t.getSparrowLevel();"Strawberry"===t.equipment?.name&&u>0&&(c+=5*u),r=Sb(r??0,t.equipment,i);let d,g="shield"==o?.equipmentClass||"shield-snipe"==o?.equipmentClass?0:1;void 0!==o?.minimumDamage&&(g=o.minimumDamage);const m=r??0;d=m<=g&&c>0?Math.max(m,0):Math.max(g,m-c);const b=Pb(t,d,{includeGhostKitten:!0,fairyMinimumOne:!1,fairyRequiresPositiveDamage:!0,nurikabeConsumesOnZeroHit:!0,fanMusselConsumesOnZeroHit:!0});return d=b.damage,{defenseEquipment:o,damage:d,nurikabe:b.nurikabe,fairyBallReduction:b.fairyBallReduction,fanMusselReduction:b.fanMusselReduction,ghostKittenReduction:b.ghostKittenReduction}}dealDamage(t,i,r){t.health-=i,i>0&&this.abilityService.triggerHurtEvents(t)}setStartOfBattleEvent(t){this.toyEventService?this.toyEventService.setStartOfBattleEvent(t):(t.tieBreaker=Je(),this.localStartOfBattleEvents.push(t))}executeStartOfBattleEvents(){if(this.toyEventService)return void this.toyEventService.executeStartOfBattleEvents();this.localStartOfBattleEvents=xe(this.localStartOfBattleEvents),this.localStartOfBattleEvents.sort((i,r)=>i.priority!==r.priority?r.priority-i.priority:(r.tieBreaker??0)-(i.tieBreaker??0));const t=new Map;for(const i of this.localStartOfBattleEvents)t.set(i.priority,(t.get(i.priority)??0)+1);for(const i of this.localStartOfBattleEvents){const r=(t.get(i.priority)??0)>1;this.logLocalStartOfBattleToyEvent(i,r,r?"tie-broken":"deterministic"),i.callback(this.gameService.gameApi)}this.localStartOfBattleEvents=[]}logLocalStartOfBattleToyEvent(t,i,r){const n=t.player?.toy?.name;n&&this.logService.createLog({message:`${t.player?.isOpponent?"Opponent's":"Player's"} ${n} activated at start of battle${t.triggerPet?.name?` (${t.triggerPet.name})`:""}`,type:"ability",player:t.player,randomEvent:i,randomEventReason:r})}static \u0275fac=function(i){return new(i||s)(x(z),x(Pe),x(be),x(G),x(te),x(Kv),x(Fi))};static \u0275prov=_({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class gs extends h{logService;abilityService;constructor(e,t,i){super({name:"FerretAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=R.getInjector().get(he),r=Math.max(1,Math.min(3,this.level)),n=i.toys.get(r)??[];if(0===n.length)return void this.triggerTigerExecution(e);const a=n[S(0,n.length-1)],l=i.createToy(a,t.parent,r);l?(t.parent.toy=l,t.parent.toy.used=!1,t.parent.toy.triggers=0,D(this.logService,t,`${t.name} chose a level ${r} ${a} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new gs(e,this.logService,this.abilityService)}}class ds extends h{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"BatAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getPetsWithEquipmentWithSillyFallback("Weak",a),o=a.parent.opponent.getRandomPet(l,null,!0,null,a),c=o.pet;null!=c&&(c.givePetEquipment(new ke),this.logService.createLog({message:`${a.name} made ${c.name} weak.`,type:"ability",player:a.parent,randomEvent:o.random,tiger:r})),this.triggerTigerExecution(e)}copy(e){return new ds(e,this.logService)}}class ms extends h{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"BilbyAbility",owner:e,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>Oe(this.owner,i.triggerPet,{excludeOwner:!0}),abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;let l=C(a,i),o=l.pet;null!=o&&(this.logService.createLog({message:`${a.name} gave ${o.name} Garlic.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),o.givePetEquipment(new In),this.triggerTigerExecution(e))}copy(e){return new ms(e,this.logService)}}class bs extends h{logService;abilityService;constructor(e,t,i){super({name:"RobinAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=new Bn(this.logService,this.abilityService,a.parent,null,null,this.minExpForLevel,null);this.logService.createLog({message:`${a.name} summoned a Nest (level ${this.level}).`,type:"ability",player:a.parent,randomEvent:!1,tiger:r});let o=a.parent.summonPetInFront(a,l);o.success&&(this.logService.createLog({message:`${a.name} gave Nest an Egg.`,type:"ability",player:a.parent,randomEvent:o.randomEvent,tiger:r}),l.givePetEquipment(new kv(this.logService))),this.triggerTigerExecution(e)}copy(e){return new bs(e,this.logService,this.abilityService)}}class ys extends h{logService;abilityService;constructor(e,t,i){super({name:"DromedaryAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} gave the two left-most shop pets +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new ys(e,this.logService,this.abilityService)}}class vs extends h{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t,i){super({name:"ShrimpAbility",owner:e,triggers:["FriendSold","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const i=e.triggerPet;if(!i||!i.isSellPet())return void this.triggerTigerExecution(e);const r=t.parent.getRandomPet([t]),n=r.pet;if(!n)return void this.triggerTigerExecution(e);const a=this.level;n.increaseHealth(a),this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave ${n.name} +${a} health after ${i.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:r.random}),this.triggerTigerExecution(e)}copy(e){return new vs(e,this.logService,this.abilityService)}}class As extends h{logService;abilityService;constructor(e,t,i){super({name:"BelugaSturgeonAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;for(let l=0;l<this.level;l++){let o=new cv(this.logService,this.abilityService,a.parent,3,2,0,0,null),c=a.parent.summonPet(o,4,!1,a);c.success&&(this.logService.createLog({message:`${a.name} summoned a 2/3 Dolphin in the back.`,type:"ability",player:a.parent,randomEvent:c.randomEvent,tiger:r,pteranodon:n}),o.givePetEquipment(new $n),this.logService.createLog({message:`${a.name} gave ${o.name} Rice.`,type:"ability",player:a.parent,randomEvent:!1,tiger:r,pteranodon:n}))}this.triggerTigerExecution(e)}copy(e){return new As(e,this.logService,this.abilityService)}}class fs extends h{logService;constructor(e,t){super({name:"TabbyCatAbility",owner:e,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getRandomPets(2,[a],!0,!1,a);if(0!=l.pets.length){for(let o of l.pets)null!=o&&(this.logService.createLog({message:`${a.name} increased ${o.name}'s health by ${this.level}.`,type:"ability",player:a.parent,randomEvent:l.random,tiger:r}),o.increaseHealth(this.level));this.triggerTigerExecution(e)}}copy(e){return new fs(e,this.logService)}}class ks extends h{logService;abilityService;constructor(e,t,i){super({name:"MandrillAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const a=this.owner;let l=2*this.level;a.parent.toy?.tier<=l&&(a.parent.breakToy(),this.abilityService.triggerToyBrokeEvents(a.parent)),this.triggerTigerExecution(e)}copy(e){return new ks(e,this.logService,this.abilityService)}}class zv extends p{logService;abilityService;name="Lemur";tier=2;pack="Puppy";attack=3;health=4;initAbilities(){this.addAbility(new Ss(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Ss extends h{logService;abilityService;constructor(e,t,i){super({name:"LemurAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=R.getInjector().get(he),r=Math.max(1,Math.min(3,this.level)),n=i.toys.get(r)??[];if(0===n.length)return void this.triggerTigerExecution(e);const a=n[S(0,n.length-1)],l=i.createToy(a,t.parent,r);l?(t.parent.toy=l,t.parent.toy.used=!1,t.parent.toy.triggers=0,D(this.logService,t,`${t.name} chose a level ${r} ${a} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new Ss(e,this.logService,this.abilityService)}}class Ps extends h{logService;abilityService;constructor(e,t,i){super({name:"GoldfishAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;t.increaseSellValue(this.level),this.logService.createLog({message:`${t.name} increased its sell value by ${this.level}.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new Ps(e,this.logService,this.abilityService)}}class Ts extends h{logService;constructor(e,t){super({name:"ToucanAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>this.owner.timesAttacked<1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l;l=null==a.equipment||a.equipment.tier>5?"Egg":a.equipment.name;let o=a.parent.getPetsWithEquipment(l),u=a.parent.nearestPetsBehind(this.level,a,o).pets;if(0!=u.length){for(let g of u){const d=R.getInjector().get(G).getInstanceOfAllEquipment().get(l);d&&(this.logService.createLog({message:`${a.name} gave ${g.name} ${d.name}`,type:"ability",player:a.parent,randomEvent:!1,tiger:r,pteranodon:n}),g.givePetEquipment(d))}this.triggerTigerExecution(e)}}copy(e){return new Ts(e,this.logService)}}class ws extends h{logService;constructor(e,t){super({name:"HoopoeBirdAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.opponent,o=l.getFurthestUpPet(a),c=o.pet,u=l.getLastPet(void 0,a),g=u.pet,d=2*this.level;c&&a.snipePet(c,d,o.random,r,n),g&&a.snipePet(g,d,u.random,r,n),this.triggerTigerExecution(e)}copy(e){return new ws(e,this.logService)}}class xs extends h{logService;abilityService;constructor(e,t,i){super({name:"TropicalFishAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=De(t);if(0!==i.length){for(const r of i)r.increaseHealth(this.level),D(this.logService,t,`${t.name} gave ${r.name} +${this.level} health.`,e.tiger,e.pteranodon);this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new xs(e,this.logService,this.abilityService)}}class Rs extends h{logService;abilityService;pendingBuffs=new Map;constructor(e,t,i){super({name:"HatchingChickAbility",owner:e,triggers:["EndTurn","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger){for(const[r,n]of this.pendingBuffs)r&&(r.increaseAttack(-n.attack),r.increaseHealth(-n.health));return this.pendingBuffs.clear(),void this.triggerTigerExecution(e)}const i=t.petAhead;if(i)return 1===this.level?(i.increaseAttack(3),i.increaseHealth(3),this.pendingBuffs.set(i,{attack:3,health:3}),this.logService.createLog({message:`${t.name} gave ${i.name} +3/+3 until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e)):2===this.level?(i.increaseAttack(2),i.increaseHealth(2),this.logService.createLog({message:`${t.name} gave ${i.name} +2/+2.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e)):(i.increaseExp(1),this.logService.createLog({message:`${t.name} gave ${i.name} +1 experience.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),void this.triggerTigerExecution(e));this.triggerTigerExecution(e)}copy(e){return new Rs(e,this.logService,this.abilityService)}}class Ls extends h{logService;abilityService;constructor(e,t,i){super({name:"OwlAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,r=new na(this.logService,this.abilityService,t.parent,null,null,null,this.minExpForLevel),n=t.parent.summonPet(r,t.savedPosition,!1,t);n.success&&this.logService.createLog({message:`${t.name} summoned a level ${this.level} Mouse.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Ls(e,this.logService,this.abilityService)}}class Qv extends p{logService;abilityService;name="Mole";tier=3;pack="Puppy";attack=2;health=3;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}initAbilities(){this.addAbility(new Es(this,this.logService,this.abilityService)),super.initAbilities()}}class Es extends h{logService;abilityService;constructor(e,t,i){super({name:"MoleAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=6*this.level,o=[];for(let d of a.parent.petArray){if(d==a)continue;const m=d.equipment?.equipmentClass;m&&"ailment-attack"!==m&&"ailment-defense"!==m&&"ailment-other"!==m&&o.push(d)}const c=a.position;if(o.sort((d,m)=>{const b=Math.abs(d.position-c),y=Math.abs(m.position-c);return b!==y?b-y:d.position-m.position}),o=o.slice(0,2),o.length<2)return;for(let d of o)this.logService.createLog({message:`${a.name} removed ${d.name}'s perk.`,type:"ability",player:a.parent,pteranodon:n}),d.removePerk(!0);let u=new Qv(this.logService,this.abilityService,a.parent,l,l),g=a.parent.summonPet(u,a.savedPosition,!1,a);g.success&&this.logService.createLog({message:`${a.name} summoned a ${l}/${l} Mole.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:g.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Es(e,this.logService,this.abilityService)}}class Cs extends h{logService;constructor(e,t){super({name:"PangolinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null!=this.owner.parent.toy,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.nearestPetsBehind(1,a);if(0===l.pets.length)return;let o=l.pets[0],c=4*this.level;o.increaseHealth(c),this.logService.createLog({message:`${a.name} gave ${o.name} ${c} health.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new Cs(e,this.logService)}}class Fs extends h{logService;abilityService;constructor(e,t,i){super({name:"PuppyAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=R.getInjector().get(he),r=Math.max(1,Math.min(3,this.level)),n=i.toys.get(r)??[];if(0===n.length)return void this.triggerTigerExecution(e);const a=n[S(0,n.length-1)],l=i.createToy(a,t.parent,r);l?(t.parent.toy=l,t.parent.toy.used=!1,t.parent.toy.triggers=0,D(this.logService,t,`${t.name} chose a level ${r} ${a} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new Fs(e,this.logService,this.abilityService)}}class Ns extends h{logService;abilityService;usesThisTurn=0;constructor(e,t,i){super({name:"PurpleFrogAbility",owner:e,triggers:["FriendSummoned","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.level)return void this.triggerTigerExecution(e);const i=ee(t,e.triggerPet);i.pet?(i.pet.executeAbilities("StartTurn",e.gameApi,i.pet,void 0,void 0,{trigger:"StartTurn"}),this.usesThisTurn++,D(this.logService,t,`${t.name} activated ${i.pet.name}'s start of turn ability.`,e.tiger,e.pteranodon,{randomEvent:i.random}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new Ns(e,this.logService,this.abilityService)}}class Is extends h{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"HareAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.opponent.petArray,o=[];for(let y of l)y.equipment&&R.getInjector().get(G).isUsefulPerk(y.equipment.name)&&o.push(y);if(0==o.length)return;const c=L({key:"pet.hare-copy-equipment",label:M(a,"Hare copied equipment source"),options:o.map(y=>({id:`${y.savedPosition+1}:${y.name}`,label:`O${y.savedPosition+1} ${y.name}`}))},()=>S(0,o.length-1));let u=o[c.index],g=u.equipment;if(!g)return;const d=R.getInjector().get(G).getInstanceOfAllEquipment().get(g.name);if(!d)return;let b=a.parent.getThis(a).pet;null!=b&&(a.givePetEquipment(d),this.logService.createLog({message:`${a.name} copied ${g.name} to ${b.name} from ${u.name}.`,type:"ability",player:a.parent,tiger:r,randomEvent:c.randomEvent}),this.triggerTigerExecution(e))}copy(e){return new Is(e,this.logService)}}class Ms extends h{logService;constructor(e,t){super({name:"MicrobeAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.getPetsWithinXSpaces(a,3*this.level),o=l.pets.filter(c=>"Weak"!==c.equipment?.name);if(0!=o.length){for(let c of o)c.alive&&(this.logService.createLog({message:`${a.name} gave ${c.name} Weak.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:l.random}),c.givePetEquipment(new ke));this.triggerTigerExecution(e)}}copy(e){return new Ms(e,this.logService)}}class $s extends h{logService;abilityService;constructor(e,t,i){super({name:"LobsterAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=ee(t,e.triggerPet);if(!i.pet)return;const r=this.level,n=2*this.level;i.pet.increaseAttack(r),i.pet.increaseHealth(n),D(this.logService,t,`${t.name} gave ${i.pet.name} ${r} attack and ${n} health.`,e.tiger,e.pteranodon,{randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new $s(e,this.logService,this.abilityService)}}class Bs extends h{logService;abilityService;pendingAttack=0;pendingHealth=0;constructor(e,t,i){super({name:"BuffaloAbility",owner:e,triggers:["FriendSold","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return(this.pendingAttack||this.pendingHealth)&&(t.increaseAttack(-this.pendingAttack),t.increaseHealth(-this.pendingHealth)),this.pendingAttack=0,this.pendingHealth=0,void this.triggerTigerExecution(e);const i=e.triggerPet;if(!i||!i.isSellPet())return void this.triggerTigerExecution(e);const r=2*this.level;t.increaseAttack(r),t.increaseHealth(r),this.pendingAttack+=r,this.pendingHealth+=r,this.logService.createLog({message:`${t.name} gained +${r}/+${r} until next turn after ${i.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Bs(e,this.logService,this.abilityService)}}class qs extends h{logService;abilityService;constructor(e,t,i){super({name:"LlamaAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;let i=!1;for(let a=0;a<5;a++)if(null==t.parent.getPetAtPosition(a)){i=!0;break}if(!i)return void this.triggerTigerExecution(e);const r=this.level,n=2*this.level;t.increaseAttack(r),t.increaseHealth(n),this.logService.createLog({message:`${t.name} gained +${r}/+${n} because there was an empty space.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new qs(e,this.logService,this.abilityService)}}class Yv extends p{logService;abilityService;name="Butterfly";tier=1;pack="Puppy";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new Gs(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Gs extends h{logService;constructor(e,t){super({name:"ButterflyAbility",owner:e,triggers:["ThisTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;if(!a.alive)return;let o=a.parent.opponent.getStrongestPet(a);o.pet&&(a.health=o.pet.health,a.attack=o.pet.attack,this.logService.createLog({message:`${a.name} copied stats from the strongest enemy (${a.attack}/${a.health}).`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e))}copy(e){return new Gs(e,this.logService)}}class Hs extends h{logService;abilityService;constructor(e,t,i){super({name:"CaterpillarAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:r=>this.owner.level>=3,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getThis(a),o=l.pet;if(null==o)return;let c=new Yv(this.logService,this.abilityService,o.parent,o.health,o.attack,o.mana,o.exp,o.equipment);a.parent.transformPet(o,c),this.logService.createLog({message:`${a.name} transformed into a Butterfly.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new Hs(e,this.logService,this.abilityService)}}class Ds extends h{logService;constructor(e,t){super({name:"DobermanAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=8*this.level,o=a.parent.getThis(a),c=o.pet;if(null==c)return;c.increaseAttack(l),this.logService.createLog({message:`${a.name} gave ${c.name} ${l} attack.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random});let u=!0;for(let m of a.parent.petArray)if(m!=a&&m.tier<=a.tier){u=!1;break}if(!u)return void this.triggerTigerExecution(e);let g=a.parent.getThis(a),d=g.pet;null!=d&&(d.givePetEquipment(new fe),this.logService.createLog({message:`${a.name} gave ${d.name} Coconut.`,type:"ability",player:a.parent,tiger:r,randomEvent:g.random}),this.triggerTigerExecution(e))}copy(e){return new Ds(e,this.logService)}}class Os extends h{logService;abilityService;constructor(e,t,i){super({name:"TahrAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.getPetsWithEquipment("Mild Chili"),o=a.parent.nearestPetsBehind(this.level,a,l);if(0!==o.pets.length){for(let c of o.pets)this.logService.createLog({message:`${a.name} gave ${c.name} Mild Chili.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:o.random}),c.givePetEquipment(new Pv(this.logService,this.abilityService));this.triggerTigerExecution(e)}}copy(e){return new Os(e,this.logService,this.abilityService)}}class Ws extends h{logService;abilityService;constructor(e,t,i){super({name:"WhaleSharkAbility",owner:e,triggers:["ThisGainedPerk","ThisGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const a=this.owner;a.equipment&&(this.logService.createLog({message:`${a.name} removed ${a.equipment.name}`,type:"ability",player:a.parent}),a.removePerk());let l=a.parent.getThis(a),o=l.pet;if(null==o)return;let c=3*this.level;o.increaseAttack(c),o.increaseHealth(c),this.logService.createLog({message:`${a.name} gave ${o.name} ${c} attack and ${c} health.`,type:"ability",player:a.parent,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new Ws(e,this.logService,this.abilityService)}}class js extends h{logService;abilityService;equipmentService;constructor(e,t,i,r){super({name:"ChameleonAbility",owner:e,triggers:["SpecialEndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:n=>null!=this.owner.parent.toy,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i,this.equipmentService=r}executeAbility(e){const a=this.owner;a.removeAbility(this.name,"Pet"),this.addToyAbility(a.parent.toy.name)}addToyAbility(e){let t=this.owner;const r={"Tennis Ball":()=>new Un(t,this.logService),Balloon:()=>new jn(t,this.logService),"Plastic Saw":()=>new Vn(t,this.logService),Radio:()=>new _n(t,this.logService),"Oven Mitts":()=>new zn(t,this.logService),"Toilet Paper":()=>new Kn(t,this.logService),"Foam Sword":()=>new Yn(t,this.logService),"Toy Gun":()=>new Jn(t,this.logService),"Melon Helmet":()=>new Qn(t,this.logService),"Stinky Sock":()=>new Xn(t,this.logService),Flashlight:()=>new Zn(t,this.logService),"Peanut Jar":()=>new ts(t,this.logService),"Air Palm Tree":()=>new is(t,this.logService),Television:()=>new es(t,this.logService),"Crystal Ball":()=>new as(t,this.logService),"Evil Book":()=>new cs(t,this.logService,this.abilityService),"Treasure Chest":()=>new ss(t,this.logService),"Witch Broom":()=>new rs(t,this.logService),"Treasure Map":()=>new ns(t,this.logService),"Pandoras Box":()=>new Wt(t,this.logService,this.abilityService,this.equipmentService),Stick:()=>new o3(t,this.logService),"Cash Register":()=>new q3(t,this.logService),"Microwave Oven":()=>new d4(t,this.logService,this.equipmentService),Camera:()=>new H3(t,this.logService)}[e];if(r)try{const n=r();n.abilityLevel=Math.min(t.parent.toy.level,this.level),n.alwaysIgnorePetLevel=!0,t.addAbility(n),this.logService.createLog({message:`${this.name} gained ${e} ability!`,type:"ability",player:t.parent})}catch(n){console.warn(`Failed to add ${e} ability to ${this.name}:`,n)}else this.logService.createLog({message:"Custom toy ability is currently not supported for Chameleon ability",type:"ability",player:t.parent})}copy(e){return new js(e,this.logService,this.abilityService,this.equipmentService)}}class Us extends h{logService;abilityService;constructor(e,t,i){super({name:"GharialAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=R.getInjector().get(he),r=Math.max(1,Math.min(3,this.level)),n=i.toys.get(r)??[];if(0===n.length)return void this.triggerTigerExecution(e);const a=n[S(0,n.length-1)],l=i.createToy(a,t.parent,r);l?(t.parent.toy=l,t.parent.toy.used=!1,t.parent.toy.triggers=0,D(this.logService,t,`${t.name} chose a level ${r} ${a} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new Us(e,this.logService,this.abilityService)}}class _s extends h{logService;constructor(e,t){super({name:"StonefishAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r,pteranodon:n}=e,a=this.owner;let o=a.parent.getSpecificPet(a,i).pet;null==o||!o.alive||(a.snipePet(o,a.attack*this.level,!1,r,n),this.triggerTigerExecution(e))}copy(e){return new _s(e,this.logService)}}class Vs extends h{logService;abilityService;constructor(e,t,i){super({name:"ChickenAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} gave future shop pets +${i} attack and +${i} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new Vs(e,this.logService,this.abilityService)}}class Ks extends p{logService;abilityService;petService;name="Eagle";tier=5;pack="Puppy";attack=6;health=5;constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}initAbilities(){this.addAbility(new zs(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class zs extends h{logService;abilityService;petService;constructor(e,t,i,r){super({name:"EagleAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:n}=e,a=this.owner,l=Number.isFinite(t.previousShopTier)?t.previousShopTier:1,o=Math.min(6,Math.max(1,l+1)),c=A=>(A??[]).filter(k=>k&&a.name&&k.toLowerCase()!==a.name.toLowerCase()),u=a.parent===t.player?t.playerPetPool:t.opponentPetPool;let g=c(u?.get(o));if(g?.length||(g=c(this.petService.allPets.get(o))),g?.length||(g=c(this.petService.allPets.get(1))),!g.length)return void this.triggerTigerExecution(e);const d=L({key:"pet.eagle-faint-summon",label:M(a,`Eagle tier ${o} summon`),options:g.map(A=>({id:A,label:A}))},()=>S(0,g.length-1));let b=5*this.level,y=this.petService.createPet({name:g[d.index],attack:b,health:b,exp:a.minExpForLevel,equipment:null,mana:0},a.parent);a.parent.summonPet(y,a.savedPosition,!1,a).success&&this.logService.createLog({message:`${a.name} spawned ${y.name} Level ${y.level}`,type:"ability",player:a.parent,tiger:r,randomEvent:d.randomEvent,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new zs(e,this.logService,this.abilityService,this.petService)}}class Jv extends p{logService;abilityService;name="Praying Mantis";tier=4;pack="Star";attack=7;health=2;initAbilities(){this.addAbility(new Qs(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Qs extends h{logService;abilityService;constructor(e,t,i){super({name:"PrayingMantisAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,r=De(t);for(const a of r)t.dealDamage(a,50);const n=2*this.level;t.increaseAttack(n),t.increaseHealth(n),this.logService.createLog({message:`${t.name} dealt 50 damage to adjacent friends and gained +${n}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:r.length>1}),this.triggerTigerExecution(e)}copy(e){return new Qs(e,this.logService,this.abilityService)}}class Ys extends h{logService;abilityService;constructor(e,t,i){super({name:"OrchidMantisAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=Math.min(Math.floor(a.attack*(.4*this.level)),50),o=Math.min(Math.floor(a.health*(.4*this.level)),50),c=new Jv(this.logService,this.abilityService,a.parent,o,l,0,this.minExpForLevel,null),u=a.parent.summonPetInFront(a,c);u.success&&this.logService.createLog({message:`${a.name} spawned Mantis ${c.attack}/${c.health}.`,type:"ability",player:a.parent,tiger:r,randomEvent:u.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Ys(e,this.logService,this.abilityService)}}class Js extends h{logService;abilityService;constructor(e,t,i){super({name:"PantherAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new Js(e,this.logService,this.abilityService)}}class Zs extends h{logService;constructor(e,t){super({name:"AxolotlAbility",owner:e,triggers:["FriendlyGainsPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,precondition:i=>{const{triggerPet:r}=i,l=C(this.owner,r).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;let l=C(a,i),o=l.pet;if(null==o)return;let c=this.level;o.increaseAttack(c),o.increaseHealth(c),this.logService.createLog({message:`${a.name} gave ${o.name} ${c} attack and ${c} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new Zs(e,this.logService)}}class Xs extends h{logService;constructor(e,t){super({name:"SnappingTurtleAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.getPetsWithEquipment("Skewer"),o=a.parent.nearestPetsBehind(a.level,a,l);if(0!==o.pets.length){for(let c of o.pets)this.logService.createLog({message:`${a.name} gave ${c.name} Skewer.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:o.random}),c.givePetEquipment(new Sv(this.logService));this.triggerTigerExecution(e)}}copy(e){return new Xs(e,this.logService)}}class el extends h{logService;abilityService;constructor(e,t,i){super({name:"MosasaurusAbility",owner:e,triggers:["FriendlyToyBroke"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=De(t);if(0===i.length)return void this.triggerTigerExecution(e);const r=2*this.level,n=3*this.level;for(const a of i)a.increaseAttack(r),a.increaseHealth(n),this.logService.createLog({message:`${t.name} gave ${a.name} +${r}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon});this.triggerTigerExecution(e)}copy(e){return new el(e,this.logService,this.abilityService)}}class tl extends h{logService;abilityService;constructor(e,t,i){super({name:"StingRayAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=R.getInjector().get(he),r=Math.max(1,Math.min(3,this.level)),n=i.toys.get(r)??[];if(0===n.length)return void this.triggerTigerExecution(e);const a=n[S(0,n.length-1)],l=i.createToy(a,t.parent,r);l?(t.parent.toy=l,t.parent.toy.used=!1,t.parent.toy.triggers=0,D(this.logService,t,`${t.name} chose a level ${r} ${a} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new tl(e,this.logService,this.abilityService)}}class il extends h{logService;constructor(e,t){super({name:"MantisShrimpAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.opponent;for(let o=0;o<this.level;o++){let c=l.getFurthestUpPet(a),u=c.pet;if(null==u)return;a.snipePet(u,10,c.random,r)}this.triggerTigerExecution(e)}copy(e){return new il(e,this.logService)}}class rl extends h{logService;constructor(e,t){super({name:"LionfishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.opponent,o=1+Math.floor(a.attack/10);for(let c=0;c<o;c++){let u=l.getRandomPet([],!1,!0,!1,a);if(null==u.pet)return;a.snipePet(u.pet,3*this.level,u.random,r,n)}this.triggerTigerExecution(e)}copy(e){return new rl(e,this.logService)}}class al extends h{logService;abilityService;constructor(e,t,i){super({name:"TyrannosaurusAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(l=>l.alive&&l!==t&&l.tier>=5),r=i.length;if(0===i.length)return void this.triggerTigerExecution(e);const n=[];for(;n.length<2&&i.length>0;){const l=S(0,i.length-1);n.push(i[l]),i.splice(l,1)}const a=2*this.level;for(const l of n)l.increaseAttack(a),l.increaseHealth(a);this.logService.createLog({message:`${t.name} gave ${n.map(l=>l.name).join(", ")} +${a}/+${a}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:r>n.length}),this.triggerTigerExecution(e)}copy(e){return new al(e,this.logService,this.abilityService)}}class nl extends h{logService;constructor(e,t){super({name:"OctopusAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner,l=a.parent.getRandomEnemyPetsWithSillyFallback(this.level,[a],null,!0,a);let o=l.pets;for(let u of o){if(null==u)return;a.snipePet(u,6,l.random,r)}this.triggerTigerExecution(e)}copy(e){return new nl(e,this.logService)}}class sl extends h{logService;abilityService;constructor(e,t,i){super({name:"AnglerfishAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} stocked a free pet from the last opponent ${1===i?"once":2===i?"twice":"thrice"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new sl(e,this.logService,this.abilityService)}}class ll extends h{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t,i){super({name:"SauropodAbility",owner:e,triggers:["FriendlyGainsPerk","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const i=this.level;this.usesThisTurn++,this.logService.createLog({message:`${t.name} will give +${i} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new ll(e,this.logService,this.abilityService)}}class ol extends h{logService;constructor(e,t){super({name:"ElephantSealAbility",owner:e,triggers:["ThisGainedPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=4*this.level,o=a.parent.getRandomPets(3,[a],!0,!1,a);for(let c of o.pets)null!=c&&(c.increaseAttack(l),c.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${c.name} ${l} attack and ${l} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}));this.triggerTigerExecution(e)}copy(e){return new ol(e,this.logService)}}class cl extends h{logService;abilityService;constructor(e,t,i){super({name:"MongooseAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=R.getInjector().get(he),r=Math.max(1,Math.min(3,this.level)),n=i.toys.get(r)??[];if(0===n.length)return void this.triggerTigerExecution(e);const a=n[S(0,n.length-1)],l=i.createToy(a,t.parent,r);l?(t.parent.toy=l,t.parent.toy.used=!1,t.parent.toy.triggers=0,D(this.logService,t,`${t.name} chose a level ${r} ${a} toy.`,e.tiger,e.pteranodon),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new cl(e,this.logService,this.abilityService)}}const oF={Moth:class QL extends p{logService;abilityService;name="Moth";tier=1;pack="Puppy";health=3;attack=1;initAbilities(){this.addAbility(new wn(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Bluebird:class YL extends p{logService;abilityService;name="Bluebird";tier=1;pack="Puppy";attack=2;health=1;initAbilities(){this.addAbility(new xn(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Chinchilla:class JL extends p{logService;abilityService;name="Chinchilla";tier=1;pack="Puppy";attack=2;health=3;initAbilities(){this.addAbility(new Ln(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Beetle:class ZL extends p{logService;abilityService;name="Beetle";tier=1;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new En(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Ladybug:class XL extends p{logService;abilityService;name="Ladybug";tier=1;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new Cn(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Chipmunk:class eE extends p{logService;abilityService;name="Chipmunk";tier=1;pack="Puppy";attack=3;health=2;initAbilities(){this.addAbility(new Fn(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Gecko:class tE extends p{logService;abilityService;name="Gecko";tier=1;pack="Puppy";attack=3;health=1;toyPet=!0;initAbilities(){this.addAbility(new Nn(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Ferret:class b4 extends p{logService;abilityService;name="Ferret";tier=1;pack="Puppy";attack=1;health=3;initAbilities(){this.addAbility(new gs(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Robin:class A4 extends p{logService;abilityService;name="Robin";tier=2;pack="Puppy";attack=2;health=3;initAbilities(){this.addAbility(new bs(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Bat:class y4 extends p{logService;abilityService;name="Bat";tier=2;pack="Puppy";attack=2;health=4;initAbilities(){this.addAbility(new ds(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Bilby:class v4 extends p{logService;abilityService;name="Bilby";tier=2;pack="Puppy";attack=2;health=4;initAbilities(){this.addAbility(new ms(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Dromedary:class f4 extends p{logService;abilityService;name="Dromedary";tier=2;pack="Puppy";attack=2;health=4;initAbilities(){this.addAbility(new ys(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Shrimp:class k4 extends p{logService;abilityService;name="Shrimp";tier=2;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new vs(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Toucan:class x4 extends p{logService;abilityService;name="Toucan";tier=3;pack="Puppy";attack=4;health=3;initAbilities(){this.addAbility(new Ts(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Beluga Sturgeon":class S4 extends p{logService;abilityService;name="Beluga Sturgeon";tier=2;pack="Puppy";attack=2;health=3;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}initAbilities(){this.addAbility(new As(this,this.logService,this.abilityService)),super.initAbilities()}},"Tabby Cat":class P4 extends p{logService;abilityService;name="Tabby Cat";tier=2;pack="Puppy";attack=3;health=2;initAbilities(){this.addAbility(new fs(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Mandrill:class T4 extends p{logService;abilityService;name="Mandrill";tier=2;pack="Puppy";attack=3;health=4;initAbilities(){this.addAbility(new ks(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Lemur:zv,"Gold Fish":class w4 extends p{logService;abilityService;name="Goldfish";tier=2;pack="Puppy";attack=1;health=1;initAbilities(){this.addAbility(new Ps(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Hoopoe Bird":class R4 extends p{logService;abilityService;name="Hoopoe Bird";tier=3;pack="Puppy";attack=3;health=3;initAbilities(){this.addAbility(new ws(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Tropical Fish":class L4 extends p{logService;abilityService;name="Tropical Fish";tier=3;pack="Puppy";attack=3;health=3;initAbilities(){this.addAbility(new xs(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Hatching Chick":class E4 extends p{logService;abilityService;name="Hatching Chick";tier=3;pack="Puppy";attack=2;health=2;initAbilities(){this.addAbility(new Rs(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Owl:class C4 extends p{logService;abilityService;name="Owl";tier=3;pack="Puppy";attack=3;health=2;initAbilities(){this.addAbility(new Ls(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Mole:Qv,Pangolin:class F4 extends p{logService;abilityService;name="Pangolin";tier=3;pack="Puppy";attack=2;health=5;initAbilities(){this.addAbility(new Cs(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Puppy:class N4 extends p{logService;abilityService;name="Puppy";tier=4;pack="Puppy";attack=3;health=6;initAbilities(){this.addAbility(new Fs(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Purple Frog":class I4 extends p{logService;abilityService;name="Purple Frog";tier=3;pack="Puppy";attack=4;health=2;initAbilities(){this.addAbility(new Ns(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Hare:class M4 extends p{logService;abilityService;name="Hare";tier=3;pack="Puppy";health=4;attack=4;initAbilities(){this.addAbility(new Is(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Microbe:class $4 extends p{logService;abilityService;name="Microbe";tier=4;pack="Puppy";attack=4;health=1;initAbilities(){this.addAbility(new Ms(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Lobster:class B4 extends p{logService;abilityService;name="Lobster";tier=4;pack="Puppy";attack=3;health=3;initAbilities(){this.addAbility(new $s(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Buffalo:class q4 extends p{logService;abilityService;name="Buffalo";tier=4;pack="Puppy";attack=4;health=4;initAbilities(){this.addAbility(new Bs(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Llama:class G4 extends p{logService;abilityService;name="Llama";tier=4;pack="Puppy";attack=3;health=5;initAbilities(){this.addAbility(new qs(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Caterpillar:class H4 extends p{logService;abilityService;name="Caterpillar";tier=4;pack="Puppy";attack=1;health=1;initAbilities(){this.addAbility(new Hs(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Doberman:class D4 extends p{logService;abilityService;name="Doberman";tier=4;pack="Puppy";attack=1;health=4;initAbilities(){this.addAbility(new Ds(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Tahr:class O4 extends p{logService;abilityService;name="Tahr";tier=4;pack="Puppy";attack=5;health=3;initAbilities(){this.addAbility(new Os(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Whale Shark":class W4 extends p{logService;abilityService;name="Whale Shark";tier=4;pack="Puppy";attack=2;health=6;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}initAbilities(){this.addAbility(new Ws(this,this.logService,this.abilityService)),super.initAbilities()}},Chameleon:class j4 extends p{logService;abilityService;name="Chameleon";tier=4;pack="Puppy";attack=3;health=5;toyService;equipmentService;initAbilities(){this.addAbility(new js(this,this.logService,this.abilityService,this.equipmentService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u,g){super(e,t,i),this.logService=e,this.abilityService=t,this.toyService=u,this.equipmentService=g,this.initPet(l,r,n,a,o,c)}},Gharial:class U4 extends p{logService;abilityService;name="Gharial";tier=3;pack="Puppy";attack=5;health=2;initAbilities(){this.addAbility(new Us(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Stonefish:class _4 extends p{logService;abilityService;name="Stonefish";tier=5;pack="Puppy";attack=7;health=4;initAbilities(){this.addAbility(new _s(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Goat:class Y4 extends p{logService;abilityService;name="Goat";tier=5;pack="Puppy";attack=4;health=6;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Chicken:class V4 extends p{logService;abilityService;name="Chicken";tier=5;pack="Puppy";attack=3;health=4;initAbilities(){this.addAbility(new Vs(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Orchid Mantis":class K4 extends p{logService;abilityService;name="Orchid Mantis";tier=5;pack="Puppy";attack=8;health=4;initAbilities(){this.addAbility(new Ys(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Panther:class z4 extends p{logService;abilityService;name="Panther";tier=5;pack="Puppy";attack=3;health=5;initAbilities(){this.addAbility(new Js(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Axolotl:class Q4 extends p{logService;abilityService;name="Axolotl";tier=5;pack="Puppy";attack=2;health=5;initAbilities(){this.addAbility(new Zs(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Snapping Turtle":class J4 extends p{logService;abilityService;name="Snapping Turtle";tier=5;pack="Puppy";attack=4;health=5;initAbilities(){this.addAbility(new Xs(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Mosasaurus:class Z4 extends p{logService;abilityService;name="Mosasaurus";tier=5;pack="Puppy";attack=5;health=6;initAbilities(){this.addAbility(new el(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Sting Ray":class X4 extends p{logService;abilityService;name="Sting Ray";tier=5;pack="Puppy";attack=5;health=7;initAbilities(){this.addAbility(new tl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Mantis Shrimp":class eF extends p{logService;abilityService;name="Mantis Shrimp";tier=6;pack="Puppy";attack=9;health=3;initAbilities(){this.addAbility(new il(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Lionfish:class tF extends p{logService;abilityService;name="Lionfish";tier=6;pack="Puppy";attack=10;health=4;initAbilities(){this.addAbility(new rl(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Tyrannosaurus:class iF extends p{logService;abilityService;name="Tyrannosaurus";tier=6;pack="Puppy";attack=7;health=7;initAbilities(){this.addAbility(new al(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Octopus:class rF extends p{logService;abilityService;name="Octopus";tier=6;pack="Puppy";attack=8;health=8;initAbilities(){this.addAbility(new nl(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Anglerfish:class aF extends p{logService;abilityService;name="Anglerfish";tier=6;pack="Puppy";attack=7;health=4;initAbilities(){this.addAbility(new sl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Sauropod:class nF extends p{logService;abilityService;name="Sauropod";tier=6;pack="Puppy";attack=4;health=12;initAbilities(){this.addAbility(new ll(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Elephant Seal":class sF extends p{logService;abilityService;name="Elephant Seal";tier=6;pack="Puppy";attack=4;health=8;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}initAbilities(){this.addAbility(new ol(this,this.logService)),super.initAbilities()}},Puma:mr,Mongoose:class lF extends p{logService;abilityService;name="Mongoose";tier=6;pack="Puppy";attack=7;health=6;initAbilities(){this.addAbility(new cl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Eagle:Ks};class ul extends h{logService;abilityService;constructor(e,t,i){super({name:"PillbugAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} stocked ${i} free Sleeping Pill${1===i?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new ul(e,this.logService,this.abilityService)}}class Xv extends p{logService;abilityService;name="Summoned Cockroach";tier=1;pack="Star";attack=1;health=1;hidden=!0;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class hl extends h{logService;abilityService;constructor(e,t,i){super({name:"CockroachAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner,l=this.level,o=new Xv(this.logService,this.abilityService,a.parent,1,1,0,0);let c=a.parent.summonPet(o,a.savedPosition,!1,a);if(c.success){this.logService.createLog({message:`${a.name} summoned a 1/1 Cockroach.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:c.randomEvent});let u=a.parent.getSpecificPet(a,o);u.pet.increaseExp(l),this.logService.createLog({message:`${a.name} gave ${u.pet.name} +${l} exp.`,type:"ability",player:a.parent,tiger:r,randomEvent:u.random})}this.triggerTigerExecution(e)}copy(e){return new hl(e,this.logService,this.abilityService)}}class pl extends h{logService;constructor(e,t){super({name:"FrogAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>1===this.owner.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.nearestPetsAhead(1,a),o=a.parent.nearestPetsBehind(1,a);if(0===l.pets.length||0===o.pets.length)return;let c=l.pets[0],u=o.pets[0],g=c.attack,d=c.health,b=u.health;c.attack=u.attack,c.health=b,u.attack=g,u.health=d,this.logService.createLog({message:`${a.name} swapped the attack and health of ${c.name} and ${u.name}.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random||o.random}),this.triggerTigerExecution(e)}copy(e){return new pl(e,this.logService)}}class gl extends h{logService;abilityService;constructor(e,t,i){super({name:"HummingbirdAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getPetsWithEquipment("Strawberry"),o=a.parent.nearestPetsBehind(this.level,a,l);if(0!==o.pets.length){for(let c of o.pets)c.givePetEquipment(new Lt(this.logService)),this.logService.createLog({message:`${a.name} gave ${c.name} strawberry.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random});this.triggerTigerExecution(e)}}copy(e){return new gl(e,this.logService,this.abilityService)}}class dl extends h{logService;abilityService;constructor(e,t,i){super({name:"MarmosetAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} was sold and your ${1===i?"next roll is":`next ${i} rolls are`} free.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new dl(e,this.logService,this.abilityService)}}class ml extends h{logService;abilityService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t,i){super({name:"PheasantAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{triggerPet:i,tiger:r,pteranodon:n}=e,a=this.owner,l=ee(a,i);if(!l.pet)return;const o=l.pet;D(this.logService,a,`${a.name} gave ${o.name} a Strawberry.`,r,n,{randomEvent:l.random}),o.givePetEquipment(new Lt(this.logService)),this.triggerTigerExecution(e)}copy(e){return new ml(e,this.logService,this.abilityService)}}class bl extends h{logService;constructor(e,t){super({name:"KiwiAbility",owner:e,triggers:["ThisHurt","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.petArray.filter(g=>"Strawberry"!=g.equipment?.name||g==a),o=a.parent.getLastPet(l,a),c=o.pet;if(null==c)return;let u=this.level;c.increaseAttack(u),this.logService.createLog({message:`${a.name} gave ${c.name} +${u} attack`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new bl(e,this.logService)}}class yl extends h{logService;constructor(e,t){super({name:"ChihuahuaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner,l=a.parent.opponent,o=l.getHighestHealthPet(void 0,a),c=o.pet;if(c){const u=this.level;this.logService.createLog({message:`${a.name} pushed ${c.name} forward ${u} space(s).`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}),l.pushPet(c,u)}this.triggerTigerExecution(e)}copy(e){return new yl(e,this.logService)}}class vl extends h{logService;constructor(e,t){super({name:"FireflyAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.getPetsWithinXSpaces(a,this.level),o=l.pets;if(0!=o.length){for(const c of o)a.snipePet(c,1,l.random,r,n);this.triggerTigerExecution(e)}}copy(e){return new vl(e,this.logService)}}class Al extends h{logService;constructor(e,t){super({name:"IguanaAbility",owner:e,triggers:["EnemyPushed","EnemySummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;let l=a.parent.getSpecificPet(a,i),o=l.pet;null!=o&&o.alive&&(a.snipePet(o,2*this.level,l.random,r),this.triggerTigerExecution(e))}copy(e){return new Al(e,this.logService)}}class fl extends h{logService;constructor(e,t){super({name:"KoalaAbility",owner:e,triggers:["FriendHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>Oe(this.owner,i.triggerPet),abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;let l=Gt(a,i),o=l.pet;o&&(o.givePetEquipment(new Ii),this.logService.createLog({message:`${a.name} gave ${o.name} Eucalyptus perk.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e))}copy(e){return new fl(e,this.logService)}}class kl extends h{logService;abilityService;constructor(e,t,i){super({name:"DumboOctopusAbility",owner:e,triggers:["Roll3"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked a discounted food from the last 3 tiers (-${this.level} gold).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new kl(e,this.logService,this.abilityService)}}class Sl extends h{logService;constructor(e,t){super({name:"SalamanderAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.getThis(a),o=l.pet;if(null==o)return;let c=0;for(let u of a.parent.petArray)u.isSellPet()&&(c+=u.level*this.level);c>0&&(this.logService.createLog({message:`${a.name} gave ${o.name} ${c} attack and ${c} health from sell pets.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:l.random}),o.increaseAttack(c),o.increaseHealth(c)),this.triggerTigerExecution(e)}copy(e){return new Sl(e,this.logService)}}class eA extends p{logService;abilityService;name="Guinea Pig";tier=2;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new Pl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Pl extends h{logService;abilityService;constructor(e,t,i){super({name:"GuineaPigAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,r=this.level,n=new eA(this.logService,this.abilityService,t.parent,r,r,null,this.minExpForLevel),a=t.parent.summonPet(n,t.savedPosition,!1,t);a.success&&this.logService.createLog({message:`${t.name} summoned a ${r}/${r} Guinea Pig (level ${this.level}).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Pl(e,this.logService,this.abilityService)}}class Tl extends h{logService;constructor(e,t){super({name:"JellyfishAbility",owner:e,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getThis(a),o=l.pet;if(null==o)return;let c=this.level;o.increaseAttack(c),o.increaseHealth(c),this.logService.createLog({message:`${a.name} gave ${o.name} attack by ${c} and health by ${c}`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new Tl(e,this.logService)}}class wl extends h{logService;constructor(e,t){super({name:"DoveAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.petArray.filter(u=>u==a||"Strawberry"!=u.equipment?.name),o=a.parent.getRandomPets(3,l,null,null,a),c=o.pets;if(0!=c.length){for(let u of c){if("Strawberry"!=u.equipment?.name)continue;this.logService.createLog({message:`${a.name} activated ${u.name}'s Strawberry.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random,pteranodon:n});let d=u.parent.getLastPet(void 0,u).pet;if(!d)continue;let m=this.level+(d.equipment?.multiplier??1)-1;d.increaseAttack(m),d.increaseHealth(m),this.logService.createLog({message:`${u.name} gave ${d.name} ${m} attack ${m} health (Strawberry) (x${this.level} ${a.name}).`,type:"equipment",player:a.parent,tiger:r,pteranodon:n})}this.triggerTigerExecution(e)}}copy(e){return new wl(e,this.logService)}}class xl extends p{logService;abilityService;petService;name="Stork";tier=2;pack="Star";attack=3;health=1;initAbilities(){this.addAbility(new Rl(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class Rl extends h{logService;abilityService;petService;constructor(e,t,i,r){super({name:"StorkAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:n}=e,a=this.owner;let l=Math.max(1,t.previousShopTier-1);const o=y=>(y??[]).filter(v=>v&&a.name&&v.toLowerCase()!==a.name.toLowerCase());let c=o(this.petService.allPets.get(l));if(c.length||(c=o(this.petService.allPets.get(1))),!c.length)return void this.triggerTigerExecution(e);const u=L({key:"pet.stork-faint-summon",label:M(a,"Stork faint summon"),options:c.map(y=>({id:y,label:y}))},()=>S(0,c.length-1));let d=t.oldStork,m=this.petService.createPet({name:c[u.index],attack:d?null:2*this.level,equipment:null,exp:a.minExpForLevel,health:d?null:2*this.level,mana:0},a.parent);a.parent.summonPet(m,a.savedPosition,!1,a).success&&this.logService.createLog({message:`${a.name} spawned ${m.name} Level ${this.level}`,type:"ability",player:a.parent,tiger:r,randomEvent:u.randomEvent,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new Rl(e,this.logService,this.abilityService,this.petService)}}class Ll extends p{logService;abilityService;petService;name="Shima Enaga";tier=2;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new El(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class El extends h{logService;abilityService;petService;constructor(e,t,i,r){super({name:"ShimaEnagaAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,condition:n=>{const{triggerPet:a}=n;return a&&"Strawberry"==a.equipment?.name},abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;let l=2*this.level,o=this.petService.createPet({name:a.name,attack:l,health:l,equipment:null,exp:0,mana:0},a.parent);a.parent.summonPet(o,i.position,!1,a).success&&this.logService.createLog({message:`${a.name} summoned a (${l}/${l}) Shima Enaga`,type:"ability",player:a.parent,tiger:r,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new El(e,this.logService,this.abilityService,this.petService)}}class Cl extends h{logService;constructor(e,t){super({name:"BassAbility",owner:e,triggers:["Faint","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner,l=a.parent.petArray.filter(g=>g==a&&!g.isSellPet()&&g.level<2);let o=a.parent.getRandomPet(l,!0,null,null,a);const c=o.pet;if(null==c)return;const u=this.level;this.logService.createLog({message:`${a.name} gave ${c.name} +${u} experience.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:o.random}),c.increaseExp(u),this.triggerTigerExecution(e)}copy(e){return new Cl(e,this.logService)}}class Fl extends h{logService;constructor(e,t){super({name:"PugAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.nearestPetsAhead(1,a);if(0===l.pets.length)return;let o=l.pets[0],c=this.level;this.logService.createLog({message:`${a.name} gave ${o.name} ${c} exp.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),o.increaseExp(c),this.triggerTigerExecution(e)}copy(e){return new Fl(e,this.logService)}}class Nl extends h{logService;abilityService;constructor(e,t,i){super({name:"CardinalAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;let i=t.petAhead;for(;i;){const r=i.equipment;if(r&&!r.equipmentClass?.startsWith("ailment")){this.logService.createLog({message:`${t.name} stocked a discounted copy of ${r.name} (-${this.level} gold).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon});break}i=i.petAhead}this.triggerTigerExecution(e)}copy(e){return new Nl(e,this.logService,this.abilityService)}}class Il extends h{logService;abilityService;constructor(e,t,i){super({name:"LeechAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.petAhead;if(!i)return void this.triggerTigerExecution(e);const r=this.level,n=Math.min(r,i.health);t.dealDamage(i,r),t.increaseHealth(n),this.logService.createLog({message:`${t.name} dealt ${r} damage to ${i.name} and gained ${n} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Il(e,this.logService,this.abilityService)}}class tA extends p{logService;abilityService;name="Tuna";tier=3;pack="Star";attack=3;health=5;initAbilities(){this.addAbility(new Ml(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c),this.timesHurt=u??0,this.originalTimesHurt=this.timesHurt}}class Ml extends h{logService;timesHurtOverride;constructor(e,t,i){super({name:"TunaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.timesHurtOverride=i??null}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=this.timesHurtOverride??a.timesHurt;for(let o=0;o<l;o++){const c=a.parent.getRandomPet([a],!0,!1,!0,a);if(null==c.pet)continue;const u=this.level;this.logService.createLog({message:`${a.name} gave ${c.pet.name} +${u} attack and +${u} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:c.random}),c.pet.increaseAttack(u),c.pet.increaseHealth(u)}this.triggerTigerExecution(e)}copy(e){return new Ml(e,this.logService,this.timesHurtOverride??this.owner.timesHurt)}}class $l extends h{logService;reset(){this.maxUses=2*this.owner.level,super.reset()}constructor(e,t){super({name:"ToadAbility",owner:e,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2*e.level,condition:i=>{const{triggerPet:r}=i;return r&&r.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;let l=a.parent.getSpecificPet(a,i),o=l.pet;if("Weak"===o?.equipment?.name){let c=a.parent.getPetsWithEquipmentWithSillyFallback("Weak",a);l=a.parent.opponent.getRandomPet(c,null,!0,null,a),o=l.pet}null!=o&&(o.givePetEquipment(new ke),this.logService.createLog({message:`${a.name} gave ${o.name} Weak.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e))}copy(e){return new $l(e,this.logService)}}class Bl extends h{logService;abilityService;constructor(e,t,i){super({name:"CapybaraAbility",owner:e,triggers:["Roll","FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} gave newly rolled shop pets +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Bl(e,this.logService,this.abilityService)}}class ql extends h{logService;abilityService;usesThisTurn=0;pendingAttack=0;pendingHealth=0;maxUsesPerTurn=5;constructor(e,t,i){super({name:"OkapiAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return(this.pendingAttack||this.pendingHealth)&&(t.increaseAttack(-this.pendingAttack),t.increaseHealth(-this.pendingHealth)),this.pendingAttack=0,this.pendingHealth=0,this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const i=this.level;t.increaseAttack(i),t.increaseHealth(i),this.pendingAttack+=i,this.pendingHealth+=i,this.usesThisTurn++,this.logService.createLog({message:`${t.name} gained +${i}/+${i} until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new ql(e,this.logService,this.abilityService)}}class Gl extends h{logService;constructor(e,t){super({name:"CassowaryAbility",owner:e,triggers:["FriendlyGainedStrawberry"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner,l=this.level;let c=a.parent.getThis(a).pet;null!=c&&(this.logService.createLog({message:`${a.name} gave ${c.name} +${l} permanent health and +${l} attack for this battle.`,type:"ability",player:a.parent,tiger:r}),c.increaseHealth(l),c.increaseAttack(l),this.triggerTigerExecution(e))}copy(e){return new Gl(e,this.logService)}}class Hl extends h{logService;abilityService;constructor(e,t,i){super({name:"AnteaterAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;for(let l=0;l<this.level;l++){let o=new la(this.logService,this.abilityService,a.parent,1,1,0,5),c=a.parent.summonPet(o,a.savedPosition,!1,a);c.success&&this.logService.createLog({message:`${a.name} spawned 1/1 Ant level 3`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:c.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Hl(e,this.logService,this.abilityService)}}class iA extends p{logService;abilityService;name="Orangutan";tier=3;pack="Star";attack=1;health=4;initAbilities(){this.addAbility(new Dl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Dl extends h{logService;abilityService;constructor(e,t,i){super({name:"OrangutanAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.getLowestHealthPet(t),r=i.pet;if(!r)return void this.triggerTigerExecution(e);const n=3*this.level;r.increaseHealth(n),this.logService.createLog({message:`${t.name} gave ${r.name} +${n} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new Dl(e,this.logService,this.abilityService)}}class Ol extends h{logService;constructor(e,t){super({name:"ClownfishAbility",owner:e,triggers:["FriendlyLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,precondition:i=>{const{triggerPet:r}=i,l=C(this.owner,r).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;let l=C(a,i),o=l.pet;if(null==o)return;let c=2*this.level;o.increaseAttack(c),o.increaseHealth(c),this.logService.createLog({message:`${a.name} gave ${o.name} ${c} attack and ${c} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new Ol(e,this.logService)}}class Wl extends h{logService;abilityService;constructor(e,t,i){super({name:"SiameseAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=De(t);if(0===i.length)return void this.triggerTigerExecution(e);const n=this.level,a=!0===e.discountedFood||!0===e.shopDiscountedFood?this.level:0;for(const l of i)l.increaseAttack(n),a>0&&l.increaseHealth(a);this.logService.createLog({message:`${t.name} gave adjacent friends +${n} attack${a>0?` and +${a} health`:""}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.length>1}),this.triggerTigerExecution(e)}copy(e){return new Wl(e,this.logService,this.abilityService)}}class jl extends h{logService;abilityService;constructor(e,t,i){super({name:"ElkAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(l=>l.alive&&l.isSellPet());if(0===i.length)return void this.triggerTigerExecution(e);const r=L({key:"pet.elk-end-turn-target",label:M(t,"Elk end turn sell target"),options:i.map(l=>({id:`${l.savedPosition+1}:${l.name}`,label:`P${l.savedPosition+1} ${l.name}`}))},()=>S(0,i.length-1)),n=i[r.index],a=2*this.level;n.increaseSellValue(a),this.logService.createLog({message:`${t.name} increased ${n.name}'s sell value by ${a}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:r.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new jl(e,this.logService,this.abilityService)}}class qi extends h{constructor(e){super({name:"FairyAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:t=>{this.executeAbility(t)}})}executeAbility(e){}copy(e){return new qi(e)}}class rA extends p{logService;abilityService;name="Fairy Ball";tier=1;pack="Star";attack=2;health=6;hidden=!0;initAbilities(){this.addAbility(new qi(this)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Ul extends h{logService;abilityService;constructor(e,t,i){super({name:"FairyArmadilloAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,a=this.owner,l=2*this.level,o=a.parent.getThis(a),c=o.pet;if(null==c)return;c.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${c.name} ${l} permanent health and transforms into a protected ball!`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random});const g=a.parent.getThis(a).pet;if(null==g)return;const d=new rA(this.logService,this.abilityService,g.parent,g.health,g.attack,g.mana,g.exp,g.equipment);g.parent.transformPet(g,d),this.triggerTigerExecution(e)}copy(e){return new Ul(e,this.logService,this.abilityService)}}class _l extends h{logService;constructor(e,t){super({name:"FossaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:r}=e,a=this.owner,o=a.parent===t.player?t.playerRollAmount:t.opponentRollAmount;if(o<=0)return;const c=this.level*o;let g=a.parent.opponent.getFurthestUpPets(2,void 0,a).pets;if(0!=g.length){for(let d of g)this.logService.createLog({message:`${a.name} removed ${c} health from ${d.name}.`,type:"ability",player:a.parent,tiger:r}),d.increaseHealth(-c);this.triggerTigerExecution(e)}}copy(e){return new _l(e,this.logService)}}class Vl extends h{logService;constructor(e,t){super({name:"HawkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getOppositeEnemyPet(a),o=l.pet;o&&a.snipePet(o,7*this.level,l.random,r),this.triggerTigerExecution(e)}copy(e){return new Vl(e,this.logService)}}class Kl extends h{logService;abilityService;constructor(e,t,i){super({name:"PlatypusAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=3*this.level,o=2*this.level,c=new sv(this.logService,this.abilityService,a.parent,o,l,0,this.minExpForLevel),u=new lv(this.logService,this.abilityService,a.parent,o,l,0,this.minExpForLevel),g=a.parent.summonPet(c,a.savedPosition,!1,a);g.success&&this.logService.createLog({message:`${a.name} spawned ${l}/${o} Duck level ${this.level}`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:g.randomEvent});let d=a.parent.summonPet(u,a.savedPosition,!1,a);d.success&&this.logService.createLog({message:`${a.name} spawned ${l}/${o} Beaver level ${this.level}`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:d.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Kl(e,this.logService,this.abilityService)}}class zl extends h{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"DonkeyAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.opponent,o=l.getLastPet();null!=o.pet&&(l.pushPet(o.pet,o.pet.position),o.pet.increaseAttack(-3),this.logService.createLog({message:`${a.name} pushed ${o.pet.name} to the front and removed 3 attack.`,type:"ability",player:a.parent,tiger:r}),this.triggerTigerExecution(e))}copy(e){return new zl(e,this.logService)}}class Ql extends h{logService;abilityService;constructor(e,t,i){super({name:"SparrowAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new Ql(e,this.logService,this.abilityService)}}class Yl extends h{logService;constructor(e,t){super({name:"BlobfishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.nearestPetsBehind(2,a),o=l.pets;for(let c of o){let u=this.level;this.logService.createLog({message:`${a.name} gave ${c.name} ${u} exp.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),c.increaseExp(u)}this.triggerTigerExecution(e)}copy(e){return new Yl(e,this.logService)}}class Jl extends h{logService;constructor(e,t){super({name:"WoodpeckerAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=2*this.level;for(let o=0;o<l;o++){let c=a.parent.nearestPetsAhead(2,a,null,!0),u=c.pets;for(let g of u){let d=1;g.parent!=this.owner.parent&&(d*=2),a.snipePet(g,d,c.random,r)}}this.triggerTigerExecution(e)}copy(e){return new Jl(e,this.logService)}}class Zl extends h{logService;abilityService;constructor(e,t,i){super({name:"StarfishAbility",owner:e,triggers:["FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=e.triggerPet;if(!i||3!==i.level)return void this.triggerTigerExecution(e);const r=i.attack>=10?3:1,n=this.level*r,a=t.parent.petArray.filter(l=>l.alive);for(const l of a)l.increaseAttack(n),l.increaseHealth(n);this.logService.createLog({message:`${t.name} gave friends +${n}/+${n}${r>1?" (triple bonus)":""}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Zl(e,this.logService,this.abilityService)}}class Xl extends p{logService;abilityService;petService;name="Pelican";tier=5;pack="Star";attack=5;health=5;initAbilities(){this.addAbility(new to(this,this.logService,this.petService)),this.addAbility(new eo(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class eo extends h{logService;abilityService;constructor(e,t,i){super({name:"PelicanFaintAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)},ignoreRepeats:!0}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;for(;a.swallowedPets.length>0;){let l=a.swallowedPets.shift(),o=a.parent.summonPet(l,a.savedPosition,!1,a);o.success&&this.logService.createLog({message:`${a.name} summoned ${l.name} (level ${l.level}).`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:o.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new eo(e,this.logService,this.abilityService)}}class to extends h{logService;petService;constructor(e,t,i){super({name:"PelicanStartAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getPetsWithoutEquipment("Strawberry"),o=a.parent.nearestPetsAhead(this.level,a,l),c=o.pets;if(0!=c.length){for(let u of c){let g=this.petService.createPet({name:"Salmon",attack:u.attack,health:u.health,exp:u.exp,equipment:null,mana:0},a.parent);a.swallowedPets.push(g),u.health=0,this.logService.createLog({message:`${a.name} swallowed ${u.name}`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random})}this.triggerTigerExecution(e)}}copy(e){return new to(e,this.logService,this.petService)}}class io extends h{logService;constructor(e,t){super({name:"SwordFishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=r.parent.opponent.getHighestHealthPet(void 0,r),l=a.pet,o=r.attack*this.level;l?(r.snipePet(l,o,a.random,t,i),this.logService.createLog({message:`${r.name} deals ${o} damage to ${l.name}.`,type:"ability",player:r.parent,sourcePet:r,targetPet:l,tiger:t,pteranodon:i,randomEvent:a.random})):this.logService.createLog({message:`${r.name} could not find an enemy to attack.`,type:"ability",player:r.parent,sourcePet:r,tiger:t,pteranodon:i}),r.snipePet(r,o,!1,t,i),this.logService.createLog({message:`${r.name} deals ${o} damage to itself.`,type:"ability",player:r.parent,sourcePet:r,targetPet:r,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new io(e,this.logService)}}class ro extends h{logService;constructor(e,t){super({name:"TriceratopsAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getRandomPet([a],!0,!1,!0,a),o=3*this.level;null!=l.pet&&(l.pet.increaseAttack(o),l.pet.increaseHealth(o),this.logService.createLog({message:`${a.name} gave ${l.pet.name} ${o} attack and ${o} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e))}copy(e){return new ro(e,this.logService)}}class ao extends h{logService;abilityService;usesThisTurn=0;constructor(e,t,i){super({name:"HamsterAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=2*this.level)return void this.triggerTigerExecution(e);this.usesThisTurn++;const i=this.owner;this.logService.createLog({message:`${i.name} gained a free roll.`,type:"ability",player:i.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new ao(e,this.logService,this.abilityService)}}class no extends h{logService;abilityService;constructor(e,t,i){super({name:"ShoebillAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;let i=t.petAhead;for(;i;){if("Strawberry"===i.equipment?.name){const r=4*this.level;i.removePerk(),i.increaseAttack(r),i.increaseHealth(r),this.logService.createLog({message:`${t.name} replaced Strawberry on ${i.name} with +${r}/+${r}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon});break}i=i.petAhead}this.triggerTigerExecution(e)}copy(e){return new no(e,this.logService,this.abilityService)}}class so extends h{logService;abilityService;constructor(e,t,i){super({name:"VultureAbility",owner:e,triggers:["PostRemovalFriendFaints2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,a=this.owner;let o=a.parent.opponent.getRandomPet([],!1,!0,!1,a);if(null==o.pet)return;let c=4*this.level;a.snipePet(o.pet,c,o.random,r),this.logService.createLog({message:`${a.name} sniped ${o.pet.name} for ${c} after a friend died.`,type:"ability",player:a.parent,tiger:r}),this.triggerTigerExecution(e)}copy(e){return new so(e,this.logService,this.abilityService)}}class lo extends h{logService;affectedEnemies=new Set;reset(){this.maxUses=this.level,this.affectedEnemies=new Set,super.reset()}constructor(e,t){super({name:"IbexAbility",owner:e,triggers:["EnemyHurt","EnemyPushed"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>{const{triggerPet:r}=i;return r&&r.alive&&!this.affectedEnemies.has(r)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;let l=a.parent.getSpecificPet(a,i),o=l.pet;if(null==o)return;let c=Math.floor(.7*i.health);o.increaseHealth(-c),this.affectedEnemies.add(o),this.logService.createLog({message:`${a.name} removed ${c} health from ${i.name} (70%)`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new lo(e,this.logService)}}class oo extends h{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=4;constructor(e,t,i){super({name:"OstrichAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const t=e.shopPets,r=e.shopPetTiers??t?.map(c=>"number"==typeof c?.tier?c.tier:null);if(!r||r.length<4)return void this.triggerTigerExecution(e);const n=r[0];if(null==n||!r.slice(0,4).every(c=>c===n))return void this.triggerTigerExecution(e);this.usesThisTurn++;const a=this.owner,l=2*this.level,o=a.parent.petArray.filter(c=>c.alive);for(const c of o)c.increaseHealth(l);this.logService.createLog({message:`${a.name} re-rolled the shop and gave friends +${l} health.`,type:"ability",player:a.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new oo(e,this.logService,this.abilityService)}}class co extends h{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"ReindeerAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getThis(a),o=l.pet;null!=o&&(o.givePetEquipment(new ye),this.logService.createLog({message:`${a.name} gave ${o.name} Melon.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e))}copy(e){return new co(e,this.logService)}}class uo extends h{logService;constructor(e,t){super({name:"PiranhaAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getAll(!1,a,!0),o=l.pets,c=3*this.level;for(let u of o)u.increaseAttack(c),this.logService.createLog({message:`${a.name} gave ${u.name} ${c} attack.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random});this.triggerTigerExecution(e)}copy(e){return new uo(e,this.logService)}}class ho extends h{logService;friendAppliedThisTurn=new Set;reset(){this.maxUses=this.level,this.friendAppliedThisTurn=new Set,super.reset()}constructor(e,t){super({name:"RealVelociraptorAbility",owner:e,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>{const{triggerPet:r}=i,n=this.owner;if(!r||!r.lastLostEquipment||!Oe(n,r,{excludeOwner:!0}))return!1;const l=C(n,r).pet;return!!l&&!this.friendAppliedThisTurn.has(l)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;let l=this.createEquipmentInstance(i.lastLostEquipment);if(l){let o=C(a,i),c=o.pet;if(null==c)return;c.givePetEquipment(l),this.logService.createLog({message:`${a.name} returned ${l.name} to ${c.name}.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}),this.friendAppliedThisTurn.add(c)}this.triggerTigerExecution(e)}createEquipmentInstance(e){return e?we(e):null}copy(e){return new ho(e,this.logService)}}class Gi extends p{logService;abilityService;petService;name="Sabertooth Tiger";tier=6;pack="Star";attack=4;health=5;initAbilities(){this.addAbility(new po(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}resetPet(){super.resetPet()}constructor(e,t,i,r,n,a,l,o,c,u,g){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u),this.timesHurt=g??0,this.originalTimesHurt=this.timesHurt}}class po extends h{logService;abilityService;petService;timesHurtOverride;constructor(e,t,i,r,n){super({name:"SabertoothTigerAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:a=>{this.executeAbility(a)}}),this.logService=t,this.abilityService=i,this.petService=r,this.timesHurtOverride=n??null}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=this.timesHurtOverride??a.timesHurt;if(l>0)for(let o=0;o<this.level;o++){let c=Math.min(2*l,50),u=Math.min(3*l,50),g=this.petService.createPet({name:"Mammoth",attack:c,health:u,equipment:null,mana:0,exp:0},a.parent),d=a.parent.summonPet(g,a.savedPosition,!1,a);d.success&&this.logService.createLog({message:`${a.name} summoned ${g.name} (${c}/${u}).`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:d.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new po(e,this.logService,this.abilityService,this.petService,this.timesHurtOverride??this.owner.timesHurt)}}class go extends p{logService;abilityService;petService;name="Orca";tier=6;pack="Star";attack=5;health=7;initAbilities(){this.addAbility(new mo(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class mo extends h{logService;abilityService;petService;constructor(e,t,i,r){super({name:"OrcaAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;for(let l=0;l<this.level;l++){let o=this.petService.getRandomFaintPet(a.parent,void 0,[a.name,"Quetzalcoatlus"],a);o.attack=6,o.health=6,a.parent.summonPet(o,a.savedPosition,!1,a).success&&this.logService.createLog({message:`${a.name} spawned a 6/6 ${o.name}.`,type:"ability",player:a.parent,tiger:r,randomEvent:!0,pteranodon:n})}this.triggerTigerExecution(e)}copy(e){return new mo(e,this.logService,this.abilityService,this.petService)}}class bo extends h{logService;constructor(e,t){super({name:"SpinosaurusAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l={attack:2*this.level,health:3*this.level},o=a.parent.getRandomPet([a],!0,!1,!0,a);null!=o.pet&&(o.pet.increaseAttack(l.attack),o.pet.increaseHealth(l.health),this.logService.createLog({message:`${a.name} gave ${o.pet.name} ${l.attack} attack and ${l.health} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e))}copy(e){return new bo(e,this.logService)}}function aA(s,e,t,i,r={}){s.createLog({message:i,type:"ability",player:e.parent,tiger:t.tiger,pteranodon:t.pteranodon,...r})}function yo(s){s.amount<=0||(aA(s.logService,s.owner,s.context,s.message??`${s.owner.name} gave ${s.target.name} +${s.amount} experience.`,s.extras),s.target.increaseExp(s.amount))}class nA extends p{logService;abilityService;name="Alpaca";tier=6;pack="Star";attack=3;health=7;initAbilities(){this.addAbility(new vo(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class vo extends h{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"AlpacaAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>{const{triggerPet:r}=i;return r&&!(r instanceof nA)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,a=this.owner,l=ee(a,i);l.pet&&(yo({logService:this.logService,owner:a,context:e,target:l.pet,amount:3,extras:{randomEvent:l.random}}),this.triggerTigerExecution(e))}copy(e){return new vo(e,this.logService)}}class Ao extends h{logService;constructor(e,t){super({name:"VelociraptorAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l;for(let c=a.parent.petArray.indexOf(a)-1;c>=0;c--){let u=a.parent.petArray[c];if(u.alive&&u.equipment&&"Strawberry"===u.equipment.name){l=u;break}}if(l){if(l&&l.equipment&&"Strawberry"===l.equipment.name){l.removePerk(),this.logService.createLog({message:`${a.name} removed Strawberry from ${l.name}`,type:"ability",player:a.parent,tiger:r});let c=2*this.level,u=3*this.level,g=a.parent.getAll(!1,a,!0),d=g.pets;for(let m of d)m.increaseAttack(c),m.increaseHealth(u),this.logService.createLog({message:`${a.name} gave ${m.name} +${c} attack and +${u} health`,type:"ability",player:a.parent,tiger:r,randomEvent:g.random})}this.triggerTigerExecution(e)}}copy(e){return new Ao(e,this.logService)}}class fo extends p{logService;abilityService;petService;name="Ammonite";tier=6;pack="Star";attack=5;health=3;initAbilities(){this.addAbility(new ko(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class ko extends h{logService;petService;constructor(e,t,i){super({name:"AmmoniteAbility",owner:e,triggers:["Faint"],abilityType:"Pet",abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.petService=i}executeAbility(e){const{gameApi:t}=e,a=this.owner;let l=a.parent.nearestPetsBehind(1,a);if(0===l.pets.length)return;let o=l.pets[0],u=Math.floor((a.parent===t.player?t.playerRollAmount:t.opponentRollAmount)/2)*this.level,g=this.petService.createPet({name:"Mimic Octopus",attack:o.attack,health:o.health,equipment:o.equipment,mana:o.mana,exp:null},a.parent);!function rN(s){aA(s.logService,s.owner,s.context,s.message,s.extras),s.owner.parent.transformPet(s.fromPet,s.toPet)}({logService:this.logService,owner:a,context:e,fromPet:o,toPet:g,message:`${a.name} transformed ${o.name} into ${g.name}`,extras:{randomEvent:l.random}});let d=a.parent.getSpecificPet(a,g),m=d.pet;null!=m&&(yo({logService:this.logService,owner:a,context:e,target:m,amount:u,extras:{randomEvent:d.random}}),this.triggerTigerExecution(e))}copy(e){return new ko(e,this.logService,this.petService)}}const nN={Pillbug:class cF extends p{logService;abilityService;name="Pillbug";tier=1;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new ul(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Cockroach:class uF extends p{logService;abilityService;name="Cockroach";tier=1;pack="Star";attack=1;health=1;initAbilities(){this.addAbility(new hl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Frog:class hF extends p{logService;abilityService;name="Frog";tier=1;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new pl(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Hummingbird:class pF extends p{logService;abilityService;name="Hummingbird";tier=1;pack="Star";attack=3;health=1;initAbilities(){this.addAbility(new gl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Marmoset:class gF extends p{logService;abilityService;name="Marmoset";tier=1;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new dl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Pheasant:class dF extends p{logService;abilityService;name="Pheasant";tier=1;pack="Star";attack=2;health=1;initAbilities(){this.addAbility(new ml(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Kiwi:class mF extends p{logService;abilityService;name="Kiwi";tier=1;pack="Star";attack=1;health=4;initAbilities(){this.addAbility(new bl(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Chihuahua:class bF extends p{logService;abilityService;name="Chihuahua";tier=1;pack="Star";attack=4;health=1;initAbilities(){this.addAbility(new yl(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Firefly:class yF extends p{logService;abilityService;name="Firefly";tier=1;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new vl(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Koala:class AF extends p{logService;abilityService;name="Koala";tier=2;pack="Star";attack=4;health=2;initAbilities(){this.addAbility(new fl(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Salamander:class kF extends p{logService;abilityService;name="Salamander";tier=2;pack="Star";attack=1;health=2;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}initAbilities(){this.addAbility(new Sl(this,this.logService)),super.initAbilities()}},"Guinea Pig":eA,Jellyfish:class SF extends p{logService;abilityService;name="Jellyfish";tier=2;pack="Star";attack=3;health=3;initAbilities(){this.addAbility(new Tl(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Dove:class PF extends p{logService;abilityService;name="Dove";tier=2;pack="Star";attack=3;health=1;initAbilities(){this.addAbility(new wl(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Dumbo Octopus":class fF extends p{logService;abilityService;name="Dumbo Octopus";tier=2;pack="Star";health=5;attack=2;initAbilities(){this.addAbility(new kl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Bass:class TF extends p{logService;abilityService;name="Bass";tier=2;pack="Star";attack=3;health=3;initAbilities(){this.addAbility(new Cl(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Leech:class RF extends p{logService;abilityService;name="Leech";tier=3;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new Il(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Woodpecker:class UF extends p{logService;abilityService;name="Woodpecker";tier=5;pack="Star";attack=6;health=5;initAbilities(){this.addAbility(new Jl(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Toad:class LF extends p{logService;abilityService;name="Toad";tier=3;pack="Star";attack=3;health=3;initAbilities(){this.addAbility(new $l(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Starfish:class _F extends p{logService;abilityService;name="Starfish";tier=5;pack="Star";attack=3;health=7;initAbilities(){this.addAbility(new Zl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Clownfish:class IF extends p{logService;abilityService;name="Clownfish";tier=4;pack="Star";attack=3;health=4;initAbilities(){this.addAbility(new Ol(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Blobfish:class jF extends p{logService;abilityService;name="Blobfish";tier=5;pack="Star";attack=2;health=10;initAbilities(){this.addAbility(new Yl(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Capybara:class EF extends p{logService;abilityService;name="Capybara";tier=3;pack="Star";attack=2;health=6;initAbilities(){this.addAbility(new Bl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Okapi:class CF extends p{logService;abilityService;name="Okapi";tier=3;pack="Star";attack=2;health=3;initAbilities(){this.addAbility(new ql(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Cassowary:class FF extends p{logService;abilityService;name="Cassowary";tier=3;pack="Star";attack=5;health=2;initAbilities(){this.addAbility(new Gl(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Anteater:class NF extends p{logService;abilityService;name="Anteater";tier=3;pack="Star";attack=2;health=2;initAbilities(){this.addAbility(new Hl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Orangutan:iA,Hawk:class HF extends p{logService;abilityService;name="Hawk";tier=4;pack="Star";attack=5;health=4;initAbilities(){this.addAbility(new Vl(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Platypus:class DF extends p{logService;abilityService;name="Platypus";tier=4;pack="Star";attack=2;health=2;initAbilities(){this.addAbility(new Kl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Praying Mantis":Jv,Donkey:class OF extends p{logService;abilityService;name="Donkey";tier=4;pack="Star";attack=4;health=6;initAbilities(){this.addAbility(new zl(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Fairy Armadillo":class qF extends p{logService;abilityService;name="Fairy Armadillo";tier=4;pack="Star";attack=2;health=6;initAbilities(){this.addAbility(new Ul(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Fossa:class GF extends p{logService;abilityService;name="Fossa";tier=4;pack="Star";attack=6;health=5;initAbilities(){this.addAbility(new _l(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Siamese:class MF extends p{logService;abilityService;name="Siamese";tier=4;pack="Star";health=5;attack=2;initAbilities(){this.addAbility(new Wl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Elk:class $F extends p{logService;abilityService;name="Elk";tier=4;pack="Star";attack=2;health=6;initAbilities(){this.addAbility(new jl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Sparrow:class WF extends p{logService;abilityService;name="Sparrow";tier=4;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new Ql(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Swordfish:class VF extends p{logService;abilityService;name="Swordfish";tier=5;pack="Star";attack=6;health=9;initAbilities(){this.addAbility(new io(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Triceratops:class KF extends p{logService;abilityService;name="Triceratops";tier=5;pack="Star";attack=5;health=6;initAbilities(){this.addAbility(new ro(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Hamster:class zF extends p{logService;abilityService;name="Hamster";tier=5;pack="Star";attack=4;health=4;initAbilities(){this.addAbility(new ao(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Shoebill:class QF extends p{logService;abilityService;name="Shoebill";tier=5;pack="Star";attack=3;health=6;initAbilities(){this.addAbility(new no(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Vulture:class YF extends p{logService;abilityService;name="Vulture";tier=5;pack="Star";attack=4;health=5;initAbilities(){this.addAbility(new so(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Ibex:class JF extends p{logService;abilityService;name="Ibex";tier=5;pack="Star";attack=6;health=7;initAbilities(){this.addAbility(new lo(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Ostrich:class ZF extends p{logService;abilityService;name="Ostrich";tier=6;pack="Star";attack=6;health=7;initAbilities(){this.addAbility(new oo(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Reindeer:class XF extends p{logService;abilityService;name="Reindeer";tier=6;pack="Star";attack=9;health=6;initAbilities(){this.addAbility(new co(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Piranha:class eN extends p{logService;abilityService;name="Piranha";tier=6;pack="Star";attack=10;health=4;initAbilities(){this.addAbility(new uo(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Real Velociraptor":class tN extends p{logService;abilityService;name="Real Velociraptor";tier=6;pack="Star";attack=6;health=5;initAbilities(){this.addAbility(new ho(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Spinosaurus:class iN extends p{logService;abilityService;name="Spinosaurus";tier=6;pack="Star";attack=4;health=4;initAbilities(){this.addAbility(new bo(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Alpaca:nA,Velociraptor:class aN extends p{logService;abilityService;name="Velociraptor";tier=6;pack="Star";attack=3;health=6;initAbilities(){this.addAbility(new Ao(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Ammonite:fo,Cardinal:class xF extends p{logService;abilityService;name="Cardinal";tier=3;pack="Star";health=3;attack=4;initAbilities(){this.addAbility(new Nl(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Orca:go,Pelican:Xl,"Sabertooth Tiger":Gi,"Shima Enaga":Ll,Stork:xl,Tuna:tA,Iguana:class vF extends p{logService;abilityService;name="Iguana";tier=2;pack="Star";attack=2;health=4;initAbilities(){this.addAbility(new Al(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Pug:class wF extends p{logService;abilityService;name="Pug";tier=3;pack="Star";attack=5;health=2;initAbilities(){this.addAbility(new Fl(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}};class So extends h{logService;constructor(e,t){super({name:"BulldogAbility",owner:e,triggers:["ThisFirstAttack"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>this.owner.timesAttacked<=1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=2*this.level,o=a.parent.getThis(a),c=o.pet;null!=c&&(c.increaseAttack(l),this.logService.createLog({message:`${a.name} gained +${l} attack.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e))}copy(e){return new So(e,this.logService)}}class sA extends p{logService;abilityService;name="Groundhog";tier=1;pack="Golden";attack=2;health=1;initAbilities(){this.addAbility(new Po(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Po extends h{logService;constructor(e,t){super({name:"GroundhogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:n}=e,a=this.owner,l=a.parent.resolveTrumpetGainTarget(a);l.player.gainTrumpets(this.level,a,n,void 0,void 0,l.random),this.triggerTigerExecution(e)}copy(e){return new Po(e,this.logService)}}class To extends h{logService;constructor(e,t){super({name:"ConeSnailAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.nearestPetsBehind(1,a);if(0===l.pets.length)return;let o=l.pets[0],c=2*this.level;o.increaseHealth(c),this.logService.createLog({message:`${a.name} gave ${o.name} ${c} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new To(e,this.logService)}}class wo extends h{logService;constructor(e,t){super({name:"GooseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.opponent.getFurthestUpPet(a),o=l.pet;if(null==o)return;let c=this.level;o.increaseAttack(-this.level),this.logService.createLog({message:`${a.name} removed ${c} attack from ${o.name}.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new wo(e,this.logService)}}class xo extends h{logService;constructor(e,t){super({name:"PiedTamarinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>this.owner.parent.trumpets>=1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.getRandomEnemyPetsWithSillyFallback(this.level,null,null,!0,a);for(let o of l.pets)null!=o&&a.snipePet(o,3,l.random,r,n);l.pets.length>0&&a.parent.spendTrumpets(1,a,n),this.triggerTigerExecution(e)}copy(e){return new xo(e,this.logService)}}class Ro extends h{logService;constructor(e,t){super({name:"SilkmothAbility",owner:e,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,precondition:i=>{const{triggerPet:r}=i,l=C(this.owner,r).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;let l=C(a,i),o=l.pet;if(null==o)return;let c=this.level;o.increaseHealth(c),this.logService.createLog({message:`${a.name} gave ${o.name} ${c} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new Ro(e,this.logService)}}class Lo extends h{logService;abilityService;constructor(e,t,i){super({name:"LemmingAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} will give +${this.level} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Lo(e,this.logService,this.abilityService)}}class Eo extends h{logService;abilityService;constructor(e,t,i){super({name:"MagpieAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} spent up to ${this.level} gold and will gain it back next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Eo(e,this.logService,this.abilityService)}}class Co extends h{logService;abilityService;constructor(e,t,i){super({name:"OpossumAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} gave a random faint pet in the shop +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Co(e,this.logService,this.abilityService)}}class Fo extends h{logService;abilityService;constructor(e,t,i){super({name:"HerculesBeetleAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=Math.max(0,t.battlesFought??0),r=i*this.level,n=t.parent.petArray.filter(o=>o.alive);if(r<=0||0===n.length)return void this.triggerTigerExecution(e);const a=Math.floor(r/n.length);let l=r%n.length;for(const o of n)a>0&&o.increaseAttack(a);if(l>0){const o=ge([...n]);for(let c=0;c<l&&c<o.length;c++)o[c].increaseAttack(1)}this.logService.createLog({message:`${t.name} gave friends +${r} attack split evenly after ${i} battle${1===i?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.length>1}),this.triggerTigerExecution(e)}copy(e){return new Fo(e,this.logService,this.abilityService)}}class No extends p{logService;abilityService;petService;name="Stoat";tier=2;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new Io(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class Io extends h{logService;abilityService;petService;constructor(e,t,i,r){super({name:"StoatAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const t=this.owner,{gameApi:i}=e,r=Math.max(1,i.previousShopTier??t.tier),n=this.petService.allPets.get(r)??[];if(!n.length)return void this.triggerTigerExecution(e);const a=L({key:"pet.stoat-summon",label:M(t,"Stoat summon"),options:n.map(g=>({id:g,label:g}))},()=>S(0,n.length-1)),c=this.petService.createPet({name:n[a.index],attack:1,health:1,equipment:null,exp:this.minExpForLevel,mana:0},t.parent);t.parent.summonPet(c,t.savedPosition,!1,t).success&&this.logService.createLog({message:`${t.name} summoned a 1/1 level ${this.level} ${c.name}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Io(e,this.logService,this.abilityService,this.petService)}}class Mo extends h{logService;constructor(e,t){super({name:"BlackNeckedStiltAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:n}=e,a=this.owner;let l=2*this.level;const o=a.parent.resolveTrumpetGainTarget(a);o.player.gainTrumpets(l,a,n,void 0,void 0,o.random),this.triggerTigerExecution(e)}copy(e){return new Mo(e,this.logService)}}class $o extends h{logService;constructor(e,t){super({name:"SquidAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>!(this.owner.parent.trumpets<1),abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=!1,o=a.parent.getPetsWithEquipmentWithSillyFallback("Inked",a),c=a.parent.opponent.getFurthestUpPets(this.level,o,a),u=c.pets;for(let g of u){if(null==g)break;l=!0,g.givePetEquipment(new $i),this.logService.createLog({message:`${a.name} gave ${g.name} Inked.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:c.random})}l&&a.parent.spendTrumpets(1,a,n),this.triggerTigerExecution(e)}copy(e){return new $o(e,this.logService)}}class Bo extends h{logService;constructor(e,t){super({name:"SeaUrchinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.opponent.getFurthestUpPet(a),o=[l.pet],c=l.random;if(null!=o[0]){for(let u=0;u<this.level-1;u++){let g;if(g=c?a.parent.opponent.getFurthestUpPet(a).pet:o[u].petBehind(),null==g)break;o.push(g)}for(let u of o)null!=u&&(u.increaseHealth(-5),this.logService.createLog({message:`${a.name} removed 5 health from ${u.name}.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:c}));this.triggerTigerExecution(e)}}copy(e){return new Bo(e,this.logService)}}class qo extends h{logService;constructor(e,t){super({name:"DoorHeadAntAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.getThis(a),o=l.pet;if(null==o)return;a.parent.pushPetToFront(o,!0),this.logService.createLog({message:`${a.name} pushed ${o.name} to the front.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:l.random});let c=4*this.level,u=a.parent.getThis(a),g=u.pet;null!=g&&(g.increaseHealth(c),this.logService.createLog({message:`${a.name} gained ${c} health.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:u.random}),this.triggerTigerExecution(e))}copy(e){return new qo(e,this.logService)}}class lA extends p{logService;abilityService;name="Lizard Tail";tier=1;pack="Golden";hidden=!0;attack=3;health=1;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Go extends h{logService;abilityService;constructor(e,t,i){super({name:"LizardAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=new lA(this.logService,this.abilityService,a.parent,null,null,0,a.minExpForLevel),o=a.parent.summonPetInFront(a,l);o.success&&this.logService.createLog({message:`${a.name} spawned Lizard Tail Level ${a.level}`,type:"ability",player:a.parent,tiger:r,randomEvent:o.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Go(e,this.logService,this.abilityService)}}class Ho extends h{logService;constructor(e,t){super({name:"SeaTurtleAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r,pteranodon:n}=e,a=this.owner,l=2*this.level,o=ee(a,i);if(!o.pet)return;const c=o.pet;c.increaseHealth(l),D(this.logService,a,`${a.name} gave ${c.name} ${l} health.`,r,n,{randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new Ho(e,this.logService)}}class Do extends h{logService;abilityService;constructor(e,t,i){super({name:"AfricanPenguinAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.getRandomPets(3,[t]),r=i.pets;if(0===r.length)return void this.triggerTigerExecution(e);const n=this.level;for(const a of r)a.increaseAttack(n);this.logService.createLog({message:`${t.name} gave ${r.map(a=>a.name).join(", ")} +${n} attack.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new Do(e,this.logService,this.abilityService)}}class Oo extends h{logService;constructor(e,t){super({name:"MeerkatAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:n}=e,a=this.owner;let l;l=a.parent==t.player?t.playerGoldSpent:t.opponentGoldSpent;let o=Math.floor(l/4)*this.level,c=a.parent.nearestPetsBehind(1,a),u=a.parent.nearestPetsAhead(1,a);if(u.pets.length>0){let g=u.pets[0];g.increaseAttack(o),this.logService.createLog({message:`${a.name} gave ${g.name} ${o} attack.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:u.random})}if(c.pets.length>0){let g=c.pets[0];g.increaseAttack(o),this.logService.createLog({message:`${a.name} gave ${g.name} ${o} attack.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:c.random})}this.triggerTigerExecution(e)}copy(e){return new Oo(e,this.logService)}}class Wo extends h{logService;constructor(e,t){super({name:"MuskOxAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l={attack:a.level,health:2*a.level},o=a.parent.getThis(a),c=o.pet;null!=c&&(c.increaseAttack(l.attack),c.increaseHealth(l.health),this.logService.createLog({message:`${a.name} gave ${c.name} ${l.attack} attack and ${l.health} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e))}copy(e){return new Wo(e,this.logService)}}class jo extends h{logService;constructor(e,t){super({name:"FleaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.getPetsWithEquipmentWithSillyFallback("Weak",a),o=a.parent.opponent.getHighestHealthPets(this.level,l,a);for(let c of o.pets)this.logService.createLog({message:`${a.name} gave ${c.name} Weak.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:o.random}),c.givePetEquipment(new ke);this.triggerTigerExecution(e)}copy(e){return new jo(e,this.logService)}}class Uo extends h{logService;constructor(e,t){super({name:"RoyalFlycatcherAbility",owner:e,triggers:["EnemyFaint3"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=4*this.level,o=a.parent.opponent.getRandomPet([],null,!0,null,a),c=o.pet;null!=c&&(a.snipePet(c,l,o.random,r),this.triggerTigerExecution(e))}copy(e){return new Uo(e,this.logService)}}class _o extends h{logService;constructor(e,t){super({name:"SurgeonFishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>!(this.owner.parent.trumpets<2),abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.nearestPetsBehind(2,a),o=l.pets;if(0==o.length)return;a.parent.spendTrumpets(2,a);let c=4*this.level;for(let u of o)u.increaseHealth(c),this.logService.createLog({message:`${a.name} gave ${u.name} ${c} health.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:l.random});this.triggerTigerExecution(e)}copy(e){return new _o(e,this.logService)}}class oA extends p{logService;abilityService;name="Weasel";tier=3;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new Vo(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Vo extends h{logService;constructor(e,t){super({name:"WeaselAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;this.logService.createLog({message:`${a.name} gained ${this.level} Gold.`,type:"ability",player:a.parent,tiger:r,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new Vo(e,this.logService)}}class Ko extends h{logService;constructor(e,t){super({name:"GuineafowlAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:n}=e,a=this.owner;let l=2*this.level;const o=a.parent.resolveTrumpetGainTarget(a);o.player.gainTrumpets(l,a,n,void 0,void 0,o.random),this.triggerTigerExecution(e)}copy(e){return new Ko(e,this.logService)}}class zo extends h{logService;targetedPets=new Set;constructor(e,t){super({name:"Betta Fish Ability",owner:e,triggers:["FriendLostPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>{const{triggerPet:r}=i,n=this.owner;if(!Oe(n,r,{excludeOwner:!0}))return!1;const l=C(n,r).pet;return!!l&&!this.targetedPets.has(l)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}reset(){this.maxUses=this.level,this.targetedPets.clear(),super.reset()}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;if(!i)return;const o=C(a,i).pet;o&&(this.targetedPets.add(o),o.givePetEquipment(new hr),this.logService.createLog({message:`${a.name} gave ${o.name} Guava.`,type:"ability",player:a.parent,tiger:r}),this.triggerTigerExecution(e))}copy(e){return new zo(e,this.logService)}}class Qo extends h{logService;constructor(e,t){super({name:"FlyingFishAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,a=this.owner,l=2*this.level,o=ee(a,i);o.pet&&(yo({logService:this.logService,owner:a,context:e,target:o.pet,amount:l,extras:{randomEvent:o.random}}),this.triggerTigerExecution(e))}copy(e){return new Qo(e,this.logService)}}class Yo extends h{logService;abilityService;constructor(e,t,i){super({name:"BaboonAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,{gameApi:i}=e,r=Math.max(1,i.previousShopTier??t.tier),n=t.parent.petArray.filter(c=>c.alive&&c.tier>=r);if(0===n.length)return void this.triggerTigerExecution(e);const a=L({key:"pet.baboon-end-turn-target",label:M(t,"Baboon end turn target"),options:n.map(c=>({id:`${c.savedPosition+1}:${c.name}`,label:`P${c.savedPosition+1} ${c.name}`}))},()=>S(0,n.length-1)),l=n[a.index],o=this.level;l.increaseAttack(o),l.increaseHealth(o),this.logService.createLog({message:`${t.name} gave ${l.name} +${o}/+${o}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Yo(e,this.logService,this.abilityService)}}class Jo extends h{logService;abilityService;constructor(e,t,i){super({name:"OspreyAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;for(let l=0;l<a.level;l++){let o=new sA(this.logService,this.abilityService,a.parent,null,null,0,0),c=a.parent.summonPet(o,a.savedPosition,!1,a);c.success&&this.logService.createLog({message:`${a.name} summoned a 2/1 Groundhog`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:c.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Jo(e,this.logService,this.abilityService)}}class Zo extends h{logService;abilityService;constructor(e,t,i){super({name:"ManateeAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.petAhead,r=2*this.level,n=this.level;t.dealDamage(t,5),i?(i.increaseAttack(r),i.increaseHealth(n),this.logService.createLog({message:`${t.name} took 5 damage and gave ${i.name} +${r}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})):this.logService.createLog({message:`${t.name} took 5 damage.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Zo(e,this.logService,this.abilityService)}}class Xo extends h{logService;constructor(e,t){super({name:"CuttlefishAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.opponent.getLastPets(this.level,void 0,a),o=l.pets;if(0==o.length)return;for(let m of o)m.increaseHealth(-3),this.logService.createLog({message:`${a.name} reduced ${m.name} health by 3`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:l.random});let u=a.parent.getPetsWithEquipmentWithSillyFallback("Inked",a),g=a.parent.opponent.getLastPets(this.level,u,a),d=g.pets;if(0!=d.length){for(let m of d)m.givePetEquipment(new $i),this.logService.createLog({message:`${a.name} gave ${m.name} Inked.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:g.random});this.triggerTigerExecution(e)}}copy(e){return new Xo(e,this.logService)}}class ec extends h{logService;constructor(e,t){super({name:"EgyptianVultureAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.petArray.filter(u=>!u.isFaintPet()),o=a.parent.nearestPetsBehind(1,a,l),c=o.pets[0];null!=c&&(this.logService.createLog({message:`${a.name} activated ${c.name}'s ability.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:o.random}),c.activateAbilities(void 0,t,"Pet"),this.triggerTigerExecution(e))}reset(){super.reset(),this.maxUses=this.level}copy(e){return new ec(e,this.logService)}}class tc extends h{logService;abilityService;constructor(e,t,i){super({name:"SaigaAntelopeAbility",owner:e,triggers:["PostRemovalFriendFaints2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner,l=a.parent.resolveTrumpetGainTarget(a);l.player.gainTrumpets(3*this.level,a,n,void 0,void 0,l.random),this.logService.createLog({message:`${a.name} gave ${3*this.level} trumpets after a friend died.`,type:"ability",player:a.parent,tiger:r,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new tc(e,this.logService,this.abilityService)}}class ic extends h{logService;abilityService;constructor(e,t,i){super({name:"SealionAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level,r=this.level,n=[];let a=t.petBehind();for(;a;)n.push(a),a=a.petBehind();const l=[];let o=t.petAhead;for(;o;)l.push(o),o=o.petAhead;for(const c of n)c.increaseAttack(i);for(const c of l)c.increaseHealth(r);(n.length>0||l.length>0)&&this.logService.createLog({message:`${t.name} gave friends behind +${i} attack and friends ahead +${r} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.length+l.length>1}),this.triggerTigerExecution(e)}copy(e){return new ic(e,this.logService,this.abilityService)}}class rc extends h{logService;constructor(e,t){super({name:"VaquitaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:n}=e,a=this.owner;let l=Math.max(Math.floor(.5*this.level*a.parent.trumpets),4*this.level);const o=a.parent.resolveTrumpetGainTarget(a);o.player.gainTrumpets(l,a,n,void 0,void 0,o.random),this.triggerTigerExecution(e)}copy(e){return new rc(e,this.logService)}}class cA extends p{logService;abilityService;name="Smallest Slug";tier=1;pack="Golden";hidden=!0;health=1;attack=1;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class uA extends p{logService;abilityService;name="Smaller Slug";tier=1;pack="Golden";hidden=!0;health=2;attack=2;initAbilities(){this.addAbility(new ac(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class ac extends h{logService;abilityService;constructor(e,t,i){super({name:"SmallerSlugAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let c=new cA(this.logService,this.abilityService,a.parent,this.level,this.level,0,a.minExpForLevel),u=a.parent.summonPet(c,a.savedPosition,!1,a);u.success&&this.logService.createLog({message:`${a.name} spawned Smallest Slug Level ${a.level}`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:u.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new ac(e,this.logService,this.abilityService)}}class nc extends h{logService;abilityService;constructor(e,t,i){super({name:"SlugAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let c=new uA(this.logService,this.abilityService,a.parent,2*this.level,2*this.level,0,a.minExpForLevel),u=a.parent.summonPet(c,a.savedPosition,!1,a);u.success&&this.logService.createLog({message:`${a.name} spawned Smaller Slug Level ${a.level}`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:u.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new nc(e,this.logService,this.abilityService)}}class sc extends h{logService;constructor(e,t){super({name:"PoisonDartFrogAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.opponent.getHighestHealthPet(void 0,a),o=l.pet;null!=o&&(a.snipePet(o,4*a.level,l.random,r),this.triggerTigerExecution(e))}copy(e){return new sc(e,this.logService)}}class lc extends p{logService;abilityService;petService;name="Falcon";tier=4;pack="Golden";attack=5;health=5;initAbilities(){this.addAbility(new oc(this,this.logService,this.petService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class oc extends h{logService;petService;abilityService;constructor(e,t,i,r){super({name:"FalconAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i,this.abilityService=r}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;let l=3*this.level,o=this.petService.createPet({attack:l,health:l,name:i.name,exp:a.minExpForLevel,equipment:null,mana:0},a.parent),c=a.parent.summonPet(o,a.savedPosition,!1,a);c.success&&this.logService.createLog({message:`${a.name} spawned ${o.name} ${l}/${l} Level ${this.level}`,type:"ability",player:a.parent,tiger:r,randomEvent:c.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new oc(e,this.logService,this.petService,this.abilityService)}}class cc extends h{logService;abilityService;constructor(e,t,i){super({name:"MantaRayAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;let i=!1;for(let n=0;n<5;n++)if(null==t.parent.getPetAtPosition(n)){i=!0;break}i?(this.logService.createLog({message:`${t.name} will give +${2*this.level} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new cc(e,this.logService,this.abilityService)}}class uc extends h{logService;abilityService;constructor(e,t,i){super({name:"CockatooAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(c=>c.alive&&c!==t);if(0===i.length)return void this.triggerTigerExecution(e);let r=Math.max(...i.map(c=>c.tier));const n=i.filter(c=>c.tier===r),a=L({key:"pet.cockatoo-bought-target",label:M(t,"Cockatoo bought target"),options:n.map(c=>({id:`${c.savedPosition+1}:${c.name}`,label:`P${c.savedPosition+1} ${c.name}`}))},()=>S(0,n.length-1)),l=n[a.index],o=2*this.level;l.increaseAttack(o),l.increaseHealth(o),this.logService.createLog({message:`${t.name} gave ${l.name} +${o}/+${o}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new uc(e,this.logService,this.abilityService)}}class hc extends h{logService;abilityUses=0;constructor(e,t){super({name:"SecretaryBirdAbility",owner:e,triggers:["PostRemovalFriendFaints2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.nearestPetsAhead(1,a);if(0===l.pets.length)return;let o=l.pets[0],c=3*this.level,u=4*this.level;o.increaseAttack(c),o.increaseHealth(u),this.logService.createLog({message:`${a.name} gave ${o.name} ${c} attack and ${u} health.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:l.random}),this.triggerTigerExecution(e),this.logService.createLog({message:`${a.name} triggered secretary bird ability at level ${this.level}.`,type:"ability",player:a.parent,tiger:r,pteranodon:n})}copy(e){return new hc(e,this.logService)}}class pc extends h{logService;abilityService;constructor(e,t,i){super({name:"MacaqueAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=12*this.level,o=new iA(this.logService,this.abilityService,a.parent,l,l,0,a.minExpForLevel,a.equipment),c=a.parent.summonPetInFront(a,o);if(c.success){let u=`${a.name} spawned Orangutan ${o.attack}/${o.health}`;null!=a.equipment&&(u+=` with ${a.equipment.name}`),u+=".",this.logService.createLog({message:u,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:c.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new pc(e,this.logService,this.abilityService)}}class gc extends h{logService;constructor(e,t){super({name:"NyalaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:n}=e,a=this.owner,l=a.parent.resolveTrumpetGainTarget(a);l.player.gainTrumpets(8*this.level,a,n,void 0,void 0,l.random),this.triggerTigerExecution(e)}copy(e){return new gc(e,this.logService)}}class dc extends h{logService;constructor(e,t){super({name:"NurseSharkAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>0!=this.owner.parent.trumpets,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=3*Math.min(a.parent.trumpets,6),o=a.parent.getRandomEnemyPetsWithSillyFallback(this.level,[],!1,!0,a),c=o.pets;if(0!=c.length){a.parent.spendTrumpets(Math.min(a.parent.trumpets,6),a,n);for(let u of c)a.snipePet(u,l,o.random,r,n);this.triggerTigerExecution(e)}}copy(e){return new dc(e,this.logService)}}class Hi extends p{logService;abilityService;petService;name="Beluga Whale";tier=5;pack="Golden";attack=2;health=5;initAbilities(){this.addAbility(new mc(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u,g){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u),this.belugaSwallowedPet=g??null}}class mc extends h{logService;abilityService;petService;constructor(e,t,i,r){super({name:"BelugaWhaleAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)},ignoreRepeats:!0}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;if(null==a.belugaSwallowedPet||a.alive)return;let l=this.petService.createPet({attack:null,equipment:null,exp:this.minExpForLevel,health:null,name:a.belugaSwallowedPet,mana:0},a.parent);const o=this.level,u=l.health-l.exp;l.attack=(l.attack-l.exp)*o,l.health=u*o,l.originalAttack=l.attack,l.originalHealth=l.health;let g=a.parent.summonPet(l,a.savedPosition,!1,a);g.success&&this.logService.createLog({message:`${a.name} spawned ${l.name} Level ${this.level}`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:g.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new mc(e,this.logService,this.abilityService,this.petService)}}class bc extends p{logService;abilityService;petService;name="Wolf";tier=5;pack="Golden";attack=4;health=4;constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}initAbilities(){this.addAbility(new yc(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}}class yc extends h{logService;abilityService;petService;constructor(e,t,i,r){super({name:"WolfAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l={attack:3*this.level,health:2*this.level};for(let o=0;o<3;o++){let c=this.petService.createPet({attack:l.attack,equipment:null,exp:a.minExpForLevel,health:l.health,name:"Pig",mana:0},a.parent),u=a.parent.summonPet(c,a.savedPosition,!1,a);u.success&&this.logService.createLog({message:`${a.name} spawned ${c.name} ${l.attack}/${l.health}`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:u.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new yc(e,this.logService,this.abilityService,this.petService)}}class vc extends h{logService;constructor(e,t){super({name:"FireAntAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.getHighestTierPets(this.level,null,a),o=l.pets;if(0!=o.length){for(let c of o)c.increaseAttack(a.attack),this.logService.createLog({message:`${a.name} gave ${c.name} ${a.attack} attack.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random,pteranodon:n});this.triggerTigerExecution(e)}}copy(e){return new vc(e,this.logService)}}class Ac extends h{logService;abilityService;constructor(e,t,i){super({name:"BlueRingedOctopusAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level,r=t.parent.petArray.filter(n=>n.alive&&n!==t);if(0!==r.length){for(const n of r)n.increaseAttack(i),n.increaseHealth(i);this.logService.createLog({message:`${t.name} gave friends +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new Ac(e,this.logService,this.abilityService)}}class fc extends h{logService;constructor(e,t){super({name:"CraneAbility",owner:e,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.nearestPetsAhead(1,a);if(0==l.pets.length)return;let o=l.pets[0];o.increaseAttack(5),this.logService.createLog({message:`${a.name} gave ${o.name} 5 attack.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:l.random});let c=a.parent.nearestPetsAhead(1,a);if(0==c.pets.length)return;let u=c.pets[0];u.givePetEquipment(new ye),this.logService.createLog({message:`${a.name} gave ${u.name} Melon.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:c.random}),this.triggerTigerExecution(e)}reset(){super.reset(),this.maxUses=this.level}copy(e){return new fc(e,this.logService)}}class kc extends h{logService;constructor(e,t){super({name:"EmuAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.nearestPetsAhead(1,a);if(0==l.pets.length)return;let o=l.pets[0],c=4*this.level;o.increaseHealth(c),this.logService.createLog({message:`${a.name} gave ${o.name} ${c} health.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:l.random});let u=a.parent.nearestPetsAhead(1,a);if(0===u.pets.length)return;let g=u.pets[0];a.parent.pushPetToFront(g),this.logService.createLog({message:`${a.name} pushed ${g.name} to the front.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:u.random}),this.triggerTigerExecution(e)}copy(e){return new kc(e,this.logService)}}class Sc extends h{logService;constructor(e,t){super({name:"WildebeestAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:i=>this.owner.parent.trumpets>=2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.getThis(a),o=l.pet;null!=o&&(o.givePetEquipment(new fe),this.logService.createLog({message:`${a.name} gave itself a Coconut.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:l.random}),a.parent.spendTrumpets(2,a),this.triggerTigerExecution(e))}reset(){super.reset(),this.maxUses=this.level}copy(e){return new Sc(e,this.logService)}}class Pc extends h{logService;constructor(e,t){super({name:"HighlandCowAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{pteranodon:n}=e,a=this.owner,l=4*this.level+Math.floor(a.health/3)*this.level,o=a.parent.resolveTrumpetGainTarget(a);o.player.gainTrumpets(l,a,n,void 0,void 0,o.random),this.triggerTigerExecution(e)}copy(e){return new Pc(e,this.logService)}}class Tc extends h{logService;abilityService;constructor(e,t,i){super({name:"CatfishAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.petAhead;if(!i)return void this.triggerTigerExecution(e);const r=this.level;if(i.hasTrigger("ThisBought")){for(let a=0;a<r;a++)i.executeAbilities("ThisBought",e.gameApi,i,void 0,void 0,{trigger:"ThisBought"});this.logService.createLog({message:`${t.name} activated ${i.name}'s buy ability ${r} time${1===r?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})}else{const a=4*this.level;i.increaseHealth(a),this.logService.createLog({message:`${t.name} gave ${i.name} +${a} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})}this.triggerTigerExecution(e)}copy(e){return new Tc(e,this.logService,this.abilityService)}}class wc extends p{logService;abilityService;petService;name="Pteranodon";tier=6;pack="Golden";attack=3;health=5;initAbilities(){this.addAbility(new xc(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class xc extends h{logService;abilityService;petService;constructor(e,t,i,r){super({name:"PteranodonAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:n=>{const{triggerPet:a}=n;return null!=a},abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{triggerPet:i,tiger:r,pteranodon:n}=e,a=this.owner;let l=this.petService.createPet({attack:1,health:1,equipment:null,exp:i.exp,name:i.name,mana:0},a.parent),o=a.parent.summonPetBehind(a,l);o.success&&this.logService.createLog({message:`${a.name} summoned a 1/1 ${i.name} behind it.`,type:"ability",player:a.parent,randomEvent:o.randomEvent,tiger:r,pteranodon:n}),this.triggerTigerExecution(e)}reset(){super.reset(),this.maxUses=this.level}copy(e){return new xc(e,this.logService,this.abilityService,this.petService)}}class Rc extends h{logService;constructor(e,t){super({name:"WarthogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=this.level,o=Math.floor(a.attack/3);for(let c=0;c<o;c++){let u=a.parent.getRandomPet([],!0,!1,!0,a);if(null==u.pet)break;u.pet.increaseAttack(l),u.pet.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${u.pet.name} ${l} attack and ${l} health.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:u.random})}this.triggerTigerExecution(e)}copy(e){return new Rc(e,this.logService)}}class Lc extends h{logService;constructor(e,t){super({name:"CobraAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.opponent.getRandomPet([],!1,!0,!1,a);if(null==l.pet)return;let o=Math.floor(.2*a.attack*a.level);a.snipePet(l.pet,o,l.random,r),this.triggerTigerExecution(e)}copy(e){return new Lc(e,this.logService)}}class Ec extends h{logService;constructor(e,t){super({name:"GrizzlyBearAbility",owner:e,triggers:["FriendlyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getRandomEnemyPetsWithSillyFallback(2,[],!0,!1,a),o=l.pets,c=6*this.level;for(let u of o)a.snipePet(u,c,l.random,r);this.triggerTigerExecution(e)}copy(e){return new Ec(e,this.logService)}}class Cc extends h{logService;constructor(e,t){super({name:"GermanShepherdAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:r}=e,n=this.owner,l=Math.floor(n.attack*(.25*this.level)),o=ee(n,t);if(!o.pet)return;const c=o.pet;c.increaseAttack(l),D(this.logService,n,`${n.name} gave ${c.name} ${l} attack.`,i,r,{randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new Cc(e,this.logService)}}class Fc extends h{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t,i){super({name:"BirdOfParadiseAbility",owner:e,triggers:["SpendGold7","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const t=this.owner,i=t.parent.getRandomPets(3,[t]),r=i.pets;if(0===r.length)return void this.triggerTigerExecution(e);const n=this.level;for(const a of r)a.increaseAttack(n),a.increaseHealth(n);this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave ${r.map(a=>a.name).join(", ")} +${n}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new Fc(e,this.logService,this.abilityService)}}class Nc extends h{logService;abilityService;constructor(e,t,i){super({name:"OysterAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${3*this.level} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Nc(e,this.logService,this.abilityService)}}const nI={Bulldog:class sN extends p{logService;abilityService;name="Bulldog";tier=1;pack="Golden";attack=1;health=4;initAbilities(){this.addAbility(new So(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Groundhog:sA,"Cone Snail":class lN extends p{logService;abilityService;name="Cone Snail";tier=1;pack="Golden";attack=1;health=2;initAbilities(){this.addAbility(new To(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Goose:class oN extends p{logService;abilityService;name="Goose";tier=1;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new wo(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Lemming:class hN extends p{logService;abilityService;name="Lemming";tier=1;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new Lo(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Pied Tamarin":class cN extends p{logService;abilityService;name="Pied Tamarin";tier=1;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new xo(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Opossum:class gN extends p{logService;abilityService;name="Opossum";tier=1;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new Co(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Silkmoth:class uN extends p{logService;abilityService;name="Silkmoth";tier=1;pack="Golden";attack=3;health=1;initAbilities(){this.addAbility(new Ro(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Magpie:class pN extends p{logService;abilityService;name="Magpie";tier=1;pack="Golden";attack=1;health=4;initAbilities(){this.addAbility(new Eo(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Hercules Beetle":class dN extends p{logService;abilityService;name="Hercules Beetle";tier=2;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new Fo(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Stoat:No,"Black Necked Stilt":class mN extends p{logService;abilityService;name="Black Necked Stilt";tier=2;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new Mo(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Squid:class bN extends p{logService;abilityService;name="Squid";tier=2;pack="Golden";attack=5;health=2;initAbilities(){this.addAbility(new $o(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Sea Urchin":class yN extends p{logService;abilityService;name="Sea Urchin";tier=2;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new Bo(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Door Head Ant":class vN extends p{logService;abilityService;name="Door Head Ant";tier=2;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new qo(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Lizard:class AN extends p{logService;abilityService;name="Lizard";tier=2;pack="Golden";attack=1;health=3;initAbilities(){this.addAbility(new Go(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Sea Turtle":class fN extends p{logService;abilityService;name="Sea Turtle";tier=2;pack="Golden";attack=1;health=4;initAbilities(){this.addAbility(new Ho(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"African Penguin":class kN extends p{logService;abilityService;name="African Penguin";tier=2;pack="Golden";attack=1;health=3;initAbilities(){this.addAbility(new Do(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Musk Ox":class PN extends p{logService;abilityService;name="Musk Ox";tier=3;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new Wo(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Flea:class TN extends p{logService;abilityService;name="Flea";tier=3;pack="Golden";attack=3;health=2;initAbilities(){this.addAbility(new jo(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Royal Flycatcher":class wN extends p{logService;abilityService;name="Royal Flycatcher";tier=3;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new Uo(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Surgeon Fish":class xN extends p{logService;abilityService;name="Surgeon Fish";tier=3;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new _o(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Weasel:oA,Guineafowl:class RN extends p{logService;abilityService;name="Guineafowl";tier=3;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new Ko(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Betta Fish":class LN extends p{logService;abilityService;name="Betta Fish";tier=3;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new zo(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Meerkat:class SN extends p{logService;abilityService;name="Meerkat";tier=2;pack="Golden";attack=1;health=2;initAbilities(){this.addAbility(new Oo(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Flying Fish":class EN extends p{logService;abilityService;name="Flying Fish";tier=3;pack="Golden";attack=5;health=2;initAbilities(){this.addAbility(new Qo(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Baboon:class CN extends p{logService;abilityService;name="Baboon";tier=3;pack="Golden";attack=2;health=3;initAbilities(){this.addAbility(new Yo(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Osprey:class FN extends p{logService;abilityService;name="Osprey";tier=3;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new Jo(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Manatee:class NN extends p{logService;abilityService;name="Manatee";tier=4;pack="Golden";attack=2;health=11;initAbilities(){this.addAbility(new Zo(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Cuttlefish:class IN extends p{logService;abilityService;name="Cuttlefish";tier=4;pack="Golden";attack=8;health=4;initAbilities(){this.addAbility(new Xo(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Egyptian Vulture":class MN extends p{logService;abilityService;name="Egyptian Vulture";tier=5;pack="Golden";attack=7;health=4;initAbilities(){this.addAbility(new ec(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Saiga Antelope":class $N extends p{logService;abilityService;name="Saiga Antelope";tier=4;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new tc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Sealion:class BN extends p{logService;abilityService;name="Sealion";tier=4;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new ic(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Vaquita:class qN extends p{logService;abilityService;name="Vaquita";tier=4;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new rc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Slug:class GN extends p{logService;abilityService;name="Slug";tier=4;pack="Golden";attack=4;health=4;initAbilities(){this.addAbility(new nc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Poison Dart Frog":class HN extends p{logService;abilityService;name="Poison Dart Frog";tier=4;pack="Golden";attack=5;health=2;initAbilities(){this.addAbility(new sc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Secretary Bird":class WN extends p{logService;abilityService;name="Secretary Bird";tier=4;pack="Golden";attack=3;health=5;initAbilities(){this.addAbility(new hc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Manta Ray":class DN extends p{logService;abilityService;name="Manta Ray";tier=4;pack="Golden";attack=5;health=7;initAbilities(){this.addAbility(new cc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Macaque:class jN extends p{logService;abilityService;name="Macaque";tier=5;pack="Golden";attack=2;health=2;initAbilities(){this.addAbility(new pc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Nyala:class UN extends p{logService;abilityService;name="Nyala";tier=5;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new gc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Nurse Shark":class _N extends p{logService;abilityService;name="Nurse Shark";tier=5;pack="Golden";attack=5;health=7;initAbilities(){this.addAbility(new dc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Fire Ant":class VN extends p{logService;abilityService;name="Fire Ant";tier=5;pack="Golden";attack=8;health=3;initAbilities(){this.addAbility(new vc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Cockatoo:class ON extends p{logService;abilityService;name="Cockatoo";tier=4;pack="Golden";attack=4;health=2;initAbilities(){this.addAbility(new uc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Blue Ringed Octopus":class KN extends p{logService;abilityService;name="Blue Ringed Octopus";tier=5;pack="Golden";attack=2;health=4;initAbilities(){this.addAbility(new Ac(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Crane:class zN extends p{logService;abilityService;name="Crane";tier=5;pack="Golden";attack=6;health=5;initAbilities(){this.addAbility(new fc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Emu:class QN extends p{logService;abilityService;name="Emu";tier=5;pack="Golden";attack=3;health=4;initAbilities(){this.addAbility(new kc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Wildebeest:class YN extends p{logService;abilityService;name="Wildebeest";tier=6;pack="Golden";attack=8;health=6;initAbilities(){this.addAbility(new Sc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Highland Cow":class JN extends p{logService;abilityService;name="Highland Cow";tier=6;pack="Golden";attack=4;health=6;initAbilities(){this.addAbility(new Pc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Catfish:class ZN extends p{logService;abilityService;name="Catfish";tier=6;pack="Golden";attack=4;health=6;initAbilities(){this.addAbility(new Tc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Warthog:class XN extends p{logService;abilityService;name="Warthog";tier=6;pack="Golden";attack=9;health=6;initAbilities(){this.addAbility(new Rc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Cobra:class eI extends p{logService;abilityService;name="Cobra";tier=6;pack="Golden";attack=12;health=6;initAbilities(){this.addAbility(new Lc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Grizzly Bear":class tI extends p{logService;abilityService;name="Grizzly Bear";tier=6;pack="Golden";attack=6;health=8;initAbilities(){this.addAbility(new Ec(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"German Shepherd":class iI extends p{logService;abilityService;name="German Shepherd";tier=6;pack="Golden";attack=10;health=6;initAbilities(){this.addAbility(new Cc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Bird of Paradise":class rI extends p{logService;abilityService;name="Bird of Paradise";tier=6;pack="Golden";attack=3;health=3;initAbilities(){this.addAbility(new Fc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Oyster:class aI extends p{logService;abilityService;name="Oyster";tier=6;pack="Golden";attack=2;health=10;initAbilities(){this.addAbility(new Nc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Beluga Whale":Hi,Falcon:lc,Pteranodon:wc,Wolf:bc};class Ic extends h{logService;abilityService;constructor(e,t,i){super({name:"BakuAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;if((e.gameApi?.turnNumber??0)%2!=0)return void this.triggerTigerExecution(e);const r=t.parent.petArray.filter(o=>o.alive&&o.equipment?.equipmentClass?.startsWith("ailment"));if(0===r.length)return void this.triggerTigerExecution(e);const n=[],a=[...r];for(;n.length<2&&a.length>0;){const o=L({key:"pet.baku-end-turn-target",label:M(t,"Baku ailment target",n.length+1),options:a.map(c=>({id:`${c.savedPosition+1}:${c.name}`,label:`P${c.savedPosition+1} ${c.name}`}))},()=>S(0,a.length-1));n.push(a[o.index]),a.splice(o.index,1)}const l=this.level;for(const o of n)o.removePerk(),o.increaseHealth(l);this.logService.createLog({message:`${t.name} replaced ailments with +${l} health on ${n.map(o=>o.name).join(", ")}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:r.length>n.length}),this.triggerTigerExecution(e)}copy(e){return new Ic(e,this.logService,this.abilityService)}}class Mc extends h{logService;abilityService;constructor(e,t,i){super({name:"QuestionMarksAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.petAhead;if(!i)return void this.triggerTigerExecution(e);const r=this.level;if(i.increaseAttack(r),pa(i,"Spooked")){const n=new Te;n.power=-1,n.originalPower=-1,i.givePetEquipment(n)}this.logService.createLog({message:`${t.name} gave ${i.name} +${r} attack and Spooked until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Mc(e,this.logService,this.abilityService)}}class $c extends h{logService;constructor(e,t){super({name:"BarghestAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let c=[...a.parent.getPetsWithEquipmentWithSillyFallback("perk",a),...a.parent.getPetsWithEquipmentWithSillyFallback("Spooked",a)],g=a.parent.opponent.getLastPets(this.level,c,a).pets;if(0!=g.length){for(let d of g)this.logService.createLog({message:`${a.name} gave ${d.name} Spooked`,type:"ability",player:a.parent,tiger:r}),d.givePetEquipment(new Te);this.triggerTigerExecution(e)}}copy(e){return new $c(e,this.logService)}}class Bc extends h{logService;constructor(e,t){super({name:"TsuchinokoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let o=a.parent.getThis(a).pet;if(null==o)return;a.parent.pushPetToFront(o,!0),this.logService.createLog({message:`${a.name} pushed ${o.name} to the front and gained ${this.level} experience.`,type:"ability",player:a.parent,tiger:r});let u=a.parent.getThis(a).pet;null!=u&&(u.increaseExp(this.level),this.logService.createLog({message:`${a.name} gave ${u.name} +${this.level} experience.`,type:"ability",player:a.parent,tiger:r}),this.triggerTigerExecution(e))}copy(e){return new Bc(e,this.logService)}}class qc extends h{logService;constructor(e,t){super({name:"MurmelAbility",owner:e,triggers:["FriendGainedExp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=this.level,c=a.parent.getThis(a).pet;null!=c&&(this.logService.createLog({message:`${a.name} gave ${c.name} ${l} attack.`,type:"ability",player:a.parent,tiger:r}),c.increaseAttack(l),this.triggerTigerExecution(e))}copy(e){return new qc(e,this.logService)}}class Gc extends h{logService;constructor(e,t){super({name:"AlchemedesAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.nearestPetsAhead(1,a);if(0===l.pets.length)return;let o=l.pets[0];this.logService.createLog({message:`${a.name} gave ${o.name} ${this.level} mana.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),o.increaseMana(this.level),this.triggerTigerExecution(e)}copy(e){return new Gc(e,this.logService)}}class Hc extends h{logService;constructor(e,t){super({name:"PengobbleAbility",owner:e,triggers:["ThisGainedMana"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner,l=2*this.level;let o=a.parent.getThis(a),c=o.pet;null!=c&&(this.logService.createLog({message:`${a.name} gave ${c.name} an extra ${l} bonus mana.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}),a.mana+=l,this.triggerTigerExecution(e))}copy(e){return new Hc(e,this.logService)}}class Dc extends h{logService;constructor(e,t){super({name:"BunyipAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:r}=e,a=this.owner;let o;o=a.parent==t.player?t.playerRollAmount:t.opponentRollAmount,o=Math.min(2,o)*this.level;let u=a.parent.getThis(a).pet;null!=u&&(u.increaseHealth(o),this.logService.createLog({message:`${a.name} gave ${u.name} ${o} health.`,type:"ability",player:a.parent,tiger:r}),this.triggerTigerExecution(e))}copy(e){return new Dc(e,this.logService)}}class hA extends p{logService;abilityService;name="CrackedEgg";tier=1;pack="Unicorn";hidden=!0;attack=4;health=2;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Oc extends h{logService;abilityService;constructor(e,t,i){super({name:"SneakyEggAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,a=this.owner;let l={attack:4*this.level,health:2*this.level};a.health=0,a.parent.handleDeath(a),a.parent.removeDeadPets();let o=new hA(this.logService,this.abilityService,a.parent,l.health,l.attack,0),c=a.parent.summonPet(o,a.savedPosition,!1,a);c.success&&this.logService.createLog({message:`${a.name} spawned a ${l.attack}/${l.health} Cracked Egg`,type:"ability",player:a.parent,tiger:r,randomEvent:c.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Oc(e,this.logService,this.abilityService)}}class Wc extends h{logService;abilityService;constructor(e,t,i){super({name:"CuddleToadAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked a witch toy that breaks after ${2*this.level} turns.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Wc(e,this.logService,this.abilityService)}}class jc extends h{logService;abilityService;constructor(e,t,i){super({name:"GhostKittenAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){}copy(e){return new jc(e,this.logService,this.abilityService)}}class Uc extends h{logService;constructor(e,t){super({name:"FrostWolfAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.getPetsWithEquipmentWithSillyFallback("Cold",a),o=a.parent.opponent.getFurthestUpPet(a,l),c=o.pet;if(null==c)return;const u=new On;u.multiplier+=this.level-1,u.baseMultiplier=u.multiplier;let g=".";2===this.level?g=" twice for double effect.":3===this.level&&(g=" thrice for triple effect."),this.logService.createLog({message:`${a.name} made ${c.name} Cold${g}`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:o.random}),c.givePetEquipment(u),this.triggerTigerExecution(e)}copy(e){return new Uc(e,this.logService)}}class _c extends h{logService;constructor(e,t){super({name:"MothmanAbility",owner:e,triggers:["AnyoneGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner,l=this.level;let c=a.parent.getThis(a).pet;null!=c&&(this.logService.createLog({message:`${a.name} gave ${c.name} +${l} attack and +${l} health.`,type:"ability",player:a.parent,tiger:r}),c.increaseAttack(l),c.increaseHealth(l),this.triggerTigerExecution(e))}copy(e){return new _c(e,this.logService)}}class Vc extends h{logService;constructor(e,t){super({name:"DropBearAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;this.logService.createLog({message:`${a.name} pushed itself to the front.`,type:"ability",player:a.parent,tiger:r,pteranodon:n}),a.parent.pushPetToFront(a,!0);let l=3*this.level,o=a.parent.opponent.getLastPet();null!=o.pet&&(a.snipePet(o.pet,l,o.random,r),this.triggerTigerExecution(e))}copy(e){return new Vc(e,this.logService)}}class Kc extends h{logService;constructor(e,t){super({name:"JackalopeAbility",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,precondition:i=>{const{triggerPet:r}=i,l=C(this.owner,r).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,a=this.owner;let o=C(a,i).pet;if(null==o)return;let c=this.level;a.jumped&&(c*=2),o.increaseAttack(c),this.logService.createLog({message:`${a.name} gave ${o.name} +${c} attack.`,type:"ability",player:this.owner.parent}),this.triggerTigerExecution(e)}copy(e){return new Kc(e,this.logService)}}class zc extends h{logService;constructor(e,t){super({name:"OgopogoAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner,l=a.parent.getFurthestUpPets(this.level,[a],a),o=l.pets;if(0!==o.length){for(const c of o)this.logService.createLog({message:`${a.name} gave ${c.name} +1 experience.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),c.increaseExp(1);this.triggerTigerExecution(e)}}copy(e){return new zc(e,this.logService)}}class Qc extends h{logService;constructor(e,t){super({name:"ThunderbirdAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.nearestPetsAhead(2,a);if(l.pets.length<1)return;let c=l.pets[1]??l.pets[0];if(null==c)return;let u=3*this.level;this.logService.createLog({message:`${a.name} gave ${c.name} ${u} mana.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),c.increaseMana(u),this.triggerTigerExecution(e)}copy(e){return new Qc(e,this.logService)}}class Yc extends h{logService;constructor(e,t){super({name:"GargoyleAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.mana*this.level;l+=2*this.level;let o=a.parent.nearestPetsBehind(1,a);if(0===o.pets.length)return;let c=o.pets[0];this.logService.createLog({message:`${a.name} spent ${a.mana} mana and gave ${l} health to ${c.name}.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:o.random}),c.increaseHealth(l),a.mana=0,this.triggerTigerExecution(e)}copy(e){return new Yc(e,this.logService)}}class Jc extends h{logService;abilityService;constructor(e,t,i){super({name:"BigfootAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} will gain ${i} free ${1===i?"roll":"rolls"} next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Jc(e,this.logService,this.abilityService)}}class Zc extends h{logService;abilityService;constructor(e,t,i){super({name:"WyvernAbility",owner:e,triggers:["FriendlyLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=this.level;this.logService.createLog({message:`${t.name} will grant ${i} extra shop reward${1===i?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Zc(e,this.logService,this.abilityService)}}class Xc extends h{logService;constructor(e,t){super({name:"LuckyCatAbility",owner:e,triggers:["ThisLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=2;3==a.level&&(l=4);let c=a.parent.getThis(a).pet;null!=c&&(this.logService.createLog({message:`${a.name} gave ${c.name} ${l} attack and ${l} health.`,type:"ability",player:a.parent,tiger:r}),c.increaseAttack(l),c.increaseHealth(l),this.triggerTigerExecution(e))}copy(e){return new Xc(e,this.logService)}}class eu extends h{logService;constructor(e,t){super({name:"SkeletonDogAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getRandomPets(this.level,[a],!0,!1,a);for(let o of l.pets)null!=o&&(this.logService.createLog({message:`${a.name} gave 1 attack and 1 health to ${o.name}.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),o.increaseAttack(1),o.increaseHealth(1));this.triggerTigerExecution(e)}copy(e){return new eu(e,this.logService)}}class tu extends h{logService;constructor(e,t){super({name:"MandrakeAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getPetsWithEquipmentWithSillyFallback("Dazed",a),c=this.getTargetPrioritizingFaintPets(l,a).pet;null!=c&&(this.logService.createLog({message:`${a.name} made ${c.name} Dazed.`,type:"ability",player:a.parent,tiger:r,randomEvent:!0}),c.givePetEquipment(new ai),this.triggerTigerExecution(e))}getTargetPrioritizingFaintPets(e,t){const i=2*this.level,r=t.parent.opponent.petArray.filter(n=>n.alive&&n.tier<=i&&!e.includes(n)&&n.isFaintPet());return r.length>0?{pet:r[S(0,r.length-1)],random:r.length>1}:t.parent.opponent.getTierXOrLowerPet(i,e,t)}copy(e){return new tu(e,this.logService)}}class iu extends h{logService;constructor(e,t){super({name:"FurBearingTroutAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=[],o=a;for(;l.length<this.level;){let c=o.petBehind();if(null==c)break;c.equipment instanceof Gn||l.push(c),o=c}if(0!==l.length){for(let c of l)this.logService.createLog({message:`${a.name} gave ${c.name} a Rambutan.`,type:"ability",player:a.parent,tiger:r}),c.givePetEquipment(new Gn(this.logService));this.triggerTigerExecution(e)}}copy(e){return new iu(e,this.logService)}}class ru extends h{logService;constructor(e,t){super({name:"ManaHoundAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:r}=e,a=this.owner;let o;if(o=a.parent==t.player?t.playerRollAmount:t.opponentRollAmount,o=Math.max(0,Math.min(o??0,3)),0===o)return;let c=a.parent.nearestPetsAhead(1,a);if(0===c.pets.length)return;let u=c.pets[0],g=o*this.level*2;this.logService.createLog({message:`${a.name} gave ${u.name} ${g} mana.`,type:"ability",player:a.parent,tiger:r,randomEvent:c.random}),u.increaseMana(g),this.triggerTigerExecution(e)}copy(e){return new ru(e,this.logService)}}class au extends h{logService;constructor(e,t){super({name:"CalygreyhoundAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;if(0==a.mana)return;let l=a.parent.opponent.getHighestHealthPets(2,void 0,a),o=this.level*a.mana;for(let c of l.pets)c.health=Math.max(1,c.health-o),this.logService.createLog({message:`${a.name} reduced ${c.name}'s health by ${o} to ${c.health}.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random});a.mana=0,this.triggerTigerExecution(e)}copy(e){return new au(e,this.logService)}}class nu extends h{logService;constructor(e,t){super({name:"BrainCrampAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=2*this.level,c=a.parent.getThis(a).pet;if(null==c)return;this.logService.createLog({message:`${a.name} pushed ${c.name} to the front.`,type:"ability",player:a.parent,tiger:r,pteranodon:n}),a.parent.pushPetToFront(c,!0);let g=a.parent.getThis(a).pet;if(null==g)return;this.logService.createLog({message:`${a.name} gave ${g.name} Melon.`,type:"ability",player:a.parent,tiger:r,pteranodon:n}),g.givePetEquipment(new ye);let m=a.parent.getThis(a).pet;null!=m&&(this.logService.createLog({message:`${a.name} gave ${m.name} ${l} attack.`,type:"ability",player:a.parent,tiger:r,pteranodon:n}),m.increaseAttack(l),this.triggerTigerExecution(e))}copy(e){return new nu(e,this.logService)}}class su extends h{logService;abilityService;usesThisTurn=0;maxUsesPerTurn=5;constructor(e,t,i){super({name:"OuroborosAbility",owner:e,triggers:["Roll","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const t=this.owner,i=this.level;this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave newly rolled shop pets +${i}/+${i} until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new su(e,this.logService,this.abilityService)}}class lu extends h{logService;abilityService;constructor(e,t,i){super({name:"GriffinAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} chose a level ${this.level} toy from Griffin's collection.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new lu(e,this.logService,this.abilityService)}}class ou extends h{logService;constructor(e,t){super({name:"TatzelwurmAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;let l=2*this.level;i&&3==i.level&&(l*=2);let o=a.parent.opponent.getFurthestUpPet(a);null!=o.pet&&(a.snipePet(o.pet,l,o.random,r),this.triggerTigerExecution(e))}copy(e){return new ou(e,this.logService)}}class cu extends h{logService;constructor(e,t){super({name:"MinotaurAbility",owner:e,triggers:["FriendAheadAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;if(!i)return;let l=this.level*i.level,o=a.parent.getThis(a),c=o.pet;null!=c&&(this.logService.createLog({message:`${a.name} gave ${c.name} ${l} attack and ${l} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}),c.increaseAttack(l),c.increaseHealth(l),this.triggerTigerExecution(e))}copy(e){return new cu(e,this.logService)}}class uu extends h{logService;constructor(e,t){super({name:"KrakenAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getAll(!0,a,!0),o=l.pets;if(0!=o.length){for(let c of o){let u=1==this.level?.15:2==this.level?.3:.45,g=Math.max(1,Math.floor(c.health*(1-u)));c.health=g,this.logService.createLog({message:`${a.name} reduced ${c.name} health by ${(100*u).toFixed(0)}% to ${g}`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random})}this.triggerTigerExecution(e)}}copy(e){return new uu(e,this.logService)}}class hu extends h{logService;constructor(e,t){super({name:"VisitorAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner,c=[...a.parent.nearestPetsBehind(this.level,a).pets,...a.parent.opponent.getFurthestUpPets(this.level).pets].filter(u=>u.alive&&"Icky"!==u.equipment?.name).filter((u,g,d)=>d.indexOf(u)===g);if(0!=c.length){for(let u of c)u.givePetEquipment(new Wn),this.logService.createLog({message:`${a.name} made ${u.name} Icky.`,type:"ability",player:a.parent,tiger:r,pteranodon:n});this.triggerTigerExecution(e)}}copy(e){return new hu(e,this.logService)}}class pu extends h{logService;constructor(e,t){super({name:"TigerBugAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>null==this.owner.parent.pet0,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let o=a.parent.getThis(a).pet;if(null==o)return;this.logService.createLog({message:`${a.name} pushed ${o.name} to the front.`,type:"ability",player:a.parent,tiger:r,pteranodon:n}),a.parent.pushPetToFront(o,!0);let c=a.parent.opponent.getFurthestUpPets(2,[],a),u=c.pets;if(0==u.length)return;let g=3*this.level;for(let d of u)null!=d&&a.snipePet(d,g,c.random,r);this.triggerTigerExecution(e)}copy(e){return new pu(e,this.logService)}}class gu extends h{logService;constructor(e,t){super({name:"CyclopsAbility",owner:e,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,precondition:i=>{const{triggerPet:r}=i,l=C(this.owner,r).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;let l=2*this.level,o=C(a,i),c=o.pet;if(null!=c){if(this.logService.createLog({message:`${a.name} gave ${c.name} ${l} mana.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}),c.increaseMana(l),this.currentUses<this.level){let u=C(a,i),g=u.pet;if(null==g)return;this.logService.createLog({message:`${a.name} gave ${g.name} 1 exp.`,type:"ability",player:a.parent,tiger:r,randomEvent:u.random}),g.increaseExp(1)}this.triggerTigerExecution(e)}}copy(e){return new gu(e,this.logService)}}class pA extends p{logService;abilityService;name="Chimera Goat";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class gA extends p{logService;abilityService;name="Chimera Lion";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class dA extends p{logService;abilityService;name="Chimera Snake";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class du extends h{logService;abilityService;constructor(e,t,i){super({name:"ChimeraAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner,l=a.mana,o=l/2,c=Math.floor(3+1*o),u=Math.floor(3+2*o);l>0&&this.logService.createLog({message:`${a.name} spent ${l} mana.`,type:"ability",player:a.parent,tiger:r,pteranodon:n});let g=new gA(this.logService,this.abilityService,a.parent,u,c),d=a.parent.summonPet(g,a.savedPosition,!1,a);if(d.success&&this.logService.createLog({message:`${a.name} spawned a ${g.name} ${c}/${u}.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:d.randomEvent}),this.level>=2){let m=new pA(this.logService,this.abilityService,a.parent,u,c),b=a.parent.summonPet(m,a.savedPosition,!1,a);b.success&&this.logService.createLog({message:`${a.name} spawned a ${m.name} ${c}/${u}.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:b.randomEvent})}if(this.level>=3){let m=new dA(this.logService,this.abilityService,a.parent,u,c),b=a.parent.summonPet(m,a.savedPosition,!1,a);b.success&&this.logService.createLog({message:`${a.name} spawned a ${m.name} ${c}/${u}.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:b.randomEvent})}a.mana=0,this.triggerTigerExecution(e)}copy(e){return new du(e,this.logService,this.abilityService)}}class mu extends h{logService;constructor(e,t){super({name:"RocAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let o=a.parent.nearestPetsAhead(5,a).pets;if(0==o.length)return;let c=a.parent.petArray.filter(u=>u==a||!o.includes(u));for(let u=0;u<3*this.level;u++){let g=a.parent.getRandomPet(c,!0,!1,!1,a);if(null==g.pet)break;this.logService.createLog({message:`${a.name} gave ${g.pet.name} 2 mana.`,type:"ability",player:a.parent,tiger:r,randomEvent:g.random}),g.pet.increaseMana(2)}this.triggerTigerExecution(e)}copy(e){return new mu(e,this.logService)}}class bu extends h{logService;abilityService;constructor(e,t,i){super({name:"WormOfSandAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,r=Math.min(Math.max((t.parent===e.gameApi.player?e.gameApi.playerRollAmount:e.gameApi.opponentRollAmount)??0,0),8),n=Math.floor(r/4);if(n<=0)return void this.triggerTigerExecution(e);const a=this.level*n,l=De(t);for(const o of l)o.increaseAttack(a),o.increaseHealth(a);l.length>0&&this.logService.createLog({message:`${t.name} gave adjacent friends +${a}/+${a}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:l.length>1}),this.triggerTigerExecution(e)}copy(e){return new bu(e,this.logService,this.abilityService)}}class Di extends p{logService;abilityService;petService;name="Abomination";tier=4;pack="Unicorn";attack=6;health=5;initAbilities(){this.addAbility(new yu(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u,g,d,m,b,y,v,A,k,F){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u),this.abominationSwallowedPet1=g,this.abominationSwallowedPet2=d,this.abominationSwallowedPet3=m,this.abominationSwallowedPet1Level=b??1,this.abominationSwallowedPet2Level=y??1,this.abominationSwallowedPet3Level=v??1,this.abominationSwallowedPet1TimesHurt=A??0,this.abominationSwallowedPet2TimesHurt=k??0,this.abominationSwallowedPet3TimesHurt=F??0}}class yu extends h{logService;petService;constructor(e,t,i){super({name:"AbominationAbility",owner:e,triggers:["EndTurn","SpecialEndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.petService=i}executeAbility(e){const{gameApi:t,triggerPet:i,tiger:r,pteranodon:n}=e,a=this.owner,l=this.level,o=y=>{const v={};for(const A of ve){const k=y.nested(A),F=Ce("parrotCopyPetAbominationSwallowedPet",A);v[F.base]=H(a,k.base,null),v[F.belugaSwallowedPet]=H(a,k.belugaSwallowedPet,null),v[F.sarcasticFringeheadSwallowedPet]=H(a,k.sarcasticFringeheadSwallowedPet,null),v[F.level]=Ae(a,k.level,1),v[F.timesHurt]=Ae(a,k.timesHurt,0)}return v},c=y=>{const v={};for(const A of ve){const k=Ce("parrotCopyPetAbominationSwallowedPet",A);v[k.base]=y[k.base]??void 0,v[k.belugaSwallowedPet]=y[k.belugaSwallowedPet]??void 0,v[k.sarcasticFringeheadSwallowedPet]=y[k.sarcasticFringeheadSwallowedPet]??void 0,v[k.level]=y[k.level]??void 0,v[k.timesHurt]=y[k.timesHurt]??void 0}return v},g=y=>{Ht(a,"parrotCopyPet",y.parrotCopyPet??null),Ht(a,"parrotCopyPetBelugaSwallowedPet",y.parrotCopyPetBelugaSwallowedPet??null);for(const v of ve){const A=Ce("parrotCopyPetAbominationSwallowedPet",v);Ht(a,A.base,H(y,A.base,null)),Ht(a,A.belugaSwallowedPet,H(y,A.belugaSwallowedPet,null)),Ht(a,A.sarcasticFringeheadSwallowedPet,H(y,A.sarcasticFringeheadSwallowedPet,null)),hv(a,A.level,Ae(y,A.level,1)),hv(a,A.timesHurt,Ae(y,A.timesHurt,0))}},m=ve.map(y=>(y=>{const v=Ce("abominationSwallowedPet",y);return{name:H(a,v.base,null),level:Ae(a,v.level,1),timesHurt:Ae(a,v.timesHurt,0),belugaSwallowedPet:H(a,v.belugaSwallowedPet,null),sarcasticFringeheadSwallowedPet:H(a,v.sarcasticFringeheadSwallowedPet,null),parrotCopyPet:H(a,v.parrotCopyPet,null),parrotCopyPetBelugaSwallowedPet:H(a,v.parrotCopyPetBelugaSwallowedPet,null),...o(v)}})(y)).filter(y=>null!=y.name).slice(0,l);let b=m;r&&m.length>0&&(b=m.slice(0,1));for(let y of b){if(!y.name)continue;const v=y.name,A="Parrot"===v?c(y):{},k={attack:0,health:0,mana:0,equipment:null,name:v,exp:0,timesHurt:y.timesHurt??0,belugaSwallowedPet:"Beluga Whale"===v?H(y,"belugaSwallowedPet",null)??void 0:void 0,sarcasticFringeheadSwallowedPet:"Sarcastic Fringehead"===v?H(y,"sarcasticFringeheadSwallowedPet",null)??void 0:void 0,parrotCopyPet:"Parrot"===v?H(y,"parrotCopyPet",null)??void 0:void 0,parrotCopyPetBelugaSwallowedPet:"Parrot"===v?H(y,"parrotCopyPetBelugaSwallowedPet",null)??void 0:void 0};Object.assign(k,A);let F=this.petService.createPet(k,a.parent);if(!F)continue;"Beluga Whale"===v&&(a.belugaSwallowedPet=y.belugaSwallowedPet??null),"Sarcastic Fringehead"===v&&(a.sarcasticFringeheadSwallowedPet=y.sarcasticFringeheadSwallowedPet??null),"Parrot"===v&&g(y),a.removeAbility("AbominationAbility");const Q=a.abilityList.length;if(a.gainAbilities(F,"Pet",y.level??1),"Parrot"===v){const $=a.abilityList.slice(Q).filter(N=>"ParrotAbility"===N.name);for(const N of $)N.execute(t,i,r,n)}}this.triggerTigerExecution(e)}copy(e){return new yu(e,this.logService,this.petService)}}class vu extends h{logService;constructor(e,t){super({name:"UnicornAbility",owner:e,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>{const{triggerPet:r}=i,l=C(this.owner,r).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,a=this.owner;let l=2*this.level;if(!i)return;this.logService.createLog({message:`${a.name} removed ailment from ${i.name}.`,type:"ability",player:a.parent}),i.removePerk();let o=C(a,i),c=o.pet;null!=c&&(this.logService.createLog({message:`${a.name} gave ${c.name} ${l} attack and ${l} health.`,type:"ability",player:a.parent,randomEvent:o.random}),c.increaseAttack(l),c.increaseHealth(l),this.triggerTigerExecution(e))}copy(e){return new vu(e,this.logService)}}class Au extends h{logService;constructor(e,t){super({name:"VampireBatAbility",owner:e,triggers:["EnemyGainedAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,precondition:i=>{const{triggerPet:r}=i,l=Gt(this.owner,r).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;let l=4*this.level,c=Gt(a,i).pet;if(null==c)return;const u=c.health;let g=a.snipePet(c,l,!1,r),d=Math.min(g,u),m=a.parent.getThis(a),b=m.pet;null!=b&&(this.logService.createLog({message:`${a.name} gave ${b.name} ${d} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:m.random}),b.increaseHealth(d),this.triggerTigerExecution(e))}copy(e){return new Au(e,this.logService)}}class fu extends h{logService;constructor(e,t){super({name:"RedDragonAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getPetsWithEquipmentWithSillyFallback("Crisp",a),o=a.parent.opponent.getLastPets(this.level,l,a),c=o.pets;if(0!=c.length){for(let u of c)this.logService.createLog({message:`${a.name} gave ${u.name} Crisp.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}),u.givePetEquipment(new Xe);this.triggerTigerExecution(e)}}copy(e){return new fu(e,this.logService)}}class ku extends h{logService;constructor(e,t){super({name:"LovelandFrogmanAbility",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,precondition:i=>{const{triggerPet:r}=i,n=this.owner,l=C(n,r).pet;return!!l&&l.alive&&!n.targettedFriends.has(l)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i}=e,a=this.owner;let l={attack:1*a.level,health:2*a.level},o=C(a,i),c=o.pet;null!=c&&(this.logService.createLog({message:`${a.name} gave ${c.name} ${l.attack} attack and ${l.health} health.`,type:"ability",player:a.parent,randomEvent:o.random}),c.increaseAttack(l.attack),c.increaseHealth(l.health),a.targettedFriends.add(c),this.triggerTigerExecution(e))}copy(e){return new ku(e,this.logService)}}class Su extends h{logService;pendingBuffs=new Map;constructor(e,t){super({name:"JerseyDevilAbility",owner:e,triggers:["FriendSummoned","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,triggerPet:i,tiger:r,pteranodon:n}=e,a=this.owner;if("EndTurn"===e.trigger)return this.resetBuffs(),void this.triggerTigerExecution(e);if(!i)return;let o=a.parent===t.player?t.playerLevel3Sold:t.opponentLevel3Sold;o=Math.min(o??0,5);const c=this.level*o,u=ee(a,i,(m,b)=>m.parent.getSpecificPet(m,b));if(!u.pet||c<=0)return;const g=u.pet;g.increaseAttack(c),g.increaseHealth(c);const d=this.pendingBuffs.get(g)??{attack:0,health:0};this.pendingBuffs.set(g,{attack:d.attack+c,health:d.health+c}),D(this.logService,a,`${a.name} gave ${g.name} ${c} attack and ${c} health until next turn.`,r,n,{randomEvent:u.random}),this.triggerTigerExecution(e)}resetBuffs(){for(const[e,t]of this.pendingBuffs)e&&(t.attack&&e.increaseAttack(-t.attack),t.health&&e.increaseHealth(-t.health));this.pendingBuffs.clear()}copy(e){return new Su(e,this.logService)}}class Pu extends h{logService;constructor(e,t){super({name:"PixiuAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;a.mana<4||(this.logService.createLog({message:`${a.name} spent 4 mana and gained ${3*this.level} gold for next turn.`,type:"ability",player:a.parent,tiger:r}),a.mana-=4,this.triggerTigerExecution(e))}copy(e){return new Pu(e,this.logService)}}class Tu extends h{logService;constructor(e,t){super({name:"KitsuneAbility",owner:e,triggers:["FriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner,l=a.petAhead;if(!l||!l.alive)return;let o=0;const c=a.parent.petArray.filter(u=>u.mana>0&&u!==a&&u!==l);for(let u of c){const g=u.mana;o+=g,u.mana=0,this.logService.createLog({message:`${a.name} took ${g} mana from ${u.name}.`,type:"ability",player:a.parent,tiger:r})}this.logService.createLog({message:`${a.name} gave ${l.name} +${o+2*a.level} mana.`,type:"ability",player:a.parent,tiger:r}),l.increaseMana(o+2*a.level),this.triggerTigerExecution(e)}copy(e){return new Tu(e,this.logService)}}class mA extends p{logService;abilityService;name="Nessie?";tier=1;pack="Unicorn";hidden=!0;health=2;attack=1;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class wu extends h{logService;abilityService;constructor(e,t,i){super({name:"NessieAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:n}=e,a=this.owner,c=3*this.level,u=3*this.level;let g=c,d=u,m="";const b=!a.parent.summonedBoatThisBattle;if(b){const k=(a.parent===t.player?t.playerRollAmount:t.opponentRollAmount)*this.level;g+=k,d+=k,a.parent.summonedBoatThisBattle=!0}g=Math.min(50,g),d=Math.min(50,d),b&&(m=` It's the first Boat, so it gains +${Math.max(0,g-c)}/+${Math.max(0,d-u)}!`);let y=new mA(this.logService,this.abilityService,a.parent,d,g,0),v=a.parent.summonPet(y,a.savedPosition,!1,a);v.success&&this.logService.createLog({message:`${a.name} spawned a Nessie? ${g}/${d}${m}`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:v.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new wu(e,this.logService,this.abilityService)}}class xu extends h{logService;abilityService;constructor(e,t,i){super({name:"BadDogAbility",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} chose a level ${this.level} toy that brings doom and chaos!`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new xu(e,this.logService,this.abilityService)}}class Ru extends h{logService;constructor(e,t){super({name:"WerewolfAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i}=e,r=this.owner;if((t?.turnNumber??1)%2!=0&&t?.mana){const o=6*this.level;let u=r.parent.getThis(r).pet;if(null==u)return;u.increaseMana(o),this.logService.createLog({message:`${r.name} gave ${u.name} ${o} mana.`,type:"ability",player:r.parent,tiger:i})}else{let c=r.parent.getThis(r).pet;if(null==c)return;let u=.5*this.level;const g=Math.floor(r.attack*u),d=Math.floor(r.health*u);let m=Math.min(50,r.attack+g),b=Math.min(50,r.health+d);this.logService.createLog({message:`${r.name} increased ${c.name}'s stats by ${100*u}% (${m}/${b}).`,type:"ability",player:r.parent,tiger:i}),c.increaseAttack(g),c.increaseHealth(d)}this.triggerTigerExecution(e)}copy(e){return new Ru(e,this.logService)}}class Lu extends h{logService;constructor(e,t){super({name:"AmalgamationAbility",owner:e,triggers:["FriendSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,precondition:i=>{const{triggerPet:r}=i;return!!r&&!!ee(this.owner,r,(a,l)=>a.parent.getSpecificPet(a,l)).pet},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r,pteranodon:n}=e,a=this.owner,l=ee(a,i,(g,d)=>g.parent.getSpecificPet(g,d)),o=l.pet;if(!o)return;const c=3*this.level,u=4*this.level;D(this.logService,a,`${a.name} gave ${o.name} +${c} attack, +${u} mana, and Spooked.`,r,n,{randomEvent:l.random}),o.increaseAttack(c),o.increaseMana(u),o.givePetEquipment(new Te),this.triggerTigerExecution(e)}copy(e){return new Lu(e,this.logService)}}class Eu extends h{logService;abilityService;constructor(e,t,i){super({name:"ManticoreAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){}copy(e){return new Eu(e,this.logService,this.abilityService)}}class bA extends p{logService;abilityService;name="Young Phoenix";tier=1;pack="Unicorn";hidden=!0;health=6;attack=6;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Cu extends h{logService;abilityService;constructor(e,t,i){super({name:"PhoenixAfterFaintAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=4*this.level,o=new bA(this.logService,this.abilityService,a.parent,l,l,0),c=a.parent.summonPet(o,a.savedPosition,!1,a);c.success&&this.logService.createLog({message:`${a.name} spawned a Young Phoenix (${l}/${l}).`,type:"ability",player:a.parent,tiger:r,pteranodon:n,sourcePet:a,randomEvent:c.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Cu(e,this.logService,this.abilityService)}}class Fu extends h{logService;constructor(e,t){super({name:"PhoenixFaintAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=3*this.level,c=[...a.parent.petArray,...a.parent.opponent.petArray].filter(d=>d.equipment instanceof Xe),u=a.parent.getRandomPets(l,c,!0,!0,a,!0),g=u.pets;if(g.length>0)for(let d of g)this.logService.createLog({message:`${a.name} gave ${d.name} Crisp.`,type:"ability",randomEvent:u.random,tiger:r,player:a.parent}),d.givePetEquipment(new Xe);this.triggerTigerExecution(e)}copy(e){return new Fu(e,this.logService)}}class Nu extends h{logService;abilityService;constructor(e,t,i){super({name:"QuetzalcoatlAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t.parent.petArray.filter(n=>n.alive&&n!==t&&n.tier<=3);if(0===i.length)return void this.triggerTigerExecution(e);const r=this.level;for(let n=0;n<r;n++){const a=L({key:"pet.quetzalcoatl-end-turn-target",label:M(t,"Quetzalcoatl end turn target",n+1),options:i.map(o=>({id:`${o.savedPosition+1}:${o.name}`,label:`P${o.savedPosition+1} ${o.name}`}))},()=>S(0,i.length-1)),l=i[a.index];l.increaseExp(2),this.logService.createLog({message:`${t.name} gave ${l.name} +2 experience.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Nu(e,this.logService,this.abilityService)}}class Iu extends h{logService;constructor(e,t){super({name:"TeamSpiritAbility",owner:e,triggers:["FriendLeveledUp"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getAll(!1,a,!0),o=l.pets,c={attack:a.level,health:a.level};for(let u of o)this.logService.createLog({message:`${a.name} gave ${u.name} ${c.attack} attack and ${c.health} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),u.increaseAttack(c.attack),u.increaseHealth(c.health);this.triggerTigerExecution(e)}copy(e){return new Iu(e,this.logService)}}class Mu extends h{logService;constructor(e,t){super({name:"SleipnirAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=Math.floor(a.attack/2),o=a.parent.getFurthestUpPets(this.level,[a],a),c=o.pets;if(0!=c.length){for(let u of c)null!=u&&(this.logService.createLog({message:`${a.name} gave ${u.name} ${l} mana.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}),u.increaseMana(l));this.triggerTigerExecution(e)}}copy(e){return new Mu(e,this.logService)}}class $u extends h{logService;constructor(e,t){super({name:"SeaSerpentAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner,o=e.seaSerpentMana??a.mana;if(0==o)return;null==e.seaSerpentMana&&(e.seaSerpentMana=o,a.mana=0);let c=o;this.logService.createLog({message:`${a.name} spent ${o} mana.`,type:"ability",player:a.parent,tiger:r,pteranodon:n});let g=a.parent.opponent.getHighestHealthPet(void 0,a);null!=g.pet&&a.snipePet(g.pet,c,g.random,r,n);let d=a.parent.getRandomEnemyPetsWithSillyFallback(this.level,[g.pet],null,!0,a);for(let m of d.pets)null!=m&&a.snipePet(m,c,d.random,r,n);this.triggerTigerExecution(e)}copy(e){return new $u(e,this.logService)}}class Bu extends h{logService;abilityService;constructor(e,t,i){super({name:"YetiAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} rolled ${4*this.level} times while freezing pet copies and tier 6 food.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Bu(e,this.logService,this.abilityService)}}class yA extends p{logService;abilityService;name="Fire Pup";tier=1;pack="Unicorn";hidden=!0;health=8;attack=8;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class qu extends h{logService;abilityService;constructor(e,t,i){super({name:"CerberusAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,condition:r=>null==this.owner.parent.pet0,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,a=this.owner;let o=new yA(this.logService,this.abilityService,a.parent,8,8,null,5),c=a.parent.summonPet(o,0,!1,a);c.success&&this.logService.createLog({message:`${a.name} spawned Fire Pup (8/8).`,type:"ability",player:a.parent,tiger:r,sourcePet:a,randomEvent:c.randomEvent}),this.triggerTigerExecution(e)}reset(){this.maxUses=this.level,super.reset()}copy(e){return new qu(e,this.logService,this.abilityService)}}class vA extends p{logService;abilityService;name="Head";tier=1;pack="Unicorn";hidden=!0;health=5;attack=5;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Gu extends h{logService;abilityService;constructor(e,t,i){super({name:"HydraAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=Math.floor(a.attack/10);for(let o=0;o<l;o++){let c=5*this.level,u=new vA(this.logService,this.abilityService,a.parent,c,c),g=a.parent.summonPet(u,a.savedPosition,!1,a);g.success&&this.logService.createLog({message:`${a.name} spawned Head (${u.attack}/${u.health}).`,type:"ability",player:a.parent,tiger:r,pteranodon:n,sourcePet:a,randomEvent:g.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Gu(e,this.logService,this.abilityService)}}class Hu extends h{logService;abilityService;constructor(e,t,i){super({name:"BehemothAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){}copy(e){return new Hu(e,this.logService,this.abilityService)}}const hM={Baku:class sI extends p{logService;abilityService;name="Baku";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new Ic(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Barghest:class oI extends p{logService;abilityService;name="Barghest";tier=1;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new $c(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Tsuchinoko:class cI extends p{logService;abilityService;name="Tsuchinoko";tier=1;pack="Unicorn";attack=2;health=1;initAbilities(){this.addAbility(new Bc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Murmel:class uI extends p{logService;abilityService;name="Murmel";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new qc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Alchemedes:class hI extends p{logService;abilityService;name="Alchemedes";tier=1;pack="Unicorn";attack=3;health=2;initAbilities(){this.addAbility(new Gc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Pengobble:class pI extends p{logService;abilityService;name="Pengobble";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new Hc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Bunyip:class gI extends p{logService;abilityService;name="Bunyip";tier=1;pack="Unicorn";attack=3;health=1;initAbilities(){this.addAbility(new Dc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Sneaky Egg":class dI extends p{logService;abilityService;name="Sneaky Egg";tier=1;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new Oc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Cuddle Toad":class mI extends p{logService;abilityService;name="Cuddle Toad";tier=1;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new Wc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"???":class lI extends p{logService;abilityService;name="???";tier=1;pack="Unicorn";attack=3;health=2;initAbilities(){this.addAbility(new Mc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Ghost Kitten":class bI extends p{logService;abilityService;name="Ghost Kitten";tier=2;pack="Unicorn";attack=4;health=3;initAbilities(){this.addAbility(new jc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Frost Wolf":class yI extends p{logService;abilityService;name="Frost Wolf";tier=2;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new Uc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Mothman:class vI extends p{logService;abilityService;name="Mothman";tier=2;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new _c(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Drop Bear":class AI extends p{logService;abilityService;name="Drop Bear";tier=2;pack="Unicorn";attack=2;health=2;initAbilities(){this.addAbility(new Vc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Jackalope:class fI extends p{logService;abilityService;name="Jackalope";tier=2;pack="Unicorn";attack=1;health=4;initAbilities(){this.addAbility(new Kc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Ogopogo:class kI extends p{logService;abilityService;name="Ogopogo";tier=2;pack="Unicorn";attack=3;health=1;initAbilities(){this.addAbility(new zc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Thunderbird:class SI extends p{logService;abilityService;name="Thunderbird";tier=2;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new Qc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Gargoyle:class PI extends p{logService;abilityService;name="Gargoyle";tier=2;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new Yc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Bigfoot:class TI extends p{logService;abilityService;name="Bigfoot";tier=2;pack="Unicorn";attack=2;health=3;initAbilities(){this.addAbility(new Jc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Lucky Cat":class xI extends p{logService;abilityService;name="Lucky Cat";tier=3;pack="Unicorn";attack=1;health=2;initAbilities(){this.addAbility(new Xc(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Skeleton Dog":class RI extends p{logService;abilityService;name="Skeleton Dog";tier=3;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new eu(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Mandrake:class LI extends p{logService;abilityService;name="Mandrake";tier=3;pack="Unicorn";attack=4;health=3;initAbilities(){this.addAbility(new tu(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Fur-Bearing Trout":class EI extends p{logService;abilityService;name="Fur-Bearing Trout";tier=3;pack="Unicorn";attack=3;health=5;initAbilities(){this.addAbility(new iu(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Mana Hound":class CI extends p{logService;abilityService;name="Mana Hound";tier=3;pack="Unicorn";attack=4;health=3;initAbilities(){this.addAbility(new ru(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Calygreyhound:class FI extends p{logService;abilityService;name="Calygreyhound";tier=3;pack="Unicorn";attack=4;health=4;initAbilities(){this.addAbility(new au(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Brain Cramp":class NI extends p{logService;abilityService;name="Brain Cramp";tier=3;pack="Unicorn";attack=1;health=2;initAbilities(){this.addAbility(new nu(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Minotaur:class BI extends p{logService;abilityService;name="Minotaur";tier=4;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new cu(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Wyvern:class wI extends p{logService;abilityService;name="Wyvern";tier=3;pack="Unicorn";attack=3;health=4;initAbilities(){this.addAbility(new Zc(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Ouroboros:class II extends p{logService;abilityService;name="Ouroboros";tier=3;pack="Unicorn";attack=2;health=4;initAbilities(){this.addAbility(new su(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Griffin:class MI extends p{logService;abilityService;name="Griffin";tier=3;pack="Unicorn";attack=5;health=4;initAbilities(){this.addAbility(new lu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Kraken:class qI extends p{logService;abilityService;name="Kraken";tier=4;pack="Unicorn";attack=5;health=7;initAbilities(){this.addAbility(new uu(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Visitor:class GI extends p{logService;abilityService;name="Visitor";tier=4;pack="Unicorn";attack=7;health=5;initAbilities(){this.addAbility(new hu(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Vampire Bat":class _I extends p{logService;abilityService;name="Vampire Bat";tier=5;pack="Unicorn";attack=2;health=5;initAbilities(){this.addAbility(new Au(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Tiger Bug":class HI extends p{logService;abilityService;name="Tiger Bug";tier=4;pack="Unicorn";attack=4;health=4;initAbilities(){this.addAbility(new pu(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Tatzelwurm:class $I extends p{logService;abilityService;name="Tatzelwurm";tier=4;pack="Unicorn";attack=1;health=3;initAbilities(){this.addAbility(new ou(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Cyclops:class DI extends p{logService;abilityService;name="Cyclops";tier=4;pack="Unicorn";attack=2;health=5;initAbilities(){this.addAbility(new gu(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Chimera:class OI extends p{logService;abilityService;name="Chimera";tier=4;pack="Unicorn";attack=2;health=6;initAbilities(){this.addAbility(new du(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c),this.suppressManaSnipeOnFaint=!0}},Roc:class WI extends p{logService;abilityService;name="Roc";tier=4;pack="Unicorn";attack=4;health=4;initAbilities(){this.addAbility(new mu(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Worm of Sand":class jI extends p{logService;abilityService;name="Worm of Sand";tier=4;pack="Unicorn";attack=4;health=1;initAbilities(){this.addAbility(new bu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Red Dragon":class VI extends p{logService;abilityService;name="Red Dragon";tier=5;pack="Unicorn";attack=4;health=8;initAbilities(){this.addAbility(new fu(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Unicorn:class UI extends p{logService;abilityService;name="Unicorn";tier=4;pack="Unicorn";attack=2;health=4;initAbilities(){this.addAbility(new vu(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Loveland Frogman":class KI extends p{logService;abilityService;name="Loveland Frogman";tier=5;pack="Unicorn";attack=1;health=5;initAbilities(){this.addAbility(new ku(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Salmon of Knowledge":us,"Jersey Devil":class zI extends p{logService;abilityService;name="Jersey Devil";tier=5;pack="Unicorn";attack=3;health=2;initAbilities(){this.addAbility(new Su(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Pixiu:class QI extends p{logService;abilityService;name="Pixiu";tier=5;pack="Unicorn";attack=5;health=6;initAbilities(){this.addAbility(new Pu(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Kitsune:class YI extends p{logService;abilityService;name="Kitsune";tier=5;pack="Unicorn";attack=2;health=7;initAbilities(){this.addAbility(new Tu(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Nessie:class JI extends p{logService;abilityService;name="Nessie";tier=5;pack="Unicorn";attack=3;health=5;initAbilities(){this.addAbility(new wu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Bad Dog":class ZI extends p{logService;abilityService;name="Bad Dog";tier=5;pack="Unicorn";attack=3;health=3;initAbilities(){this.addAbility(new xu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Werewolf:class XI extends p{logService;abilityService;name="Werewolf";tier=5;pack="Unicorn";attack=7;health=7;initAbilities(){this.addAbility(new Ru(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Amalgamation:class eM extends p{logService;abilityService;name="Amalgamation";tier=5;pack="Unicorn";attack=4;health=5;initAbilities(){this.addAbility(new Lu(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Manticore:class tM extends p{logService;abilityService;name="Manticore";tier=6;pack="Unicorn";attack=7;health=4;initAbilities(){this.addAbility(new Eu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Phoenix:class iM extends p{logService;abilityService;name="Phoenix";tier=6;pack="Unicorn";attack=8;health=8;initAbilities(){this.addAbility(new Fu(this,this.logService)),this.addAbility(new Cu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Quetzalcoatl:class rM extends p{logService;abilityService;name="Quetzalcoatl";tier=6;pack="Unicorn";attack=4;health=8;initAbilities(){this.addAbility(new Nu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Team Spirit":class aM extends p{logService;abilityService;name="Team Spirit";tier=6;pack="Unicorn";attack=4;health=5;initAbilities(){this.addAbility(new Iu(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Sleipnir:class nM extends p{logService;abilityService;name="Sleipnir";tier=6;pack="Unicorn";attack=8;health=5;initAbilities(){this.addAbility(new Mu(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Sea Serpent":class sM extends p{logService;abilityService;name="Sea Serpent";tier=6;pack="Unicorn";attack=6;health=6;initAbilities(){this.addAbility(new $u(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Yeti:class lM extends p{logService;abilityService;name="Yeti";tier=6;pack="Unicorn";attack=5;health=9;initAbilities(){this.addAbility(new Bu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Cerberus:class oM extends p{logService;abilityService;name="Cerberus";tier=6;pack="Unicorn";attack=9;health=9;initAbilities(){this.addAbility(new qu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Hydra:class cM extends p{logService;abilityService;name="Hydra";tier=6;pack="Unicorn";attack=10;health=6;initAbilities(){this.addAbility(new Gu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Behemoth:class uM extends p{logService;abilityService;name="Behemoth";tier=6;pack="Unicorn";attack=12;health=12;initAbilities(){this.addAbility(new Hu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Abomination:Di};class Du extends p{logService;abilityService;petService;name="Iriomote Cat";tier=1;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new Ou(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class Ou extends h{logService;petService;constructor(e,t,i){super({name:"IriomoteCatAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.petService=i}executeAbility(e){const a=this.owner,l=Dt.iriomoteCat[this.level]??this.petService.allPets.get(this.level)??[];if(0===l.length)return;const o=L({key:"pet.iriomote-cat-transform",label:M(a,"Iriomote Cat transform"),options:l.map(g=>({id:g,label:g}))},()=>S(0,l.length-1));let c=l[o.index],u=this.petService.createPet({name:c,attack:a.attack,health:a.health,exp:0,equipment:a.equipment,mana:a.mana},a.parent);this.logService.createLog({message:`${a.name} transformed into a ${c} (Level ${u.level}).`,type:"ability",player:a.parent,randomEvent:o.randomEvent}),a.parent.transformPet(a,u),this.triggerTigerExecution(e)}copy(e){return new Ou(e,this.logService,this.petService)}}class Wu extends h{logService;constructor(e,t){super({name:"IliPikaAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,precondition:i=>{const{triggerPet:r}=i,l=C(this.owner,r).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;let l=C(a,i),o=l.pet;if(!o)return;let c=1*this.level;o.attack>o.health?(o.increaseAttack(c),this.logService.createLog({message:`${a.name} give ${c} attack to ${o.name}.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random})):(o.increaseHealth(c),this.logService.createLog({message:`${a.name} give ${c} health to ${o.name}.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random})),this.triggerTigerExecution(e)}copy(e){return new Wu(e,this.logService)}}class ju extends h{logService;constructor(e,t){super({name:"MalayTapirAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getThis(a),o=l.pet;if(!o)return;let c=1*this.level;o.increaseHealth(c),this.logService.createLog({message:`${a.name} gave ${o.name} ${c} health`,type:"ability",player:a.parent,sourcePet:a,targetPet:o,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new ju(e,this.logService)}}class Uu extends h{logService;abilityService;constructor(e,t,i){super({name:"BombusDahlbomiiAbility",owner:e,triggers:["EnemyAttacked2"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,a=this.owner;this.abilityService.setCounterEvent({callback:()=>{let l=a.parent.opponent.getFurthestUpPet(a),o=l.pet;o&&a.snipePet(o,1*this.level,l.random,r)},priority:a.attack,pet:a}),this.triggerTigerExecution(e)}copy(e){return new Uu(e,this.logService,this.abilityService)}}class AA extends p{logService;abilityService;name="Ethiopian Wolf";tier=1;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new _u(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class _u extends h{logService;constructor(e,t){super({name:"EthiopianWolfAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.opponent.getFurthestUpPets(this.level,void 0,a);for(const o of l.pets)o?.alive&&(o.increaseAttack(-1),this.logService.createLog({message:`${a.name} removed 1 attack from ${o.name}.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:l.random}));this.triggerTigerExecution(e)}copy(e){return new _u(e,this.logService)}}class Vu extends h{constructor(e){super({name:"FanMusselAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:t=>{this.executeAbility(t)}})}executeAbility(e){}copy(e){return new Vu(e)}}class Ku extends h{logService;constructor(e,t){super({name:"TogianBabirusaAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.opponent.getRandomPet([],!1,!1,!1,a);l.pet&&(l.pet.increaseHealth(1),this.logService.createLog({message:`${a.name} gave ${l.pet.name} +1 health.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:l.random})),this.triggerTigerExecution(e)}copy(e){return new Ku(e,this.logService)}}class zu extends h{logService;constructor(e,t){super({name:"VolcanoSnailAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let c=[...a.parent.getPetsWithEquipmentWithSillyFallback("perk",a),...a.parent.getPetsWithEquipmentWithSillyFallback("Toasty",a)],u=a.parent.getRandomEnemyPetsWithSillyFallback(this.level,c,null,null,a);if(0!==u.pets.length){for(let g of u.pets){let d=new ar;g.givePetEquipment(d),this.logService.createLog({message:`${a.name} made ${g.name} Toasty`,type:"ability",player:a.parent,sourcePet:a,targetPet:g,tiger:r,randomEvent:u.random})}this.triggerTigerExecution(e)}}copy(e){return new zu(e,this.logService)}}class Qu extends h{logService;constructor(e,t){super({name:"AfricanWildDogAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let o,l=a.parent.opponent.getFurthestUpPet(a);if(null!=l.pet){if(o=l.random?l.pet:l.pet?.petBehind(),o){let c=3*this.level;a.jumpAttackPrep(o),a.jumpAttack(o,r,c,l.random)}this.triggerTigerExecution(e)}}copy(e){return new Qu(e,this.logService)}}class Yu extends h{logService;constructor(e,t){super({name:"AraripeManakinAbility",owner:e,triggers:["FriendTransformed","FriendJumped"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getThis(a),o=l.pet;if(!o)return;let c=3*this.level;o.increaseHealth(c),this.logService.createLog({message:`${a.name} gave ${o.name} ${c} health`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new Yu(e,this.logService)}}class Ju extends h{logService;constructor(e,t){super({name:"EuropeanMinkAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:5,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=this.level,o=a.parent.nearestPetsAhead(1,a);if(o.pets.length>0){let u=o.pets[0];u.increaseAttack(l),this.logService.createLog({message:`${a.name} gave ${u.name} ${l} attack.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random})}let c=a.parent.nearestPetsBehind(1,a);if(c.pets.length>0){let u=c.pets[0];u.increaseAttack(l),this.logService.createLog({message:`${a.name} gave ${u.name} ${l} attack.`,type:"ability",player:a.parent,tiger:r,randomEvent:c.random})}this.triggerTigerExecution(e)}copy(e){return new Ju(e,this.logService)}}class SA extends p{logService;abilityService;name="Angry Pygmy Hog";tier=2;pack="Custom";attack=5;health=5;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Zu extends h{logService;abilityService;constructor(e,t,i){super({name:"PygmyHogAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,a=this.owner;let l={health:Math.max(5*this.level,a.health),attack:Math.max(5*this.level,a.attack)},o=new SA(this.logService,this.abilityService,a.parent,l.health,l.attack,a.mana,a.exp,new In);this.logService.createLog({message:`${a.name} transformed into ${o.name} (${l.attack}/${l.health}) with Garlic!`,type:"ability",player:a.parent,tiger:r}),a.parent.transformPet(a,o),this.triggerTigerExecution(e)}copy(e){return new Zu(e,this.logService,this.abilityService)}}class Xu extends h{logService;constructor(e,t){super({name:"SakerFalconAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;if(a.parent.petArray.length<a.parent.opponent.petArray.length){let c=a.parent.getThis(a),u=c.pet;if(!u)return;let g=2*this.level;u.increaseAttack(g),u.increaseHealth(g),this.logService.createLog({message:`${a.name} gave ${u.name} ${g} attack and ${g} health (outnumbered)`,type:"ability",player:a.parent,tiger:r,randomEvent:c.random})}this.triggerTigerExecution(e)}copy(e){return new Xu(e,this.logService)}}class eh extends h{logService;abilityService;constructor(e,t,i){super({name:"TaitaShrewAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getThis(a),o=l.pet;if(!o)return;let c=new oA(this.logService,this.abilityService,a.parent,o.health,o.attack,o.mana,o.exp,o.equipment);this.logService.createLog({message:`${a.name} transformed ${o.name} into ${c.name} (level ${this.level}).`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),a.parent.transformPet(o,c),this.triggerTigerExecution(e)}copy(e){return new eh(e,this.logService,this.abilityService)}}class th extends h{logService;constructor(e,t){super({name:"WhiteBelliedHeronAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.nearestPetsAhead(1,a);if(0==l.pets.length)return;let o=l.pets[0],c=new vv;c.multiplier+=this.level-1,o.givePetEquipment(c);let u=".";2===this.level?u=" twice for double effect.":3===this.level&&(u=" thrice for triple effect."),this.logService.createLog({message:`${a.name} made ${o.name} Meat Bone${u}`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new th(e,this.logService)}}class ih extends h{logService;constructor(e,t){super({name:"DarwinsFoxAbility",owner:e,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;if(i&&i.alive){let l=a.parent.getSpecificPet(a,i),o=l.pet;if(!o)return;a.jumpAttackPrep(o),a.jumpAttack(o,r,void 0,l.random)}else{let l=a.parent.opponent.getFurthestUpPet(a),o=l.pet;if(!o)return;a.jumpAttackPrep(o),a.jumpAttack(o,r,void 0,l.random)}this.triggerTigerExecution(e)}reset(){this.maxUses=this.level,super.reset()}copy(e){return new ih(e,this.logService)}}class rh extends p{logService;abilityService;petService;name="Takhi";tier=2;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new ah(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class ah extends h{logService;abilityService;petService;constructor(e,t,i,r){super({name:"TakhiAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:n}=e,a=this.owner;let c=this.petService.createPet({name:"African Wild Dog",attack:3*this.level,health:2*this.level,exp:0,mana:0,equipment:null},a.parent);if(c){let u=a.parent.summonPet(c,a.savedPosition,!1,a);u.success&&(this.logService.createLog({message:`${a.name} summoned a ${c.attack}/${c.health} ${c.name}`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:u.randomEvent}),c.activateAbilities("StartBattle",t,"Pet"))}this.triggerTigerExecution(e)}copy(e){return new ah(e,this.logService,this.abilityService,this.petService)}}class nh extends h{logService;constructor(e,t){super({name:"BlueThroatedMacawAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,precondition:i=>{const{triggerPet:r}=i,l=C(this.owner,r).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;if(i){if(i.position<a.position){let l=C(a,i),o=l.pet;if(!o)return;let c=3*this.level;o.increaseAttack(c),this.logService.createLog({message:`${a.name} gave ${o.name} +${c} attack.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random})}else{let l=C(a,i),o=l.pet;if(!o)return;let c=3*this.level;o.increaseHealth(c),this.logService.createLog({message:`${a.name} gave ${o.name} +${c} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random})}this.triggerTigerExecution(e)}}copy(e){return new nh(e,this.logService)}}class sh extends h{logService;abilityService;constructor(e,t,i){super({name:"HirolaAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;for(let l=0;l<this.level;l++){let o=new AA(this.logService,this.abilityService,a.parent,3,4,a.mana,a.exp),c=a.parent.summonPet(o,a.savedPosition,!1,a);c.success&&this.logService.createLog({message:`${a.name} summoned a 4/3 ${o.name}.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:c.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new sh(e,this.logService,this.abilityService)}}class lh extends h{logService;constructor(e,t){super({name:"MonkeyFacedBatAbility",owner:e,triggers:["AnyoneBehindHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getRandomPets(2,[],!0,!1,a);for(let o of l.pets)if(null!=o){let c={attack:this.level,health:2*this.level};o.increaseAttack(c.attack),o.increaseHealth(c.health),this.logService.createLog({message:`${a.name} gave ${o.name} ${c.attack} attack and ${c.health} health`,type:"ability",player:a.parent,randomEvent:l.random,tiger:r})}this.triggerTigerExecution(e)}copy(e){return new lh(e,this.logService)}}class oh extends h{logService;abilityService;constructor(e,t,i){super({name:"PygmyHippoAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=Math.floor(.33*a.health),o=a.parent.opponent.getLowestHealthPets(this.level,void 0,a);for(let c of o.pets)a.snipePet(c,l,o.random,r);this.triggerTigerExecution(e)}copy(e){return new oh(e,this.logService,this.abilityService)}}class ch extends h{logService;constructor(e,t){super({name:"TakinAbility",owner:e,triggers:["FriendAheadHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=this.level,o=2*this.level,c=a.parent.getThis(a),u=c.pet;u.increaseAttack(l),u.increaseHealth(o),this.logService.createLog({message:`${a.name} gave ${u.name} ${l} attack and ${o} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:c.random}),this.triggerTigerExecution(e)}copy(e){return new ch(e,this.logService)}}class uh extends h{logService;constructor(e,t){super({name:"TucuxiAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.getLastPet([a],a),o=l.pet;if(!o)return;a.parent.pushPetToFront(o,!1),this.logService.createLog({message:`${a.name} pushed ${o.name} to the front`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:l.random});let c=3*this.level;o.increaseAttack(c),o.increaseHealth(c),this.logService.createLog({message:`${a.name} gave ${o.name} +${c} attack and +${c} health`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new uh(e,this.logService)}}class hh extends p{logService;abilityService;petService;name="Roloway Monkey";tier=3;pack="Danger";attack=2;health=5;initAbilities(){this.addAbility(new ph(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class ph extends h{logService;petService;constructor(e,t,i){super({name:"RolowayMonkeyAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.nearestPetsAhead(2,a);if(0===l.pets.length)return;const o=Dt.rolowayMonkey;for(let c of l.pets){const u=L({key:"pet.roloway-monkey-transform",label:M(a,`Roloway Monkey transform for P${c.savedPosition+1} ${c.name}`),options:o.map(m=>({id:m,label:m}))},()=>S(0,o.length-1));let d=this.petService.createPet({name:o[u.index],health:c.health,attack:c.attack,mana:c.mana,exp:a.exp,equipment:c.equipment},a.parent);a.parent.transformPet(c,d),this.logService.createLog({message:`${a.name} transformed ${c.name} into a ${d.attack}/${d.health} ${d.name}.`,type:"ability",player:a.parent,tiger:r,randomEvent:u.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new ph(e,this.logService,this.petService)}}class gh extends h{logService;constructor(e,t){super({name:"AmamiRabbitAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=1*this.level,o=a.parent.opponent.getHighestAttackPet(void 0,a);if(o.pet&&o.pet.alive){if(a.jumpAttackPrep(o.pet),a.transformed&&a.transformedInto){let c=a.parent.getThis(a.transformedInto);c.pet&&(a.transformedInto.increaseAttack(l),this.logService.createLog({message:`${a.name} gave ${a.transformedInto.name} ${l} attack`,type:"ability",player:a.parent,tiger:r,randomEvent:c.random}))}else{let c=a.parent.getThis(a);c.pet&&(c.pet.increaseAttack(l),this.logService.createLog({message:`${a.name} gave ${c.pet.name} ${l} attack`,type:"ability",player:a.parent,tiger:r,randomEvent:c.random}))}a.jumpAttack(o.pet,r,void 0,o.random)}this.triggerTigerExecution(e)}copy(e){return new gh(e,this.logService)}}class dh extends h{logService;constructor(e,t){super({name:"TreeKangarooAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:n}=e,a=this.owner;let u=[...a.parent.getPetsWithEquipmentWithSillyFallback("perk",a),...a.parent.opponent.petArray.filter(m=>"Tree Kangaroo"==m.name),...a.parent.petArray.filter(m=>"Tree Kangaroo"==m.name)],g=a.parent.opponent.getLastPet(u,a),d=g.pet;d&&(d.givePetEquipment(new Cv),this.logService.createLog({message:`${a.name} gave ${d.name} Silly`,type:"ability",tiger:r,player:a.parent,randomEvent:g.random}));for(let m=0;m<this.level;m++){let y=a.parent.getSpecificPet(a,d).pet;if(y){this.logService.createLog({message:`${a.name} activated ${d.name}'s ability.`,type:"ability",tiger:r,player:a.parent,randomEvent:g.random});for(const v of y.abilityList)v.execute(t,y,r,n)}}this.triggerTigerExecution(e)}copy(e){return new dh(e,this.logService)}}class mh extends p{logService;abilityService;petService;name="Bonobo";tier=4;pack="Danger";attack=3;health=3;constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class bh extends h{logService;abilityService;constructor(e,t,i){super({name:"GiantTortoiseAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new bh(e,this.logService,this.abilityService)}}class yh extends h{logService;constructor(e,t){super({name:"HumpheadWrasseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=.3*this.level,o=a.parent.opponent.getHighestAttackPet(void 0,a);if(!o.pet)return;let c=o.pet,u=Math.ceil(c.attack*l),g=Math.max(1,c.attack-u);c.attack=g,this.logService.createLog({message:`${a.name} reduced ${c.name}'s attack by ${100*l}% to ${c.attack}.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}),this.triggerTigerExecution(e)}copy(e){return new yh(e,this.logService)}}class vh extends p{logService;abilityService;petService;name="Golden Tamarin";tier=4;pack="Danger";attack=4;health=4;initAbilities(){this.addAbility(new Ah(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class Ah extends h{logService;petService;constructor(e,t,i){super({name:"GoldenTamarinAbility",owner:e,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:r}=e,a=this.owner;let o=a.parent.getThis(a).pet;if(!o)return;const c=Dt.goldenTamarin,u=L({key:"pet.golden-tamarin-transform",label:M(a,"Golden Tamarin transform"),options:c.map(m=>({id:m,label:m}))},()=>S(0,c.length-1));let d=this.petService.createPet({name:c[u.index],health:o.health,attack:o.attack,mana:o.mana,exp:o.exp,equipment:o.equipment},a.parent);a.parent.transformPet(o,d),this.logService.createLog({message:`${a.name} transformed ${o.name} into a ${d.attack}/${d.health} ${d.name}.`,type:"ability",player:a.parent,tiger:r,randomEvent:u.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Ah(e,this.logService,this.petService)}}class fh extends h{logService;constructor(e,t){super({name:"KakapoAbility",owner:e,triggers:["ThisFirstAttack"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,condition:i=>this.owner.timesAttacked<=1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner,l=a.parent.opponent.getHighestAttackPets(this.level,void 0,a),o=[...l.pets].sort((c,u)=>c.attack-u.attack);for(let c of o)c.givePetEquipment(new Te),this.logService.createLog({message:`${a.name} gave ${c.name} Spooked.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random});for(let c of o)c.parent.pushPetToBack(c),this.logService.createLog({message:`${a.name} pushed ${c.name} to the back.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random});this.triggerTigerExecution(e)}copy(e){return new fh(e,this.logService)}}class kh extends h{logService;constructor(e,t){super({name:"LongcombSawfishAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=4*this.level,o=-4*this.level,c=a.parent.getThis(a),u=c.pet;u&&(u.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${u.name} ${l} health`,type:"ability",player:a.parent,tiger:r,randomEvent:c.random}));let d=a.parent.opponent.getAll(!1,a).pets;for(let m of d)m.increaseHealth(o),this.logService.createLog({message:`${a.name} reduced ${m.name} health by ${Math.abs(o)}`,type:"ability",player:a.parent,tiger:r});this.triggerTigerExecution(e)}copy(e){return new kh(e,this.logService)}}class Sh extends h{logService;constructor(e,t){super({name:"AmazonRiverDolphinAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;let l=a.parent.getSpecificPet(a,i.currentTarget),o=l.pet;if(o&&o.alive)a.snipePet(o,3*this.level,l.random,r);else{let c=a.parent.getThis(a),u=c.pet;if(!u)return;let g=3*this.level;u.increaseAttack(g),this.logService.createLog({message:`${a.name} gave ${u.name} ${g} attack`,type:"ability",player:a.parent,tiger:r,randomEvent:c.random})}this.triggerTigerExecution(e)}copy(e){return new Sh(e,this.logService)}}class Ph extends h{logService;constructor(e,t){super({name:"TasmanianDevilAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.opponent.getLowestAttackPet(void 0,a);if(l.pet&&l.pet.alive){let o=new Te;o.multiplier+=5*this.level-1,this.logService.createLog({message:`${a.name} gave ${l.pet.name} ${o.multiplier}x Spooked.`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),l.pet.givePetEquipment(o),a.jumpAttackPrep(l.pet),a.jumpAttack(l.pet,r,null,l.random)}this.triggerTigerExecution(e)}copy(e){return new Ph(e,this.logService)}}class Th extends h{logService;buffedFriends=new Map;constructor(e,t){super({name:"GiantOtterAbility",owner:e,triggers:["BeforeStartBattle","AnyoneAttack","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}reset(){this.buffedFriends.clear(),super.reset()}removeConditionalBuffs(){this.buffedFriends.size>0&&this.logService.createLog({message:`${this.owner.name} removed its temporary buffs after the first non-jump attack`,type:"ability",player:this.owner.parent});for(let[e,t]of this.buffedFriends){let i=e;if(i.transformed&&i.transformedInto&&(i=i.transformedInto),i&&i.alive&&(t.attack>0&&i.increaseAttack(-t.attack),t.health>0&&i.increaseHealth(-t.health),t.attack>0||t.health>0)){const r=[];t.attack>0&&r.push(`${t.attack} attack`),t.health>0&&r.push(`${t.health} health`),this.logService.createLog({message:`${i.name} lost ${r.join(" and ")} (Giant Otter Buffs removed)`,type:"ability",player:this.owner.parent})}this.buffedFriends.delete(e)}}executeAbility(e){const{gameApi:t,triggerPet:i,tiger:r}=e,l=this.owner;if("PostRemovalFaint"===e.trigger)return void this.removeConditionalBuffs();if(i)return void(t.FirstNonJumpAttackHappened&&this.removeConditionalBuffs());let o={attack:2*this.level,health:5*this.level},c=l.parent.getAll(!1,l,!0),u=c.pets;for(let g of u){const d=g.increaseAttack(o.attack),m=g.increaseHealth(o.health),b=this.buffedFriends.get(g);b?(b.attack+=d,b.health+=m):this.buffedFriends.set(g,{attack:d,health:m}),this.logService.createLog({message:`${l.name} gave ${g.name} +${o.attack} attack and +${o.health} health`,type:"ability",player:l.parent,tiger:r,randomEvent:c.random})}this.triggerTigerExecution(e)}copy(e){return new Th(e,this.logService)}}class wh extends h{logService;abilityService;constructor(e,t,i){super({name:"AyeAyeAbility",owner:e,triggers:["EnemyAttacked7"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r}=e,a=this.owner;for(let c=0;c<2;c++){let u=3,g=3,d=new zv(this.logService,this.abilityService,a.parent,g,u,0,0),m=a.parent.summonPet(d,a.savedPosition,!1,a);m.success&&this.logService.createLog({message:`${a.name} summoned a ${u}/${g} ${d.name}.`,type:"ability",player:a.parent,tiger:r,randomEvent:m.randomEvent})}let l=3*this.level,o=a.parent.getAll(!1,a,!0);for(let c of o.pets)c.increaseAttack(l),c.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${c.name} +${l} attack and +${l} health.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random});this.triggerTigerExecution(e)}copy(e){return new wh(e,this.logService,this.abilityService)}}class xh extends h{logService;constructor(e,t){super({name:"BanggaiCardinalfishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=6*this.level,c=a.parent.getAll(!0,a,!0);for(let u of c.pets){let g=Math.max(u.attack-l,4);u.attack=g,this.logService.createLog({message:`${a.name} reduced ${u.name} attack by ${l} to ${g}.`,type:"ability",player:a.parent,tiger:r,randomEvent:c.random})}this.triggerTigerExecution(e)}copy(e){return new xh(e,this.logService)}}class Rh extends h{logService;constructor(e,t){super({name:"GeometricTortoiseAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,damageAmount:a}=e,l=this.owner;if(void 0===a||a<=0)return;let o=.33*this.level;3===l.level&&(o=1);let c=Math.floor(a*o);if(c>0){let u=l.parent.opponent.getRandomPet([],!1,!0,!1,l);u.pet&&l.snipePet(u.pet,c,u.random,r)}this.triggerTigerExecution(e)}copy(e){return new Rh(e,this.logService)}}class Lh extends h{logService;constructor(e,t){super({name:"GiantPangasiusAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:r}=e,a=this.owner;if(!t)return;let l;l=a.parent===t.player?t.playerTransformationAmount:t.opponentTransformationAmount;let o=4*this.level;if(l>0)for(let c=0;c<l;c++){let g=W(a)?a.parent.getRandomPet([],!1,!0,!1,a,!0):a.parent.opponent.getRandomPet([],!1,!0,!1,a);g.pet&&a.snipePet(g.pet,o,g.random,r)}this.triggerTigerExecution(e)}copy(e){return new Lh(e,this.logService)}}class Eh extends h{logService;constructor(e,t){super({name:"HawaiianMonkSealAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;let l=a.parent.getSpecificPet(a,i),o=l.pet;if(o&&!a.targettedFriends.has(o)){if(a.targettedFriends.size<3&&o.alive){let c=2*a.level;o.increaseHealth(c),a.targettedFriends.add(o),this.logService.createLog({message:`${a.name} gave ${o.name} ${c} health`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random})}this.triggerTigerExecution(e)}}copy(e){return new Eh(e,this.logService)}}class Ch extends h{logService;targettedFriends=new Set;constructor(e,t){super({name:"MarineIguanaAbility",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>{const r=this.owner;if(!Oe(r,i.triggerPet))return!1;const a=C(r,i.triggerPet).pet;return!!a&&!this.targettedFriends.has(a)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}reset(){this.targettedFriends=new Set,super.reset()}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;let l=C(a,i),o=l.pet;o&&(o.givePetEquipment(new ye),this.targettedFriends.add(o),this.logService.createLog({message:`${a.name} gave ${o.name} Melon`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e))}copy(e){return new Ch(e,this.logService)}}class Fh extends h{logService;constructor(e,t){super({name:"TaitaThrushAbility",owner:e,triggers:["AdjacentFriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=this.level,o=a.parent.getAll(!1,a,!0);for(let c of o.pets)c.increaseAttack(l),c.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${c.name} +${l} attack and +${l} health`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random});this.triggerTigerExecution(e)}copy(e){return new Fh(e,this.logService)}}class Nh extends h{logService;constructor(e,t){super({name:"PaintedTerrapinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.getPetsWithEquipment("White Okra"),o=a.parent.nearestPetsBehind(a.level,a,l),c=o.pets;for(let u of c)this.logService.createLog({message:`${a.name} gave ${u.name} White Okra perk`,type:"ability",tiger:r,player:a.parent,pteranodon:n,randomEvent:o.random}),u.givePetEquipment(new dr);this.triggerTigerExecution(e)}copy(e){return new Nh(e,this.logService)}}class Ih extends h{logService;constructor(e,t){super({name:"SnowLeopardAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=5*this.level,o=a.parent.opponent.getRandomPet([],!1,!0,!1,a);if(o.pet&&o.pet.alive){if(a.jumpAttackPrep(o.pet),a.transformed&&a.transformedInto){let c=a.parent.getThis(a.transformedInto);c.pet&&(a.transformedInto.increaseAttack(l),a.transformedInto.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${a.transformedInto.name} ${l} attack and ${l} health`,type:"ability",player:a.parent,tiger:r,randomEvent:c.random}))}else{let c=a.parent.getThis(a);c.pet&&(c.pet.increaseAttack(l),c.pet.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${c.pet.name} ${l} attack and ${l} health`,type:"ability",player:a.parent,tiger:r,randomEvent:c.random}))}a.jumpAttack(o.pet,r,null,o.random)}this.triggerTigerExecution(e)}copy(e){return new Ih(e,this.logService)}}class Mh extends h{logService;constructor(e,t){super({name:"AmsterdamAlbatrossAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,precondition:i=>{const{triggerPet:r}=i,l=C(this.owner,r).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;let l=2*a.level,o=2*a.level,u=C(a,i).pet;null!=u&&(u.increaseAttack(l),u.increaseHealth(o),this.logService.createLog({message:`${a.name} gave ${u.name} +${l} attack and +${o} health.`,type:"ability",player:a.parent,tiger:r}),this.triggerTigerExecution(e))}copy(e){return new Mh(e,this.logService)}}class $h extends p{logService;abilityService;petService;name="Bay Cat";tier=6;pack="Danger";attack=7;health=5;initAbilities(){this.addAbility(new Bh(this,this.logService,this.petService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class Bh extends h{logService;petService;abilityService;constructor(e,t,i,r){super({name:"BayCatAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.petService=i,this.abilityService=r}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:n}=e,a=this.owner;let l=Dt.bayCat;for(let o=0;o<a.level;o++){const c=L({key:"pet.bay-cat-summon",label:M(a,"Bay Cat summon",o+1),options:l.map(m=>({id:m,label:m}))},()=>S(0,l.length-1));let g=this.petService.createPet({name:l[c.index],attack:null,health:null,equipment:null,mana:0,exp:0},a.parent);a.parent.summonPet(g,a.savedPosition,!1,a).success&&(this.logService.createLog({message:`${a.name} summoned ${g.name}`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:c.randomEvent}),g.hasAbility("StartBattle")&&(this.logService.createLog({message:`${g.name} activated its start of battle ability`,type:"ability",player:a.parent,tiger:r,pteranodon:n}),g.activateAbilities("StartBattle",t,"Pet")))}this.triggerTigerExecution(e)}copy(e){return new Bh(e,this.logService,this.petService,this.abilityService)}}class qh extends h{logService;constructor(e,t){super({name:"BlackRhinoAbility",owner:e,triggers:["EnemyAttacked7"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let o=a.parent.opponent.getHighestHealthPets(a.level,[],a),c=o.pets;for(let u of c)a.snipePet(u,30,o.random,r);this.triggerTigerExecution(e)}copy(e){return new qh(e,this.logService)}}class Gh extends h{logService;abilityService;constructor(e,t,i){super({name:"BlueWhaleAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=2*this.level;this.logService.createLog({message:`${t.name} sold friends for +2 extra gold each and gave future shop pets +${i} attack and +${i} health.`,type:"ability",player:t.parent,tiger:e.tiger}),this.triggerTigerExecution(e)}copy(e){return new Gh(e,this.logService,this.abilityService)}}class Hh extends p{logService;abilityService;petService;name="California Condor";tier=6;pack="Danger";attack=10;health=6;initAbilities(){this.addAbility(new Dh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class Dh extends h{logService;constructor(e,t){super({name:"CaliforniaCondorAbility",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;let l=i;!l||"California Condor"===l.baseName||"California Condor"===l.name||(this.logService.createLog({message:`California Condor copied ${l.name}'s level ${a.level} ability`,type:"ability",player:a.parent,tiger:r}),a.gainAbilities(l,"Pet"),this.triggerTigerExecution(e))}copy(e){return new Dh(e,this.logService)}}class Oh extends h{logService;constructor(e,t){super({name:"GreenSeaTurtleAbility",owner:e,triggers:["EnemyAttacked5"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let o=a.parent.getAll(!1,a).pets;for(let c of o)c.givePetEquipment(new ye,a.level),this.logService.createLog({message:`${a.name} gave ${c.name} Melon.`,type:"ability",player:a.parent,tiger:r});this.triggerTigerExecution(e)}copy(e){return new Oh(e,this.logService)}}class Wh extends h{logService;constructor(e,t){super({name:"PhilippineEagleAbility",owner:e,triggers:["AnyoneJumped"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getRandomPet([],!1,!1,!1,a),o=l.pet;if(!o)return;let c=4*this.level;o.increaseAttack(c),o.increaseHealth(c),this.logService.createLog({message:`${a.name} gave ${o.name} +${c} attack and +${c} health`,type:"ability",player:a.parent,tiger:r,randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new Wh(e,this.logService)}}class jh extends p{logService;abilityService;petService;name="Silky Sifaka";tier=6;pack="Danger";attack=4;health=6;initAbilities(){this.addAbility(new Uh(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class Uh extends h{logService;petService;constructor(e,t,i){super({name:"SilkySifakaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=["Mammoth","Lionfish","Orca","Sabertooth Tiger","Warthog","Hydra","Phoenix","Bay Cat","Walrus","Ammonite"],c=a.parent.nearestPetsBehind(2,a).pets;for(let u of c){const g=L({key:"pet.silky-sifaka-transform",label:M(a,`Silky Sifaka transform for ${u.name}`),options:l.map(b=>({id:b,label:b}))},()=>S(0,l.length-1));let m=this.petService.createPet({name:l[g.index],attack:u.attack,health:u.health,mana:u.mana,exp:a.minExpForLevel,equipment:u.equipment},a.parent);a.parent.transformPet(u,m),this.logService.createLog({message:`${a.name} transformed ${u.name} into level ${a.level} ${m.name}`,type:"ability",player:a.parent,tiger:r,randomEvent:g.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Uh(e,this.logService,this.petService)}}class _h extends h{logService;constructor(e,t){super({name:"SumatranTigerAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getOppositeEnemyPet(a),o=l.pet;if(o&&(a.jumpAttackPrep(o),a.jumpAttack(o,r,null,l.random),a.level>=2)){let c=2===this.level?6:12,u=[];if(l.random)u=a.parent.getRandomLivingPets(2).pets;else{let g=o.petBehind();g&&g.alive&&u.push(g);let d=o.petAhead;d&&d.alive&&u.push(d)}for(let g of u)a.snipePet(g,c,l.random,r)}this.triggerTigerExecution(e)}copy(e){return new _h(e,this.logService)}}const c0={"Iriomote Cat":Du,"Ili Pika":class pM extends p{logService;abilityService;name="Ili Pika";tier=1;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new Wu(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Malay Tapir":class gM extends p{logService;abilityService;name="Malay Tapir";tier=1;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new ju(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Bombus Dahlbomii":class dM extends p{logService;abilityService;name="Bombus Dahlbomii";tier=1;pack="Danger";attack=1;health=2;initAbilities(){this.addAbility(new Uu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"African Wild Dog":class AM extends p{logService;abilityService;name="African Wild Dog";tier=1;pack="Danger";attack=3;health=2;initAbilities(){this.addAbility(new Qu(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Ethiopian Wolf":AA,"Fan Mussel":class mM extends p{logService;abilityService;name="Fan Mussel";tier=1;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new Vu(this)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Togian Babirusa":class bM extends p{logService;abilityService;name="Togian Babirusa";tier=1;pack="Danger";attack=3;health=3;initAbilities(){this.addAbility(new Ku(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Tooth Billed Pigeon":class yM extends p{logService;abilityService;name="Tooth Billed Pigeon";tier=1;pack="Danger";attack=3;health=1;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Volcano Snail":class vM extends p{logService;abilityService;name="Volcano Snail";tier=1;pack="Danger";attack=1;health=4;initAbilities(){this.addAbility(new zu(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Araripe Manakin":class fM extends p{logService;abilityService;name="Araripe Manakin";tier=2;pack="Danger";attack=3;health=2;initAbilities(){this.addAbility(new Yu(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"European Mink":class kM extends p{logService;abilityService;name="European Mink";tier=2;pack="Danger";attack=4;health=3;initAbilities(){this.addAbility(new Ju(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Proboscis Monkey":class SM extends p{logService;abilityService;name="Proboscis Monkey";tier=2;pack="Danger";attack=4;health=4;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Pygmy Hog":class PM extends p{logService;abilityService;name="Pygmy Hog";tier=2;pack="Danger";attack=1;health=2;initAbilities(){this.addAbility(new Zu(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Saola:class TM extends p{logService;abilityService;name="Saola";tier=2;pack="Danger";attack=2;health=2;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Saker Falcon":class wM extends p{logService;abilityService;name="Saker Falcon";tier=2;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new Xu(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Taita Shrew":class xM extends p{logService;abilityService;name="Taita Shrew";tier=2;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new eh(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"White-Bellied Heron":class RM extends p{logService;abilityService;name="White-Bellied Heron";tier=2;pack="Danger";attack=4;health=2;initAbilities(){this.addAbility(new th(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Darwin's Fox":class LM extends p{logService;abilityService;name="Darwin's Fox";tier=2;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new ih(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Amami Rabbit":class BM extends p{logService;abilityService;name="Amami Rabbit";tier=3;pack="Danger";attack=1;health=3;initAbilities(){this.addAbility(new gh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Tree Kangaroo":class qM extends p{logService;abilityService;name="Tree Kangaroo";tier=3;pack="Danger";attack=3;health=5;initAbilities(){this.addAbility(new dh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Blue-Throated Macaw":class EM extends p{logService;abilityService;name="Blue-Throated Macaw";tier=3;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new nh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Hirola:class CM extends p{logService;abilityService;name="Hirola";tier=3;pack="Danger";attack=2;health=2;initAbilities(){this.addAbility(new sh(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Monkey-Faced Bat":class FM extends p{logService;abilityService;name="Monkey-Faced Bat";tier=3;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new lh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Takin:class IM extends p{logService;abilityService;name="Takin";tier=3;pack="Danger";attack=1;health=2;initAbilities(){this.addAbility(new ch(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Tucuxi:class MM extends p{logService;abilityService;name="Tucuxi";tier=3;pack="Danger";attack=2;health=3;initAbilities(){this.addAbility(new uh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Pygmy Hippo":class NM extends p{logService;abilityService;name="Pygmy Hippo";tier=3;pack="Danger";attack=2;health=7;initAbilities(){this.addAbility(new oh(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Spoon-Billed Sandpiper":class $M extends p{logService;abilityService;name="Spoon-Billed Sandpiper";tier=3;pack="Danger";attack=3;health=2;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Angelshark:class GM extends p{logService;abilityService;name="Angelshark";tier=4;pack="Danger";attack=3;health=4;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Giant Otter":class _M extends p{logService;abilityService;name="Giant Otter";tier=4;pack="Danger";attack=4;health=3;buffedFriends=new Map;initAbilities(){this.addAbility(new Th(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Giant Tortoise":class HM extends p{logService;abilityService;name="Giant Tortoise";tier=4;pack="Danger";attack=4;health=6;initAbilities(){this.addAbility(new bh(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Humphead Wrasse":class DM extends p{logService;abilityService;name="Humphead Wrasse";tier=4;pack="Danger";attack=6;health=4;initAbilities(){this.addAbility(new yh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Kakapo:class OM extends p{logService;abilityService;name="Kakapo";tier=4;pack="Danger";attack=4;health=4;initAbilities(){this.addAbility(new fh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Longcomb Sawfish":class WM extends p{logService;abilityService;name="Longcomb Sawfish";tier=4;pack="Danger";attack=3;health=3;initAbilities(){this.addAbility(new kh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Tasmanian Devil":class UM extends p{logService;abilityService;name="Tasmanian Devil";tier=4;pack="Danger";attack=1;health=5;initAbilities(){this.addAbility(new Ph(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Amazon River Dolphin":class jM extends p{logService;abilityService;name="Amazon River Dolphin";tier=4;pack="Danger";attack=4;health=5;initAbilities(){this.addAbility(new Sh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Aye-aye":class VM extends p{logService;abilityService;name="Aye-aye";tier=5;pack="Danger";attack=3;health=5;initAbilities(){this.addAbility(new wh(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Banggai Cardinalfish":class KM extends p{logService;abilityService;name="Banggai Cardinalfish";tier=5;pack="Danger";attack=4;health=7;initAbilities(){this.addAbility(new xh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Geometric Tortoise":class zM extends p{logService;abilityService;name="Geometric Tortoise";tier=5;pack="Danger";attack=3;health=10;initAbilities(){this.addAbility(new Rh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Giant Pangasius":class QM extends p{logService;abilityService;name="Giant Pangasius";tier=5;pack="Danger";attack=4;health=5;initAbilities(){this.addAbility(new Lh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Hawaiian Monk Seal":class YM extends p{logService;abilityService;name="Hawaiian Monk Seal";tier=5;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new Eh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Marine Iguana":class JM extends p{logService;abilityService;name="Marine Iguana";tier=5;pack="Danger";attack=4;health=5;initAbilities(){this.addAbility(new Ch(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Red Panda":class ZM extends p{logService;abilityService;name="Red Panda";tier=5;pack="Danger";health=4;attack=4;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Taita Thrush":class XM extends p{logService;abilityService;name="Taita Thrush";tier=5;pack="Danger";attack=3;health=4;initAbilities(){this.addAbility(new Fh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Snow Leopard":class t0 extends p{logService;abilityService;name="Snow Leopard";tier=5;pack="Danger";attack=3;health=5;initAbilities(){this.addAbility(new Ih(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Painted Terrapin":class e0 extends p{logService;abilityService;name="Painted Terrapin";tier=5;pack="Danger";health=6;attack=4;initAbilities(){this.addAbility(new Nh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Amsterdam Albatross":class i0 extends p{logService;abilityService;name="Amsterdam Albatross";tier=6;pack="Danger";attack=3;health=6;initAbilities(){this.addAbility(new Mh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Black Rhino":class r0 extends p{logService;abilityService;name="Black Rhino";tier=6;pack="Danger";attack=5;health=9;initAbilities(){this.addAbility(new qh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Blue Whale":class a0 extends p{logService;abilityService;name="Blue Whale";tier=6;pack="Danger";health=12;attack=12;initAbilities(){this.addAbility(new Gh(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Green Sea Turtle":class n0 extends p{logService;abilityService;name="Green Sea Turtle";tier=6;pack="Danger";attack=5;health=6;initAbilities(){this.addAbility(new Oh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Helmeted Hornbill":class s0 extends p{logService;abilityService;name="Helmeted Hornbill";tier=6;pack="Danger";health=4;attack=5;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Philippine Eagle":class l0 extends p{logService;abilityService;name="Philippine Eagle";tier=6;pack="Danger";attack=7;health=6;initAbilities(){this.addAbility(new Wh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Sumatran Tiger":class o0 extends p{logService;abilityService;name="Sumatran Tiger";tier=6;pack="Danger";attack=9;health=9;initAbilities(){this.addAbility(new _h(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Bay Cat":$h,Bonobo:mh,"California Condor":Hh,"Golden Tamarin":vh,"Roloway Monkey":hh,"Silky Sifaka":jh,Takhi:rh};class Vh extends p{logService;abilityService;name="Rock";tier=1;pack="Unicorn";hidden=!0;health=1;attack=1;initAbilities(){this.addAbility(new Kh(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Kh extends h{logService;abilityService;constructor(e,t,i){super({name:"RockAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){this.triggerTigerExecution(e)}copy(e){return new Kh(e,this.logService,this.abilityService)}}class zh extends h{logService;abilityService;constructor(e,t,i){super({name:"Basilisk Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=r.petAhead;if(n&&n.alive){const a=5*this.level,l=Math.max(1,n.attack??1),o=Math.max(1,n.health??1)+a,c=new Vh(this.logService,this.abilityService,n.parent,o,l,n.mana,n.exp);r.parent.transformPet(n,c),this.logService.createLog({message:`${r.name} transformed ${n.name} into a Rock with +${a} health.`,type:"ability",player:r.parent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new zh(e,this.logService,this.abilityService)}}class Qh extends h{logService;constructor(e,t){super({name:"BudgieAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=R.getInjector().get(G).getInstanceOfAllEquipment().get("Popcorn");r.givePetEquipment(a),r.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gained Popcorn and +${this.level} health.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new Qh(e,this.logService)}}class Yh extends h{logService;abilityService;constructor(e,t,i){super({name:"DucklingAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gave the left-most shop pet +${2*this.level} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Yh(e,this.logService,this.abilityService)}}class Jh extends h{logService;constructor(e,t){super({name:"FarmerMouseAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=r.parent.nearestPetsBehind(this.level,r).pets;if(0!==a.length){for(const l of a)l.givePetEquipment(new ut),this.logService.createLog({message:`${r.name} fed ${l.name} Corncob.`,type:"ability",player:r.parent,tiger:t,pteranodon:i});this.triggerTigerExecution(e)}}copy(e){return new Jh(e,this.logService)}}class Zh extends h{logService;constructor(e,t){super({name:"FrilledDragonAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=0;for(let o of a.parent.petArray)o!==a&&o.isFaintPet()&&l++;l*=this.level,a.increaseAttack(l),a.increaseHealth(l),this.logService.createLog({message:`${a.name} gained ${l} attack and ${l} health.`,type:"ability",player:a.parent,tiger:r,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new Zh(e,this.logService)}}class Xh extends h{logService;abilityService;constructor(e,t,i){super({name:"GibbonAbility",owner:e,triggers:["ShopUpgrade"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=this.level,o=a.parent.nearestPetsBehind(2,a);if(0!==o.pets.length){for(let c of o.pets)c.increaseHealth(l),this.logService.createLog({message:`${a.name} gave ${c.name} ${l} health.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:o.random});this.triggerTigerExecution(e)}}copy(e){return new Xh(e,this.logService,this.abilityService)}}class ep extends h{logService;constructor(e,t){super({name:"NudibranchAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>{const r=this.owner;let n=new Set;for(const a of r.parent.petArray){if(n.has(a.name))return!1;n.add(a.name)}return!0},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=3*this.level,a=this.level;r.increaseAttack(n),r.increaseHealth(a),this.logService.createLog({message:`${r.name} gained +${n} attack and +${a} health.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new ep(e,this.logService)}}class tp extends h{logService;constructor(e,t){super({name:"PeacockSpiderAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=De(r);if(0!==n.length){for(const a of n){if(!pa(a,"Spooked"))continue;const l=new Te;l.power=-this.level,l.originalPower=l.power,a.givePetEquipment(l),D(this.logService,r,`${r.name} gave ${a.name} Spooked.`,t,i)}this.triggerTigerExecution(e)}}copy(e){return new tp(e,this.logService)}}class ip extends h{logService;constructor(e,t){super({name:"PygmySeahorseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=r.parent.getRandomPets(3,[r],!1,!1,r),a=n.pets;if(0!==a.length){for(const l of a)l.increaseAttack(this.level),l.increaseHealth(this.level),this.logService.createLog({message:`${r.name} gave ${l.name} +${this.level} attack and +${this.level} health.`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:n.random});r.health=0,this.triggerTigerExecution(e)}}copy(e){return new ip(e,this.logService)}}class rp extends h{logService;constructor(e,t){super({name:"Silverfish Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} sold for +${2*this.level} gold, but will lose ${this.level} gold next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new rp(e,this.logService)}}class ap extends h{logService;abilityService;constructor(e,t,i){super({name:"TermiteAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,r=Math.max(1,e.gameApi.previousShopTier??1)+this.level;t.attack=Math.max(1,r),this.logService.createLog({message:`${t.name} set its attack to ${t.attack}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new ap(e,this.logService,this.abilityService)}}class np extends h{logService;constructor(e,t){super({name:"WeevilAbility",owner:e,triggers:["FoodEatenByFriendly"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,precondition:i=>{const{triggerPet:r}=i,l=C(this.owner,r).pet;return!!l&&l.alive},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:r}=e,n=this.owner,a=C(n,t),l=a.pet;null!=l&&(l.increaseAttack(this.level),this.logService.createLog({message:`${n.name} gave ${l.name} +${this.level} attack.`,type:"ability",player:n.parent,tiger:i,pteranodon:r,randomEvent:a.random}),this.triggerTigerExecution(e))}copy(e){return new np(e,this.logService)}}class sp extends h{logService;constructor(e,t){super({name:"AlbinoSquirrelAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=R.getInjector().get(G).getInstanceOfAllEquipment(),l=Array.from(a.values()).filter(c=>"shop"===c.equipmentClass);if(0===l.length)return;let o=[];for(let c=0;c<3;c++){let u=l[S(0,l.length-1)];o.push(u.name)}this.logService.createLog({message:`${r.name} restocked shop food with ${o.join(", ")} at -${this.level} gold.`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new sp(e,this.logService)}}class lp extends h{logService;constructor(e,t){super({name:"AmphisbaenaAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:r}=e,n=this.owner;let a=n.parent.nearestPetsAhead(1,n);if(0===a.pets.length)return;let l=a.pets[0];(t?.turnNumber??1)%2==1?(l.increaseAttack(this.level),this.logService.createLog({message:`${n.name} gave ${l.name} ${this.level} attack.`,type:"ability",player:n.parent,tiger:i,pteranodon:r,randomEvent:a.random})):(l.increaseHealth(this.level),this.logService.createLog({message:`${n.name} gave ${l.name} ${this.level} health.`,type:"ability",player:n.parent,tiger:i,pteranodon:r,randomEvent:a.random})),this.triggerTigerExecution(e)}copy(e){return new lp(e,this.logService)}}class op extends h{logService;constructor(e,t){super({name:"AtlanticPuffinAbility",owner:e,triggers:["FriendAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>{const{triggerPet:r}=i;return!(!r||"Strawberry"!=r.equipment?.name)},abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:i,tiger:r}=e,a=this.owner;this.logService.createLog({message:`${a.name} removed ${i.name}'s ${i.equipment.name}.`,type:"ability",player:a.parent,tiger:r}),i.removePerk();let l=2*a.level,o=a.parent.opponent.getLastPet(),c=o.pet;null!=c&&(a.snipePet(c,l,o.random,r),this.triggerTigerExecution(e))}copy(e){return new op(e,this.logService)}}class cp extends h{logService;constructor(e,t){super({name:"ChupacabraAbility",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;for(let l=0;l<2*this.level;l++){let o=a.parent.getRandomPet([a],!0,!1,!0,a);if(null==o.pet)return;o.pet.increaseHealth(1),this.logService.createLog({message:`${a.name} gave ${o.pet.name} 1 health.`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random})}this.triggerTigerExecution(e)}copy(e){return new cp(e,this.logService)}}class up extends h{logService;constructor(e,t){super({name:"DesertRainFrogAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:i=>this.owner.parent.trumpets>=1,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=R.getInjector().get(te);let a=Math.min(6,r.tier+this.level),l=n.getRandomFaintPet(r.parent,a,[],r);this.logService.createLog({message:`${r.name} transformed into ${l.name}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:!0}),r.parent.spendTrumpets(1,r,i),r.parent.transformPet(r,l),this.triggerTigerExecution(e)}copy(e){return new up(e,this.logService)}}class hp extends h{logService;constructor(e,t){super({name:"DungBeetleAbility",owner:e,triggers:["FoodEatenByFriendly","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,triggerPet:i,tiger:r,pteranodon:n}=e,a=this.owner,l=a,o=t?.turnNumber??0;if(l.dungBeetleFoodTurn!==o&&(l.dungBeetleFoodTurn=o,l.dungBeetleFoodEaten=0),l.dungBeetleFoodSeededTurn!==o){l.dungBeetleFoodSeededTurn=o;const g=a.foodsEaten??0;g>0&&(l.dungBeetleFoodEaten=Math.min(3,Math.max(l.dungBeetleFoodEaten??0,g)))}if(i&&a.alive)return void(l.dungBeetleFoodEaten=Math.min(3,(l.dungBeetleFoodEaten??0)+1));if(a.alive)return;const c=Math.min(3,l.dungBeetleFoodEaten??0);if(c<=0)return;const u=3*this.level;for(let g=0;g<c;g++){let d=a.parent.opponent.getLowestHealthPet(void 0,a),m=d.pet;if(null==m)break;a.snipePet(m,u,d.random,r)}this.logService.createLog({message:`${a.name} dealt ${u} damage ${c} time(s) to the weakest enemy.`,type:"ability",player:a.parent,tiger:r,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new hp(e,this.logService)}}class pp extends h{logService;constructor(e,t){super({name:"FarmerChickenAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner;let n=r.parent.nearestPetsAhead(this.level,r);if(0!==n.pets.length){for(let a of n.pets)a.givePetEquipment(new ut),this.logService.createLog({message:`${r.name} fed ${a.name} a Corncob.`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:n.random});this.triggerTigerExecution(e)}}copy(e){return new pp(e,this.logService)}}class gp extends h{logService;constructor(e,t){super({name:"FrigatebirdAbility",owner:e,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>Oe(this.owner,i.triggerPet),abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const n=this.owner,a=C(n,e.triggerPet),l=a.pet;if(!l)return;const o=l.equipment;!o||!o.equipmentClass?.startsWith("ailment")||(l.removePerk(),l.givePetEquipment(new $n),this.logService.createLog({message:`${n.name} removed ${o.name} from ${l.name} and gave ${l.name} Rice.`,type:"ability",player:n.parent,randomEvent:a.random}),this.triggerTigerExecution(e))}reset(){this.maxUses=this.level,super.reset()}copy(e){return new gp(e,this.logService)}}class dp extends h{logService;constructor(e,t){super({name:"FruitFlyAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner;let n=r.parent.getOppositeEnemyPet(r),a=n.pet;null!=a&&(a.givePetEquipment(new wv),this.logService.createLog({message:`${r.name} gave ${a.name} Blueberry.`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:n.random}),r.snipePet(a,2*this.level,n.random,t),this.triggerTigerExecution(e))}copy(e){return new dp(e,this.logService)}}class mp extends h{logService;abilityService;constructor(e,t,i){super({name:"GoldenBeetleAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} gained ${this.level*(t.attack>=10?3:1)} gold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new mp(e,this.logService,this.abilityService)}}class EA extends p{logService;abilityService;name="Daycrawler";tier=1;pack="Custom";hidden=!0;health=1;attack=1;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class bp extends h{logService;abilityService;constructor(e,t,i){super({name:"NightcrawlerAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:n}=e,a=this.owner;let o=a.parent==t.player?t.playerSummonedAmount:t.opponentSummonedAmount;if(0==o)return;let c=Math.min(50,this.level*o),g=new EA(this.logService,this.abilityService,a.parent,c,6,0,0),d=a.parent.summonPet(g,a.savedPosition,!1,a);d.success&&this.logService.createLog({message:`${a.name} spawned Daycrawler (6/${c})`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:d.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new bp(e,this.logService,this.abilityService)}}class yp extends h{logService;constructor(e,t){super({name:"OlmAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:r}=e,n=this.owner,a=n.parent===t.player?t.playerRollAmount||0:t.opponentRollAmount||0,l=n.parent.getPetsWithEquipmentWithSillyFallback("Spooked",n),o=n.parent.opponent.getRandomPet(l,null,!0,null,n),c=o.pet;if(!c)return;const u=new Te;a>0&&(u.multiplier+=a),this.logService.createLog({message:`${n.name} made ${c.name}${u.multiplier>1?` ${u.multiplier}x`:""} Spooked.`,type:"ability",player:n.parent,tiger:i,pteranodon:r,randomEvent:o.random}),c.givePetEquipment(u),this.triggerTigerExecution(e)}copy(e){return new yp(e,this.logService)}}class vp extends h{logService;constructor(e,t){super({name:"PandaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=.5*this.level,o={attack:Math.floor(a.attack*l),health:Math.floor(a.health*l)},c=a.parent.nearestPetsAhead(1,a);if(c.pets.length>0){let u=c.pets[0];u.increaseAttack(o.attack),u.increaseHealth(o.health),this.logService.createLog({message:`${a.name} gave ${u.name} ${o.attack} attack and ${o.health} health.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:c.random})}a.health=0,this.triggerTigerExecution(e)}copy(e){return new vp(e,this.logService)}}class Ap extends h{constructor(e){super({name:"Pink Robin Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=2*this.level,a=r.parent.petArray.filter(l=>l.alive&&l!==r&&l.tier<=n);if(a.length>0){const l=L({key:"pet.pink-robin-end-turn-target",label:M(r,"Pink Robin end-turn target"),options:a.map(g=>({id:`${g.savedPosition+1}:${g.name}`,label:`P${g.savedPosition+1} ${g.name}`}))},()=>S(0,a.length-1)),o=a[l.index],c=R.getInjector().get(ot),u=R.getInjector().get(z);c.triggerAbility(o,"EndTurn",r),u.createLog({message:`${r.name} activated End Turn on ${o.name}.`,type:"ability",player:r.parent,randomEvent:l.randomEvent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new Ap(e)}}class fp extends h{logService;constructor(e,t){super({name:"Roadrunner Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const i=this.owner,r=this.level,a=i.parent.petArray.filter(l=>l.alive&&l.position<i.position).sort((l,o)=>o.position-l.position).slice(0,r);for(const l of a){const o=new Lt(this.logService);o&&l.applyEquipment(o),l.attack+=2,this.logService.createLog({message:`${i.name} gave Strawberry and +2 attack to ${l.name}.`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new fp(e,this.logService)}}class kp extends h{logService;constructor(e,t){super({name:"SeahorseAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=r.parent.opponent.getLastPet();if(null==a.pet)return;const l=a.pet;l.parent.pushPet(l,this.level),this.logService.createLog({message:`${r.name} pushed ${l.name} forward ${this.level} space(s).`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:a.random}),this.triggerTigerExecution(e)}copy(e){return new kp(e,this.logService)}}class Sp extends h{constructor(e){super({name:"Sphinx Ability",owner:e,triggers:["ThisBought"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){const{gameApi:t}=e,i=this.owner,r=this.level,n=["Tennis Ball","Plastic Saw","Toilet Paper","Foam Sword","Flashlight","Television"],a=L({key:"pet.sphinx-toy-roll",label:M(i,"Sphinx adventurous toy roll"),options:n.map(c=>({id:c,label:c}))},()=>S(0,n.length-1)),l=n[a.index],o=t?.toyService?.createToy(l,i.parent,r);o&&(i.parent.toy=o,t?.logService?.createLog({message:`${i.name} gained a level ${r} ${l}.`,type:"ability",player:i.parent,randomEvent:a.randomEvent})),this.triggerTigerExecution(e)}copy(e){return new Sp(e)}}class Pp extends h{constructor(e){super({name:"Spotted Handfish Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){const{gameApi:t}=e,i=this.owner,r=this.level,n=["Cold","Crisp","Dazed","Icky","Inked","Spooked","Weak","Silly","Bloated","Confused","Cursed","Sad","Sleepy","Webbed"];for(let a=0;a<r;a++){const l=L({key:"pet.spotted-handfish-ailment",label:M(i,"Spotted Handfish canned ailment",a+1),options:n.map(c=>({id:c,label:c}))},()=>S(0,n.length-1)),o=n[l.index];i.parent.cannedAilments.push(o),t?.logService?.createLog({message:`${i.name} stocked a canned ${o}.`,type:"ability",player:i.parent,randomEvent:l.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Pp(e)}}class Tp extends p{logService;abilityService;petService;name="Tadpole";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new wp(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class wp extends h{logService;petService;constructor(e,t,i){super({name:"Tadpole Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",abilitylevel:e.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=t,this.petService=i}executeAbility(e){const t=this.owner,i=t.level,r=this.petService.createPet({name:"Frog",attack:null,health:null,mana:0,exp:ei(i),equipment:null},t.parent);r&&(t.parent.transformPet(t,r),this.logService.createLog({message:`${t.name} transformed into a level ${i} Frog.`,type:"ability",player:t.parent})),this.triggerTigerExecution(e)}copy(e){return new wp(e,this.logService,this.petService)}}class xp extends h{logService;constructor(e,t){super({name:"Thorny Dragon Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=3*this.level,a=r.parent.opponent.petArray.filter(g=>g.alive);if(0===a.length)return;const l=a.filter(g=>!!g.equipment&&("ailment-attack"===g.equipment.equipmentClass||"ailment-defense"===g.equipment.equipmentClass||"ailment-other"===g.equipment.equipmentClass)),o=l.length>0?l:a,c=o.length>1,u=o[S(0,o.length-1)];u&&(r.snipePet(u,n,c,t,i),this.logService.createLog({message:`${r.name} fainted and dealt ${n} damage to ${u.name} (prioritizing ailments).`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:c})),this.triggerTigerExecution(e)}copy(e){return new xp(e,this.logService)}}class Rp extends h{logService;constructor(e,t){super({name:"Vervet Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,i=this.owner,r=this.level,n="Microwave Oven",a=t?.toyService?.createToy(n,i.parent,r);a&&(i.parent.toy=a,this.logService.createLog({message:`${i.name} summoned a level ${r} ${n}.`,type:"ability",player:i.parent})),this.triggerTigerExecution(e)}copy(e){return new Rp(e,this.logService)}}class Lp extends h{logService;usedFirstTrigger=!1;constructor(e,t){super({name:"Warf Ability",owner:e,triggers:["ThisGainedMana","StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner;if("StartBattle"===e.trigger)return this.usedFirstTrigger=!1,void this.triggerTigerExecution(e);const n=r.parent.opponent.getRandomPet([],!1,!1,!1,r);if(n.pet){const a=n.pet,l=this.level,o=this.usedFirstTrigger?l:3*l;r.snipePet(a,o,n.random,t,i),this.logService.createLog({message:`${r.name} gained mana and dealt ${o} damage to ${a.name}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:n.random}),this.usedFirstTrigger=!0}this.triggerTigerExecution(e)}copy(e){return new Lp(e,this.logService)}}class Ep extends h{logService;constructor(e,t){super({name:"Wombat Ability",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=r.parent.opponent.petArray.find(l=>l.alive&&l.isFaintPet());if(a){const l=R.getInjector().get(te);if(!l)return void this.triggerTigerExecution(e);const o=l.createPet({name:a.name,attack:null,health:null,exp:ei(this.level),equipment:null,mana:null},r.parent);r.parent.transformPet(r,o),this.logService.createLog({message:`${r.name} transformed into level ${this.level} ${a.name}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new Ep(e,this.logService)}}class Cp extends h{logService;constructor(e,t){super({name:"Yak Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=this.level,a=2*this.level;r.dealDamage(r,n),r.increaseAttack(a),this.logService.createLog({message:`${r.name} took ${n} damage and gained +${a} attack.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new Cp(e,this.logService)}}class Fp extends h{logService;constructor(e,t){super({name:"Aardvark Ability",owner:e,triggers:["EnemySummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=this.level,a=3*this.level;r.increaseAttack(n),r.increaseHealth(a),this.logService.createLog({message:`${r.name} gained +${n}/+${a} from EnemySummoned.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new Fp(e,this.logService)}}class Np extends h{hasUsed=!1;logService;constructor(e,t){super({name:"Axehandle Hound Ability",owner:e,triggers:["BeforeFriendlyAttack","StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:r}=e;if("StartBattle"===e.trigger)return this.hasUsed=!1,void this.triggerTigerExecution(e);if(this.hasUsed)return;const n=t.opponent;if(!n)return;const a=n.petArray.filter(c=>c.health>0),l=a.map(c=>c.name);if(new Set(l).size!==l.length){this.hasUsed=!0;const c=2*this.level;this.logService.createLog({message:`${this.owner.name} activated. Opponent has duplicates. Dealing ${c} damage to all enemies.`,type:"ability",player:this.owner.parent,tiger:i,pteranodon:r});for(const u of a)this.owner.dealDamage(u,c)}this.triggerTigerExecution(e)}copy(e){const t=new Np(e,this.logService);return t.hasUsed=this.hasUsed,t}}class Ip extends h{logService;constructor(e,t){super({name:"Barnacle Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,i=this.owner;if(0===(i.parent===t.player?t.playerRollAmount||0:t.opponentRollAmount||0)){const n=this.level;i.increaseExp(n),this.logService.createLog({message:`${i.name} gained +${n} experience (EndTurn, no rolls).`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new Ip(e,this.logService)}}class Mp extends h{logService;abilityService;constructor(e,t,i){super({name:"BearAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner,l=this.level,o=a.savedPosition,c=[];for(const u of a.parent.petArray)if(u.alive){const g=Math.abs(u.position-o);g>0&&g<=l&&c.push(u)}for(const u of a.parent.opponent.petArray)u.alive&&o+u.position+1<=l&&c.push(u);for(let u of c)u.givePetEquipment(new fv(this.logService,this.abilityService)),this.logService.createLog({message:`${a.name} gave ${u.name} Honey.`,type:"ability",player:a.parent,tiger:r,pteranodon:n});this.triggerTigerExecution(e)}copy(e){return new Mp(e,this.logService,this.abilityService)}}class $p extends h{logService;constructor(e,t){super({name:"Blue Dragon Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,l=r.parent.nearestPetsBehind(4,r).pets.length*this.level;if(l>0){const g=r.parent.resolveTrumpetGainTarget(r);g.player.gainTrumpets(l,r,i,void 0,void 0,g.random)}const o=this.level,u=r.parent.nearestPetsAhead(4,r).pets;u.length>0&&(u.forEach(g=>g.increaseMana(o)),this.logService.createLog({message:`${r.name} gave ${u.length} friend${1===u.length?"":"s"} ahead +${o} mana at StartBattle.`,type:"ability",player:r.parent,tiger:t,pteranodon:i})),this.triggerTigerExecution(e)}copy(e){return new $p(e,this.logService)}}class Bp extends h{logService;constructor(e,t){super({name:"Brazillian Treehopper Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,l=r.parent.getRandomEnemyPetsWithSillyFallback(2*this.level,[],!1,!1,r).pets;if(l.length>1){let o=0,c=0;for(const d of l)o+=d.attack,c+=d.health;const u=Math.floor(o/l.length),g=Math.floor(c/l.length);for(const d of l)d.attack=Math.max(1,u),d.health=Math.max(1,g);this.logService.createLog({message:`${r.name} averaged stats of ${l.length} enemies to ${u}/${g}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new Bp(e,this.logService)}}class qp extends h{logService;constructor(e,t){super({name:"Caladrius Ability",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:r}=e,n=this.owner;if(t&&t.parent===n.parent&&t!==n&&t.mana>=3){const a=2*this.level;t.mana-=3,t.increaseAttack(a),t.increaseHealth(a),this.logService.createLog({message:`${n.name} spent 3 mana from ${t.name} to give it +${a}/+${a}.`,type:"ability",player:n.parent,tiger:i,pteranodon:r})}this.triggerTigerExecution(e)}copy(e){return new qp(e,this.logService)}}class Gp extends h{logService;pendingAttack=0;pendingHealth=0;usedThisTurn=!1;constructor(e,t){super({name:"CentipedeAbility",owner:e,triggers:["FriendBought","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{trigger:t,triggerPet:i,tiger:r,pteranodon:n}=e,a=this.owner;if("FriendBought"===t){if(this.usedThisTurn||!i)return;const o=this.level*(i.tier??1);return a.increaseAttack(o),a.increaseHealth(o),this.pendingAttack+=o,this.pendingHealth+=o,this.usedThisTurn=!0,this.logService.createLog({message:`${a.name} gained +${o} attack and +${o} health until next turn.`,type:"ability",player:a.parent,tiger:r,pteranodon:n}),void this.triggerTigerExecution(e)}if("EndTurn"===t)return(this.pendingAttack||this.pendingHealth)&&(a.increaseAttack(-this.pendingAttack),a.increaseHealth(-this.pendingHealth),this.pendingAttack=0,this.pendingHealth=0),void(this.usedThisTurn=!1)}copy(e){return new Gp(e,this.logService)}}class Hp extends h{logService;constructor(e,t){super({name:"Deer Lord Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.petAhead;i&&(i.health=0,this.logService.createLog({message:`${t.name} knocked out ${i.name}.`,type:"ability",player:t.parent}),this.logService.createLog({message:`${t.name} stocked ${this.level} free Bacon.`,type:"ability",player:t.parent})),this.triggerTigerExecution(e)}copy(e){return new Hp(e,this.logService)}}class c$ extends p{logService;abilityService;name="Dimetrodon";tier=3;pack="Custom";hidden=!0;constructor(e,t,i,r,n,a,l,o){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,null,o)}initAbilities(){}}class Dp extends h{logService;constructor(e,t){super({name:"Dimetrodon Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=this.level,a=5*n,o=new c$(this.logService,r.abilityService,r.parent,a,a);if(r.parent.summonPet(o,r.position).success)this.logService.createLog({message:`${r.name} summoned a ${a}/${a} Dimetrodon.`,type:"ability",player:r.parent,tiger:t,pteranodon:i});else{const u=n,g=r.parent.petArray.filter(d=>d&&d!==r);for(const d of g)d.increaseAttack(u),d.increaseHealth(u);g.length>0&&this.logService.createLog({message:`${r.name} gave friends +${u}/+${u}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i})}this.triggerTigerExecution(e)}copy(e){return new Dp(e,this.logService)}}const Op=["Turtle","Puppy","Star","Golden","Unicorn","Danger","Custom"].filter(s=>"Custom"!==s);class Wp extends h{logService;constructor(e,t){super({name:"Dugong Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=2*this.level,a=2*this.level,l=R.getInjector().get(te),o=r.parent.pack,c=r.parent.petArray.filter(u=>u.alive&&u!==r&&!this.isPetInActivePack(u,o,l));for(const u of c)u.increaseAttack(n),u.increaseHealth(a);c.length>0&&this.logService.createLog({message:`${r.name} gave +${n}/+${a} to pets outside ${o}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}isPetInActivePack(e,t,i){if(!i)return e.pack===t;if(Op.includes(t))return(i.basePackPetsByName[t]?.get(e.tier)??[]).includes(e.name);const r=i.playerCustomPackPets.get(t);return r?r.get(e.tier)?.includes(e.name)??!1:e.pack===t}copy(e){return new Wp(e,this.logService)}}class jp extends h{logService;constructor(e,t){super({name:"Eel Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=.5*this.level,a=Math.floor(r.health*n);r.increaseHealth(a),this.logService.createLog({message:`${r.name} gained +${a} health (+${100*n}%).`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new jp(e,this.logService)}}class Up extends h{logService;constructor(e,t){super({name:"Emperor Tamarin Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} sold and gave ${1===this.level?33:2===this.level?66:100}% of its stats to the leftmost shop pet.`,type:"ability",player:t.parent}),this.triggerTigerExecution(e)}copy(e){return new Up(e,this.logService)}}class _p extends h{logService;constructor(e,t){super({name:"Farmer Pig Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=[r.petAhead,r.petBehind()].filter(a=>null!==a&&a.alive);for(const a of n)for(let l=0;l<this.level;l++){const o=new ut;o.effectMultiplier=2,a.givePetEquipment(o)}n.length>0&&this.logService.createLog({message:`${r.name} fed adjacent friends ${this.level} Corncob${1===this.level?"":"s"} with double effect.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new _p(e,this.logService)}}class Vp extends h{logService;constructor(e,t){super({name:"FlyingSquirrelAbility",owner:e,triggers:["FriendlyToyBroke"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=2*this.level,o=a.parent.getThis(a),c=o.pet;if(null==c||(c.increaseAttack(l),this.logService.createLog({message:`${a.name} gave ${c.name} +${l} attack`,type:"ability",player:a.parent,tiger:r,randomEvent:o.random}),null==a.parent.brokenToy))return;const u=R.getInjector().get(he).createToy(a.parent.brokenToy.name,a.parent);u.level=Math.min(this.level,a.parent.brokenToy.level),a.parent.setToy(u),this.logService.createLog({message:`${u.name} respawned (Level ${u.level})!`,type:"ability",player:a.parent,tiger:r}),this.triggerTigerExecution(e)}copy(e){return new Vp(e,this.logService)}}class Kp extends h{logService;constructor(e,t){super({name:"Foo Dog Ability",owner:e,triggers:["ThisBought"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} was bought and gave future shop pets from the next tier +${2*this.level} health.`,type:"ability",player:t.parent}),this.triggerTigerExecution(e)}copy(e){return new Kp(e,this.logService)}}class zp extends h{logService;constructor(e,t){super({name:"Gerenuk Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=r.parent.opponent;let a=this.level;for(;a>0;){const l=this.getHighestTierPerkPet(n);if(!l)break;const o=l.equipment?.name??"perk";l.removePerk(!0),this.logService.createLog({message:`${r.name} removed ${l.name}'s ${o}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),a--}this.triggerTigerExecution(e)}getHighestTierPerkPet(e){const t=e.petArray.filter(n=>n.alive&&n.equipment&&!this.isAilmentEquipment(n.equipment));if(0===t.length)return null;let i=Math.max(...t.map(n=>n.equipment?.tier??0));return t.filter(n=>(n.equipment?.tier??0)===i).sort((n,a)=>n.position-a.position)[0]??null}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new zp(e,this.logService)}}class Qp extends h{logService;constructor(e,t){super({name:"Great Potoo Ability",owner:e,triggers:["AnyoneHurt"],abilityType:"Pet",native:!0,maxUses:5,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t}=e,i=this.owner;if(!0!==t.FirstNonJumpAttackHappened){const n=2*this.level;i.increaseHealth(n),this.logService.createLog({message:`${i.name} gained +${n} health from AnyoneHurt (before any attacks).`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new Qp(e,this.logService)}}class Yp extends h{logService;constructor(e,t){super({name:"Jewel Caterpillar Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=r.parent;if(n.trumpets<2)return void this.triggerTigerExecution(e);const l=n.petArray.filter(u=>u.alive&&u!==r).slice(-2);if(0===l.length)return void this.triggerTigerExecution(e);const o=this.level;l.forEach(u=>u.increaseSellValue(o)),n.spendTrumpets(2,r,i);const c=this.formatNames(l.map(u=>u.name));this.logService.createLog({message:`${r.name} spent 2 trumpets to give ${c} +${o} sell value each permanently.`,type:"ability",player:n,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}formatNames(e){return 0===e.length?"no friends":1===e.length?e[0]:`${e.slice(0,-1).join(", ")} and ${e[e.length-1]}`}copy(e){return new Yp(e,this.logService)}}class Jp extends h{logService;constructor(e,t){super({name:"Pangasius Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=this.getFriendWithAilment(r.parent),a=this.getFirstEnemy(r.parent.opponent);if(!a)return void this.triggerTigerExecution(e);const l=this.level,o=n?.equipment??new Te,c=we(o);if(!c)return void this.triggerTigerExecution(e);l>1&&(c.multiplier=l,c.multiplierMessage=` x${l} (Pangasius)`),a.givePetEquipment(c);const u=["copied","copied with double effect","copied with triple effect"],g=u[Math.min(l,u.length)-1];this.logService.createLog({message:`${r.name} ${g} ${n?`${n.name}'s ${o?.name}`:o?.name} onto ${a.name}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}getFriendWithAilment(e){return e.petArray.filter(i=>i.alive&&i.equipment&&this.isAilmentEquipment(i.equipment)).sort((i,r)=>i.position-r.position)[0]??null}getFirstEnemy(e){return e.petArray.find(t=>t.alive)??null}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new Jp(e,this.logService)}}class Zp extends h{logService;constructor(e,t){super({name:"Patagonian Mara Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=r.parent,a=4*this.level;n.gainTrumpets(a,r,i);const l=R.getInjector().get(Pe),o=new br(this.logService,l,n,this.level,this.level);n.summonPet(o,r.position),this.logService.createLog({message:`${r.name} gained ${a} trumpets and summoned a Golden Retriever.`,type:"ability",player:n,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new Zp(e,this.logService)}}class Xp extends h{logService;constructor(e,t){super({name:"Pony Ability",owner:e,triggers:["KnockOut"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=r.parent,a=this.level,l=r.petBehind();if(!l)return void this.triggerTigerExecution(e);const o=n.abilityService;for(let c=0;c<a;c++)this.applyBetterApple(l,o);this.logService.createLog({message:`${r.name} fed ${l.name} ${a} Better Apple${1===a?"":"s"} after knocking out an enemy.`,type:"ability",player:n,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}applyBetterApple(e,t){e.increaseAttack(2),e.increaseHealth(2),t?.triggerFoodEvents(e,"better apple")}copy(e){return new Xp(e,this.logService)}}class eg extends h{logService;constructor(e,t){super({name:"Porcupine Ability",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t}=e,i=this.owner;if(t&&t.alive&&t.parent!==i.parent){const r=3*this.level;i.dealDamage(t,r),this.logService.createLog({message:`${i.name} reflected ${r} damage to ${t.name}.`,type:"ability",player:i.parent})}this.triggerTigerExecution(e)}copy(e){return new eg(e,this.logService)}}class CA extends p{logService;abilityService;name="Quail";tier=1;pack="Custom";hidden=!0;attack=2;health=2;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class tg extends h{logService;abilityService;constructor(e,t,i){super({name:"Quail Chick Ability",owner:e,triggers:["FoodEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=2*this.level*2,a=r.petAhead;a&&a.alive&&(a.increaseAttack(n),a.increaseHealth(n));const l=new CA(this.logService,this.abilityService,r.parent,void 0,void 0,void 0,r.exp);r.parent.transformPet(r,l),this.logService.createLog(a&&a.alive?{message:`${r.name} transformed into ${l.name} and gave ${a.name} +${n} attack and +${n} health.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}:{message:`${r.name} transformed into ${l.name}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new tg(e,this.logService,this.abilityService)}}class ig extends h{logService;constructor(e,t){super({name:"Queen Bee Ability",owner:e,triggers:["BeeSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i,triggerPet:r}=e,n=this.owner,a=r;if(!a||"Bee"!==a.name)return void this.triggerTigerExecution(e);const l=3*this.level;a.increaseAttack(l),a.increaseHealth(l);const o=this.removeOtherQueenBees(n);this.logService.createLog({message:`${n.name} gave ${a.name} +${l}/+${l} and removed ${o} other Queen Bees.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}removeOtherQueenBees(e){const t=[e.parent,e.parent.opponent];let i=0;for(const r of t){for(const n of[...r.petArray])n!==e&&n.alive&&"Queen Bee"===n.name&&(n.health=0,r.handleDeath(n),i++);r.removeDeadPets()}return i}copy(e){return new ig(e,this.logService)}}class rg extends h{logService;constructor(e,t){super({name:"Quetzalcoatlus Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:r}=e,n=this.owner;if(!t||!t.alive)return void this.triggerTigerExecution(e);const a=this.level,l=t.parent.petArray.filter(o=>o.alive);for(const o of l)o.increaseAttack(a),o.increaseHealth(a);this.logService.createLog({message:`${n.name} (Faint) gave +${a}/+${a} to ${t.name} and its friends.`,type:"ability",player:n.parent,tiger:i,pteranodon:r}),this.triggerTigerExecution(e)}copy(e){return new rg(e,this.logService)}}class ag extends h{logService;constructor(e,t){super({name:"Sage-Grouse Ability",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=r.parent;"Strawberry"===r.equipment?.name?(r.removePerk(!0),n.gold=(n.gold??0)+3,this.logService.createLog({message:`${r.name} sold and removed Strawberry to gain +3 gold.`,type:"ability",player:n,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new ag(e,this.logService)}}class ng extends p{logService;abilityService;petService;name="Sarcastic Fringehead";tier=3;pack="Custom";attack=4;health=7;initAbilities(){this.addAbility(new sg(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class sg extends h{logService;petService;constructor(e,t,i){super({name:"SarcasticFringeheadAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=t,this.petService=i}spawnForOpponent(e){const t=this.owner,i=t.parent.opponent;if(0===(t.swallowedPets?.length??0)){const r=t.sarcasticFringeheadSwallowedPet;if(r){const n=this.petService.createPet({name:r,attack:1,health:1,exp:t.minExpForLevel,equipment:null,mana:0},t.parent);n&&t.swallowedPets.push(n)}}for(;t.swallowedPets.length>0;){const r=t.swallowedPets.shift();if(!r)continue;r.parent=i;const n=i.summonPet(r,0,!1);n.success&&this.logService.createLog({message:`${t.name} spawned ${r.name} for the opponent.`,type:"ability",player:t.parent,tiger:e.tiger,randomEvent:n.randomEvent})}}executeAbility(e){this.spawnForOpponent(e),this.triggerTigerExecution(e)}copy(e){return new sg(e,this.logService,this.petService)}}class lg extends h{logService;constructor(e,t){super({name:"Silkie Chicken Ability",owner:e,triggers:["FriendGainsAilment"],abilityType:"Pet",native:!0,maxUses:2,abilitylevel:e.level,precondition:i=>{const r=i.triggerPet;return!!r&&r.alive},abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i,triggerPet:r}=e,n=this.owner,a=r;if(!a)return;const o=R.getInjector().get(G).getUsefulPerksByTier(1);if(0===o.length)return;const u=o[S(0,o.length-1)];a.givePetEquipment(u),this.logService.createLog({message:`${n.name} gave ${a.name} the ${u.name} perk.`,type:"ability",player:n.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new lg(e,this.logService)}}class FA extends p{logService;abilityService;name="Smaller Slime";tier=1;pack="Unicorn";hidden=!0;health=2;attack=2;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class NA extends p{logService;abilityService;name="Slime";tier=3;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new og(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class og extends h{logService;abilityService;constructor(e,t,i){super({name:"Slime Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=Math.max(0,r.battlesFought??0),a=Math.floor(n/2);if(a<=0)return void this.triggerTigerExecution(e);const l=2*this.level;let o=0;for(let c=0;c<a;c++){const u=new FA(this.logService,this.abilityService,r.parent,l,l);if(!r.parent.summonPet(u,r.savedPosition,!1,r).success)break;o++}o>0&&this.logService.createLog({message:`${r.name} summoned ${o} ${l}/${l} Smaller Slime${1===o?"":"s"}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new og(e,this.logService,this.abilityService)}}class cg extends h{logService;constructor(e,t){super({name:"Sugar Glider Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=2*this.level,l=ge(r.parent.petArray.filter(o=>o.alive&&o!==r)).slice(0,2);for(const o of l)o.mana+=n;l.length>0&&this.logService.createLog({message:`${r.name} gave ${n} mana to ${l.length} friends.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new cg(e,this.logService)}}class ug extends h{logService;constructor(e,t){super({name:"Tree Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=[6,12,18],a=n[Math.min(this.level-1,n.length-1)];r.attack<=a&&(r.givePetEquipment(new fe),this.logService.createLog({message:`${r.name} gained Coconut perk for meeting the ${a} attack threshold.`,type:"ability",player:r.parent,tiger:t,pteranodon:i})),this.triggerTigerExecution(e)}copy(e){return new ug(e,this.logService)}}class hg extends h{logService;constructor(e,t){super({name:"Vampire Parrot Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=r.parent.petArray.filter(d=>d.alive&&d.equipment),a=new Set;for(const d of n){const m=d.equipment.equipmentClass;("ailment-attack"===m||"ailment-defense"===m||"ailment-other"===m)&&a.add(d.equipment.name)}const l=a.size;if(0===l)return void this.triggerTigerExecution(e);const o=this.level,c=2*this.level,u=l*o,g=l*c;r.increaseAttack(u),r.increaseHealth(g),this.logService.createLog({message:`${r.name} gained +${u}/+${g} (+${o}/+${c} per unique ailment) from ${l} friendly pets with different ailments.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new hg(e,this.logService)}}class pg extends h{logService;constructor(e,t){super({name:"Wasp Ability",owner:e,triggers:["ShopUpgrade"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,r=Math.floor(t.attack*(.5*this.level));r>0&&(t.increaseAttack(r),this.logService.createLog({message:`${t.name} gained +${r} attack from Shop Upgrade.`,type:"ability",player:t.parent}))}copy(e){return new pg(e,this.logService)}}const gg=new Map,IA=et??Et;if(Array.isArray(IA))for(const s of IA){if(!s||"object"!=typeof s)continue;const e=s;if(!e.Name)continue;const t=Number(e.Attack??0),i=Number(e.Health??0);gg.set(e.Name,{attack:t,health:i})}class dg extends h{logService;pendingAttack=0;pendingHealth=0;constructor(e,t){super({name:"Andrewsarchus Ability",owner:e,triggers:["EndTurn","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:r}=e,n=this.owner;if("StartTurn"===e.trigger)return(this.pendingAttack||this.pendingHealth)&&(n.increaseAttack(-this.pendingAttack),n.increaseHealth(-this.pendingHealth),this.pendingAttack=0,this.pendingHealth=0),void this.triggerTigerExecution(e);const a=n.parent===t?.player?t?.playerPetPool:t?.opponentPetPool,l=[];let o=-1;for(const b of a?.values()??[])for(const y of b??[]){const v=gg.get(y);v&&(v.health>o?(o=v.health,l.length=0,l.push(y)):v.health===o&&l.push(y))}if(!l.length||o<0)return void this.triggerTigerExecution(e);const c=1===l.length?l[0]:l[S(0,l.length-1)],u=gg.get(c);if(!u)return void this.triggerTigerExecution(e);const g=.5*this.level,d=Math.floor(u.attack*g),m=Math.floor(u.health*g);(d>0||m>0)&&(n.increaseAttack(d),n.increaseHealth(m),this.pendingAttack+=d,this.pendingHealth+=m),this.logService.createLog({message:`${n.name} removed ${c} from the shop and gained +${d}/+${m} until next turn.`,type:"ability",player:n.parent,tiger:i,pteranodon:r,randomEvent:l.length>1}),this.triggerTigerExecution(e)}copy(e){const t=new dg(e,this.logService);return t.pendingAttack=this.pendingAttack,t.pendingHealth=this.pendingHealth,t}}class mg extends h{logService;constructor(e,t){super({name:"AnubisAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:r}=e,n=this.owner,a=[2,4,6],l=a[Math.min(Math.max(this.level,1)-1,a.length-1)],o=n.parent.petArray.filter(c=>c&&c!==n&&c.alive&&c.isFaintPet()&&c.tier<=l).sort((c,u)=>(c.position??0)-(u.position??0)).slice(0,2);for(const c of o)this.logService.createLog({message:`${n.name} activated ${c.name}'s faint ability (tier ${c.tier} <= ${l}).`,type:"ability",player:n.parent,tiger:i,pteranodon:r}),c.activateAbilities("PostRemovalFaint",t,"Pet");this.triggerTigerExecution(e)}copy(e){return new mg(e,this.logService)}}class bg extends h{logService;constructor(e,t){super({name:"Blue-Footed Booby Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner;if(r.parent.trumpets<4)return void this.triggerTigerExecution(e);const l=r.getPetsBehind(1,"Melon Slice")[0];if(!l||!l.alive)return void this.triggerTigerExecution(e);r.parent.spendTrumpets(4,r);const o=new qn;o.uses=this.level,o.originalUses=o.uses,l.givePetEquipment(o),this.logService.createLog({message:`${r.name} spent 4 trumpets to give ${l.name} a Melon Slice (${o.uses} uses).`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new bg(e,this.logService)}}class yg extends h{logService;abilityService;constructor(e,t,i){super({name:"CrowAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner;this.logService.createLog({message:`${t.name} stocked one ${1===this.level?"Chocolate":2===this.level?"Better Chocolate":"Best Chocolate"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new yg(e,this.logService,this.abilityService)}}class vg extends h{logService;constructor(e,t){super({name:"Deinocheirus Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=r.equipment;if(!n)return void this.triggerTigerExecution(e);if(!n.equipmentClass?.startsWith("ailment"))return void this.triggerTigerExecution(e);const l=this.level,o=l,c=2*l;r.increaseAttack(o),r.increaseHealth(c),this.logService.createLog({message:`${r.name} reversed ${n.name} and gained +${o}/+${c} (x${l}).`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new vg(e,this.logService)}}class Ag extends h{logService;constructor(e,t){super({name:"DragonflyAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,r=t.parent.petArray.filter(a=>a&&a.alive&&a!==t),n=new Map;for(const a of r)n.has(a.level)||n.set(a.level,a);if(0!==n.size){for(const a of n.values())a.increaseAttack(i),a.increaseHealth(i);this.logService.createLog({message:`${t.name} gave friends +${i}/+${i} based on unique levels.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new Ag(e,this.logService)}}class fg extends h{logService;pendingAttackBuff=0;pendingHealthBuff=0;constructor(e,t){super({name:"Gazelle Ability",owner:e,triggers:["StartTurn","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{trigger:t,gameApi:i,tiger:r,pteranodon:n}=e,a=this.owner;"StartTurn"===t?this.applyBonus(i,a,r,n):"EndTurn"===t&&this.removeBonus(a)}applyBonus(e,t,i,r){const a=Math.max(0,((t.parent===e?.player?e.playerGoldSpent:e?.opponentGoldSpent)??0)-10);if(a<=0)return this.pendingAttackBuff=0,void(this.pendingHealthBuff=0);const c=a*[2,4,6][Math.min(this.level-1,2)],u=a*[1,2,3][Math.min(this.level-1,2)];t.increaseAttack(c),t.increaseHealth(u),this.pendingAttackBuff=c,this.pendingHealthBuff=u,this.logService.createLog({message:`${t.name} gained +${c}/+${u} (per gold over 10) from ${a} gold.`,type:"ability",player:t.parent,tiger:i,pteranodon:r})}removeBonus(e){(0!==this.pendingAttackBuff||0!==this.pendingHealthBuff)&&(e.increaseAttack(-this.pendingAttackBuff),e.increaseHealth(-this.pendingHealthBuff),this.pendingAttackBuff=0,this.pendingHealthBuff=0)}copy(e){return new fg(e,this.logService)}}class MA extends p{logService;abilityService;name="Sleeping Gelada";tier=1;pack="Custom";hidden=!0;attack=3;health=7;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class kg extends h{logService;abilityService;constructor(e,t,i){super({name:"Gelada Ability",owner:e,triggers:["Eat2"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=this.level;if(n<=0)return void this.triggerTigerExecution(e);const a=new MA(this.logService,this.abilityService,r.parent,void 0,void 0,void 0,r.exp);r.parent.transformPet(r,a),this.feedFriends(n),this.logService.createLog({message:`${r.name} transformed into ${a.name} and fed each friend ${n} Pear${1===n?"":"s"}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}feedFriends(e){if(e<=0)return;const r=this.owner.parent.petArray.filter(n=>n&&n.alive);for(const n of r)for(let a=0;a<e;a++)n.increaseAttack(1),n.increaseHealth(1),this.abilityService.triggerFoodEvents(n,"pear")}copy(e){return new kg(e,this.logService,this.abilityService)}}class Sg extends p{logService;abilityService;petService;name="Goblin Shark";tier=4;pack="Custom";attack=6;health=3;initAbilities(){this.addAbility(new Tg(this,this.logService,this.petService)),this.addAbility(new Pg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class Pg extends h{logService;abilityService;constructor(e,t,i){super({name:"GoblinSharkFaintAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,condition:r=>this.owner.alive,abilityFunction:r=>{this.executeAbility(r)},ignoreRepeats:!0}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;for(;a.swallowedPets.length>0;){let l=a.swallowedPets.shift();l.health=1;let o=a.parent.summonPet(l,a.savedPosition,!1,a);o.success&&this.logService.createLog({message:`${a.name} summoned ${l.name} (level ${l.level}).`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:o.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new Pg(e,this.logService,this.abilityService)}}class Tg extends h{logService;petService;constructor(e,t,i){super({name:"GoblinSharkStartAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=6*this.level;for(let o of a.parent.opponent.petArray)if(o.alive&&o.health<=l){let c=this.petService.createPet({name:o.name,attack:o.attack,health:o.health,exp:o.exp,equipment:null,mana:0},a.parent);a.swallowedPets.push(c),o.health=0,this.logService.createLog({message:`${a.name} swallowed ${o.name}`,type:"ability",player:a.parent,tiger:r,pteranodon:n});break}this.triggerTigerExecution(e)}copy(e){return new Tg(e,this.logService,this.petService)}}class wg extends h{logService;constructor(e,t){super({name:"HippocampusAbility",owner:e,triggers:["FriendAheadFainted"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:r}=e,n=this.owner;if(!t)return void this.triggerTigerExecution(e);const a=n.parent===t.player?t.playerRollAmount||0:t.opponentRollAmount||0,l=a*this.level;l<=0||(n.increaseMana(l),D(this.logService,n,`${n.name} gained ${l} mana from ${a} rolls this turn.`,i,r)),this.triggerTigerExecution(e)}copy(e){return new wg(e,this.logService)}}class xg extends h{logService;constructor(e,t){super({name:"Hoatzin Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=r.parent,a=3*this.level;let l=0;for(const u of n.petArray)!u||!u.alive||"Strawberry"===u.equipment?.name&&(u.removePerk(),l++);if(0===l)return void this.triggerTigerExecution(e);const o=a*l,c=n.resolveTrumpetGainTarget(r);c.player.gainTrumpets(o,r,t,void 0,void 0,c.random),this.logService.createLog({message:`${r.name} removed ${l} Strawberry${1===l?"":"s"} for +${o} trumpets.`,type:"ability",player:n,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new xg(e,this.logService)}}class Rg extends h{logService;abilityService;lastTriggeredTurn=null;constructor(e,t,i){super({name:"Jerboa Ability",owner:e,triggers:["AppleEatenByThis"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i,gameApi:r}=e,n=this.owner,a=r?.turnNumber??null;if(null!=a&&this.lastTriggeredTurn===a)return void this.triggerTigerExecution(e);this.lastTriggeredTurn=a;const l=this.level,o=n.parent,c=o.petArray.filter(u=>u&&u.alive&&u!==n);if(0!==c.length){for(const u of c)u.increaseAttack(l),u.increaseHealth(l);this.logService.createLog({message:`${n.name} ate an apple and gave friendly pets +${l}/+${l}.`,type:"ability",player:o,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new Rg(e,this.logService,this.abilityService)}}class Lg extends h{logService;constructor(e,t){super({name:"Leaf Gecko Ability",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=R.getInjector().get(G),a=Array.from(n.getInstanceOfAllAilments().keys()),l=[...r.parent.petArray,...r.parent.opponent.petArray].filter(y=>y?.alive);if(0===a.length||0===l.length)return void this.triggerTigerExecution(e);const o=3*this.level;let c=0;const u=[];let g=0;const d=5*o;let m=!1;for(;c<o&&g<d;){const y=L({key:"pet.leaf-gecko-target",label:M(r,"Leaf Gecko cursed target",g+1),options:l.map(N=>({id:`${N.parent?.isOpponent?"O":"P"}:${N.savedPosition+1}:${N.name}`,label:`${N.parent?.isOpponent?"O":"P"}${N.savedPosition+1} ${N.name}`}))},()=>S(0,l.length-1));m=m||y.randomEvent;const v=l[y.index];if(!v){g++;continue}const A=a.filter(N=>pa(v,N));if(0===A.length){g++;continue}const k=L({key:"pet.leaf-gecko-ailment",label:M(r,`Leaf Gecko ailment for ${v.name}`,g+1),options:A.map(N=>({id:N,label:N}))},()=>S(0,A.length-1));m=m||k.randomEvent;const F=A[k.index];if(!F){g++;continue}const Q=n.getInstanceOfAllAilments().get(F);if(!Q){g++;continue}const $=we(Q);$?(v.parent!==r.parent&&($.multiplier=2,$.multiplierMessage=" x2 (Leaf Gecko)"),v.givePetEquipment($),v.equipment?.name===F&&v.equipment?.equipmentClass?.startsWith("ailment")&&(c++,u.push(`${v.name} (${F}${v.parent!==r.parent?" x2":""})`)),g++):g++}const b=c>0?`${r.name} cursed ${c} pet${1===c?"":"s"}: ${u.join(", ")}.`:`${r.name} could not apply any random ailments.`;D(this.logService,r,b,t,i,{randomEvent:m}),this.triggerTigerExecution(e)}copy(e){return new Lg(e,this.logService)}}class Eg extends h{logService;constructor(e,t){super({name:"Leafy Sea Dragon Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=this.level,a=De(r);a.forEach(o=>{o.increaseExp(n)}),r.health=0,r.parent.handleDeath(r),r.parent.removeDeadPets(),D(this.logService,r,`${r.name} gave ${a.length} adjacent friend${1===a.length?"":"s"} +${n} experience and removed itself.`,t,i),this.triggerTigerExecution(e)}copy(e){return new Eg(e,this.logService)}}const z$=(()=>{const s=Ot??Bi;if(!Array.isArray(s))return[];const e=[],t=/Give one pet \+(\d+) attack(?: and \+(\d+) health)?|Give one pet \+(\d+) health/;for(const i of s){if(!i||"object"!=typeof i)continue;const r=i,n=r.Ability??"";if(!n||/perk/i.test(n)||!n.startsWith("Give one pet +"))continue;const a=n.match(t);if(!a)continue;const l=a[1]?Number(a[1]):0,o=a[2]?Number(a[2]):a[3]?Number(a[3]):0;!Number.isFinite(l)||!Number.isFinite(o)||r.Name&&e.push({name:r.Name,attack:l,health:o})}return e})();class Cg extends h{logService;abilityService;constructor(e,t,i){super({name:"Locust Ability",owner:e,triggers:["FoodEatenByThis","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=t,this.abilityService=i}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:r}=e,n=this.owner,a=n,l=t?.turnNumber??0;if(a.locustFoodTurn!==l&&(a.locustFoodTurn=l,a.locustFoodEaten=0),a.locustFoodSeededTurn!==l){a.locustFoodSeededTurn=l;const m=n.foodsEaten??0;m>0&&(a.locustFoodEaten=Math.max(a.locustFoodEaten??0,m))}if("FoodEatenByThis"===e.trigger&&n.alive)return void(a.locustFoodEaten=(a.locustFoodEaten??0)+1);if("PostRemovalFaint"!==e.trigger)return void this.triggerTigerExecution(e);const o=a.locustFoodEaten??0;if(o<=0)return void this.triggerTigerExecution(e);let c=0;const u=n.position??n.savedPosition??0,g=R.getInjector().get(te),d=z$;for(let m=0;m<this.level;m++){const b=g?g.getRandomPet(n.parent):null;if(!b||!n.parent.summonPet(b,u,!1,n).success)break;c++;for(let v=0;v<o&&0!==d.length;v++){const A=d[S(0,d.length-1)];A&&(A.attack&&b.increaseAttack(A.attack),A.health&&b.increaseHealth(A.health),this.abilityService?.triggerFoodEvents(b,A.name.toLowerCase()))}}this.logService.createLog({message:`${n.name} summoned ${c} friend${1===c?"":"s"} and fed them random food.`,type:"ability",player:n.parent,tiger:i,pteranodon:r}),this.triggerTigerExecution(e)}copy(e){return new Cg(e,this.logService,this.abilityService)}}class Fg extends h{logService;constructor(e,t){super({name:"Lynx Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=r.parent.petArray.reduce((o,c)=>o+(c?.level??0),0);if(n<=0)return void this.triggerTigerExecution(e);const a=this.level,l=[];for(let o=0;o<a;o++){const c=r.parent.opponent.getRandomPet(l,!1,!1,!1,r);if(!c.pet)break;l.push(c.pet),r.snipePet(c.pet,n,c.random)}this.logService.createLog({message:`${r.name} dealt ${n} damage to ${l.length} enemy${1===l.length?"":"ies"}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new Fg(e,this.logService)}}class Ng extends h{logService;abilityService;constructor(e,t,i){super({name:"Old Mouse Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=R.getInjector().get(he),a=Math.max(1,Math.min(3,this.level)),l=n.toys.get(a)??[];if(0===l.length)return void this.triggerTigerExecution(e);const o=l[0],c=n.createToy(o,r.parent,a);c?(r.parent.toy=c,r.parent.toy.used=!1,r.parent.toy.triggers=0,D(this.logService,r,`${r.name} chose a level ${a} ${o} toy.`,t,i),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new Ng(e,this.logService,this.abilityService)}}class Ig extends h{logService;pendingBuffs=new Map;constructor(e,t){super({name:"Pegasus Ability",owner:e,triggers:["FriendSummoned","EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{trigger:t,tiger:i,pteranodon:r}=e,n=this.owner;if("FriendSummoned"===t){const a=n.parent.getRandomPets(3,[],!1,!1,n),l=this.level;if(a.pets.length>0){const o=[];for(const c of a.pets){c.increaseAttack(l);const u=this.pendingBuffs.get(c)??0;this.pendingBuffs.set(c,u+l),o.push(c.name)}this.logService.createLog({message:`${n.name} temporarily buffed ${o.join(", ")} for +${l} attack until next turn.`,type:"ability",player:n.parent,tiger:i,pteranodon:r,randomEvent:a.random})}}else"EndTurn"===t&&this.resetBuffs();this.triggerTigerExecution(e)}resetBuffs(){for(const[e,t]of this.pendingBuffs)e.alive&&e.increaseAttack(-t);this.pendingBuffs.clear()}copy(e){return new Ig(e,this.logService)}}class Mg extends h{logService;constructor(e,t){super({name:"PlatybelodonAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:r}=e,a=this.owner;let l=0;a.parent===t.player?l=t.playerRollAmount||0:a.parent===t.opponent&&(l=t.opponentRollAmount||0);let o=this.level*Math.min(l,8);if(o>0){const c=a.parent.resolveTrumpetGainTarget(a);c.player.gainTrumpets(o,a,r,void 0,void 0,c.random)}this.triggerTigerExecution(e)}copy(e){return new Mg(e,this.logService)}}class $g extends h{logService;constructor(e,t){super({name:"Poodle Moth Ability",owner:e,triggers:["FriendTransformed"],abilityType:"Pet",maxUses:e.level,native:!0,abilitylevel:e.level,precondition:i=>{const{triggerPet:r}=i;return!!r&&r.parent===this.owner.parent},abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:r}=e,n=this.owner;t&&(t.increaseExp(3),this.logService.createLog({message:`${n.name} gave ${t.name} +3 experience after transforming.`,type:"ability",player:n.parent,tiger:i,pteranodon:r}),this.triggerTigerExecution(e))}copy(e){return new $g(e,this.logService)}}class Bg extends h{logService;constructor(e,t){super({name:"Racket Tail Ability",owner:e,triggers:["BeforeFriendAttacks"],abilityType:"Pet",maxUses:e.level,native:!0,abilitylevel:e.level,precondition:i=>{const{triggerPet:r}=i;return!!r&&r.parent===this.owner.parent&&r.alive},abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:r}=e,n=this.owner;if(!t)return;const l=R.getInjector().get(G).getInstanceOfAllEquipment().get("Strawberry");l&&t.givePetEquipment(l),t.increaseAttack(5),this.logService.createLog({message:`${n.name} gave ${t.name} Strawberry and +5 attack before attacking.`,type:"ability",player:n.parent,tiger:i,pteranodon:r}),this.triggerTigerExecution(e)}copy(e){return new Bg(e,this.logService)}}class qg extends p{logService;abilityService;petService;name="Red Lipped Batfish";tier=4;pack="Custom";attack=5;health=3;initAbilities(){this.addAbility(new Gg(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class Gg extends h{logService;petService;constructor(e,t,i){super({name:"Red Lipped Batfish Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=t,this.petService=i}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=r.parent.opponent;if(!n)return void this.triggerTigerExecution(e);const a=n.getPetAtPosition(r.position);if(!a||!a.alive)return void this.triggerTigerExecution(e);const l=Math.max(1,4-this.level),o=this.petService.getRandomFaintPet(n,l,[],r);n.transformPet(a,o),this.logService.createLog({message:`${r.name} transformed ${a.name} into ${o.name} (tier ${l}).`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new Gg(e,this.logService,this.petService)}}class Hg extends h{logService;constructor(e,t){super({name:"Rootling Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=this.level,l=r.parent.petArray.filter(o=>o&&o.alive&&o!==r&&o.health<r.health).sort((o,c)=>o.health-c.health).slice(0,2);for(const o of l)o.increaseAttack(n),o.increaseHealth(n);l.length>0&&this.logService.createLog({message:`${r.name} gave ${l.map(o=>o.name).join(", ")} +${n}/+${n}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new Hg(e,this.logService)}}class Dg extends h{logService;usesThisTurn=0;maxUsesPerTurn=3;constructor(e,t){super({name:"Sea Anemone Ability",owner:e,triggers:["FriendSold","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if(this.usesThisTurn>=this.maxUsesPerTurn)return void this.triggerTigerExecution(e);const i=e.triggerPet;if(!i||!i.isSellPet())return void this.triggerTigerExecution(e);const r=t.parent.petArray.filter(o=>o&&o!==t&&o.alive);if(0===r.length)return void this.triggerTigerExecution(e);const n=L({key:"pet.sea-anemone-friend-sold-target",label:M(t,"Sea Anemone sold buff target"),options:r.map(o=>({id:`${o.savedPosition+1}:${o.name}`,label:`P${o.savedPosition+1} ${o.name}`}))},()=>S(0,r.length-1)),a=r[n.index],l=Math.min(Math.max(this.level,1),3);a.increaseAttack(l),a.increaseHealth(l),this.usesThisTurn++,this.logService.createLog({message:`${t.name} gave ${a.name} +${l}/+${l} after ${i.name} was sold.`,type:"ability",player:t.parent,randomEvent:n.randomEvent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Dg(e,this.logService)}}class Og extends p{logService;abilityService;petService;gameService;name="Seagull";tier=4;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new Wg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u,g){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.gameService=r,this.initPet(c,a,l,o,u,g)}}class Wg extends h{logService;usesThisTurn=0;constructor(e,t){super({name:"SeagullAbility",owner:e,triggers:["FriendSummoned","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:r,trigger:n}=e,a=this.owner;if("StartTurn"===n)return void(this.usesThisTurn=0);const l=ee(a,t);if(!l.pet||!a.equipment||this.usesThisTurn>=this.level)return void this.triggerTigerExecution(e);const o=R.getInjector().get(G),c=a.equipment,u=o.getInstanceOfAllEquipment().get(c.name);if(!u)return void this.triggerTigerExecution(e);const g=l.pet;g.givePetEquipment(u),this.usesThisTurn++,D(this.logService,a,`${a.name} gave ${g.name} a ${c.name}`,i,r,{randomEvent:l.random}),this.triggerTigerExecution(e)}copy(e){return new Wg(e,this.logService)}}class jg extends h{logService;affectedPets=new Set;constructor(e,t){super({name:"Spider Crab Ability",owner:e,triggers:["FriendAttacked","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{triggerPet:i,tiger:r,pteranodon:n}=e;if("StartTurn"===e.trigger)return this.affectedPets.clear(),void this.triggerTigerExecution(e);if(!i||i.parent!==t.parent)return void this.triggerTigerExecution(e);if(!i.alive)return void this.triggerTigerExecution(e);if(this.affectedPets.has(i))return void this.triggerTigerExecution(e);if(this.affectedPets.size>=this.level)return void this.triggerTigerExecution(e);let a=i;if(W(t)){const l=t.parent.petArray.filter(o=>o.alive);if(0===l.length)return void this.triggerTigerExecution(e);a=l[S(0,l.length-1)]}a.increaseHealth(4),a.parent.pushPetToBack(a),this.affectedPets.add(i),this.logService.createLog({message:`${t.name} moved ${a.name} to the back and gave it +4 health.`,type:"ability",player:t.parent,tiger:r,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new jg(e,this.logService)}}class Ug extends h{logService;constructor(e,t){super({name:"Spiny Bush Viper Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.opponent.petArray.filter(l=>l&&l.alive);if(0===i.length)return void this.triggerTigerExecution(e);const r=ge([...i]).slice(0,Math.min(2,i.length)),n=t.position??t.savedPosition??0,a=[];for(const l of r){const c=Math.max(1,Math.abs(n-(l.position??l.savedPosition??0))),u=Math.max(1,this.level)*c;t.dealDamage(l,u),a.push(`${u} to ${l.name}`)}a.length>0&&this.logService.createLog({message:`${t.name} dealt ${a.join(" and ")}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Ug(e,this.logService)}}class oB extends p{name="Tardigrade";tier=1;pack="Custom";attack=3;health=3;initAbilities(){}constructor(e,t,i,r,n){super(e,t,i),this.initPet(0,r,n,0,void 0,0)}}class _g extends h{logService;abilityService;constructor(e,t,i){super({name:"Tardigrade Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=3*Math.max(1,this.level),r=t.position??t.savedPosition??0,n=new oB(this.logService,this.abilityService,t.parent,i,i);t.parent.summonPet(n,r,!1,t).success&&(n.givePetEquipment(new ai),this.logService.createLog({message:`${t.name} summoned a ${i}/${i} level ${this.level} Tardigrade (Dazed).`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon})),this.triggerTigerExecution(e)}copy(e){return new _g(e,this.logService,this.abilityService)}}class Vg extends h{logService;constructor(e,t){super({name:"Trout Ability",owner:e,triggers:["FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=e.triggerPet;if(!i||i.sellValue<3)return void this.triggerTigerExecution(e);const r=Math.max(1,this.level),n=2*r;t.increaseAttack(r),t.increaseHealth(n),this.logService.createLog({message:`${t.name} gained +${r}/+${n} after ${i.name} was sold.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Vg(e,this.logService)}}class Kg extends h{logService;constructor(e,t){super({name:"Yeti Crab Ability",owner:e,triggers:["PetLostPerk"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,precondition:i=>{const{triggerPet:r}=i,n=this.owner;return!!r&&(r.parent!==n.parent?r.alive:Oe(n,r))},abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=e.triggerPet,{tiger:r,pteranodon:n}=e;if(i){if(i.parent===t.parent){const a=C(t,i),l=a.pet;if(!l)return;const o=new qn;l.givePetEquipment(o),this.logService.createLog({message:`${t.name} gave ${l.name} a Melon Slice after losing a perk.`,type:"ability",player:t.parent,tiger:r,randomEvent:a.random})}else t.dealDamage(i,6),this.logService.createLog({message:`${t.name} dealt 6 damage to ${i.name} after they lost a perk.`,type:"ability",player:t.parent,tiger:r,pteranodon:n});this.triggerTigerExecution(e)}}copy(e){return new Kg(e,this.logService)}}class zg extends h{logService;foodsEatenThisTurn=0;seededFromShop=!1;constructor(e,t){super({name:"Blue Jay Ability",owner:e,triggers:["FoodEatenByThis","StartTurn","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.foodsEatenThisTurn=0,void(this.seededFromShop=!1);if(!this.seededFromShop){const i=t.foodsEaten??0;i>0&&(this.foodsEatenThisTurn=Math.max(this.foodsEatenThisTurn,i)),this.seededFromShop=!0}if("FoodEatenByThis"!==e.trigger){if("PostRemovalFaint"===e.trigger){const r=this.level*this.foodsEatenThisTurn;if(r<=0)return void this.triggerTigerExecution(e);const n=t.parent.petArray.filter(l=>l&&l!==t&&l.alive);if(0===n.length)return void this.triggerTigerExecution(e);ge(n);const a=n.slice(0,3);for(const l of a)l.increaseAttack(r),l.increaseHealth(r);this.logService.createLog({message:`${t.name} gave ${a.map(l=>l.name).join(", ")} +${r}/+${r} after fainting.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}else this.foodsEatenThisTurn++}copy(e){return new zg(e,this.logService)}}class Qg extends h{logService;abilityService;reset(){this.maxUses=2*this.level,super.reset()}initUses(){this.maxUses=2*this.level,super.initUses()}constructor(e,t,i){super({name:"BoitataAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:2*e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.getPetsWithEquipmentWithSillyFallback("Crisp",a),o=a.parent.opponent.getFurthestUpPet(a,l),c=o.pet;null!=c&&(this.logService.createLog({message:`${a.name} gave ${c.name} Crisp.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:o.random}),c.givePetEquipment(new Xe),this.triggerTigerExecution(e))}copy(e){return new Qg(e,this.logService,this.abilityService)}}class Yg extends h{logService;attackers=new Set;constructor(e,t){super({name:"Brahma Chicken Ability",owner:e,triggers:["FriendAttacked","PostRemovalFaint","StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{triggerPet:i,tiger:r,pteranodon:n}=e;if("StartBattle"!==e.trigger){if("FriendAttacked"===e.trigger&&i&&i.parent===t.parent)this.attackers.add(i);else if("PostRemovalFaint"===e.trigger){const a=ge(Array.from(this.attackers).filter(u=>u&&u.alive)),l=Math.min(3,a.length),o=this.level,c=a.slice(0,l);for(const u of c)u.increaseAttack(o),u.increaseHealth(o);c.length>0&&this.logService.createLog({message:`${t.name} gave ${c.map(u=>u.name).join(", ")} +${o}/+${o} after fainting.`,type:"ability",player:t.parent,tiger:r,pteranodon:n}),this.triggerTigerExecution(e)}}else this.attackers.clear()}copy(e){return new Yg(e,this.logService)}}class BA extends p{logService;abilityService;name="Cuckoo Chick";tier=1;pack="Custom";hidden=!0;attack=1;health=1;increaseAttack(e){if(e<=0||!this.alive)return 0;const t=this.attack;return this.attack=Math.min(this.attack+e,1),this.attack-t}increaseHealth(e){if(e<=0||!this.alive)return 0;const t=this.health;return this.health=Math.min(this.health+e,1),this.health-t}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}}class Jg extends h{logService;abilityService;constructor(e,t,i){super({name:"CuckooAbility",owner:e,triggers:["EnemyFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:r}=e,n=this.owner,a=n.parent.opponent;if(this.currentUses>2*this.level)return;let o=new BA(this.logService,this.abilityService,a);o.initPet(0,1,1,0,null,0);let u=a.summonPet(o,t?.savedPosition??0,!0,n);u.success&&this.logService.createLog({message:`${n.name} summoned Cuckoo Chick for the enemy Early.`,type:"ability",player:n.parent,tiger:i,pteranodon:r,randomEvent:u.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Jg(e,this.logService,this.abilityService)}}class bB extends p{name="Estemmenosuchus's Ally";tier=1;pack="Custom";attack=1;health=1;initAbilities(){}constructor(e,t,i,r,n){super(e,t,i),this.initPet(0,n,r,0,void 0,0)}}class Zg extends h{logService;abilityService;constructor(e,t,i){super({name:"Estemmenosuchus Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>this.executeAbility(r)}),this.logService=t,this.abilityService=i}countAilments(){return this.owner.parent.petArray.filter(t=>{const i=t?.equipment?.equipmentClass;return!!i&&i.startsWith("ailment")}).length}executeAbility(e){const t=this.owner,i=Math.max(0,this.countAilments()),r=3+i,n=Math.min(this.level,3),a=t.position??t.savedPosition??0;let l=0;for(let o=0;o<n;o++){const c=new bB(this.logService,this.abilityService,t.parent,r,r);if(!t.parent.summonPet(c,a,!1,t).success)break;l++}l>0&&this.logService.createLog({message:`${t.name} summoned ${l} 3/3 friend${1===l?"":"s"} with +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Zg(e,this.logService,this.abilityService)}}class Xg extends h{logService;constructor(e,t){super({name:"Farmer Crow Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=Math.min(t.level,3),n=t.parent.nearestPetsBehind(i,t),a=n.pets;for(const l of a)for(let o=0;o<3;o++){const c=new ut;c.effectMultiplier=3,l.applyEquipment(c)}a.length>0&&this.logService.createLog({message:`${t.name} fed Corncobs with 3x effect to ${a.length} friend${1===a.length?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new Xg(e,this.logService)}}class ed extends h{logService;constructor(e,t){super({name:"Farmer Dog Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,r=t.parent.petArray.filter(n=>n&&n.alive&&n!==t);if(0!==r.length){for(const n of r){const a=new ut;a.effectMultiplier=i,n.givePetEquipment(a)}this.logService.createLog({message:`${t.name} fed ${i} Corncob${1===i?"":"s"} to ${r.length} friend${1===r.length?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new ed(e,this.logService)}}class td extends h{logService;foodsEaten=0;triggeredThisTurn=!1;constructor(e,t){super({name:"Flounder Ability",owner:e,triggers:["FoodEatenByThis","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.foodsEaten=0,this.triggeredThisTurn=!1,void this.triggerTigerExecution(e);if(this.triggeredThisTurn)return void this.triggerTigerExecution(e);if(this.foodsEaten++,this.foodsEaten<2)return void this.triggerTigerExecution(e);const i=this.level,r=t.parent.nearestPetsBehind(2,t);for(const n of r.pets)n.increaseExp(i),this.logService.createLog({message:`${t.name} gave ${n.name} ${i} exp.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:r.random});this.triggeredThisTurn=!0,this.triggerTigerExecution(e)}copy(e){return new td(e,this.logService)}}class id extends h{logService;constructor(e,t){super({name:"Fox Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,r=R.getInjector().get(G).getInstanceOfAllEquipment(),n=Array.from(r.values()).filter(u=>"shop"===u.equipmentClass);if(0===n.length)return void this.triggerTigerExecution(e);const a=n[n.length-1],l=this.level,c=Math.max(1,2*t.level)*l;t.increaseAttack(c),t.increaseHealth(c),this.logService.createLog({message:`${t.name} stole ${a.name} (x${l}) and gained +${c}/+${c}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new id(e,this.logService)}}class rd extends h{logService;triggerCount=0;constructor(e,t){super({name:"Giant Isopod Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,n=[2,4,6][Math.min(Math.max(this.level-1,0),2)]+Math.floor(this.triggerCount/2),a=t.parent.petArray.filter(l=>l&&l.alive&&l!==t);for(const l of a)l.increaseHealth(n);this.logService.createLog({message:`${t.name} gave ${a.length} friends +${n} health.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),t.parent.trumpets>=2&&t.parent.spendTrumpets(2,t),this.triggerCount++,this.triggerTigerExecution(e)}copy(e){return new rd(e,this.logService)}}class ad extends p{logService;abilityService;petService;name="Hippogriff";tier=5;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new nd(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class nd extends h{logService;abilityService;petService;pendingBuffs=new Map;constructor(e,t,i,r){super({name:"Hippogriff Ability",owner:e,triggers:["FriendSummoned","EndTurn","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>this.executeAbility(n)}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{trigger:t,triggerPet:i,gameApi:r}=e;if("FriendSummoned"===t){const o=ee(this.owner,i);o.pet&&this.applyTemporaryBuff(o.pet,e,o.random)}else"EndTurn"===t?this.resetBuffs():"PostRemovalFaint"===t&&this.summonNextTierPet(r,e);this.triggerTigerExecution(e)}applyTemporaryBuff(e,t,i){const r=this.owner,n=this.level;e.increaseAttack(n);const a=this.pendingBuffs.get(e)??0;this.pendingBuffs.set(e,a+n),D(this.logService,r,`${r.name} gave ${e.name} +${n} attack until next turn.`,t.tiger,t.pteranodon,{randomEvent:i})}resetBuffs(){for(const[e,t]of this.pendingBuffs)e&&e.increaseAttack(-t);this.pendingBuffs.clear()}summonNextTierPet(e,t){const i=this.owner;if(!e)return;const r=Number.isFinite(e.previousShopTier)?e.previousShopTier:1,n=Math.min(6,Math.max(1,r+1)),a=b=>(b??[]).filter(y=>y&&i.name&&y.toLowerCase()!==i.name.toLowerCase()),l=i.parent===e.player?e.playerPetPool:e.opponentPetPool;let o=a(l?.get(n));if(o?.length||(o=a(this.petService.allPets.get(n))),o?.length||(o=a(this.petService.allPets.get(1))),!o.length)return;const c=L({key:"pet.hippogriff-faint-summon",label:M(i,`Hippogriff tier ${n} summon`),options:o.map(b=>({id:b,label:b}))},()=>S(0,o.length-1)),g=5*this.level,d=this.petService.createPet({name:o[c.index],attack:g,equipment:null,exp:0,health:g,mana:0},i.parent);i.parent.summonPet(d,i.savedPosition,!1,i).success&&this.logService.createLog({message:`${i.name} spawned a ${d.attack}/${d.health} ${d.name} from tier ${n}.`,type:"ability",player:i.parent,tiger:t.tiger,randomEvent:c.randomEvent,pteranodon:t.pteranodon})}copy(e){return new nd(e,this.logService,this.abilityService,this.petService)}}class sd extends h{logService;constructor(e,t){super({name:"HyenaAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:n}=e;switch(this.level){case 1:this.level1Ability(t,r,n);break;case 2:this.level2Ability(t,r,n);break;case 3:this.level3Ability(t,r,n)}this.triggerTigerExecution(e)}level1Ability(e,t,i){const r=this.owner;let n=r.parent.getAll(!0,r);for(let a of n.pets){let l=a.health;a.health=a.attack,a.attack=l}this.logService.createLog({message:`${r.name} swapped all pets attack and health.`,type:"ability",player:r.parent,tiger:t,pteranodon:i})}level2Ability(e,t,i){const r=this.owner;this.shufflePets(e.player),this.shufflePets(e.opponent),this.logService.createLog({message:`${r.name} shuffled positions of all pets.`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:!0})}level3Ability(e,t,i){this.level1Ability(e,t,i),this.level2Ability(e,t,i)}shufflePets(e){let t=e.petArray;ge(t);for(let i=0;i<t.length;i++)e.setPet(i,t[i])}copy(e){return new sd(e,this.logService)}}class ld extends h{logService;constructor(e,t){super({name:"Jackal Ability",owner:e,triggers:["AnyoneFlung"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=e.triggerPet;if(!i||i!==t)return;const r=[13,26,39],n=r[Math.min(Math.max(this.level-1,0),r.length-1)];t.attack=n,t.health=n,this.logService.createLog({message:`${t.name} was flung and reset to ${n}/${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new ld(e,this.logService)}}class od extends p{logService;abilityService;petService;name="Kappa";tier=5;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new cd(this,this.logService,this.abilityService,this.petService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class cd extends h{logService;abilityService;petService;constructor(e,t,i,r){super({name:"KappaAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:n=>{this.executeAbility(n)}}),this.logService=t,this.abilityService=i,this.petService=r}executeAbility(e){const{gameApi:t,tiger:r,pteranodon:n}=e,a=this.owner;let o=(a.parent==t.player?t.playerPetPool:t.opponentPetPool).get(3);for(let c=0;c<a.level;c++){const u=L({key:"pet.kappa-player-spawn",label:M(a,"Kappa player spawn",c+1),options:o.map(k=>({id:k,label:k}))},()=>S(0,o.length-1));let g=o[u.index];const d=L({key:"pet.kappa-opponent-spawn",label:M(a,"Kappa opponent spawn",c+1),options:o.map(k=>({id:k,label:k}))},()=>S(0,o.length-1));let m=o[d.index],b=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:g},a.parent);a.parent.summonPet(b,a.savedPosition,!1,a).success&&this.logService.createLog({message:`${a.name} spawned a ${b.name} (14/16).`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:u.randomEvent});let v=this.petService.createPet({attack:14,equipment:null,exp:0,health:16,mana:0,name:m},a.parent.opponent);a.parent.opponent.summonPet(v,a.savedPosition,!1,a).success&&this.logService.createLog({message:`${a.name} spawned a ${v.name} (14/16) for the opponent.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:d.randomEvent})}this.triggerTigerExecution(e)}copy(e){return new cd(e,this.logService,this.abilityService,this.petService)}}class ud extends h{logService;constructor(e,t){super({name:"LionAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}conditionFunction(){const e=this.owner;let t=e.parent.petArray.filter(r=>r!==e),i=0;for(let r of t)r.tier>i&&(i=r.tier);return e.tier>i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;if(!this.conditionFunction())return;let l=.5*this.level;a.increaseAttack(Math.floor(a.attack*l)),a.increaseHealth(Math.floor(a.health*l)),this.logService.createLog({message:`${a.name} increased its attack and health by ${100*l}% (${a.attack}/${a.health})`,type:"ability",player:a.parent,tiger:r,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new ud(e,this.logService)}}class hd extends h{logService;constructor(e,t){super({name:"Lusca Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.mana;if(i<=0)return void this.triggerTigerExecution(e);t.mana=0;const n=t.parent.getRandomEnemyPetsWithSillyFallback(this.level,[],!1,!1,t).pets;if(0!==n.length){for(const a of n){const l=i,o=Math.max(0,a.attack-l),c=Math.max(0,a.health-l);a.attack=o,a.health=Math.max(1,c)}this.logService.createLog({message:`${t.name} spent ${i} mana and drained ${n.map(a=>a.name).join(", ")}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new hd(e,this.logService)}}class pd extends h{logService;constructor(e,t){super({name:"Maltese Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent,r=i.trumpets;r>0&&i.spendTrumpets(r,t,e.pteranodon);const n=i.petArray.filter(u=>u.alive&&u!==t);if(0===n.length||r<=0)return void this.triggerTigerExecution(e);const l=r*(this.level+1),o=Math.floor(l/n.length);let c=l%n.length;for(const u of n){const g=o+(c>0?1:0);g>0&&u.increaseMana(g),c=Math.max(0,c-1)}this.logService.createLog({message:`${t.name} converted ${r} trumpets into ${l} mana and spread it to friends.`,type:"ability",player:i,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new pd(e,this.logService)}}class gd extends h{logService;abilityService;constructor(e,t,i){super({name:"Mimic Ability",owner:e,triggers:["StartBattle","PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,i=t;if("StartBattle"===e.trigger)return i.mimicFaintCount=0,i.mimicTriggeredThreshold=0,t.parent.pendingGoldFromMimic=0,void this.triggerTigerExecution(e);if("PostRemovalFriendFaints"===e.trigger){i.mimicFaintCount=(i.mimicFaintCount??0)+1;const r=Math.floor((i.mimicFaintCount??0)/3),n=i.mimicTriggeredThreshold??0;if(r>n){const a=r-n;i.mimicTriggeredThreshold=r;const o=this.level*a;t.parent.pendingGoldFromMimic=(t.parent.pendingGoldFromMimic??0)+o,this.logService.createLog({message:`${t.name} will grant +${o} gold next turn after ${i.mimicFaintCount} friendly faints.`,type:"ability",player:t.parent})}}this.triggerTigerExecution(e)}copy(e){return new gd(e,this.logService,this.abilityService)}}class dd extends h{logService;abilityService;constructor(e,t,i){super({name:"Moose Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const t=this.owner,r=e.gameApi?.playerPetPool?.get(1)?.length??0;if(0===r)return void this.triggerTigerExecution(e);const a=3*this.level*r,l=t.parent.getRandomPets(1,[t],!1,!1,t),o=l.pets[0];o?(o.increaseHealth(a),this.logService.createLog({message:`${t.name} gave ${o.name} +${a} health from ${r} Tier 1 shop pets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:l.random}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new dd(e,this.logService,this.abilityService)}}class md extends h{logService;constructor(e,t){super({name:"Namazu Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.mana;if(i<=0)return void this.triggerTigerExecution(e);const r=i*this.level;t.parent.gainTrumpets(r,t,e.pteranodon),t.mana=0,this.logService.createLog({message:`${t.name} spent ${i} mana and gained ${r} trumpets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new md(e,this.logService)}}class bd extends h{constructor(e){super({name:"NurikabeAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:t=>this.executeAbility(t)})}executeAbility(e){}copy(e){return new bd(e)}}class yd extends h{logService;constructor(e,t){super({name:"Pacific Fanfish Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=4*this.level,r=t.parent.petArray.filter(a=>a&&a!==t&&a.alive&&a.sellValue>=3);if(0===r.length)return void this.triggerTigerExecution(e);const n=i*r.length;t.increaseAttack(n),t.increaseHealth(n),this.logService.createLog({message:`${t.name} gained +${n}/+${n} from ${r.length} friend(s) with \u22653 sell value.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new yd(e,this.logService)}}class vd extends h{logService;constructor(e,t){super({name:"Polar Bear Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=[4,8,12],r=i[Math.min(Math.max(t.level-1,0),i.length-1)],n=t.parent.getRandomPets(1,[],!1,!1,t),a=n.pets[0];a?(a.increaseAttack(r),a.increaseHealth(r),this.logService.createLog({message:`${t.name} gave ${a.name} +${r}/+${r}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new vd(e,this.logService)}}class Ad extends h{logService;reset(){this.maxUses=this.level,super.reset()}constructor(e,t){super({name:"RaccoonAbility",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner;let a=r.parent.opponent.getPetAtPosition(0);null!=a&&null!=a.equipment&&(this.isAilmentEquipment(a.equipment)||(this.logService.createLog({message:`${r.name} stole ${a.name}'s equipment. (${a.equipment.name})`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),r.givePetEquipment(a.equipment),a.removePerk(!0),this.triggerTigerExecution(e)))}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new Ad(e,this.logService)}}class fd extends h{logService;abilityService;constructor(e,t,i){super({name:"SeaCucumberAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.getPetsWithEquipmentWithSillyFallback("Tasty",a),o=a.parent.getRandomEnemyPetsWithSillyFallback(this.level,l,!1,!0,a),c=o.pets;if(0!=c.length){for(let u of c){let g=new Ev(this.logService);u.givePetEquipment(g),this.logService.createLog({message:`${a.name} made ${u.name} Tasty`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:o.random})}this.triggerTigerExecution(e)}}copy(e){return new fd(e,this.logService,this.abilityService)}}class kd extends h{logService;constructor(e,t){super({name:"Siberian Husky Ability",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,r=t.parent.petArray.filter(a=>!(!a||a===t||!a.alive||null!=a.equipment&&"shop"===a.equipment.equipmentClass));if(0===r.length)return void this.triggerTigerExecution(e);ge(r);const n=r.slice(0,3);for(const a of n)a.increaseAttack(i),a.increaseHealth(i);this.logService.createLog({message:`${t.name} gave ${n.map(a=>a.name).join(", ")} +${i}/+${i}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new kd(e,this.logService)}}class Sd extends h{logService;constructor(e,t){super({name:"Silver Fox Ability",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:3,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=this.level,r=t.parent;r.gold=(r.gold??0)+i,this.logService.createLog({message:`${t.name} gave ${i} gold to the owner.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Sd(e,this.logService)}}class Pd extends h{logService;constructor(e,t){super({name:"Tarasque Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,n=[.25,.5,.75][Math.min(Math.max(t.level-1,0),2)],a=t.parent.petArray.filter(m=>m&&m.alive);if(0===a.length)return void this.triggerTigerExecution(e);let l=0,o=0;for(const m of a){const b=Math.floor(m.attack*n),y=Math.floor(m.health*n);m.attack=Math.max(1,m.attack-b),m.health=Math.max(1,m.health-y),l+=b,o+=y}const c=Math.floor(l/a.length),u=Math.floor(o/a.length),g=l%a.length,d=o%a.length;for(let m=0;m<a.length;m++){const b=a[m];let y=c+(m<g?1:0),v=u+(m<d?1:0);y>0&&b.increaseAttack(y),v>0&&b.increaseHealth(v)}this.logService.createLog({message:`${t.name} redistributed ${l}/${o} stats across ${a.length} pets.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Pd(e,this.logService)}}class Td extends h{logService;constructor(e,t){super({name:"Woolly Rhino Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=new Set;for(const o of t.parent.petArray){const c=o?.equipment;("ailment-attack"===c?.equipmentClass||"ailment-defense"===c?.equipmentClass||"ailment-other"===c?.equipmentClass)&&i.add(c.name)}const r=i.size;if(r<=0)return void this.triggerTigerExecution(e);const n=4*r,a=t.parent.opponent.petArray.filter(o=>o.alive),l=Math.min(this.level,a.length);for(let o=0;o<l;o++)t.snipePet(a[o],n,!1,e.tiger,e.pteranodon);l>0&&this.logService.createLog({message:`${t.name} dealt ${n} damage to ${l} enemy${1===l?"":"ies"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Td(e,this.logService)}}class wd extends h{logService;constructor(e,t){super({name:"Zebra Ability",owner:e,triggers:["ThisBought","ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.getRandomPets(1,[t],!1,!1,t),r=i.pets[0];if(!r)return void this.triggerTigerExecution(e);const n=2*this.level;r.increaseAttack(n),r.increaseHealth(n),this.logService.createLog({message:`${t.name} gave ${r.name} +${n}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new wd(e,this.logService)}}class xd extends h{logService;constructor(e,t){super({name:"Akhlut Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if(t.mana<2)return;t.mana=Math.max(t.mana-2,0);const i=t.parent.nearestPetsBehind(1,t,[t]),r=i.pets[0];if(!r)return;const n=3*this.level;r.increaseAttack(n),r.increaseHealth(n),this.logService.createLog({message:`${t.name} spent 2 mana to give ${r.name} +${n}/+${n}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new xd(e,this.logService)}}class Rd extends h{logService;handlingExtraDamage=!1;constructor(e,t){super({name:"Albatross Ability",owner:e,triggers:["EnemyHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){if(this.handlingExtraDamage)return void(this.handlingExtraDamage=!1);if("EnemyHurt"!==e.trigger)return;const t=this.owner,i=e.triggerPet;if(!i||!i.alive||0===[t.petAhead,t.petBehind()].filter(a=>a&&a.alive&&a.parent===t.parent&&a.level<=4).length)return;const n=3*this.level;this.handlingExtraDamage=!0,t.dealDamage(i,n),this.handlingExtraDamage=!1,this.logService.createLog({message:`${t.name} boosted adjacent friends for an extra ${n} damage on ${i.name}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Rd(e,this.logService)}}class Ld extends h{logService;healthRestoredThisTurn=0;reset(){this.healthRestoredThisTurn=0,super.reset()}constructor(e,t){super({name:"AmargasaurusAbility",owner:e,triggers:["FriendHurt","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return void(this.healthRestoredThisTurn=0);const{triggerPet:r,tiger:n,pteranodon:a}=e;let l;if(!r||(r.transformed?(l=r.transformedInto,l.originalHealth=r.originalHealth):l=r,!l||!l.alive)||l===t)return;const o=15*this.level,c=l.originalHealth-l.health;if(c<=0||this.healthRestoredThisTurn>=o)return;const g=Math.min(c,o-this.healthRestoredThisTurn);if(g>0){let m=t.parent.getSpecificPet(t,l).pet;if(null==m)return;this.logService.createLog({message:`${t.name} restored ${g} health to ${m.name}.`,type:"ability",player:t.parent,tiger:n,pteranodon:a}),m.increaseHealth(g),this.healthRestoredThisTurn+=g}this.triggerTigerExecution(e)}copy(e){return new Ld(e,this.logService)}}class Ed extends h{logService;constructor(e,t){super({name:"Bakunawa Ability",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.parent.opponent.petArray.filter(l=>l&&l.alive&&"Sleepy"!==l.equipment?.name).sort((l,o)=>o.attack!==l.attack?o.attack-l.attack:(l.position??0)-(o.position??0));if(0===i.length)return void this.triggerTigerExecution(e);const r=i.slice(0,Math.min(this.level,i.length));for(const l of r){const o=new cr;o.multiplier+=this.level-1,l.givePetEquipment(o)}const n=["."," twice for double effect."," thrice for triple effect."],a=`${t.name} made ${r.map(l=>l.name).join(", ")} Sleepy${n[Math.min(this.level,n.length)-1]}`;this.logService.createLog({message:a,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Ed(e,this.logService)}}class Cd extends h{logService;foodsEatenThisTurn=0;seededFromShop=!1;constructor(e,t){super({name:"Black Bear Ability",owner:e,triggers:["StartTurn","FoodEatenByThis","PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"===e.trigger)return this.foodsEatenThisTurn=0,void(this.seededFromShop=!1);if(!this.seededFromShop){const i=t.foodsEaten??0;i>0&&(this.foodsEatenThisTurn=Math.max(this.foodsEatenThisTurn,i)),this.seededFromShop=!0}if("FoodEatenByThis"!==e.trigger){if("PostRemovalFaint"===e.trigger){const r=4*this.level*this.foodsEatenThisTurn;if(r<=0)return void this.triggerTigerExecution(e);const n=t.parent.getRandomEnemyPetsWithSillyFallback(1,[],!1,!0,t),a=n.pets[0];if(!a)return void this.triggerTigerExecution(e);t.dealDamage(a,r),this.logService.createLog({message:`${t.name} dealt ${r} damage to ${a.name} after eating ${this.foodsEatenThisTurn} food item${1===this.foodsEatenThisTurn?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:n.random}),this.triggerTigerExecution(e)}}else this.foodsEatenThisTurn++}copy(e){return new Cd(e,this.logService)}}class Fd extends h{logService;constructor(e,t){super({name:"Chimpanzee Ability",owner:e,triggers:["CornEatenByFriend"],abilityType:"Pet",native:!0,abilitylevel:e.level,precondition:i=>{const a=C(this.owner,i.triggerPet).pet;return!!a&&a.alive},abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=C(t,e.triggerPet),r=i.pet;if(!r)return void this.triggerTigerExecution(e);const n=this.level;r.increaseAttack(n),r.increaseHealth(n),this.logService.createLog({message:`${t.name} gave ${r.name} +${n}/+${n} after eating Corncob.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:i.random}),this.triggerTigerExecution(e)}copy(e){return new Fd(e,this.logService)}}class Nd extends h{logService;abilityService;constructor(e,t,i){super({name:"CockatriceAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.opponent.petArray.reverse(),o=null;for(let g of l)if(g.level<=this.level){o=g;break}if(null==o)return;this.logService.createLog({message:`${a.name} transformed ${o.name} into a Rock.`,type:"ability",player:a.parent,tiger:r,pteranodon:n});let c=new Vh(this.logService,this.abilityService,o.parent,o.health,o.attack,o.mana,o.exp,o.equipment);a.parent.opponent.setPet(o.position,c,!1),this.triggerTigerExecution(e)}copy(e){return new Nd(e,this.logService,this.abilityService)}}class Id extends h{logService;hasCoconut=!1;constructor(e,t){super({name:"Coconut Crab Ability",owner:e,triggers:["Eat2","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if("StartTurn"!==e.trigger){if("Eat2"===e.trigger){const i=new fe;i.uses=this.level,i.originalUses=this.level,t.givePetEquipment(i),this.hasCoconut=!0,this.logService.createLog({message:`${t.name} gained Coconut perk that works ${1===this.level?"once":2===this.level?"twice":"thrice"} until next turn.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}}else this.hasCoconut&&(t.removePerk(!0),this.hasCoconut=!1)}copy(e){return new Id(e,this.logService)}}const qA=function JB(s){return hb(s,5)};class Md extends h{logService;constructor(e,t){super({name:"Dunkleosteus Ability",owner:e,triggers:["BeforeThisAttacks"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=t.equipment;if(!i||!this.isAilmentEquipment(i))return void this.triggerTigerExecution(e);const r=t.parent.opponent.petArray.filter(c=>c&&c.alive);if(0===r.length)return void this.triggerTigerExecution(e);const n=qA(i);t.removePerk(!0);const a=r.slice(0,Math.min(2,r.length));for(const c of a){const u=qA(n);u.multiplier+=this.level-1,c.givePetEquipment(u)}const l=["."," with double effect."," with triple effect."],o=`${t.name} moved ${n.name} to ${a.map(c=>c.name).join(", ")}${l[Math.min(this.level,l.length)-1]}`;this.logService.createLog({message:o,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}isAilmentEquipment(e){return"ailment-attack"===e.equipmentClass||"ailment-defense"===e.equipmentClass||"ailment-other"===e.equipmentClass}copy(e){return new Md(e,this.logService)}}class $d extends h{logService;constructor(e,t){super({name:"Eagle Owl Ability",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=Math.max(0,t.battlesFought??0);if(i<=0)return void this.triggerTigerExecution(e);const n=i*this.level,a=t.parent.getRandomPets(3,[t],!0,!1,t),l=a.pets;if(0!==l.length){for(const o of l)o.increaseAttack(n),o.increaseHealth(n);this.logService.createLog({message:`${t.name} gave ${l.map(o=>o.name).join(", ")} +${n}/+${n} after fighting ${i} battle${1===i?"":"s"}.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon,randomEvent:a.random}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new $d(e,this.logService)}}class Bd extends h{logService;constructor(e,t){super({name:"Hammerhead Shark Ability",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner;if(!t.parent.petArray.some(a=>a&&a!==t&&3===a.level))return void this.triggerTigerExecution(e);const r=3*this.level,n=t.parent;n.gold=(n.gold??0)+r,this.logService.createLog({message:`${t.name} gained +${r} gold from level 3 friends.`,type:"ability",player:t.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Bd(e,this.logService)}}class qd extends p{logService;abilityService;petService;name="Harpy Eagle";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new Gd(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class Gd extends h{logService;petService;usesThisTurn=0;constructor(e,t,i){super({name:"HarpyEagleAbility",owner:e,triggers:["ThisHurt"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.petService=i}executeAbility(e){if("ThisHurt"!==e.trigger||this.usesThisTurn>=3)return;this.usesThisTurn++;const{gameApi:t,tiger:i}=e,n=this.owner;let a=5*this.level;const l=b=>(b??[]).filter(y=>y&&n.name&&y.toLowerCase()!==n.name.toLowerCase()),o=n.parent===t.player?t.playerPetPool:t.opponentPetPool;let c=l(o?.get(1));if(c.length||(c=l(this.petService.allPets.get(1))),!c.length)return;const u=L({key:"pet.harpy-eagle-hurt-summon",label:M(n,"Harpy Eagle hurt summon"),options:c.map(b=>({id:b,label:b}))},()=>S(0,c.length-1));let d=this.petService.createPet({name:c[u.index],attack:a,health:a,equipment:null,mana:0,exp:0},n.parent);n.parent.summonPet(d,n.savedPosition,!1,n).success&&this.logService.createLog({message:`${n.name} spawned ${d.name} (${a}/${a}).`,type:"ability",player:n.parent,tiger:i,randomEvent:u.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new Gd(e,this.logService,this.petService)}}class Hd extends h{logService;usesThisTurn=0;constructor(e,t){super({name:"Hooded Seal Ability",owner:e,triggers:["FriendTransformed","StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){if("StartTurn"===e.trigger)return void(this.usesThisTurn=0);if(this.usesThisTurn>=2)return void this.triggerTigerExecution(e);const t=e.triggerPet;if(!t)return void this.triggerTigerExecution(e);this.usesThisTurn++;const i=er(this.level);t.exp=Math.min(t.exp,i),t.resetAbilityUses(),this.logService.createLog({message:`${this.owner.name} capped ${t.name} to level ${this.level}.`,type:"ability",player:this.owner.parent,tiger:e.tiger,pteranodon:e.pteranodon}),this.triggerTigerExecution(e)}copy(e){return new Hd(e,this.logService)}}class Dd extends h{logService;abilityService;constructor(e,t,i){super({name:"KomodoAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}executeAbility(e){const{gameApi:t,tiger:i,pteranodon:r}=e,n=this.owner;if(0===n.position)return void this.triggerTigerExecution(e);const l=n.parent.nearestPetsAhead(n.position,n).pets;if(0===l.length)return void this.triggerTigerExecution(e);const o=this.level;for(const u of l)u.increaseAttack(o),u.increaseHealth(o);t&&(t.komodoShuffle=!0);const c=l.map(u=>u.name).join(", ");this.logService.createLog({message:`${n.name} gave ${c} +${o}/+${o} at end of turn and shuffled positions.`,type:"ability",player:n.parent,tiger:i,pteranodon:r,randomEvent:!0}),this.triggerTigerExecution(e)}copy(e){return new Dd(e,this.logService,this.abilityService)}}class Od extends h{logService;constructor(e,t){super({name:"LampreyAbility",owner:e,triggers:["PostRemovalFriendFaints"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{triggerPet:t,tiger:i,pteranodon:r}=e,n=this.owner;if(!t)return void this.triggerTigerExecution(e);const a=n.parent.nearestPetsAhead(this.level,n);if(0===a.pets.length)return void this.triggerTigerExecution(e);const l=a.pets;for(const c of l)n.dealDamage(c,1);const o=l.map(c=>c.name).join(", ");this.logService.createLog({message:`${n.name} dealt 1 damage to ${o} when ${t.name} fainted.`,type:"ability",player:n.parent,tiger:i,pteranodon:r,randomEvent:a.random}),this.triggerTigerExecution(e)}copy(e){return new Od(e,this.logService)}}class Wd extends p{logService;abilityService;petService;name="Leviathan";tier=6;pack="Custom";attack=6;health=10;initAbilities(){this.addAbility(new jd(this,this.logService,this.petService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u){super(e,t,r),this.logService=e,this.abilityService=t,this.petService=i,this.initPet(o,n,a,l,c,u)}}class jd extends h{logService;petService;constructor(e,t,i){super({name:"LeviathanAbility",owner:e,triggers:["StartTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.petService=i}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:r}=e,n=6*this.level,a=2*this.level,l=this.petService.createPet({name:"Fish",attack:n,health:n,mana:0,exp:0,equipment:null,triggersConsumed:0},t.parent);l.increaseExp(a);const o=t.parent.summonPet(l,t.savedPosition,!1,t);o.success&&this.logService.createLog({message:`${t.name} summoned ${l.name} (${n}/${n}) and granted ${a} exp.`,type:"ability",player:t.parent,tiger:i,pteranodon:r,randomEvent:o.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new jd(e,this.logService,this.petService)}}class Ud extends h{logService;usesThisTurn=0;constructor(e,t){super({name:"LionessAbility",owner:e,triggers:["StartTurn","FriendSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,{trigger:i,triggerPet:r,tiger:n,pteranodon:a}=e;if("StartTurn"===i)return this.usesThisTurn=0,void this.triggerTigerExecution(e);if("FriendSold"!==i)return void this.triggerTigerExecution(e);if(this.usesThisTurn>=2)return void this.triggerTigerExecution(e);this.usesThisTurn++;const l=r?.tier??t.tier,o=t.parent.futureShopBuffs??new Map,c=o.get(l)??{attack:0,health:0};c.attack+=this.level,c.health+=this.level,o.set(l,c),t.parent.futureShopBuffs=o,this.logService.createLog({message:`${t.name} gave future tier ${l} shop pets +${this.level}/+${this.level} (uses ${this.usesThisTurn}/2 this turn).`,type:"ability",player:t.parent,tiger:n,pteranodon:a}),this.triggerTigerExecution(e)}copy(e){return new Ud(e,this.logService)}}class _d extends h{logService;constructor(e,t){super({name:"MarkhorAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:r}=e,n=t.parent;if(n.trumpets<4)return void this.triggerTigerExecution(e);const a=n.petArray.filter(m=>m&&m!==t&&m.alive);if(0===a.length)return void this.triggerTigerExecution(e);n.trumpets-=4;const l=4*this.level,o=4*this.level,c=Math.floor(l/a.length),u=Math.floor(o/a.length),g=l-c*a.length,d=o-u*a.length;for(let m=0;m<a.length;m++){const b=a[m],v=m<d?1:0;b.increaseAttack(c+(m<g?1:0)),b.increaseHealth(u+v)}this.logService.createLog({message:`${t.name} spent 4 trumpets to grant ${l}/${o} evenly among ${a.length} friends.`,type:"ability",player:n,tiger:i,pteranodon:r}),this.triggerTigerExecution(e)}copy(e){return new _d(e,this.logService)}}class Vd extends h{logService;constructor(e,t){super({name:"PoodleAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:r}=e,n=[];for(let a=1;a<=6;a++){const l=t.parent.petArray.find(c=>c&&c.alive&&c!==t&&c.tier===a);if(!l)continue;const o=this.level;l.increaseAttack(o),l.increaseHealth(o),n.push(l)}if(n.length>0){const a=n.map(l=>l.name).join(", ");this.logService.createLog({message:`${t.name} buffed ${a} (+${this.level}/+${this.level}) at end of turn.`,type:"ability",player:t.parent,tiger:i,pteranodon:r})}this.triggerTigerExecution(e)}copy(e){return new Vd(e,this.logService)}}class Kd extends h{logService;constructor(e,t){super({name:"QuestingBeastAbility",owner:e,triggers:["ThisSold"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,i=Math.max(1,Math.min(3,this.level)),r=R.getInjector().get(he),n=r.toys.get(i)??[];if(0===n.length)return void this.triggerTigerExecution(e);const a=n[S(0,n.length-1)],l=r.createToy(a,t.parent,i);l?(t.parent.toy=l,t.parent.toy.used=!1,t.parent.toy.triggers=0,this.logService.createLog({message:`${t.name} created a level ${i} ${a} toy.`,type:"ability",player:t.parent}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new Kd(e,this.logService)}}class zd extends h{logService;constructor(e,t){super({name:"RockhopperPenguinAbility",owner:e,triggers:["EmptyFrontSpace"],abilityType:"Pet",native:!0,abilitylevel:e.level,maxUses:1,condition:()=>null==e.parent.pet0,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=r.parent.getThis(r),a=n.pet;if(!a)return void this.triggerTigerExecution(e);r.parent.pushPetToFront(a,!0);const l=12*this.level,o=r.parent.resolveTrumpetGainTarget(r);o.player.gainTrumpets(l,r,i,void 0,void 0,o.random),this.logService.createLog({message:`${r.name} jumped to the front and gained +${l} trumpets.`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new zd(e,this.logService)}}class Qd extends h{logService;constructor(e,t){super({name:"SmallOneAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:r}=e,n=t.parent.getAll(!0,t).pets.filter(o=>o&&o!==t);if(0!==n.length){for(let o=0;o<this.level;o++)for(const c of n)t.dealDamage(c,c.parent===t.parent?2:4);this.logService.createLog({message:`${t.name} dealt 2 (4 vs enemies) damage ${this.level}x to all other pets.`,type:"ability",player:t.parent,tiger:i,pteranodon:r}),this.triggerTigerExecution(e)}else this.triggerTigerExecution(e)}copy(e){return new Qd(e,this.logService)}}class Yd extends h{logService;constructor(e,t){super({name:"StegosaurusAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:r,pteranodon:n}=e,a=10*this.level,l=t.parent.petArray.find(o=>o&&o!==t&&o.alive&&!o.equipment);l?(l.increaseAttack(a),l.increaseHealth(a),this.logService.createLog({message:`${t.name} gave ${l.name} +${a}/+${a} at start of battle.`,type:"ability",player:t.parent,tiger:r,pteranodon:n}),this.triggerTigerExecution(e)):this.triggerTigerExecution(e)}copy(e){return new Yd(e,this.logService)}}class Jd extends h{logService;constructor(e,t){super({name:"SunfishAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{gameApi:i,tiger:r,pteranodon:n}=e,a=i?.turnNumber??1;if(a%2==0)return void this.triggerTigerExecution(e);const l=4*this.level,c=t.parent.nearestPetsAhead(5,t,void 0,!0).pets;if(0===c.length)return void this.triggerTigerExecution(e);for(const g of c)t.snipePet(g,l);const u=c.map(g=>g.name).join(", ");this.logService.createLog({message:`${t.name} hit ${u} ahead for ${l} damage because turn ${a} is odd.`,type:"ability",player:t.parent,tiger:r,pteranodon:n}),this.triggerTigerExecution(e)}copy(e){return new Jd(e,this.logService)}}const HA=(()=>{const s=["parrotCopyPet","parrotCopyPetBelugaSwallowedPet"];for(const e of ve){const t=Ce("parrotCopyPetAbominationSwallowedPet",e);s.push(t.base,t.belugaSwallowedPet,t.sarcasticFringeheadSwallowedPet,t.level,t.timesHurt,t.parrotCopyPet,t.parrotCopyPetBelugaSwallowedPet);for(const i of ve){const r=t.nested(i);s.push(r.base,r.belugaSwallowedPet,r.sarcasticFringeheadSwallowedPet,r.level,r.timesHurt)}}return s})(),DA=(()=>{const s=[];for(const e of ve){const t=Ce("abominationSwallowedPet",e);s.push(t.belugaSwallowedPet,t.sarcasticFringeheadSwallowedPet,t.parrotCopyPet,t.parrotCopyPetBelugaSwallowedPet);for(const i of ve){const r=t.nested(i);s.push(r.base,r.belugaSwallowedPet,r.sarcasticFringeheadSwallowedPet,r.level,r.timesHurt)}}return s})(),mq=(s,e)=>{if(null==e||"string"==typeof e&&""===e.trim())return!1;const t=String(s);if(t.endsWith("Level")){const i="number"==typeof e?e:Number(e);return!!Number.isFinite(i)&&1!==i}if(t.endsWith("TimesHurt")){const i="number"==typeof e?e:Number(e);return!!Number.isFinite(i)&&0!==i}return!0};function OA(s,e){const t=s;for(const i of e){const r=t[String(i)];if(mq(i,r))return!0}return!1}function WA(s,e,t){const i=e,r=s;for(const n of t){const a=String(n),l=i[a];if(null!=l){r[a]=l;continue}const o=a;r[a]=o.endsWith("Level")?1:o.endsWith("TimesHurt")?0:null}}class Zd extends p{logService;abilityService;petService;gameService;name="Good Dog";tier=5;pack="Unicorn";attack=1;health=1;hidden=!0;initAbilities(){this.addAbility(new Xd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c,u,g){super(e,t,n),this.logService=e,this.abilityService=t,this.petService=i,this.gameService=r,this.initPet(c,a,l,o,u,g)}}class Xd extends h{logService;constructor(e,t){super({name:"GoodDogAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.getAll(!0,a),o=l.pets;if(0===o.length)return;const c=R.getInjector().get(G).getInstanceOfAllEquipment(),g=new Map([[1,1],[2,3],[3,5]]).get(a.level)??1;let d=Array.from(c.values()).filter(m=>m&&(m.tier??1)>=g);d.length||(d=Array.from(c.values()).filter(m=>m));for(let m of o){if(!m.alive)continue;const b=L({key:"pet.good-dog-equipment",label:M(a,`Good Dog equipment for P${m.savedPosition+1} ${m.name}`),options:d.map(A=>({id:A.name,label:A.name}))},()=>S(0,d.length-1)),v=we(d[b.index]);v&&(this.logService.createLog({message:`${a.name} gave ${m.name} ${v.name}`,type:"ability",player:a.parent,randomEvent:l.random||b.randomEvent,tiger:r}),m.givePetEquipment(v))}this.triggerTigerExecution(e)}copy(e){return new Xd(e,this.logService)}}const jA={Spider:Ea,Whale:Za,Parrot:Wa,Stork:xl,"Shima Enaga":Ll,Eagle:Ks,Pelican:Xl,Falcon:lc,"Beluga Whale":Hi,Wolf:bc,Pteranodon:wc,"Harpy Eagle":qd,"Sabertooth Tiger":Gi,Orca:go,Hippogriff:ad,"Goblin Shark":Sg,"Red Lipped Batfish":qg,Kappa:od,Ammonite:fo,"Iriomote Cat":Du,Takhi:rh,"Roloway Monkey":hh,Bonobo:mh,"Golden Tamarin":vh,"Bay Cat":$h,"California Condor":Hh,"Silky Sifaka":jh,Abomination:Di,"Sarcastic Fringehead":ng,Leviathan:Wd,Tadpole:Tp,Stoat:No},UA={Seagull:Og,"Good Dog":Zd},bq=[Sg,qg,od,Di,Du,rh,hh,mh,vh,Hh,jh,$h,Ea,Ks,xl,Ll,Wa,Za,Xl,lc,Hi,bc,wc,qd,Gi,go,fo,ng,ad,Wd,Tp,No],yq=[Og,Zd],_A={"Beluga Whale":(s,e,t,i)=>new Hi(s.logService,s.abilityService,i,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.belugaSwallowedPet),Abomination:(s,e,t,i)=>new Di(s.logService,s.abilityService,i,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.abominationSwallowedPet1,e.abominationSwallowedPet2,e.abominationSwallowedPet3,e.abominationSwallowedPet1Level,e.abominationSwallowedPet2Level,e.abominationSwallowedPet3Level,e.abominationSwallowedPet1TimesHurt,e.abominationSwallowedPet2TimesHurt,e.abominationSwallowedPet3TimesHurt),"Sabertooth Tiger":(s,e,t,i)=>new Gi(s.logService,s.abilityService,i,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.timesHurt),Tuna:(s,e,t)=>new tA(s.logService,s.abilityService,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed,e.timesHurt),Slime:(s,e,t)=>new NA(s.logService,s.abilityService,t,e.health,e.attack,e.mana,e.exp,e.equipment,e.triggersConsumed)};let em=(()=>{class s{logService;abilityService;gameService;equipmentService;equipmentCache=new Map;constructor(t,i,r,n){this.logService=t,this.abilityService=i,this.gameService=r,this.equipmentService=n,this.logService=se(this.logService)}createPet(t,i,r,n,a){const l=t.constructor,o=t.parent,c=a??ei(t.level);for(const u of yq)if(t instanceof u)return new u(this.logService,this.abilityService,i,this.gameService,o,n,r,0,c);return bq.includes(l)?new l(this.logService,this.abilityService,i,o,n,r,0,c):new l(this.logService,this.abilityService,o,n,r,0,c)}createPetFromForm(t,i,r,n){const a=this.normalizePetForm(t),l=this.getPetBuildPlan(a,n),o=this.resolveEquipment(l.equipmentValue,l.equipmentUses),{name:c,health:u,attack:g,mana:d,exp:m,triggersConsumed:b,foodsEaten:y,battlesFought:v}=a;let A=a.hasRandomEvents;void 0===A&&"function"==typeof r.isPetRandom&&(A=r.isPetRandom(c));const N=T=>T&&l.needsPostInit?(T=>{if(!T)return T;if(null!=y){const O=Number(y);Number.isFinite(O)&&(T.foodsEaten=O,T.originalFoodsEaten=O)}if(l.hasTimesHurt&&null!=a.timesHurt&&(T.timesHurt=a.timesHurt,T.originalTimesHurt=a.timesHurt),null!=v){const O=Number(v);Number.isFinite(O)&&(T.battlesFought=Math.max(0,Math.floor(O)))}return A&&(T.hasRandomEvents=!0),T})((T=>(!l.hasParrotData||"Parrot"!==T?.name||WA(T,a,HA),T))((T=>(T&&(l.hasSarcastic||l.hasFriendsDied)&&(T.sarcasticFringeheadSwallowedPet=a.sarcasticFringeheadSwallowedPet??null,T.friendsDiedBeforeBattle=a.friendsDiedBeforeBattle??0),T))((T=>(!l.hasAbominationData||"Abomination"!==T?.name||WA(T,a,DA),T))(l.hasEquipmentUses?this.applyEquipmentUsesOverride(T,a):T)))):T;if("gameservice"===l.builderKind&&l.PetClass)return N(new(0,l.PetClass)(this.logService,this.abilityService,r,this.gameService,i,u,g,d,m,o,b));if("special"===l.builderKind&&l.specialBuilder){const T={logService:this.logService,abilityService:this.abilityService,gameService:this.gameService},O={...a,equipment:o};return N(l.specialBuilder(T,O,i,r))}return"petservice"===l.builderKind&&l.PetClass?N(new(0,l.PetClass)(this.logService,this.abilityService,r,i,u,g,d,m,o,b)):"registry"===l.builderKind&&l.PetClass?N(new(0,l.PetClass)(this.logService,this.abilityService,i,u,g,d,m,o,b)):null}applyEquipmentUsesOverride(t,i){return t&&(null!=i.equipmentUses&&(t.equipmentUsesOverride=i.equipmentUses),t)}resolveEquipmentFromForm(t,i){return this.resolveEquipment(t,i)}resolveEquipment(t,i){const r=i??("number"==typeof t?.uses?t.uses:null);if(t instanceof f){const d=we(t);if(null!=r){const m=Number(r);Number.isFinite(m)&&(d.uses=m,d.originalUses=m)}return d}const n=this.getEquipmentName(t);if(!n)return null;const a=R.getInjector(),l=this.equipmentService??(a?a.get(G):null);if(!l)return null;const o=l.getInstanceOfAllEquipment(),c=l.getInstanceOfAllAilments(),u=o.get(n)??c.get(n);if(!u)return null;const g=we(u);if(null!=r){const d=Number(r);Number.isFinite(d)&&(g.uses=d,g.originalUses=d)}return g}getEquipmentName(t){return t?"string"==typeof t?t:("string"==typeof t.name?t.name:null)||null:null}getPetBuildPlan(t,i){const r=t.name,n=null!=t.equipmentUses,a="Parrot"===t.name&&OA(t,HA),l="Abomination"===t.name&&OA(t,DA),o=null!=t.sarcasticFringeheadSwallowedPet,c=(t.friendsDiedBeforeBattle??0)>0,u=(t.timesHurt??0)>0;let b,y,m="missing";return UA[r]?(m="gameservice",b=UA[r]):_A[r]?(m="special",y=_A[r]):jA[r]?(m="petservice",b=jA[r]):i[r]&&(m="registry",b=i[r]),{name:r,builderKind:m,PetClass:b,specialBuilder:y,needsPostInit:n||a||l||o||c||u||null!=t.foodsEaten,hasParrotData:a,hasAbominationData:l,hasSarcastic:o,hasFriendsDied:c,hasTimesHurt:u,hasEquipmentUses:n,equipmentValue:t.equipment??null,equipmentUses:t.equipmentUses??null}}normalizePetForm(t){if("Abomination"!==t.name)return t;const i={...t},r=i,n=[1,2,3];for(const u of n){const g=`abominationSwallowedPet${u}`,d=`abominationSwallowedPet${u}Level`,m=`abominationSwallowedPet${u}TimesHurt`,b=`abominationSwallowedPet${u}BelugaSwallowedPet`,y=r[g],v="string"==typeof y&&y.trim().length>0?y:null;v?"Beluga Whale"!==v&&(r[b]=null):(r[g]=null,r[d]=1,r[m]=0,r[b]=null)}const l=n.some(u=>"Behemoth"===r[`abominationSwallowedPet${u}`])?100:50,o=this.clampFiniteNumber(i.attack,0,l);null!=o&&(i.attack=o);const c=this.clampFiniteNumber(i.health,0,l);return null!=c&&(i.health=c),i}clampFiniteNumber(t,i,r){return"number"==typeof t&&Number.isFinite(t)?Math.min(r,Math.max(i,t)):null}static \u0275fac=function(i){return new(i||s)(x(z),x(Pe),x(be),x(G))};static \u0275prov=_({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class tm extends h{logService;constructor(e,t){super({name:"TapirAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:r}=e,a=t.parent.getLastPet(void 0,t).pet;if(!a)return void this.triggerTigerExecution(e);const l=Math.min(3,Math.max(1,this.level)),o=10*l,c=1===l?0:2===l?2:5,u=R.getInjector().get(em),g=R.getInjector().get(te),d=u.createPet(a,g,o,o,c);if(!d)return void this.triggerTigerExecution(e);const m=t.parent.summonPet(d,t.savedPosition,!1,t);m.success&&this.logService.createLog({message:`${t.name} summoned a ${o}/${o} copy of ${a.name}.`,type:"ability",player:t.parent,tiger:i,pteranodon:r,randomEvent:m.randomEvent}),this.triggerTigerExecution(e)}copy(e){return new tm(e,this.logService)}}const Aq={Pack1:"Turtle",Pack2:"Puppy",Pack3:"Star",Pack4:"Golden",Pack5:"Unicorn",Danger:"Danger",Custom:"Custom",MiniPack1:"Custom",MiniPack2:"Custom",MiniPack3:"Custom"},VA=new Map,KA=Ot??Bi;if(Array.isArray(KA))for(const s of KA){if(!s||"object"!=typeof s)continue;const e=s;if(!e.Name)continue;const t=new Set;for(const i of e.Packs??[]){const r=Aq[i];r&&t.add(r)}t.size>0&&VA.set(e.Name,t)}class im extends h{logService;constructor(e,t){super({name:"Tanystropheus Ability",owner:e,triggers:["BeforeStartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=r.parent.pack,a=R.getInjector().get(te),l=r.parent.petArray.some(d=>this.isPetInActivePack(d,n,a)),o=r.parent.petArray.some(d=>this.isFoodInActivePack(d.equipment?.name,n));if(l||o)return void this.triggerTigerExecution(e);const c=r.parent.getRandomEnemyPetsWithSillyFallback(3,[],!1,!0,r),u=c.pets;if(!u.length)return void this.triggerTigerExecution(e);const g=this.level;for(const d of u)d&&(d.exp=Math.max(0,(d.exp??0)-g));this.logService.createLog({message:`${r.name} removed ${g} XP from ${u.map(d=>d.name).join(", ")}.`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:c.random}),this.triggerTigerExecution(e)}isPetInActivePack(e,t,i){if(!i)return e.pack===t;if(Op.includes(t))return(i.basePackPetsByName[t]?.get(e.tier)??[]).includes(e.name);const r=i.playerCustomPackPets.get(t);return r?r.get(e.tier)?.includes(e.name)??!1:e.pack===t}isFoodInActivePack(e,t){if(!e)return!1;const i=VA.get(e);return!!i&&i.has(t)}copy(e){return new im(e,this.logService)}}class rm extends h{logService;constructor(e,t){super({name:"TarantulaHawkAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner,l=Math.floor(a.attack/10);if(l<=0)return;let c=a.parent.opponent.getAll(!1,a).pets;if(0!=c.length){for(let u=0;u<l;u++)for(let g of c)g.increaseHealth(-this.level),this.logService.createLog({message:`${a.name} removed ${this.level} health from ${g.name}`,type:"ability",player:a.parent,tiger:r,pteranodon:n});this.triggerTigerExecution(e)}}copy(e){return new rm(e,this.logService)}}class am extends h{logService;constructor(e,t){super({name:"TerrorBirdAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const t=this.owner,{tiger:i,pteranodon:r}=e,n=t.parent.petArray.filter(l=>l&&l!==t&&l.alive&&"Strawberry"===l.equipment?.name).sort((l,o)=>l.position-o.position).slice(0,this.level);if(0===n.length)return void this.triggerTigerExecution(e);for(const l of n)l.givePetEquipment(new ni);const a=n.map(l=>l.name).join(", ");this.logService.createLog({message:`${t.name} gave Peanut to ${a} at start of battle.`,type:"ability",player:t.parent,tiger:i,pteranodon:r}),this.triggerTigerExecution(e)}copy(e){return new am(e,this.logService)}}class nm extends h{logService;constructor(e,t){super({name:"TherizinosaurusAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.getPetsWithoutEquipment("Strawberry"),o=a.parent.getFurthestUpPets(this.level,l,a),c=o.pets;for(let u of c)u.givePetEquipment(new fe),this.logService.createLog({message:`${a.name} gave ${u.name} Coconut.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:o.random});this.triggerTigerExecution(e)}copy(e){return new nm(e,this.logService)}}class sm extends h{logService;constructor(e,t){super({name:"VampireSquidAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=new Map;for(const c of r.parent.petArray)!c||c===r||!c.alive||!c.equipment||!(c.equipment.equipmentClass??"").startsWith("ailment")||n.has(c.equipment.name)||n.set(c.equipment.name,c);if(0===n.size)return void this.triggerTigerExecution(e);const a=this.level,l=2*this.level,o=[];n.forEach(c=>{c.increaseAttack(a),c.increaseHealth(l),o.push(c.name)}),this.logService.createLog({message:`${r.name} gave ${o.join(", ")} +${a}/+${l} at end of turn for having unique ailments.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new sm(e,this.logService)}}class lm extends h{logService;constructor(e,t){super({name:"WalrusAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=r.parent.getRandomPets(this.level,[r],!1,!1,r),a=n.pets;if(0===a.length)return void this.triggerTigerExecution(e);const l=[];for(const o of a)o.givePetEquipment(new wt),l.push(o.name);this.logService.createLog({message:`${r.name} gave Peanut Butter to ${l.join(", ")} on faint.`,type:"ability",player:r.parent,tiger:t,pteranodon:i,randomEvent:n.random}),this.triggerTigerExecution(e)}copy(e){return new lm(e,this.logService)}}class om extends h{logService;constructor(e,t){super({name:"WhiteTigerAbility",owner:e,triggers:["StartBattle"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.nearestPetsBehind(this.level,a);for(let o of l.pets)this.logService.createLog({message:`${a.name} gave ${o.name} +3 experience.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:l.random}),o.increaseExp(3);this.triggerTigerExecution(e)}copy(e){return new om(e,this.logService)}}class cm extends h{logService;constructor(e,t){super({name:"WinterSpiritAbility",owner:e,triggers:["EndTurn"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,a=r.parent.nearestPetsAhead(2,r).pets;if(0===a.length)return void this.triggerTigerExecution(e);const l=5*this.level,o=[];for(const c of a)c.increaseMana(l),o.push(c.name);this.logService.createLog({message:`${r.name} gave ${o.join(", ")} +${l} mana at end of turn.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new cm(e,this.logService)}}class um extends h{logService;constructor(e,t){super({name:"YellowBoxfishAbility",owner:e,triggers:["PostRemovalFaint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>this.executeAbility(i)}),this.logService=t}executeAbility(e){const{tiger:t,pteranodon:i}=e,r=this.owner,n=r.parent.getAll(!0,r).pets.filter(c=>c&&c.alive&&c!==r);if(0===n.length)return void this.triggerTigerExecution(e);const l=[...n].sort((c,u)=>u.attack+u.health-(c.attack+c.health)).slice(0,this.level);if(0===l.length)return void this.triggerTigerExecution(e);for(const c of l)c.attack=20,c.health=20;const o=l.map(c=>c.name).join(", ");this.logService.createLog({message:`${r.name} set ${o} to 20/20 at faint.`,type:"ability",player:r.parent,tiger:t,pteranodon:i}),this.triggerTigerExecution(e)}copy(e){return new um(e,this.logService)}}const Eq={Basilisk:class u0 extends p{name="Basilisk";tier=3;pack="Custom";attack=5;health=2;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.initPet(l,r,n,a,o,c)}initAbilities(){this.abilityList=[new zh(this,this.logService,this.abilityService)],super.initAbilities()}},Budgie:class h0 extends p{logService;abilityService;name="Budgie";tier=1;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new Qh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Duckling:class p0 extends p{logService;abilityService;name="Duckling";tier=1;pack="Custom";attack=1;health=2;initAbilities(){this.addAbility(new Yh(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Farmer Mouse":class g0 extends p{logService;abilityService;name="Farmer Mouse";tier=1;pack="Custom";attack=2;health=3;initAbilities(){this.addAbility(new Jh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Frilled Dragon":class d0 extends p{logService;abilityService;name="Frilled Dragon";tier=1;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new Zh(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Gibbon:class m0 extends p{logService;abilityService;name="Gibbon";tier=1;pack="Custom";health=2;attack=1;initAbilities(){this.addAbility(new Xh(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Mouse:na,Nudibranch:class b0 extends p{logService;abilityService;name="Nudibranch";tier=1;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new ep(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Peacock Spider":class y0 extends p{logService;abilityService;name="Peacock Spider";tier=1;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new tp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Pygmy Seahorse":class v0 extends p{logService;abilityService;name="Pygmy Seahorse";tier=1;pack="Custom";attack=3;health=1;initAbilities(){this.addAbility(new ip(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Quoll:class A0 extends p{logService;abilityService;name="Quoll";tier=1;pack="Custom";attack=3;health=2;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Silverfish:class f0 extends p{logService;abilityService;name="Silverfish";tier=2;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new rp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Sloth:class k0 extends p{logService;abilityService;name="Sloth";tier=1;pack="Custom";attack=1;health=1;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Termite:class S0 extends p{logService;abilityService;name="Termite";tier=1;pack="Custom";health=4;attack=1;initAbilities(){this.addAbility(new ap(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Umbrella Bird":class P0 extends p{logService;abilityService;name="Umbrella Bird";tier=1;pack="Custom";attack=3;health=2;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Weevil:class T0 extends p{logService;abilityService;name="Weevil";tier=1;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new np(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Albino Squirrel":class w0 extends p{logService;abilityService;name="Albino Squirrel";tier=2;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new sp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Amphisbaena:class x0 extends p{logService;abilityService;name="Amphisbaena";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new lp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Atlantic Puffin":class R0 extends p{logService;abilityService;name="Atlantic Puffin";tier=2;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new op(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Chupacabra:class L0 extends p{logService;abilityService;name="Chupacabra";tier=2;pack="Custom";attack=4;health=2;initAbilities(){this.addAbility(new cp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Desert Rain Frog":class E0 extends p{logService;abilityService;name="Desert Rain Frog";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new up(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Dung Beetle":class C0 extends p{logService;abilityService;name="Dung Beetle";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new hp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Farmer Chicken":class F0 extends p{logService;abilityService;name="Farmer Chicken";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new pp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Frigatebird:class N0 extends p{logService;abilityService;name="Frigatebird";tier=2;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new gp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}resetPet(){super.resetPet()}},"Fruit Fly":class I0 extends p{logService;abilityService;name="Fruit Fly";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new dp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Giant Squirrel":class M0 extends p{logService;abilityService;name="Giant Squirrel";tier=2;pack="Custom";attack=2;health=5;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Golden Beetle":class $0 extends p{logService;abilityService;name="Golden Beetle";tier=2;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new mp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Hermit Crab":class B0 extends p{logService;abilityService;name="Hermit Crab";tier=1;pack="Custom";attack=1;health=4;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Honduran White Bat":class q0 extends p{logService;abilityService;name="Honduran White Bat";tier=2;pack="Custom";attack=1;health=1;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Mandarinfish:class G0 extends p{logService;abilityService;name="Mandarinfish";tier=2;pack="Custom";attack=2;health=3;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Mink:class H0 extends p{logService;abilityService;name="Mink";tier=2;pack="Custom";attack=3;health=3;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Nightcrawler:class D0 extends p{logService;abilityService;name="Nightcrawler";tier=2;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new bp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Olm:class O0 extends p{logService;abilityService;name="Olm";tier=2;pack="Custom";attack=3;health=1;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}initAbilities(){this.addAbility(new yp(this,this.logService)),super.initAbilities()}},Panda:class W0 extends p{logService;abilityService;name="Panda";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new vp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Pink Robin":class j0 extends p{logService;abilityService;name="Pink Robin";tier=1;pack="Custom";attack=3;health=2;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}initAbilities(){this.addAbility(new Ap(this)),super.initAbilities()}},Roadrunner:class U0 extends p{logService;abilityService;name="Roadrunner";tier=2;pack="Custom";attack=4;health=1;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}initAbilities(){this.addAbility(new fp(this,this.logService)),super.initAbilities()}},Seahorse:class _0 extends p{logService;abilityService;name="Seahorse";tier=2;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new kp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Sphinx:class V0 extends p{logService;abilityService;name="Sphinx";tier=2;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new Sp(this)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Spotted Handfish":class K0 extends p{logService;abilityService;name="Spotted Handfish";tier=2;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new Pp(this)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Tadpole:Tp,"Thorny Dragon":class z0 extends p{logService;abilityService;name="Thorny Dragon";tier=2;pack="Custom";attack=3;health=3;hasRandomEvents=!0;initAbilities(){this.addAbility(new xp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Vervet:class Q0 extends p{logService;abilityService;name="Vervet";tier=2;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new Rp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Warf:class Y0 extends p{logService;abilityService;name="Warf";tier=2;pack="Custom";attack=2;health=2;initAbilities(){this.addAbility(new Lp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Wombat:class J0 extends p{logService;abilityService;name="Wombat";tier=2;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new Ep(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Yak:class Z0 extends p{logService;abilityService;name="Yak";tier=2;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new Cp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Aardvark:class X0 extends p{constructor(e,t,i){super(e,t,i),this.name="Aardvark",this.tier=3,this.pack="Custom",this.attack=2,this.health=3}initAbilities(){this.abilityList=[new Fp(this,this.logService)],super.initAbilities()}},"Axehandle Hound":class e$ extends p{constructor(e,t,i){super(e,t,i),this.name="Axehandle Hound",this.attack=5,this.health=3,this.tier=3,this.pack="Custom"}initAbilities(){this.abilityList=[new Np(this,this.logService)],super.initAbilities()}},Barnacle:class t$ extends p{constructor(e,t,i){super(e,t,i),this.name="Barnacle",this.tier=3,this.pack="Custom",this.attack=1,this.health=3}initAbilities(){this.abilityList=[new Ip(this,this.logService)],super.initAbilities()}},Bear:class i$ extends p{logService;abilityService;name="Bear";tier=3;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new Mp(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Blue Dragon":class r$ extends p{logService;abilityService;name="Blue Dragon";tier=3;pack="Custom";attack=3;health=4;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}initAbilities(){this.addAbility(new $p(this,this.logService)),super.initAbilities()}},"Brazillian Treehopper":class a$ extends p{constructor(e,t,i){super(e,t,i),this.name="Brazillian Treehopper",this.tier=3,this.pack="Custom",this.attack=2,this.health=3}initAbilities(){this.abilityList=[new Bp(this,this.logService)],super.initAbilities()}},Caladrius:class n$ extends p{logService;abilityService;name="Caladrius";tier=3;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new qp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Centipede:class s$ extends p{logService;abilityService;name="Centipede";tier=3;pack="Custom";attack=1;health=4;initAbilities(){this.addAbility(new Gp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Deer Lord":class l$ extends p{logService;abilityService;name="Deer Lord";tier=3;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new Hp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Dimetrodon:class o$ extends p{logService;abilityService;name="Dimetrodon";tier=3;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new Dp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Dugong:class u$ extends p{logService;abilityService;name="Dugong";tier=3;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new Wp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Eel:class h$ extends p{logService;abilityService;name="Eel";tier=3;pack="Custom";attack=4;health=2;initAbilities(){this.addAbility(new jp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Emperor Tamarin":class p$ extends p{logService;abilityService;name="Emperor Tamarin";tier=3;pack="Custom";attack=3;health=6;initAbilities(){this.addAbility(new Up(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Farmer Pig":class g$ extends p{logService;abilityService;name="Farmer Pig";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new _p(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Flying Squirrel":class d$ extends p{constructor(e,t,i){super(e,t,i),this.name="Flying Squirrel",this.tier=3,this.pack="Custom",this.attack=3,this.health=3}initAbilities(){this.abilityList=[new Vp(this,this.logService)],super.initAbilities()}},"Foo Dog":class m$ extends p{logService;abilityService;name="Foo Dog";tier=3;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new Kp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Gerenuk:class b$ extends p{logService;abilityService;name="Gerenuk";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new zp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Great Potoo":class y$ extends p{logService;abilityService;name="Great Potoo";tier=3;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new Qp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Jewel Caterpillar":class v$ extends p{logService;abilityService;name="Jewel Caterpillar";tier=3;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new Yp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Pangasius:class A$ extends p{logService;abilityService;name="Pangasius";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new Jp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Patagonian Mara":class f$ extends p{logService;abilityService;name="Patagonian Mara";tier=3;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new Zp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Pony:class k$ extends p{logService;abilityService;name="Pony";tier=3;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new Xp(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Porcupine:class S$ extends p{logService;abilityService;name="Porcupine";tier=3;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new eg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Quail Chick":class P$ extends p{logService;abilityService;name="Quail Chick";tier=3;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new tg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Queen Bee":class T$ extends p{logService;abilityService;name="Queen Bee";tier=3;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new ig(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Quetzalcoatlus:class w$ extends p{logService;abilityService;name="Quetzalcoatlus";tier=3;pack="Custom";attack=4;health=6;initAbilities(){this.addAbility(new rg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Sage-Grouse":class x$ extends p{logService;abilityService;name="Sage-Grouse";tier=3;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new ag(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Sarcastic Fringehead":ng,"Silkie Chicken":class R$ extends p{logService;abilityService;name="Silkie Chicken";tier=3;pack="Custom";attack=2;health=6;initAbilities(){this.addAbility(new lg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Slime:NA,"Sugar Glider":class L$ extends p{logService;abilityService;name="Sugar Glider";tier=3;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new cg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Tree:class E$ extends p{logService;abilityService;name="Tree";tier=3;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new ug(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Vampire Parrot":class C$ extends p{logService;abilityService;name="Vampire Parrot";tier=3;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new hg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Wasp:class F$ extends p{logService;abilityService;name="Wasp";tier=3;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new pg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Ahuizotl:class N$ extends p{logService;abilityService;name="Ahuizotl";tier=4;pack="Custom";attack=3;health=6;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Andrewsarchus:class I$ extends p{logService;abilityService;name="Andrewsarchus";tier=4;pack="Custom";attack=5;health=4;initAbilities(){this.addAbility(new dg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Anubis:class M$ extends p{logService;abilityService;name="Anubis";tier=4;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new mg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Bloodhound:class $$ extends p{logService;abilityService;name="Bloodhound";tier=4;pack="Custom";attack=4;health=4;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Blue-Footed Booby":class B$ extends p{logService;abilityService;name="Blue-Footed Booby";tier=4;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new bg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Crow:class q$ extends p{logService;abilityService;name="Crow";tier=4;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new yg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Deinocheirus:class G$ extends p{logService;abilityService;name="Deinocheirus";tier=4;pack="Custom";attack=4;health=7;initAbilities(){this.addAbility(new vg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Dragonfly:class H$ extends p{logService;abilityService;name="Dragonfly";tier=4;pack="Custom";attack=4;health=2;initAbilities(){this.addAbility(new Ag(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Fairy:class BF extends p{logService;abilityService;name="Fairy";tier=4;pack="Custom";attack=1;health=1;initAbilities(){this.addAbility(new qi(this)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Farmer Cat":class D$ extends p{logService;abilityService;name="Farmer Cat";tier=4;pack="Custom";attack=4;health=3;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Gazelle:class O$ extends p{logService;abilityService;name="Gazelle";tier=3;pack="Custom";attack=2;health=3;initAbilities(){this.addAbility(new fg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Gelada:class W$ extends p{logService;abilityService;name="Gelada";tier=4;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new kg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Goblin Shark":Sg,Hippocampus:class j$ extends p{logService;abilityService;name="Hippocampus";tier=4;pack="Custom";attack=4;health=6;initAbilities(){this.addAbility(new wg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Hoatzin:class U$ extends p{logService;abilityService;name="Hoatzin";tier=4;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new xg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Jerboa:class _$ extends p{logService;abilityService;name="Jerboa";tier=4;pack="Custom";attack=1;health=3;initAbilities(){this.addAbility(new Rg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Leaf Gecko":class V$ extends p{logService;abilityService;name="Leaf Gecko";tier=4;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new Lg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Leafy Sea Dragon":class K$ extends p{logService;abilityService;name="Leafy Sea Dragon";tier=4;pack="Custom";attack=7;health=2;initAbilities(){this.addAbility(new Eg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Locust:class Q$ extends p{logService;abilityService;name="Locust";tier=4;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new Cg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Lynx:class Y$ extends p{logService;abilityService;name="Lynx";tier=4;pack="Custom";attack=5;health=3;initAbilities(){this.addAbility(new Fg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Old Mouse":class J$ extends p{logService;abilityService;name="Old Mouse";tier=4;pack="Custom";attack=1;health=2;initAbilities(){this.addAbility(new Ng(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Pegasus:class Z$ extends p{constructor(e,t,i){super(e,t,i),this.name="Pegasus",this.tier=4,this.pack="Custom",this.attack=2,this.health=4}initAbilities(){this.abilityList=[new Ig(this,this.logService)],super.initAbilities()}},Platybelodon:class X$ extends p{logService;abilityService;name="Platybelodon";tier=4;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new Mg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Poodle Moth":class eB extends p{logService;abilityService;name="Poodle Moth";tier=4;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new $g(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Racket Tail":class tB extends p{logService;abilityService;name="Racket Tail";tier=4;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new Bg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Red Lipped Batfish":qg,Rootling:class iB extends p{logService;abilityService;name="Rootling";tier=4;pack="Custom";attack=1;health=8;initAbilities(){this.addAbility(new Hg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Ruspoli's Turaco":class rB extends p{logService;abilityService;name="Ruspolis Turaco";tier=4;pack="Custom";attack=4;health=3;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Sea Anemone":class aB extends p{logService;abilityService;name="Sea Anemone";tier=4;pack="Custom";health=4;attack=3;initAbilities(){this.addAbility(new Dg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Seagull:Og,"Spider Crab":class nB extends p{logService;abilityService;name="Spider Crab";tier=2;pack="Custom";attack=1;health=5;initAbilities(){this.addAbility(new jg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Spiny Bush Viper":class sB extends p{logService;abilityService;name="Spiny Bush Viper";tier=4;pack="Custom";attack=5;health=2;initAbilities(){this.addAbility(new Ug(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Tandgnost:Rv,Tardigrade:class lB extends p{logService;abilityService;name="Tardigrade";tier=4;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new _g(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Trout:class cB extends p{logService;abilityService;name="Trout";tier=4;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new Vg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Yeti Crab":class uB extends p{logService;abilityService;name="Yeti Crab";tier=4;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new Kg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Blue Jay":class hB extends p{logService;abilityService;name="Blue Jay";tier=5;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new zg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Boitata:class pB extends p{logService;abilityService;name="Boitata";tier=5;pack="Custom";attack=2;health=12;initAbilities(){this.addAbility(new Qg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Brahma Chicken":class gB extends p{logService;abilityService;name="Brahma Chicken";tier=5;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new Yg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Cuckoo:class dB extends p{logService;abilityService;name="Cuckoo";tier=5;pack="Custom";attack=5;health=4;initAbilities(){this.addAbility(new Jg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Estemmenosuchus:class mB extends p{logService;abilityService;name="Estemmenosuchus";tier=5;pack="Custom";attack=4;health=6;initAbilities(){this.addAbility(new Zg(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Farmer Crow":class yB extends p{logService;abilityService;name="Farmer Crow";tier=5;pack="Custom";attack=6;health=3;initAbilities(){this.addAbility(new Xg(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Farmer Dog":class vB extends p{logService;abilityService;name="Farmer Dog";tier=6;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new ed(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Flounder:class AB extends p{logService;abilityService;name="Flounder";tier=5;pack="Custom";attack=2;health=4;initAbilities(){this.addAbility(new td(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Fox:class fB extends p{logService;abilityService;name="Fox";tier=5;pack="Custom";attack=6;health=4;initAbilities(){this.addAbility(new id(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Giant Isopod":class kB extends p{logService;abilityService;name="Giant Isopod";tier=5;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new rd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Hippogriff:ad,Hyena:class SB extends p{logService;abilityService;name="Hyena";tier=5;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new sd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Jackal:class PB extends p{logService;abilityService;name="Jackal";tier=5;pack="Custom";attack=3;health=4;initAbilities(){this.addAbility(new ld(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Kappa:od,Lion:class TB extends p{logService;abilityService;name="Lion";tier=5;pack="Custom";attack=7;health=7;initAbilities(){this.addAbility(new ud(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Lusca:class wB extends p{logService;abilityService;name="Lusca";tier=5;pack="Custom";attack=7;health=5;initAbilities(){this.addAbility(new hd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Maltese:class xB extends p{logService;abilityService;name="Maltese";tier=5;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new pd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Mimic:class RB extends p{logService;abilityService;name="Mimic";tier=5;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new gd(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Moose:class LB extends p{logService;abilityService;name="Moose";tier=5;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new dd(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Namazu:class EB extends p{logService;abilityService;name="Namazu";tier=5;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new md(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Nurikabe:class CB extends p{logService;abilityService;name="Nurikabe";tier=5;pack="Custom";attack=5;health=6;maxAbilityUses=3;initAbilities(){this.addAbility(new bd(this)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Pacific Fanfish":class FB extends p{logService;abilityService;name="Pacific Fanfish";tier=5;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new yd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Polar Bear":class NB extends p{logService;abilityService;name="Polar Bear";tier=5;pack="Custom";attack=4;health=8;initAbilities(){this.addAbility(new vd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Raccoon:class IB extends p{logService;abilityService;name="Raccoon";tier=5;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new Ad(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Sea Cucumber":class MB extends p{logService;abilityService;name="Sea Cucumber";tier=5;pack="Custom";health=5;attack=3;initAbilities(){this.addAbility(new fd(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Siberian Husky":class $B extends p{logService;abilityService;name="Siberian Husky";tier=5;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new kd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Silver Fox":class BB extends p{logService;abilityService;name="Silver Fox";tier=5;pack="Custom";attack=3;health=6;initAbilities(){this.addAbility(new Sd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Tandgrisner:Lv,Tarasque:class qB extends p{logService;abilityService;name="Tarasque";tier=5;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new Pd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Venus Flytrap":class GB extends p{logService;abilityService;name="Venus Flytrap";tier=5;pack="Custom";attack=2;health=7;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Woolly Rhino":class HB extends p{logService;abilityService;name="Woolly Rhino";tier=5;pack="Custom";attack=3;health=7;initAbilities(){this.addAbility(new Td(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Zebra:class DB extends p{logService;abilityService;name="Zebra";tier=5;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new wd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Akhlut:class OB extends p{logService;abilityService;name="Akhlut";tier=6;pack="Custom";attack=5;health=7;initAbilities(){this.addAbility(new xd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Albatross:class WB extends p{logService;abilityService;name="Albatross";tier=6;pack="Custom";attack=5;health=4;initAbilities(){this.addAbility(new Rd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Amargasaurus:class jB extends p{logService;abilityService;name="Amargasaurus";tier=5;pack="Star";attack=5;health=7;initAbilities(){this.addAbility(new Ld(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Bakunawa:class UB extends p{logService;abilityService;name="Bakunawa";tier=6;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new Ed(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Black Bear":class _B extends p{logService;abilityService;name="Black Bear";tier=6;pack="Custom";attack=5;health=6;initAbilities(){this.addAbility(new Cd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Chimpanzee:class VB extends p{logService;abilityService;name="Chimpanzee";tier=6;pack="Custom";attack=3;health=5;initAbilities(){this.addAbility(new Fd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Cockatrice:class KB extends p{logService;abilityService;name="Cockatrice";tier=6;pack="Custom";attack=6;health=8;initAbilities(){this.addAbility(new Nd(this,this.logService,this.abilityService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Coconut Crab":class zB extends p{logService;abilityService;name="Coconut Crab";tier=6;pack="Custom";attack=4;health=8;initAbilities(){this.addAbility(new Id(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Dunkleosteus:class ZB extends p{logService;abilityService;name="Dunkleosteus";tier=6;pack="Custom";attack=6;health=8;initAbilities(){this.addAbility(new Md(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Eagle Owl":class XB extends p{logService;abilityService;name="Eagle Owl";tier=6;pack="Custom";attack=8;health=3;initAbilities(){this.addAbility(new $d(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Great One":ls,"Hammerhead Shark":class eq extends p{logService;abilityService;name="Hammerhead Shark";tier=6;pack="Custom";attack=5;health=5;initAbilities(){this.addAbility(new Bd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Harpy Eagle":qd,"Hooded Seal":class tq extends p{logService;abilityService;name="Hooded Seal";tier=6;pack="Custom";attack=4;health=9;initAbilities(){this.addAbility(new Hd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Komodo:class iq extends p{logService;abilityService;name="Komodo";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new Dd(this,this.logService,this.abilityService)),super.initAbilities()}endTurn(e){if(!e.komodoShuffle)return;let i=this.position;if(0==i)return;let n=this.shufflePets(0,i).map(a=>a.name).join(", ");this.logService.createLog({message:`${this.name} shuffled positions of pets (${n}).`,type:"ability",player:this.parent,randomEvent:!0})}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}shufflePets(e,t){let i=this.parent.petArray.slice(e,t);ge(i);for(let r=0;r<i.length;r++)this.parent.setPet(r,i[r]);return i}},Lamprey:class rq extends p{logService;abilityService;name="Lamprey";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new Od(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Leviathan:Wd,Lioness:class aq extends p{logService;abilityService;name="Lioness";tier=6;pack="Custom";attack=4;health=5;initAbilities(){this.addAbility(new Ud(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Markhor:class nq extends p{logService;abilityService;name="Markhor";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new _d(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Poodle:class sq extends p{logService;abilityService;name="Poodle";tier=6;pack="Custom";attack=3;health=2;initAbilities(){this.addAbility(new Vd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Questing Beast":class lq extends p{logService;abilityService;name="Questing Beast";tier=6;pack="Custom";attack=7;health=9;initAbilities(){this.addAbility(new Kd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Rockhopper Penguin":class oq extends p{logService;abilityService;name="Rockhopper Penguin";tier=6;pack="Custom";attack=2;health=5;initAbilities(){this.addAbility(new zd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Small One":class cq extends p{logService;abilityService;name="Small One";tier=6;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new Qd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Stegosaurus:class uq extends p{logService;abilityService;name="Stegosaurus";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new Yd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Sunfish:class hq extends p{logService;abilityService;name="Sunfish";tier=6;pack="Custom";attack=4;health=10;initAbilities(){this.addAbility(new Jd(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Tapir:class vq extends p{logService;abilityService;name="Tapir";tier=6;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new tm(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Tanystropheus:class fq extends p{logService;abilityService;name="Tanystropheus";tier=6;pack="Custom";attack=6;health=6;initAbilities(){this.addAbility(new im(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Tarantula Hawk":class kq extends p{logService;abilityService;name="Tarantula Hawk";tier=6;pack="Custom";health=2;attack=10;initAbilities(){this.addAbility(new rm(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Terror Bird":class Sq extends p{logService;abilityService;name="Terror Bird";tier=6;pack="Custom";attack=8;health=3;initAbilities(){this.addAbility(new am(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Therizinosaurus:class Pq extends p{logService;abilityService;name="Therizinosaurus";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new nm(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Vampire Squid":class Tq extends p{logService;abilityService;name="Vampire Squid";tier=6;pack="Custom";attack=4;health=4;initAbilities(){this.addAbility(new sm(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Walrus:class wq extends p{logService;abilityService;name="Walrus";tier=6;pack="Custom";attack=7;health=5;initAbilities(){this.addAbility(new lm(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"White Tiger":class xq extends p{logService;abilityService;name="White Tiger";tier=6;pack="Custom";attack=4;health=3;initAbilities(){this.addAbility(new om(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Winter Spirit":class Rq extends p{logService;abilityService;name="Winter Spirit";tier=6;pack="Custom";attack=3;health=8;initAbilities(){this.addAbility(new cm(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Yellow Boxfish":class Lq extends p{logService;abilityService;name="Yellow Boxfish";tier=6;pack="Custom";attack=3;health=3;initAbilities(){this.addAbility(new um(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Cuckoo Chick":BA};class hm extends h{logService;constructor(e,t){super({name:"BabyUrchinAbility",owner:e,triggers:["Faint"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r,pteranodon:n}=e,a=this.owner;let l=a.parent.opponent.getFurthestUpPet(a),o=[l.pet],c=l.random;if(o[0]){for(let u=0;u<a.level-1;u++){let g;if(g=c?a.parent.opponent.getFurthestUpPet(a).pet:o[u].petBehind(),!g)break;o.push(g)}for(let u of o)u&&(u.increaseHealth(-4),this.logService.createLog({message:`${a.name} removed 4 health from ${u.name}.`,type:"ability",player:a.parent,tiger:r,pteranodon:n,randomEvent:c}));this.triggerTigerExecution(e)}}copy(e){return new hm(e,this.logService)}}class pm extends h{logService;constructor(e,t){super({name:"MimicOctopusAbility",owner:e,triggers:["ThisAttacked"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=a.parent.opponent.getLowestHealthPets(a.level,void 0,a);for(let o of l.pets)a.snipePet(o,4,l.random,r);this.triggerTigerExecution(e)}copy(e){return new pm(e,this.logService)}}class gm extends h{logService;abilityService;constructor(e,t,i){super({name:"MobyDickAbility",owner:e,triggers:[],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:r=>{this.executeAbility(r)}}),this.logService=t,this.abilityService=i}get triggers(){const e=["StartBattle"];return this.owner.level>1&&e.push("ThisSummoned"),e}set triggers(e){this._triggers=e}executeAbility(e){this.logService.createLog({message:`${this.owner.name} removed itself.`,type:"ability",player:this.owner.parent}),this.owner.removed=!0;const t=this.owner.parent;t&&(t.pet0===this.owner&&(t.pet0=null),t.pet1===this.owner&&(t.pet1=null),t.pet2===this.owner&&(t.pet2=null),t.pet3===this.owner&&(t.pet3=null),t.pet4===this.owner&&(t.pet4=null)),this.triggerTigerExecution(e)}copy(e){return new gm(e,this.logService,this.abilityService)}}class dm extends h{logService;constructor(e,t){super({name:"SalmonAbility",owner:e,triggers:["ThisSummoned"],abilityType:"Pet",native:!0,abilitylevel:e.level,abilityFunction:i=>{this.executeAbility(i)}}),this.logService=t}executeAbility(e){const{tiger:r}=e,a=this.owner;let l=1+Math.floor(a.health/25),o=5*this.level;for(let c=0;c<l;c++){let u=a.parent.opponent.getRandomPet([],!1,!0,!1,a);u.pet&&a.snipePet(u.pet,o,u.random,r)}this.triggerTigerExecution(e)}copy(e){return new dm(e,this.logService)}}const Gq={...zL,...oF,...nN,...nI,...hM,...c0,...Eq,"Adult Flounder":class Cq extends p{logService;abilityService;name="Adult Flounder";tier=1;pack="Custom";hidden=!0;attack=2;health=4;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Angry Pygmy Hog":SA,"Baby Urchin":class Fq extends p{logService;abilityService;name="Baby Urchin";tier=2;pack="Star";attack=3;health=2;initAbilities(){this.addAbility(new hm(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},Bee:Av,Bus:dv,Butterfly:Yv,Chick:bv,"Chimera Goat":pA,"Chimera Lion":gA,"Chimera Snake":dA,"Cooked Roach":class Nq extends p{logService;abilityService;name="Cooked Roach";tier=1;pack="Custom";hidden=!0;attack=1;health=1;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Cracked Egg":hA,Daycrawler:EA,"Dirty Rat":ov,"Fairy Ball":rA,"Fake Nessie":class Iq extends p{logService;abilityService;name="Fake Nessie";tier=1;pack="Custom";hidden=!0;attack=1;health=2;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Fire Pup":yA,"Giant Eyes Dog":ps,"Golden Retriever":br,"Good Dog":Zd,Head:vA,"Lizard Tail":lA,"Loyal Chinchilla":yv,"Mimic Octopus":class Mq extends p{logService;abilityService;name="Mimic Octopus";tier=6;pack="Star";attack=4;health=7;initAbilities(){this.addAbility(new pm(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Moby Dick":class $q extends p{logService;abilityService;name="Moby Dick";tier=1;pack="Custom";hidden=!0;attack=8;health=8;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}initAbilities(){this.addAbility(new gm(this,this.logService,this.abilityService)),super.initAbilities()}},Monty:xv,"Nessie?":mA,Nest:Bn,Quail:CA,Ram:uv,Rock:Vh,Salmon:class Bq extends p{logService;abilityService;name="Salmon";tier=1;pack="Star";attack=5;health=5;hidden=!0;initAbilities(){this.addAbility(new dm(this,this.logService)),super.initAbilities()}constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Sleeping Gelada":MA,"Smaller Slime":FA,"Smaller Slug":uA,"Smallest Slug":cA,"Summoned Cockroach":Xv,"Tand and Tand":class qq extends p{logService;abilityService;name="Tand and Tand";tier=4;pack="Custom";hidden=!0;attack=1;health=1;constructor(e,t,i,r,n,a,l,o,c){super(e,t,i),this.logService=e,this.abilityService=t,this.initPet(l,r,n,a,o,c)}},"Young Phoenix":bA,"Zombie Cricket":av,"Zombie Fly":Sn},jt=[1,2,3,4,5,6],Wq={Pack1:"Turtle",Pack2:"Puppy",Pack3:"Star",Pack4:"Golden",Pack5:"Unicorn",Danger:"Danger",Custom:"Custom",MiniPack1:"Custom",MiniPack2:"Custom",MiniPack3:"Custom"};let te=(()=>{class s{logService;abilityService;gameService;petFactory;turtlePackPets=new Map;puppyPackPets=new Map;starPackPets=new Map;goldenPackPets=new Map;unicornPackPets=new Map;customPackPets=new Map;dangerPackPets=new Map;playerCustomPackPets=new Map;allPets=new Map;tokenPetsMap=new Map;basePackPetsByName;startOfBattlePets=[];faintPetsByTier=new Map;constructor(t,i,r,n){this.logService=t,this.abilityService=i,this.gameService=r,this.petFactory=n,this.logService=se(this.logService),this.basePackPetsByName={Turtle:this.turtlePackPets,Puppy:this.puppyPackPets,Star:this.starPackPets,Golden:this.goldenPackPets,Unicorn:this.unicornPackPets,Danger:this.dangerPackPets,Custom:this.customPackPets}}buildCustomPackPets(t){for(let i of t.controls){let r=new Map;for(let n=1;n<=6;n++)r.set(n,i.get(`tier${n}Pets`).value);this.playerCustomPackPets.set(i.get("name").value,r)}}setCustomPackPools(t=[]){this.playerCustomPackPets.clear();for(const i of t){const r=`${i?.name??""}`.trim();if(!r)continue;const n=new Map;for(const a of jt){const l=`tier${a}Pets`,o=i?.[l],c=this.normalizePetNameList(o);n.set(a,c)}this.playerCustomPackPets.set(r,n)}}normalizePetNameList(t){return Array.isArray(t)?t.filter(i=>"string"==typeof i).map(i=>i.trim()).filter(i=>i.length>0):[]}isValidTier(t){return Number.isFinite(t)&&t>=1&&t<=6}getCustomPackTierPets(t,i){return[...this.playerCustomPackPets.get(t)?.get(i)||[]]}getBasePackTierPets(t,i){return[...this.basePackPetsByName[t]?.get(i)||[]]}resolveBasePackName(t){switch(t){case"Turtle":case"Puppy":case"Star":case"Golden":case"Unicorn":case"Danger":return t;default:return null}}getRandomPetPoolByTier(t,i){if(t.allPets)return[...this.allPets.get(i)||[]];const r=this.resolveBasePackName(t.pack);return r?this.getBasePackTierPets(r,i):this.getCustomPackTierPets(t.pack,i)}resetPackMaps(){const t=[this.turtlePackPets,this.puppyPackPets,this.starPackPets,this.goldenPackPets,this.unicornPackPets,this.dangerPackPets,this.customPackPets,this.tokenPetsMap];for(const i of t){i.clear();for(const r of jt)i.set(r,[])}}getPetEntriesFromJson(){return(et??Et??[]).filter(i=>!!i?.Name)}isPetRandom(t){return!0===this.petDataMap.get(t)?.Random}petDataMap=new Map;populatePackMaps(t){for(const i of t){i.Name&&this.petDataMap.set(i.Name,i);const r=Number(i.Tier);if(!this.isValidTier(r))continue;const n=Array.isArray(i.Abilities)&&i.Abilities.length>0&&i.Abilities.every(l=>"No ability."===l?.About);if(!0!==i.Rollable||n)this.tokenPetsMap.get(r)?.push(i.Name);else for(const l of this.getPackNamesFromEntry(i)){const c=this.basePackPetsByName[l]?.get(r);c&&c.push(i.Name)}}for(const i of Object.values(this.basePackPetsByName))this.deduplicateTierMap(i);this.deduplicateTierMap(this.tokenPetsMap)}getPackNamesFromEntry(t){const i=new Set,r=new Set;Array.isArray(t.Packs)&&t.Packs.forEach(l=>{if(l){const o=l.trim();i.add(o),r.add(o)}}),!(r.has("Custom")||r.has("MiniPack1")||r.has("MiniPack2")||r.has("MiniPack3"))&&Array.isArray(t.PacksRequired)&&t.PacksRequired.forEach(l=>{l&&i.add(l.trim())});const a=new Set;for(const l of i){const o=Wq[l];o&&a.add(o)}return Array.from(a)}deduplicateTierMap(t){for(const[i,r]of t)t.set(i,[...new Set(r)])}buildStartOfBattlePets(t){const i=new Set;for(const r of t)Array.isArray(r.Abilities)&&r.Abilities.some(n=>{const a=n?.About;return"string"==typeof a&&a.toLowerCase().includes("start of battle")})&&i.add(r.Name);return Array.from(i)}buildFaintPetsByTier(t){const i=new Map;for(const r of jt)i.set(r,[]);for(const r of t){const n=Number(r.Tier);!this.isValidTier(n)||!0!==r.Rollable||!Array.isArray(r.Abilities)||!r.Abilities.some(l=>{const o=l?.About;return"string"==typeof o&&o.includes("Faint:")})||i.get(n)?.push(r.Name)}return this.deduplicateTierMap(i),i}init(){this.resetPackMaps();const t=this.getPetEntriesFromJson();this.populatePackMaps(t),this.startOfBattlePets=this.buildStartOfBattlePets(t),this.faintPetsByTier=this.buildFaintPetsByTier(t),this.setAllPets()}setAllPets(){this.allPets=new Map;for(const t of jt)this.allPets.set(t,[]);for(const t of Op){const i=this.basePackPetsByName[t];for(let[r,n]of i)this.allPets.get(r).push(...n)}for(let[t,i]of this.allPets)this.allPets.set(t,[...new Set(i)])}createPet(t,i){const r=this.petFactory.createPetFromForm(t,i,this,Gq);if(r)return r;const n=this.petFactory.resolveEquipmentFromForm(t.equipment,t.equipmentUses);return new na(this.logService,this.abilityService,i,t.health,t.attack,t.mana,t.exp,n,t.triggersConsumed)}createDefaultVersionOfPet(t,i=null,r=null){return this.petFactory.createPet(t,this,i,r)}getRandomPet(t){const i=jt.map(c=>({id:`tier-${c}`,label:`Tier ${c}`}));let n=L({key:"pet.random-tier",label:"Random pet tier",options:i},()=>S(0,i.length-1)).index+1,a=this.getRandomPetPoolByTier(t,n);if(t.allPets&&t.tokenPets){const c=this.tokenPetsMap.get(n)||[];a.push(...c),a=[...new Set(a)]}(!a||0===a.length)&&(a=["Ant"]);const l=L({key:"pet.random-pool",label:`Random pet from tier ${n}`,options:a.map(c=>({id:c,label:c}))},()=>S(0,a.length-1));let o=a[l.index];return this.createPet({attack:null,equipment:null,exp:S(0,5),health:null,name:o,mana:null},t)}getRandomFaintPet(t,i,r=[],n){this.faintPetsByTier?.size||(this.faintPetsByTier=this.buildFaintPetsByTier(this.getPetEntriesFromJson()));let a=[];a=i&&this.faintPetsByTier.get(i)?this.faintPetsByTier.get(i)??[]:Array.from(this.faintPetsByTier.values()).flat();const l=new Set(r.map(d=>d?.toLowerCase()));let c=a.filter(d=>!l.has(d.toLowerCase()));if(!c.length&&i){const d=Array.from(this.faintPetsByTier.values()).flat().filter(m=>!l.has(m.toLowerCase()));d.length&&(c=d)}c.length||(c=a);const u=L({key:"pet.random-faint-pet",label:`${this.describeRandomFaintPetOwner(t,n)} -> Random faint pet summon`,options:c.map(d=>({id:d,label:d}))},()=>S(0,c.length-1));return this.createPet({name:c[u.index],attack:null,equipment:null,exp:0,health:null,mana:null},t)}describeRandomFaintPetOwner(t,i){const r=t?.isOpponent?"opponent team":"player team";return i?`${i.parent?.isOpponent?"O":"P"}${Number.isFinite(i.savedPosition)?i.savedPosition+1:0} ${i.name} (owner: ${r})`:r}static \u0275fac=function(i){return new(i||s)(x(z),x(Pe),x(be),x(em))};static \u0275prov=_({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function zq(s){const{baseConfig:e,simulateBatch:t,shouldAbort:i,onProgress:r}=s,n=s.options.side,a=Math.max(1,Math.trunc(s.options.maxSimulationsPerPermutation??e.simulationCount??250)),l=Math.max(1,Math.trunc(s.options.batchSize??25)),o=null!=s.options.confidenceZ&&Number.isFinite(s.options.confidenceZ)?Math.max(0,s.options.confidenceZ):1.96,c=Math.max(1,Math.trunc(s.options.minSamplesBeforeElimination??50)),u=null!=s.options.baseSeed&&Number.isFinite(s.options.baseSeed)?Math.trunc(s.options.baseSeed):null!=e.seed&&Number.isFinite(e.seed)?Math.trunc(e.seed):123456789,g="player"===n?"playerPets":"opponentPets",d=(e[g]??[]).slice(),m=function Jq(s){const e=s.length;if(e<=0)return[[]];const t=function Zq(s){const e=[];for(let t=0;t<s.length;t+=1){const i=s[t],r=e.find(n=>bm(n.representative,i));r?r.indices.push(t):e.push({representative:i,indices:[t]})}return e}(s),i=t.map(a=>a.indices.length),n=[];return QA(0,new Array(e),i,n),n.map(a=>function Xq(s,e){const t=e.map(()=>0);return s.map(i=>{const r=t[i];t[i]+=1;const n=e[i].indices[r];if(null==n)throw new Error("Failed to map grouped permutation to index permutation.");return n})}(a,t))}(d),b=m.map($=>({order:$,lineup:Yq(d,$),simulations:0,wins:0,draws:0,losses:0,score:0,lowerBound:0,upperBound:1,eliminated:!1,rounds:0}));let y=0;const v=m.length*a;let A=0,k=!1;if(0===b.length)throw new Error("Could not generate any board permutations.");for(;;){if(i?.()){k=!0;break}const $=b.filter(U=>!U.eliminated);if($.length<=1)break;const N=u+A;let T=!1;for(const U of $){if(i?.()){k=!0;break}if(U.simulations>=a)continue;const Oi=Math.min(l,a-U.simulations);if(Oi<=0)continue;T=!0;const Ut=t({...e,[g]:U.lineup,simulationCount:Oi,logsEnabled:!1,maxLoggedBattles:0,captureRandomDecisions:!1,randomDecisionOverrides:[],seed:N}),tG="player"===n?Ut.playerWins:Ut.opponentWins,iG="player"===n?Ut.opponentWins:Ut.playerWins;U.simulations+=Oi,U.rounds+=1,U.wins+=tG,U.draws+=Ut.draws,U.losses+=iG,mm(U,o),y+=Oi;const rG=b.filter(_t=>_t.simulations>0).length,aG=Math.max(...b.map(_t=>_t.score));r?.({completedBattles:y,totalBattlesEstimate:v,testedPermutations:rG,activePermutations:b.filter(_t=>!_t.eliminated).length,bestScore:aG})}if(k||!T)break;const O=b.filter(U=>!U.eliminated);for(const U of O)mm(U,o);const We=O.filter(U=>U.simulations>=c);if(We.length>1){const U=Math.max(...We.map(Ne=>Ne.lowerBound));for(const Ne of We)Ne.upperBound<U&&(Ne.eliminated=!0)}A+=1}for(const $ of b)mm($,o);const F=[...b].sort(($,N)=>N.score!==$.score?N.score-$.score:N.lowerBound!==$.lowerBound?N.lowerBound-$.lowerBound:N.simulations!==$.simulations?N.simulations-$.simulations:0),Q=F[0];if(!Q)throw new Error("Positioning optimization failed to rank candidates.");return{side:n,totalPermutations:b.length,prunedPermutations:b.filter($=>$.eliminated).length,simulatedBattles:y,aborted:k,bestPermutation:zA(Q),rankedPermutations:F.map(zA)}}function zA(s){return{order:[...s.order],lineup:[...s.lineup],simulations:s.simulations,wins:s.wins,draws:s.draws,losses:s.losses,score:s.score,lowerBound:s.lowerBound,upperBound:s.upperBound,eliminated:s.eliminated}}function mm(s,e){const t=s.simulations;if(t<=0)return s.score=0,s.lowerBound=0,void(s.upperBound=1);const i=function Qq(s,e,t){return t<=0?0:(s+.5*e)/t}(s.wins,s.draws,t),r=Math.max(0,i*(1-i)),n=e*Math.sqrt(r/t);s.score=i,s.lowerBound=Math.max(0,i-n),s.upperBound=Math.min(1,i+n)}function Yq(s,e){return e.map(t=>s[t])}function QA(s,e,t,i){if(s>=e.length)i.push(e.slice());else for(let r=0;r<t.length;r+=1)t[r]<=0||(e[s]=r,t[r]-=1,QA(s+1,e,t,i),t[r]+=1)}function bm(s,e){if(Object.is(s,e))return!0;if(null==s||null==e)return s===e;if(Array.isArray(s)||Array.isArray(e)){if(!Array.isArray(s)||!Array.isArray(e)||s.length!==e.length)return!1;for(let a=0;a<s.length;a+=1)if(!bm(s[a],e[a]))return!1;return!0}if("object"!=typeof s||"object"!=typeof e)return!1;const t=s,i=e,r=Object.keys(t).sort(),n=Object.keys(i).sort();if(r.length!==n.length)return!1;for(let a=0;a<r.length;a+=1){const l=r[a],o=n[a];if(l!==o||!bm(t[l],i[o]))return!1}return!0}let Fe=!1;const YA=s=>{if(!s||!Array.isArray(s.battles))return s;const e=s.battles.map(t=>{const i=Array.isArray(t?.logs)?t.logs.map(r=>({message:r?.message??"",rawMessage:r?.rawMessage,type:r?.type??"board",randomEvent:r?.randomEvent,randomEventReason:r?.randomEventReason,tiger:r?.tiger,puma:r?.puma,pteranodon:r?.pteranodon,pantherMultiplier:r?.pantherMultiplier,count:r?.count,bold:r?.bold,decorated:r?.decorated,sourceIndex:r?.sourceIndex,targetIndex:r?.targetIndex,playerIsOpponent:r?.player?.isOpponent??r?.playerIsOpponent,targetIsOpponent:r?.targetPet?.parent?.isOpponent})):[];return{winner:t?.winner??"draw",logs:i}});return{playerWins:s.playerWins??0,opponentWins:s.opponentWins??0,draws:s.draws??0,battles:e,randomDecisions:Array.isArray(s.randomDecisions)?s.randomDecisions:[],randomOverrideError:s.randomOverrideError??null}},JA=()=>{const s=new z,e=new be,t=new ot,i=new Fi(e,s),r=new iv(t),n=new rv(t,i),a=new Pe(e,s,i,t,r,n),l=new Nv(s,a,e),o=new G(s,a,e,l),c=new Kv(s,a),u=new em(s,a,e,o),g=new te(s,a,e,u),d=new he(s,a,e,o,g,c);return R.setInjector({get:b=>b===te?g:b===G?o:b===z?s:b===ot?t:b===he?d:b===be?e:b===Pe?a:null}),g.init(),{runner:new h1(s,e,a,g,o,d),logService:s}};addEventListener("message",({data:s})=>{if(!s)return;if("cancel"===s.type)return void(Fe=!0);if("start"!==s.type){if("optimize-positioning-start"!==s.type)return;Fe=!1;const{config:r,options:n}=s;try{const{runner:a}=JA(),l=zq({baseConfig:r,options:{side:n.side,batchSize:n.batchSize,maxSimulationsPerPermutation:n.maxSimulationsPerPermutation,confidenceZ:n.confidenceZ,minSamplesBeforeElimination:n.minSamplesBeforeElimination},shouldAbort:()=>Fe,onProgress:o=>{postMessage({type:"positioning-progress",progress:o})},simulateBatch:o=>a.run(o,{shouldAbort:()=>Fe})});Fe||l.aborted?postMessage({type:"positioning-aborted",result:l}):postMessage({type:"positioning-result",result:l})}catch(a){postMessage({type:"error",message:a instanceof Error?a.message:"Worker optimization failed."})}return}Fe=!1;const{config:e,progressInterval:t,showTriggerNamesInLogs:i}=s;try{const{runner:r,logService:n}=JA();n.setShowTriggerNamesInLogs(!!i);const a=r.run(e,{progressInterval:t??50,shouldAbort:()=>Fe,onProgress:l=>{postMessage({type:"progress",...l})}});postMessage(Fe?{type:"aborted",result:YA(a)}:{type:"result",result:YA(a)})}catch(r){postMessage({type:"error",message:r instanceof Error?r.message:"Worker simulation failed."})}})}}]);